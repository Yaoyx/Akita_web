function JL(c,R){for(var j=0;j<R.length;j++){const re=R[j];if(typeof re!="string"&&!Array.isArray(re)){for(const ge in re)if(ge!=="default"&&!(ge in c)){const Re=Object.getOwnPropertyDescriptor(re,ge);Re&&Object.defineProperty(c,ge,Re.get?Re:{enumerable:!0,get:()=>re[ge]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const R=document.createElement("link").relList;if(R&&R.supports&&R.supports("modulepreload"))return;for(const ge of document.querySelectorAll('link[rel="modulepreload"]'))re(ge);new MutationObserver(ge=>{for(const Re of ge)if(Re.type==="childList")for(const V of Re.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&re(V)}).observe(document,{childList:!0,subtree:!0});function j(ge){const Re={};return ge.integrity&&(Re.integrity=ge.integrity),ge.referrerPolicy&&(Re.referrerPolicy=ge.referrerPolicy),ge.crossOrigin==="use-credentials"?Re.credentials="include":ge.crossOrigin==="anonymous"?Re.credentials="omit":Re.credentials="same-origin",Re}function re(ge){if(ge.ep)return;ge.ep=!0;const Re=j(ge);fetch(ge.href,Re)}})();var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f1(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var BS={exports:{}},c1={},NS={exports:{}},yi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg=Symbol.for("react.element"),QL=Symbol.for("react.portal"),qL=Symbol.for("react.fragment"),eP=Symbol.for("react.strict_mode"),tP=Symbol.for("react.profiler"),rP=Symbol.for("react.provider"),nP=Symbol.for("react.context"),aP=Symbol.for("react.forward_ref"),iP=Symbol.for("react.suspense"),oP=Symbol.for("react.memo"),sP=Symbol.for("react.lazy"),uT=Symbol.iterator;function lP(c){return c===null||typeof c!="object"?null:(c=uT&&c[uT]||c["@@iterator"],typeof c=="function"?c:null)}var US={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VS=Object.assign,HS={};function Fp(c,R,j){this.props=c,this.context=R,this.refs=HS,this.updater=j||US}Fp.prototype.isReactComponent={};Fp.prototype.setState=function(c,R){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,R,"setState")};Fp.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function GS(){}GS.prototype=Fp.prototype;function gw(c,R,j){this.props=c,this.context=R,this.refs=HS,this.updater=j||US}var yw=gw.prototype=new GS;yw.constructor=gw;VS(yw,Fp.prototype);yw.isPureReactComponent=!0;var fT=Array.isArray,WS=Object.prototype.hasOwnProperty,mw={current:null},jS={key:!0,ref:!0,__self:!0,__source:!0};function YS(c,R,j){var re,ge={},Re=null,V=null;if(R!=null)for(re in R.ref!==void 0&&(V=R.ref),R.key!==void 0&&(Re=""+R.key),R)WS.call(R,re)&&!jS.hasOwnProperty(re)&&(ge[re]=R[re]);var B=arguments.length-2;if(B===1)ge.children=j;else if(1<B){for(var e=Array(B),p=0;p<B;p++)e[p]=arguments[p+2];ge.children=e}if(c&&c.defaultProps)for(re in B=c.defaultProps,B)ge[re]===void 0&&(ge[re]=B[re]);return{$$typeof:Rg,type:c,key:Re,ref:V,props:ge,_owner:mw.current}}function uP(c,R){return{$$typeof:Rg,type:c.type,key:R,ref:c.ref,props:c.props,_owner:c._owner}}function xw(c){return typeof c=="object"&&c!==null&&c.$$typeof===Rg}function fP(c){var R={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(j){return R[j]})}var cT=/\/+/g;function zx(c,R){return typeof c=="object"&&c!==null&&c.key!=null?fP(""+c.key):R.toString(36)}function Xy(c,R,j,re,ge){var Re=typeof c;(Re==="undefined"||Re==="boolean")&&(c=null);var V=!1;if(c===null)V=!0;else switch(Re){case"string":case"number":V=!0;break;case"object":switch(c.$$typeof){case Rg:case QL:V=!0}}if(V)return V=c,ge=ge(V),c=re===""?"."+zx(V,0):re,fT(ge)?(j="",c!=null&&(j=c.replace(cT,"$&/")+"/"),Xy(ge,R,j,"",function(p){return p})):ge!=null&&(xw(ge)&&(ge=uP(ge,j+(!ge.key||V&&V.key===ge.key?"":(""+ge.key).replace(cT,"$&/")+"/")+c)),R.push(ge)),1;if(V=0,re=re===""?".":re+":",fT(c))for(var B=0;B<c.length;B++){Re=c[B];var e=re+zx(Re,B);V+=Xy(Re,R,j,e,ge)}else if(e=lP(c),typeof e=="function")for(c=e.call(c),B=0;!(Re=c.next()).done;)Re=Re.value,e=re+zx(Re,B++),V+=Xy(Re,R,j,e,ge);else if(Re==="object")throw R=String(c),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return V}function my(c,R,j){if(c==null)return c;var re=[],ge=0;return Xy(c,re,"","",function(Re){return R.call(j,Re,ge++)}),re}function cP(c){if(c._status===-1){var R=c._result;R=R(),R.then(function(j){(c._status===0||c._status===-1)&&(c._status=1,c._result=j)},function(j){(c._status===0||c._status===-1)&&(c._status=2,c._result=j)}),c._status===-1&&(c._status=0,c._result=R)}if(c._status===1)return c._result.default;throw c._result}var hl={current:null},$y={transition:null},hP={ReactCurrentDispatcher:hl,ReactCurrentBatchConfig:$y,ReactCurrentOwner:mw};yi.Children={map:my,forEach:function(c,R,j){my(c,function(){R.apply(this,arguments)},j)},count:function(c){var R=0;return my(c,function(){R++}),R},toArray:function(c){return my(c,function(R){return R})||[]},only:function(c){if(!xw(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};yi.Component=Fp;yi.Fragment=qL;yi.Profiler=tP;yi.PureComponent=gw;yi.StrictMode=eP;yi.Suspense=iP;yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hP;yi.cloneElement=function(c,R,j){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var re=VS({},c.props),ge=c.key,Re=c.ref,V=c._owner;if(R!=null){if(R.ref!==void 0&&(Re=R.ref,V=mw.current),R.key!==void 0&&(ge=""+R.key),c.type&&c.type.defaultProps)var B=c.type.defaultProps;for(e in R)WS.call(R,e)&&!jS.hasOwnProperty(e)&&(re[e]=R[e]===void 0&&B!==void 0?B[e]:R[e])}var e=arguments.length-2;if(e===1)re.children=j;else if(1<e){B=Array(e);for(var p=0;p<e;p++)B[p]=arguments[p+2];re.children=B}return{$$typeof:Rg,type:c.type,key:ge,ref:Re,props:re,_owner:V}};yi.createContext=function(c){return c={$$typeof:nP,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:rP,_context:c},c.Consumer=c};yi.createElement=YS;yi.createFactory=function(c){var R=YS.bind(null,c);return R.type=c,R};yi.createRef=function(){return{current:null}};yi.forwardRef=function(c){return{$$typeof:aP,render:c}};yi.isValidElement=xw;yi.lazy=function(c){return{$$typeof:sP,_payload:{_status:-1,_result:c},_init:cP}};yi.memo=function(c,R){return{$$typeof:oP,type:c,compare:R===void 0?null:R}};yi.startTransition=function(c){var R=$y.transition;$y.transition={};try{c()}finally{$y.transition=R}};yi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yi.useCallback=function(c,R){return hl.current.useCallback(c,R)};yi.useContext=function(c){return hl.current.useContext(c)};yi.useDebugValue=function(){};yi.useDeferredValue=function(c){return hl.current.useDeferredValue(c)};yi.useEffect=function(c,R){return hl.current.useEffect(c,R)};yi.useId=function(){return hl.current.useId()};yi.useImperativeHandle=function(c,R,j){return hl.current.useImperativeHandle(c,R,j)};yi.useInsertionEffect=function(c,R){return hl.current.useInsertionEffect(c,R)};yi.useLayoutEffect=function(c,R){return hl.current.useLayoutEffect(c,R)};yi.useMemo=function(c,R){return hl.current.useMemo(c,R)};yi.useReducer=function(c,R,j){return hl.current.useReducer(c,R,j)};yi.useRef=function(c){return hl.current.useRef(c)};yi.useState=function(c){return hl.current.useState(c)};yi.useSyncExternalStore=function(c,R,j){return hl.current.useSyncExternalStore(c,R,j)};yi.useTransition=function(){return hl.current.useTransition()};yi.version="18.2.0";NS.exports=yi;var gn=NS.exports;const ul=f1(gn),Ub=JL({__proto__:null,default:ul},[gn]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP=gn,dP=Symbol.for("react.element"),pP=Symbol.for("react.fragment"),gP=Object.prototype.hasOwnProperty,yP=vP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mP={key:!0,ref:!0,__self:!0,__source:!0};function ZS(c,R,j){var re,ge={},Re=null,V=null;j!==void 0&&(Re=""+j),R.key!==void 0&&(Re=""+R.key),R.ref!==void 0&&(V=R.ref);for(re in R)gP.call(R,re)&&!mP.hasOwnProperty(re)&&(ge[re]=R[re]);if(c&&c.defaultProps)for(re in R=c.defaultProps,R)ge[re]===void 0&&(ge[re]=R[re]);return{$$typeof:dP,type:c,key:Re,ref:V,props:ge,_owner:yP.current}}c1.Fragment=pP;c1.jsx=ZS;c1.jsxs=ZS;BS.exports=c1;var Gn=BS.exports,Vb={},XS={exports:{}},au={},$S={exports:{}},KS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function R(b,o){var P=b.length;b.push(o);e:for(;0<P;){var x=P-1>>>1,z=b[x];if(0<ge(z,o))b[x]=o,b[P]=z,P=x;else break e}}function j(b){return b.length===0?null:b[0]}function re(b){if(b.length===0)return null;var o=b[0],P=b.pop();if(P!==o){b[0]=P;e:for(var x=0,z=b.length,_=z>>>1;x<_;){var G=2*(x+1)-1,F=b[G],N=G+1,U=b[N];if(0>ge(F,P))N<z&&0>ge(U,F)?(b[x]=U,b[N]=P,x=N):(b[x]=F,b[G]=P,x=G);else if(N<z&&0>ge(U,P))b[x]=U,b[N]=P,x=N;else break e}}return o}function ge(b,o){var P=b.sortIndex-o.sortIndex;return P!==0?P:b.id-o.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Re=performance;c.unstable_now=function(){return Re.now()}}else{var V=Date,B=V.now();c.unstable_now=function(){return V.now()-B}}var e=[],p=[],L=1,n=null,C=3,T=!1,d=!1,y=!1,r=typeof setTimeout=="function"?setTimeout:null,t=typeof clearTimeout=="function"?clearTimeout:null,i=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(b){for(var o=j(p);o!==null;){if(o.callback===null)re(p);else if(o.startTime<=b)re(p),o.sortIndex=o.expirationTime,R(e,o);else break;o=j(p)}}function h(b){if(y=!1,a(b),!d)if(j(e)!==null)d=!0,w(u);else{var o=j(p);o!==null&&E(h,o.startTime-b)}}function u(b,o){d=!1,y&&(y=!1,t(f),f=-1),T=!0;var P=C;try{for(a(o),n=j(e);n!==null&&(!(n.expirationTime>o)||b&&!l());){var x=n.callback;if(typeof x=="function"){n.callback=null,C=n.priorityLevel;var z=x(n.expirationTime<=o);o=c.unstable_now(),typeof z=="function"?n.callback=z:n===j(e)&&re(e),a(o)}else re(e);n=j(e)}if(n!==null)var _=!0;else{var G=j(p);G!==null&&E(h,G.startTime-o),_=!1}return _}finally{n=null,C=P,T=!1}}var s=!1,m=null,f=-1,S=5,v=-1;function l(){return!(c.unstable_now()-v<S)}function g(){if(m!==null){var b=c.unstable_now();v=b;var o=!0;try{o=m(!0,b)}finally{o?M():(s=!1,m=null)}}else s=!1}var M;if(typeof i=="function")M=function(){i(g)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,k=A.port2;A.port1.onmessage=g,M=function(){k.postMessage(null)}}else M=function(){r(g,0)};function w(b){m=b,s||(s=!0,M())}function E(b,o){f=r(function(){b(c.unstable_now())},o)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(b){b.callback=null},c.unstable_continueExecution=function(){d||T||(d=!0,w(u))},c.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<b?Math.floor(1e3/b):5},c.unstable_getCurrentPriorityLevel=function(){return C},c.unstable_getFirstCallbackNode=function(){return j(e)},c.unstable_next=function(b){switch(C){case 1:case 2:case 3:var o=3;break;default:o=C}var P=C;C=o;try{return b()}finally{C=P}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(b,o){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var P=C;C=b;try{return o()}finally{C=P}},c.unstable_scheduleCallback=function(b,o,P){var x=c.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?x+P:x):P=x,b){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=P+z,b={id:L++,callback:o,priorityLevel:b,startTime:P,expirationTime:z,sortIndex:-1},P>x?(b.sortIndex=P,R(p,b),j(e)===null&&b===j(p)&&(y?(t(f),f=-1):y=!0,E(h,P-x))):(b.sortIndex=z,R(e,b),d||T||(d=!0,w(u))),b},c.unstable_shouldYield=l,c.unstable_wrapCallback=function(b){var o=C;return function(){var P=C;C=o;try{return b.apply(this,arguments)}finally{C=P}}}})(KS);$S.exports=KS;var xP=$S.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JS=gn,ru=xP;function ba(c){for(var R="https://reactjs.org/docs/error-decoder.html?invariant="+c,j=1;j<arguments.length;j++)R+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+c+"; visit "+R+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QS=new Set,tg={};function cd(c,R){Sp(c,R),Sp(c+"Capture",R)}function Sp(c,R){for(tg[c]=R,c=0;c<R.length;c++)QS.add(R[c])}var Wc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hb=Object.prototype.hasOwnProperty,bP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hT={},vT={};function wP(c){return Hb.call(vT,c)?!0:Hb.call(hT,c)?!1:bP.test(c)?vT[c]=!0:(hT[c]=!0,!1)}function TP(c,R,j,re){if(j!==null&&j.type===0)return!1;switch(typeof R){case"function":case"symbol":return!0;case"boolean":return re?!1:j!==null?!j.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function AP(c,R,j,re){if(R===null||typeof R>"u"||TP(c,R,j,re))return!0;if(re)return!1;if(j!==null)switch(j.type){case 3:return!R;case 4:return R===!1;case 5:return isNaN(R);case 6:return isNaN(R)||1>R}return!1}function vl(c,R,j,re,ge,Re,V){this.acceptsBooleans=R===2||R===3||R===4,this.attributeName=re,this.attributeNamespace=ge,this.mustUseProperty=j,this.propertyName=c,this.type=R,this.sanitizeURL=Re,this.removeEmptyString=V}var _s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){_s[c]=new vl(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var R=c[0];_s[R]=new vl(R,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){_s[c]=new vl(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){_s[c]=new vl(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){_s[c]=new vl(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){_s[c]=new vl(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){_s[c]=new vl(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){_s[c]=new vl(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){_s[c]=new vl(c,5,!1,c.toLowerCase(),null,!1,!1)});var bw=/[\-:]([a-z])/g;function ww(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var R=c.replace(bw,ww);_s[R]=new vl(R,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var R=c.replace(bw,ww);_s[R]=new vl(R,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var R=c.replace(bw,ww);_s[R]=new vl(R,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){_s[c]=new vl(c,1,!1,c.toLowerCase(),null,!1,!1)});_s.xlinkHref=new vl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){_s[c]=new vl(c,1,!1,c.toLowerCase(),null,!0,!0)});function Tw(c,R,j,re){var ge=_s.hasOwnProperty(R)?_s[R]:null;(ge!==null?ge.type!==0:re||!(2<R.length)||R[0]!=="o"&&R[0]!=="O"||R[1]!=="n"&&R[1]!=="N")&&(AP(R,j,ge,re)&&(j=null),re||ge===null?wP(R)&&(j===null?c.removeAttribute(R):c.setAttribute(R,""+j)):ge.mustUseProperty?c[ge.propertyName]=j===null?ge.type===3?!1:"":j:(R=ge.attributeName,re=ge.attributeNamespace,j===null?c.removeAttribute(R):(ge=ge.type,j=ge===3||ge===4&&j===!0?"":""+j,re?c.setAttributeNS(re,R,j):c.setAttribute(R,j))))}var Kc=JS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xy=Symbol.for("react.element"),Wd=Symbol.for("react.portal"),jd=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),qS=Symbol.for("react.provider"),e6=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),Wb=Symbol.for("react.suspense"),jb=Symbol.for("react.suspense_list"),Mw=Symbol.for("react.memo"),Nh=Symbol.for("react.lazy"),t6=Symbol.for("react.offscreen"),dT=Symbol.iterator;function l0(c){return c===null||typeof c!="object"?null:(c=dT&&c[dT]||c["@@iterator"],typeof c=="function"?c:null)}var Lo=Object.assign,Fx;function T0(c){if(Fx===void 0)try{throw Error()}catch(j){var R=j.stack.trim().match(/\n( *(at )?)/);Fx=R&&R[1]||""}return`
`+Fx+c}var Ox=!1;function Bx(c,R){if(!c||Ox)return"";Ox=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(R)if(R=function(){throw Error()},Object.defineProperty(R.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(R,[])}catch(p){var re=p}Reflect.construct(c,[],R)}else{try{R.call()}catch(p){re=p}c.call(R.prototype)}else{try{throw Error()}catch(p){re=p}c()}}catch(p){if(p&&re&&typeof p.stack=="string"){for(var ge=p.stack.split(`
`),Re=re.stack.split(`
`),V=ge.length-1,B=Re.length-1;1<=V&&0<=B&&ge[V]!==Re[B];)B--;for(;1<=V&&0<=B;V--,B--)if(ge[V]!==Re[B]){if(V!==1||B!==1)do if(V--,B--,0>B||ge[V]!==Re[B]){var e=`
`+ge[V].replace(" at new "," at ");return c.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",c.displayName)),e}while(1<=V&&0<=B);break}}}finally{Ox=!1,Error.prepareStackTrace=j}return(c=c?c.displayName||c.name:"")?T0(c):""}function SP(c){switch(c.tag){case 5:return T0(c.type);case 16:return T0("Lazy");case 13:return T0("Suspense");case 19:return T0("SuspenseList");case 0:case 2:case 15:return c=Bx(c.type,!1),c;case 11:return c=Bx(c.type.render,!1),c;case 1:return c=Bx(c.type,!0),c;default:return""}}function Yb(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case jd:return"Fragment";case Wd:return"Portal";case Gb:return"Profiler";case Aw:return"StrictMode";case Wb:return"Suspense";case jb:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case e6:return(c.displayName||"Context")+".Consumer";case qS:return(c._context.displayName||"Context")+".Provider";case Sw:var R=c.render;return c=c.displayName,c||(c=R.displayName||R.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Mw:return R=c.displayName||null,R!==null?R:Yb(c.type)||"Memo";case Nh:R=c._payload,c=c._init;try{return Yb(c(R))}catch{}}return null}function MP(c){var R=c.type;switch(c.tag){case 24:return"Cache";case 9:return(R.displayName||"Context")+".Consumer";case 10:return(R._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=R.render,c=c.displayName||c.name||"",R.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return R;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yb(R);case 8:return R===Aw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof R=="function")return R.displayName||R.name||null;if(typeof R=="string")return R}return null}function ov(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function r6(c){var R=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(R==="checkbox"||R==="radio")}function EP(c){var R=r6(c)?"checked":"value",j=Object.getOwnPropertyDescriptor(c.constructor.prototype,R),re=""+c[R];if(!c.hasOwnProperty(R)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var ge=j.get,Re=j.set;return Object.defineProperty(c,R,{configurable:!0,get:function(){return ge.call(this)},set:function(V){re=""+V,Re.call(this,V)}}),Object.defineProperty(c,R,{enumerable:j.enumerable}),{getValue:function(){return re},setValue:function(V){re=""+V},stopTracking:function(){c._valueTracker=null,delete c[R]}}}}function by(c){c._valueTracker||(c._valueTracker=EP(c))}function n6(c){if(!c)return!1;var R=c._valueTracker;if(!R)return!0;var j=R.getValue(),re="";return c&&(re=r6(c)?c.checked?"true":"false":c.value),c=re,c!==j?(R.setValue(c),!0):!1}function Tm(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Zb(c,R){var j=R.checked;return Lo({},R,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??c._wrapperState.initialChecked})}function pT(c,R){var j=R.defaultValue==null?"":R.defaultValue,re=R.checked!=null?R.checked:R.defaultChecked;j=ov(R.value!=null?R.value:j),c._wrapperState={initialChecked:re,initialValue:j,controlled:R.type==="checkbox"||R.type==="radio"?R.checked!=null:R.value!=null}}function a6(c,R){R=R.checked,R!=null&&Tw(c,"checked",R,!1)}function Xb(c,R){a6(c,R);var j=ov(R.value),re=R.type;if(j!=null)re==="number"?(j===0&&c.value===""||c.value!=j)&&(c.value=""+j):c.value!==""+j&&(c.value=""+j);else if(re==="submit"||re==="reset"){c.removeAttribute("value");return}R.hasOwnProperty("value")?$b(c,R.type,j):R.hasOwnProperty("defaultValue")&&$b(c,R.type,ov(R.defaultValue)),R.checked==null&&R.defaultChecked!=null&&(c.defaultChecked=!!R.defaultChecked)}function gT(c,R,j){if(R.hasOwnProperty("value")||R.hasOwnProperty("defaultValue")){var re=R.type;if(!(re!=="submit"&&re!=="reset"||R.value!==void 0&&R.value!==null))return;R=""+c._wrapperState.initialValue,j||R===c.value||(c.value=R),c.defaultValue=R}j=c.name,j!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,j!==""&&(c.name=j)}function $b(c,R,j){(R!=="number"||Tm(c.ownerDocument)!==c)&&(j==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+j&&(c.defaultValue=""+j))}var A0=Array.isArray;function hp(c,R,j,re){if(c=c.options,R){R={};for(var ge=0;ge<j.length;ge++)R["$"+j[ge]]=!0;for(j=0;j<c.length;j++)ge=R.hasOwnProperty("$"+c[j].value),c[j].selected!==ge&&(c[j].selected=ge),ge&&re&&(c[j].defaultSelected=!0)}else{for(j=""+ov(j),R=null,ge=0;ge<c.length;ge++){if(c[ge].value===j){c[ge].selected=!0,re&&(c[ge].defaultSelected=!0);return}R!==null||c[ge].disabled||(R=c[ge])}R!==null&&(R.selected=!0)}}function Kb(c,R){if(R.dangerouslySetInnerHTML!=null)throw Error(ba(91));return Lo({},R,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function yT(c,R){var j=R.value;if(j==null){if(j=R.children,R=R.defaultValue,j!=null){if(R!=null)throw Error(ba(92));if(A0(j)){if(1<j.length)throw Error(ba(93));j=j[0]}R=j}R==null&&(R=""),j=R}c._wrapperState={initialValue:ov(j)}}function i6(c,R){var j=ov(R.value),re=ov(R.defaultValue);j!=null&&(j=""+j,j!==c.value&&(c.value=j),R.defaultValue==null&&c.defaultValue!==j&&(c.defaultValue=j)),re!=null&&(c.defaultValue=""+re)}function mT(c){var R=c.textContent;R===c._wrapperState.initialValue&&R!==""&&R!==null&&(c.value=R)}function o6(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jb(c,R){return c==null||c==="http://www.w3.org/1999/xhtml"?o6(R):c==="http://www.w3.org/2000/svg"&&R==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var wy,s6=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(R,j,re,ge){MSApp.execUnsafeLocalFunction(function(){return c(R,j,re,ge)})}:c}(function(c,R){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=R;else{for(wy=wy||document.createElement("div"),wy.innerHTML="<svg>"+R.valueOf().toString()+"</svg>",R=wy.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;R.firstChild;)c.appendChild(R.firstChild)}});function rg(c,R){if(R){var j=c.firstChild;if(j&&j===c.lastChild&&j.nodeType===3){j.nodeValue=R;return}}c.textContent=R}var _0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CP=["Webkit","ms","Moz","O"];Object.keys(_0).forEach(function(c){CP.forEach(function(R){R=R+c.charAt(0).toUpperCase()+c.substring(1),_0[R]=_0[c]})});function l6(c,R,j){return R==null||typeof R=="boolean"||R===""?"":j||typeof R!="number"||R===0||_0.hasOwnProperty(c)&&_0[c]?(""+R).trim():R+"px"}function u6(c,R){c=c.style;for(var j in R)if(R.hasOwnProperty(j)){var re=j.indexOf("--")===0,ge=l6(j,R[j],re);j==="float"&&(j="cssFloat"),re?c.setProperty(j,ge):c[j]=ge}}var LP=Lo({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qb(c,R){if(R){if(LP[c]&&(R.children!=null||R.dangerouslySetInnerHTML!=null))throw Error(ba(137,c));if(R.dangerouslySetInnerHTML!=null){if(R.children!=null)throw Error(ba(60));if(typeof R.dangerouslySetInnerHTML!="object"||!("__html"in R.dangerouslySetInnerHTML))throw Error(ba(61))}if(R.style!=null&&typeof R.style!="object")throw Error(ba(62))}}function qb(c,R){if(c.indexOf("-")===-1)return typeof R.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e3=null;function Ew(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var t3=null,vp=null,dp=null;function xT(c){if(c=Ig(c)){if(typeof t3!="function")throw Error(ba(280));var R=c.stateNode;R&&(R=g1(R),t3(c.stateNode,c.type,R))}}function f6(c){vp?dp?dp.push(c):dp=[c]:vp=c}function c6(){if(vp){var c=vp,R=dp;if(dp=vp=null,xT(c),R)for(c=0;c<R.length;c++)xT(R[c])}}function h6(c,R){return c(R)}function v6(){}var Nx=!1;function d6(c,R,j){if(Nx)return c(R,j);Nx=!0;try{return h6(c,R,j)}finally{Nx=!1,(vp!==null||dp!==null)&&(v6(),c6())}}function ng(c,R){var j=c.stateNode;if(j===null)return null;var re=g1(j);if(re===null)return null;j=re[R];e:switch(R){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(re=!re.disabled)||(c=c.type,re=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!re;break e;default:c=!1}if(c)return null;if(j&&typeof j!="function")throw Error(ba(231,R,typeof j));return j}var r3=!1;if(Wc)try{var u0={};Object.defineProperty(u0,"passive",{get:function(){r3=!0}}),window.addEventListener("test",u0,u0),window.removeEventListener("test",u0,u0)}catch{r3=!1}function PP(c,R,j,re,ge,Re,V,B,e){var p=Array.prototype.slice.call(arguments,3);try{R.apply(j,p)}catch(L){this.onError(L)}}var z0=!1,Am=null,Sm=!1,n3=null,RP={onError:function(c){z0=!0,Am=c}};function kP(c,R,j,re,ge,Re,V,B,e){z0=!1,Am=null,PP.apply(RP,arguments)}function DP(c,R,j,re,ge,Re,V,B,e){if(kP.apply(this,arguments),z0){if(z0){var p=Am;z0=!1,Am=null}else throw Error(ba(198));Sm||(Sm=!0,n3=p)}}function hd(c){var R=c,j=c;if(c.alternate)for(;R.return;)R=R.return;else{c=R;do R=c,R.flags&4098&&(j=R.return),c=R.return;while(c)}return R.tag===3?j:null}function p6(c){if(c.tag===13){var R=c.memoizedState;if(R===null&&(c=c.alternate,c!==null&&(R=c.memoizedState)),R!==null)return R.dehydrated}return null}function bT(c){if(hd(c)!==c)throw Error(ba(188))}function IP(c){var R=c.alternate;if(!R){if(R=hd(c),R===null)throw Error(ba(188));return R!==c?null:c}for(var j=c,re=R;;){var ge=j.return;if(ge===null)break;var Re=ge.alternate;if(Re===null){if(re=ge.return,re!==null){j=re;continue}break}if(ge.child===Re.child){for(Re=ge.child;Re;){if(Re===j)return bT(ge),c;if(Re===re)return bT(ge),R;Re=Re.sibling}throw Error(ba(188))}if(j.return!==re.return)j=ge,re=Re;else{for(var V=!1,B=ge.child;B;){if(B===j){V=!0,j=ge,re=Re;break}if(B===re){V=!0,re=ge,j=Re;break}B=B.sibling}if(!V){for(B=Re.child;B;){if(B===j){V=!0,j=Re,re=ge;break}if(B===re){V=!0,re=Re,j=ge;break}B=B.sibling}if(!V)throw Error(ba(189))}}if(j.alternate!==re)throw Error(ba(190))}if(j.tag!==3)throw Error(ba(188));return j.stateNode.current===j?c:R}function g6(c){return c=IP(c),c!==null?y6(c):null}function y6(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var R=y6(c);if(R!==null)return R;c=c.sibling}return null}var m6=ru.unstable_scheduleCallback,wT=ru.unstable_cancelCallback,_P=ru.unstable_shouldYield,zP=ru.unstable_requestPaint,Ho=ru.unstable_now,FP=ru.unstable_getCurrentPriorityLevel,Cw=ru.unstable_ImmediatePriority,x6=ru.unstable_UserBlockingPriority,Mm=ru.unstable_NormalPriority,OP=ru.unstable_LowPriority,b6=ru.unstable_IdlePriority,h1=null,qf=null;function BP(c){if(qf&&typeof qf.onCommitFiberRoot=="function")try{qf.onCommitFiberRoot(h1,c,void 0,(c.current.flags&128)===128)}catch{}}var Tf=Math.clz32?Math.clz32:VP,NP=Math.log,UP=Math.LN2;function VP(c){return c>>>=0,c===0?32:31-(NP(c)/UP|0)|0}var Ty=64,Ay=4194304;function S0(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Em(c,R){var j=c.pendingLanes;if(j===0)return 0;var re=0,ge=c.suspendedLanes,Re=c.pingedLanes,V=j&268435455;if(V!==0){var B=V&~ge;B!==0?re=S0(B):(Re&=V,Re!==0&&(re=S0(Re)))}else V=j&~ge,V!==0?re=S0(V):Re!==0&&(re=S0(Re));if(re===0)return 0;if(R!==0&&R!==re&&!(R&ge)&&(ge=re&-re,Re=R&-R,ge>=Re||ge===16&&(Re&4194240)!==0))return R;if(re&4&&(re|=j&16),R=c.entangledLanes,R!==0)for(c=c.entanglements,R&=re;0<R;)j=31-Tf(R),ge=1<<j,re|=c[j],R&=~ge;return re}function HP(c,R){switch(c){case 1:case 2:case 4:return R+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return R+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GP(c,R){for(var j=c.suspendedLanes,re=c.pingedLanes,ge=c.expirationTimes,Re=c.pendingLanes;0<Re;){var V=31-Tf(Re),B=1<<V,e=ge[V];e===-1?(!(B&j)||B&re)&&(ge[V]=HP(B,R)):e<=R&&(c.expiredLanes|=B),Re&=~B}}function a3(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function w6(){var c=Ty;return Ty<<=1,!(Ty&4194240)&&(Ty=64),c}function Ux(c){for(var R=[],j=0;31>j;j++)R.push(c);return R}function kg(c,R,j){c.pendingLanes|=R,R!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,R=31-Tf(R),c[R]=j}function WP(c,R){var j=c.pendingLanes&~R;c.pendingLanes=R,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=R,c.mutableReadLanes&=R,c.entangledLanes&=R,R=c.entanglements;var re=c.eventTimes;for(c=c.expirationTimes;0<j;){var ge=31-Tf(j),Re=1<<ge;R[ge]=0,re[ge]=-1,c[ge]=-1,j&=~Re}}function Lw(c,R){var j=c.entangledLanes|=R;for(c=c.entanglements;j;){var re=31-Tf(j),ge=1<<re;ge&R|c[re]&R&&(c[re]|=R),j&=~ge}}var Vi=0;function T6(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var A6,Pw,S6,M6,E6,i3=!1,Sy=[],$h=null,Kh=null,Jh=null,ag=new Map,ig=new Map,Hh=[],jP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TT(c,R){switch(c){case"focusin":case"focusout":$h=null;break;case"dragenter":case"dragleave":Kh=null;break;case"mouseover":case"mouseout":Jh=null;break;case"pointerover":case"pointerout":ag.delete(R.pointerId);break;case"gotpointercapture":case"lostpointercapture":ig.delete(R.pointerId)}}function f0(c,R,j,re,ge,Re){return c===null||c.nativeEvent!==Re?(c={blockedOn:R,domEventName:j,eventSystemFlags:re,nativeEvent:Re,targetContainers:[ge]},R!==null&&(R=Ig(R),R!==null&&Pw(R)),c):(c.eventSystemFlags|=re,R=c.targetContainers,ge!==null&&R.indexOf(ge)===-1&&R.push(ge),c)}function YP(c,R,j,re,ge){switch(R){case"focusin":return $h=f0($h,c,R,j,re,ge),!0;case"dragenter":return Kh=f0(Kh,c,R,j,re,ge),!0;case"mouseover":return Jh=f0(Jh,c,R,j,re,ge),!0;case"pointerover":var Re=ge.pointerId;return ag.set(Re,f0(ag.get(Re)||null,c,R,j,re,ge)),!0;case"gotpointercapture":return Re=ge.pointerId,ig.set(Re,f0(ig.get(Re)||null,c,R,j,re,ge)),!0}return!1}function C6(c){var R=Kv(c.target);if(R!==null){var j=hd(R);if(j!==null){if(R=j.tag,R===13){if(R=p6(j),R!==null){c.blockedOn=R,E6(c.priority,function(){S6(j)});return}}else if(R===3&&j.stateNode.current.memoizedState.isDehydrated){c.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ky(c){if(c.blockedOn!==null)return!1;for(var R=c.targetContainers;0<R.length;){var j=o3(c.domEventName,c.eventSystemFlags,R[0],c.nativeEvent);if(j===null){j=c.nativeEvent;var re=new j.constructor(j.type,j);e3=re,j.target.dispatchEvent(re),e3=null}else return R=Ig(j),R!==null&&Pw(R),c.blockedOn=j,!1;R.shift()}return!0}function AT(c,R,j){Ky(c)&&j.delete(R)}function ZP(){i3=!1,$h!==null&&Ky($h)&&($h=null),Kh!==null&&Ky(Kh)&&(Kh=null),Jh!==null&&Ky(Jh)&&(Jh=null),ag.forEach(AT),ig.forEach(AT)}function c0(c,R){c.blockedOn===R&&(c.blockedOn=null,i3||(i3=!0,ru.unstable_scheduleCallback(ru.unstable_NormalPriority,ZP)))}function og(c){function R(ge){return c0(ge,c)}if(0<Sy.length){c0(Sy[0],c);for(var j=1;j<Sy.length;j++){var re=Sy[j];re.blockedOn===c&&(re.blockedOn=null)}}for($h!==null&&c0($h,c),Kh!==null&&c0(Kh,c),Jh!==null&&c0(Jh,c),ag.forEach(R),ig.forEach(R),j=0;j<Hh.length;j++)re=Hh[j],re.blockedOn===c&&(re.blockedOn=null);for(;0<Hh.length&&(j=Hh[0],j.blockedOn===null);)C6(j),j.blockedOn===null&&Hh.shift()}var pp=Kc.ReactCurrentBatchConfig,Cm=!0;function XP(c,R,j,re){var ge=Vi,Re=pp.transition;pp.transition=null;try{Vi=1,Rw(c,R,j,re)}finally{Vi=ge,pp.transition=Re}}function $P(c,R,j,re){var ge=Vi,Re=pp.transition;pp.transition=null;try{Vi=4,Rw(c,R,j,re)}finally{Vi=ge,pp.transition=Re}}function Rw(c,R,j,re){if(Cm){var ge=o3(c,R,j,re);if(ge===null)Kx(c,R,re,Lm,j),TT(c,re);else if(YP(ge,c,R,j,re))re.stopPropagation();else if(TT(c,re),R&4&&-1<jP.indexOf(c)){for(;ge!==null;){var Re=Ig(ge);if(Re!==null&&A6(Re),Re=o3(c,R,j,re),Re===null&&Kx(c,R,re,Lm,j),Re===ge)break;ge=Re}ge!==null&&re.stopPropagation()}else Kx(c,R,re,null,j)}}var Lm=null;function o3(c,R,j,re){if(Lm=null,c=Ew(re),c=Kv(c),c!==null)if(R=hd(c),R===null)c=null;else if(j=R.tag,j===13){if(c=p6(R),c!==null)return c;c=null}else if(j===3){if(R.stateNode.current.memoizedState.isDehydrated)return R.tag===3?R.stateNode.containerInfo:null;c=null}else R!==c&&(c=null);return Lm=c,null}function L6(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FP()){case Cw:return 1;case x6:return 4;case Mm:case OP:return 16;case b6:return 536870912;default:return 16}default:return 16}}var jh=null,kw=null,Jy=null;function P6(){if(Jy)return Jy;var c,R=kw,j=R.length,re,ge="value"in jh?jh.value:jh.textContent,Re=ge.length;for(c=0;c<j&&R[c]===ge[c];c++);var V=j-c;for(re=1;re<=V&&R[j-re]===ge[Re-re];re++);return Jy=ge.slice(c,1<re?1-re:void 0)}function Qy(c){var R=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&R===13&&(c=13)):c=R,c===10&&(c=13),32<=c||c===13?c:0}function My(){return!0}function ST(){return!1}function iu(c){function R(j,re,ge,Re,V){this._reactName=j,this._targetInst=ge,this.type=re,this.nativeEvent=Re,this.target=V,this.currentTarget=null;for(var B in c)c.hasOwnProperty(B)&&(j=c[B],this[B]=j?j(Re):Re[B]);return this.isDefaultPrevented=(Re.defaultPrevented!=null?Re.defaultPrevented:Re.returnValue===!1)?My:ST,this.isPropagationStopped=ST,this}return Lo(R.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=My)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=My)},persist:function(){},isPersistent:My}),R}var Op={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dw=iu(Op),Dg=Lo({},Op,{view:0,detail:0}),KP=iu(Dg),Vx,Hx,h0,v1=Lo({},Dg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iw,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==h0&&(h0&&c.type==="mousemove"?(Vx=c.screenX-h0.screenX,Hx=c.screenY-h0.screenY):Hx=Vx=0,h0=c),Vx)},movementY:function(c){return"movementY"in c?c.movementY:Hx}}),MT=iu(v1),JP=Lo({},v1,{dataTransfer:0}),QP=iu(JP),qP=Lo({},Dg,{relatedTarget:0}),Gx=iu(qP),eR=Lo({},Op,{animationName:0,elapsedTime:0,pseudoElement:0}),tR=iu(eR),rR=Lo({},Op,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),nR=iu(rR),aR=Lo({},Op,{data:0}),ET=iu(aR),iR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lR(c){var R=this.nativeEvent;return R.getModifierState?R.getModifierState(c):(c=sR[c])?!!R[c]:!1}function Iw(){return lR}var uR=Lo({},Dg,{key:function(c){if(c.key){var R=iR[c.key]||c.key;if(R!=="Unidentified")return R}return c.type==="keypress"?(c=Qy(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?oR[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iw,charCode:function(c){return c.type==="keypress"?Qy(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Qy(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),fR=iu(uR),cR=Lo({},v1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),CT=iu(cR),hR=Lo({},Dg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iw}),vR=iu(hR),dR=Lo({},Op,{propertyName:0,elapsedTime:0,pseudoElement:0}),pR=iu(dR),gR=Lo({},v1,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),yR=iu(gR),mR=[9,13,27,32],_w=Wc&&"CompositionEvent"in window,F0=null;Wc&&"documentMode"in document&&(F0=document.documentMode);var xR=Wc&&"TextEvent"in window&&!F0,R6=Wc&&(!_w||F0&&8<F0&&11>=F0),LT=" ",PT=!1;function k6(c,R){switch(c){case"keyup":return mR.indexOf(R.keyCode)!==-1;case"keydown":return R.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D6(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Yd=!1;function bR(c,R){switch(c){case"compositionend":return D6(R);case"keypress":return R.which!==32?null:(PT=!0,LT);case"textInput":return c=R.data,c===LT&&PT?null:c;default:return null}}function wR(c,R){if(Yd)return c==="compositionend"||!_w&&k6(c,R)?(c=P6(),Jy=kw=jh=null,Yd=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(R.ctrlKey||R.altKey||R.metaKey)||R.ctrlKey&&R.altKey){if(R.char&&1<R.char.length)return R.char;if(R.which)return String.fromCharCode(R.which)}return null;case"compositionend":return R6&&R.locale!=="ko"?null:R.data;default:return null}}var TR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RT(c){var R=c&&c.nodeName&&c.nodeName.toLowerCase();return R==="input"?!!TR[c.type]:R==="textarea"}function I6(c,R,j,re){f6(re),R=Pm(R,"onChange"),0<R.length&&(j=new Dw("onChange","change",null,j,re),c.push({event:j,listeners:R}))}var O0=null,sg=null;function AR(c){W6(c,0)}function d1(c){var R=$d(c);if(n6(R))return c}function SR(c,R){if(c==="change")return R}var _6=!1;if(Wc){var Wx;if(Wc){var jx="oninput"in document;if(!jx){var kT=document.createElement("div");kT.setAttribute("oninput","return;"),jx=typeof kT.oninput=="function"}Wx=jx}else Wx=!1;_6=Wx&&(!document.documentMode||9<document.documentMode)}function DT(){O0&&(O0.detachEvent("onpropertychange",z6),sg=O0=null)}function z6(c){if(c.propertyName==="value"&&d1(sg)){var R=[];I6(R,sg,c,Ew(c)),d6(AR,R)}}function MR(c,R,j){c==="focusin"?(DT(),O0=R,sg=j,O0.attachEvent("onpropertychange",z6)):c==="focusout"&&DT()}function ER(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return d1(sg)}function CR(c,R){if(c==="click")return d1(R)}function LR(c,R){if(c==="input"||c==="change")return d1(R)}function PR(c,R){return c===R&&(c!==0||1/c===1/R)||c!==c&&R!==R}var Sf=typeof Object.is=="function"?Object.is:PR;function lg(c,R){if(Sf(c,R))return!0;if(typeof c!="object"||c===null||typeof R!="object"||R===null)return!1;var j=Object.keys(c),re=Object.keys(R);if(j.length!==re.length)return!1;for(re=0;re<j.length;re++){var ge=j[re];if(!Hb.call(R,ge)||!Sf(c[ge],R[ge]))return!1}return!0}function IT(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function _T(c,R){var j=IT(c);c=0;for(var re;j;){if(j.nodeType===3){if(re=c+j.textContent.length,c<=R&&re>=R)return{node:j,offset:R-c};c=re}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=IT(j)}}function F6(c,R){return c&&R?c===R?!0:c&&c.nodeType===3?!1:R&&R.nodeType===3?F6(c,R.parentNode):"contains"in c?c.contains(R):c.compareDocumentPosition?!!(c.compareDocumentPosition(R)&16):!1:!1}function O6(){for(var c=window,R=Tm();R instanceof c.HTMLIFrameElement;){try{var j=typeof R.contentWindow.location.href=="string"}catch{j=!1}if(j)c=R.contentWindow;else break;R=Tm(c.document)}return R}function zw(c){var R=c&&c.nodeName&&c.nodeName.toLowerCase();return R&&(R==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||R==="textarea"||c.contentEditable==="true")}function RR(c){var R=O6(),j=c.focusedElem,re=c.selectionRange;if(R!==j&&j&&j.ownerDocument&&F6(j.ownerDocument.documentElement,j)){if(re!==null&&zw(j)){if(R=re.start,c=re.end,c===void 0&&(c=R),"selectionStart"in j)j.selectionStart=R,j.selectionEnd=Math.min(c,j.value.length);else if(c=(R=j.ownerDocument||document)&&R.defaultView||window,c.getSelection){c=c.getSelection();var ge=j.textContent.length,Re=Math.min(re.start,ge);re=re.end===void 0?Re:Math.min(re.end,ge),!c.extend&&Re>re&&(ge=re,re=Re,Re=ge),ge=_T(j,Re);var V=_T(j,re);ge&&V&&(c.rangeCount!==1||c.anchorNode!==ge.node||c.anchorOffset!==ge.offset||c.focusNode!==V.node||c.focusOffset!==V.offset)&&(R=R.createRange(),R.setStart(ge.node,ge.offset),c.removeAllRanges(),Re>re?(c.addRange(R),c.extend(V.node,V.offset)):(R.setEnd(V.node,V.offset),c.addRange(R)))}}for(R=[],c=j;c=c.parentNode;)c.nodeType===1&&R.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<R.length;j++)c=R[j],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var kR=Wc&&"documentMode"in document&&11>=document.documentMode,Zd=null,s3=null,B0=null,l3=!1;function zT(c,R,j){var re=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;l3||Zd==null||Zd!==Tm(re)||(re=Zd,"selectionStart"in re&&zw(re)?re={start:re.selectionStart,end:re.selectionEnd}:(re=(re.ownerDocument&&re.ownerDocument.defaultView||window).getSelection(),re={anchorNode:re.anchorNode,anchorOffset:re.anchorOffset,focusNode:re.focusNode,focusOffset:re.focusOffset}),B0&&lg(B0,re)||(B0=re,re=Pm(s3,"onSelect"),0<re.length&&(R=new Dw("onSelect","select",null,R,j),c.push({event:R,listeners:re}),R.target=Zd)))}function Ey(c,R){var j={};return j[c.toLowerCase()]=R.toLowerCase(),j["Webkit"+c]="webkit"+R,j["Moz"+c]="moz"+R,j}var Xd={animationend:Ey("Animation","AnimationEnd"),animationiteration:Ey("Animation","AnimationIteration"),animationstart:Ey("Animation","AnimationStart"),transitionend:Ey("Transition","TransitionEnd")},Yx={},B6={};Wc&&(B6=document.createElement("div").style,"AnimationEvent"in window||(delete Xd.animationend.animation,delete Xd.animationiteration.animation,delete Xd.animationstart.animation),"TransitionEvent"in window||delete Xd.transitionend.transition);function p1(c){if(Yx[c])return Yx[c];if(!Xd[c])return c;var R=Xd[c],j;for(j in R)if(R.hasOwnProperty(j)&&j in B6)return Yx[c]=R[j];return c}var N6=p1("animationend"),U6=p1("animationiteration"),V6=p1("animationstart"),H6=p1("transitionend"),G6=new Map,FT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fv(c,R){G6.set(c,R),cd(R,[c])}for(var Zx=0;Zx<FT.length;Zx++){var Xx=FT[Zx],DR=Xx.toLowerCase(),IR=Xx[0].toUpperCase()+Xx.slice(1);fv(DR,"on"+IR)}fv(N6,"onAnimationEnd");fv(U6,"onAnimationIteration");fv(V6,"onAnimationStart");fv("dblclick","onDoubleClick");fv("focusin","onFocus");fv("focusout","onBlur");fv(H6,"onTransitionEnd");Sp("onMouseEnter",["mouseout","mouseover"]);Sp("onMouseLeave",["mouseout","mouseover"]);Sp("onPointerEnter",["pointerout","pointerover"]);Sp("onPointerLeave",["pointerout","pointerover"]);cd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cd("onBeforeInput",["compositionend","keypress","textInput","paste"]);cd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var M0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_R=new Set("cancel close invalid load scroll toggle".split(" ").concat(M0));function OT(c,R,j){var re=c.type||"unknown-event";c.currentTarget=j,DP(re,R,void 0,c),c.currentTarget=null}function W6(c,R){R=(R&4)!==0;for(var j=0;j<c.length;j++){var re=c[j],ge=re.event;re=re.listeners;e:{var Re=void 0;if(R)for(var V=re.length-1;0<=V;V--){var B=re[V],e=B.instance,p=B.currentTarget;if(B=B.listener,e!==Re&&ge.isPropagationStopped())break e;OT(ge,B,p),Re=e}else for(V=0;V<re.length;V++){if(B=re[V],e=B.instance,p=B.currentTarget,B=B.listener,e!==Re&&ge.isPropagationStopped())break e;OT(ge,B,p),Re=e}}}if(Sm)throw c=n3,Sm=!1,n3=null,c}function io(c,R){var j=R[v3];j===void 0&&(j=R[v3]=new Set);var re=c+"__bubble";j.has(re)||(j6(R,c,2,!1),j.add(re))}function $x(c,R,j){var re=0;R&&(re|=4),j6(j,c,re,R)}var Cy="_reactListening"+Math.random().toString(36).slice(2);function ug(c){if(!c[Cy]){c[Cy]=!0,QS.forEach(function(j){j!=="selectionchange"&&(_R.has(j)||$x(j,!1,c),$x(j,!0,c))});var R=c.nodeType===9?c:c.ownerDocument;R===null||R[Cy]||(R[Cy]=!0,$x("selectionchange",!1,R))}}function j6(c,R,j,re){switch(L6(R)){case 1:var ge=XP;break;case 4:ge=$P;break;default:ge=Rw}j=ge.bind(null,R,j,c),ge=void 0,!r3||R!=="touchstart"&&R!=="touchmove"&&R!=="wheel"||(ge=!0),re?ge!==void 0?c.addEventListener(R,j,{capture:!0,passive:ge}):c.addEventListener(R,j,!0):ge!==void 0?c.addEventListener(R,j,{passive:ge}):c.addEventListener(R,j,!1)}function Kx(c,R,j,re,ge){var Re=re;if(!(R&1)&&!(R&2)&&re!==null)e:for(;;){if(re===null)return;var V=re.tag;if(V===3||V===4){var B=re.stateNode.containerInfo;if(B===ge||B.nodeType===8&&B.parentNode===ge)break;if(V===4)for(V=re.return;V!==null;){var e=V.tag;if((e===3||e===4)&&(e=V.stateNode.containerInfo,e===ge||e.nodeType===8&&e.parentNode===ge))return;V=V.return}for(;B!==null;){if(V=Kv(B),V===null)return;if(e=V.tag,e===5||e===6){re=Re=V;continue e}B=B.parentNode}}re=re.return}d6(function(){var p=Re,L=Ew(j),n=[];e:{var C=G6.get(c);if(C!==void 0){var T=Dw,d=c;switch(c){case"keypress":if(Qy(j)===0)break e;case"keydown":case"keyup":T=fR;break;case"focusin":d="focus",T=Gx;break;case"focusout":d="blur",T=Gx;break;case"beforeblur":case"afterblur":T=Gx;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=MT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=QP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=vR;break;case N6:case U6:case V6:T=tR;break;case H6:T=pR;break;case"scroll":T=KP;break;case"wheel":T=yR;break;case"copy":case"cut":case"paste":T=nR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=CT}var y=(R&4)!==0,r=!y&&c==="scroll",t=y?C!==null?C+"Capture":null:C;y=[];for(var i=p,a;i!==null;){a=i;var h=a.stateNode;if(a.tag===5&&h!==null&&(a=h,t!==null&&(h=ng(i,t),h!=null&&y.push(fg(i,h,a)))),r)break;i=i.return}0<y.length&&(C=new T(C,d,null,j,L),n.push({event:C,listeners:y}))}}if(!(R&7)){e:{if(C=c==="mouseover"||c==="pointerover",T=c==="mouseout"||c==="pointerout",C&&j!==e3&&(d=j.relatedTarget||j.fromElement)&&(Kv(d)||d[jc]))break e;if((T||C)&&(C=L.window===L?L:(C=L.ownerDocument)?C.defaultView||C.parentWindow:window,T?(d=j.relatedTarget||j.toElement,T=p,d=d?Kv(d):null,d!==null&&(r=hd(d),d!==r||d.tag!==5&&d.tag!==6)&&(d=null)):(T=null,d=p),T!==d)){if(y=MT,h="onMouseLeave",t="onMouseEnter",i="mouse",(c==="pointerout"||c==="pointerover")&&(y=CT,h="onPointerLeave",t="onPointerEnter",i="pointer"),r=T==null?C:$d(T),a=d==null?C:$d(d),C=new y(h,i+"leave",T,j,L),C.target=r,C.relatedTarget=a,h=null,Kv(L)===p&&(y=new y(t,i+"enter",d,j,L),y.target=a,y.relatedTarget=r,h=y),r=h,T&&d)t:{for(y=T,t=d,i=0,a=y;a;a=Hd(a))i++;for(a=0,h=t;h;h=Hd(h))a++;for(;0<i-a;)y=Hd(y),i--;for(;0<a-i;)t=Hd(t),a--;for(;i--;){if(y===t||t!==null&&y===t.alternate)break t;y=Hd(y),t=Hd(t)}y=null}else y=null;T!==null&&BT(n,C,T,y,!1),d!==null&&r!==null&&BT(n,r,d,y,!0)}}e:{if(C=p?$d(p):window,T=C.nodeName&&C.nodeName.toLowerCase(),T==="select"||T==="input"&&C.type==="file")var u=SR;else if(RT(C))if(_6)u=LR;else{u=ER;var s=MR}else(T=C.nodeName)&&T.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(u=CR);if(u&&(u=u(c,p))){I6(n,u,j,L);break e}s&&s(c,C,p),c==="focusout"&&(s=C._wrapperState)&&s.controlled&&C.type==="number"&&$b(C,"number",C.value)}switch(s=p?$d(p):window,c){case"focusin":(RT(s)||s.contentEditable==="true")&&(Zd=s,s3=p,B0=null);break;case"focusout":B0=s3=Zd=null;break;case"mousedown":l3=!0;break;case"contextmenu":case"mouseup":case"dragend":l3=!1,zT(n,j,L);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":zT(n,j,L)}var m;if(_w)e:{switch(c){case"compositionstart":var f="onCompositionStart";break e;case"compositionend":f="onCompositionEnd";break e;case"compositionupdate":f="onCompositionUpdate";break e}f=void 0}else Yd?k6(c,j)&&(f="onCompositionEnd"):c==="keydown"&&j.keyCode===229&&(f="onCompositionStart");f&&(R6&&j.locale!=="ko"&&(Yd||f!=="onCompositionStart"?f==="onCompositionEnd"&&Yd&&(m=P6()):(jh=L,kw="value"in jh?jh.value:jh.textContent,Yd=!0)),s=Pm(p,f),0<s.length&&(f=new ET(f,c,null,j,L),n.push({event:f,listeners:s}),m?f.data=m:(m=D6(j),m!==null&&(f.data=m)))),(m=xR?bR(c,j):wR(c,j))&&(p=Pm(p,"onBeforeInput"),0<p.length&&(L=new ET("onBeforeInput","beforeinput",null,j,L),n.push({event:L,listeners:p}),L.data=m))}W6(n,R)})}function fg(c,R,j){return{instance:c,listener:R,currentTarget:j}}function Pm(c,R){for(var j=R+"Capture",re=[];c!==null;){var ge=c,Re=ge.stateNode;ge.tag===5&&Re!==null&&(ge=Re,Re=ng(c,j),Re!=null&&re.unshift(fg(c,Re,ge)),Re=ng(c,R),Re!=null&&re.push(fg(c,Re,ge))),c=c.return}return re}function Hd(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function BT(c,R,j,re,ge){for(var Re=R._reactName,V=[];j!==null&&j!==re;){var B=j,e=B.alternate,p=B.stateNode;if(e!==null&&e===re)break;B.tag===5&&p!==null&&(B=p,ge?(e=ng(j,Re),e!=null&&V.unshift(fg(j,e,B))):ge||(e=ng(j,Re),e!=null&&V.push(fg(j,e,B)))),j=j.return}V.length!==0&&c.push({event:R,listeners:V})}var zR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function NT(c){return(typeof c=="string"?c:""+c).replace(zR,`
`).replace(FR,"")}function Ly(c,R,j){if(R=NT(R),NT(c)!==R&&j)throw Error(ba(425))}function Rm(){}var u3=null,f3=null;function c3(c,R){return c==="textarea"||c==="noscript"||typeof R.children=="string"||typeof R.children=="number"||typeof R.dangerouslySetInnerHTML=="object"&&R.dangerouslySetInnerHTML!==null&&R.dangerouslySetInnerHTML.__html!=null}var h3=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,UT=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof UT<"u"?function(c){return UT.resolve(null).then(c).catch(NR)}:h3;function NR(c){setTimeout(function(){throw c})}function Jx(c,R){var j=R,re=0;do{var ge=j.nextSibling;if(c.removeChild(j),ge&&ge.nodeType===8)if(j=ge.data,j==="/$"){if(re===0){c.removeChild(ge),og(R);return}re--}else j!=="$"&&j!=="$?"&&j!=="$!"||re++;j=ge}while(j);og(R)}function Qh(c){for(;c!=null;c=c.nextSibling){var R=c.nodeType;if(R===1||R===3)break;if(R===8){if(R=c.data,R==="$"||R==="$!"||R==="$?")break;if(R==="/$")return null}}return c}function VT(c){c=c.previousSibling;for(var R=0;c;){if(c.nodeType===8){var j=c.data;if(j==="$"||j==="$!"||j==="$?"){if(R===0)return c;R--}else j==="/$"&&R++}c=c.previousSibling}return null}var Bp=Math.random().toString(36).slice(2),Qf="__reactFiber$"+Bp,cg="__reactProps$"+Bp,jc="__reactContainer$"+Bp,v3="__reactEvents$"+Bp,UR="__reactListeners$"+Bp,VR="__reactHandles$"+Bp;function Kv(c){var R=c[Qf];if(R)return R;for(var j=c.parentNode;j;){if(R=j[jc]||j[Qf]){if(j=R.alternate,R.child!==null||j!==null&&j.child!==null)for(c=VT(c);c!==null;){if(j=c[Qf])return j;c=VT(c)}return R}c=j,j=c.parentNode}return null}function Ig(c){return c=c[Qf]||c[jc],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function $d(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(ba(33))}function g1(c){return c[cg]||null}var d3=[],Kd=-1;function cv(c){return{current:c}}function so(c){0>Kd||(c.current=d3[Kd],d3[Kd]=null,Kd--)}function Ji(c,R){Kd++,d3[Kd]=c.current,c.current=R}var sv={},$s=cv(sv),Dl=cv(!1),od=sv;function Mp(c,R){var j=c.type.contextTypes;if(!j)return sv;var re=c.stateNode;if(re&&re.__reactInternalMemoizedUnmaskedChildContext===R)return re.__reactInternalMemoizedMaskedChildContext;var ge={},Re;for(Re in j)ge[Re]=R[Re];return re&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=R,c.__reactInternalMemoizedMaskedChildContext=ge),ge}function Il(c){return c=c.childContextTypes,c!=null}function km(){so(Dl),so($s)}function HT(c,R,j){if($s.current!==sv)throw Error(ba(168));Ji($s,R),Ji(Dl,j)}function Y6(c,R,j){var re=c.stateNode;if(R=R.childContextTypes,typeof re.getChildContext!="function")return j;re=re.getChildContext();for(var ge in re)if(!(ge in R))throw Error(ba(108,MP(c)||"Unknown",ge));return Lo({},j,re)}function Dm(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||sv,od=$s.current,Ji($s,c),Ji(Dl,Dl.current),!0}function GT(c,R,j){var re=c.stateNode;if(!re)throw Error(ba(169));j?(c=Y6(c,R,od),re.__reactInternalMemoizedMergedChildContext=c,so(Dl),so($s),Ji($s,c)):so(Dl),Ji(Dl,j)}var Ic=null,y1=!1,Qx=!1;function Z6(c){Ic===null?Ic=[c]:Ic.push(c)}function HR(c){y1=!0,Z6(c)}function hv(){if(!Qx&&Ic!==null){Qx=!0;var c=0,R=Vi;try{var j=Ic;for(Vi=1;c<j.length;c++){var re=j[c];do re=re(!0);while(re!==null)}Ic=null,y1=!1}catch(ge){throw Ic!==null&&(Ic=Ic.slice(c+1)),m6(Cw,hv),ge}finally{Vi=R,Qx=!1}}return null}var Jd=[],Qd=0,Im=null,_m=0,_u=[],zu=0,sd=null,Fc=1,Oc="";function Gv(c,R){Jd[Qd++]=_m,Jd[Qd++]=Im,Im=c,_m=R}function X6(c,R,j){_u[zu++]=Fc,_u[zu++]=Oc,_u[zu++]=sd,sd=c;var re=Fc;c=Oc;var ge=32-Tf(re)-1;re&=~(1<<ge),j+=1;var Re=32-Tf(R)+ge;if(30<Re){var V=ge-ge%5;Re=(re&(1<<V)-1).toString(32),re>>=V,ge-=V,Fc=1<<32-Tf(R)+ge|j<<ge|re,Oc=Re+c}else Fc=1<<Re|j<<ge|re,Oc=c}function Fw(c){c.return!==null&&(Gv(c,1),X6(c,1,0))}function Ow(c){for(;c===Im;)Im=Jd[--Qd],Jd[Qd]=null,_m=Jd[--Qd],Jd[Qd]=null;for(;c===sd;)sd=_u[--zu],_u[zu]=null,Oc=_u[--zu],_u[zu]=null,Fc=_u[--zu],_u[zu]=null}var ql=null,Ql=null,vo=!1,bf=null;function $6(c,R){var j=Fu(5,null,null,0);j.elementType="DELETED",j.stateNode=R,j.return=c,R=c.deletions,R===null?(c.deletions=[j],c.flags|=16):R.push(j)}function WT(c,R){switch(c.tag){case 5:var j=c.type;return R=R.nodeType!==1||j.toLowerCase()!==R.nodeName.toLowerCase()?null:R,R!==null?(c.stateNode=R,ql=c,Ql=Qh(R.firstChild),!0):!1;case 6:return R=c.pendingProps===""||R.nodeType!==3?null:R,R!==null?(c.stateNode=R,ql=c,Ql=null,!0):!1;case 13:return R=R.nodeType!==8?null:R,R!==null?(j=sd!==null?{id:Fc,overflow:Oc}:null,c.memoizedState={dehydrated:R,treeContext:j,retryLane:1073741824},j=Fu(18,null,null,0),j.stateNode=R,j.return=c,c.child=j,ql=c,Ql=null,!0):!1;default:return!1}}function p3(c){return(c.mode&1)!==0&&(c.flags&128)===0}function g3(c){if(vo){var R=Ql;if(R){var j=R;if(!WT(c,R)){if(p3(c))throw Error(ba(418));R=Qh(j.nextSibling);var re=ql;R&&WT(c,R)?$6(re,j):(c.flags=c.flags&-4097|2,vo=!1,ql=c)}}else{if(p3(c))throw Error(ba(418));c.flags=c.flags&-4097|2,vo=!1,ql=c}}}function jT(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;ql=c}function Py(c){if(c!==ql)return!1;if(!vo)return jT(c),vo=!0,!1;var R;if((R=c.tag!==3)&&!(R=c.tag!==5)&&(R=c.type,R=R!=="head"&&R!=="body"&&!c3(c.type,c.memoizedProps)),R&&(R=Ql)){if(p3(c))throw K6(),Error(ba(418));for(;R;)$6(c,R),R=Qh(R.nextSibling)}if(jT(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(ba(317));e:{for(c=c.nextSibling,R=0;c;){if(c.nodeType===8){var j=c.data;if(j==="/$"){if(R===0){Ql=Qh(c.nextSibling);break e}R--}else j!=="$"&&j!=="$!"&&j!=="$?"||R++}c=c.nextSibling}Ql=null}}else Ql=ql?Qh(c.stateNode.nextSibling):null;return!0}function K6(){for(var c=Ql;c;)c=Qh(c.nextSibling)}function Ep(){Ql=ql=null,vo=!1}function Bw(c){bf===null?bf=[c]:bf.push(c)}var GR=Kc.ReactCurrentBatchConfig;function yf(c,R){if(c&&c.defaultProps){R=Lo({},R),c=c.defaultProps;for(var j in c)R[j]===void 0&&(R[j]=c[j]);return R}return R}var zm=cv(null),Fm=null,qd=null,Nw=null;function Uw(){Nw=qd=Fm=null}function Vw(c){var R=zm.current;so(zm),c._currentValue=R}function y3(c,R,j){for(;c!==null;){var re=c.alternate;if((c.childLanes&R)!==R?(c.childLanes|=R,re!==null&&(re.childLanes|=R)):re!==null&&(re.childLanes&R)!==R&&(re.childLanes|=R),c===j)break;c=c.return}}function gp(c,R){Fm=c,Nw=qd=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&R&&(kl=!0),c.firstContext=null)}function Uu(c){var R=c._currentValue;if(Nw!==c)if(c={context:c,memoizedValue:R,next:null},qd===null){if(Fm===null)throw Error(ba(308));qd=c,Fm.dependencies={lanes:0,firstContext:c}}else qd=qd.next=c;return R}var Jv=null;function Hw(c){Jv===null?Jv=[c]:Jv.push(c)}function J6(c,R,j,re){var ge=R.interleaved;return ge===null?(j.next=j,Hw(R)):(j.next=ge.next,ge.next=j),R.interleaved=j,Yc(c,re)}function Yc(c,R){c.lanes|=R;var j=c.alternate;for(j!==null&&(j.lanes|=R),j=c,c=c.return;c!==null;)c.childLanes|=R,j=c.alternate,j!==null&&(j.childLanes|=R),j=c,c=c.return;return j.tag===3?j.stateNode:null}var Uh=!1;function Gw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q6(c,R){c=c.updateQueue,R.updateQueue===c&&(R.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Uc(c,R){return{eventTime:c,lane:R,tag:0,payload:null,callback:null,next:null}}function qh(c,R,j){var re=c.updateQueue;if(re===null)return null;if(re=re.shared,Ei&2){var ge=re.pending;return ge===null?R.next=R:(R.next=ge.next,ge.next=R),re.pending=R,Yc(c,j)}return ge=re.interleaved,ge===null?(R.next=R,Hw(re)):(R.next=ge.next,ge.next=R),re.interleaved=R,Yc(c,j)}function qy(c,R,j){if(R=R.updateQueue,R!==null&&(R=R.shared,(j&4194240)!==0)){var re=R.lanes;re&=c.pendingLanes,j|=re,R.lanes=j,Lw(c,j)}}function YT(c,R){var j=c.updateQueue,re=c.alternate;if(re!==null&&(re=re.updateQueue,j===re)){var ge=null,Re=null;if(j=j.firstBaseUpdate,j!==null){do{var V={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};Re===null?ge=Re=V:Re=Re.next=V,j=j.next}while(j!==null);Re===null?ge=Re=R:Re=Re.next=R}else ge=Re=R;j={baseState:re.baseState,firstBaseUpdate:ge,lastBaseUpdate:Re,shared:re.shared,effects:re.effects},c.updateQueue=j;return}c=j.lastBaseUpdate,c===null?j.firstBaseUpdate=R:c.next=R,j.lastBaseUpdate=R}function Om(c,R,j,re){var ge=c.updateQueue;Uh=!1;var Re=ge.firstBaseUpdate,V=ge.lastBaseUpdate,B=ge.shared.pending;if(B!==null){ge.shared.pending=null;var e=B,p=e.next;e.next=null,V===null?Re=p:V.next=p,V=e;var L=c.alternate;L!==null&&(L=L.updateQueue,B=L.lastBaseUpdate,B!==V&&(B===null?L.firstBaseUpdate=p:B.next=p,L.lastBaseUpdate=e))}if(Re!==null){var n=ge.baseState;V=0,L=p=e=null,B=Re;do{var C=B.lane,T=B.eventTime;if((re&C)===C){L!==null&&(L=L.next={eventTime:T,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var d=c,y=B;switch(C=R,T=j,y.tag){case 1:if(d=y.payload,typeof d=="function"){n=d.call(T,n,C);break e}n=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=y.payload,C=typeof d=="function"?d.call(T,n,C):d,C==null)break e;n=Lo({},n,C);break e;case 2:Uh=!0}}B.callback!==null&&B.lane!==0&&(c.flags|=64,C=ge.effects,C===null?ge.effects=[B]:C.push(B))}else T={eventTime:T,lane:C,tag:B.tag,payload:B.payload,callback:B.callback,next:null},L===null?(p=L=T,e=n):L=L.next=T,V|=C;if(B=B.next,B===null){if(B=ge.shared.pending,B===null)break;C=B,B=C.next,C.next=null,ge.lastBaseUpdate=C,ge.shared.pending=null}}while(!0);if(L===null&&(e=n),ge.baseState=e,ge.firstBaseUpdate=p,ge.lastBaseUpdate=L,R=ge.shared.interleaved,R!==null){ge=R;do V|=ge.lane,ge=ge.next;while(ge!==R)}else Re===null&&(ge.shared.lanes=0);ud|=V,c.lanes=V,c.memoizedState=n}}function ZT(c,R,j){if(c=R.effects,R.effects=null,c!==null)for(R=0;R<c.length;R++){var re=c[R],ge=re.callback;if(ge!==null){if(re.callback=null,re=j,typeof ge!="function")throw Error(ba(191,ge));ge.call(re)}}}var q6=new JS.Component().refs;function m3(c,R,j,re){R=c.memoizedState,j=j(re,R),j=j==null?R:Lo({},R,j),c.memoizedState=j,c.lanes===0&&(c.updateQueue.baseState=j)}var m1={isMounted:function(c){return(c=c._reactInternals)?hd(c)===c:!1},enqueueSetState:function(c,R,j){c=c._reactInternals;var re=fl(),ge=tv(c),Re=Uc(re,ge);Re.payload=R,j!=null&&(Re.callback=j),R=qh(c,Re,ge),R!==null&&(Af(R,c,ge,re),qy(R,c,ge))},enqueueReplaceState:function(c,R,j){c=c._reactInternals;var re=fl(),ge=tv(c),Re=Uc(re,ge);Re.tag=1,Re.payload=R,j!=null&&(Re.callback=j),R=qh(c,Re,ge),R!==null&&(Af(R,c,ge,re),qy(R,c,ge))},enqueueForceUpdate:function(c,R){c=c._reactInternals;var j=fl(),re=tv(c),ge=Uc(j,re);ge.tag=2,R!=null&&(ge.callback=R),R=qh(c,ge,re),R!==null&&(Af(R,c,re,j),qy(R,c,re))}};function XT(c,R,j,re,ge,Re,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(re,Re,V):R.prototype&&R.prototype.isPureReactComponent?!lg(j,re)||!lg(ge,Re):!0}function eM(c,R,j){var re=!1,ge=sv,Re=R.contextType;return typeof Re=="object"&&Re!==null?Re=Uu(Re):(ge=Il(R)?od:$s.current,re=R.contextTypes,Re=(re=re!=null)?Mp(c,ge):sv),R=new R(j,Re),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=m1,c.stateNode=R,R._reactInternals=c,re&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=ge,c.__reactInternalMemoizedMaskedChildContext=Re),R}function $T(c,R,j,re){c=R.state,typeof R.componentWillReceiveProps=="function"&&R.componentWillReceiveProps(j,re),typeof R.UNSAFE_componentWillReceiveProps=="function"&&R.UNSAFE_componentWillReceiveProps(j,re),R.state!==c&&m1.enqueueReplaceState(R,R.state,null)}function x3(c,R,j,re){var ge=c.stateNode;ge.props=j,ge.state=c.memoizedState,ge.refs=q6,Gw(c);var Re=R.contextType;typeof Re=="object"&&Re!==null?ge.context=Uu(Re):(Re=Il(R)?od:$s.current,ge.context=Mp(c,Re)),ge.state=c.memoizedState,Re=R.getDerivedStateFromProps,typeof Re=="function"&&(m3(c,R,Re,j),ge.state=c.memoizedState),typeof R.getDerivedStateFromProps=="function"||typeof ge.getSnapshotBeforeUpdate=="function"||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(R=ge.state,typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount(),R!==ge.state&&m1.enqueueReplaceState(ge,ge.state,null),Om(c,j,ge,re),ge.state=c.memoizedState),typeof ge.componentDidMount=="function"&&(c.flags|=4194308)}function v0(c,R,j){if(c=j.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(ba(309));var re=j.stateNode}if(!re)throw Error(ba(147,c));var ge=re,Re=""+c;return R!==null&&R.ref!==null&&typeof R.ref=="function"&&R.ref._stringRef===Re?R.ref:(R=function(V){var B=ge.refs;B===q6&&(B=ge.refs={}),V===null?delete B[Re]:B[Re]=V},R._stringRef=Re,R)}if(typeof c!="string")throw Error(ba(284));if(!j._owner)throw Error(ba(290,c))}return c}function Ry(c,R){throw c=Object.prototype.toString.call(R),Error(ba(31,c==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":c))}function KT(c){var R=c._init;return R(c._payload)}function tM(c){function R(t,i){if(c){var a=t.deletions;a===null?(t.deletions=[i],t.flags|=16):a.push(i)}}function j(t,i){if(!c)return null;for(;i!==null;)R(t,i),i=i.sibling;return null}function re(t,i){for(t=new Map;i!==null;)i.key!==null?t.set(i.key,i):t.set(i.index,i),i=i.sibling;return t}function ge(t,i){return t=rv(t,i),t.index=0,t.sibling=null,t}function Re(t,i,a){return t.index=a,c?(a=t.alternate,a!==null?(a=a.index,a<i?(t.flags|=2,i):a):(t.flags|=2,i)):(t.flags|=1048576,i)}function V(t){return c&&t.alternate===null&&(t.flags|=2),t}function B(t,i,a,h){return i===null||i.tag!==6?(i=ib(a,t.mode,h),i.return=t,i):(i=ge(i,a),i.return=t,i)}function e(t,i,a,h){var u=a.type;return u===jd?L(t,i,a.props.children,h,a.key):i!==null&&(i.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Nh&&KT(u)===i.type)?(h=ge(i,a.props),h.ref=v0(t,i,a),h.return=t,h):(h=im(a.type,a.key,a.props,null,t.mode,h),h.ref=v0(t,i,a),h.return=t,h)}function p(t,i,a,h){return i===null||i.tag!==4||i.stateNode.containerInfo!==a.containerInfo||i.stateNode.implementation!==a.implementation?(i=ob(a,t.mode,h),i.return=t,i):(i=ge(i,a.children||[]),i.return=t,i)}function L(t,i,a,h,u){return i===null||i.tag!==7?(i=rd(a,t.mode,h,u),i.return=t,i):(i=ge(i,a),i.return=t,i)}function n(t,i,a){if(typeof i=="string"&&i!==""||typeof i=="number")return i=ib(""+i,t.mode,a),i.return=t,i;if(typeof i=="object"&&i!==null){switch(i.$$typeof){case xy:return a=im(i.type,i.key,i.props,null,t.mode,a),a.ref=v0(t,null,i),a.return=t,a;case Wd:return i=ob(i,t.mode,a),i.return=t,i;case Nh:var h=i._init;return n(t,h(i._payload),a)}if(A0(i)||l0(i))return i=rd(i,t.mode,a,null),i.return=t,i;Ry(t,i)}return null}function C(t,i,a,h){var u=i!==null?i.key:null;if(typeof a=="string"&&a!==""||typeof a=="number")return u!==null?null:B(t,i,""+a,h);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case xy:return a.key===u?e(t,i,a,h):null;case Wd:return a.key===u?p(t,i,a,h):null;case Nh:return u=a._init,C(t,i,u(a._payload),h)}if(A0(a)||l0(a))return u!==null?null:L(t,i,a,h,null);Ry(t,a)}return null}function T(t,i,a,h,u){if(typeof h=="string"&&h!==""||typeof h=="number")return t=t.get(a)||null,B(i,t,""+h,u);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case xy:return t=t.get(h.key===null?a:h.key)||null,e(i,t,h,u);case Wd:return t=t.get(h.key===null?a:h.key)||null,p(i,t,h,u);case Nh:var s=h._init;return T(t,i,a,s(h._payload),u)}if(A0(h)||l0(h))return t=t.get(a)||null,L(i,t,h,u,null);Ry(i,h)}return null}function d(t,i,a,h){for(var u=null,s=null,m=i,f=i=0,S=null;m!==null&&f<a.length;f++){m.index>f?(S=m,m=null):S=m.sibling;var v=C(t,m,a[f],h);if(v===null){m===null&&(m=S);break}c&&m&&v.alternate===null&&R(t,m),i=Re(v,i,f),s===null?u=v:s.sibling=v,s=v,m=S}if(f===a.length)return j(t,m),vo&&Gv(t,f),u;if(m===null){for(;f<a.length;f++)m=n(t,a[f],h),m!==null&&(i=Re(m,i,f),s===null?u=m:s.sibling=m,s=m);return vo&&Gv(t,f),u}for(m=re(t,m);f<a.length;f++)S=T(m,t,f,a[f],h),S!==null&&(c&&S.alternate!==null&&m.delete(S.key===null?f:S.key),i=Re(S,i,f),s===null?u=S:s.sibling=S,s=S);return c&&m.forEach(function(l){return R(t,l)}),vo&&Gv(t,f),u}function y(t,i,a,h){var u=l0(a);if(typeof u!="function")throw Error(ba(150));if(a=u.call(a),a==null)throw Error(ba(151));for(var s=u=null,m=i,f=i=0,S=null,v=a.next();m!==null&&!v.done;f++,v=a.next()){m.index>f?(S=m,m=null):S=m.sibling;var l=C(t,m,v.value,h);if(l===null){m===null&&(m=S);break}c&&m&&l.alternate===null&&R(t,m),i=Re(l,i,f),s===null?u=l:s.sibling=l,s=l,m=S}if(v.done)return j(t,m),vo&&Gv(t,f),u;if(m===null){for(;!v.done;f++,v=a.next())v=n(t,v.value,h),v!==null&&(i=Re(v,i,f),s===null?u=v:s.sibling=v,s=v);return vo&&Gv(t,f),u}for(m=re(t,m);!v.done;f++,v=a.next())v=T(m,t,f,v.value,h),v!==null&&(c&&v.alternate!==null&&m.delete(v.key===null?f:v.key),i=Re(v,i,f),s===null?u=v:s.sibling=v,s=v);return c&&m.forEach(function(g){return R(t,g)}),vo&&Gv(t,f),u}function r(t,i,a,h){if(typeof a=="object"&&a!==null&&a.type===jd&&a.key===null&&(a=a.props.children),typeof a=="object"&&a!==null){switch(a.$$typeof){case xy:e:{for(var u=a.key,s=i;s!==null;){if(s.key===u){if(u=a.type,u===jd){if(s.tag===7){j(t,s.sibling),i=ge(s,a.props.children),i.return=t,t=i;break e}}else if(s.elementType===u||typeof u=="object"&&u!==null&&u.$$typeof===Nh&&KT(u)===s.type){j(t,s.sibling),i=ge(s,a.props),i.ref=v0(t,s,a),i.return=t,t=i;break e}j(t,s);break}else R(t,s);s=s.sibling}a.type===jd?(i=rd(a.props.children,t.mode,h,a.key),i.return=t,t=i):(h=im(a.type,a.key,a.props,null,t.mode,h),h.ref=v0(t,i,a),h.return=t,t=h)}return V(t);case Wd:e:{for(s=a.key;i!==null;){if(i.key===s)if(i.tag===4&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){j(t,i.sibling),i=ge(i,a.children||[]),i.return=t,t=i;break e}else{j(t,i);break}else R(t,i);i=i.sibling}i=ob(a,t.mode,h),i.return=t,t=i}return V(t);case Nh:return s=a._init,r(t,i,s(a._payload),h)}if(A0(a))return d(t,i,a,h);if(l0(a))return y(t,i,a,h);Ry(t,a)}return typeof a=="string"&&a!==""||typeof a=="number"?(a=""+a,i!==null&&i.tag===6?(j(t,i.sibling),i=ge(i,a),i.return=t,t=i):(j(t,i),i=ib(a,t.mode,h),i.return=t,t=i),V(t)):j(t,i)}return r}var Cp=tM(!0),rM=tM(!1),_g={},ec=cv(_g),hg=cv(_g),vg=cv(_g);function Qv(c){if(c===_g)throw Error(ba(174));return c}function Ww(c,R){switch(Ji(vg,R),Ji(hg,c),Ji(ec,_g),c=R.nodeType,c){case 9:case 11:R=(R=R.documentElement)?R.namespaceURI:Jb(null,"");break;default:c=c===8?R.parentNode:R,R=c.namespaceURI||null,c=c.tagName,R=Jb(R,c)}so(ec),Ji(ec,R)}function Lp(){so(ec),so(hg),so(vg)}function nM(c){Qv(vg.current);var R=Qv(ec.current),j=Jb(R,c.type);R!==j&&(Ji(hg,c),Ji(ec,j))}function jw(c){hg.current===c&&(so(ec),so(hg))}var Mo=cv(0);function Bm(c){for(var R=c;R!==null;){if(R.tag===13){var j=R.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return R}else if(R.tag===19&&R.memoizedProps.revealOrder!==void 0){if(R.flags&128)return R}else if(R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break;for(;R.sibling===null;){if(R.return===null||R.return===c)return null;R=R.return}R.sibling.return=R.return,R=R.sibling}return null}var qx=[];function Yw(){for(var c=0;c<qx.length;c++)qx[c]._workInProgressVersionPrimary=null;qx.length=0}var em=Kc.ReactCurrentDispatcher,eb=Kc.ReactCurrentBatchConfig,ld=0,Co=null,ns=null,hs=null,Nm=!1,N0=!1,dg=0,WR=0;function js(){throw Error(ba(321))}function Zw(c,R){if(R===null)return!1;for(var j=0;j<R.length&&j<c.length;j++)if(!Sf(c[j],R[j]))return!1;return!0}function Xw(c,R,j,re,ge,Re){if(ld=Re,Co=R,R.memoizedState=null,R.updateQueue=null,R.lanes=0,em.current=c===null||c.memoizedState===null?XR:$R,c=j(re,ge),N0){Re=0;do{if(N0=!1,dg=0,25<=Re)throw Error(ba(301));Re+=1,hs=ns=null,R.updateQueue=null,em.current=KR,c=j(re,ge)}while(N0)}if(em.current=Um,R=ns!==null&&ns.next!==null,ld=0,hs=ns=Co=null,Nm=!1,R)throw Error(ba(300));return c}function $w(){var c=dg!==0;return dg=0,c}function Zf(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?Co.memoizedState=hs=c:hs=hs.next=c,hs}function Vu(){if(ns===null){var c=Co.alternate;c=c!==null?c.memoizedState:null}else c=ns.next;var R=hs===null?Co.memoizedState:hs.next;if(R!==null)hs=R,ns=c;else{if(c===null)throw Error(ba(310));ns=c,c={memoizedState:ns.memoizedState,baseState:ns.baseState,baseQueue:ns.baseQueue,queue:ns.queue,next:null},hs===null?Co.memoizedState=hs=c:hs=hs.next=c}return hs}function pg(c,R){return typeof R=="function"?R(c):R}function tb(c){var R=Vu(),j=R.queue;if(j===null)throw Error(ba(311));j.lastRenderedReducer=c;var re=ns,ge=re.baseQueue,Re=j.pending;if(Re!==null){if(ge!==null){var V=ge.next;ge.next=Re.next,Re.next=V}re.baseQueue=ge=Re,j.pending=null}if(ge!==null){Re=ge.next,re=re.baseState;var B=V=null,e=null,p=Re;do{var L=p.lane;if((ld&L)===L)e!==null&&(e=e.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),re=p.hasEagerState?p.eagerState:c(re,p.action);else{var n={lane:L,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};e===null?(B=e=n,V=re):e=e.next=n,Co.lanes|=L,ud|=L}p=p.next}while(p!==null&&p!==Re);e===null?V=re:e.next=B,Sf(re,R.memoizedState)||(kl=!0),R.memoizedState=re,R.baseState=V,R.baseQueue=e,j.lastRenderedState=re}if(c=j.interleaved,c!==null){ge=c;do Re=ge.lane,Co.lanes|=Re,ud|=Re,ge=ge.next;while(ge!==c)}else ge===null&&(j.lanes=0);return[R.memoizedState,j.dispatch]}function rb(c){var R=Vu(),j=R.queue;if(j===null)throw Error(ba(311));j.lastRenderedReducer=c;var re=j.dispatch,ge=j.pending,Re=R.memoizedState;if(ge!==null){j.pending=null;var V=ge=ge.next;do Re=c(Re,V.action),V=V.next;while(V!==ge);Sf(Re,R.memoizedState)||(kl=!0),R.memoizedState=Re,R.baseQueue===null&&(R.baseState=Re),j.lastRenderedState=Re}return[Re,re]}function aM(){}function iM(c,R){var j=Co,re=Vu(),ge=R(),Re=!Sf(re.memoizedState,ge);if(Re&&(re.memoizedState=ge,kl=!0),re=re.queue,Kw(lM.bind(null,j,re,c),[c]),re.getSnapshot!==R||Re||hs!==null&&hs.memoizedState.tag&1){if(j.flags|=2048,gg(9,sM.bind(null,j,re,ge,R),void 0,null),vs===null)throw Error(ba(349));ld&30||oM(j,R,ge)}return ge}function oM(c,R,j){c.flags|=16384,c={getSnapshot:R,value:j},R=Co.updateQueue,R===null?(R={lastEffect:null,stores:null},Co.updateQueue=R,R.stores=[c]):(j=R.stores,j===null?R.stores=[c]:j.push(c))}function sM(c,R,j,re){R.value=j,R.getSnapshot=re,uM(R)&&fM(c)}function lM(c,R,j){return j(function(){uM(R)&&fM(c)})}function uM(c){var R=c.getSnapshot;c=c.value;try{var j=R();return!Sf(c,j)}catch{return!0}}function fM(c){var R=Yc(c,1);R!==null&&Af(R,c,1,-1)}function JT(c){var R=Zf();return typeof c=="function"&&(c=c()),R.memoizedState=R.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pg,lastRenderedState:c},R.queue=c,c=c.dispatch=ZR.bind(null,Co,c),[R.memoizedState,c]}function gg(c,R,j,re){return c={tag:c,create:R,destroy:j,deps:re,next:null},R=Co.updateQueue,R===null?(R={lastEffect:null,stores:null},Co.updateQueue=R,R.lastEffect=c.next=c):(j=R.lastEffect,j===null?R.lastEffect=c.next=c:(re=j.next,j.next=c,c.next=re,R.lastEffect=c)),c}function cM(){return Vu().memoizedState}function tm(c,R,j,re){var ge=Zf();Co.flags|=c,ge.memoizedState=gg(1|R,j,void 0,re===void 0?null:re)}function x1(c,R,j,re){var ge=Vu();re=re===void 0?null:re;var Re=void 0;if(ns!==null){var V=ns.memoizedState;if(Re=V.destroy,re!==null&&Zw(re,V.deps)){ge.memoizedState=gg(R,j,Re,re);return}}Co.flags|=c,ge.memoizedState=gg(1|R,j,Re,re)}function QT(c,R){return tm(8390656,8,c,R)}function Kw(c,R){return x1(2048,8,c,R)}function hM(c,R){return x1(4,2,c,R)}function vM(c,R){return x1(4,4,c,R)}function dM(c,R){if(typeof R=="function")return c=c(),R(c),function(){R(null)};if(R!=null)return c=c(),R.current=c,function(){R.current=null}}function pM(c,R,j){return j=j!=null?j.concat([c]):null,x1(4,4,dM.bind(null,R,c),j)}function Jw(){}function gM(c,R){var j=Vu();R=R===void 0?null:R;var re=j.memoizedState;return re!==null&&R!==null&&Zw(R,re[1])?re[0]:(j.memoizedState=[c,R],c)}function yM(c,R){var j=Vu();R=R===void 0?null:R;var re=j.memoizedState;return re!==null&&R!==null&&Zw(R,re[1])?re[0]:(c=c(),j.memoizedState=[c,R],c)}function mM(c,R,j){return ld&21?(Sf(j,R)||(j=w6(),Co.lanes|=j,ud|=j,c.baseState=!0),R):(c.baseState&&(c.baseState=!1,kl=!0),c.memoizedState=j)}function jR(c,R){var j=Vi;Vi=j!==0&&4>j?j:4,c(!0);var re=eb.transition;eb.transition={};try{c(!1),R()}finally{Vi=j,eb.transition=re}}function xM(){return Vu().memoizedState}function YR(c,R,j){var re=tv(c);if(j={lane:re,action:j,hasEagerState:!1,eagerState:null,next:null},bM(c))wM(R,j);else if(j=J6(c,R,j,re),j!==null){var ge=fl();Af(j,c,re,ge),TM(j,R,re)}}function ZR(c,R,j){var re=tv(c),ge={lane:re,action:j,hasEagerState:!1,eagerState:null,next:null};if(bM(c))wM(R,ge);else{var Re=c.alternate;if(c.lanes===0&&(Re===null||Re.lanes===0)&&(Re=R.lastRenderedReducer,Re!==null))try{var V=R.lastRenderedState,B=Re(V,j);if(ge.hasEagerState=!0,ge.eagerState=B,Sf(B,V)){var e=R.interleaved;e===null?(ge.next=ge,Hw(R)):(ge.next=e.next,e.next=ge),R.interleaved=ge;return}}catch{}finally{}j=J6(c,R,ge,re),j!==null&&(ge=fl(),Af(j,c,re,ge),TM(j,R,re))}}function bM(c){var R=c.alternate;return c===Co||R!==null&&R===Co}function wM(c,R){N0=Nm=!0;var j=c.pending;j===null?R.next=R:(R.next=j.next,j.next=R),c.pending=R}function TM(c,R,j){if(j&4194240){var re=R.lanes;re&=c.pendingLanes,j|=re,R.lanes=j,Lw(c,j)}}var Um={readContext:Uu,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},XR={readContext:Uu,useCallback:function(c,R){return Zf().memoizedState=[c,R===void 0?null:R],c},useContext:Uu,useEffect:QT,useImperativeHandle:function(c,R,j){return j=j!=null?j.concat([c]):null,tm(4194308,4,dM.bind(null,R,c),j)},useLayoutEffect:function(c,R){return tm(4194308,4,c,R)},useInsertionEffect:function(c,R){return tm(4,2,c,R)},useMemo:function(c,R){var j=Zf();return R=R===void 0?null:R,c=c(),j.memoizedState=[c,R],c},useReducer:function(c,R,j){var re=Zf();return R=j!==void 0?j(R):R,re.memoizedState=re.baseState=R,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:R},re.queue=c,c=c.dispatch=YR.bind(null,Co,c),[re.memoizedState,c]},useRef:function(c){var R=Zf();return c={current:c},R.memoizedState=c},useState:JT,useDebugValue:Jw,useDeferredValue:function(c){return Zf().memoizedState=c},useTransition:function(){var c=JT(!1),R=c[0];return c=jR.bind(null,c[1]),Zf().memoizedState=c,[R,c]},useMutableSource:function(){},useSyncExternalStore:function(c,R,j){var re=Co,ge=Zf();if(vo){if(j===void 0)throw Error(ba(407));j=j()}else{if(j=R(),vs===null)throw Error(ba(349));ld&30||oM(re,R,j)}ge.memoizedState=j;var Re={value:j,getSnapshot:R};return ge.queue=Re,QT(lM.bind(null,re,Re,c),[c]),re.flags|=2048,gg(9,sM.bind(null,re,Re,j,R),void 0,null),j},useId:function(){var c=Zf(),R=vs.identifierPrefix;if(vo){var j=Oc,re=Fc;j=(re&~(1<<32-Tf(re)-1)).toString(32)+j,R=":"+R+"R"+j,j=dg++,0<j&&(R+="H"+j.toString(32)),R+=":"}else j=WR++,R=":"+R+"r"+j.toString(32)+":";return c.memoizedState=R},unstable_isNewReconciler:!1},$R={readContext:Uu,useCallback:gM,useContext:Uu,useEffect:Kw,useImperativeHandle:pM,useInsertionEffect:hM,useLayoutEffect:vM,useMemo:yM,useReducer:tb,useRef:cM,useState:function(){return tb(pg)},useDebugValue:Jw,useDeferredValue:function(c){var R=Vu();return mM(R,ns.memoizedState,c)},useTransition:function(){var c=tb(pg)[0],R=Vu().memoizedState;return[c,R]},useMutableSource:aM,useSyncExternalStore:iM,useId:xM,unstable_isNewReconciler:!1},KR={readContext:Uu,useCallback:gM,useContext:Uu,useEffect:Kw,useImperativeHandle:pM,useInsertionEffect:hM,useLayoutEffect:vM,useMemo:yM,useReducer:rb,useRef:cM,useState:function(){return rb(pg)},useDebugValue:Jw,useDeferredValue:function(c){var R=Vu();return ns===null?R.memoizedState=c:mM(R,ns.memoizedState,c)},useTransition:function(){var c=rb(pg)[0],R=Vu().memoizedState;return[c,R]},useMutableSource:aM,useSyncExternalStore:iM,useId:xM,unstable_isNewReconciler:!1};function Pp(c,R){try{var j="",re=R;do j+=SP(re),re=re.return;while(re);var ge=j}catch(Re){ge=`
Error generating stack: `+Re.message+`
`+Re.stack}return{value:c,source:R,stack:ge,digest:null}}function nb(c,R,j){return{value:c,source:null,stack:j??null,digest:R??null}}function b3(c,R){try{console.error(R.value)}catch(j){setTimeout(function(){throw j})}}var JR=typeof WeakMap=="function"?WeakMap:Map;function AM(c,R,j){j=Uc(-1,j),j.tag=3,j.payload={element:null};var re=R.value;return j.callback=function(){Hm||(Hm=!0,R3=re),b3(c,R)},j}function SM(c,R,j){j=Uc(-1,j),j.tag=3;var re=c.type.getDerivedStateFromError;if(typeof re=="function"){var ge=R.value;j.payload=function(){return re(ge)},j.callback=function(){b3(c,R)}}var Re=c.stateNode;return Re!==null&&typeof Re.componentDidCatch=="function"&&(j.callback=function(){b3(c,R),typeof re!="function"&&(ev===null?ev=new Set([this]):ev.add(this));var V=R.stack;this.componentDidCatch(R.value,{componentStack:V!==null?V:""})}),j}function qT(c,R,j){var re=c.pingCache;if(re===null){re=c.pingCache=new JR;var ge=new Set;re.set(R,ge)}else ge=re.get(R),ge===void 0&&(ge=new Set,re.set(R,ge));ge.has(j)||(ge.add(j),c=ck.bind(null,c,R,j),R.then(c,c))}function eA(c){do{var R;if((R=c.tag===13)&&(R=c.memoizedState,R=R!==null?R.dehydrated!==null:!0),R)return c;c=c.return}while(c!==null);return null}function tA(c,R,j,re,ge){return c.mode&1?(c.flags|=65536,c.lanes=ge,c):(c===R?c.flags|=65536:(c.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(R=Uc(-1,1),R.tag=2,qh(j,R,1))),j.lanes|=1),c)}var QR=Kc.ReactCurrentOwner,kl=!1;function sl(c,R,j,re){R.child=c===null?rM(R,null,j,re):Cp(R,c.child,j,re)}function rA(c,R,j,re,ge){j=j.render;var Re=R.ref;return gp(R,ge),re=Xw(c,R,j,re,Re,ge),j=$w(),c!==null&&!kl?(R.updateQueue=c.updateQueue,R.flags&=-2053,c.lanes&=~ge,Zc(c,R,ge)):(vo&&j&&Fw(R),R.flags|=1,sl(c,R,re,ge),R.child)}function nA(c,R,j,re,ge){if(c===null){var Re=j.type;return typeof Re=="function"&&!i2(Re)&&Re.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(R.tag=15,R.type=Re,MM(c,R,Re,re,ge)):(c=im(j.type,null,re,R,R.mode,ge),c.ref=R.ref,c.return=R,R.child=c)}if(Re=c.child,!(c.lanes&ge)){var V=Re.memoizedProps;if(j=j.compare,j=j!==null?j:lg,j(V,re)&&c.ref===R.ref)return Zc(c,R,ge)}return R.flags|=1,c=rv(Re,re),c.ref=R.ref,c.return=R,R.child=c}function MM(c,R,j,re,ge){if(c!==null){var Re=c.memoizedProps;if(lg(Re,re)&&c.ref===R.ref)if(kl=!1,R.pendingProps=re=Re,(c.lanes&ge)!==0)c.flags&131072&&(kl=!0);else return R.lanes=c.lanes,Zc(c,R,ge)}return w3(c,R,j,re,ge)}function EM(c,R,j){var re=R.pendingProps,ge=re.children,Re=c!==null?c.memoizedState:null;if(re.mode==="hidden")if(!(R.mode&1))R.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ji(tp,Jl),Jl|=j;else{if(!(j&1073741824))return c=Re!==null?Re.baseLanes|j:j,R.lanes=R.childLanes=1073741824,R.memoizedState={baseLanes:c,cachePool:null,transitions:null},R.updateQueue=null,Ji(tp,Jl),Jl|=c,null;R.memoizedState={baseLanes:0,cachePool:null,transitions:null},re=Re!==null?Re.baseLanes:j,Ji(tp,Jl),Jl|=re}else Re!==null?(re=Re.baseLanes|j,R.memoizedState=null):re=j,Ji(tp,Jl),Jl|=re;return sl(c,R,ge,j),R.child}function CM(c,R){var j=R.ref;(c===null&&j!==null||c!==null&&c.ref!==j)&&(R.flags|=512,R.flags|=2097152)}function w3(c,R,j,re,ge){var Re=Il(j)?od:$s.current;return Re=Mp(R,Re),gp(R,ge),j=Xw(c,R,j,re,Re,ge),re=$w(),c!==null&&!kl?(R.updateQueue=c.updateQueue,R.flags&=-2053,c.lanes&=~ge,Zc(c,R,ge)):(vo&&re&&Fw(R),R.flags|=1,sl(c,R,j,ge),R.child)}function aA(c,R,j,re,ge){if(Il(j)){var Re=!0;Dm(R)}else Re=!1;if(gp(R,ge),R.stateNode===null)rm(c,R),eM(R,j,re),x3(R,j,re,ge),re=!0;else if(c===null){var V=R.stateNode,B=R.memoizedProps;V.props=B;var e=V.context,p=j.contextType;typeof p=="object"&&p!==null?p=Uu(p):(p=Il(j)?od:$s.current,p=Mp(R,p));var L=j.getDerivedStateFromProps,n=typeof L=="function"||typeof V.getSnapshotBeforeUpdate=="function";n||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(B!==re||e!==p)&&$T(R,V,re,p),Uh=!1;var C=R.memoizedState;V.state=C,Om(R,re,V,ge),e=R.memoizedState,B!==re||C!==e||Dl.current||Uh?(typeof L=="function"&&(m3(R,j,L,re),e=R.memoizedState),(B=Uh||XT(R,j,B,re,C,e,p))?(n||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(R.flags|=4194308)):(typeof V.componentDidMount=="function"&&(R.flags|=4194308),R.memoizedProps=re,R.memoizedState=e),V.props=re,V.state=e,V.context=p,re=B):(typeof V.componentDidMount=="function"&&(R.flags|=4194308),re=!1)}else{V=R.stateNode,Q6(c,R),B=R.memoizedProps,p=R.type===R.elementType?B:yf(R.type,B),V.props=p,n=R.pendingProps,C=V.context,e=j.contextType,typeof e=="object"&&e!==null?e=Uu(e):(e=Il(j)?od:$s.current,e=Mp(R,e));var T=j.getDerivedStateFromProps;(L=typeof T=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(B!==n||C!==e)&&$T(R,V,re,e),Uh=!1,C=R.memoizedState,V.state=C,Om(R,re,V,ge);var d=R.memoizedState;B!==n||C!==d||Dl.current||Uh?(typeof T=="function"&&(m3(R,j,T,re),d=R.memoizedState),(p=Uh||XT(R,j,p,re,C,d,e)||!1)?(L||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(re,d,e),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(re,d,e)),typeof V.componentDidUpdate=="function"&&(R.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(R.flags|=1024)):(typeof V.componentDidUpdate!="function"||B===c.memoizedProps&&C===c.memoizedState||(R.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&C===c.memoizedState||(R.flags|=1024),R.memoizedProps=re,R.memoizedState=d),V.props=re,V.state=d,V.context=e,re=p):(typeof V.componentDidUpdate!="function"||B===c.memoizedProps&&C===c.memoizedState||(R.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&C===c.memoizedState||(R.flags|=1024),re=!1)}return T3(c,R,j,re,Re,ge)}function T3(c,R,j,re,ge,Re){CM(c,R);var V=(R.flags&128)!==0;if(!re&&!V)return ge&&GT(R,j,!1),Zc(c,R,Re);re=R.stateNode,QR.current=R;var B=V&&typeof j.getDerivedStateFromError!="function"?null:re.render();return R.flags|=1,c!==null&&V?(R.child=Cp(R,c.child,null,Re),R.child=Cp(R,null,B,Re)):sl(c,R,B,Re),R.memoizedState=re.state,ge&&GT(R,j,!0),R.child}function LM(c){var R=c.stateNode;R.pendingContext?HT(c,R.pendingContext,R.pendingContext!==R.context):R.context&&HT(c,R.context,!1),Ww(c,R.containerInfo)}function iA(c,R,j,re,ge){return Ep(),Bw(ge),R.flags|=256,sl(c,R,j,re),R.child}var A3={dehydrated:null,treeContext:null,retryLane:0};function S3(c){return{baseLanes:c,cachePool:null,transitions:null}}function PM(c,R,j){var re=R.pendingProps,ge=Mo.current,Re=!1,V=(R.flags&128)!==0,B;if((B=V)||(B=c!==null&&c.memoizedState===null?!1:(ge&2)!==0),B?(Re=!0,R.flags&=-129):(c===null||c.memoizedState!==null)&&(ge|=1),Ji(Mo,ge&1),c===null)return g3(R),c=R.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(R.mode&1?c.data==="$!"?R.lanes=8:R.lanes=1073741824:R.lanes=1,null):(V=re.children,c=re.fallback,Re?(re=R.mode,Re=R.child,V={mode:"hidden",children:V},!(re&1)&&Re!==null?(Re.childLanes=0,Re.pendingProps=V):Re=T1(V,re,0,null),c=rd(c,re,j,null),Re.return=R,c.return=R,Re.sibling=c,R.child=Re,R.child.memoizedState=S3(j),R.memoizedState=A3,c):Qw(R,V));if(ge=c.memoizedState,ge!==null&&(B=ge.dehydrated,B!==null))return qR(c,R,V,re,B,ge,j);if(Re){Re=re.fallback,V=R.mode,ge=c.child,B=ge.sibling;var e={mode:"hidden",children:re.children};return!(V&1)&&R.child!==ge?(re=R.child,re.childLanes=0,re.pendingProps=e,R.deletions=null):(re=rv(ge,e),re.subtreeFlags=ge.subtreeFlags&14680064),B!==null?Re=rv(B,Re):(Re=rd(Re,V,j,null),Re.flags|=2),Re.return=R,re.return=R,re.sibling=Re,R.child=re,re=Re,Re=R.child,V=c.child.memoizedState,V=V===null?S3(j):{baseLanes:V.baseLanes|j,cachePool:null,transitions:V.transitions},Re.memoizedState=V,Re.childLanes=c.childLanes&~j,R.memoizedState=A3,re}return Re=c.child,c=Re.sibling,re=rv(Re,{mode:"visible",children:re.children}),!(R.mode&1)&&(re.lanes=j),re.return=R,re.sibling=null,c!==null&&(j=R.deletions,j===null?(R.deletions=[c],R.flags|=16):j.push(c)),R.child=re,R.memoizedState=null,re}function Qw(c,R){return R=T1({mode:"visible",children:R},c.mode,0,null),R.return=c,c.child=R}function ky(c,R,j,re){return re!==null&&Bw(re),Cp(R,c.child,null,j),c=Qw(R,R.pendingProps.children),c.flags|=2,R.memoizedState=null,c}function qR(c,R,j,re,ge,Re,V){if(j)return R.flags&256?(R.flags&=-257,re=nb(Error(ba(422))),ky(c,R,V,re)):R.memoizedState!==null?(R.child=c.child,R.flags|=128,null):(Re=re.fallback,ge=R.mode,re=T1({mode:"visible",children:re.children},ge,0,null),Re=rd(Re,ge,V,null),Re.flags|=2,re.return=R,Re.return=R,re.sibling=Re,R.child=re,R.mode&1&&Cp(R,c.child,null,V),R.child.memoizedState=S3(V),R.memoizedState=A3,Re);if(!(R.mode&1))return ky(c,R,V,null);if(ge.data==="$!"){if(re=ge.nextSibling&&ge.nextSibling.dataset,re)var B=re.dgst;return re=B,Re=Error(ba(419)),re=nb(Re,re,void 0),ky(c,R,V,re)}if(B=(V&c.childLanes)!==0,kl||B){if(re=vs,re!==null){switch(V&-V){case 4:ge=2;break;case 16:ge=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ge=32;break;case 536870912:ge=268435456;break;default:ge=0}ge=ge&(re.suspendedLanes|V)?0:ge,ge!==0&&ge!==Re.retryLane&&(Re.retryLane=ge,Yc(c,ge),Af(re,c,ge,-1))}return a2(),re=nb(Error(ba(421))),ky(c,R,V,re)}return ge.data==="$?"?(R.flags|=128,R.child=c.child,R=hk.bind(null,c),ge._reactRetry=R,null):(c=Re.treeContext,Ql=Qh(ge.nextSibling),ql=R,vo=!0,bf=null,c!==null&&(_u[zu++]=Fc,_u[zu++]=Oc,_u[zu++]=sd,Fc=c.id,Oc=c.overflow,sd=R),R=Qw(R,re.children),R.flags|=4096,R)}function oA(c,R,j){c.lanes|=R;var re=c.alternate;re!==null&&(re.lanes|=R),y3(c.return,R,j)}function ab(c,R,j,re,ge){var Re=c.memoizedState;Re===null?c.memoizedState={isBackwards:R,rendering:null,renderingStartTime:0,last:re,tail:j,tailMode:ge}:(Re.isBackwards=R,Re.rendering=null,Re.renderingStartTime=0,Re.last=re,Re.tail=j,Re.tailMode=ge)}function RM(c,R,j){var re=R.pendingProps,ge=re.revealOrder,Re=re.tail;if(sl(c,R,re.children,j),re=Mo.current,re&2)re=re&1|2,R.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=R.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&oA(c,j,R);else if(c.tag===19)oA(c,j,R);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===R)break e;for(;c.sibling===null;){if(c.return===null||c.return===R)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}re&=1}if(Ji(Mo,re),!(R.mode&1))R.memoizedState=null;else switch(ge){case"forwards":for(j=R.child,ge=null;j!==null;)c=j.alternate,c!==null&&Bm(c)===null&&(ge=j),j=j.sibling;j=ge,j===null?(ge=R.child,R.child=null):(ge=j.sibling,j.sibling=null),ab(R,!1,ge,j,Re);break;case"backwards":for(j=null,ge=R.child,R.child=null;ge!==null;){if(c=ge.alternate,c!==null&&Bm(c)===null){R.child=ge;break}c=ge.sibling,ge.sibling=j,j=ge,ge=c}ab(R,!0,j,null,Re);break;case"together":ab(R,!1,null,null,void 0);break;default:R.memoizedState=null}return R.child}function rm(c,R){!(R.mode&1)&&c!==null&&(c.alternate=null,R.alternate=null,R.flags|=2)}function Zc(c,R,j){if(c!==null&&(R.dependencies=c.dependencies),ud|=R.lanes,!(j&R.childLanes))return null;if(c!==null&&R.child!==c.child)throw Error(ba(153));if(R.child!==null){for(c=R.child,j=rv(c,c.pendingProps),R.child=j,j.return=R;c.sibling!==null;)c=c.sibling,j=j.sibling=rv(c,c.pendingProps),j.return=R;j.sibling=null}return R.child}function ek(c,R,j){switch(R.tag){case 3:LM(R),Ep();break;case 5:nM(R);break;case 1:Il(R.type)&&Dm(R);break;case 4:Ww(R,R.stateNode.containerInfo);break;case 10:var re=R.type._context,ge=R.memoizedProps.value;Ji(zm,re._currentValue),re._currentValue=ge;break;case 13:if(re=R.memoizedState,re!==null)return re.dehydrated!==null?(Ji(Mo,Mo.current&1),R.flags|=128,null):j&R.child.childLanes?PM(c,R,j):(Ji(Mo,Mo.current&1),c=Zc(c,R,j),c!==null?c.sibling:null);Ji(Mo,Mo.current&1);break;case 19:if(re=(j&R.childLanes)!==0,c.flags&128){if(re)return RM(c,R,j);R.flags|=128}if(ge=R.memoizedState,ge!==null&&(ge.rendering=null,ge.tail=null,ge.lastEffect=null),Ji(Mo,Mo.current),re)break;return null;case 22:case 23:return R.lanes=0,EM(c,R,j)}return Zc(c,R,j)}var kM,M3,DM,IM;kM=function(c,R){for(var j=R.child;j!==null;){if(j.tag===5||j.tag===6)c.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===R)break;for(;j.sibling===null;){if(j.return===null||j.return===R)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};M3=function(){};DM=function(c,R,j,re){var ge=c.memoizedProps;if(ge!==re){c=R.stateNode,Qv(ec.current);var Re=null;switch(j){case"input":ge=Zb(c,ge),re=Zb(c,re),Re=[];break;case"select":ge=Lo({},ge,{value:void 0}),re=Lo({},re,{value:void 0}),Re=[];break;case"textarea":ge=Kb(c,ge),re=Kb(c,re),Re=[];break;default:typeof ge.onClick!="function"&&typeof re.onClick=="function"&&(c.onclick=Rm)}Qb(j,re);var V;j=null;for(p in ge)if(!re.hasOwnProperty(p)&&ge.hasOwnProperty(p)&&ge[p]!=null)if(p==="style"){var B=ge[p];for(V in B)B.hasOwnProperty(V)&&(j||(j={}),j[V]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(tg.hasOwnProperty(p)?Re||(Re=[]):(Re=Re||[]).push(p,null));for(p in re){var e=re[p];if(B=ge!=null?ge[p]:void 0,re.hasOwnProperty(p)&&e!==B&&(e!=null||B!=null))if(p==="style")if(B){for(V in B)!B.hasOwnProperty(V)||e&&e.hasOwnProperty(V)||(j||(j={}),j[V]="");for(V in e)e.hasOwnProperty(V)&&B[V]!==e[V]&&(j||(j={}),j[V]=e[V])}else j||(Re||(Re=[]),Re.push(p,j)),j=e;else p==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,B=B?B.__html:void 0,e!=null&&B!==e&&(Re=Re||[]).push(p,e)):p==="children"?typeof e!="string"&&typeof e!="number"||(Re=Re||[]).push(p,""+e):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(tg.hasOwnProperty(p)?(e!=null&&p==="onScroll"&&io("scroll",c),Re||B===e||(Re=[])):(Re=Re||[]).push(p,e))}j&&(Re=Re||[]).push("style",j);var p=Re;(R.updateQueue=p)&&(R.flags|=4)}};IM=function(c,R,j,re){j!==re&&(R.flags|=4)};function d0(c,R){if(!vo)switch(c.tailMode){case"hidden":R=c.tail;for(var j=null;R!==null;)R.alternate!==null&&(j=R),R=R.sibling;j===null?c.tail=null:j.sibling=null;break;case"collapsed":j=c.tail;for(var re=null;j!==null;)j.alternate!==null&&(re=j),j=j.sibling;re===null?R||c.tail===null?c.tail=null:c.tail.sibling=null:re.sibling=null}}function Ys(c){var R=c.alternate!==null&&c.alternate.child===c.child,j=0,re=0;if(R)for(var ge=c.child;ge!==null;)j|=ge.lanes|ge.childLanes,re|=ge.subtreeFlags&14680064,re|=ge.flags&14680064,ge.return=c,ge=ge.sibling;else for(ge=c.child;ge!==null;)j|=ge.lanes|ge.childLanes,re|=ge.subtreeFlags,re|=ge.flags,ge.return=c,ge=ge.sibling;return c.subtreeFlags|=re,c.childLanes=j,R}function tk(c,R,j){var re=R.pendingProps;switch(Ow(R),R.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(R),null;case 1:return Il(R.type)&&km(),Ys(R),null;case 3:return re=R.stateNode,Lp(),so(Dl),so($s),Yw(),re.pendingContext&&(re.context=re.pendingContext,re.pendingContext=null),(c===null||c.child===null)&&(Py(R)?R.flags|=4:c===null||c.memoizedState.isDehydrated&&!(R.flags&256)||(R.flags|=1024,bf!==null&&(I3(bf),bf=null))),M3(c,R),Ys(R),null;case 5:jw(R);var ge=Qv(vg.current);if(j=R.type,c!==null&&R.stateNode!=null)DM(c,R,j,re,ge),c.ref!==R.ref&&(R.flags|=512,R.flags|=2097152);else{if(!re){if(R.stateNode===null)throw Error(ba(166));return Ys(R),null}if(c=Qv(ec.current),Py(R)){re=R.stateNode,j=R.type;var Re=R.memoizedProps;switch(re[Qf]=R,re[cg]=Re,c=(R.mode&1)!==0,j){case"dialog":io("cancel",re),io("close",re);break;case"iframe":case"object":case"embed":io("load",re);break;case"video":case"audio":for(ge=0;ge<M0.length;ge++)io(M0[ge],re);break;case"source":io("error",re);break;case"img":case"image":case"link":io("error",re),io("load",re);break;case"details":io("toggle",re);break;case"input":pT(re,Re),io("invalid",re);break;case"select":re._wrapperState={wasMultiple:!!Re.multiple},io("invalid",re);break;case"textarea":yT(re,Re),io("invalid",re)}Qb(j,Re),ge=null;for(var V in Re)if(Re.hasOwnProperty(V)){var B=Re[V];V==="children"?typeof B=="string"?re.textContent!==B&&(Re.suppressHydrationWarning!==!0&&Ly(re.textContent,B,c),ge=["children",B]):typeof B=="number"&&re.textContent!==""+B&&(Re.suppressHydrationWarning!==!0&&Ly(re.textContent,B,c),ge=["children",""+B]):tg.hasOwnProperty(V)&&B!=null&&V==="onScroll"&&io("scroll",re)}switch(j){case"input":by(re),gT(re,Re,!0);break;case"textarea":by(re),mT(re);break;case"select":case"option":break;default:typeof Re.onClick=="function"&&(re.onclick=Rm)}re=ge,R.updateQueue=re,re!==null&&(R.flags|=4)}else{V=ge.nodeType===9?ge:ge.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=o6(j)),c==="http://www.w3.org/1999/xhtml"?j==="script"?(c=V.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof re.is=="string"?c=V.createElement(j,{is:re.is}):(c=V.createElement(j),j==="select"&&(V=c,re.multiple?V.multiple=!0:re.size&&(V.size=re.size))):c=V.createElementNS(c,j),c[Qf]=R,c[cg]=re,kM(c,R,!1,!1),R.stateNode=c;e:{switch(V=qb(j,re),j){case"dialog":io("cancel",c),io("close",c),ge=re;break;case"iframe":case"object":case"embed":io("load",c),ge=re;break;case"video":case"audio":for(ge=0;ge<M0.length;ge++)io(M0[ge],c);ge=re;break;case"source":io("error",c),ge=re;break;case"img":case"image":case"link":io("error",c),io("load",c),ge=re;break;case"details":io("toggle",c),ge=re;break;case"input":pT(c,re),ge=Zb(c,re),io("invalid",c);break;case"option":ge=re;break;case"select":c._wrapperState={wasMultiple:!!re.multiple},ge=Lo({},re,{value:void 0}),io("invalid",c);break;case"textarea":yT(c,re),ge=Kb(c,re),io("invalid",c);break;default:ge=re}Qb(j,ge),B=ge;for(Re in B)if(B.hasOwnProperty(Re)){var e=B[Re];Re==="style"?u6(c,e):Re==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&s6(c,e)):Re==="children"?typeof e=="string"?(j!=="textarea"||e!=="")&&rg(c,e):typeof e=="number"&&rg(c,""+e):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(tg.hasOwnProperty(Re)?e!=null&&Re==="onScroll"&&io("scroll",c):e!=null&&Tw(c,Re,e,V))}switch(j){case"input":by(c),gT(c,re,!1);break;case"textarea":by(c),mT(c);break;case"option":re.value!=null&&c.setAttribute("value",""+ov(re.value));break;case"select":c.multiple=!!re.multiple,Re=re.value,Re!=null?hp(c,!!re.multiple,Re,!1):re.defaultValue!=null&&hp(c,!!re.multiple,re.defaultValue,!0);break;default:typeof ge.onClick=="function"&&(c.onclick=Rm)}switch(j){case"button":case"input":case"select":case"textarea":re=!!re.autoFocus;break e;case"img":re=!0;break e;default:re=!1}}re&&(R.flags|=4)}R.ref!==null&&(R.flags|=512,R.flags|=2097152)}return Ys(R),null;case 6:if(c&&R.stateNode!=null)IM(c,R,c.memoizedProps,re);else{if(typeof re!="string"&&R.stateNode===null)throw Error(ba(166));if(j=Qv(vg.current),Qv(ec.current),Py(R)){if(re=R.stateNode,j=R.memoizedProps,re[Qf]=R,(Re=re.nodeValue!==j)&&(c=ql,c!==null))switch(c.tag){case 3:Ly(re.nodeValue,j,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Ly(re.nodeValue,j,(c.mode&1)!==0)}Re&&(R.flags|=4)}else re=(j.nodeType===9?j:j.ownerDocument).createTextNode(re),re[Qf]=R,R.stateNode=re}return Ys(R),null;case 13:if(so(Mo),re=R.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(vo&&Ql!==null&&R.mode&1&&!(R.flags&128))K6(),Ep(),R.flags|=98560,Re=!1;else if(Re=Py(R),re!==null&&re.dehydrated!==null){if(c===null){if(!Re)throw Error(ba(318));if(Re=R.memoizedState,Re=Re!==null?Re.dehydrated:null,!Re)throw Error(ba(317));Re[Qf]=R}else Ep(),!(R.flags&128)&&(R.memoizedState=null),R.flags|=4;Ys(R),Re=!1}else bf!==null&&(I3(bf),bf=null),Re=!0;if(!Re)return R.flags&65536?R:null}return R.flags&128?(R.lanes=j,R):(re=re!==null,re!==(c!==null&&c.memoizedState!==null)&&re&&(R.child.flags|=8192,R.mode&1&&(c===null||Mo.current&1?as===0&&(as=3):a2())),R.updateQueue!==null&&(R.flags|=4),Ys(R),null);case 4:return Lp(),M3(c,R),c===null&&ug(R.stateNode.containerInfo),Ys(R),null;case 10:return Vw(R.type._context),Ys(R),null;case 17:return Il(R.type)&&km(),Ys(R),null;case 19:if(so(Mo),Re=R.memoizedState,Re===null)return Ys(R),null;if(re=(R.flags&128)!==0,V=Re.rendering,V===null)if(re)d0(Re,!1);else{if(as!==0||c!==null&&c.flags&128)for(c=R.child;c!==null;){if(V=Bm(c),V!==null){for(R.flags|=128,d0(Re,!1),re=V.updateQueue,re!==null&&(R.updateQueue=re,R.flags|=4),R.subtreeFlags=0,re=j,j=R.child;j!==null;)Re=j,c=re,Re.flags&=14680066,V=Re.alternate,V===null?(Re.childLanes=0,Re.lanes=c,Re.child=null,Re.subtreeFlags=0,Re.memoizedProps=null,Re.memoizedState=null,Re.updateQueue=null,Re.dependencies=null,Re.stateNode=null):(Re.childLanes=V.childLanes,Re.lanes=V.lanes,Re.child=V.child,Re.subtreeFlags=0,Re.deletions=null,Re.memoizedProps=V.memoizedProps,Re.memoizedState=V.memoizedState,Re.updateQueue=V.updateQueue,Re.type=V.type,c=V.dependencies,Re.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),j=j.sibling;return Ji(Mo,Mo.current&1|2),R.child}c=c.sibling}Re.tail!==null&&Ho()>Rp&&(R.flags|=128,re=!0,d0(Re,!1),R.lanes=4194304)}else{if(!re)if(c=Bm(V),c!==null){if(R.flags|=128,re=!0,j=c.updateQueue,j!==null&&(R.updateQueue=j,R.flags|=4),d0(Re,!0),Re.tail===null&&Re.tailMode==="hidden"&&!V.alternate&&!vo)return Ys(R),null}else 2*Ho()-Re.renderingStartTime>Rp&&j!==1073741824&&(R.flags|=128,re=!0,d0(Re,!1),R.lanes=4194304);Re.isBackwards?(V.sibling=R.child,R.child=V):(j=Re.last,j!==null?j.sibling=V:R.child=V,Re.last=V)}return Re.tail!==null?(R=Re.tail,Re.rendering=R,Re.tail=R.sibling,Re.renderingStartTime=Ho(),R.sibling=null,j=Mo.current,Ji(Mo,re?j&1|2:j&1),R):(Ys(R),null);case 22:case 23:return n2(),re=R.memoizedState!==null,c!==null&&c.memoizedState!==null!==re&&(R.flags|=8192),re&&R.mode&1?Jl&1073741824&&(Ys(R),R.subtreeFlags&6&&(R.flags|=8192)):Ys(R),null;case 24:return null;case 25:return null}throw Error(ba(156,R.tag))}function rk(c,R){switch(Ow(R),R.tag){case 1:return Il(R.type)&&km(),c=R.flags,c&65536?(R.flags=c&-65537|128,R):null;case 3:return Lp(),so(Dl),so($s),Yw(),c=R.flags,c&65536&&!(c&128)?(R.flags=c&-65537|128,R):null;case 5:return jw(R),null;case 13:if(so(Mo),c=R.memoizedState,c!==null&&c.dehydrated!==null){if(R.alternate===null)throw Error(ba(340));Ep()}return c=R.flags,c&65536?(R.flags=c&-65537|128,R):null;case 19:return so(Mo),null;case 4:return Lp(),null;case 10:return Vw(R.type._context),null;case 22:case 23:return n2(),null;case 24:return null;default:return null}}var Dy=!1,Xs=!1,nk=typeof WeakSet=="function"?WeakSet:Set,za=null;function ep(c,R){var j=c.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(re){_o(c,R,re)}else j.current=null}function E3(c,R,j){try{j()}catch(re){_o(c,R,re)}}var sA=!1;function ak(c,R){if(u3=Cm,c=O6(),zw(c)){if("selectionStart"in c)var j={start:c.selectionStart,end:c.selectionEnd};else e:{j=(j=c.ownerDocument)&&j.defaultView||window;var re=j.getSelection&&j.getSelection();if(re&&re.rangeCount!==0){j=re.anchorNode;var ge=re.anchorOffset,Re=re.focusNode;re=re.focusOffset;try{j.nodeType,Re.nodeType}catch{j=null;break e}var V=0,B=-1,e=-1,p=0,L=0,n=c,C=null;t:for(;;){for(var T;n!==j||ge!==0&&n.nodeType!==3||(B=V+ge),n!==Re||re!==0&&n.nodeType!==3||(e=V+re),n.nodeType===3&&(V+=n.nodeValue.length),(T=n.firstChild)!==null;)C=n,n=T;for(;;){if(n===c)break t;if(C===j&&++p===ge&&(B=V),C===Re&&++L===re&&(e=V),(T=n.nextSibling)!==null)break;n=C,C=n.parentNode}n=T}j=B===-1||e===-1?null:{start:B,end:e}}else j=null}j=j||{start:0,end:0}}else j=null;for(f3={focusedElem:c,selectionRange:j},Cm=!1,za=R;za!==null;)if(R=za,c=R.child,(R.subtreeFlags&1028)!==0&&c!==null)c.return=R,za=c;else for(;za!==null;){R=za;try{var d=R.alternate;if(R.flags&1024)switch(R.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var y=d.memoizedProps,r=d.memoizedState,t=R.stateNode,i=t.getSnapshotBeforeUpdate(R.elementType===R.type?y:yf(R.type,y),r);t.__reactInternalSnapshotBeforeUpdate=i}break;case 3:var a=R.stateNode.containerInfo;a.nodeType===1?a.textContent="":a.nodeType===9&&a.documentElement&&a.removeChild(a.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ba(163))}}catch(h){_o(R,R.return,h)}if(c=R.sibling,c!==null){c.return=R.return,za=c;break}za=R.return}return d=sA,sA=!1,d}function U0(c,R,j){var re=R.updateQueue;if(re=re!==null?re.lastEffect:null,re!==null){var ge=re=re.next;do{if((ge.tag&c)===c){var Re=ge.destroy;ge.destroy=void 0,Re!==void 0&&E3(R,j,Re)}ge=ge.next}while(ge!==re)}}function b1(c,R){if(R=R.updateQueue,R=R!==null?R.lastEffect:null,R!==null){var j=R=R.next;do{if((j.tag&c)===c){var re=j.create;j.destroy=re()}j=j.next}while(j!==R)}}function C3(c){var R=c.ref;if(R!==null){var j=c.stateNode;switch(c.tag){case 5:c=j;break;default:c=j}typeof R=="function"?R(c):R.current=c}}function _M(c){var R=c.alternate;R!==null&&(c.alternate=null,_M(R)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(R=c.stateNode,R!==null&&(delete R[Qf],delete R[cg],delete R[v3],delete R[UR],delete R[VR])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function zM(c){return c.tag===5||c.tag===3||c.tag===4}function lA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||zM(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function L3(c,R,j){var re=c.tag;if(re===5||re===6)c=c.stateNode,R?j.nodeType===8?j.parentNode.insertBefore(c,R):j.insertBefore(c,R):(j.nodeType===8?(R=j.parentNode,R.insertBefore(c,j)):(R=j,R.appendChild(c)),j=j._reactRootContainer,j!=null||R.onclick!==null||(R.onclick=Rm));else if(re!==4&&(c=c.child,c!==null))for(L3(c,R,j),c=c.sibling;c!==null;)L3(c,R,j),c=c.sibling}function P3(c,R,j){var re=c.tag;if(re===5||re===6)c=c.stateNode,R?j.insertBefore(c,R):j.appendChild(c);else if(re!==4&&(c=c.child,c!==null))for(P3(c,R,j),c=c.sibling;c!==null;)P3(c,R,j),c=c.sibling}var ks=null,xf=!1;function _h(c,R,j){for(j=j.child;j!==null;)FM(c,R,j),j=j.sibling}function FM(c,R,j){if(qf&&typeof qf.onCommitFiberUnmount=="function")try{qf.onCommitFiberUnmount(h1,j)}catch{}switch(j.tag){case 5:Xs||ep(j,R);case 6:var re=ks,ge=xf;ks=null,_h(c,R,j),ks=re,xf=ge,ks!==null&&(xf?(c=ks,j=j.stateNode,c.nodeType===8?c.parentNode.removeChild(j):c.removeChild(j)):ks.removeChild(j.stateNode));break;case 18:ks!==null&&(xf?(c=ks,j=j.stateNode,c.nodeType===8?Jx(c.parentNode,j):c.nodeType===1&&Jx(c,j),og(c)):Jx(ks,j.stateNode));break;case 4:re=ks,ge=xf,ks=j.stateNode.containerInfo,xf=!0,_h(c,R,j),ks=re,xf=ge;break;case 0:case 11:case 14:case 15:if(!Xs&&(re=j.updateQueue,re!==null&&(re=re.lastEffect,re!==null))){ge=re=re.next;do{var Re=ge,V=Re.destroy;Re=Re.tag,V!==void 0&&(Re&2||Re&4)&&E3(j,R,V),ge=ge.next}while(ge!==re)}_h(c,R,j);break;case 1:if(!Xs&&(ep(j,R),re=j.stateNode,typeof re.componentWillUnmount=="function"))try{re.props=j.memoizedProps,re.state=j.memoizedState,re.componentWillUnmount()}catch(B){_o(j,R,B)}_h(c,R,j);break;case 21:_h(c,R,j);break;case 22:j.mode&1?(Xs=(re=Xs)||j.memoizedState!==null,_h(c,R,j),Xs=re):_h(c,R,j);break;default:_h(c,R,j)}}function uA(c){var R=c.updateQueue;if(R!==null){c.updateQueue=null;var j=c.stateNode;j===null&&(j=c.stateNode=new nk),R.forEach(function(re){var ge=vk.bind(null,c,re);j.has(re)||(j.add(re),re.then(ge,ge))})}}function pf(c,R){var j=R.deletions;if(j!==null)for(var re=0;re<j.length;re++){var ge=j[re];try{var Re=c,V=R,B=V;e:for(;B!==null;){switch(B.tag){case 5:ks=B.stateNode,xf=!1;break e;case 3:ks=B.stateNode.containerInfo,xf=!0;break e;case 4:ks=B.stateNode.containerInfo,xf=!0;break e}B=B.return}if(ks===null)throw Error(ba(160));FM(Re,V,ge),ks=null,xf=!1;var e=ge.alternate;e!==null&&(e.return=null),ge.return=null}catch(p){_o(ge,R,p)}}if(R.subtreeFlags&12854)for(R=R.child;R!==null;)OM(R,c),R=R.sibling}function OM(c,R){var j=c.alternate,re=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(pf(R,c),jf(c),re&4){try{U0(3,c,c.return),b1(3,c)}catch(y){_o(c,c.return,y)}try{U0(5,c,c.return)}catch(y){_o(c,c.return,y)}}break;case 1:pf(R,c),jf(c),re&512&&j!==null&&ep(j,j.return);break;case 5:if(pf(R,c),jf(c),re&512&&j!==null&&ep(j,j.return),c.flags&32){var ge=c.stateNode;try{rg(ge,"")}catch(y){_o(c,c.return,y)}}if(re&4&&(ge=c.stateNode,ge!=null)){var Re=c.memoizedProps,V=j!==null?j.memoizedProps:Re,B=c.type,e=c.updateQueue;if(c.updateQueue=null,e!==null)try{B==="input"&&Re.type==="radio"&&Re.name!=null&&a6(ge,Re),qb(B,V);var p=qb(B,Re);for(V=0;V<e.length;V+=2){var L=e[V],n=e[V+1];L==="style"?u6(ge,n):L==="dangerouslySetInnerHTML"?s6(ge,n):L==="children"?rg(ge,n):Tw(ge,L,n,p)}switch(B){case"input":Xb(ge,Re);break;case"textarea":i6(ge,Re);break;case"select":var C=ge._wrapperState.wasMultiple;ge._wrapperState.wasMultiple=!!Re.multiple;var T=Re.value;T!=null?hp(ge,!!Re.multiple,T,!1):C!==!!Re.multiple&&(Re.defaultValue!=null?hp(ge,!!Re.multiple,Re.defaultValue,!0):hp(ge,!!Re.multiple,Re.multiple?[]:"",!1))}ge[cg]=Re}catch(y){_o(c,c.return,y)}}break;case 6:if(pf(R,c),jf(c),re&4){if(c.stateNode===null)throw Error(ba(162));ge=c.stateNode,Re=c.memoizedProps;try{ge.nodeValue=Re}catch(y){_o(c,c.return,y)}}break;case 3:if(pf(R,c),jf(c),re&4&&j!==null&&j.memoizedState.isDehydrated)try{og(R.containerInfo)}catch(y){_o(c,c.return,y)}break;case 4:pf(R,c),jf(c);break;case 13:pf(R,c),jf(c),ge=c.child,ge.flags&8192&&(Re=ge.memoizedState!==null,ge.stateNode.isHidden=Re,!Re||ge.alternate!==null&&ge.alternate.memoizedState!==null||(t2=Ho())),re&4&&uA(c);break;case 22:if(L=j!==null&&j.memoizedState!==null,c.mode&1?(Xs=(p=Xs)||L,pf(R,c),Xs=p):pf(R,c),jf(c),re&8192){if(p=c.memoizedState!==null,(c.stateNode.isHidden=p)&&!L&&c.mode&1)for(za=c,L=c.child;L!==null;){for(n=za=L;za!==null;){switch(C=za,T=C.child,C.tag){case 0:case 11:case 14:case 15:U0(4,C,C.return);break;case 1:ep(C,C.return);var d=C.stateNode;if(typeof d.componentWillUnmount=="function"){re=C,j=C.return;try{R=re,d.props=R.memoizedProps,d.state=R.memoizedState,d.componentWillUnmount()}catch(y){_o(re,j,y)}}break;case 5:ep(C,C.return);break;case 22:if(C.memoizedState!==null){cA(n);continue}}T!==null?(T.return=C,za=T):cA(n)}L=L.sibling}e:for(L=null,n=c;;){if(n.tag===5){if(L===null){L=n;try{ge=n.stateNode,p?(Re=ge.style,typeof Re.setProperty=="function"?Re.setProperty("display","none","important"):Re.display="none"):(B=n.stateNode,e=n.memoizedProps.style,V=e!=null&&e.hasOwnProperty("display")?e.display:null,B.style.display=l6("display",V))}catch(y){_o(c,c.return,y)}}}else if(n.tag===6){if(L===null)try{n.stateNode.nodeValue=p?"":n.memoizedProps}catch(y){_o(c,c.return,y)}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===c)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===c)break e;for(;n.sibling===null;){if(n.return===null||n.return===c)break e;L===n&&(L=null),n=n.return}L===n&&(L=null),n.sibling.return=n.return,n=n.sibling}}break;case 19:pf(R,c),jf(c),re&4&&uA(c);break;case 21:break;default:pf(R,c),jf(c)}}function jf(c){var R=c.flags;if(R&2){try{e:{for(var j=c.return;j!==null;){if(zM(j)){var re=j;break e}j=j.return}throw Error(ba(160))}switch(re.tag){case 5:var ge=re.stateNode;re.flags&32&&(rg(ge,""),re.flags&=-33);var Re=lA(c);P3(c,Re,ge);break;case 3:case 4:var V=re.stateNode.containerInfo,B=lA(c);L3(c,B,V);break;default:throw Error(ba(161))}}catch(e){_o(c,c.return,e)}c.flags&=-3}R&4096&&(c.flags&=-4097)}function ik(c,R,j){za=c,BM(c)}function BM(c,R,j){for(var re=(c.mode&1)!==0;za!==null;){var ge=za,Re=ge.child;if(ge.tag===22&&re){var V=ge.memoizedState!==null||Dy;if(!V){var B=ge.alternate,e=B!==null&&B.memoizedState!==null||Xs;B=Dy;var p=Xs;if(Dy=V,(Xs=e)&&!p)for(za=ge;za!==null;)V=za,e=V.child,V.tag===22&&V.memoizedState!==null?hA(ge):e!==null?(e.return=V,za=e):hA(ge);for(;Re!==null;)za=Re,BM(Re),Re=Re.sibling;za=ge,Dy=B,Xs=p}fA(c)}else ge.subtreeFlags&8772&&Re!==null?(Re.return=ge,za=Re):fA(c)}}function fA(c){for(;za!==null;){var R=za;if(R.flags&8772){var j=R.alternate;try{if(R.flags&8772)switch(R.tag){case 0:case 11:case 15:Xs||b1(5,R);break;case 1:var re=R.stateNode;if(R.flags&4&&!Xs)if(j===null)re.componentDidMount();else{var ge=R.elementType===R.type?j.memoizedProps:yf(R.type,j.memoizedProps);re.componentDidUpdate(ge,j.memoizedState,re.__reactInternalSnapshotBeforeUpdate)}var Re=R.updateQueue;Re!==null&&ZT(R,Re,re);break;case 3:var V=R.updateQueue;if(V!==null){if(j=null,R.child!==null)switch(R.child.tag){case 5:j=R.child.stateNode;break;case 1:j=R.child.stateNode}ZT(R,V,j)}break;case 5:var B=R.stateNode;if(j===null&&R.flags&4){j=B;var e=R.memoizedProps;switch(R.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&j.focus();break;case"img":e.src&&(j.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(R.memoizedState===null){var p=R.alternate;if(p!==null){var L=p.memoizedState;if(L!==null){var n=L.dehydrated;n!==null&&og(n)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ba(163))}Xs||R.flags&512&&C3(R)}catch(C){_o(R,R.return,C)}}if(R===c){za=null;break}if(j=R.sibling,j!==null){j.return=R.return,za=j;break}za=R.return}}function cA(c){for(;za!==null;){var R=za;if(R===c){za=null;break}var j=R.sibling;if(j!==null){j.return=R.return,za=j;break}za=R.return}}function hA(c){for(;za!==null;){var R=za;try{switch(R.tag){case 0:case 11:case 15:var j=R.return;try{b1(4,R)}catch(e){_o(R,j,e)}break;case 1:var re=R.stateNode;if(typeof re.componentDidMount=="function"){var ge=R.return;try{re.componentDidMount()}catch(e){_o(R,ge,e)}}var Re=R.return;try{C3(R)}catch(e){_o(R,Re,e)}break;case 5:var V=R.return;try{C3(R)}catch(e){_o(R,V,e)}}}catch(e){_o(R,R.return,e)}if(R===c){za=null;break}var B=R.sibling;if(B!==null){B.return=R.return,za=B;break}za=R.return}}var ok=Math.ceil,Vm=Kc.ReactCurrentDispatcher,qw=Kc.ReactCurrentOwner,Bu=Kc.ReactCurrentBatchConfig,Ei=0,vs=null,Qo=null,Is=0,Jl=0,tp=cv(0),as=0,yg=null,ud=0,w1=0,e2=0,V0=null,Pl=null,t2=0,Rp=1/0,Dc=null,Hm=!1,R3=null,ev=null,Iy=!1,Yh=null,Gm=0,H0=0,k3=null,nm=-1,am=0;function fl(){return Ei&6?Ho():nm!==-1?nm:nm=Ho()}function tv(c){return c.mode&1?Ei&2&&Is!==0?Is&-Is:GR.transition!==null?(am===0&&(am=w6()),am):(c=Vi,c!==0||(c=window.event,c=c===void 0?16:L6(c.type)),c):1}function Af(c,R,j,re){if(50<H0)throw H0=0,k3=null,Error(ba(185));kg(c,j,re),(!(Ei&2)||c!==vs)&&(c===vs&&(!(Ei&2)&&(w1|=j),as===4&&Gh(c,Is)),_l(c,re),j===1&&Ei===0&&!(R.mode&1)&&(Rp=Ho()+500,y1&&hv()))}function _l(c,R){var j=c.callbackNode;GP(c,R);var re=Em(c,c===vs?Is:0);if(re===0)j!==null&&wT(j),c.callbackNode=null,c.callbackPriority=0;else if(R=re&-re,c.callbackPriority!==R){if(j!=null&&wT(j),R===1)c.tag===0?HR(vA.bind(null,c)):Z6(vA.bind(null,c)),BR(function(){!(Ei&6)&&hv()}),j=null;else{switch(T6(re)){case 1:j=Cw;break;case 4:j=x6;break;case 16:j=Mm;break;case 536870912:j=b6;break;default:j=Mm}j=YM(j,NM.bind(null,c))}c.callbackPriority=R,c.callbackNode=j}}function NM(c,R){if(nm=-1,am=0,Ei&6)throw Error(ba(327));var j=c.callbackNode;if(yp()&&c.callbackNode!==j)return null;var re=Em(c,c===vs?Is:0);if(re===0)return null;if(re&30||re&c.expiredLanes||R)R=Wm(c,re);else{R=re;var ge=Ei;Ei|=2;var Re=VM();(vs!==c||Is!==R)&&(Dc=null,Rp=Ho()+500,td(c,R));do try{uk();break}catch(B){UM(c,B)}while(!0);Uw(),Vm.current=Re,Ei=ge,Qo!==null?R=0:(vs=null,Is=0,R=as)}if(R!==0){if(R===2&&(ge=a3(c),ge!==0&&(re=ge,R=D3(c,ge))),R===1)throw j=yg,td(c,0),Gh(c,re),_l(c,Ho()),j;if(R===6)Gh(c,re);else{if(ge=c.current.alternate,!(re&30)&&!sk(ge)&&(R=Wm(c,re),R===2&&(Re=a3(c),Re!==0&&(re=Re,R=D3(c,Re))),R===1))throw j=yg,td(c,0),Gh(c,re),_l(c,Ho()),j;switch(c.finishedWork=ge,c.finishedLanes=re,R){case 0:case 1:throw Error(ba(345));case 2:Wv(c,Pl,Dc);break;case 3:if(Gh(c,re),(re&130023424)===re&&(R=t2+500-Ho(),10<R)){if(Em(c,0)!==0)break;if(ge=c.suspendedLanes,(ge&re)!==re){fl(),c.pingedLanes|=c.suspendedLanes&ge;break}c.timeoutHandle=h3(Wv.bind(null,c,Pl,Dc),R);break}Wv(c,Pl,Dc);break;case 4:if(Gh(c,re),(re&4194240)===re)break;for(R=c.eventTimes,ge=-1;0<re;){var V=31-Tf(re);Re=1<<V,V=R[V],V>ge&&(ge=V),re&=~Re}if(re=ge,re=Ho()-re,re=(120>re?120:480>re?480:1080>re?1080:1920>re?1920:3e3>re?3e3:4320>re?4320:1960*ok(re/1960))-re,10<re){c.timeoutHandle=h3(Wv.bind(null,c,Pl,Dc),re);break}Wv(c,Pl,Dc);break;case 5:Wv(c,Pl,Dc);break;default:throw Error(ba(329))}}}return _l(c,Ho()),c.callbackNode===j?NM.bind(null,c):null}function D3(c,R){var j=V0;return c.current.memoizedState.isDehydrated&&(td(c,R).flags|=256),c=Wm(c,R),c!==2&&(R=Pl,Pl=j,R!==null&&I3(R)),c}function I3(c){Pl===null?Pl=c:Pl.push.apply(Pl,c)}function sk(c){for(var R=c;;){if(R.flags&16384){var j=R.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var re=0;re<j.length;re++){var ge=j[re],Re=ge.getSnapshot;ge=ge.value;try{if(!Sf(Re(),ge))return!1}catch{return!1}}}if(j=R.child,R.subtreeFlags&16384&&j!==null)j.return=R,R=j;else{if(R===c)break;for(;R.sibling===null;){if(R.return===null||R.return===c)return!0;R=R.return}R.sibling.return=R.return,R=R.sibling}}return!0}function Gh(c,R){for(R&=~e2,R&=~w1,c.suspendedLanes|=R,c.pingedLanes&=~R,c=c.expirationTimes;0<R;){var j=31-Tf(R),re=1<<j;c[j]=-1,R&=~re}}function vA(c){if(Ei&6)throw Error(ba(327));yp();var R=Em(c,0);if(!(R&1))return _l(c,Ho()),null;var j=Wm(c,R);if(c.tag!==0&&j===2){var re=a3(c);re!==0&&(R=re,j=D3(c,re))}if(j===1)throw j=yg,td(c,0),Gh(c,R),_l(c,Ho()),j;if(j===6)throw Error(ba(345));return c.finishedWork=c.current.alternate,c.finishedLanes=R,Wv(c,Pl,Dc),_l(c,Ho()),null}function r2(c,R){var j=Ei;Ei|=1;try{return c(R)}finally{Ei=j,Ei===0&&(Rp=Ho()+500,y1&&hv())}}function fd(c){Yh!==null&&Yh.tag===0&&!(Ei&6)&&yp();var R=Ei;Ei|=1;var j=Bu.transition,re=Vi;try{if(Bu.transition=null,Vi=1,c)return c()}finally{Vi=re,Bu.transition=j,Ei=R,!(Ei&6)&&hv()}}function n2(){Jl=tp.current,so(tp)}function td(c,R){c.finishedWork=null,c.finishedLanes=0;var j=c.timeoutHandle;if(j!==-1&&(c.timeoutHandle=-1,OR(j)),Qo!==null)for(j=Qo.return;j!==null;){var re=j;switch(Ow(re),re.tag){case 1:re=re.type.childContextTypes,re!=null&&km();break;case 3:Lp(),so(Dl),so($s),Yw();break;case 5:jw(re);break;case 4:Lp();break;case 13:so(Mo);break;case 19:so(Mo);break;case 10:Vw(re.type._context);break;case 22:case 23:n2()}j=j.return}if(vs=c,Qo=c=rv(c.current,null),Is=Jl=R,as=0,yg=null,e2=w1=ud=0,Pl=V0=null,Jv!==null){for(R=0;R<Jv.length;R++)if(j=Jv[R],re=j.interleaved,re!==null){j.interleaved=null;var ge=re.next,Re=j.pending;if(Re!==null){var V=Re.next;Re.next=ge,re.next=V}j.pending=re}Jv=null}return c}function UM(c,R){do{var j=Qo;try{if(Uw(),em.current=Um,Nm){for(var re=Co.memoizedState;re!==null;){var ge=re.queue;ge!==null&&(ge.pending=null),re=re.next}Nm=!1}if(ld=0,hs=ns=Co=null,N0=!1,dg=0,qw.current=null,j===null||j.return===null){as=1,yg=R,Qo=null;break}e:{var Re=c,V=j.return,B=j,e=R;if(R=Is,B.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var p=e,L=B,n=L.tag;if(!(L.mode&1)&&(n===0||n===11||n===15)){var C=L.alternate;C?(L.updateQueue=C.updateQueue,L.memoizedState=C.memoizedState,L.lanes=C.lanes):(L.updateQueue=null,L.memoizedState=null)}var T=eA(V);if(T!==null){T.flags&=-257,tA(T,V,B,Re,R),T.mode&1&&qT(Re,p,R),R=T,e=p;var d=R.updateQueue;if(d===null){var y=new Set;y.add(e),R.updateQueue=y}else d.add(e);break e}else{if(!(R&1)){qT(Re,p,R),a2();break e}e=Error(ba(426))}}else if(vo&&B.mode&1){var r=eA(V);if(r!==null){!(r.flags&65536)&&(r.flags|=256),tA(r,V,B,Re,R),Bw(Pp(e,B));break e}}Re=e=Pp(e,B),as!==4&&(as=2),V0===null?V0=[Re]:V0.push(Re),Re=V;do{switch(Re.tag){case 3:Re.flags|=65536,R&=-R,Re.lanes|=R;var t=AM(Re,e,R);YT(Re,t);break e;case 1:B=e;var i=Re.type,a=Re.stateNode;if(!(Re.flags&128)&&(typeof i.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(ev===null||!ev.has(a)))){Re.flags|=65536,R&=-R,Re.lanes|=R;var h=SM(Re,B,R);YT(Re,h);break e}}Re=Re.return}while(Re!==null)}GM(j)}catch(u){R=u,Qo===j&&j!==null&&(Qo=j=j.return);continue}break}while(!0)}function VM(){var c=Vm.current;return Vm.current=Um,c===null?Um:c}function a2(){(as===0||as===3||as===2)&&(as=4),vs===null||!(ud&268435455)&&!(w1&268435455)||Gh(vs,Is)}function Wm(c,R){var j=Ei;Ei|=2;var re=VM();(vs!==c||Is!==R)&&(Dc=null,td(c,R));do try{lk();break}catch(ge){UM(c,ge)}while(!0);if(Uw(),Ei=j,Vm.current=re,Qo!==null)throw Error(ba(261));return vs=null,Is=0,as}function lk(){for(;Qo!==null;)HM(Qo)}function uk(){for(;Qo!==null&&!_P();)HM(Qo)}function HM(c){var R=jM(c.alternate,c,Jl);c.memoizedProps=c.pendingProps,R===null?GM(c):Qo=R,qw.current=null}function GM(c){var R=c;do{var j=R.alternate;if(c=R.return,R.flags&32768){if(j=rk(j,R),j!==null){j.flags&=32767,Qo=j;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{as=6,Qo=null;return}}else if(j=tk(j,R,Jl),j!==null){Qo=j;return}if(R=R.sibling,R!==null){Qo=R;return}Qo=R=c}while(R!==null);as===0&&(as=5)}function Wv(c,R,j){var re=Vi,ge=Bu.transition;try{Bu.transition=null,Vi=1,fk(c,R,j,re)}finally{Bu.transition=ge,Vi=re}return null}function fk(c,R,j,re){do yp();while(Yh!==null);if(Ei&6)throw Error(ba(327));j=c.finishedWork;var ge=c.finishedLanes;if(j===null)return null;if(c.finishedWork=null,c.finishedLanes=0,j===c.current)throw Error(ba(177));c.callbackNode=null,c.callbackPriority=0;var Re=j.lanes|j.childLanes;if(WP(c,Re),c===vs&&(Qo=vs=null,Is=0),!(j.subtreeFlags&2064)&&!(j.flags&2064)||Iy||(Iy=!0,YM(Mm,function(){return yp(),null})),Re=(j.flags&15990)!==0,j.subtreeFlags&15990||Re){Re=Bu.transition,Bu.transition=null;var V=Vi;Vi=1;var B=Ei;Ei|=4,qw.current=null,ak(c,j),OM(j,c),RR(f3),Cm=!!u3,f3=u3=null,c.current=j,ik(j),zP(),Ei=B,Vi=V,Bu.transition=Re}else c.current=j;if(Iy&&(Iy=!1,Yh=c,Gm=ge),Re=c.pendingLanes,Re===0&&(ev=null),BP(j.stateNode),_l(c,Ho()),R!==null)for(re=c.onRecoverableError,j=0;j<R.length;j++)ge=R[j],re(ge.value,{componentStack:ge.stack,digest:ge.digest});if(Hm)throw Hm=!1,c=R3,R3=null,c;return Gm&1&&c.tag!==0&&yp(),Re=c.pendingLanes,Re&1?c===k3?H0++:(H0=0,k3=c):H0=0,hv(),null}function yp(){if(Yh!==null){var c=T6(Gm),R=Bu.transition,j=Vi;try{if(Bu.transition=null,Vi=16>c?16:c,Yh===null)var re=!1;else{if(c=Yh,Yh=null,Gm=0,Ei&6)throw Error(ba(331));var ge=Ei;for(Ei|=4,za=c.current;za!==null;){var Re=za,V=Re.child;if(za.flags&16){var B=Re.deletions;if(B!==null){for(var e=0;e<B.length;e++){var p=B[e];for(za=p;za!==null;){var L=za;switch(L.tag){case 0:case 11:case 15:U0(8,L,Re)}var n=L.child;if(n!==null)n.return=L,za=n;else for(;za!==null;){L=za;var C=L.sibling,T=L.return;if(_M(L),L===p){za=null;break}if(C!==null){C.return=T,za=C;break}za=T}}}var d=Re.alternate;if(d!==null){var y=d.child;if(y!==null){d.child=null;do{var r=y.sibling;y.sibling=null,y=r}while(y!==null)}}za=Re}}if(Re.subtreeFlags&2064&&V!==null)V.return=Re,za=V;else e:for(;za!==null;){if(Re=za,Re.flags&2048)switch(Re.tag){case 0:case 11:case 15:U0(9,Re,Re.return)}var t=Re.sibling;if(t!==null){t.return=Re.return,za=t;break e}za=Re.return}}var i=c.current;for(za=i;za!==null;){V=za;var a=V.child;if(V.subtreeFlags&2064&&a!==null)a.return=V,za=a;else e:for(V=i;za!==null;){if(B=za,B.flags&2048)try{switch(B.tag){case 0:case 11:case 15:b1(9,B)}}catch(u){_o(B,B.return,u)}if(B===V){za=null;break e}var h=B.sibling;if(h!==null){h.return=B.return,za=h;break e}za=B.return}}if(Ei=ge,hv(),qf&&typeof qf.onPostCommitFiberRoot=="function")try{qf.onPostCommitFiberRoot(h1,c)}catch{}re=!0}return re}finally{Vi=j,Bu.transition=R}}return!1}function dA(c,R,j){R=Pp(j,R),R=AM(c,R,1),c=qh(c,R,1),R=fl(),c!==null&&(kg(c,1,R),_l(c,R))}function _o(c,R,j){if(c.tag===3)dA(c,c,j);else for(;R!==null;){if(R.tag===3){dA(R,c,j);break}else if(R.tag===1){var re=R.stateNode;if(typeof R.type.getDerivedStateFromError=="function"||typeof re.componentDidCatch=="function"&&(ev===null||!ev.has(re))){c=Pp(j,c),c=SM(R,c,1),R=qh(R,c,1),c=fl(),R!==null&&(kg(R,1,c),_l(R,c));break}}R=R.return}}function ck(c,R,j){var re=c.pingCache;re!==null&&re.delete(R),R=fl(),c.pingedLanes|=c.suspendedLanes&j,vs===c&&(Is&j)===j&&(as===4||as===3&&(Is&130023424)===Is&&500>Ho()-t2?td(c,0):e2|=j),_l(c,R)}function WM(c,R){R===0&&(c.mode&1?(R=Ay,Ay<<=1,!(Ay&130023424)&&(Ay=4194304)):R=1);var j=fl();c=Yc(c,R),c!==null&&(kg(c,R,j),_l(c,j))}function hk(c){var R=c.memoizedState,j=0;R!==null&&(j=R.retryLane),WM(c,j)}function vk(c,R){var j=0;switch(c.tag){case 13:var re=c.stateNode,ge=c.memoizedState;ge!==null&&(j=ge.retryLane);break;case 19:re=c.stateNode;break;default:throw Error(ba(314))}re!==null&&re.delete(R),WM(c,j)}var jM;jM=function(c,R,j){if(c!==null)if(c.memoizedProps!==R.pendingProps||Dl.current)kl=!0;else{if(!(c.lanes&j)&&!(R.flags&128))return kl=!1,ek(c,R,j);kl=!!(c.flags&131072)}else kl=!1,vo&&R.flags&1048576&&X6(R,_m,R.index);switch(R.lanes=0,R.tag){case 2:var re=R.type;rm(c,R),c=R.pendingProps;var ge=Mp(R,$s.current);gp(R,j),ge=Xw(null,R,re,c,ge,j);var Re=$w();return R.flags|=1,typeof ge=="object"&&ge!==null&&typeof ge.render=="function"&&ge.$$typeof===void 0?(R.tag=1,R.memoizedState=null,R.updateQueue=null,Il(re)?(Re=!0,Dm(R)):Re=!1,R.memoizedState=ge.state!==null&&ge.state!==void 0?ge.state:null,Gw(R),ge.updater=m1,R.stateNode=ge,ge._reactInternals=R,x3(R,re,c,j),R=T3(null,R,re,!0,Re,j)):(R.tag=0,vo&&Re&&Fw(R),sl(null,R,ge,j),R=R.child),R;case 16:re=R.elementType;e:{switch(rm(c,R),c=R.pendingProps,ge=re._init,re=ge(re._payload),R.type=re,ge=R.tag=pk(re),c=yf(re,c),ge){case 0:R=w3(null,R,re,c,j);break e;case 1:R=aA(null,R,re,c,j);break e;case 11:R=rA(null,R,re,c,j);break e;case 14:R=nA(null,R,re,yf(re.type,c),j);break e}throw Error(ba(306,re,""))}return R;case 0:return re=R.type,ge=R.pendingProps,ge=R.elementType===re?ge:yf(re,ge),w3(c,R,re,ge,j);case 1:return re=R.type,ge=R.pendingProps,ge=R.elementType===re?ge:yf(re,ge),aA(c,R,re,ge,j);case 3:e:{if(LM(R),c===null)throw Error(ba(387));re=R.pendingProps,Re=R.memoizedState,ge=Re.element,Q6(c,R),Om(R,re,null,j);var V=R.memoizedState;if(re=V.element,Re.isDehydrated)if(Re={element:re,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},R.updateQueue.baseState=Re,R.memoizedState=Re,R.flags&256){ge=Pp(Error(ba(423)),R),R=iA(c,R,re,j,ge);break e}else if(re!==ge){ge=Pp(Error(ba(424)),R),R=iA(c,R,re,j,ge);break e}else for(Ql=Qh(R.stateNode.containerInfo.firstChild),ql=R,vo=!0,bf=null,j=rM(R,null,re,j),R.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Ep(),re===ge){R=Zc(c,R,j);break e}sl(c,R,re,j)}R=R.child}return R;case 5:return nM(R),c===null&&g3(R),re=R.type,ge=R.pendingProps,Re=c!==null?c.memoizedProps:null,V=ge.children,c3(re,ge)?V=null:Re!==null&&c3(re,Re)&&(R.flags|=32),CM(c,R),sl(c,R,V,j),R.child;case 6:return c===null&&g3(R),null;case 13:return PM(c,R,j);case 4:return Ww(R,R.stateNode.containerInfo),re=R.pendingProps,c===null?R.child=Cp(R,null,re,j):sl(c,R,re,j),R.child;case 11:return re=R.type,ge=R.pendingProps,ge=R.elementType===re?ge:yf(re,ge),rA(c,R,re,ge,j);case 7:return sl(c,R,R.pendingProps,j),R.child;case 8:return sl(c,R,R.pendingProps.children,j),R.child;case 12:return sl(c,R,R.pendingProps.children,j),R.child;case 10:e:{if(re=R.type._context,ge=R.pendingProps,Re=R.memoizedProps,V=ge.value,Ji(zm,re._currentValue),re._currentValue=V,Re!==null)if(Sf(Re.value,V)){if(Re.children===ge.children&&!Dl.current){R=Zc(c,R,j);break e}}else for(Re=R.child,Re!==null&&(Re.return=R);Re!==null;){var B=Re.dependencies;if(B!==null){V=Re.child;for(var e=B.firstContext;e!==null;){if(e.context===re){if(Re.tag===1){e=Uc(-1,j&-j),e.tag=2;var p=Re.updateQueue;if(p!==null){p=p.shared;var L=p.pending;L===null?e.next=e:(e.next=L.next,L.next=e),p.pending=e}}Re.lanes|=j,e=Re.alternate,e!==null&&(e.lanes|=j),y3(Re.return,j,R),B.lanes|=j;break}e=e.next}}else if(Re.tag===10)V=Re.type===R.type?null:Re.child;else if(Re.tag===18){if(V=Re.return,V===null)throw Error(ba(341));V.lanes|=j,B=V.alternate,B!==null&&(B.lanes|=j),y3(V,j,R),V=Re.sibling}else V=Re.child;if(V!==null)V.return=Re;else for(V=Re;V!==null;){if(V===R){V=null;break}if(Re=V.sibling,Re!==null){Re.return=V.return,V=Re;break}V=V.return}Re=V}sl(c,R,ge.children,j),R=R.child}return R;case 9:return ge=R.type,re=R.pendingProps.children,gp(R,j),ge=Uu(ge),re=re(ge),R.flags|=1,sl(c,R,re,j),R.child;case 14:return re=R.type,ge=yf(re,R.pendingProps),ge=yf(re.type,ge),nA(c,R,re,ge,j);case 15:return MM(c,R,R.type,R.pendingProps,j);case 17:return re=R.type,ge=R.pendingProps,ge=R.elementType===re?ge:yf(re,ge),rm(c,R),R.tag=1,Il(re)?(c=!0,Dm(R)):c=!1,gp(R,j),eM(R,re,ge),x3(R,re,ge,j),T3(null,R,re,!0,c,j);case 19:return RM(c,R,j);case 22:return EM(c,R,j)}throw Error(ba(156,R.tag))};function YM(c,R){return m6(c,R)}function dk(c,R,j,re){this.tag=c,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=R,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=re,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fu(c,R,j,re){return new dk(c,R,j,re)}function i2(c){return c=c.prototype,!(!c||!c.isReactComponent)}function pk(c){if(typeof c=="function")return i2(c)?1:0;if(c!=null){if(c=c.$$typeof,c===Sw)return 11;if(c===Mw)return 14}return 2}function rv(c,R){var j=c.alternate;return j===null?(j=Fu(c.tag,R,c.key,c.mode),j.elementType=c.elementType,j.type=c.type,j.stateNode=c.stateNode,j.alternate=c,c.alternate=j):(j.pendingProps=R,j.type=c.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=c.flags&14680064,j.childLanes=c.childLanes,j.lanes=c.lanes,j.child=c.child,j.memoizedProps=c.memoizedProps,j.memoizedState=c.memoizedState,j.updateQueue=c.updateQueue,R=c.dependencies,j.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext},j.sibling=c.sibling,j.index=c.index,j.ref=c.ref,j}function im(c,R,j,re,ge,Re){var V=2;if(re=c,typeof c=="function")i2(c)&&(V=1);else if(typeof c=="string")V=5;else e:switch(c){case jd:return rd(j.children,ge,Re,R);case Aw:V=8,ge|=8;break;case Gb:return c=Fu(12,j,R,ge|2),c.elementType=Gb,c.lanes=Re,c;case Wb:return c=Fu(13,j,R,ge),c.elementType=Wb,c.lanes=Re,c;case jb:return c=Fu(19,j,R,ge),c.elementType=jb,c.lanes=Re,c;case t6:return T1(j,ge,Re,R);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case qS:V=10;break e;case e6:V=9;break e;case Sw:V=11;break e;case Mw:V=14;break e;case Nh:V=16,re=null;break e}throw Error(ba(130,c==null?c:typeof c,""))}return R=Fu(V,j,R,ge),R.elementType=c,R.type=re,R.lanes=Re,R}function rd(c,R,j,re){return c=Fu(7,c,re,R),c.lanes=j,c}function T1(c,R,j,re){return c=Fu(22,c,re,R),c.elementType=t6,c.lanes=j,c.stateNode={isHidden:!1},c}function ib(c,R,j){return c=Fu(6,c,null,R),c.lanes=j,c}function ob(c,R,j){return R=Fu(4,c.children!==null?c.children:[],c.key,R),R.lanes=j,R.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},R}function gk(c,R,j,re,ge){this.tag=R,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ux(0),this.expirationTimes=Ux(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ux(0),this.identifierPrefix=re,this.onRecoverableError=ge,this.mutableSourceEagerHydrationData=null}function o2(c,R,j,re,ge,Re,V,B,e){return c=new gk(c,R,j,B,e),R===1?(R=1,Re===!0&&(R|=8)):R=0,Re=Fu(3,null,null,R),c.current=Re,Re.stateNode=c,Re.memoizedState={element:re,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(Re),c}function yk(c,R,j){var re=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wd,key:re==null?null:""+re,children:c,containerInfo:R,implementation:j}}function ZM(c){if(!c)return sv;c=c._reactInternals;e:{if(hd(c)!==c||c.tag!==1)throw Error(ba(170));var R=c;do{switch(R.tag){case 3:R=R.stateNode.context;break e;case 1:if(Il(R.type)){R=R.stateNode.__reactInternalMemoizedMergedChildContext;break e}}R=R.return}while(R!==null);throw Error(ba(171))}if(c.tag===1){var j=c.type;if(Il(j))return Y6(c,j,R)}return R}function XM(c,R,j,re,ge,Re,V,B,e){return c=o2(j,re,!0,c,ge,Re,V,B,e),c.context=ZM(null),j=c.current,re=fl(),ge=tv(j),Re=Uc(re,ge),Re.callback=R??null,qh(j,Re,ge),c.current.lanes=ge,kg(c,ge,re),_l(c,re),c}function A1(c,R,j,re){var ge=R.current,Re=fl(),V=tv(ge);return j=ZM(j),R.context===null?R.context=j:R.pendingContext=j,R=Uc(Re,V),R.payload={element:c},re=re===void 0?null:re,re!==null&&(R.callback=re),c=qh(ge,R,V),c!==null&&(Af(c,ge,V,Re),qy(c,ge,V)),V}function jm(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function pA(c,R){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var j=c.retryLane;c.retryLane=j!==0&&j<R?j:R}}function s2(c,R){pA(c,R),(c=c.alternate)&&pA(c,R)}function mk(){return null}var $M=typeof reportError=="function"?reportError:function(c){console.error(c)};function l2(c){this._internalRoot=c}S1.prototype.render=l2.prototype.render=function(c){var R=this._internalRoot;if(R===null)throw Error(ba(409));A1(c,R,null,null)};S1.prototype.unmount=l2.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var R=c.containerInfo;fd(function(){A1(null,c,null,null)}),R[jc]=null}};function S1(c){this._internalRoot=c}S1.prototype.unstable_scheduleHydration=function(c){if(c){var R=M6();c={blockedOn:null,target:c,priority:R};for(var j=0;j<Hh.length&&R!==0&&R<Hh[j].priority;j++);Hh.splice(j,0,c),j===0&&C6(c)}};function u2(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function M1(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function gA(){}function xk(c,R,j,re,ge){if(ge){if(typeof re=="function"){var Re=re;re=function(){var p=jm(V);Re.call(p)}}var V=XM(R,re,c,0,null,!1,!1,"",gA);return c._reactRootContainer=V,c[jc]=V.current,ug(c.nodeType===8?c.parentNode:c),fd(),V}for(;ge=c.lastChild;)c.removeChild(ge);if(typeof re=="function"){var B=re;re=function(){var p=jm(e);B.call(p)}}var e=o2(c,0,!1,null,null,!1,!1,"",gA);return c._reactRootContainer=e,c[jc]=e.current,ug(c.nodeType===8?c.parentNode:c),fd(function(){A1(R,e,j,re)}),e}function E1(c,R,j,re,ge){var Re=j._reactRootContainer;if(Re){var V=Re;if(typeof ge=="function"){var B=ge;ge=function(){var e=jm(V);B.call(e)}}A1(R,V,c,ge)}else V=xk(j,R,c,ge,re);return jm(V)}A6=function(c){switch(c.tag){case 3:var R=c.stateNode;if(R.current.memoizedState.isDehydrated){var j=S0(R.pendingLanes);j!==0&&(Lw(R,j|1),_l(R,Ho()),!(Ei&6)&&(Rp=Ho()+500,hv()))}break;case 13:fd(function(){var re=Yc(c,1);if(re!==null){var ge=fl();Af(re,c,1,ge)}}),s2(c,1)}};Pw=function(c){if(c.tag===13){var R=Yc(c,134217728);if(R!==null){var j=fl();Af(R,c,134217728,j)}s2(c,134217728)}};S6=function(c){if(c.tag===13){var R=tv(c),j=Yc(c,R);if(j!==null){var re=fl();Af(j,c,R,re)}s2(c,R)}};M6=function(){return Vi};E6=function(c,R){var j=Vi;try{return Vi=c,R()}finally{Vi=j}};t3=function(c,R,j){switch(R){case"input":if(Xb(c,j),R=j.name,j.type==="radio"&&R!=null){for(j=c;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+R)+'][type="radio"]'),R=0;R<j.length;R++){var re=j[R];if(re!==c&&re.form===c.form){var ge=g1(re);if(!ge)throw Error(ba(90));n6(re),Xb(re,ge)}}}break;case"textarea":i6(c,j);break;case"select":R=j.value,R!=null&&hp(c,!!j.multiple,R,!1)}};h6=r2;v6=fd;var bk={usingClientEntryPoint:!1,Events:[Ig,$d,g1,f6,c6,r2]},p0={findFiberByHostInstance:Kv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wk={bundleType:p0.bundleType,version:p0.version,rendererPackageName:p0.rendererPackageName,rendererConfig:p0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kc.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=g6(c),c===null?null:c.stateNode},findFiberByHostInstance:p0.findFiberByHostInstance||mk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_y.isDisabled&&_y.supportsFiber)try{h1=_y.inject(wk),qf=_y}catch{}}au.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bk;au.createPortal=function(c,R){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u2(R))throw Error(ba(200));return yk(c,R,null,j)};au.createRoot=function(c,R){if(!u2(c))throw Error(ba(299));var j=!1,re="",ge=$M;return R!=null&&(R.unstable_strictMode===!0&&(j=!0),R.identifierPrefix!==void 0&&(re=R.identifierPrefix),R.onRecoverableError!==void 0&&(ge=R.onRecoverableError)),R=o2(c,1,!1,null,null,j,!1,re,ge),c[jc]=R.current,ug(c.nodeType===8?c.parentNode:c),new l2(R)};au.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var R=c._reactInternals;if(R===void 0)throw typeof c.render=="function"?Error(ba(188)):(c=Object.keys(c).join(","),Error(ba(268,c)));return c=g6(R),c=c===null?null:c.stateNode,c};au.flushSync=function(c){return fd(c)};au.hydrate=function(c,R,j){if(!M1(R))throw Error(ba(200));return E1(null,c,R,!0,j)};au.hydrateRoot=function(c,R,j){if(!u2(c))throw Error(ba(405));var re=j!=null&&j.hydratedSources||null,ge=!1,Re="",V=$M;if(j!=null&&(j.unstable_strictMode===!0&&(ge=!0),j.identifierPrefix!==void 0&&(Re=j.identifierPrefix),j.onRecoverableError!==void 0&&(V=j.onRecoverableError)),R=XM(R,null,c,1,j??null,ge,!1,Re,V),c[jc]=R.current,ug(c),re)for(c=0;c<re.length;c++)j=re[c],ge=j._getVersion,ge=ge(j._source),R.mutableSourceEagerHydrationData==null?R.mutableSourceEagerHydrationData=[j,ge]:R.mutableSourceEagerHydrationData.push(j,ge);return new S1(R)};au.render=function(c,R,j){if(!M1(R))throw Error(ba(200));return E1(null,c,R,!1,j)};au.unmountComponentAtNode=function(c){if(!M1(c))throw Error(ba(40));return c._reactRootContainer?(fd(function(){E1(null,null,c,!1,function(){c._reactRootContainer=null,c[jc]=null})}),!0):!1};au.unstable_batchedUpdates=r2;au.unstable_renderSubtreeIntoContainer=function(c,R,j,re){if(!M1(j))throw Error(ba(200));if(c==null||c._reactInternals===void 0)throw Error(ba(38));return E1(c,R,j,!1,re)};au.version="18.2.0-next-9e3b772b8-20220608";function KM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KM)}catch(c){console.error(c)}}KM(),XS.exports=au;var f2=XS.exports,yA=f2;Vb.createRoot=yA.createRoot,Vb.hydrateRoot=yA.hydrateRoot;/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ym(){return Ym=Object.assign?Object.assign.bind():function(c){for(var R=1;R<arguments.length;R++){var j=arguments[R];for(var re in j)Object.prototype.hasOwnProperty.call(j,re)&&(c[re]=j[re])}return c},Ym.apply(this,arguments)}var Zh;(function(c){c.Pop="POP",c.Push="PUSH",c.Replace="REPLACE"})(Zh||(Zh={}));const mA="popstate";function Tk(c){c===void 0&&(c={});function R(re,ge){let{pathname:Re,search:V,hash:B}=re.location;return _3("",{pathname:Re,search:V,hash:B},ge.state&&ge.state.usr||null,ge.state&&ge.state.key||"default")}function j(re,ge){return typeof ge=="string"?ge:JM(ge)}return Sk(R,j,null,c)}function zl(c,R){if(c===!1||c===null||typeof c>"u")throw new Error(R)}function c2(c,R){if(!c){typeof console<"u"&&console.warn(R);try{throw new Error(R)}catch{}}}function Ak(){return Math.random().toString(36).substr(2,8)}function xA(c,R){return{usr:c.state,key:c.key,idx:R}}function _3(c,R,j,re){return j===void 0&&(j=null),Ym({pathname:typeof c=="string"?c:c.pathname,search:"",hash:""},typeof R=="string"?C1(R):R,{state:j,key:R&&R.key||re||Ak()})}function JM(c){let{pathname:R="/",search:j="",hash:re=""}=c;return j&&j!=="?"&&(R+=j.charAt(0)==="?"?j:"?"+j),re&&re!=="#"&&(R+=re.charAt(0)==="#"?re:"#"+re),R}function C1(c){let R={};if(c){let j=c.indexOf("#");j>=0&&(R.hash=c.substr(j),c=c.substr(0,j));let re=c.indexOf("?");re>=0&&(R.search=c.substr(re),c=c.substr(0,re)),c&&(R.pathname=c)}return R}function Sk(c,R,j,re){re===void 0&&(re={});let{window:ge=document.defaultView,v5Compat:Re=!1}=re,V=ge.history,B=Zh.Pop,e=null,p=L();p==null&&(p=0,V.replaceState(Ym({},V.state,{idx:p}),""));function L(){return(V.state||{idx:null}).idx}function n(){B=Zh.Pop;let r=L(),t=r==null?null:r-p;p=r,e&&e({action:B,location:y.location,delta:t})}function C(r,t){B=Zh.Push;let i=_3(y.location,r,t);j&&j(i,r),p=L()+1;let a=xA(i,p),h=y.createHref(i);try{V.pushState(a,"",h)}catch(u){if(u instanceof DOMException&&u.name==="DataCloneError")throw u;ge.location.assign(h)}Re&&e&&e({action:B,location:y.location,delta:1})}function T(r,t){B=Zh.Replace;let i=_3(y.location,r,t);j&&j(i,r),p=L();let a=xA(i,p),h=y.createHref(i);V.replaceState(a,"",h),Re&&e&&e({action:B,location:y.location,delta:0})}function d(r){let t=ge.location.origin!=="null"?ge.location.origin:ge.location.href,i=typeof r=="string"?r:JM(r);return zl(t,"No window.location.(origin|href) available to create URL for href: "+i),new URL(i,t)}let y={get action(){return B},get location(){return c(ge,V)},listen(r){if(e)throw new Error("A history only accepts one active listener");return ge.addEventListener(mA,n),e=r,()=>{ge.removeEventListener(mA,n),e=null}},createHref(r){return R(ge,r)},createURL:d,encodeLocation(r){let t=d(r);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:C,replace:T,go(r){return V.go(r)}};return y}var bA;(function(c){c.data="data",c.deferred="deferred",c.redirect="redirect",c.error="error"})(bA||(bA={}));function Mk(c,R,j){j===void 0&&(j="/");let re=typeof R=="string"?C1(R):R,ge=e8(re.pathname||"/",j);if(ge==null)return null;let Re=QM(c);Ek(Re);let V=null;for(let B=0;V==null&&B<Re.length;++B)V=zk(Re[B],Bk(ge));return V}function QM(c,R,j,re){R===void 0&&(R=[]),j===void 0&&(j=[]),re===void 0&&(re="");let ge=(Re,V,B)=>{let e={relativePath:B===void 0?Re.path||"":B,caseSensitive:Re.caseSensitive===!0,childrenIndex:V,route:Re};e.relativePath.startsWith("/")&&(zl(e.relativePath.startsWith(re),'Absolute route path "'+e.relativePath+'" nested under path '+('"'+re+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),e.relativePath=e.relativePath.slice(re.length));let p=mp([re,e.relativePath]),L=j.concat(e);Re.children&&Re.children.length>0&&(zl(Re.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),QM(Re.children,R,L,p)),!(Re.path==null&&!Re.index)&&R.push({path:p,score:Ik(p,Re.index),routesMeta:L})};return c.forEach((Re,V)=>{var B;if(Re.path===""||!((B=Re.path)!=null&&B.includes("?")))ge(Re,V);else for(let e of qM(Re.path))ge(Re,V,e)}),R}function qM(c){let R=c.split("/");if(R.length===0)return[];let[j,...re]=R,ge=j.endsWith("?"),Re=j.replace(/\?$/,"");if(re.length===0)return ge?[Re,""]:[Re];let V=qM(re.join("/")),B=[];return B.push(...V.map(e=>e===""?Re:[Re,e].join("/"))),ge&&B.push(...V),B.map(e=>c.startsWith("/")&&e===""?"/":e)}function Ek(c){c.sort((R,j)=>R.score!==j.score?j.score-R.score:_k(R.routesMeta.map(re=>re.childrenIndex),j.routesMeta.map(re=>re.childrenIndex)))}const Ck=/^:\w+$/,Lk=3,Pk=2,Rk=1,kk=10,Dk=-2,wA=c=>c==="*";function Ik(c,R){let j=c.split("/"),re=j.length;return j.some(wA)&&(re+=Dk),R&&(re+=Pk),j.filter(ge=>!wA(ge)).reduce((ge,Re)=>ge+(Ck.test(Re)?Lk:Re===""?Rk:kk),re)}function _k(c,R){return c.length===R.length&&c.slice(0,-1).every((re,ge)=>re===R[ge])?c[c.length-1]-R[R.length-1]:0}function zk(c,R){let{routesMeta:j}=c,re={},ge="/",Re=[];for(let V=0;V<j.length;++V){let B=j[V],e=V===j.length-1,p=ge==="/"?R:R.slice(ge.length)||"/",L=Fk({path:B.relativePath,caseSensitive:B.caseSensitive,end:e},p);if(!L)return null;Object.assign(re,L.params);let n=B.route;Re.push({params:re,pathname:mp([ge,L.pathname]),pathnameBase:Uk(mp([ge,L.pathnameBase])),route:n}),L.pathnameBase!=="/"&&(ge=mp([ge,L.pathnameBase]))}return Re}function Fk(c,R){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[j,re]=Ok(c.path,c.caseSensitive,c.end),ge=R.match(j);if(!ge)return null;let Re=ge[0],V=Re.replace(/(.)\/+$/,"$1"),B=ge.slice(1);return{params:re.reduce((p,L,n)=>{let{paramName:C,isOptional:T}=L;if(C==="*"){let y=B[n]||"";V=Re.slice(0,Re.length-y.length).replace(/(.)\/+$/,"$1")}const d=B[n];return T&&!d?p[C]=void 0:p[C]=Nk(d||"",C),p},{}),pathname:Re,pathnameBase:V,pattern:c}}function Ok(c,R,j){R===void 0&&(R=!1),j===void 0&&(j=!0),c2(c==="*"||!c.endsWith("*")||c.endsWith("/*"),'Route path "'+c+'" will be treated as if it were '+('"'+c.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+c.replace(/\*$/,"/*")+'".'));let re=[],ge="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(V,B,e)=>(re.push({paramName:B,isOptional:e!=null}),e?"/?([^\\/]+)?":"/([^\\/]+)"));return c.endsWith("*")?(re.push({paramName:"*"}),ge+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):j?ge+="\\/*$":c!==""&&c!=="/"&&(ge+="(?:(?=\\/|$))"),[new RegExp(ge,R?void 0:"i"),re]}function Bk(c){try{return decodeURI(c)}catch(R){return c2(!1,'The URL path "'+c+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+R+").")),c}}function Nk(c,R){try{return decodeURIComponent(c)}catch(j){return c2(!1,'The value for the URL param "'+R+'" will not be decoded because'+(' the string "'+c+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+j+").")),c}}function e8(c,R){if(R==="/")return c;if(!c.toLowerCase().startsWith(R.toLowerCase()))return null;let j=R.endsWith("/")?R.length-1:R.length,re=c.charAt(j);return re&&re!=="/"?null:c.slice(j)||"/"}const mp=c=>c.join("/").replace(/\/\/+/g,"/"),Uk=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/");function Vk(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}const t8=["post","put","patch","delete"];new Set(t8);const Hk=["get",...t8];new Set(Hk);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z3(){return z3=Object.assign?Object.assign.bind():function(c){for(var R=1;R<arguments.length;R++){var j=arguments[R];for(var re in j)Object.prototype.hasOwnProperty.call(j,re)&&(c[re]=j[re])}return c},z3.apply(this,arguments)}const Gk=gn.createContext(null),Wk=gn.createContext(null),r8=gn.createContext(null),L1=gn.createContext(null),P1=gn.createContext({outlet:null,matches:[],isDataRoute:!1}),n8=gn.createContext(null);function h2(){return gn.useContext(L1)!=null}function jk(){return h2()||zl(!1),gn.useContext(L1).location}function Yk(c,R){return Zk(c,R)}function Zk(c,R,j){h2()||zl(!1);let{navigator:re}=gn.useContext(r8),{matches:ge}=gn.useContext(P1),Re=ge[ge.length-1],V=Re?Re.params:{};Re&&Re.pathname;let B=Re?Re.pathnameBase:"/";Re&&Re.route;let e=jk(),p;if(R){var L;let y=typeof R=="string"?C1(R):R;B==="/"||(L=y.pathname)!=null&&L.startsWith(B)||zl(!1),p=y}else p=e;let n=p.pathname||"/",C=B==="/"?n:n.slice(B.length)||"/",T=Mk(c,{pathname:C}),d=Qk(T&&T.map(y=>Object.assign({},y,{params:Object.assign({},V,y.params),pathname:mp([B,re.encodeLocation?re.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?B:mp([B,re.encodeLocation?re.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),ge,j);return R&&d?gn.createElement(L1.Provider,{value:{location:z3({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Zh.Pop}},d):d}function Xk(){let c=rD(),R=Vk(c)?c.status+" "+c.statusText:c instanceof Error?c.message:JSON.stringify(c),j=c instanceof Error?c.stack:null,ge={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},Re=null;return gn.createElement(gn.Fragment,null,gn.createElement("h2",null,"Unexpected Application Error!"),gn.createElement("h3",{style:{fontStyle:"italic"}},R),j?gn.createElement("pre",{style:ge},j):null,Re)}const $k=gn.createElement(Xk,null);class Kk extends gn.Component{constructor(R){super(R),this.state={location:R.location,revalidation:R.revalidation,error:R.error}}static getDerivedStateFromError(R){return{error:R}}static getDerivedStateFromProps(R,j){return j.location!==R.location||j.revalidation!=="idle"&&R.revalidation==="idle"?{error:R.error,location:R.location,revalidation:R.revalidation}:{error:R.error||j.error,location:j.location,revalidation:R.revalidation||j.revalidation}}componentDidCatch(R,j){console.error("React Router caught the following error during render",R,j)}render(){return this.state.error?gn.createElement(P1.Provider,{value:this.props.routeContext},gn.createElement(n8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jk(c){let{routeContext:R,match:j,children:re}=c,ge=gn.useContext(Gk);return ge&&ge.static&&ge.staticContext&&(j.route.errorElement||j.route.ErrorBoundary)&&(ge.staticContext._deepestRenderedBoundaryId=j.route.id),gn.createElement(P1.Provider,{value:R},re)}function Qk(c,R,j){var re;if(R===void 0&&(R=[]),j===void 0&&(j=null),c==null){var ge;if((ge=j)!=null&&ge.errors)c=j.matches;else return null}let Re=c,V=(re=j)==null?void 0:re.errors;if(V!=null){let B=Re.findIndex(e=>e.route.id&&(V==null?void 0:V[e.route.id]));B>=0||zl(!1),Re=Re.slice(0,Math.min(Re.length,B+1))}return Re.reduceRight((B,e,p)=>{let L=e.route.id?V==null?void 0:V[e.route.id]:null,n=null;j&&(n=e.route.errorElement||$k);let C=R.concat(Re.slice(0,p+1)),T=()=>{let d;return L?d=n:e.route.Component?d=gn.createElement(e.route.Component,null):e.route.element?d=e.route.element:d=B,gn.createElement(Jk,{match:e,routeContext:{outlet:B,matches:C,isDataRoute:j!=null},children:d})};return j&&(e.route.ErrorBoundary||e.route.errorElement||p===0)?gn.createElement(Kk,{location:j.location,revalidation:j.revalidation,component:n,error:L,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var F3=function(c){return c.UseBlocker="useBlocker",c.UseLoaderData="useLoaderData",c.UseActionData="useActionData",c.UseRouteError="useRouteError",c.UseNavigation="useNavigation",c.UseRouteLoaderData="useRouteLoaderData",c.UseMatches="useMatches",c.UseRevalidator="useRevalidator",c.UseNavigateStable="useNavigate",c.UseRouteId="useRouteId",c}(F3||{});function qk(c){let R=gn.useContext(Wk);return R||zl(!1),R}function eD(c){let R=gn.useContext(P1);return R||zl(!1),R}function tD(c){let R=eD(),j=R.matches[R.matches.length-1];return j.route.id||zl(!1),j.route.id}function rD(){var c;let R=gn.useContext(n8),j=qk(F3.UseRouteError),re=tD(F3.UseRouteError);return R||((c=j.errors)==null?void 0:c[re])}function a8(c){zl(!1)}function nD(c){let{basename:R="/",children:j=null,location:re,navigationType:ge=Zh.Pop,navigator:Re,static:V=!1}=c;h2()&&zl(!1);let B=R.replace(/^\/*/,"/"),e=gn.useMemo(()=>({basename:B,navigator:Re,static:V}),[B,Re,V]);typeof re=="string"&&(re=C1(re));let{pathname:p="/",search:L="",hash:n="",state:C=null,key:T="default"}=re,d=gn.useMemo(()=>{let y=e8(p,B);return y==null?null:{location:{pathname:y,search:L,hash:n,state:C,key:T},navigationType:ge}},[B,p,L,n,C,T,ge]);return d==null?null:gn.createElement(r8.Provider,{value:e},gn.createElement(L1.Provider,{children:j,value:d}))}function aD(c){let{children:R,location:j}=c;return Yk(O3(R),j)}new Promise(()=>{});function O3(c,R){R===void 0&&(R=[]);let j=[];return gn.Children.forEach(c,(re,ge)=>{if(!gn.isValidElement(re))return;let Re=[...R,ge];if(re.type===gn.Fragment){j.push.apply(j,O3(re.props.children,Re));return}re.type!==a8&&zl(!1),!re.props.index||!re.props.children||zl(!1);let V={id:re.props.id||Re.join("-"),caseSensitive:re.props.caseSensitive,element:re.props.element,Component:re.props.Component,index:re.props.index,path:re.props.path,loader:re.props.loader,action:re.props.action,errorElement:re.props.errorElement,ErrorBoundary:re.props.ErrorBoundary,hasErrorBoundary:re.props.ErrorBoundary!=null||re.props.errorElement!=null,shouldRevalidate:re.props.shouldRevalidate,handle:re.props.handle,lazy:re.props.lazy};re.props.children&&(V.children=O3(re.props.children,Re)),j.push(V)}),j}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const iD="startTransition",TA=Ub[iD];function oD(c){let{basename:R,children:j,future:re,window:ge}=c,Re=gn.useRef();Re.current==null&&(Re.current=Tk({window:ge,v5Compat:!0}));let V=Re.current,[B,e]=gn.useState({action:V.action,location:V.location}),{v7_startTransition:p}=re||{},L=gn.useCallback(n=>{p&&TA?TA(()=>e(n)):e(n)},[e,p]);return gn.useLayoutEffect(()=>V.listen(L),[V,L]),gn.createElement(nD,{basename:R,children:j,location:B.location,navigationType:B.action,navigator:V})}var AA;(function(c){c.UseScrollRestoration="useScrollRestoration",c.UseSubmit="useSubmit",c.UseSubmitFetcher="useSubmitFetcher",c.UseFetcher="useFetcher",c.useViewTransitionState="useViewTransitionState"})(AA||(AA={}));var SA;(function(c){c.UseFetcher="useFetcher",c.UseFetchers="useFetchers",c.UseScrollRestoration="useScrollRestoration"})(SA||(SA={}));function sD(c){if(c.sheet)return c.sheet;for(var R=0;R<document.styleSheets.length;R++)if(document.styleSheets[R].ownerNode===c)return document.styleSheets[R]}function lD(c){var R=document.createElement("style");return R.setAttribute("data-emotion",c.key),c.nonce!==void 0&&R.setAttribute("nonce",c.nonce),R.appendChild(document.createTextNode("")),R.setAttribute("data-s",""),R}var uD=function(){function c(j){var re=this;this._insertTag=function(ge){var Re;re.tags.length===0?re.insertionPoint?Re=re.insertionPoint.nextSibling:re.prepend?Re=re.container.firstChild:Re=re.before:Re=re.tags[re.tags.length-1].nextSibling,re.container.insertBefore(ge,Re),re.tags.push(ge)},this.isSpeedy=j.speedy===void 0?!0:j.speedy,this.tags=[],this.ctr=0,this.nonce=j.nonce,this.key=j.key,this.container=j.container,this.prepend=j.prepend,this.insertionPoint=j.insertionPoint,this.before=null}var R=c.prototype;return R.hydrate=function(re){re.forEach(this._insertTag)},R.insert=function(re){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lD(this));var ge=this.tags[this.tags.length-1];if(this.isSpeedy){var Re=sD(ge);try{Re.insertRule(re,Re.cssRules.length)}catch{}}else ge.appendChild(document.createTextNode(re));this.ctr++},R.flush=function(){this.tags.forEach(function(re){return re.parentNode&&re.parentNode.removeChild(re)}),this.tags=[],this.ctr=0},c}(),Zs="-ms-",Zm="-moz-",Di="-webkit-",i8="comm",v2="rule",d2="decl",fD="@import",o8="@keyframes",cD="@layer",hD=Math.abs,R1=String.fromCharCode,vD=Object.assign;function dD(c,R){return Ds(c,0)^45?(((R<<2^Ds(c,0))<<2^Ds(c,1))<<2^Ds(c,2))<<2^Ds(c,3):0}function s8(c){return c.trim()}function pD(c,R){return(c=R.exec(c))?c[0]:c}function Ii(c,R,j){return c.replace(R,j)}function B3(c,R){return c.indexOf(R)}function Ds(c,R){return c.charCodeAt(R)|0}function mg(c,R,j){return c.slice(R,j)}function Kf(c){return c.length}function p2(c){return c.length}function zy(c,R){return R.push(c),c}function gD(c,R){return c.map(R).join("")}var k1=1,kp=1,l8=0,Fl=0,Jo=0,Np="";function D1(c,R,j,re,ge,Re,V){return{value:c,root:R,parent:j,type:re,props:ge,children:Re,line:k1,column:kp,length:V,return:""}}function g0(c,R){return vD(D1("",null,null,"",null,null,0),c,{length:-c.length},R)}function yD(){return Jo}function mD(){return Jo=Fl>0?Ds(Np,--Fl):0,kp--,Jo===10&&(kp=1,k1--),Jo}function eu(){return Jo=Fl<l8?Ds(Np,Fl++):0,kp++,Jo===10&&(kp=1,k1++),Jo}function tc(){return Ds(Np,Fl)}function om(){return Fl}function zg(c,R){return mg(Np,c,R)}function xg(c){switch(c){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function u8(c){return k1=kp=1,l8=Kf(Np=c),Fl=0,[]}function f8(c){return Np="",c}function sm(c){return s8(zg(Fl-1,N3(c===91?c+2:c===40?c+1:c)))}function xD(c){for(;(Jo=tc())&&Jo<33;)eu();return xg(c)>2||xg(Jo)>3?"":" "}function bD(c,R){for(;--R&&eu()&&!(Jo<48||Jo>102||Jo>57&&Jo<65||Jo>70&&Jo<97););return zg(c,om()+(R<6&&tc()==32&&eu()==32))}function N3(c){for(;eu();)switch(Jo){case c:return Fl;case 34:case 39:c!==34&&c!==39&&N3(Jo);break;case 40:c===41&&N3(c);break;case 92:eu();break}return Fl}function wD(c,R){for(;eu()&&c+Jo!==57;)if(c+Jo===84&&tc()===47)break;return"/*"+zg(R,Fl-1)+"*"+R1(c===47?c:eu())}function TD(c){for(;!xg(tc());)eu();return zg(c,Fl)}function AD(c){return f8(lm("",null,null,null,[""],c=u8(c),0,[0],c))}function lm(c,R,j,re,ge,Re,V,B,e){for(var p=0,L=0,n=V,C=0,T=0,d=0,y=1,r=1,t=1,i=0,a="",h=ge,u=Re,s=re,m=a;r;)switch(d=i,i=eu()){case 40:if(d!=108&&Ds(m,n-1)==58){B3(m+=Ii(sm(i),"&","&\f"),"&\f")!=-1&&(t=-1);break}case 34:case 39:case 91:m+=sm(i);break;case 9:case 10:case 13:case 32:m+=xD(d);break;case 92:m+=bD(om()-1,7);continue;case 47:switch(tc()){case 42:case 47:zy(SD(wD(eu(),om()),R,j),e);break;default:m+="/"}break;case 123*y:B[p++]=Kf(m)*t;case 125*y:case 59:case 0:switch(i){case 0:case 125:r=0;case 59+L:t==-1&&(m=Ii(m,/\f/g,"")),T>0&&Kf(m)-n&&zy(T>32?EA(m+";",re,j,n-1):EA(Ii(m," ","")+";",re,j,n-2),e);break;case 59:m+=";";default:if(zy(s=MA(m,R,j,p,L,ge,B,a,h=[],u=[],n),Re),i===123)if(L===0)lm(m,R,s,s,h,Re,n,B,u);else switch(C===99&&Ds(m,3)===110?100:C){case 100:case 108:case 109:case 115:lm(c,s,s,re&&zy(MA(c,s,s,0,0,ge,B,a,ge,h=[],n),u),ge,u,n,B,re?h:u);break;default:lm(m,s,s,s,[""],u,0,B,u)}}p=L=T=0,y=t=1,a=m="",n=V;break;case 58:n=1+Kf(m),T=d;default:if(y<1){if(i==123)--y;else if(i==125&&y++==0&&mD()==125)continue}switch(m+=R1(i),i*y){case 38:t=L>0?1:(m+="\f",-1);break;case 44:B[p++]=(Kf(m)-1)*t,t=1;break;case 64:tc()===45&&(m+=sm(eu())),C=tc(),L=n=Kf(a=m+=TD(om())),i++;break;case 45:d===45&&Kf(m)==2&&(y=0)}}return Re}function MA(c,R,j,re,ge,Re,V,B,e,p,L){for(var n=ge-1,C=ge===0?Re:[""],T=p2(C),d=0,y=0,r=0;d<re;++d)for(var t=0,i=mg(c,n+1,n=hD(y=V[d])),a=c;t<T;++t)(a=s8(y>0?C[t]+" "+i:Ii(i,/&\f/g,C[t])))&&(e[r++]=a);return D1(c,R,j,ge===0?v2:B,e,p,L)}function SD(c,R,j){return D1(c,R,j,i8,R1(yD()),mg(c,2,-2),0)}function EA(c,R,j,re){return D1(c,R,j,d2,mg(c,0,re),mg(c,re+1,-1),re)}function xp(c,R){for(var j="",re=p2(c),ge=0;ge<re;ge++)j+=R(c[ge],ge,c,R)||"";return j}function MD(c,R,j,re){switch(c.type){case cD:if(c.children.length)break;case fD:case d2:return c.return=c.return||c.value;case i8:return"";case o8:return c.return=c.value+"{"+xp(c.children,re)+"}";case v2:c.value=c.props.join(",")}return Kf(j=xp(c.children,re))?c.return=c.value+"{"+j+"}":""}function ED(c){var R=p2(c);return function(j,re,ge,Re){for(var V="",B=0;B<R;B++)V+=c[B](j,re,ge,Re)||"";return V}}function CD(c){return function(R){R.root||(R=R.return)&&c(R)}}var CA=function(R){var j=new WeakMap;return function(re){if(j.has(re))return j.get(re);var ge=R(re);return j.set(re,ge),ge}};function c8(c){var R=Object.create(null);return function(j){return R[j]===void 0&&(R[j]=c(j)),R[j]}}var LD=function(R,j,re){for(var ge=0,Re=0;ge=Re,Re=tc(),ge===38&&Re===12&&(j[re]=1),!xg(Re);)eu();return zg(R,Fl)},PD=function(R,j){var re=-1,ge=44;do switch(xg(ge)){case 0:ge===38&&tc()===12&&(j[re]=1),R[re]+=LD(Fl-1,j,re);break;case 2:R[re]+=sm(ge);break;case 4:if(ge===44){R[++re]=tc()===58?"&\f":"",j[re]=R[re].length;break}default:R[re]+=R1(ge)}while(ge=eu());return R},RD=function(R,j){return f8(PD(u8(R),j))},LA=new WeakMap,kD=function(R){if(!(R.type!=="rule"||!R.parent||R.length<1)){for(var j=R.value,re=R.parent,ge=R.column===re.column&&R.line===re.line;re.type!=="rule";)if(re=re.parent,!re)return;if(!(R.props.length===1&&j.charCodeAt(0)!==58&&!LA.get(re))&&!ge){LA.set(R,!0);for(var Re=[],V=RD(j,Re),B=re.props,e=0,p=0;e<V.length;e++)for(var L=0;L<B.length;L++,p++)R.props[p]=Re[e]?V[e].replace(/&\f/g,B[L]):B[L]+" "+V[e]}}},DD=function(R){if(R.type==="decl"){var j=R.value;j.charCodeAt(0)===108&&j.charCodeAt(2)===98&&(R.return="",R.value="")}};function h8(c,R){switch(dD(c,R)){case 5103:return Di+"print-"+c+c;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Di+c+c;case 5349:case 4246:case 4810:case 6968:case 2756:return Di+c+Zm+c+Zs+c+c;case 6828:case 4268:return Di+c+Zs+c+c;case 6165:return Di+c+Zs+"flex-"+c+c;case 5187:return Di+c+Ii(c,/(\w+).+(:[^]+)/,Di+"box-$1$2"+Zs+"flex-$1$2")+c;case 5443:return Di+c+Zs+"flex-item-"+Ii(c,/flex-|-self/,"")+c;case 4675:return Di+c+Zs+"flex-line-pack"+Ii(c,/align-content|flex-|-self/,"")+c;case 5548:return Di+c+Zs+Ii(c,"shrink","negative")+c;case 5292:return Di+c+Zs+Ii(c,"basis","preferred-size")+c;case 6060:return Di+"box-"+Ii(c,"-grow","")+Di+c+Zs+Ii(c,"grow","positive")+c;case 4554:return Di+Ii(c,/([^-])(transform)/g,"$1"+Di+"$2")+c;case 6187:return Ii(Ii(Ii(c,/(zoom-|grab)/,Di+"$1"),/(image-set)/,Di+"$1"),c,"")+c;case 5495:case 3959:return Ii(c,/(image-set\([^]*)/,Di+"$1$`$1");case 4968:return Ii(Ii(c,/(.+:)(flex-)?(.*)/,Di+"box-pack:$3"+Zs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Di+c+c;case 4095:case 3583:case 4068:case 2532:return Ii(c,/(.+)-inline(.+)/,Di+"$1$2")+c;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Kf(c)-1-R>6)switch(Ds(c,R+1)){case 109:if(Ds(c,R+4)!==45)break;case 102:return Ii(c,/(.+:)(.+)-([^]+)/,"$1"+Di+"$2-$3$1"+Zm+(Ds(c,R+3)==108?"$3":"$2-$3"))+c;case 115:return~B3(c,"stretch")?h8(Ii(c,"stretch","fill-available"),R)+c:c}break;case 4949:if(Ds(c,R+1)!==115)break;case 6444:switch(Ds(c,Kf(c)-3-(~B3(c,"!important")&&10))){case 107:return Ii(c,":",":"+Di)+c;case 101:return Ii(c,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Di+(Ds(c,14)===45?"inline-":"")+"box$3$1"+Di+"$2$3$1"+Zs+"$2box$3")+c}break;case 5936:switch(Ds(c,R+11)){case 114:return Di+c+Zs+Ii(c,/[svh]\w+-[tblr]{2}/,"tb")+c;case 108:return Di+c+Zs+Ii(c,/[svh]\w+-[tblr]{2}/,"tb-rl")+c;case 45:return Di+c+Zs+Ii(c,/[svh]\w+-[tblr]{2}/,"lr")+c}return Di+c+Zs+c+c}return c}var ID=function(R,j,re,ge){if(R.length>-1&&!R.return)switch(R.type){case d2:R.return=h8(R.value,R.length);break;case o8:return xp([g0(R,{value:Ii(R.value,"@","@"+Di)})],ge);case v2:if(R.length)return gD(R.props,function(Re){switch(pD(Re,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xp([g0(R,{props:[Ii(Re,/:(read-\w+)/,":"+Zm+"$1")]})],ge);case"::placeholder":return xp([g0(R,{props:[Ii(Re,/:(plac\w+)/,":"+Di+"input-$1")]}),g0(R,{props:[Ii(Re,/:(plac\w+)/,":"+Zm+"$1")]}),g0(R,{props:[Ii(Re,/:(plac\w+)/,Zs+"input-$1")]})],ge)}return""})}},_D=[ID],zD=function(R){var j=R.key;if(j==="css"){var re=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(re,function(y){var r=y.getAttribute("data-emotion");r.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var ge=R.stylisPlugins||_D,Re={},V,B=[];V=R.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+j+' "]'),function(y){for(var r=y.getAttribute("data-emotion").split(" "),t=1;t<r.length;t++)Re[r[t]]=!0;B.push(y)});var e,p=[kD,DD];{var L,n=[MD,CD(function(y){L.insert(y)})],C=ED(p.concat(ge,n)),T=function(r){return xp(AD(r),C)};e=function(r,t,i,a){L=i,T(r?r+"{"+t.styles+"}":t.styles),a&&(d.inserted[t.name]=!0)}}var d={key:j,sheet:new uD({key:j,container:V,nonce:R.nonce,speedy:R.speedy,prepend:R.prepend,insertionPoint:R.insertionPoint}),nonce:R.nonce,inserted:Re,registered:{},insert:e};return d.sheet.hydrate(B),d};function Xm(){return Xm=Object.assign?Object.assign.bind():function(c){for(var R=1;R<arguments.length;R++){var j=arguments[R];for(var re in j)Object.prototype.hasOwnProperty.call(j,re)&&(c[re]=j[re])}return c},Xm.apply(this,arguments)}var v8={exports:{}},Hi={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=typeof Symbol=="function"&&Symbol.for,g2=ds?Symbol.for("react.element"):60103,y2=ds?Symbol.for("react.portal"):60106,I1=ds?Symbol.for("react.fragment"):60107,_1=ds?Symbol.for("react.strict_mode"):60108,z1=ds?Symbol.for("react.profiler"):60114,F1=ds?Symbol.for("react.provider"):60109,O1=ds?Symbol.for("react.context"):60110,m2=ds?Symbol.for("react.async_mode"):60111,B1=ds?Symbol.for("react.concurrent_mode"):60111,N1=ds?Symbol.for("react.forward_ref"):60112,U1=ds?Symbol.for("react.suspense"):60113,FD=ds?Symbol.for("react.suspense_list"):60120,V1=ds?Symbol.for("react.memo"):60115,H1=ds?Symbol.for("react.lazy"):60116,OD=ds?Symbol.for("react.block"):60121,BD=ds?Symbol.for("react.fundamental"):60117,ND=ds?Symbol.for("react.responder"):60118,UD=ds?Symbol.for("react.scope"):60119;function ou(c){if(typeof c=="object"&&c!==null){var R=c.$$typeof;switch(R){case g2:switch(c=c.type,c){case m2:case B1:case I1:case z1:case _1:case U1:return c;default:switch(c=c&&c.$$typeof,c){case O1:case N1:case H1:case V1:case F1:return c;default:return R}}case y2:return R}}}function d8(c){return ou(c)===B1}Hi.AsyncMode=m2;Hi.ConcurrentMode=B1;Hi.ContextConsumer=O1;Hi.ContextProvider=F1;Hi.Element=g2;Hi.ForwardRef=N1;Hi.Fragment=I1;Hi.Lazy=H1;Hi.Memo=V1;Hi.Portal=y2;Hi.Profiler=z1;Hi.StrictMode=_1;Hi.Suspense=U1;Hi.isAsyncMode=function(c){return d8(c)||ou(c)===m2};Hi.isConcurrentMode=d8;Hi.isContextConsumer=function(c){return ou(c)===O1};Hi.isContextProvider=function(c){return ou(c)===F1};Hi.isElement=function(c){return typeof c=="object"&&c!==null&&c.$$typeof===g2};Hi.isForwardRef=function(c){return ou(c)===N1};Hi.isFragment=function(c){return ou(c)===I1};Hi.isLazy=function(c){return ou(c)===H1};Hi.isMemo=function(c){return ou(c)===V1};Hi.isPortal=function(c){return ou(c)===y2};Hi.isProfiler=function(c){return ou(c)===z1};Hi.isStrictMode=function(c){return ou(c)===_1};Hi.isSuspense=function(c){return ou(c)===U1};Hi.isValidElementType=function(c){return typeof c=="string"||typeof c=="function"||c===I1||c===B1||c===z1||c===_1||c===U1||c===FD||typeof c=="object"&&c!==null&&(c.$$typeof===H1||c.$$typeof===V1||c.$$typeof===F1||c.$$typeof===O1||c.$$typeof===N1||c.$$typeof===BD||c.$$typeof===ND||c.$$typeof===UD||c.$$typeof===OD)};Hi.typeOf=ou;v8.exports=Hi;var VD=v8.exports,p8=VD,HD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},GD={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},g8={};g8[p8.ForwardRef]=HD;g8[p8.Memo]=GD;var WD=!0;function jD(c,R,j){var re="";return j.split(" ").forEach(function(ge){c[ge]!==void 0?R.push(c[ge]+";"):re+=ge+" "}),re}var y8=function(R,j,re){var ge=R.key+"-"+j.name;(re===!1||WD===!1)&&R.registered[ge]===void 0&&(R.registered[ge]=j.styles)},m8=function(R,j,re){y8(R,j,re);var ge=R.key+"-"+j.name;if(R.inserted[j.name]===void 0){var Re=j;do R.insert(j===Re?"."+ge:"",Re,R.sheet,!0),Re=Re.next;while(Re!==void 0)}};function YD(c){for(var R=0,j,re=0,ge=c.length;ge>=4;++re,ge-=4)j=c.charCodeAt(re)&255|(c.charCodeAt(++re)&255)<<8|(c.charCodeAt(++re)&255)<<16|(c.charCodeAt(++re)&255)<<24,j=(j&65535)*1540483477+((j>>>16)*59797<<16),j^=j>>>24,R=(j&65535)*1540483477+((j>>>16)*59797<<16)^(R&65535)*1540483477+((R>>>16)*59797<<16);switch(ge){case 3:R^=(c.charCodeAt(re+2)&255)<<16;case 2:R^=(c.charCodeAt(re+1)&255)<<8;case 1:R^=c.charCodeAt(re)&255,R=(R&65535)*1540483477+((R>>>16)*59797<<16)}return R^=R>>>13,R=(R&65535)*1540483477+((R>>>16)*59797<<16),((R^R>>>15)>>>0).toString(36)}var ZD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},XD=/[A-Z]|^ms/g,$D=/_EMO_([^_]+?)_([^]*?)_EMO_/g,x8=function(R){return R.charCodeAt(1)===45},PA=function(R){return R!=null&&typeof R!="boolean"},sb=c8(function(c){return x8(c)?c:c.replace(XD,"-$&").toLowerCase()}),RA=function(R,j){switch(R){case"animation":case"animationName":if(typeof j=="string")return j.replace($D,function(re,ge,Re){return Jf={name:ge,styles:Re,next:Jf},ge})}return ZD[R]!==1&&!x8(R)&&typeof j=="number"&&j!==0?j+"px":j};function bg(c,R,j){if(j==null)return"";if(j.__emotion_styles!==void 0)return j;switch(typeof j){case"boolean":return"";case"object":{if(j.anim===1)return Jf={name:j.name,styles:j.styles,next:Jf},j.name;if(j.styles!==void 0){var re=j.next;if(re!==void 0)for(;re!==void 0;)Jf={name:re.name,styles:re.styles,next:Jf},re=re.next;var ge=j.styles+";";return ge}return KD(c,R,j)}case"function":{if(c!==void 0){var Re=Jf,V=j(c);return Jf=Re,bg(c,R,V)}break}}if(R==null)return j;var B=R[j];return B!==void 0?B:j}function KD(c,R,j){var re="";if(Array.isArray(j))for(var ge=0;ge<j.length;ge++)re+=bg(c,R,j[ge])+";";else for(var Re in j){var V=j[Re];if(typeof V!="object")R!=null&&R[V]!==void 0?re+=Re+"{"+R[V]+"}":PA(V)&&(re+=sb(Re)+":"+RA(Re,V)+";");else if(Array.isArray(V)&&typeof V[0]=="string"&&(R==null||R[V[0]]===void 0))for(var B=0;B<V.length;B++)PA(V[B])&&(re+=sb(Re)+":"+RA(Re,V[B])+";");else{var e=bg(c,R,V);switch(Re){case"animation":case"animationName":{re+=sb(Re)+":"+e+";";break}default:re+=Re+"{"+e+"}"}}}return re}var kA=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jf,x2=function(R,j,re){if(R.length===1&&typeof R[0]=="object"&&R[0]!==null&&R[0].styles!==void 0)return R[0];var ge=!0,Re="";Jf=void 0;var V=R[0];V==null||V.raw===void 0?(ge=!1,Re+=bg(re,j,V)):Re+=V[0];for(var B=1;B<R.length;B++)Re+=bg(re,j,R[B]),ge&&(Re+=V[B]);kA.lastIndex=0;for(var e="",p;(p=kA.exec(Re))!==null;)e+="-"+p[1];var L=YD(Re)+e;return{name:L,styles:Re,next:Jf}},JD=function(R){return R()},b8=Ub.useInsertionEffect?Ub.useInsertionEffect:!1,QD=b8||JD,DA=b8||gn.useLayoutEffect,w8=gn.createContext(typeof HTMLElement<"u"?zD({key:"css"}):null);w8.Provider;var T8=function(R){return gn.forwardRef(function(j,re){var ge=gn.useContext(w8);return R(j,ge,re)})},wg=gn.createContext({}),qD=function(R,j){if(typeof j=="function"){var re=j(R);return re}return Xm({},R,j)},eI=CA(function(c){return CA(function(R){return qD(c,R)})}),tI=function(R){var j=gn.useContext(wg);return R.theme!==j&&(j=eI(j)(R.theme)),gn.createElement(wg.Provider,{value:j},R.children)},G1=T8(function(c,R){var j=c.styles,re=x2([j],void 0,gn.useContext(wg)),ge=gn.useRef();return DA(function(){var Re=R.key+"-global",V=new R.sheet.constructor({key:Re,nonce:R.sheet.nonce,container:R.sheet.container,speedy:R.sheet.isSpeedy}),B=!1,e=document.querySelector('style[data-emotion="'+Re+" "+re.name+'"]');return R.sheet.tags.length&&(V.before=R.sheet.tags[0]),e!==null&&(B=!0,e.setAttribute("data-emotion",Re),V.hydrate([e])),ge.current=[V,B],function(){V.flush()}},[R]),DA(function(){var Re=ge.current,V=Re[0],B=Re[1];if(B){Re[1]=!1;return}if(re.next!==void 0&&m8(R,re.next,!0),V.tags.length){var e=V.tags[V.tags.length-1].nextElementSibling;V.before=e,V.flush()}R.insert("",re,V,!1)},[R,re.name]),null});function rI(){for(var c=arguments.length,R=new Array(c),j=0;j<c;j++)R[j]=arguments[j];return x2(R)}var nI=function(){var R=rI.apply(void 0,arguments),j="animation-"+R.name;return{name:j,styles:"@keyframes "+j+"{"+R.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},A8=String.raw,S8=A8`
  :root,
  :host {
    --chakra-vh: 100vh;
  }

  @supports (height: -webkit-fill-available) {
    :root,
    :host {
      --chakra-vh: -webkit-fill-available;
    }
  }

  @supports (height: -moz-fill-available) {
    :root,
    :host {
      --chakra-vh: -moz-fill-available;
    }
  }

  @supports (height: 100dvh) {
    :root,
    :host {
      --chakra-vh: 100dvh;
    }
  }
`,aI=()=>Gn.jsx(G1,{styles:S8}),iI=({scope:c=""})=>Gn.jsx(G1,{styles:A8`
      html {
        line-height: 1.5;
        -webkit-text-size-adjust: 100%;
        font-family: system-ui, sans-serif;
        -webkit-font-smoothing: antialiased;
        text-rendering: optimizeLegibility;
        -moz-osx-font-smoothing: grayscale;
        touch-action: manipulation;
      }

      body {
        position: relative;
        min-height: 100%;
        margin: 0;
        font-feature-settings: "kern";
      }

      ${c} :where(*, *::before, *::after) {
        border-width: 0;
        border-style: solid;
        box-sizing: border-box;
        word-wrap: break-word;
      }

      main {
        display: block;
      }

      ${c} hr {
        border-top-width: 1px;
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }

      ${c} :where(pre, code, kbd,samp) {
        font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
        font-size: 1em;
      }

      ${c} a {
        background-color: transparent;
        color: inherit;
        text-decoration: inherit;
      }

      ${c} abbr[title] {
        border-bottom: none;
        text-decoration: underline;
        -webkit-text-decoration: underline dotted;
        text-decoration: underline dotted;
      }

      ${c} :where(b, strong) {
        font-weight: bold;
      }

      ${c} small {
        font-size: 80%;
      }

      ${c} :where(sub,sup) {
        font-size: 75%;
        line-height: 0;
        position: relative;
        vertical-align: baseline;
      }

      ${c} sub {
        bottom: -0.25em;
      }

      ${c} sup {
        top: -0.5em;
      }

      ${c} img {
        border-style: none;
      }

      ${c} :where(button, input, optgroup, select, textarea) {
        font-family: inherit;
        font-size: 100%;
        line-height: 1.15;
        margin: 0;
      }

      ${c} :where(button, input) {
        overflow: visible;
      }

      ${c} :where(button, select) {
        text-transform: none;
      }

      ${c} :where(
          button::-moz-focus-inner,
          [type="button"]::-moz-focus-inner,
          [type="reset"]::-moz-focus-inner,
          [type="submit"]::-moz-focus-inner
        ) {
        border-style: none;
        padding: 0;
      }

      ${c} fieldset {
        padding: 0.35em 0.75em 0.625em;
      }

      ${c} legend {
        box-sizing: border-box;
        color: inherit;
        display: table;
        max-width: 100%;
        padding: 0;
        white-space: normal;
      }

      ${c} progress {
        vertical-align: baseline;
      }

      ${c} textarea {
        overflow: auto;
      }

      ${c} :where([type="checkbox"], [type="radio"]) {
        box-sizing: border-box;
        padding: 0;
      }

      ${c} input[type="number"]::-webkit-inner-spin-button,
      ${c} input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none !important;
      }

      ${c} input[type="number"] {
        -moz-appearance: textfield;
      }

      ${c} input[type="search"] {
        -webkit-appearance: textfield;
        outline-offset: -2px;
      }

      ${c} input[type="search"]::-webkit-search-decoration {
        -webkit-appearance: none !important;
      }

      ${c} ::-webkit-file-upload-button {
        -webkit-appearance: button;
        font: inherit;
      }

      ${c} details {
        display: block;
      }

      ${c} summary {
        display: list-item;
      }

      template {
        display: none;
      }

      [hidden] {
        display: none !important;
      }

      ${c} :where(
          blockquote,
          dl,
          dd,
          h1,
          h2,
          h3,
          h4,
          h5,
          h6,
          hr,
          figure,
          p,
          pre
        ) {
        margin: 0;
      }

      ${c} button {
        background: transparent;
        padding: 0;
      }

      ${c} fieldset {
        margin: 0;
        padding: 0;
      }

      ${c} :where(ol, ul) {
        margin: 0;
        padding: 0;
      }

      ${c} textarea {
        resize: vertical;
      }

      ${c} :where(button, [role="button"]) {
        cursor: pointer;
      }

      ${c} button::-moz-focus-inner {
        border: 0 !important;
      }

      ${c} table {
        border-collapse: collapse;
      }

      ${c} :where(h1, h2, h3, h4, h5, h6) {
        font-size: inherit;
        font-weight: inherit;
      }

      ${c} :where(button, input, optgroup, select, textarea) {
        padding: 0;
        line-height: inherit;
        color: inherit;
      }

      ${c} :where(img, svg, video, canvas, audio, iframe, embed, object) {
        display: block;
      }

      ${c} :where(img, video) {
        max-width: 100%;
        height: auto;
      }

      [data-js-focus-visible]
        :focus:not([data-focus-visible-added]):not(
          [data-focus-visible-disabled]
        ) {
        outline: none;
        box-shadow: none;
      }

      ${c} select::-ms-expand {
        display: none;
      }

      ${S8}
    `});function oI(c,R){return`${c} returned \`undefined\`. Seems you forgot to wrap component within ${R}`}function vv(c={}){const{name:R,strict:j=!0,hookName:re="useContext",providerName:ge="Provider",errorMessage:Re,defaultValue:V}=c,B=gn.createContext(V);B.displayName=R;function e(){var p;const L=gn.useContext(B);if(!L&&j){const n=new Error(Re??oI(re,ge));throw n.name="ContextError",(p=Error.captureStackTrace)==null||p.call(Error,n,e),n}return L}return[B.Provider,e,B]}var[sI,lI]=vv({strict:!1,name:"PortalManagerContext"});function M8(c){const{children:R,zIndex:j}=c;return Gn.jsx(sI,{value:{zIndex:j},children:R})}M8.displayName="PortalManager";var Tg=globalThis!=null&&globalThis.document?gn.useLayoutEffect:gn.useEffect,[E8,uI]=vv({strict:!1,name:"PortalContext"}),b2="chakra-portal",fI=".chakra-portal",cI=c=>Gn.jsx("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:c.zIndex,top:0,left:0,right:0},children:c.children}),hI=c=>{const{appendToParentPortal:R,children:j}=c,[re,ge]=gn.useState(null),Re=gn.useRef(null),[,V]=gn.useState({});gn.useEffect(()=>V({}),[]);const B=uI(),e=lI();Tg(()=>{if(!re)return;const L=re.ownerDocument,n=R?B??L.body:L.body;if(!n)return;Re.current=L.createElement("div"),Re.current.className=b2,n.appendChild(Re.current),V({});const C=Re.current;return()=>{n.contains(C)&&n.removeChild(C)}},[re]);const p=e!=null&&e.zIndex?Gn.jsx(cI,{zIndex:e==null?void 0:e.zIndex,children:j}):j;return Re.current?f2.createPortal(Gn.jsx(E8,{value:Re.current,children:p}),Re.current):Gn.jsx("span",{ref:L=>{L&&ge(L)}})},vI=c=>{const{children:R,containerRef:j,appendToParentPortal:re}=c,ge=j.current,Re=ge??(typeof window<"u"?document.body:void 0),V=gn.useMemo(()=>{const e=ge==null?void 0:ge.ownerDocument.createElement("div");return e&&(e.className=b2),e},[ge]),[,B]=gn.useState({});return Tg(()=>B({}),[]),Tg(()=>{if(!(!V||!Re))return Re.appendChild(V),()=>{Re.removeChild(V)}},[V,Re]),Re&&V?f2.createPortal(Gn.jsx(E8,{value:re?V:null,children:R}),V):null};function W1(c){const R={appendToParentPortal:!0,...c},{containerRef:j,...re}=R;return j?Gn.jsx(vI,{containerRef:j,...re}):Gn.jsx(hI,{...re})}W1.className=b2;W1.selector=fI;W1.displayName="Portal";function dI(){const c=gn.useContext(wg);if(!c)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return c}var w2=gn.createContext({});w2.displayName="ColorModeContext";function T2(){const c=gn.useContext(w2);if(c===void 0)throw new Error("useColorMode must be used within a ColorModeProvider");return c}var Fy={light:"chakra-ui-light",dark:"chakra-ui-dark"};function pI(c={}){const{preventTransition:R=!0}=c,j={setDataset:re=>{const ge=R?j.preventTransition():void 0;document.documentElement.dataset.theme=re,document.documentElement.style.colorScheme=re,ge==null||ge()},setClassName(re){document.body.classList.add(re?Fy.dark:Fy.light),document.body.classList.remove(re?Fy.light:Fy.dark)},query(){return window.matchMedia("(prefers-color-scheme: dark)")},getSystemTheme(re){var ge;return((ge=j.query().matches)!=null?ge:re==="dark")?"dark":"light"},addListener(re){const ge=j.query(),Re=V=>{re(V.matches?"dark":"light")};return typeof ge.addListener=="function"?ge.addListener(Re):ge.addEventListener("change",Re),()=>{typeof ge.removeListener=="function"?ge.removeListener(Re):ge.removeEventListener("change",Re)}},preventTransition(){const re=document.createElement("style");return re.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(re),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(re)})})}}};return j}var gI="chakra-ui-color-mode";function yI(c){return{ssr:!1,type:"localStorage",get(R){if(!(globalThis!=null&&globalThis.document))return R;let j;try{j=localStorage.getItem(c)||R}catch{}return j||R},set(R){try{localStorage.setItem(c,R)}catch{}}}}var mI=yI(gI),IA=()=>{};function _A(c,R){return c.type==="cookie"&&c.ssr?c.get(R):R}function C8(c){const{value:R,children:j,options:{useSystemColorMode:re,initialColorMode:ge,disableTransitionOnChange:Re}={},colorModeManager:V=mI}=c,B=ge==="dark"?"dark":"light",[e,p]=gn.useState(()=>_A(V,B)),[L,n]=gn.useState(()=>_A(V)),{getSystemTheme:C,setClassName:T,setDataset:d,addListener:y}=gn.useMemo(()=>pI({preventTransition:Re}),[Re]),r=ge==="system"&&!e?L:e,t=gn.useCallback(h=>{const u=h==="system"?C():h;p(u),T(u==="dark"),d(u),V.set(u)},[V,C,T,d]);Tg(()=>{ge==="system"&&n(C())},[]),gn.useEffect(()=>{const h=V.get();if(h){t(h);return}if(ge==="system"){t("system");return}t(B)},[V,B,ge,t]);const i=gn.useCallback(()=>{t(r==="dark"?"light":"dark")},[r,t]);gn.useEffect(()=>{if(re)return y(t)},[re,y,t]);const a=gn.useMemo(()=>({colorMode:R??r,toggleColorMode:R?IA:i,setColorMode:R?IA:t,forced:R!==void 0}),[r,i,t,R]);return Gn.jsx(w2.Provider,{value:a,children:j})}C8.displayName="ColorModeProvider";function xI(){const c=T2(),R=dI();return{...c,theme:R}}var ps=(...c)=>c.filter(Boolean).join(" ");function Nu(c){const R=typeof c;return c!=null&&(R==="object"||R==="function")&&!Array.isArray(c)}function Xh(c,...R){return bI(c)?c(...R):c}var bI=c=>typeof c=="function",mf=c=>c?"":void 0,lb=c=>c?!0:void 0;function zA(...c){return function(j){c.some(re=>(re==null||re(j),j==null?void 0:j.defaultPrevented))}}var $m={exports:{}};$m.exports;(function(c,R){var j=200,re="__lodash_hash_undefined__",ge=800,Re=16,V=9007199254740991,B="[object Arguments]",e="[object Array]",p="[object AsyncFunction]",L="[object Boolean]",n="[object Date]",C="[object Error]",T="[object Function]",d="[object GeneratorFunction]",y="[object Map]",r="[object Number]",t="[object Null]",i="[object Object]",a="[object Proxy]",h="[object RegExp]",u="[object Set]",s="[object String]",m="[object Undefined]",f="[object WeakMap]",S="[object ArrayBuffer]",v="[object DataView]",l="[object Float32Array]",g="[object Float64Array]",M="[object Int8Array]",A="[object Int16Array]",k="[object Int32Array]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",b="[object Uint16Array]",o="[object Uint32Array]",P=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,z=/^(?:0|[1-9]\d*)$/,_={};_[l]=_[g]=_[M]=_[A]=_[k]=_[w]=_[E]=_[b]=_[o]=!0,_[B]=_[e]=_[S]=_[L]=_[v]=_[n]=_[C]=_[T]=_[y]=_[r]=_[i]=_[h]=_[u]=_[s]=_[f]=!1;var G=typeof yy=="object"&&yy&&yy.Object===Object&&yy,F=typeof self=="object"&&self&&self.Object===Object&&self,N=G||F||Function("return this")(),U=R&&!R.nodeType&&R,O=U&&!0&&c&&!c.nodeType&&c,H=O&&O.exports===U,Y=H&&G.process,q=function(){try{var $t=O&&O.require&&O.require("util").types;return $t||Y&&Y.binding&&Y.binding("util")}catch{}}(),ne=q&&q.isTypedArray;function oe($t,xr,Nr){switch(Nr.length){case 0:return $t.call(xr);case 1:return $t.call(xr,Nr[0]);case 2:return $t.call(xr,Nr[0],Nr[1]);case 3:return $t.call(xr,Nr[0],Nr[1],Nr[2])}return $t.apply(xr,Nr)}function he($t,xr){for(var Nr=-1,En=Array($t);++Nr<$t;)En[Nr]=xr(Nr);return En}function J($t){return function(xr){return $t(xr)}}function Z($t,xr){return $t==null?void 0:$t[xr]}function se($t,xr){return function(Nr){return $t(xr(Nr))}}var $=Array.prototype,ee=Function.prototype,le=Object.prototype,Q=N["__core-js_shared__"],K=ee.toString,ue=le.hasOwnProperty,ie=function(){var $t=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return $t?"Symbol(src)_1."+$t:""}(),ce=le.toString,xe=K.call(Object),Le=RegExp("^"+K.call(ue).replace(P,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=H?N.Buffer:void 0,Oe=N.Symbol,ze=N.Uint8Array,Ee=Ae?Ae.allocUnsafe:void 0,be=se(Object.getPrototypeOf,Object),Ce=Object.create,Ue=le.propertyIsEnumerable,He=$.splice,Ie=Oe?Oe.toStringTag:void 0,Ge=function(){try{var $t=fr(Object,"defineProperty");return $t({},"",{}),$t}catch{}}(),at=Ae?Ae.isBuffer:void 0,lt=Math.max,qe=Date.now,et=fr(N,"Map"),ft=fr(Object,"create"),dt=function(){function $t(){}return function(xr){if(!sa(xr))return{};if(Ce)return Ce(xr);$t.prototype=xr;var Nr=new $t;return $t.prototype=void 0,Nr}}();function pt($t){var xr=-1,Nr=$t==null?0:$t.length;for(this.clear();++xr<Nr;){var En=$t[xr];this.set(En[0],En[1])}}function At(){this.__data__=ft?ft(null):{},this.size=0}function Pt($t){var xr=this.has($t)&&delete this.__data__[$t];return this.size-=xr?1:0,xr}function Ht($t){var xr=this.__data__;if(ft){var Nr=xr[$t];return Nr===re?void 0:Nr}return ue.call(xr,$t)?xr[$t]:void 0}function Je($t){var xr=this.__data__;return ft?xr[$t]!==void 0:ue.call(xr,$t)}function We($t,xr){var Nr=this.__data__;return this.size+=this.has($t)?0:1,Nr[$t]=ft&&xr===void 0?re:xr,this}pt.prototype.clear=At,pt.prototype.delete=Pt,pt.prototype.get=Ht,pt.prototype.has=Je,pt.prototype.set=We;function _e($t){var xr=-1,Nr=$t==null?0:$t.length;for(this.clear();++xr<Nr;){var En=$t[xr];this.set(En[0],En[1])}}function Ne(){this.__data__=[],this.size=0}function ke($t){var xr=this.__data__,Nr=mr(xr,$t);if(Nr<0)return!1;var En=xr.length-1;return Nr==En?xr.pop():He.call(xr,Nr,1),--this.size,!0}function we($t){var xr=this.__data__,Nr=mr(xr,$t);return Nr<0?void 0:xr[Nr][1]}function me($t){return mr(this.__data__,$t)>-1}function Me($t,xr){var Nr=this.__data__,En=mr(Nr,$t);return En<0?(++this.size,Nr.push([$t,xr])):Nr[En][1]=xr,this}_e.prototype.clear=Ne,_e.prototype.delete=ke,_e.prototype.get=we,_e.prototype.has=me,_e.prototype.set=Me;function Se($t){var xr=-1,Nr=$t==null?0:$t.length;for(this.clear();++xr<Nr;){var En=$t[xr];this.set(En[0],En[1])}}function Ve(){this.size=0,this.__data__={hash:new pt,map:new(et||_e),string:new pt}}function Ze($t){var xr=tr(this,$t).delete($t);return this.size-=xr?1:0,xr}function tt($t){return tr(this,$t).get($t)}function ct($t){return tr(this,$t).has($t)}function gt($t,xr){var Nr=tr(this,$t),En=Nr.size;return Nr.set($t,xr),this.size+=Nr.size==En?0:1,this}Se.prototype.clear=Ve,Se.prototype.delete=Ze,Se.prototype.get=tt,Se.prototype.has=ct,Se.prototype.set=gt;function jt($t){var xr=this.__data__=new _e($t);this.size=xr.size}function Kt(){this.__data__=new _e,this.size=0}function Tt($t){var xr=this.__data__,Nr=xr.delete($t);return this.size=xr.size,Nr}function zt($t){return this.__data__.get($t)}function qt($t){return this.__data__.has($t)}function Sr($t,xr){var Nr=this.__data__;if(Nr instanceof _e){var En=Nr.__data__;if(!et||En.length<j-1)return En.push([$t,xr]),this.size=++Nr.size,this;Nr=this.__data__=new Se(En)}return Nr.set($t,xr),this.size=Nr.size,this}jt.prototype.clear=Kt,jt.prototype.delete=Tt,jt.prototype.get=zt,jt.prototype.has=qt,jt.prototype.set=Sr;function yt($t,xr){var Nr=Wr($t),En=!Nr&&Zr($t),Qn=!Nr&&!En&&bn($t),Ca=!Nr&&!En&&!Qn&&$n($t),wr=Nr||En||Qn||Ca,zr=wr?he($t.length,String):[],gr=zr.length;for(var Br in $t)(xr||ue.call($t,Br))&&!(wr&&(Br=="length"||Qn&&(Br=="offset"||Br=="parent")||Ca&&(Br=="buffer"||Br=="byteLength"||Br=="byteOffset")||hr(Br,gr)))&&zr.push(Br);return zr}function Zt($t,xr,Nr){(Nr!==void 0&&!Lr($t[xr],Nr)||Nr===void 0&&!(xr in $t))&&sr($t,xr,Nr)}function Jt($t,xr,Nr){var En=$t[xr];(!(ue.call($t,xr)&&Lr(En,Nr))||Nr===void 0&&!(xr in $t))&&sr($t,xr,Nr)}function mr($t,xr){for(var Nr=$t.length;Nr--;)if(Lr($t[Nr][0],xr))return Nr;return-1}function sr($t,xr,Nr){xr=="__proto__"&&Ge?Ge($t,xr,{configurable:!0,enumerable:!0,value:Nr,writable:!0}):$t[xr]=Nr}var vt=Yt();function it($t){return $t==null?$t===void 0?m:t:Ie&&Ie in Object($t)?rr($t):Dr($t)}function xt($t){return Kn($t)&&it($t)==B}function St($t){if(!sa($t)||vr($t))return!1;var xr=Pn($t)?Le:x;return xr.test(Cr($t))}function Rt($t){return Kn($t)&&Bn($t.length)&&!!_[it($t)]}function Lt($t){if(!sa($t))return _r($t);var xr=Gr($t),Nr=[];for(var En in $t)En=="constructor"&&(xr||!ue.call($t,En))||Nr.push(En);return Nr}function Ot($t,xr,Nr,En,Qn){$t!==xr&&vt(xr,function(Ca,wr){if(Qn||(Qn=new jt),sa(Ca))Nt($t,xr,wr,Nr,Ot,En,Qn);else{var zr=En?En(nn($t,wr),Ca,wr+"",$t,xr,Qn):void 0;zr===void 0&&(zr=Ca),Zt($t,wr,zr)}},Mr)}function Nt($t,xr,Nr,En,Qn,Ca,wr){var zr=nn($t,Nr),gr=nn(xr,Nr),Br=wr.get(gr);if(Br){Zt($t,Nr,Br);return}var xn=Ca?Ca(zr,gr,Nr+"",$t,xr,wr):void 0,kn=xn===void 0;if(kn){var wn=Wr(gr),hn=!wn&&bn(gr),Pr=!wn&&!hn&&$n(gr);xn=gr,wn||hn||Pr?Wr(zr)?xn=zr:yn(zr)?xn=je(zr):hn?(kn=!1,xn=cr(gr,!0)):Pr?(kn=!1,xn=Ye(gr,!0)):xn=[]:ra(gr)||Zr(gr)?(xn=zr,Zr(zr)?xn=ta(zr):(!sa(zr)||Pn(zr))&&(xn=Ft(gr))):kn=!1}kn&&(wr.set(gr,xn),Qn(xn,gr,En,Ca,wr),wr.delete(gr)),Zt($t,Nr,xn)}function Xt($t,xr){return Un(pn($t,xr,mn),$t+"")}var ur=Ge?function($t,xr){return Ge($t,"toString",{configurable:!0,enumerable:!1,value:on(xr),writable:!0})}:mn;function cr($t,xr){if(xr)return $t.slice();var Nr=$t.length,En=Ee?Ee(Nr):new $t.constructor(Nr);return $t.copy(En),En}function dr($t){var xr=new $t.constructor($t.byteLength);return new ze(xr).set(new ze($t)),xr}function Ye($t,xr){var Nr=xr?dr($t.buffer):$t.buffer;return new $t.constructor(Nr,$t.byteOffset,$t.length)}function je($t,xr){var Nr=-1,En=$t.length;for(xr||(xr=Array(En));++Nr<En;)xr[Nr]=$t[Nr];return xr}function It($t,xr,Nr,En){var Qn=!Nr;Nr||(Nr={});for(var Ca=-1,wr=xr.length;++Ca<wr;){var zr=xr[Ca],gr=En?En(Nr[zr],$t[zr],zr,Nr,$t):void 0;gr===void 0&&(gr=$t[zr]),Qn?sr(Nr,zr,gr):Jt(Nr,zr,gr)}return Nr}function Dt($t){return Xt(function(xr,Nr){var En=-1,Qn=Nr.length,Ca=Qn>1?Nr[Qn-1]:void 0,wr=Qn>2?Nr[2]:void 0;for(Ca=$t.length>3&&typeof Ca=="function"?(Qn--,Ca):void 0,wr&&br(Nr[0],Nr[1],wr)&&(Ca=Qn<3?void 0:Ca,Qn=1),xr=Object(xr);++En<Qn;){var zr=Nr[En];zr&&$t(xr,zr,En,Ca)}return xr})}function Yt($t){return function(xr,Nr,En){for(var Qn=-1,Ca=Object(xr),wr=En(xr),zr=wr.length;zr--;){var gr=wr[$t?zr:++Qn];if(Nr(Ca[gr],gr,Ca)===!1)break}return xr}}function tr($t,xr){var Nr=$t.__data__;return yr(xr)?Nr[typeof xr=="string"?"string":"hash"]:Nr.map}function fr($t,xr){var Nr=Z($t,xr);return St(Nr)?Nr:void 0}function rr($t){var xr=ue.call($t,Ie),Nr=$t[Ie];try{$t[Ie]=void 0;var En=!0}catch{}var Qn=ce.call($t);return En&&(xr?$t[Ie]=Nr:delete $t[Ie]),Qn}function Ft($t){return typeof $t.constructor=="function"&&!Gr($t)?dt(be($t)):{}}function hr($t,xr){var Nr=typeof $t;return xr=xr??V,!!xr&&(Nr=="number"||Nr!="symbol"&&z.test($t))&&$t>-1&&$t%1==0&&$t<xr}function br($t,xr,Nr){if(!sa(Nr))return!1;var En=typeof xr;return(En=="number"?sn(Nr)&&hr(xr,Nr.length):En=="string"&&xr in Nr)?Lr(Nr[xr],$t):!1}function yr($t){var xr=typeof $t;return xr=="string"||xr=="number"||xr=="symbol"||xr=="boolean"?$t!=="__proto__":$t===null}function vr($t){return!!ie&&ie in $t}function Gr($t){var xr=$t&&$t.constructor,Nr=typeof xr=="function"&&xr.prototype||le;return $t===Nr}function _r($t){var xr=[];if($t!=null)for(var Nr in Object($t))xr.push(Nr);return xr}function Dr($t){return ce.call($t)}function pn($t,xr,Nr){return xr=lt(xr===void 0?$t.length-1:xr,0),function(){for(var En=arguments,Qn=-1,Ca=lt(En.length-xr,0),wr=Array(Ca);++Qn<Ca;)wr[Qn]=En[xr+Qn];Qn=-1;for(var zr=Array(xr+1);++Qn<xr;)zr[Qn]=En[Qn];return zr[xr]=Nr(wr),oe($t,this,zr)}}function nn($t,xr){if(!(xr==="constructor"&&typeof $t[xr]=="function")&&xr!="__proto__")return $t[xr]}var Un=Tn(ur);function Tn($t){var xr=0,Nr=0;return function(){var En=qe(),Qn=Re-(En-Nr);if(Nr=En,Qn>0){if(++xr>=ge)return arguments[0]}else xr=0;return $t.apply(void 0,arguments)}}function Cr($t){if($t!=null){try{return K.call($t)}catch{}try{return $t+""}catch{}}return""}function Lr($t,xr){return $t===xr||$t!==$t&&xr!==xr}var Zr=xt(function(){return arguments}())?xt:function($t){return Kn($t)&&ue.call($t,"callee")&&!Ue.call($t,"callee")},Wr=Array.isArray;function sn($t){return $t!=null&&Bn($t.length)&&!Pn($t)}function yn($t){return Kn($t)&&sn($t)}var bn=at||Yn;function Pn($t){if(!sa($t))return!1;var xr=it($t);return xr==T||xr==d||xr==p||xr==a}function Bn($t){return typeof $t=="number"&&$t>-1&&$t%1==0&&$t<=V}function sa($t){var xr=typeof $t;return $t!=null&&(xr=="object"||xr=="function")}function Kn($t){return $t!=null&&typeof $t=="object"}function ra($t){if(!Kn($t)||it($t)!=i)return!1;var xr=be($t);if(xr===null)return!0;var Nr=ue.call(xr,"constructor")&&xr.constructor;return typeof Nr=="function"&&Nr instanceof Nr&&K.call(Nr)==xe}var $n=ne?J(ne):Rt;function ta($t){return It($t,Mr($t))}function Mr($t){return sn($t)?yt($t,!0):Lt($t)}var un=Dt(function($t,xr,Nr,En){Ot($t,xr,Nr,En)});function on($t){return function(){return $t}}function mn($t){return $t}function Yn(){return!1}c.exports=un})($m,$m.exports);var wI=$m.exports;const Ou=f1(wI);var TI=c=>/!(important)?$/.test(c),FA=c=>typeof c=="string"?c.replace(/!(important)?$/,"").trim():c,AI=(c,R)=>j=>{const re=String(R),ge=TI(re),Re=FA(re),V=c?`${c}.${Re}`:Re;let B=Nu(j.__cssMap)&&V in j.__cssMap?j.__cssMap[V].varRef:R;return B=FA(B),ge?`${B} !important`:B};function A2(c){const{scale:R,transform:j,compose:re}=c;return(Re,V)=>{var B;const e=AI(R,Re)(V);let p=(B=j==null?void 0:j(e,V))!=null?B:e;return re&&(p=re(p,V)),p}}var Oy=(...c)=>R=>c.reduce((j,re)=>re(j),R);function ku(c,R){return j=>{const re={property:j,scale:c};return re.transform=A2({scale:c,transform:R}),re}}var SI=({rtl:c,ltr:R})=>j=>j.direction==="rtl"?c:R;function MI(c){const{property:R,scale:j,transform:re}=c;return{scale:j,property:SI(R),transform:j?A2({scale:j,compose:re}):re}}var L8=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"];function EI(){return["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))",...L8].join(" ")}function CI(){return["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)",...L8].join(" ")}var LI={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:["var(--chakra-blur)","var(--chakra-brightness)","var(--chakra-contrast)","var(--chakra-grayscale)","var(--chakra-hue-rotate)","var(--chakra-invert)","var(--chakra-saturate)","var(--chakra-sepia)","var(--chakra-drop-shadow)"].join(" ")},PI={backdropFilter:["var(--chakra-backdrop-blur)","var(--chakra-backdrop-brightness)","var(--chakra-backdrop-contrast)","var(--chakra-backdrop-grayscale)","var(--chakra-backdrop-hue-rotate)","var(--chakra-backdrop-invert)","var(--chakra-backdrop-opacity)","var(--chakra-backdrop-saturate)","var(--chakra-backdrop-sepia)"].join(" "),"--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"};function RI(c){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":c,boxShadow:["var(--chakra-ring-offset-shadow)","var(--chakra-ring-shadow)","var(--chakra-shadow, 0 0 #0000)"].join(", ")}}var kI={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},U3={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},DI=new Set(Object.values(U3)),V3=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),II=c=>c.trim();function _I(c,R){if(c==null||V3.has(c))return c;if(!(H3(c)||V3.has(c)))return`url('${c}')`;const ge=/(^[a-z-A-Z]+)\((.*)\)/g.exec(c),Re=ge==null?void 0:ge[1],V=ge==null?void 0:ge[2];if(!Re||!V)return c;const B=Re.includes("-gradient")?Re:`${Re}-gradient`,[e,...p]=V.split(",").map(II).filter(Boolean);if((p==null?void 0:p.length)===0)return c;const L=e in U3?U3[e]:e;p.unshift(L);const n=p.map(C=>{if(DI.has(C))return C;const T=C.indexOf(" "),[d,y]=T!==-1?[C.substr(0,T),C.substr(T+1)]:[C],r=H3(y)?y:y&&y.split(" "),t=`colors.${d}`,i=t in R.__cssMap?R.__cssMap[t].varRef:d;return r?[i,...Array.isArray(r)?r:[r]].join(" "):i});return`${B}(${n.join(", ")})`}var H3=c=>typeof c=="string"&&c.includes("(")&&c.includes(")"),zI=(c,R)=>_I(c,R??{});function FI(c){return/^var\(--.+\)$/.test(c)}var OI=c=>{const R=parseFloat(c.toString()),j=c.toString().replace(String(R),"");return{unitless:!j,value:R,unit:j}},Yf=c=>R=>`${c}(${R})`,bi={filter(c){return c!=="auto"?c:LI},backdropFilter(c){return c!=="auto"?c:PI},ring(c){return RI(bi.px(c))},bgClip(c){return c==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:c}},transform(c){return c==="auto"?EI():c==="auto-gpu"?CI():c},vh(c){return c==="$100vh"?"var(--chakra-vh)":c},px(c){if(c==null)return c;const{unitless:R}=OI(c);return R||typeof c=="number"?`${c}px`:c},fraction(c){return typeof c!="number"||c>1?c:`${c*100}%`},float(c,R){const j={left:"right",right:"left"};return R.direction==="rtl"?j[c]:c},degree(c){if(FI(c)||c==null)return c;const R=typeof c=="string"&&!c.endsWith("deg");return typeof c=="number"||R?`${c}deg`:c},gradient:zI,blur:Yf("blur"),opacity:Yf("opacity"),brightness:Yf("brightness"),contrast:Yf("contrast"),dropShadow:Yf("drop-shadow"),grayscale:Yf("grayscale"),hueRotate:c=>Yf("hue-rotate")(bi.degree(c)),invert:Yf("invert"),saturate:Yf("saturate"),sepia:Yf("sepia"),bgImage(c){return c==null||H3(c)||V3.has(c)?c:`url(${c})`},outline(c){const R=String(c)==="0"||String(c)==="none";return c!==null&&R?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:c}},flexDirection(c){var R;const{space:j,divide:re}=(R=kI[c])!=null?R:{},ge={flexDirection:c};return j&&(ge[j]=1),re&&(ge[re]=1),ge}},Mn={borderWidths:ku("borderWidths"),borderStyles:ku("borderStyles"),colors:ku("colors"),borders:ku("borders"),gradients:ku("gradients",bi.gradient),radii:ku("radii",bi.px),space:ku("space",Oy(bi.vh,bi.px)),spaceT:ku("space",Oy(bi.vh,bi.px)),degreeT(c){return{property:c,transform:bi.degree}},prop(c,R,j){return{property:c,scale:R,...R&&{transform:A2({scale:R,transform:j})}}},propT(c,R){return{property:c,transform:R}},sizes:ku("sizes",Oy(bi.vh,bi.px)),sizesT:ku("sizes",Oy(bi.vh,bi.fraction)),shadows:ku("shadows"),logical:MI,blur:ku("blur",bi.blur)},um={background:Mn.colors("background"),backgroundColor:Mn.colors("backgroundColor"),backgroundImage:Mn.gradients("backgroundImage"),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:bi.bgClip},bgSize:Mn.prop("backgroundSize"),bgPosition:Mn.prop("backgroundPosition"),bg:Mn.colors("background"),bgColor:Mn.colors("backgroundColor"),bgPos:Mn.prop("backgroundPosition"),bgRepeat:Mn.prop("backgroundRepeat"),bgAttachment:Mn.prop("backgroundAttachment"),bgGradient:Mn.gradients("backgroundImage"),bgClip:{transform:bi.bgClip}};Object.assign(um,{bgImage:um.backgroundImage,bgImg:um.backgroundImage});var ki={border:Mn.borders("border"),borderWidth:Mn.borderWidths("borderWidth"),borderStyle:Mn.borderStyles("borderStyle"),borderColor:Mn.colors("borderColor"),borderRadius:Mn.radii("borderRadius"),borderTop:Mn.borders("borderTop"),borderBlockStart:Mn.borders("borderBlockStart"),borderTopLeftRadius:Mn.radii("borderTopLeftRadius"),borderStartStartRadius:Mn.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:Mn.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:Mn.radii("borderTopRightRadius"),borderStartEndRadius:Mn.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:Mn.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:Mn.borders("borderRight"),borderInlineEnd:Mn.borders("borderInlineEnd"),borderBottom:Mn.borders("borderBottom"),borderBlockEnd:Mn.borders("borderBlockEnd"),borderBottomLeftRadius:Mn.radii("borderBottomLeftRadius"),borderBottomRightRadius:Mn.radii("borderBottomRightRadius"),borderLeft:Mn.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:Mn.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:Mn.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:Mn.borders(["borderLeft","borderRight"]),borderInline:Mn.borders("borderInline"),borderY:Mn.borders(["borderTop","borderBottom"]),borderBlock:Mn.borders("borderBlock"),borderTopWidth:Mn.borderWidths("borderTopWidth"),borderBlockStartWidth:Mn.borderWidths("borderBlockStartWidth"),borderTopColor:Mn.colors("borderTopColor"),borderBlockStartColor:Mn.colors("borderBlockStartColor"),borderTopStyle:Mn.borderStyles("borderTopStyle"),borderBlockStartStyle:Mn.borderStyles("borderBlockStartStyle"),borderBottomWidth:Mn.borderWidths("borderBottomWidth"),borderBlockEndWidth:Mn.borderWidths("borderBlockEndWidth"),borderBottomColor:Mn.colors("borderBottomColor"),borderBlockEndColor:Mn.colors("borderBlockEndColor"),borderBottomStyle:Mn.borderStyles("borderBottomStyle"),borderBlockEndStyle:Mn.borderStyles("borderBlockEndStyle"),borderLeftWidth:Mn.borderWidths("borderLeftWidth"),borderInlineStartWidth:Mn.borderWidths("borderInlineStartWidth"),borderLeftColor:Mn.colors("borderLeftColor"),borderInlineStartColor:Mn.colors("borderInlineStartColor"),borderLeftStyle:Mn.borderStyles("borderLeftStyle"),borderInlineStartStyle:Mn.borderStyles("borderInlineStartStyle"),borderRightWidth:Mn.borderWidths("borderRightWidth"),borderInlineEndWidth:Mn.borderWidths("borderInlineEndWidth"),borderRightColor:Mn.colors("borderRightColor"),borderInlineEndColor:Mn.colors("borderInlineEndColor"),borderRightStyle:Mn.borderStyles("borderRightStyle"),borderInlineEndStyle:Mn.borderStyles("borderInlineEndStyle"),borderTopRadius:Mn.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:Mn.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:Mn.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:Mn.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(ki,{rounded:ki.borderRadius,roundedTop:ki.borderTopRadius,roundedTopLeft:ki.borderTopLeftRadius,roundedTopRight:ki.borderTopRightRadius,roundedTopStart:ki.borderStartStartRadius,roundedTopEnd:ki.borderStartEndRadius,roundedBottom:ki.borderBottomRadius,roundedBottomLeft:ki.borderBottomLeftRadius,roundedBottomRight:ki.borderBottomRightRadius,roundedBottomStart:ki.borderEndStartRadius,roundedBottomEnd:ki.borderEndEndRadius,roundedLeft:ki.borderLeftRadius,roundedRight:ki.borderRightRadius,roundedStart:ki.borderInlineStartRadius,roundedEnd:ki.borderInlineEndRadius,borderStart:ki.borderInlineStart,borderEnd:ki.borderInlineEnd,borderTopStartRadius:ki.borderStartStartRadius,borderTopEndRadius:ki.borderStartEndRadius,borderBottomStartRadius:ki.borderEndStartRadius,borderBottomEndRadius:ki.borderEndEndRadius,borderStartRadius:ki.borderInlineStartRadius,borderEndRadius:ki.borderInlineEndRadius,borderStartWidth:ki.borderInlineStartWidth,borderEndWidth:ki.borderInlineEndWidth,borderStartColor:ki.borderInlineStartColor,borderEndColor:ki.borderInlineEndColor,borderStartStyle:ki.borderInlineStartStyle,borderEndStyle:ki.borderInlineEndStyle});var BI={color:Mn.colors("color"),textColor:Mn.colors("color"),fill:Mn.colors("fill"),stroke:Mn.colors("stroke")},G3={boxShadow:Mn.shadows("boxShadow"),mixBlendMode:!0,blendMode:Mn.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:Mn.prop("backgroundBlendMode"),opacity:!0};Object.assign(G3,{shadow:G3.boxShadow});var NI={filter:{transform:bi.filter},blur:Mn.blur("--chakra-blur"),brightness:Mn.propT("--chakra-brightness",bi.brightness),contrast:Mn.propT("--chakra-contrast",bi.contrast),hueRotate:Mn.propT("--chakra-hue-rotate",bi.hueRotate),invert:Mn.propT("--chakra-invert",bi.invert),saturate:Mn.propT("--chakra-saturate",bi.saturate),dropShadow:Mn.propT("--chakra-drop-shadow",bi.dropShadow),backdropFilter:{transform:bi.backdropFilter},backdropBlur:Mn.blur("--chakra-backdrop-blur"),backdropBrightness:Mn.propT("--chakra-backdrop-brightness",bi.brightness),backdropContrast:Mn.propT("--chakra-backdrop-contrast",bi.contrast),backdropHueRotate:Mn.propT("--chakra-backdrop-hue-rotate",bi.hueRotate),backdropInvert:Mn.propT("--chakra-backdrop-invert",bi.invert),backdropSaturate:Mn.propT("--chakra-backdrop-saturate",bi.saturate)},Km={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:bi.flexDirection},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:Mn.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:Mn.space("gap"),rowGap:Mn.space("rowGap"),columnGap:Mn.space("columnGap")};Object.assign(Km,{flexDir:Km.flexDirection});var P8={gridGap:Mn.space("gridGap"),gridColumnGap:Mn.space("gridColumnGap"),gridRowGap:Mn.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},UI={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:bi.outline},outlineOffset:!0,outlineColor:Mn.colors("outlineColor")},Iu={width:Mn.sizesT("width"),inlineSize:Mn.sizesT("inlineSize"),height:Mn.sizes("height"),blockSize:Mn.sizes("blockSize"),boxSize:Mn.sizes(["width","height"]),minWidth:Mn.sizes("minWidth"),minInlineSize:Mn.sizes("minInlineSize"),minHeight:Mn.sizes("minHeight"),minBlockSize:Mn.sizes("minBlockSize"),maxWidth:Mn.sizes("maxWidth"),maxInlineSize:Mn.sizes("maxInlineSize"),maxHeight:Mn.sizes("maxHeight"),maxBlockSize:Mn.sizes("maxBlockSize"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,aspectRatio:!0,hideFrom:{scale:"breakpoints",transform:(c,R)=>{var j,re,ge;return{[`@media screen and (min-width: ${(ge=(re=(j=R.__breakpoints)==null?void 0:j.get(c))==null?void 0:re.minW)!=null?ge:c})`]:{display:"none"}}}},hideBelow:{scale:"breakpoints",transform:(c,R)=>{var j,re,ge;return{[`@media screen and (max-width: ${(ge=(re=(j=R.__breakpoints)==null?void 0:j.get(c))==null?void 0:re._minW)!=null?ge:c})`]:{display:"none"}}}},verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,float:Mn.propT("float",bi.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(Iu,{w:Iu.width,h:Iu.height,minW:Iu.minWidth,maxW:Iu.maxWidth,minH:Iu.minHeight,maxH:Iu.maxHeight,overscroll:Iu.overscrollBehavior,overscrollX:Iu.overscrollBehaviorX,overscrollY:Iu.overscrollBehaviorY});var VI={listStyleType:!0,listStylePosition:!0,listStylePos:Mn.prop("listStylePosition"),listStyleImage:!0,listStyleImg:Mn.prop("listStyleImage")};function HI(c,R,j,re){const ge=typeof R=="string"?R.split("."):[R];for(re=0;re<ge.length&&c;re+=1)c=c[ge[re]];return c===void 0?j:c}var GI=c=>{const R=new WeakMap;return(re,ge,Re,V)=>{if(typeof re>"u")return c(re,ge,Re);R.has(re)||R.set(re,new Map);const B=R.get(re);if(B.has(ge))return B.get(ge);const e=c(re,ge,Re,V);return B.set(ge,e),e}},WI=GI(HI),jI={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},YI={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},ub=(c,R,j)=>{const re={},ge=WI(c,R,{});for(const Re in ge)Re in j&&j[Re]!=null||(re[Re]=ge[Re]);return re},ZI={srOnly:{transform(c){return c===!0?jI:c==="focusable"?YI:{}}},layerStyle:{processResult:!0,transform:(c,R,j)=>ub(R,`layerStyles.${c}`,j)},textStyle:{processResult:!0,transform:(c,R,j)=>ub(R,`textStyles.${c}`,j)},apply:{processResult:!0,transform:(c,R,j)=>ub(R,c,j)}},G0={position:!0,pos:Mn.prop("position"),zIndex:Mn.prop("zIndex","zIndices"),inset:Mn.spaceT("inset"),insetX:Mn.spaceT(["left","right"]),insetInline:Mn.spaceT("insetInline"),insetY:Mn.spaceT(["top","bottom"]),insetBlock:Mn.spaceT("insetBlock"),top:Mn.spaceT("top"),insetBlockStart:Mn.spaceT("insetBlockStart"),bottom:Mn.spaceT("bottom"),insetBlockEnd:Mn.spaceT("insetBlockEnd"),left:Mn.spaceT("left"),insetInlineStart:Mn.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:Mn.spaceT("right"),insetInlineEnd:Mn.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(G0,{insetStart:G0.insetInlineStart,insetEnd:G0.insetInlineEnd});var XI={ring:{transform:bi.ring},ringColor:Mn.colors("--chakra-ring-color"),ringOffset:Mn.prop("--chakra-ring-offset-width"),ringOffsetColor:Mn.colors("--chakra-ring-offset-color"),ringInset:Mn.prop("--chakra-ring-inset")},oo={margin:Mn.spaceT("margin"),marginTop:Mn.spaceT("marginTop"),marginBlockStart:Mn.spaceT("marginBlockStart"),marginRight:Mn.spaceT("marginRight"),marginInlineEnd:Mn.spaceT("marginInlineEnd"),marginBottom:Mn.spaceT("marginBottom"),marginBlockEnd:Mn.spaceT("marginBlockEnd"),marginLeft:Mn.spaceT("marginLeft"),marginInlineStart:Mn.spaceT("marginInlineStart"),marginX:Mn.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:Mn.spaceT("marginInline"),marginY:Mn.spaceT(["marginTop","marginBottom"]),marginBlock:Mn.spaceT("marginBlock"),padding:Mn.space("padding"),paddingTop:Mn.space("paddingTop"),paddingBlockStart:Mn.space("paddingBlockStart"),paddingRight:Mn.space("paddingRight"),paddingBottom:Mn.space("paddingBottom"),paddingBlockEnd:Mn.space("paddingBlockEnd"),paddingLeft:Mn.space("paddingLeft"),paddingInlineStart:Mn.space("paddingInlineStart"),paddingInlineEnd:Mn.space("paddingInlineEnd"),paddingX:Mn.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:Mn.space("paddingInline"),paddingY:Mn.space(["paddingTop","paddingBottom"]),paddingBlock:Mn.space("paddingBlock")};Object.assign(oo,{m:oo.margin,mt:oo.marginTop,mr:oo.marginRight,me:oo.marginInlineEnd,marginEnd:oo.marginInlineEnd,mb:oo.marginBottom,ml:oo.marginLeft,ms:oo.marginInlineStart,marginStart:oo.marginInlineStart,mx:oo.marginX,my:oo.marginY,p:oo.padding,pt:oo.paddingTop,py:oo.paddingY,px:oo.paddingX,pb:oo.paddingBottom,pl:oo.paddingLeft,ps:oo.paddingInlineStart,paddingStart:oo.paddingInlineStart,pr:oo.paddingRight,pe:oo.paddingInlineEnd,paddingEnd:oo.paddingInlineEnd});var $I={textDecorationColor:Mn.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:Mn.shadows("textShadow")},KI={clipPath:!0,transform:Mn.propT("transform",bi.transform),transformOrigin:!0,translateX:Mn.spaceT("--chakra-translate-x"),translateY:Mn.spaceT("--chakra-translate-y"),skewX:Mn.degreeT("--chakra-skew-x"),skewY:Mn.degreeT("--chakra-skew-y"),scaleX:Mn.prop("--chakra-scale-x"),scaleY:Mn.prop("--chakra-scale-y"),scale:Mn.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:Mn.degreeT("--chakra-rotate")},JI={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:Mn.prop("transitionDuration","transition.duration"),transitionProperty:Mn.prop("transitionProperty","transition.property"),transitionTimingFunction:Mn.prop("transitionTimingFunction","transition.easing")},QI={fontFamily:Mn.prop("fontFamily","fonts"),fontSize:Mn.prop("fontSize","fontSizes",bi.px),fontWeight:Mn.prop("fontWeight","fontWeights"),lineHeight:Mn.prop("lineHeight","lineHeights"),letterSpacing:Mn.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,textIndent:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,isTruncated:{transform(c){if(c===!0)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"}},qI={scrollBehavior:!0,scrollSnapAlign:!0,scrollSnapStop:!0,scrollSnapType:!0,scrollMargin:Mn.spaceT("scrollMargin"),scrollMarginTop:Mn.spaceT("scrollMarginTop"),scrollMarginBottom:Mn.spaceT("scrollMarginBottom"),scrollMarginLeft:Mn.spaceT("scrollMarginLeft"),scrollMarginRight:Mn.spaceT("scrollMarginRight"),scrollMarginX:Mn.spaceT(["scrollMarginLeft","scrollMarginRight"]),scrollMarginY:Mn.spaceT(["scrollMarginTop","scrollMarginBottom"]),scrollPadding:Mn.spaceT("scrollPadding"),scrollPaddingTop:Mn.spaceT("scrollPaddingTop"),scrollPaddingBottom:Mn.spaceT("scrollPaddingBottom"),scrollPaddingLeft:Mn.spaceT("scrollPaddingLeft"),scrollPaddingRight:Mn.spaceT("scrollPaddingRight"),scrollPaddingX:Mn.spaceT(["scrollPaddingLeft","scrollPaddingRight"]),scrollPaddingY:Mn.spaceT(["scrollPaddingTop","scrollPaddingBottom"])};function R8(c){return Nu(c)&&c.reference?c.reference:String(c)}var j1=(c,...R)=>R.map(R8).join(` ${c} `).replace(/calc/g,""),OA=(...c)=>`calc(${j1("+",...c)})`,BA=(...c)=>`calc(${j1("-",...c)})`,W3=(...c)=>`calc(${j1("*",...c)})`,NA=(...c)=>`calc(${j1("/",...c)})`,UA=c=>{const R=R8(c);return R!=null&&!Number.isNaN(parseFloat(R))?String(R).startsWith("-")?String(R).slice(1):`-${R}`:W3(R,-1)},Xv=Object.assign(c=>({add:(...R)=>Xv(OA(c,...R)),subtract:(...R)=>Xv(BA(c,...R)),multiply:(...R)=>Xv(W3(c,...R)),divide:(...R)=>Xv(NA(c,...R)),negate:()=>Xv(UA(c)),toString:()=>c.toString()}),{add:OA,subtract:BA,multiply:W3,divide:NA,negate:UA});function e_(c,R="-"){return c.replace(/\s+/g,R)}function t_(c){const R=e_(c.toString());return n_(r_(R))}function r_(c){return c.includes("\\.")?c:!Number.isInteger(parseFloat(c.toString()))?c.replace(".","\\."):c}function n_(c){return c.replace(/[!-,/:-@[-^`{-~]/g,"\\$&")}function a_(c,R=""){return[R,c].filter(Boolean).join("-")}function i_(c,R){return`var(${c}${R?`, ${R}`:""})`}function o_(c,R=""){return t_(`--${a_(c,R)}`)}function Za(c,R,j){const re=o_(c,j);return{variable:re,reference:i_(re,R)}}function s_(c,R){const j={};for(const re of R){if(Array.isArray(re)){const[ge,Re]=re;j[ge]=Za(`${c}-${ge}`,Re);continue}j[re]=Za(`${c}-${re}`)}return j}function l_(c){const R=c==null?0:c.length;return R?c[R-1]:void 0}function u_(c){const R=parseFloat(c.toString()),j=c.toString().replace(String(R),"");return{unitless:!j,value:R,unit:j}}function j3(c){if(c==null)return c;const{unitless:R}=u_(c);return R||typeof c=="number"?`${c}px`:c}var k8=(c,R)=>parseInt(c[1],10)>parseInt(R[1],10)?1:-1,S2=c=>Object.fromEntries(Object.entries(c).sort(k8));function VA(c){const R=S2(c);return Object.assign(Object.values(R),R)}function f_(c){const R=Object.keys(S2(c));return new Set(R)}function HA(c){var R;if(!c)return c;c=(R=j3(c))!=null?R:c;const j=-.02;return typeof c=="number"?`${c+j}`:c.replace(/(\d+\.?\d*)/u,re=>`${parseFloat(re)+j}`)}function E0(c,R){const j=["@media screen"];return c&&j.push("and",`(min-width: ${j3(c)})`),R&&j.push("and",`(max-width: ${j3(R)})`),j.join(" ")}function c_(c){var R;if(!c)return null;c.base=(R=c.base)!=null?R:"0px";const j=VA(c),re=Object.entries(c).sort(k8).map(([V,B],e,p)=>{var L;let[,n]=(L=p[e+1])!=null?L:[];return n=parseFloat(n)>0?HA(n):void 0,{_minW:HA(B),breakpoint:V,minW:B,maxW:n,maxWQuery:E0(null,n),minWQuery:E0(B),minMaxQuery:E0(B,n)}}),ge=f_(c),Re=Array.from(ge.values());return{keys:ge,normalized:j,isResponsive(V){const B=Object.keys(V);return B.length>0&&B.every(e=>ge.has(e))},asObject:S2(c),asArray:VA(c),details:re,get(V){return re.find(B=>B.breakpoint===V)},media:[null,...j.map(V=>E0(V)).slice(1)],toArrayValue(V){if(!Nu(V))throw new Error("toArrayValue: value must be an object");const B=Re.map(e=>{var p;return(p=V[e])!=null?p:null});for(;l_(B)===null;)B.pop();return B},toObjectValue(V){if(!Array.isArray(V))throw new Error("toObjectValue: value must be an array");return V.reduce((B,e,p)=>{const L=Re[p];return L!=null&&e!=null&&(B[L]=e),B},{})}}}var Rs={hover:(c,R)=>`${c}:hover ${R}, ${c}[data-hover] ${R}`,focus:(c,R)=>`${c}:focus ${R}, ${c}[data-focus] ${R}`,focusVisible:(c,R)=>`${c}:focus-visible ${R}`,focusWithin:(c,R)=>`${c}:focus-within ${R}`,active:(c,R)=>`${c}:active ${R}, ${c}[data-active] ${R}`,disabled:(c,R)=>`${c}:disabled ${R}, ${c}[data-disabled] ${R}`,invalid:(c,R)=>`${c}:invalid ${R}, ${c}[data-invalid] ${R}`,checked:(c,R)=>`${c}:checked ${R}, ${c}[data-checked] ${R}`,indeterminate:(c,R)=>`${c}:indeterminate ${R}, ${c}[aria-checked=mixed] ${R}, ${c}[data-indeterminate] ${R}`,readOnly:(c,R)=>`${c}:read-only ${R}, ${c}[readonly] ${R}, ${c}[data-read-only] ${R}`,expanded:(c,R)=>`${c}:read-only ${R}, ${c}[aria-expanded=true] ${R}, ${c}[data-expanded] ${R}`,placeholderShown:(c,R)=>`${c}:placeholder-shown ${R}`},zh=c=>D8(R=>c(R,"&"),"[role=group]","[data-group]",".group"),kc=c=>D8(R=>c(R,"~ &"),"[data-peer]",".peer"),D8=(c,...R)=>R.map(c).join(", "),Y1={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible, &[data-focus-visible]",_disabled:"&:disabled, &[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_firstLetter:"&::first-letter",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:zh(Rs.hover),_peerHover:kc(Rs.hover),_groupFocus:zh(Rs.focus),_peerFocus:kc(Rs.focus),_groupFocusVisible:zh(Rs.focusVisible),_peerFocusVisible:kc(Rs.focusVisible),_groupActive:zh(Rs.active),_peerActive:kc(Rs.active),_groupDisabled:zh(Rs.disabled),_peerDisabled:kc(Rs.disabled),_groupInvalid:zh(Rs.invalid),_peerInvalid:kc(Rs.invalid),_groupChecked:zh(Rs.checked),_peerChecked:kc(Rs.checked),_groupFocusWithin:zh(Rs.focusWithin),_peerFocusWithin:kc(Rs.focusWithin),_peerPlaceholderShown:kc(Rs.placeholderShown),_placeholder:"&::placeholder",_placeholderShown:"&:placeholder-shown",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &, &[dir=rtl]",_ltr:"[dir=ltr] &, &[dir=ltr]",_mediaDark:"@media (prefers-color-scheme: dark)",_mediaReduceMotion:"@media (prefers-reduced-motion: reduce)",_dark:".chakra-ui-dark &:not([data-theme]),[data-theme=dark] &:not([data-theme]),&[data-theme=dark]",_light:".chakra-ui-light &:not([data-theme]),[data-theme=light] &:not([data-theme]),&[data-theme=light]",_horizontal:"&[data-orientation=horizontal]",_vertical:"&[data-orientation=vertical]"},I8=Object.keys(Y1);function GA(c,R){return Za(String(c).replace(/\./g,"-"),void 0,R)}function h_(c,R){let j={};const re={};for(const[ge,Re]of Object.entries(c)){const{isSemantic:V,value:B}=Re,{variable:e,reference:p}=GA(ge,R==null?void 0:R.cssVarPrefix);if(!V){if(ge.startsWith("space")){const C=ge.split("."),[T,...d]=C,y=`${T}.-${d.join(".")}`,r=Xv.negate(B),t=Xv.negate(p);re[y]={value:r,var:e,varRef:t}}j[e]=B,re[ge]={value:B,var:e,varRef:p};continue}const L=C=>{const d=[String(ge).split(".")[0],C].join(".");if(!c[d])return C;const{reference:r}=GA(d,R==null?void 0:R.cssVarPrefix);return r},n=Nu(B)?B:{default:B};j=Ou(j,Object.entries(n).reduce((C,[T,d])=>{var y,r;if(!d)return C;const t=L(`${d}`);if(T==="default")return C[e]=t,C;const i=(r=(y=Y1)==null?void 0:y[T])!=null?r:T;return C[i]={[e]:t},C},{})),re[ge]={value:p,var:e,varRef:p}}return{cssVars:j,cssMap:re}}function v_(c,R=[]){const j=Object.assign({},c);for(const re of R)re in j&&delete j[re];return j}function d_(c,R){const j={};for(const re of R)re in c&&(j[re]=c[re]);return j}function p_(c){return typeof c=="object"&&c!=null&&!Array.isArray(c)}function WA(c,R,j={}){const{stop:re,getKey:ge}=j;function Re(V,B=[]){var e;if(p_(V)||Array.isArray(V)){const p={};for(const[L,n]of Object.entries(V)){const C=(e=ge==null?void 0:ge(L))!=null?e:L,T=[...B,C];if(re!=null&&re(V,T))return R(V,B);p[C]=Re(n,T)}return p}return R(V,B)}return Re(c)}var g_=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","gradients","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur","breakpoints"];function y_(c){return d_(c,g_)}function m_(c){return c.semanticTokens}function x_(c){const{__cssMap:R,__cssVars:j,__breakpoints:re,...ge}=c;return ge}var b_=c=>I8.includes(c)||c==="default";function w_({tokens:c,semanticTokens:R}){const j={};return WA(c,(re,ge)=>{re!=null&&(j[ge.join(".")]={isSemantic:!1,value:re})}),WA(R,(re,ge)=>{re!=null&&(j[ge.join(".")]={isSemantic:!0,value:re})},{stop:re=>Object.keys(re).every(b_)}),j}function T_(c){var R;const j=x_(c),re=y_(j),ge=m_(j),Re=w_({tokens:re,semanticTokens:ge}),V=(R=j.config)==null?void 0:R.cssVarPrefix,{cssMap:B,cssVars:e}=h_(Re,{cssVarPrefix:V});return Object.assign(j,{__cssVars:{...{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},...e},__cssMap:B,__breakpoints:c_(j.breakpoints)}),j}var M2=Ou({},um,ki,BI,Km,Iu,NI,XI,UI,P8,ZI,G0,G3,oo,qI,QI,$I,KI,VI,JI),A_=Object.assign({},oo,Iu,Km,P8,G0),S_=Object.keys(A_),M_=[...Object.keys(M2),...I8],E_={...M2,...Y1},C_=c=>c in E_,L_=c=>R=>{if(!R.__breakpoints)return c;const{isResponsive:j,toArrayValue:re,media:ge}=R.__breakpoints,Re={};for(const V in c){let B=Xh(c[V],R);if(B==null)continue;if(B=Nu(B)&&j(B)?re(B):B,!Array.isArray(B)){Re[V]=B;continue}const e=B.slice(0,ge.length).length;for(let p=0;p<e;p+=1){const L=ge==null?void 0:ge[p];if(!L){Re[V]=B[p];continue}Re[L]=Re[L]||{},B[p]!=null&&(Re[L][V]=B[p])}}return Re};function P_(c){const R=[];let j="",re=!1;for(let ge=0;ge<c.length;ge++){const Re=c[ge];Re==="("?(re=!0,j+=Re):Re===")"?(re=!1,j+=Re):Re===","&&!re?(R.push(j),j=""):j+=Re}return j=j.trim(),j&&R.push(j),R}function R_(c){return/^var\(--.+\)$/.test(c)}var k_=(c,R)=>c.startsWith("--")&&typeof R=="string"&&!R_(R),D_=(c,R)=>{var j,re;if(R==null)return R;const ge=e=>{var p,L;return(L=(p=c.__cssMap)==null?void 0:p[e])==null?void 0:L.varRef},Re=e=>{var p;return(p=ge(e))!=null?p:e},[V,B]=P_(R);return R=(re=(j=ge(V))!=null?j:Re(B))!=null?re:Re(R),R};function I_(c){const{configs:R={},pseudos:j={},theme:re}=c,ge=(Re,V=!1)=>{var B,e,p;const L=Xh(Re,re),n=L_(L)(re);let C={};for(let T in n){const d=n[T];let y=Xh(d,re);T in j&&(T=j[T]),k_(T,y)&&(y=D_(re,y));let r=R[T];if(r===!0&&(r={property:T}),Nu(y)){C[T]=(B=C[T])!=null?B:{},C[T]=Ou({},C[T],ge(y,!0));continue}let t=(p=(e=r==null?void 0:r.transform)==null?void 0:e.call(r,y,re,L))!=null?p:y;t=r!=null&&r.processResult?ge(t,!0):t;const i=Xh(r==null?void 0:r.property,re);if(!V&&(r!=null&&r.static)){const a=Xh(r.static,re);C=Ou({},C,a)}if(i&&Array.isArray(i)){for(const a of i)C[a]=t;continue}if(i){i==="&"&&Nu(t)?C=Ou({},C,t):C[i]=t;continue}if(Nu(t)){C=Ou({},C,t);continue}C[T]=t}return C};return ge}var _8=c=>R=>I_({theme:R,pseudos:Y1,configs:M2})(c);function qi(c){return{definePartsStyle(R){return R},defineMultiStyleConfig(R){return{parts:c,...R}}}}function __(c,R){if(Array.isArray(c))return c;if(Nu(c))return R(c);if(c!=null)return[c]}function z_(c,R){for(let j=R+1;j<c.length;j++)if(c[j]!=null)return j;return-1}function F_(c){const R=c.__breakpoints;return function(re,ge,Re,V){var B,e;if(!R)return;const p={},L=__(Re,R.toArrayValue);if(!L)return p;const n=L.length,C=n===1,T=!!re.parts;for(let d=0;d<n;d++){const y=R.details[d],r=R.details[z_(L,d)],t=E0(y.minW,r==null?void 0:r._minW),i=Xh((B=re[ge])==null?void 0:B[L[d]],V);if(i){if(T){(e=re.parts)==null||e.forEach(a=>{Ou(p,{[a]:C?i[a]:{[t]:i[a]}})});continue}if(!T){C?Ou(p,i):p[t]=i;continue}p[t]=i}}return p}}function O_(c){return R=>{var j;const{variant:re,size:ge,theme:Re}=R,V=F_(Re);return Ou({},Xh((j=c.baseStyle)!=null?j:{},R),V(c,"sizes",ge,R),V(c,"variants",re,R))}}function ac(c){return v_(c,["styleConfig","size","variant","colorScheme"])}var B_=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"];function N_(c){return Nu(c)?B_.every(R=>Object.prototype.hasOwnProperty.call(c,R)):!1}var U_={common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},V_={"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},H_={"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"},G_={property:U_,easing:V_,duration:H_},W_=G_,j_={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},Y_=j_,Z_={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},X_=Z_,$_={base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},K_=$_,J_={transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}},Q_=J_,q_={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},ez=q_,tz={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},rz=tz,nz={none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},az=nz,iz={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,short:1.375,base:1.5,tall:1.625,taller:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',body:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{"3xs":"0.45rem","2xs":"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},z8=iz,F8={px:"1px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},oz={max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",prose:"60ch"},sz={sm:"640px",md:"768px",lg:"1024px",xl:"1280px"},lz={...F8,...oz,container:sz},O8=lz,uz={breakpoints:K_,zIndices:Y_,radii:ez,blur:az,colors:Q_,...z8,sizes:O8,shadows:rz,space:F8,borders:X_,transition:W_},{defineMultiStyleConfig:fz,definePartsStyle:C0}=qi(["stepper","step","title","description","indicator","separator","icon","number"]),_c=Za("stepper-indicator-size"),rp=Za("stepper-icon-size"),np=Za("stepper-title-font-size"),L0=Za("stepper-description-font-size"),y0=Za("stepper-accent-color"),cz=C0(({colorScheme:c})=>({stepper:{display:"flex",justifyContent:"space-between",gap:"4","&[data-orientation=vertical]":{flexDirection:"column",alignItems:"flex-start"},"&[data-orientation=horizontal]":{flexDirection:"row",alignItems:"center"},[y0.variable]:`colors.${c}.500`,_dark:{[y0.variable]:`colors.${c}.200`}},title:{fontSize:np.reference,fontWeight:"medium"},description:{fontSize:L0.reference,color:"chakra-subtle-text"},number:{fontSize:np.reference},step:{flexShrink:0,position:"relative",display:"flex",gap:"2","&[data-orientation=horizontal]":{alignItems:"center"},flex:"1","&:last-of-type:not([data-stretch])":{flex:"initial"}},icon:{flexShrink:0,width:rp.reference,height:rp.reference},indicator:{flexShrink:0,borderRadius:"full",width:_c.reference,height:_c.reference,display:"flex",justifyContent:"center",alignItems:"center","&[data-status=active]":{borderWidth:"2px",borderColor:y0.reference},"&[data-status=complete]":{bg:y0.reference,color:"chakra-inverse-text"},"&[data-status=incomplete]":{borderWidth:"2px"}},separator:{bg:"chakra-border-color",flex:"1","&[data-status=complete]":{bg:y0.reference},"&[data-orientation=horizontal]":{width:"100%",height:"2px",marginStart:"2"},"&[data-orientation=vertical]":{width:"2px",position:"absolute",height:"100%",maxHeight:`calc(100% - ${_c.reference} - 8px)`,top:`calc(${_c.reference} + 4px)`,insetStart:`calc(${_c.reference} / 2 - 1px)`}}})),hz=fz({baseStyle:cz,sizes:{xs:C0({stepper:{[_c.variable]:"sizes.4",[rp.variable]:"sizes.3",[np.variable]:"fontSizes.xs",[L0.variable]:"fontSizes.xs"}}),sm:C0({stepper:{[_c.variable]:"sizes.6",[rp.variable]:"sizes.4",[np.variable]:"fontSizes.sm",[L0.variable]:"fontSizes.xs"}}),md:C0({stepper:{[_c.variable]:"sizes.8",[rp.variable]:"sizes.5",[np.variable]:"fontSizes.md",[L0.variable]:"fontSizes.sm"}}),lg:C0({stepper:{[_c.variable]:"sizes.10",[rp.variable]:"sizes.6",[np.variable]:"fontSizes.lg",[L0.variable]:"fontSizes.md"}})},defaultProps:{size:"md",colorScheme:"blue"}});function zi(c,R={}){let j=!1;function re(){if(!j){j=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")}function ge(...L){re();for(const n of L)R[n]=e(n);return zi(c,R)}function Re(...L){for(const n of L)n in R||(R[n]=e(n));return zi(c,R)}function V(){return Object.fromEntries(Object.entries(R).map(([n,C])=>[n,C.selector]))}function B(){return Object.fromEntries(Object.entries(R).map(([n,C])=>[n,C.className]))}function e(L){const T=`chakra-${(["container","root"].includes(L??"")?[c]:[c,L]).filter(Boolean).join("__")}`;return{className:T,selector:`.${T}`,toString:()=>L}}return{parts:ge,toPart:e,extend:Re,selectors:V,classnames:B,get keys(){return Object.keys(R)},__type:{}}}var vz=zi("accordion").parts("root","container","button","panel").extend("icon"),dz=zi("alert").parts("title","description","container").extend("icon","spinner"),pz=zi("avatar").parts("label","badge","container").extend("excessLabel","group"),gz=zi("breadcrumb").parts("link","item","container").extend("separator");zi("button").parts();var yz=zi("checkbox").parts("control","icon","container").extend("label");zi("progress").parts("track","filledTrack").extend("label");var mz=zi("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),xz=zi("editable").parts("preview","input","textarea"),bz=zi("form").parts("container","requiredIndicator","helperText"),wz=zi("formError").parts("text","icon"),Tz=zi("input").parts("addon","field","element","group"),Az=zi("list").parts("container","item","icon"),Sz=zi("menu").parts("button","list","item").extend("groupTitle","icon","command","divider"),Mz=zi("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Ez=zi("numberinput").parts("root","field","stepperGroup","stepper");zi("pininput").parts("field");var Cz=zi("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),Lz=zi("progress").parts("label","filledTrack","track"),Pz=zi("radio").parts("container","control","label"),Rz=zi("select").parts("field","icon"),kz=zi("slider").parts("container","track","thumb","filledTrack","mark"),Dz=zi("stat").parts("container","label","helpText","number","icon"),Iz=zi("switch").parts("container","track","thumb","label"),_z=zi("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),zz=zi("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),Fz=zi("tag").parts("container","label","closeButton"),Oz=zi("card").parts("container","header","body","footer");zi("stepper").parts("stepper","step","title","description","indicator","separator","icon","number");function qv(c,R,j){return Math.min(Math.max(c,j),R)}class Bz extends Error{constructor(R){super(`Failed to parse color: "${R}"`)}}var P0=Bz;function E2(c){if(typeof c!="string")throw new P0(c);if(c.trim().toLowerCase()==="transparent")return[0,0,0,0];let R=c.trim();R=Yz.test(c)?Vz(c):c;const j=Hz.exec(R);if(j){const V=Array.from(j).slice(1);return[...V.slice(0,3).map(B=>parseInt(Ag(B,2),16)),parseInt(Ag(V[3]||"f",2),16)/255]}const re=Gz.exec(R);if(re){const V=Array.from(re).slice(1);return[...V.slice(0,3).map(B=>parseInt(B,16)),parseInt(V[3]||"ff",16)/255]}const ge=Wz.exec(R);if(ge){const V=Array.from(ge).slice(1);return[...V.slice(0,3).map(B=>parseInt(B,10)),parseFloat(V[3]||"1")]}const Re=jz.exec(R);if(Re){const[V,B,e,p]=Array.from(Re).slice(1).map(parseFloat);if(qv(0,100,B)!==B)throw new P0(c);if(qv(0,100,e)!==e)throw new P0(c);return[...Zz(V,B,e),Number.isNaN(p)?1:p]}throw new P0(c)}function Nz(c){let R=5381,j=c.length;for(;j;)R=R*33^c.charCodeAt(--j);return(R>>>0)%2341}const jA=c=>parseInt(c.replace(/_/g,""),36),Uz="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((c,R)=>{const j=jA(R.substring(0,3)),re=jA(R.substring(3)).toString(16);let ge="";for(let Re=0;Re<6-re.length;Re++)ge+="0";return c[j]=`${ge}${re}`,c},{});function Vz(c){const R=c.toLowerCase().trim(),j=Uz[Nz(R)];if(!j)throw new P0(c);return`#${j}`}const Ag=(c,R)=>Array.from(Array(R)).map(()=>c).join(""),Hz=new RegExp(`^#${Ag("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Gz=new RegExp(`^#${Ag("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Wz=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Ag(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),jz=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Yz=/^[a-z]+$/i,YA=c=>Math.round(c*255),Zz=(c,R,j)=>{let re=j/100;if(R===0)return[re,re,re].map(YA);const ge=(c%360+360)%360/60,Re=(1-Math.abs(2*re-1))*(R/100),V=Re*(1-Math.abs(ge%2-1));let B=0,e=0,p=0;ge>=0&&ge<1?(B=Re,e=V):ge>=1&&ge<2?(B=V,e=Re):ge>=2&&ge<3?(e=Re,p=V):ge>=3&&ge<4?(e=V,p=Re):ge>=4&&ge<5?(B=V,p=Re):ge>=5&&ge<6&&(B=Re,p=V);const L=re-Re/2,n=B+L,C=e+L,T=p+L;return[n,C,T].map(YA)};function Xz(c,R,j,re){return`rgba(${qv(0,255,c).toFixed()}, ${qv(0,255,R).toFixed()}, ${qv(0,255,j).toFixed()}, ${parseFloat(qv(0,1,re).toFixed(3))})`}function $z(c,R){const[j,re,ge,Re]=E2(c);return Xz(j,re,ge,Re-R)}function Kz(c){const[R,j,re,ge]=E2(c);let Re=V=>{const B=qv(0,255,V).toString(16);return B.length===1?`0${B}`:B};return`#${Re(R)}${Re(j)}${Re(re)}${ge<1?Re(Math.round(ge*255)):""}`}function Jz(c,R,j,re,ge){for(R=R.split?R.split("."):R,re=0;re<R.length;re++)c=c?c[R[re]]:ge;return c===ge?j:c}var Qz=c=>Object.keys(c).length===0,ll=(c,R,j)=>{const re=Jz(c,`colors.${R}`,R);try{return Kz(re),re}catch{return j??"#000000"}},qz=c=>{const[R,j,re]=E2(c);return(R*299+j*587+re*114)/1e3},eF=c=>R=>{const j=ll(R,c);return qz(j)<128?"dark":"light"},tF=c=>R=>eF(c)(R)==="dark",Dp=(c,R)=>j=>{const re=ll(j,c);return $z(re,1-R)};function ZA(c="1rem",R="rgba(255, 255, 255, 0.15)"){return{backgroundImage:`linear-gradient(
    45deg,
    ${R} 25%,
    transparent 25%,
    transparent 50%,
    ${R} 50%,
    ${R} 75%,
    transparent 75%,
    transparent
  )`,backgroundSize:`${c} ${c}`}}var rF=()=>`#${Math.floor(Math.random()*16777215).toString(16).padEnd(6,"0")}`;function nF(c){const R=rF();return!c||Qz(c)?R:c.string&&c.colors?iF(c.string,c.colors):c.string&&!c.colors?aF(c.string):c.colors&&!c.string?oF(c.colors):R}function aF(c){let R=0;if(c.length===0)return R.toString();for(let re=0;re<c.length;re+=1)R=c.charCodeAt(re)+((R<<5)-R),R=R&R;let j="#";for(let re=0;re<3;re+=1){const ge=R>>re*8&255;j+=`00${ge.toString(16)}`.substr(-2)}return j}function iF(c,R){let j=0;if(c.length===0)return R[0];for(let re=0;re<c.length;re+=1)j=c.charCodeAt(re)+((j<<5)-j),j=j&j;return j=(j%R.length+R.length)%R.length,R[j]}function oF(c){return c[Math.floor(Math.random()*c.length)]}function Ya(c,R){return j=>j.colorMode==="dark"?R:c}function C2(c){const{orientation:R,vertical:j,horizontal:re}=c;return R?R==="vertical"?j:re:{}}function B8(c){return Nu(c)&&c.reference?c.reference:String(c)}var Z1=(c,...R)=>R.map(B8).join(` ${c} `).replace(/calc/g,""),XA=(...c)=>`calc(${Z1("+",...c)})`,$A=(...c)=>`calc(${Z1("-",...c)})`,Y3=(...c)=>`calc(${Z1("*",...c)})`,KA=(...c)=>`calc(${Z1("/",...c)})`,JA=c=>{const R=B8(c);return R!=null&&!Number.isNaN(parseFloat(R))?String(R).startsWith("-")?String(R).slice(1):`-${R}`:Y3(R,-1)},zc=Object.assign(c=>({add:(...R)=>zc(XA(c,...R)),subtract:(...R)=>zc($A(c,...R)),multiply:(...R)=>zc(Y3(c,...R)),divide:(...R)=>zc(KA(c,...R)),negate:()=>zc(JA(c)),toString:()=>c.toString()}),{add:XA,subtract:$A,multiply:Y3,divide:KA,negate:JA});function sF(c){return!Number.isInteger(parseFloat(c.toString()))}function lF(c,R="-"){return c.replace(/\s+/g,R)}function N8(c){const R=lF(c.toString());return R.includes("\\.")?c:sF(c)?R.replace(".","\\."):c}function uF(c,R=""){return[R,N8(c)].filter(Boolean).join("-")}function fF(c,R){return`var(${N8(c)}${R?`, ${R}`:""})`}function cF(c,R=""){return`--${uF(c,R)}`}function is(c,R){const j=cF(c,R==null?void 0:R.prefix);return{variable:j,reference:fF(j,hF(R==null?void 0:R.fallback))}}function hF(c){return typeof c=="string"?c:c==null?void 0:c.reference}var{defineMultiStyleConfig:vF,definePartsStyle:fm}=qi(Iz.keys),W0=is("switch-track-width"),nd=is("switch-track-height"),fb=is("switch-track-diff"),dF=zc.subtract(W0,nd),Z3=is("switch-thumb-x"),m0=is("switch-bg"),pF=c=>{const{colorScheme:R}=c;return{borderRadius:"full",p:"0.5",width:[W0.reference],height:[nd.reference],transitionProperty:"common",transitionDuration:"fast",[m0.variable]:"colors.gray.300",_dark:{[m0.variable]:"colors.whiteAlpha.400"},_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed"},_checked:{[m0.variable]:`colors.${R}.500`,_dark:{[m0.variable]:`colors.${R}.200`}},bg:m0.reference}},gF={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[nd.reference],height:[nd.reference],_checked:{transform:`translateX(${Z3.reference})`}},yF=fm(c=>({container:{[fb.variable]:dF,[Z3.variable]:fb.reference,_rtl:{[Z3.variable]:zc(fb).negate().toString()}},track:pF(c),thumb:gF})),mF={sm:fm({container:{[W0.variable]:"1.375rem",[nd.variable]:"sizes.3"}}),md:fm({container:{[W0.variable]:"1.875rem",[nd.variable]:"sizes.4"}}),lg:fm({container:{[W0.variable]:"2.875rem",[nd.variable]:"sizes.6"}})},xF=vF({baseStyle:yF,sizes:mF,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:bF,definePartsStyle:bp}=qi(_z.keys),wF=bp({table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}}),Jm={"&[data-is-numeric=true]":{textAlign:"end"}},TF=bp(c=>{const{colorScheme:R}=c;return{th:{color:Ya("gray.600","gray.400")(c),borderBottom:"1px",borderColor:Ya(`${R}.100`,`${R}.700`)(c),...Jm},td:{borderBottom:"1px",borderColor:Ya(`${R}.100`,`${R}.700`)(c),...Jm},caption:{color:Ya("gray.600","gray.100")(c)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),AF=bp(c=>{const{colorScheme:R}=c;return{th:{color:Ya("gray.600","gray.400")(c),borderBottom:"1px",borderColor:Ya(`${R}.100`,`${R}.700`)(c),...Jm},td:{borderBottom:"1px",borderColor:Ya(`${R}.100`,`${R}.700`)(c),...Jm},caption:{color:Ya("gray.600","gray.100")(c)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:Ya(`${R}.100`,`${R}.700`)(c)},td:{background:Ya(`${R}.100`,`${R}.700`)(c)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}}),SF={simple:TF,striped:AF,unstyled:{}},MF={sm:bp({th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}}),md:bp({th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}}),lg:bp({th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}})},EF=bF({baseStyle:wF,variants:SF,sizes:MF,defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}}),Rl=Za("tabs-color"),wf=Za("tabs-bg"),By=Za("tabs-border-color"),{defineMultiStyleConfig:CF,definePartsStyle:rc}=qi(zz.keys),LF=c=>{const{orientation:R}=c;return{display:R==="vertical"?"flex":"block"}},PF=c=>{const{isFitted:R}=c;return{flex:R?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focusVisible:{zIndex:1,boxShadow:"outline"},_disabled:{cursor:"not-allowed",opacity:.4}}},RF=c=>{const{align:R="start",orientation:j}=c;return{justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[R],flexDirection:j==="vertical"?"column":"row"}},kF={p:4},DF=rc(c=>({root:LF(c),tab:PF(c),tablist:RF(c),tabpanel:kF})),IF={sm:rc({tab:{py:1,px:4,fontSize:"sm"}}),md:rc({tab:{fontSize:"md",py:2,px:4}}),lg:rc({tab:{fontSize:"lg",py:3,px:4}})},_F=rc(c=>{const{colorScheme:R,orientation:j}=c,re=j==="vertical",ge=re?"borderStart":"borderBottom",Re=re?"marginStart":"marginBottom";return{tablist:{[ge]:"2px solid",borderColor:"inherit"},tab:{[ge]:"2px solid",borderColor:"transparent",[Re]:"-2px",_selected:{[Rl.variable]:`colors.${R}.600`,_dark:{[Rl.variable]:`colors.${R}.300`},borderColor:"currentColor"},_active:{[wf.variable]:"colors.gray.200",_dark:{[wf.variable]:"colors.whiteAlpha.300"}},_disabled:{_active:{bg:"none"}},color:Rl.reference,bg:wf.reference}}}),zF=rc(c=>{const{colorScheme:R}=c;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",[By.variable]:"transparent",_selected:{[Rl.variable]:`colors.${R}.600`,[By.variable]:"colors.white",_dark:{[Rl.variable]:`colors.${R}.300`,[By.variable]:"colors.gray.800"},borderColor:"inherit",borderBottomColor:By.reference},color:Rl.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),FF=rc(c=>{const{colorScheme:R}=c;return{tab:{border:"1px solid",borderColor:"inherit",[wf.variable]:"colors.gray.50",_dark:{[wf.variable]:"colors.whiteAlpha.50"},mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{[wf.variable]:"colors.white",[Rl.variable]:`colors.${R}.600`,_dark:{[wf.variable]:"colors.gray.800",[Rl.variable]:`colors.${R}.300`},borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"},color:Rl.reference,bg:wf.reference},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}}),OF=rc(c=>{const{colorScheme:R,theme:j}=c;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:ll(j,`${R}.700`),bg:ll(j,`${R}.100`)}}}}),BF=rc(c=>{const{colorScheme:R}=c;return{tab:{borderRadius:"full",fontWeight:"semibold",[Rl.variable]:"colors.gray.600",_dark:{[Rl.variable]:"inherit"},_selected:{[Rl.variable]:"colors.white",[wf.variable]:`colors.${R}.600`,_dark:{[Rl.variable]:"colors.gray.800",[wf.variable]:`colors.${R}.300`}},color:Rl.reference,bg:wf.reference}}}),NF=rc({}),UF={line:_F,enclosed:zF,"enclosed-colored":FF,"soft-rounded":OF,"solid-rounded":BF,unstyled:NF},VF=CF({baseStyle:DF,sizes:IF,variants:UF,defaultProps:{size:"md",variant:"line",colorScheme:"blue"}}),Go=s_("badge",["bg","color","shadow"]),HF={px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold",bg:Go.bg.reference,color:Go.color.reference,boxShadow:Go.shadow.reference},GF=c=>{const{colorScheme:R,theme:j}=c,re=Dp(`${R}.500`,.6)(j);return{[Go.bg.variable]:`colors.${R}.500`,[Go.color.variable]:"colors.white",_dark:{[Go.bg.variable]:re,[Go.color.variable]:"colors.whiteAlpha.800"}}},WF=c=>{const{colorScheme:R,theme:j}=c,re=Dp(`${R}.200`,.16)(j);return{[Go.bg.variable]:`colors.${R}.100`,[Go.color.variable]:`colors.${R}.800`,_dark:{[Go.bg.variable]:re,[Go.color.variable]:`colors.${R}.200`}}},jF=c=>{const{colorScheme:R,theme:j}=c,re=Dp(`${R}.200`,.8)(j);return{[Go.color.variable]:`colors.${R}.500`,_dark:{[Go.color.variable]:re},[Go.shadow.variable]:`inset 0 0 0px 1px ${Go.color.reference}`}},YF={solid:GF,subtle:WF,outline:jF},j0={baseStyle:HF,variants:YF,defaultProps:{variant:"subtle",colorScheme:"gray"}},{defineMultiStyleConfig:ZF,definePartsStyle:ad}=qi(Fz.keys),QA=Za("tag-bg"),qA=Za("tag-color"),cb=Za("tag-shadow"),cm=Za("tag-min-height"),hm=Za("tag-min-width"),vm=Za("tag-font-size"),dm=Za("tag-padding-inline"),XF={fontWeight:"medium",lineHeight:1.2,outline:0,[qA.variable]:Go.color.reference,[QA.variable]:Go.bg.reference,[cb.variable]:Go.shadow.reference,color:qA.reference,bg:QA.reference,boxShadow:cb.reference,borderRadius:"md",minH:cm.reference,minW:hm.reference,fontSize:vm.reference,px:dm.reference,_focusVisible:{[cb.variable]:"shadows.outline"}},$F={lineHeight:1.2,overflow:"visible"},KF={fontSize:"lg",w:"5",h:"5",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"1.5",marginEnd:"-1",opacity:.5,_disabled:{opacity:.4},_focusVisible:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:.8},_active:{opacity:1}},JF=ad({container:XF,label:$F,closeButton:KF}),QF={sm:ad({container:{[cm.variable]:"sizes.5",[hm.variable]:"sizes.5",[vm.variable]:"fontSizes.xs",[dm.variable]:"space.2"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}}),md:ad({container:{[cm.variable]:"sizes.6",[hm.variable]:"sizes.6",[vm.variable]:"fontSizes.sm",[dm.variable]:"space.2"}}),lg:ad({container:{[cm.variable]:"sizes.8",[hm.variable]:"sizes.8",[vm.variable]:"fontSizes.md",[dm.variable]:"space.3"}})},qF={subtle:ad(c=>{var R;return{container:(R=j0.variants)==null?void 0:R.subtle(c)}}),solid:ad(c=>{var R;return{container:(R=j0.variants)==null?void 0:R.solid(c)}}),outline:ad(c=>{var R;return{container:(R=j0.variants)==null?void 0:R.outline(c)}})},eO=ZF({variants:qF,baseStyle:JF,sizes:QF,defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}}),{definePartsStyle:Bc,defineMultiStyleConfig:tO}=qi(Tz.keys),ap=Za("input-height"),ip=Za("input-font-size"),op=Za("input-padding"),sp=Za("input-border-radius"),rO=Bc({addon:{height:ap.reference,fontSize:ip.reference,px:op.reference,borderRadius:sp.reference},field:{width:"100%",height:ap.reference,fontSize:ip.reference,px:op.reference,borderRadius:sp.reference,minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed"}}}),Fh={lg:{[ip.variable]:"fontSizes.lg",[op.variable]:"space.4",[sp.variable]:"radii.md",[ap.variable]:"sizes.12"},md:{[ip.variable]:"fontSizes.md",[op.variable]:"space.4",[sp.variable]:"radii.md",[ap.variable]:"sizes.10"},sm:{[ip.variable]:"fontSizes.sm",[op.variable]:"space.3",[sp.variable]:"radii.sm",[ap.variable]:"sizes.8"},xs:{[ip.variable]:"fontSizes.xs",[op.variable]:"space.2",[sp.variable]:"radii.sm",[ap.variable]:"sizes.6"}},nO={lg:Bc({field:Fh.lg,group:Fh.lg}),md:Bc({field:Fh.md,group:Fh.md}),sm:Bc({field:Fh.sm,group:Fh.sm}),xs:Bc({field:Fh.xs,group:Fh.xs})};function L2(c){const{focusBorderColor:R,errorBorderColor:j}=c;return{focusBorderColor:R||Ya("blue.500","blue.300")(c),errorBorderColor:j||Ya("red.500","red.300")(c)}}var aO=Bc(c=>{const{theme:R}=c,{focusBorderColor:j,errorBorderColor:re}=L2(c);return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:Ya("gray.300","whiteAlpha.400")(c)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ll(R,re),boxShadow:`0 0 0 1px ${ll(R,re)}`},_focusVisible:{zIndex:1,borderColor:ll(R,j),boxShadow:`0 0 0 1px ${ll(R,j)}`}},addon:{border:"1px solid",borderColor:Ya("inherit","whiteAlpha.50")(c),bg:Ya("gray.100","whiteAlpha.300")(c)}}}),iO=Bc(c=>{const{theme:R}=c,{focusBorderColor:j,errorBorderColor:re}=L2(c);return{field:{border:"2px solid",borderColor:"transparent",bg:Ya("gray.100","whiteAlpha.50")(c),_hover:{bg:Ya("gray.200","whiteAlpha.100")(c)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ll(R,re)},_focusVisible:{bg:"transparent",borderColor:ll(R,j)}},addon:{border:"2px solid",borderColor:"transparent",bg:Ya("gray.100","whiteAlpha.50")(c)}}}),oO=Bc(c=>{const{theme:R}=c,{focusBorderColor:j,errorBorderColor:re}=L2(c);return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:ll(R,re),boxShadow:`0px 1px 0px 0px ${ll(R,re)}`},_focusVisible:{borderColor:ll(R,j),boxShadow:`0px 1px 0px 0px ${ll(R,j)}`}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}}),sO=Bc({field:{bg:"transparent",px:"0",height:"auto"},addon:{bg:"transparent",px:"0",height:"auto"}}),lO={outline:aO,filled:iO,flushed:oO,unstyled:sO},_i=tO({baseStyle:rO,sizes:nO,variants:lO,defaultProps:{size:"md",variant:"outline"}}),e4,uO={...(e4=_i.baseStyle)==null?void 0:e4.field,paddingY:"2",minHeight:"20",lineHeight:"short",verticalAlign:"top"},t4,r4,fO={outline:c=>{var R,j;return(j=(R=_i.variants)==null?void 0:R.outline(c).field)!=null?j:{}},flushed:c=>{var R,j;return(j=(R=_i.variants)==null?void 0:R.flushed(c).field)!=null?j:{}},filled:c=>{var R,j;return(j=(R=_i.variants)==null?void 0:R.filled(c).field)!=null?j:{}},unstyled:(r4=(t4=_i.variants)==null?void 0:t4.unstyled.field)!=null?r4:{}},n4,a4,i4,o4,s4,l4,u4,f4,cO={xs:(a4=(n4=_i.sizes)==null?void 0:n4.xs.field)!=null?a4:{},sm:(o4=(i4=_i.sizes)==null?void 0:i4.sm.field)!=null?o4:{},md:(l4=(s4=_i.sizes)==null?void 0:s4.md.field)!=null?l4:{},lg:(f4=(u4=_i.sizes)==null?void 0:u4.lg.field)!=null?f4:{}},hO={baseStyle:uO,sizes:cO,variants:fO,defaultProps:{size:"md",variant:"outline"}},Ny=is("tooltip-bg"),hb=is("tooltip-fg"),vO=is("popper-arrow-bg"),dO={bg:Ny.reference,color:hb.reference,[Ny.variable]:"colors.gray.700",[hb.variable]:"colors.whiteAlpha.900",_dark:{[Ny.variable]:"colors.gray.300",[hb.variable]:"colors.gray.900"},[vO.variable]:Ny.reference,px:"2",py:"0.5",borderRadius:"sm",fontWeight:"medium",fontSize:"sm",boxShadow:"md",maxW:"xs",zIndex:"tooltip"},pO={baseStyle:dO},{defineMultiStyleConfig:gO,definePartsStyle:R0}=qi(Lz.keys),yO=c=>{const{colorScheme:R,theme:j,isIndeterminate:re,hasStripe:ge}=c,Re=Ya(ZA(),ZA("1rem","rgba(0,0,0,0.1)"))(c),V=Ya(`${R}.500`,`${R}.200`)(c),B=`linear-gradient(
    to right,
    transparent 0%,
    ${ll(j,V)} 50%,
    transparent 100%
  )`;return{...!re&&ge&&Re,...re?{bgImage:B}:{bgColor:V}}},mO={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},xO=c=>({bg:Ya("gray.100","whiteAlpha.300")(c)}),bO=c=>({transitionProperty:"common",transitionDuration:"slow",...yO(c)}),wO=R0(c=>({label:mO,filledTrack:bO(c),track:xO(c)})),TO={xs:R0({track:{h:"1"}}),sm:R0({track:{h:"2"}}),md:R0({track:{h:"3"}}),lg:R0({track:{h:"4"}})},AO=gO({sizes:TO,baseStyle:wO,defaultProps:{size:"md",colorScheme:"blue"}}),SO=c=>typeof c=="function";function cl(c,...R){return SO(c)?c(...R):c}var{definePartsStyle:pm,defineMultiStyleConfig:MO}=qi(yz.keys),Y0=Za("checkbox-size"),EO=c=>{const{colorScheme:R}=c;return{w:Y0.reference,h:Y0.reference,transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:Ya(`${R}.500`,`${R}.200`)(c),borderColor:Ya(`${R}.500`,`${R}.200`)(c),color:Ya("white","gray.900")(c),_hover:{bg:Ya(`${R}.600`,`${R}.300`)(c),borderColor:Ya(`${R}.600`,`${R}.300`)(c)},_disabled:{borderColor:Ya("gray.200","transparent")(c),bg:Ya("gray.200","whiteAlpha.300")(c),color:Ya("gray.500","whiteAlpha.500")(c)}},_indeterminate:{bg:Ya(`${R}.500`,`${R}.200`)(c),borderColor:Ya(`${R}.500`,`${R}.200`)(c),color:Ya("white","gray.900")(c)},_disabled:{bg:Ya("gray.100","whiteAlpha.100")(c),borderColor:Ya("gray.100","transparent")(c)},_focusVisible:{boxShadow:"outline"},_invalid:{borderColor:Ya("red.500","red.300")(c)}}},CO={_disabled:{cursor:"not-allowed"}},LO={userSelect:"none",_disabled:{opacity:.4}},PO={transitionProperty:"transform",transitionDuration:"normal"},RO=pm(c=>({icon:PO,container:CO,control:cl(EO,c),label:LO})),kO={sm:pm({control:{[Y0.variable]:"sizes.3"},label:{fontSize:"sm"},icon:{fontSize:"3xs"}}),md:pm({control:{[Y0.variable]:"sizes.4"},label:{fontSize:"md"},icon:{fontSize:"2xs"}}),lg:pm({control:{[Y0.variable]:"sizes.5"},label:{fontSize:"lg"},icon:{fontSize:"2xs"}})},Qm=MO({baseStyle:RO,sizes:kO,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:DO,definePartsStyle:gm}=qi(Pz.keys),IO=c=>{var R;const j=(R=cl(Qm.baseStyle,c))==null?void 0:R.control;return{...j,borderRadius:"full",_checked:{...j==null?void 0:j._checked,_before:{content:'""',display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}}}},_O=gm(c=>{var R,j,re,ge;return{label:(j=(R=Qm).baseStyle)==null?void 0:j.call(R,c).label,container:(ge=(re=Qm).baseStyle)==null?void 0:ge.call(re,c).container,control:IO(c)}}),zO={md:gm({control:{w:"4",h:"4"},label:{fontSize:"md"}}),lg:gm({control:{w:"5",h:"5"},label:{fontSize:"lg"}}),sm:gm({control:{width:"3",height:"3"},label:{fontSize:"sm"}})},FO=DO({baseStyle:_O,sizes:zO,defaultProps:{size:"md",colorScheme:"blue"}}),{defineMultiStyleConfig:OO,definePartsStyle:BO}=qi(Rz.keys),Uy=Za("select-bg"),c4,NO={...(c4=_i.baseStyle)==null?void 0:c4.field,appearance:"none",paddingBottom:"1px",lineHeight:"normal",bg:Uy.reference,[Uy.variable]:"colors.white",_dark:{[Uy.variable]:"colors.gray.700"},"> option, > optgroup":{bg:Uy.reference}},UO={width:"6",height:"100%",insetEnd:"2",position:"relative",color:"currentColor",fontSize:"xl",_disabled:{opacity:.5}},VO=BO({field:NO,icon:UO}),Vy={paddingInlineEnd:"8"},h4,v4,d4,p4,g4,y4,m4,x4,HO={lg:{...(h4=_i.sizes)==null?void 0:h4.lg,field:{...(v4=_i.sizes)==null?void 0:v4.lg.field,...Vy}},md:{...(d4=_i.sizes)==null?void 0:d4.md,field:{...(p4=_i.sizes)==null?void 0:p4.md.field,...Vy}},sm:{...(g4=_i.sizes)==null?void 0:g4.sm,field:{...(y4=_i.sizes)==null?void 0:y4.sm.field,...Vy}},xs:{...(m4=_i.sizes)==null?void 0:m4.xs,field:{...(x4=_i.sizes)==null?void 0:x4.xs.field,...Vy},icon:{insetEnd:"1"}}},GO=OO({baseStyle:VO,sizes:HO,variants:_i.variants,defaultProps:_i.defaultProps}),vb=Za("skeleton-start-color"),db=Za("skeleton-end-color"),WO={[vb.variable]:"colors.gray.100",[db.variable]:"colors.gray.400",_dark:{[vb.variable]:"colors.gray.800",[db.variable]:"colors.gray.600"},background:vb.reference,borderColor:db.reference,opacity:.7,borderRadius:"sm"},jO={baseStyle:WO},pb=Za("skip-link-bg"),YO={borderRadius:"md",fontWeight:"semibold",_focusVisible:{boxShadow:"outline",padding:"4",position:"fixed",top:"6",insetStart:"6",[pb.variable]:"colors.white",_dark:{[pb.variable]:"colors.gray.700"},bg:pb.reference}},ZO={baseStyle:YO},{defineMultiStyleConfig:XO,definePartsStyle:X1}=qi(kz.keys),Sg=Za("slider-thumb-size"),Mg=Za("slider-track-size"),Wh=Za("slider-bg"),$O=c=>{const{orientation:R}=c;return{display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"},...C2({orientation:R,vertical:{h:"100%"},horizontal:{w:"100%"}})}},KO=c=>({...C2({orientation:c.orientation,horizontal:{h:Mg.reference},vertical:{w:Mg.reference}}),overflow:"hidden",borderRadius:"sm",[Wh.variable]:"colors.gray.200",_dark:{[Wh.variable]:"colors.whiteAlpha.200"},_disabled:{[Wh.variable]:"colors.gray.300",_dark:{[Wh.variable]:"colors.whiteAlpha.300"}},bg:Wh.reference}),JO=c=>{const{orientation:R}=c;return{...C2({orientation:R,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}}),w:Sg.reference,h:Sg.reference,display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{bg:"gray.300"}}},QO=c=>{const{colorScheme:R}=c;return{width:"inherit",height:"inherit",[Wh.variable]:`colors.${R}.500`,_dark:{[Wh.variable]:`colors.${R}.200`},bg:Wh.reference}},qO=X1(c=>({container:$O(c),track:KO(c),thumb:JO(c),filledTrack:QO(c)})),eB=X1({container:{[Sg.variable]:"sizes.4",[Mg.variable]:"sizes.1"}}),tB=X1({container:{[Sg.variable]:"sizes.3.5",[Mg.variable]:"sizes.1"}}),rB=X1({container:{[Sg.variable]:"sizes.2.5",[Mg.variable]:"sizes.0.5"}}),nB={lg:eB,md:tB,sm:rB},aB=XO({baseStyle:qO,sizes:nB,defaultProps:{size:"md",colorScheme:"blue"}}),$v=is("spinner-size"),iB={width:[$v.reference],height:[$v.reference]},oB={xs:{[$v.variable]:"sizes.3"},sm:{[$v.variable]:"sizes.4"},md:{[$v.variable]:"sizes.6"},lg:{[$v.variable]:"sizes.8"},xl:{[$v.variable]:"sizes.12"}},sB={baseStyle:iB,sizes:oB,defaultProps:{size:"md"}},{defineMultiStyleConfig:lB,definePartsStyle:U8}=qi(Dz.keys),uB={fontWeight:"medium"},fB={opacity:.8,marginBottom:"2"},cB={verticalAlign:"baseline",fontWeight:"semibold"},hB={marginEnd:1,w:"3.5",h:"3.5",verticalAlign:"middle"},vB=U8({container:{},label:uB,helpText:fB,number:cB,icon:hB}),dB={md:U8({label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}})},pB=lB({baseStyle:vB,sizes:dB,defaultProps:{size:"md"}}),gb=Za("kbd-bg"),gB={[gb.variable]:"colors.gray.100",_dark:{[gb.variable]:"colors.whiteAlpha.100"},bg:gb.reference,borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"},yB={baseStyle:gB},mB={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focusVisible:{boxShadow:"outline"}},xB={baseStyle:mB},{defineMultiStyleConfig:bB,definePartsStyle:wB}=qi(Az.keys),TB={marginEnd:"2",display:"inline",verticalAlign:"text-bottom"},AB=wB({icon:TB}),SB=bB({baseStyle:AB}),{defineMultiStyleConfig:MB,definePartsStyle:EB}=qi(Sz.keys),$f=Za("menu-bg"),yb=Za("menu-shadow"),CB={[$f.variable]:"#fff",[yb.variable]:"shadows.sm",_dark:{[$f.variable]:"colors.gray.700",[yb.variable]:"shadows.dark-lg"},color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px",bg:$f.reference,boxShadow:yb.reference},LB={py:"1.5",px:"3",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{[$f.variable]:"colors.gray.100",_dark:{[$f.variable]:"colors.whiteAlpha.100"}},_active:{[$f.variable]:"colors.gray.200",_dark:{[$f.variable]:"colors.whiteAlpha.200"}},_expanded:{[$f.variable]:"colors.gray.100",_dark:{[$f.variable]:"colors.whiteAlpha.100"}},_disabled:{opacity:.4,cursor:"not-allowed"},bg:$f.reference},PB={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},RB={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0},kB={opacity:.6},DB={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"2",opacity:.6},IB={transitionProperty:"common",transitionDuration:"normal"},_B=EB({button:IB,list:CB,item:LB,groupTitle:PB,icon:RB,command:kB,divider:DB}),zB=MB({baseStyle:_B}),{defineMultiStyleConfig:FB,definePartsStyle:X3}=qi(Mz.keys),mb=Za("modal-bg"),xb=Za("modal-shadow"),OB={bg:"blackAlpha.600",zIndex:"modal"},BB=c=>{const{isCentered:R,scrollBehavior:j}=c;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:R?"center":"flex-start",overflow:j==="inside"?"hidden":"auto",overscrollBehaviorY:"none"}},NB=c=>{const{isCentered:R,scrollBehavior:j}=c;return{borderRadius:"md",color:"inherit",my:R?"auto":"16",mx:R?"auto":void 0,zIndex:"modal",maxH:j==="inside"?"calc(100% - 7.5rem)":void 0,[mb.variable]:"colors.white",[xb.variable]:"shadows.lg",_dark:{[mb.variable]:"colors.gray.700",[xb.variable]:"shadows.dark-lg"},bg:mb.reference,boxShadow:xb.reference}},UB={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},VB={position:"absolute",top:"2",insetEnd:"3"},HB=c=>{const{scrollBehavior:R}=c;return{px:"6",py:"2",flex:"1",overflow:R==="inside"?"auto":void 0}},GB={px:"6",py:"4"},WB=X3(c=>({overlay:OB,dialogContainer:cl(BB,c),dialog:cl(NB,c),header:UB,closeButton:VB,body:cl(HB,c),footer:GB}));function gf(c){return X3(c==="full"?{dialog:{maxW:"100vw",minH:"$100vh",my:"0",borderRadius:"0"}}:{dialog:{maxW:c}})}var jB={xs:gf("xs"),sm:gf("sm"),md:gf("md"),lg:gf("lg"),xl:gf("xl"),"2xl":gf("2xl"),"3xl":gf("3xl"),"4xl":gf("4xl"),"5xl":gf("5xl"),"6xl":gf("6xl"),full:gf("full")},YB=FB({baseStyle:WB,sizes:jB,defaultProps:{size:"md"}}),{defineMultiStyleConfig:ZB,definePartsStyle:V8}=qi(Ez.keys),P2=is("number-input-stepper-width"),H8=is("number-input-input-padding"),XB=zc(P2).add("0.5rem").toString(),bb=is("number-input-bg"),wb=is("number-input-color"),Tb=is("number-input-border-color"),$B={[P2.variable]:"sizes.6",[H8.variable]:XB},KB=c=>{var R,j;return(j=(R=cl(_i.baseStyle,c))==null?void 0:R.field)!=null?j:{}},JB={width:P2.reference},QB={borderStart:"1px solid",borderStartColor:Tb.reference,color:wb.reference,bg:bb.reference,[wb.variable]:"colors.chakra-body-text",[Tb.variable]:"colors.chakra-border-color",_dark:{[wb.variable]:"colors.whiteAlpha.800",[Tb.variable]:"colors.whiteAlpha.300"},_active:{[bb.variable]:"colors.gray.200",_dark:{[bb.variable]:"colors.whiteAlpha.300"}},_disabled:{opacity:.4,cursor:"not-allowed"}},qB=V8(c=>{var R;return{root:$B,field:(R=cl(KB,c))!=null?R:{},stepperGroup:JB,stepper:QB}});function Hy(c){var R,j,re;const ge=(R=_i.sizes)==null?void 0:R[c],Re={lg:"md",md:"md",sm:"sm",xs:"sm"},V=(re=(j=ge.field)==null?void 0:j.fontSize)!=null?re:"md",B=z8.fontSizes[V];return V8({field:{...ge.field,paddingInlineEnd:H8.reference,verticalAlign:"top"},stepper:{fontSize:zc(B).multiply(.75).toString(),_first:{borderTopEndRadius:Re[c]},_last:{borderBottomEndRadius:Re[c],mt:"-1px",borderTopWidth:1}}})}var eN={xs:Hy("xs"),sm:Hy("sm"),md:Hy("md"),lg:Hy("lg")},tN=ZB({baseStyle:qB,sizes:eN,variants:_i.variants,defaultProps:_i.defaultProps}),b4,rN={...(b4=_i.baseStyle)==null?void 0:b4.field,textAlign:"center"},nN={lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},w4,T4,aN={outline:c=>{var R,j,re;return(re=(j=cl((R=_i.variants)==null?void 0:R.outline,c))==null?void 0:j.field)!=null?re:{}},flushed:c=>{var R,j,re;return(re=(j=cl((R=_i.variants)==null?void 0:R.flushed,c))==null?void 0:j.field)!=null?re:{}},filled:c=>{var R,j,re;return(re=(j=cl((R=_i.variants)==null?void 0:R.filled,c))==null?void 0:j.field)!=null?re:{}},unstyled:(T4=(w4=_i.variants)==null?void 0:w4.unstyled.field)!=null?T4:{}},iN={baseStyle:rN,sizes:nN,variants:aN,defaultProps:_i.defaultProps},{defineMultiStyleConfig:oN,definePartsStyle:sN}=qi(Cz.keys),Gy=is("popper-bg"),lN=is("popper-arrow-bg"),A4=is("popper-arrow-shadow-color"),uN={zIndex:10},fN={[Gy.variable]:"colors.white",bg:Gy.reference,[lN.variable]:Gy.reference,[A4.variable]:"colors.gray.200",_dark:{[Gy.variable]:"colors.gray.700",[A4.variable]:"colors.whiteAlpha.300"},width:"xs",border:"1px solid",borderColor:"inherit",borderRadius:"md",boxShadow:"sm",zIndex:"inherit",_focusVisible:{outline:0,boxShadow:"outline"}},cN={px:3,py:2,borderBottomWidth:"1px"},hN={px:3,py:2},vN={px:3,py:2,borderTopWidth:"1px"},dN={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},pN=sN({popper:uN,content:fN,header:cN,body:hN,footer:vN,closeButton:dN}),gN=oN({baseStyle:pN}),{definePartsStyle:$3,defineMultiStyleConfig:yN}=qi(mz.keys),Ab=Za("drawer-bg"),Sb=Za("drawer-box-shadow");function Gd(c){return $3(c==="full"?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:c}})}var mN={bg:"blackAlpha.600",zIndex:"modal"},xN={display:"flex",zIndex:"modal",justifyContent:"center"},bN=c=>{const{isFullHeight:R}=c;return{...R&&{height:"100vh"},zIndex:"modal",maxH:"100vh",color:"inherit",[Ab.variable]:"colors.white",[Sb.variable]:"shadows.lg",_dark:{[Ab.variable]:"colors.gray.700",[Sb.variable]:"shadows.dark-lg"},bg:Ab.reference,boxShadow:Sb.reference}},wN={px:"6",py:"4",fontSize:"xl",fontWeight:"semibold"},TN={position:"absolute",top:"2",insetEnd:"3"},AN={px:"6",py:"2",flex:"1",overflow:"auto"},SN={px:"6",py:"4"},MN=$3(c=>({overlay:mN,dialogContainer:xN,dialog:cl(bN,c),header:wN,closeButton:TN,body:AN,footer:SN})),EN={xs:Gd("xs"),sm:Gd("md"),md:Gd("lg"),lg:Gd("2xl"),xl:Gd("4xl"),full:Gd("full")},CN=yN({baseStyle:MN,sizes:EN,defaultProps:{size:"xs"}}),{definePartsStyle:LN,defineMultiStyleConfig:PN}=qi(xz.keys),RN={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal"},kN={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},DN={borderRadius:"md",py:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",_focusVisible:{boxShadow:"outline"},_placeholder:{opacity:.6}},IN=LN({preview:RN,input:kN,textarea:DN}),_N=PN({baseStyle:IN}),{definePartsStyle:zN,defineMultiStyleConfig:FN}=qi(bz.keys),wp=Za("form-control-color"),ON={marginStart:"1",[wp.variable]:"colors.red.500",_dark:{[wp.variable]:"colors.red.300"},color:wp.reference},BN={mt:"2",[wp.variable]:"colors.gray.600",_dark:{[wp.variable]:"colors.whiteAlpha.600"},color:wp.reference,lineHeight:"normal",fontSize:"sm"},NN=zN({container:{width:"100%",position:"relative"},requiredIndicator:ON,helperText:BN}),UN=FN({baseStyle:NN}),{definePartsStyle:VN,defineMultiStyleConfig:HN}=qi(wz.keys),Tp=Za("form-error-color"),GN={[Tp.variable]:"colors.red.500",_dark:{[Tp.variable]:"colors.red.300"},color:Tp.reference,mt:"2",fontSize:"sm",lineHeight:"normal"},WN={marginEnd:"0.5em",[Tp.variable]:"colors.red.500",_dark:{[Tp.variable]:"colors.red.300"},color:Tp.reference},jN=VN({text:GN,icon:WN}),YN=HN({baseStyle:jN}),ZN={fontSize:"md",marginEnd:"3",mb:"2",fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:.4}},XN={baseStyle:ZN},$N={fontFamily:"heading",fontWeight:"bold"},KN={"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},JN={baseStyle:$N,sizes:KN,defaultProps:{size:"xl"}},{defineMultiStyleConfig:QN,definePartsStyle:qN}=qi(gz.keys),Mb=Za("breadcrumb-link-decor"),eU={transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",outline:"none",color:"inherit",textDecoration:Mb.reference,[Mb.variable]:"none","&:not([aria-current=page])":{cursor:"pointer",_hover:{[Mb.variable]:"underline"},_focusVisible:{boxShadow:"outline"}}},tU=qN({link:eU}),rU=QN({baseStyle:tU}),nU={lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focusVisible:{boxShadow:"outline"},_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},G8=c=>{const{colorScheme:R,theme:j}=c;if(R==="gray")return{color:Ya("gray.800","whiteAlpha.900")(c),_hover:{bg:Ya("gray.100","whiteAlpha.200")(c)},_active:{bg:Ya("gray.200","whiteAlpha.300")(c)}};const re=Dp(`${R}.200`,.12)(j),ge=Dp(`${R}.200`,.24)(j);return{color:Ya(`${R}.600`,`${R}.200`)(c),bg:"transparent",_hover:{bg:Ya(`${R}.50`,re)(c)},_active:{bg:Ya(`${R}.100`,ge)(c)}}},aU=c=>{const{colorScheme:R}=c,j=Ya("gray.200","whiteAlpha.300")(c);return{border:"1px solid",borderColor:R==="gray"?j:"currentColor",".chakra-button__group[data-attached][data-orientation=horizontal] > &:not(:last-of-type)":{marginEnd:"-1px"},".chakra-button__group[data-attached][data-orientation=vertical] > &:not(:last-of-type)":{marginBottom:"-1px"},...cl(G8,c)}},iU={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},oU=c=>{var R;const{colorScheme:j}=c;if(j==="gray"){const e=Ya("gray.100","whiteAlpha.200")(c);return{bg:e,color:Ya("gray.800","whiteAlpha.900")(c),_hover:{bg:Ya("gray.200","whiteAlpha.300")(c),_disabled:{bg:e}},_active:{bg:Ya("gray.300","whiteAlpha.400")(c)}}}const{bg:re=`${j}.500`,color:ge="white",hoverBg:Re=`${j}.600`,activeBg:V=`${j}.700`}=(R=iU[j])!=null?R:{},B=Ya(re,`${j}.200`)(c);return{bg:B,color:Ya(ge,"gray.800")(c),_hover:{bg:Ya(Re,`${j}.300`)(c),_disabled:{bg:B}},_active:{bg:Ya(V,`${j}.400`)(c)}}},sU=c=>{const{colorScheme:R}=c;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:Ya(`${R}.500`,`${R}.200`)(c),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:Ya(`${R}.700`,`${R}.500`)(c)}}},lU={bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:"0",p:"0"},uU={ghost:G8,outline:aU,solid:oU,link:sU,unstyled:lU},fU={lg:{h:"12",minW:"12",fontSize:"lg",px:"6"},md:{h:"10",minW:"10",fontSize:"md",px:"4"},sm:{h:"8",minW:"8",fontSize:"sm",px:"3"},xs:{h:"6",minW:"6",fontSize:"xs",px:"2"}},cU={baseStyle:nU,variants:uU,sizes:fU,defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},{definePartsStyle:id,defineMultiStyleConfig:hU}=qi(Oz.keys),qm=Za("card-bg"),Vc=Za("card-padding"),W8=Za("card-shadow"),ym=Za("card-radius"),j8=Za("card-border-width","0"),Y8=Za("card-border-color"),vU=id({container:{[qm.variable]:"colors.chakra-body-bg",backgroundColor:qm.reference,boxShadow:W8.reference,borderRadius:ym.reference,color:"chakra-body-text",borderWidth:j8.reference,borderColor:Y8.reference},body:{padding:Vc.reference,flex:"1 1 0%"},header:{padding:Vc.reference},footer:{padding:Vc.reference}}),dU={sm:id({container:{[ym.variable]:"radii.base",[Vc.variable]:"space.3"}}),md:id({container:{[ym.variable]:"radii.md",[Vc.variable]:"space.5"}}),lg:id({container:{[ym.variable]:"radii.xl",[Vc.variable]:"space.7"}})},pU={elevated:id({container:{[W8.variable]:"shadows.base",_dark:{[qm.variable]:"colors.gray.700"}}}),outline:id({container:{[j8.variable]:"1px",[Y8.variable]:"colors.chakra-border-color"}}),filled:id({container:{[qm.variable]:"colors.chakra-subtle-bg"}}),unstyled:{body:{[Vc.variable]:0},header:{[Vc.variable]:0},footer:{[Vc.variable]:0}}},gU=hU({baseStyle:vU,variants:pU,sizes:dU,defaultProps:{variant:"elevated",size:"md"}}),Z0=is("close-button-size"),x0=is("close-button-bg"),yU={w:[Z0.reference],h:[Z0.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:.4,cursor:"not-allowed",boxShadow:"none"},_hover:{[x0.variable]:"colors.blackAlpha.100",_dark:{[x0.variable]:"colors.whiteAlpha.100"}},_active:{[x0.variable]:"colors.blackAlpha.200",_dark:{[x0.variable]:"colors.whiteAlpha.200"}},_focusVisible:{boxShadow:"outline"},bg:x0.reference},mU={lg:{[Z0.variable]:"sizes.10",fontSize:"md"},md:{[Z0.variable]:"sizes.8",fontSize:"xs"},sm:{[Z0.variable]:"sizes.6",fontSize:"2xs"}},xU={baseStyle:yU,sizes:mU,defaultProps:{size:"md"}},{variants:bU,defaultProps:wU}=j0,TU={fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm",bg:Go.bg.reference,color:Go.color.reference,boxShadow:Go.shadow.reference},AU={baseStyle:TU,variants:bU,defaultProps:wU},SU={w:"100%",mx:"auto",maxW:"prose",px:"4"},MU={baseStyle:SU},EU={opacity:.6,borderColor:"inherit"},CU={borderStyle:"solid"},LU={borderStyle:"dashed"},PU={solid:CU,dashed:LU},RU={baseStyle:EU,variants:PU,defaultProps:{variant:"solid"}},{definePartsStyle:kU,defineMultiStyleConfig:DU}=qi(vz.keys),IU={borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},_U={transitionProperty:"common",transitionDuration:"normal",fontSize:"md",_focusVisible:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:.4,cursor:"not-allowed"},px:"4",py:"2"},zU={pt:"2",px:"4",pb:"5"},FU={fontSize:"1.25em"},OU=kU({container:IU,button:_U,panel:zU,icon:FU}),BU=DU({baseStyle:OU}),{definePartsStyle:Fg,defineMultiStyleConfig:NU}=qi(dz.keys),tu=Za("alert-fg"),Xc=Za("alert-bg"),UU=Fg({container:{bg:Xc.reference,px:"4",py:"3"},title:{fontWeight:"bold",lineHeight:"6",marginEnd:"2"},description:{lineHeight:"6"},icon:{color:tu.reference,flexShrink:0,marginEnd:"3",w:"5",h:"6"},spinner:{color:tu.reference,flexShrink:0,marginEnd:"3",w:"5",h:"5"}});function R2(c){const{theme:R,colorScheme:j}=c,re=Dp(`${j}.200`,.16)(R);return{light:`colors.${j}.100`,dark:re}}var VU=Fg(c=>{const{colorScheme:R}=c,j=R2(c);return{container:{[tu.variable]:`colors.${R}.600`,[Xc.variable]:j.light,_dark:{[tu.variable]:`colors.${R}.200`,[Xc.variable]:j.dark}}}}),HU=Fg(c=>{const{colorScheme:R}=c,j=R2(c);return{container:{[tu.variable]:`colors.${R}.600`,[Xc.variable]:j.light,_dark:{[tu.variable]:`colors.${R}.200`,[Xc.variable]:j.dark},paddingStart:"3",borderStartWidth:"4px",borderStartColor:tu.reference}}}),GU=Fg(c=>{const{colorScheme:R}=c,j=R2(c);return{container:{[tu.variable]:`colors.${R}.600`,[Xc.variable]:j.light,_dark:{[tu.variable]:`colors.${R}.200`,[Xc.variable]:j.dark},pt:"2",borderTopWidth:"4px",borderTopColor:tu.reference}}}),WU=Fg(c=>{const{colorScheme:R}=c;return{container:{[tu.variable]:"colors.white",[Xc.variable]:`colors.${R}.600`,_dark:{[tu.variable]:"colors.gray.900",[Xc.variable]:`colors.${R}.200`},color:tu.reference}}}),jU={subtle:VU,"left-accent":HU,"top-accent":GU,solid:WU},YU=NU({baseStyle:UU,variants:jU,defaultProps:{variant:"subtle",colorScheme:"blue"}}),{definePartsStyle:Z8,defineMultiStyleConfig:ZU}=qi(pz.keys),Ap=Za("avatar-border-color"),X0=Za("avatar-bg"),Eg=Za("avatar-font-size"),Ip=Za("avatar-size"),XU={borderRadius:"full",border:"0.2em solid",borderColor:Ap.reference,[Ap.variable]:"white",_dark:{[Ap.variable]:"colors.gray.800"}},$U={bg:X0.reference,fontSize:Eg.reference,width:Ip.reference,height:Ip.reference,lineHeight:"1",[X0.variable]:"colors.gray.200",_dark:{[X0.variable]:"colors.whiteAlpha.400"}},KU=c=>{const{name:R,theme:j}=c,re=R?nF({string:R}):"colors.gray.400",ge=tF(re)(j);let Re="white";return ge||(Re="gray.800"),{bg:X0.reference,fontSize:Eg.reference,color:Re,borderColor:Ap.reference,verticalAlign:"top",width:Ip.reference,height:Ip.reference,"&:not([data-loaded])":{[X0.variable]:re},[Ap.variable]:"colors.white",_dark:{[Ap.variable]:"colors.gray.800"}}},JU={fontSize:Eg.reference,lineHeight:"1"},QU=Z8(c=>({badge:cl(XU,c),excessLabel:cl($U,c),container:cl(KU,c),label:JU}));function Oh(c){const R=c!=="100%"?O8[c]:void 0;return Z8({container:{[Ip.variable]:R??c,[Eg.variable]:`calc(${R??c} / 2.5)`},excessLabel:{[Ip.variable]:R??c,[Eg.variable]:`calc(${R??c} / 2.5)`}})}var qU={"2xs":Oh(4),xs:Oh(6),sm:Oh(8),md:Oh(12),lg:Oh(16),xl:Oh(24),"2xl":Oh(32),full:Oh("100%")},eV=ZU({baseStyle:QU,sizes:qU,defaultProps:{size:"md"}}),tV={Accordion:BU,Alert:YU,Avatar:eV,Badge:j0,Breadcrumb:rU,Button:cU,Checkbox:Qm,CloseButton:xU,Code:AU,Container:MU,Divider:RU,Drawer:CN,Editable:_N,Form:UN,FormError:YN,FormLabel:XN,Heading:JN,Input:_i,Kbd:yB,Link:xB,List:SB,Menu:zB,Modal:YB,NumberInput:tN,PinInput:iN,Popover:gN,Progress:AO,Radio:FO,Select:GO,Skeleton:jO,SkipLink:ZO,Slider:aB,Spinner:sB,Stat:pB,Switch:xF,Table:EF,Tabs:VF,Tag:eO,Textarea:hO,Tooltip:pO,Card:gU,Stepper:hz},rV={colors:{"chakra-body-text":{_light:"gray.800",_dark:"whiteAlpha.900"},"chakra-body-bg":{_light:"white",_dark:"gray.800"},"chakra-border-color":{_light:"gray.200",_dark:"whiteAlpha.300"},"chakra-inverse-text":{_light:"white",_dark:"gray.800"},"chakra-subtle-bg":{_light:"gray.100",_dark:"gray.700"},"chakra-subtle-text":{_light:"gray.600",_dark:"gray.400"},"chakra-placeholder-color":{_light:"gray.500",_dark:"whiteAlpha.400"}}},nV={global:{body:{fontFamily:"body",color:"chakra-body-text",bg:"chakra-body-bg",transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:"chakra-placeholder-color"},"*, *::before, &::after":{borderColor:"chakra-border-color"}}},aV="ltr",iV={useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"},X8={semanticTokens:rV,direction:aV,...uz,components:tV,styles:nV,config:iV};function k0(c){return typeof c=="function"}function oV(...c){return R=>c.reduce((j,re)=>re(j),R)}var sV=c=>function(...j){let re=[...j],ge=j[j.length-1];return N_(ge)&&re.length>1?re=re.slice(0,re.length-1):ge=c,oV(...re.map(Re=>V=>k0(Re)?Re(V):uV(V,Re)))(ge)},lV=sV(X8);function uV(...c){return Ou({},...c,$8)}function $8(c,R,j,re){if((k0(c)||k0(R))&&Object.prototype.hasOwnProperty.call(re,j))return(...ge)=>{const Re=k0(c)?c(...ge):c,V=k0(R)?R(...ge):R;return Ou({},Re,V,$8)}}function fV(c,R){const j={};return Object.keys(c).forEach(re=>{R.includes(re)||(j[re]=c[re])}),j}function cV(c,R,j,re){const ge=typeof R=="string"?R.split("."):[R];for(re=0;re<ge.length&&c;re+=1)c=c[ge[re]];return c===void 0?j:c}var hV=c=>{const R=new WeakMap;return(re,ge,Re,V)=>{if(typeof re>"u")return c(re,ge,Re);R.has(re)||R.set(re,new Map);const B=R.get(re);if(B.has(ge))return B.get(ge);const e=c(re,ge,Re,V);return B.set(ge,e),e}},K8=hV(cV);function J8(c,R){const j={};return Object.keys(c).forEach(re=>{const ge=c[re];R(ge,re,c)&&(j[re]=ge)}),j}var Q8=c=>J8(c,R=>R!=null);function vV(c){return typeof c=="function"}function q8(c,...R){return vV(c)?c(...R):c}var dV=typeof Element<"u",pV=typeof Map=="function",gV=typeof Set=="function",yV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function mm(c,R){if(c===R)return!0;if(c&&R&&typeof c=="object"&&typeof R=="object"){if(c.constructor!==R.constructor)return!1;var j,re,ge;if(Array.isArray(c)){if(j=c.length,j!=R.length)return!1;for(re=j;re--!==0;)if(!mm(c[re],R[re]))return!1;return!0}var Re;if(pV&&c instanceof Map&&R instanceof Map){if(c.size!==R.size)return!1;for(Re=c.entries();!(re=Re.next()).done;)if(!R.has(re.value[0]))return!1;for(Re=c.entries();!(re=Re.next()).done;)if(!mm(re.value[1],R.get(re.value[0])))return!1;return!0}if(gV&&c instanceof Set&&R instanceof Set){if(c.size!==R.size)return!1;for(Re=c.entries();!(re=Re.next()).done;)if(!R.has(re.value[0]))return!1;return!0}if(yV&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(R)){if(j=c.length,j!=R.length)return!1;for(re=j;re--!==0;)if(c[re]!==R[re])return!1;return!0}if(c.constructor===RegExp)return c.source===R.source&&c.flags===R.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof R.valueOf=="function")return c.valueOf()===R.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof R.toString=="function")return c.toString()===R.toString();if(ge=Object.keys(c),j=ge.length,j!==Object.keys(R).length)return!1;for(re=j;re--!==0;)if(!Object.prototype.hasOwnProperty.call(R,ge[re]))return!1;if(dV&&c instanceof Element)return!1;for(re=j;re--!==0;)if(!((ge[re]==="_owner"||ge[re]==="__v"||ge[re]==="__o")&&c.$$typeof)&&!mm(c[ge[re]],R[ge[re]]))return!1;return!0}return c!==c&&R!==R}var mV=function(R,j){try{return mm(R,j)}catch(re){if((re.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw re}};const xV=f1(mV);function eE(c,R={}){var j;const{styleConfig:re,...ge}=R,{theme:Re,colorMode:V}=xI(),B=c?K8(Re,`components.${c}`):void 0,e=re||B,p=Ou({theme:Re,colorMode:V},(j=e==null?void 0:e.defaultProps)!=null?j:{},Q8(fV(ge,["children"]))),L=gn.useRef({});if(e){const C=O_(e)(p);xV(L.current,C)||(L.current=C)}return L.current}function vd(c,R={}){return eE(c,R)}function $1(c,R={}){return eE(c,R)}var bV=new Set([...M_,"textStyle","layerStyle","apply","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"]),wV=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function TV(c){return wV.has(c)||!bV.has(c)}function AV(c,...R){if(c==null)throw new TypeError("Cannot convert undefined or null to object");const j={...c};for(const re of R)if(re!=null)for(const ge in re)Object.prototype.hasOwnProperty.call(re,ge)&&(ge in j&&delete j[ge],j[ge]=re[ge]);return j}function SV(c){const R=Object.assign({},c);for(let j in R)R[j]===void 0&&delete R[j];return R}var MV=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,EV=c8(function(c){return MV.test(c)||c.charCodeAt(0)===111&&c.charCodeAt(1)===110&&c.charCodeAt(2)<91}),CV=EV,LV=function(R){return R!=="theme"},S4=function(R){return typeof R=="string"&&R.charCodeAt(0)>96?CV:LV},M4=function(R,j,re){var ge;if(j){var Re=j.shouldForwardProp;ge=R.__emotion_forwardProp&&Re?function(V){return R.__emotion_forwardProp(V)&&Re(V)}:Re}return typeof ge!="function"&&re&&(ge=R.__emotion_forwardProp),ge},PV=function(R){var j=R.cache,re=R.serialized,ge=R.isStringTag;return y8(j,re,ge),QD(function(){return m8(j,re,ge)}),null},RV=function c(R,j){var re=R.__emotion_real===R,ge=re&&R.__emotion_base||R,Re,V;j!==void 0&&(Re=j.label,V=j.target);var B=M4(R,j,re),e=B||S4(ge),p=!e("as");return function(){var L=arguments,n=re&&R.__emotion_styles!==void 0?R.__emotion_styles.slice(0):[];if(Re!==void 0&&n.push("label:"+Re+";"),L[0]==null||L[0].raw===void 0)n.push.apply(n,L);else{n.push(L[0][0]);for(var C=L.length,T=1;T<C;T++)n.push(L[T],L[0][T])}var d=T8(function(y,r,t){var i=p&&y.as||ge,a="",h=[],u=y;if(y.theme==null){u={};for(var s in y)u[s]=y[s];u.theme=gn.useContext(wg)}typeof y.className=="string"?a=jD(r.registered,h,y.className):y.className!=null&&(a=y.className+" ");var m=x2(n.concat(h),r.registered,u);a+=r.key+"-"+m.name,V!==void 0&&(a+=" "+V);var f=p&&B===void 0?S4(i):e,S={};for(var v in y)p&&v==="as"||f(v)&&(S[v]=y[v]);return S.className=a,S.ref=t,gn.createElement(gn.Fragment,null,gn.createElement(PV,{cache:r,serialized:m,isStringTag:typeof i=="string"}),gn.createElement(i,S))});return d.displayName=Re!==void 0?Re:"Styled("+(typeof ge=="string"?ge:ge.displayName||ge.name||"Component")+")",d.defaultProps=R.defaultProps,d.__emotion_real=d,d.__emotion_base=ge,d.__emotion_styles=n,d.__emotion_forwardProp=B,Object.defineProperty(d,"toString",{value:function(){return"."+V}}),d.withComponent=function(y,r){return c(y,Xm({},j,r,{shouldForwardProp:M4(d,r,!0)})).apply(void 0,n)},d}},kV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],e1=RV.bind();kV.forEach(function(c){e1[c]=e1(c)});var E4,DV=(E4=e1.default)!=null?E4:e1,IV=({baseStyle:c})=>R=>{const{theme:j,css:re,__css:ge,sx:Re,...V}=R,B=J8(V,(n,C)=>C_(C)),e=q8(c,R),p=AV({},ge,e,Q8(B),Re),L=_8(p)(R.theme);return re?[L,re]:L};function Eb(c,R){const{baseStyle:j,...re}=R??{};re.shouldForwardProp||(re.shouldForwardProp=TV);const ge=IV({baseStyle:j}),Re=DV(c,re)(ge);return ul.forwardRef(function(e,p){const{colorMode:L,forced:n}=T2();return ul.createElement(Re,{ref:p,"data-theme":n?L:void 0,...e})})}function _V(){const c=new Map;return new Proxy(Eb,{apply(R,j,re){return Eb(...re)},get(R,j){return c.has(j)||c.set(j,Eb(j)),c.get(j)}})}var Fi=_V();function Po(c){return gn.forwardRef(c)}function zV(c={}){const{strict:R=!0,errorMessage:j="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:re}=c,ge=gn.createContext(void 0);ge.displayName=re;function Re(){var V;const B=gn.useContext(ge);if(!B&&R){const e=new Error(j);throw e.name="ContextError",(V=Error.captureStackTrace)==null||V.call(Error,e,Re),e}return B}return[ge.Provider,Re,ge]}function FV(c){const{cssVarsRoot:R,theme:j,children:re}=c,ge=gn.useMemo(()=>T_(j),[j]);return Gn.jsxs(tI,{theme:ge,children:[Gn.jsx(OV,{root:R}),re]})}function OV({root:c=":host, :root"}){const R=[c,"[data-theme]"].join(",");return Gn.jsx(G1,{styles:j=>({[R]:j.__cssVars})})}zV({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "});function BV(){const{colorMode:c}=T2();return Gn.jsx(G1,{styles:R=>{const j=K8(R,"styles.global"),re=q8(j,{theme:R,colorMode:c});return re?_8(re)(R):void 0}})}var tE=gn.createContext({getDocument(){return document},getWindow(){return window}});tE.displayName="EnvironmentContext";function rE(c){const{children:R,environment:j,disabled:re}=c,ge=gn.useRef(null),Re=gn.useMemo(()=>j||{getDocument:()=>{var B,e;return(e=(B=ge.current)==null?void 0:B.ownerDocument)!=null?e:document},getWindow:()=>{var B,e;return(e=(B=ge.current)==null?void 0:B.ownerDocument.defaultView)!=null?e:window}},[j]),V=!re||!j;return Gn.jsxs(tE.Provider,{value:Re,children:[R,V&&Gn.jsx("span",{id:"__chakra_env",hidden:!0,ref:ge})]})}rE.displayName="EnvironmentProvider";var NV=c=>{const{children:R,colorModeManager:j,portalZIndex:re,resetScope:ge,resetCSS:Re=!0,theme:V={},environment:B,cssVarsRoot:e,disableEnvironment:p,disableGlobalStyle:L}=c,n=Gn.jsx(rE,{environment:B,disabled:p,children:R});return Gn.jsx(FV,{theme:V,cssVarsRoot:e,children:Gn.jsxs(C8,{colorModeManager:j,options:V.config,children:[Re?Gn.jsx(iI,{scope:ge}):Gn.jsx(aI,{}),!L&&Gn.jsx(BV,{}),re?Gn.jsx(M8,{zIndex:re,children:n}):n]})})},UV=(c,R)=>c.find(j=>j.id===R);function C4(c,R){const j=nE(c,R),re=j?c[j].findIndex(ge=>ge.id===R):-1;return{position:j,index:re}}function nE(c,R){for(const[j,re]of Object.entries(c))if(UV(re,R))return j}function VV(c){const R=c.includes("right"),j=c.includes("left");let re="center";return R&&(re="flex-end"),j&&(re="flex-start"),{display:"flex",flexDirection:"column",alignItems:re}}function HV(c){const j=c==="top"||c==="bottom"?"0 auto":void 0,re=c.includes("top")?"env(safe-area-inset-top, 0px)":void 0,ge=c.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,Re=c.includes("left")?void 0:"env(safe-area-inset-right, 0px)",V=c.includes("right")?void 0:"env(safe-area-inset-left, 0px)";return{position:"fixed",zIndex:"var(--toast-z-index, 5500)",pointerEvents:"none",display:"flex",flexDirection:"column",margin:j,top:re,bottom:ge,right:Re,left:V}}function GV(c,R=[]){const j=gn.useRef(c);return gn.useEffect(()=>{j.current=c}),gn.useCallback((...re)=>{var ge;return(ge=j.current)==null?void 0:ge.call(j,...re)},R)}function WV(c,R){const j=GV(c);gn.useEffect(()=>{if(R==null)return;let re=null;return re=window.setTimeout(()=>{j()},R),()=>{re&&window.clearTimeout(re)}},[R,j])}function L4(c,R){const j=gn.useRef(!1),re=gn.useRef(!1);gn.useEffect(()=>{if(j.current&&re.current)return c();re.current=!0},R),gn.useEffect(()=>(j.current=!0,()=>{j.current=!1}),[])}const aE=gn.createContext({transformPagePoint:c=>c,isStatic:!1,reducedMotion:"never"}),K1=gn.createContext({}),Og=gn.createContext(null),J1=typeof document<"u",k2=J1?gn.useLayoutEffect:gn.useEffect,iE=gn.createContext({strict:!1}),D2=c=>c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),jV="framerAppearId",oE="data-"+D2(jV);function YV(c,R,j,re){const{visualElement:ge}=gn.useContext(K1),Re=gn.useContext(iE),V=gn.useContext(Og),B=gn.useContext(aE).reducedMotion,e=gn.useRef();re=re||Re.renderer,!e.current&&re&&(e.current=re(c,{visualState:R,parent:ge,props:j,presenceContext:V,blockInitialAnimation:V?V.initial===!1:!1,reducedMotionConfig:B}));const p=e.current;gn.useInsertionEffect(()=>{p&&p.update(j,V)});const L=gn.useRef(!!(j[oE]&&!window.HandoffComplete));return k2(()=>{p&&(p.render(),L.current&&p.animationState&&p.animationState.animateChanges())}),gn.useEffect(()=>{p&&(p.updateFeatures(),!L.current&&p.animationState&&p.animationState.animateChanges(),L.current&&(L.current=!1,window.HandoffComplete=!0))}),p}function lp(c){return typeof c=="object"&&Object.prototype.hasOwnProperty.call(c,"current")}function ZV(c,R,j){return gn.useCallback(re=>{re&&c.mount&&c.mount(re),R&&(re?R.mount(re):R.unmount()),j&&(typeof j=="function"?j(re):lp(j)&&(j.current=re))},[R])}function Cg(c){return typeof c=="string"||Array.isArray(c)}function Q1(c){return typeof c=="object"&&typeof c.start=="function"}const I2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_2=["initial",...I2];function q1(c){return Q1(c.animate)||_2.some(R=>Cg(c[R]))}function sE(c){return!!(q1(c)||c.variants)}function XV(c,R){if(q1(c)){const{initial:j,animate:re}=c;return{initial:j===!1||Cg(j)?j:void 0,animate:Cg(re)?re:void 0}}return c.inherit!==!1?R:{}}function $V(c){const{initial:R,animate:j}=XV(c,gn.useContext(K1));return gn.useMemo(()=>({initial:R,animate:j}),[P4(R),P4(j)])}function P4(c){return Array.isArray(c)?c.join(" "):c}const R4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lg={};for(const c in R4)Lg[c]={isEnabled:R=>R4[c].some(j=>!!R[j])};function KV(c){for(const R in c)Lg[R]={...Lg[R],...c[R]}}const z2=gn.createContext({}),lE=gn.createContext({}),JV=Symbol.for("motionComponentSymbol");function QV({preloadedFeatures:c,createVisualElement:R,useRender:j,useVisualState:re,Component:ge}){c&&KV(c);function Re(B,e){let p;const L={...gn.useContext(aE),...B,layoutId:qV(B)},{isStatic:n}=L,C=$V(B),T=re(B,n);if(!n&&J1){C.visualElement=YV(ge,T,L,R);const d=gn.useContext(lE),y=gn.useContext(iE).strict;C.visualElement&&(p=C.visualElement.loadFeatures(L,y,c,d))}return gn.createElement(K1.Provider,{value:C},p&&C.visualElement?gn.createElement(p,{visualElement:C.visualElement,...L}):null,j(ge,B,ZV(T,C.visualElement,e),T,n,C.visualElement))}const V=gn.forwardRef(Re);return V[JV]=ge,V}function qV({layoutId:c}){const R=gn.useContext(z2).id;return R&&c!==void 0?R+"-"+c:c}function eH(c){function R(re,ge={}){return QV(c(re,ge))}if(typeof Proxy>"u")return R;const j=new Map;return new Proxy(R,{get:(re,ge)=>(j.has(ge)||j.set(ge,R(ge)),j.get(ge))})}const tH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F2(c){return typeof c!="string"||c.includes("-")?!1:!!(tH.indexOf(c)>-1||/[A-Z]/.test(c))}const t1={};function rH(c){Object.assign(t1,c)}const Bg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dd=new Set(Bg);function uE(c,{layout:R,layoutId:j}){return dd.has(c)||c.startsWith("origin")||(R||j!==void 0)&&(!!t1[c]||c==="opacity")}const Ol=c=>!!(c&&c.getVelocity),nH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aH=Bg.length;function iH(c,{enableHardwareAcceleration:R=!0,allowTransformNone:j=!0},re,ge){let Re="";for(let V=0;V<aH;V++){const B=Bg[V];if(c[B]!==void 0){const e=nH[B]||B;Re+=`${e}(${c[B]}) `}}return R&&!c.z&&(Re+="translateZ(0)"),Re=Re.trim(),ge?Re=ge(c,re?"":Re):j&&re&&(Re="none"),Re}const fE=c=>R=>typeof R=="string"&&R.startsWith(c),cE=fE("--"),K3=fE("var(--"),oH=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sH=(c,R)=>R&&typeof c=="number"?R.transform(c):c,lv=(c,R,j)=>Math.min(Math.max(j,c),R),pd={test:c=>typeof c=="number",parse:parseFloat,transform:c=>c},$0={...pd,transform:c=>lv(0,1,c)},Wy={...pd,default:1},K0=c=>Math.round(c*1e5)/1e5,ex=/(-)?([\d]*\.?[\d])+/g,hE=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ng(c){return typeof c=="string"}const Ug=c=>({test:R=>Ng(R)&&R.endsWith(c)&&R.split(" ").length===1,parse:parseFloat,transform:R=>`${R}${c}`}),Bh=Ug("deg"),nc=Ug("%"),$a=Ug("px"),uH=Ug("vh"),fH=Ug("vw"),k4={...nc,parse:c=>nc.parse(c)/100,transform:c=>nc.transform(c*100)},D4={...pd,transform:Math.round},vE={borderWidth:$a,borderTopWidth:$a,borderRightWidth:$a,borderBottomWidth:$a,borderLeftWidth:$a,borderRadius:$a,radius:$a,borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomRightRadius:$a,borderBottomLeftRadius:$a,width:$a,maxWidth:$a,height:$a,maxHeight:$a,size:$a,top:$a,right:$a,bottom:$a,left:$a,padding:$a,paddingTop:$a,paddingRight:$a,paddingBottom:$a,paddingLeft:$a,margin:$a,marginTop:$a,marginRight:$a,marginBottom:$a,marginLeft:$a,rotate:Bh,rotateX:Bh,rotateY:Bh,rotateZ:Bh,scale:Wy,scaleX:Wy,scaleY:Wy,scaleZ:Wy,skew:Bh,skewX:Bh,skewY:Bh,distance:$a,translateX:$a,translateY:$a,translateZ:$a,x:$a,y:$a,z:$a,perspective:$a,transformPerspective:$a,opacity:$0,originX:k4,originY:k4,originZ:$a,zIndex:D4,fillOpacity:$0,strokeOpacity:$0,numOctaves:D4};function O2(c,R,j,re){const{style:ge,vars:Re,transform:V,transformOrigin:B}=c;let e=!1,p=!1,L=!0;for(const n in R){const C=R[n];if(cE(n)){Re[n]=C;continue}const T=vE[n],d=sH(C,T);if(dd.has(n)){if(e=!0,V[n]=d,!L)continue;C!==(T.default||0)&&(L=!1)}else n.startsWith("origin")?(p=!0,B[n]=d):ge[n]=d}if(R.transform||(e||re?ge.transform=iH(c.transform,j,L,re):ge.transform&&(ge.transform="none")),p){const{originX:n="50%",originY:C="50%",originZ:T=0}=B;ge.transformOrigin=`${n} ${C} ${T}`}}const B2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dE(c,R,j){for(const re in R)!Ol(R[re])&&!uE(re,j)&&(c[re]=R[re])}function cH({transformTemplate:c},R,j){return gn.useMemo(()=>{const re=B2();return O2(re,R,{enableHardwareAcceleration:!j},c),Object.assign({},re.vars,re.style)},[R])}function hH(c,R,j){const re=c.style||{},ge={};return dE(ge,re,c),Object.assign(ge,cH(c,R,j)),c.transformValues?c.transformValues(ge):ge}function vH(c,R,j){const re={},ge=hH(c,R,j);return c.drag&&c.dragListener!==!1&&(re.draggable=!1,ge.userSelect=ge.WebkitUserSelect=ge.WebkitTouchCallout="none",ge.touchAction=c.drag===!0?"none":`pan-${c.drag==="x"?"y":"x"}`),c.tabIndex===void 0&&(c.onTap||c.onTapStart||c.whileTap)&&(re.tabIndex=0),re.style=ge,re}const dH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function r1(c){return c.startsWith("while")||c.startsWith("drag")&&c!=="draggable"||c.startsWith("layout")||c.startsWith("onTap")||c.startsWith("onPan")||dH.has(c)}let pE=c=>!r1(c);function pH(c){c&&(pE=R=>R.startsWith("on")?!r1(R):c(R))}try{pH(require("@emotion/is-prop-valid").default)}catch{}function gH(c,R,j){const re={};for(const ge in c)ge==="values"&&typeof c.values=="object"||(pE(ge)||j===!0&&r1(ge)||!R&&!r1(ge)||c.draggable&&ge.startsWith("onDrag"))&&(re[ge]=c[ge]);return re}function I4(c,R,j){return typeof c=="string"?c:$a.transform(R+j*c)}function yH(c,R,j){const re=I4(R,c.x,c.width),ge=I4(j,c.y,c.height);return`${re} ${ge}`}const mH={offset:"stroke-dashoffset",array:"stroke-dasharray"},xH={offset:"strokeDashoffset",array:"strokeDasharray"};function bH(c,R,j=1,re=0,ge=!0){c.pathLength=1;const Re=ge?mH:xH;c[Re.offset]=$a.transform(-re);const V=$a.transform(R),B=$a.transform(j);c[Re.array]=`${V} ${B}`}function N2(c,{attrX:R,attrY:j,attrScale:re,originX:ge,originY:Re,pathLength:V,pathSpacing:B=1,pathOffset:e=0,...p},L,n,C){if(O2(c,p,L,C),n){c.style.viewBox&&(c.attrs.viewBox=c.style.viewBox);return}c.attrs=c.style,c.style={};const{attrs:T,style:d,dimensions:y}=c;T.transform&&(y&&(d.transform=T.transform),delete T.transform),y&&(ge!==void 0||Re!==void 0||d.transform)&&(d.transformOrigin=yH(y,ge!==void 0?ge:.5,Re!==void 0?Re:.5)),R!==void 0&&(T.x=R),j!==void 0&&(T.y=j),re!==void 0&&(T.scale=re),V!==void 0&&bH(T,V,B,e,!1)}const gE=()=>({...B2(),attrs:{}}),U2=c=>typeof c=="string"&&c.toLowerCase()==="svg";function wH(c,R,j,re){const ge=gn.useMemo(()=>{const Re=gE();return N2(Re,R,{enableHardwareAcceleration:!1},U2(re),c.transformTemplate),{...Re.attrs,style:{...Re.style}}},[R]);if(c.style){const Re={};dE(Re,c.style,c),ge.style={...Re,...ge.style}}return ge}function TH(c=!1){return(j,re,ge,{latestValues:Re},V)=>{const e=(F2(j)?wH:vH)(re,Re,V,j),L={...gH(re,typeof j=="string",c),...e,ref:ge},{children:n}=re,C=gn.useMemo(()=>Ol(n)?n.get():n,[n]);return gn.createElement(j,{...L,children:C})}}function yE(c,{style:R,vars:j},re,ge){Object.assign(c.style,R,ge&&ge.getProjectionStyles(re));for(const Re in j)c.style.setProperty(Re,j[Re])}const mE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xE(c,R,j,re){yE(c,R,void 0,re);for(const ge in R.attrs)c.setAttribute(mE.has(ge)?ge:D2(ge),R.attrs[ge])}function V2(c,R){const{style:j}=c,re={};for(const ge in j)(Ol(j[ge])||R.style&&Ol(R.style[ge])||uE(ge,c))&&(re[ge]=j[ge]);return re}function bE(c,R){const j=V2(c,R);for(const re in c)if(Ol(c[re])||Ol(R[re])){const ge=Bg.indexOf(re)!==-1?"attr"+re.charAt(0).toUpperCase()+re.substring(1):re;j[ge]=c[re]}return j}function H2(c,R,j,re={},ge={}){return typeof R=="function"&&(R=R(j!==void 0?j:c.custom,re,ge)),typeof R=="string"&&(R=c.variants&&c.variants[R]),typeof R=="function"&&(R=R(j!==void 0?j:c.custom,re,ge)),R}function wE(c){const R=gn.useRef(null);return R.current===null&&(R.current=c()),R.current}const n1=c=>Array.isArray(c),AH=c=>!!(c&&typeof c=="object"&&c.mix&&c.toValue),SH=c=>n1(c)?c[c.length-1]||0:c;function xm(c){const R=Ol(c)?c.get():c;return AH(R)?R.toValue():R}function MH({scrapeMotionValuesFromProps:c,createRenderState:R,onMount:j},re,ge,Re){const V={latestValues:EH(re,ge,Re,c),renderState:R()};return j&&(V.mount=B=>j(re,B,V)),V}const TE=c=>(R,j)=>{const re=gn.useContext(K1),ge=gn.useContext(Og),Re=()=>MH(c,R,re,ge);return j?Re():wE(Re)};function EH(c,R,j,re){const ge={},Re=re(c,{});for(const C in Re)ge[C]=xm(Re[C]);let{initial:V,animate:B}=c;const e=q1(c),p=sE(c);R&&p&&!e&&c.inherit!==!1&&(V===void 0&&(V=R.initial),B===void 0&&(B=R.animate));let L=j?j.initial===!1:!1;L=L||V===!1;const n=L?B:V;return n&&typeof n!="boolean"&&!Q1(n)&&(Array.isArray(n)?n:[n]).forEach(T=>{const d=H2(c,T);if(!d)return;const{transitionEnd:y,transition:r,...t}=d;for(const i in t){let a=t[i];if(Array.isArray(a)){const h=L?a.length-1:0;a=a[h]}a!==null&&(ge[i]=a)}for(const i in y)ge[i]=y[i]}),ge}const zo=c=>c;class _4{constructor(){this.order=[],this.scheduled=new Set}add(R){if(!this.scheduled.has(R))return this.scheduled.add(R),this.order.push(R),!0}remove(R){const j=this.order.indexOf(R);j!==-1&&(this.order.splice(j,1),this.scheduled.delete(R))}clear(){this.order.length=0,this.scheduled.clear()}}function CH(c){let R=new _4,j=new _4,re=0,ge=!1,Re=!1;const V=new WeakSet,B={schedule:(e,p=!1,L=!1)=>{const n=L&&ge,C=n?R:j;return p&&V.add(e),C.add(e)&&n&&ge&&(re=R.order.length),e},cancel:e=>{j.remove(e),V.delete(e)},process:e=>{if(ge){Re=!0;return}if(ge=!0,[R,j]=[j,R],j.clear(),re=R.order.length,re)for(let p=0;p<re;p++){const L=R.order[p];L(e),V.has(L)&&(B.schedule(L),c())}ge=!1,Re&&(Re=!1,B.process(e))}};return B}const jy=["prepare","read","update","preRender","render","postRender"],LH=40;function PH(c,R){let j=!1,re=!0;const ge={delta:0,timestamp:0,isProcessing:!1},Re=jy.reduce((n,C)=>(n[C]=CH(()=>j=!0),n),{}),V=n=>Re[n].process(ge),B=()=>{const n=performance.now();j=!1,ge.delta=re?1e3/60:Math.max(Math.min(n-ge.timestamp,LH),1),ge.timestamp=n,ge.isProcessing=!0,jy.forEach(V),ge.isProcessing=!1,j&&R&&(re=!1,c(B))},e=()=>{j=!0,re=!0,ge.isProcessing||c(B)};return{schedule:jy.reduce((n,C)=>{const T=Re[C];return n[C]=(d,y=!1,r=!1)=>(j||e(),T.schedule(d,y,r)),n},{}),cancel:n=>jy.forEach(C=>Re[C].cancel(n)),state:ge,steps:Re}}const{schedule:Qi,cancel:$c,state:cs,steps:Cb}=PH(typeof requestAnimationFrame<"u"?requestAnimationFrame:zo,!0),RH={useVisualState:TE({scrapeMotionValuesFromProps:bE,createRenderState:gE,onMount:(c,R,{renderState:j,latestValues:re})=>{Qi.read(()=>{try{j.dimensions=typeof R.getBBox=="function"?R.getBBox():R.getBoundingClientRect()}catch{j.dimensions={x:0,y:0,width:0,height:0}}}),Qi.render(()=>{N2(j,re,{enableHardwareAcceleration:!1},U2(R.tagName),c.transformTemplate),xE(R,j)})}})},kH={useVisualState:TE({scrapeMotionValuesFromProps:V2,createRenderState:B2})};function DH(c,{forwardMotionProps:R=!1},j,re){return{...F2(c)?RH:kH,preloadedFeatures:j,useRender:TH(R),createVisualElement:re,Component:c}}function Nc(c,R,j,re={passive:!0}){return c.addEventListener(R,j,re),()=>c.removeEventListener(R,j)}const AE=c=>c.pointerType==="mouse"?typeof c.button!="number"||c.button<=0:c.isPrimary!==!1;function tx(c,R="page"){return{point:{x:c[R+"X"],y:c[R+"Y"]}}}const IH=c=>R=>AE(R)&&c(R,tx(R));function Hc(c,R,j,re){return Nc(c,R,IH(j),re)}const _H=(c,R)=>j=>R(c(j)),nv=(...c)=>c.reduce(_H);function SE(c){let R=null;return()=>{const j=()=>{R=null};return R===null?(R=c,j):!1}}const z4=SE("dragHorizontal"),F4=SE("dragVertical");function ME(c){let R=!1;if(c==="y")R=F4();else if(c==="x")R=z4();else{const j=z4(),re=F4();j&&re?R=()=>{j(),re()}:(j&&j(),re&&re())}return R}function EE(){const c=ME(!0);return c?(c(),!1):!0}class dv{constructor(R){this.isMounted=!1,this.node=R}update(){}}function O4(c,R){const j="pointer"+(R?"enter":"leave"),re="onHover"+(R?"Start":"End"),ge=(Re,V)=>{if(Re.type==="touch"||EE())return;const B=c.getProps();c.animationState&&B.whileHover&&c.animationState.setActive("whileHover",R),B[re]&&Qi.update(()=>B[re](Re,V))};return Hc(c.current,j,ge,{passive:!c.getProps()[re]})}class zH extends dv{mount(){this.unmount=nv(O4(this.node,!0),O4(this.node,!1))}unmount(){}}class FH extends dv{constructor(){super(...arguments),this.isActive=!1}onFocus(){let R=!1;try{R=this.node.current.matches(":focus-visible")}catch{R=!0}!R||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nv(Nc(this.node.current,"focus",()=>this.onFocus()),Nc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const CE=(c,R)=>R?c===R?!0:CE(c,R.parentElement):!1;function Lb(c,R){if(!R)return;const j=new PointerEvent("pointer"+c);R(j,tx(j))}class OH extends dv{constructor(){super(...arguments),this.removeStartListeners=zo,this.removeEndListeners=zo,this.removeAccessibleListeners=zo,this.startPointerPress=(R,j)=>{if(this.removeEndListeners(),this.isPressing)return;const re=this.node.getProps(),Re=Hc(window,"pointerup",(B,e)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:L}=this.node.getProps();Qi.update(()=>{CE(this.node.current,B.target)?p&&p(B,e):L&&L(B,e)})},{passive:!(re.onTap||re.onPointerUp)}),V=Hc(window,"pointercancel",(B,e)=>this.cancelPress(B,e),{passive:!(re.onTapCancel||re.onPointerCancel)});this.removeEndListeners=nv(Re,V),this.startPress(R,j)},this.startAccessiblePress=()=>{const R=Re=>{if(Re.key!=="Enter"||this.isPressing)return;const V=B=>{B.key!=="Enter"||!this.checkPressEnd()||Lb("up",(e,p)=>{const{onTap:L}=this.node.getProps();L&&Qi.update(()=>L(e,p))})};this.removeEndListeners(),this.removeEndListeners=Nc(this.node.current,"keyup",V),Lb("down",(B,e)=>{this.startPress(B,e)})},j=Nc(this.node.current,"keydown",R),re=()=>{this.isPressing&&Lb("cancel",(Re,V)=>this.cancelPress(Re,V))},ge=Nc(this.node.current,"blur",re);this.removeAccessibleListeners=nv(j,ge)}}startPress(R,j){this.isPressing=!0;const{onTapStart:re,whileTap:ge}=this.node.getProps();ge&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),re&&Qi.update(()=>re(R,j))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!EE()}cancelPress(R,j){if(!this.checkPressEnd())return;const{onTapCancel:re}=this.node.getProps();re&&Qi.update(()=>re(R,j))}mount(){const R=this.node.getProps(),j=Hc(this.node.current,"pointerdown",this.startPointerPress,{passive:!(R.onTapStart||R.onPointerStart)}),re=Nc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=nv(j,re)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const J3=new WeakMap,Pb=new WeakMap,BH=c=>{const R=J3.get(c.target);R&&R(c)},NH=c=>{c.forEach(BH)};function UH({root:c,...R}){const j=c||document;Pb.has(j)||Pb.set(j,{});const re=Pb.get(j),ge=JSON.stringify(R);return re[ge]||(re[ge]=new IntersectionObserver(NH,{root:c,...R})),re[ge]}function VH(c,R,j){const re=UH(R);return J3.set(c,j),re.observe(c),()=>{J3.delete(c),re.unobserve(c)}}const HH={some:0,all:1};class GH extends dv{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:R={}}=this.node.getProps(),{root:j,margin:re,amount:ge="some",once:Re}=R,V={root:j?j.current:void 0,rootMargin:re,threshold:typeof ge=="number"?ge:HH[ge]},B=e=>{const{isIntersecting:p}=e;if(this.isInView===p||(this.isInView=p,Re&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:L,onViewportLeave:n}=this.node.getProps(),C=p?L:n;C&&C(e)};return VH(this.node.current,V,B)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:R,prevProps:j}=this.node;["amount","margin","root"].some(WH(R,j))&&this.startObserver()}unmount(){}}function WH({viewport:c={}},{viewport:R={}}={}){return j=>c[j]!==R[j]}const jH={inView:{Feature:GH},tap:{Feature:OH},focus:{Feature:FH},hover:{Feature:zH}};function LE(c,R){if(!Array.isArray(R))return!1;const j=R.length;if(j!==c.length)return!1;for(let re=0;re<j;re++)if(R[re]!==c[re])return!1;return!0}function YH(c){const R={};return c.values.forEach((j,re)=>R[re]=j.get()),R}function ZH(c){const R={};return c.values.forEach((j,re)=>R[re]=j.getVelocity()),R}function rx(c,R,j){const re=c.getProps();return H2(re,R,j!==void 0?j:re.custom,YH(c),ZH(c))}let XH=zo,G2=zo;const av=c=>c*1e3,Gc=c=>c/1e3,$H={current:!1},PE=c=>Array.isArray(c)&&typeof c[0]=="number";function RE(c){return!!(!c||typeof c=="string"&&kE[c]||PE(c)||Array.isArray(c)&&c.every(RE))}const D0=([c,R,j,re])=>`cubic-bezier(${c}, ${R}, ${j}, ${re})`,kE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:D0([0,.65,.55,1]),circOut:D0([.55,0,1,.45]),backIn:D0([.31,.01,.66,-.59]),backOut:D0([.33,1.53,.69,.99])};function DE(c){if(c)return PE(c)?D0(c):Array.isArray(c)?c.map(DE):kE[c]}function KH(c,R,j,{delay:re=0,duration:ge,repeat:Re=0,repeatType:V="loop",ease:B,times:e}={}){const p={[R]:j};e&&(p.offset=e);const L=DE(B);return Array.isArray(L)&&(p.easing=L),c.animate(p,{delay:re,duration:ge,easing:Array.isArray(L)?"linear":L,fill:"both",iterations:Re+1,direction:V==="reverse"?"alternate":"normal"})}function JH(c,{repeat:R,repeatType:j="loop"}){const re=R&&j!=="loop"&&R%2===1?0:c.length-1;return c[re]}const IE=(c,R,j)=>(((1-3*j+3*R)*c+(3*j-6*R))*c+3*R)*c,QH=1e-7,qH=12;function eG(c,R,j,re,ge){let Re,V,B=0;do V=R+(j-R)/2,Re=IE(V,re,ge)-c,Re>0?j=V:R=V;while(Math.abs(Re)>QH&&++B<qH);return V}function Vg(c,R,j,re){if(c===R&&j===re)return zo;const ge=Re=>eG(Re,0,1,c,j);return Re=>Re===0||Re===1?Re:IE(ge(Re),R,re)}const tG=Vg(.42,0,1,1),rG=Vg(0,0,.58,1),_E=Vg(.42,0,.58,1),nG=c=>Array.isArray(c)&&typeof c[0]!="number",zE=c=>R=>R<=.5?c(2*R)/2:(2-c(2*(1-R)))/2,FE=c=>R=>1-c(1-R),OE=c=>1-Math.sin(Math.acos(c)),W2=FE(OE),aG=zE(W2),BE=Vg(.33,1.53,.69,.99),j2=FE(BE),iG=zE(j2),oG=c=>(c*=2)<1?.5*j2(c):.5*(2-Math.pow(2,-10*(c-1))),sG={linear:zo,easeIn:tG,easeInOut:_E,easeOut:rG,circIn:OE,circInOut:aG,circOut:W2,backIn:j2,backInOut:iG,backOut:BE,anticipate:oG},B4=c=>{if(Array.isArray(c)){G2(c.length===4);const[R,j,re,ge]=c;return Vg(R,j,re,ge)}else if(typeof c=="string")return sG[c];return c},Y2=(c,R)=>j=>!!(Ng(j)&&lH.test(j)&&j.startsWith(c)||R&&Object.prototype.hasOwnProperty.call(j,R)),NE=(c,R,j)=>re=>{if(!Ng(re))return re;const[ge,Re,V,B]=re.match(ex);return{[c]:parseFloat(ge),[R]:parseFloat(Re),[j]:parseFloat(V),alpha:B!==void 0?parseFloat(B):1}},lG=c=>lv(0,255,c),Rb={...pd,transform:c=>Math.round(lG(c))},ed={test:Y2("rgb","red"),parse:NE("red","green","blue"),transform:({red:c,green:R,blue:j,alpha:re=1})=>"rgba("+Rb.transform(c)+", "+Rb.transform(R)+", "+Rb.transform(j)+", "+K0($0.transform(re))+")"};function uG(c){let R="",j="",re="",ge="";return c.length>5?(R=c.substring(1,3),j=c.substring(3,5),re=c.substring(5,7),ge=c.substring(7,9)):(R=c.substring(1,2),j=c.substring(2,3),re=c.substring(3,4),ge=c.substring(4,5),R+=R,j+=j,re+=re,ge+=ge),{red:parseInt(R,16),green:parseInt(j,16),blue:parseInt(re,16),alpha:ge?parseInt(ge,16)/255:1}}const Q3={test:Y2("#"),parse:uG,transform:ed.transform},up={test:Y2("hsl","hue"),parse:NE("hue","saturation","lightness"),transform:({hue:c,saturation:R,lightness:j,alpha:re=1})=>"hsla("+Math.round(c)+", "+nc.transform(K0(R))+", "+nc.transform(K0(j))+", "+K0($0.transform(re))+")"},ol={test:c=>ed.test(c)||Q3.test(c)||up.test(c),parse:c=>ed.test(c)?ed.parse(c):up.test(c)?up.parse(c):Q3.parse(c),transform:c=>Ng(c)?c:c.hasOwnProperty("red")?ed.transform(c):up.transform(c)},Eo=(c,R,j)=>-j*c+j*R+c;function kb(c,R,j){return j<0&&(j+=1),j>1&&(j-=1),j<1/6?c+(R-c)*6*j:j<1/2?R:j<2/3?c+(R-c)*(2/3-j)*6:c}function fG({hue:c,saturation:R,lightness:j,alpha:re}){c/=360,R/=100,j/=100;let ge=0,Re=0,V=0;if(!R)ge=Re=V=j;else{const B=j<.5?j*(1+R):j+R-j*R,e=2*j-B;ge=kb(e,B,c+1/3),Re=kb(e,B,c),V=kb(e,B,c-1/3)}return{red:Math.round(ge*255),green:Math.round(Re*255),blue:Math.round(V*255),alpha:re}}const Db=(c,R,j)=>{const re=c*c;return Math.sqrt(Math.max(0,j*(R*R-re)+re))},cG=[Q3,ed,up],hG=c=>cG.find(R=>R.test(c));function N4(c){const R=hG(c);let j=R.parse(c);return R===up&&(j=fG(j)),j}const UE=(c,R)=>{const j=N4(c),re=N4(R),ge={...j};return Re=>(ge.red=Db(j.red,re.red,Re),ge.green=Db(j.green,re.green,Re),ge.blue=Db(j.blue,re.blue,Re),ge.alpha=Eo(j.alpha,re.alpha,Re),ed.transform(ge))};function vG(c){var R,j;return isNaN(c)&&Ng(c)&&(((R=c.match(ex))===null||R===void 0?void 0:R.length)||0)+(((j=c.match(hE))===null||j===void 0?void 0:j.length)||0)>0}const VE={regex:oH,countKey:"Vars",token:"${v}",parse:zo},HE={regex:hE,countKey:"Colors",token:"${c}",parse:ol.parse},GE={regex:ex,countKey:"Numbers",token:"${n}",parse:pd.parse};function Ib(c,{regex:R,countKey:j,token:re,parse:ge}){const Re=c.tokenised.match(R);Re&&(c["num"+j]=Re.length,c.tokenised=c.tokenised.replace(R,re),c.values.push(...Re.map(ge)))}function a1(c){const R=c.toString(),j={value:R,tokenised:R,values:[],numVars:0,numColors:0,numNumbers:0};return j.value.includes("var(--")&&Ib(j,VE),Ib(j,HE),Ib(j,GE),j}function WE(c){return a1(c).values}function jE(c){const{values:R,numColors:j,numVars:re,tokenised:ge}=a1(c),Re=R.length;return V=>{let B=ge;for(let e=0;e<Re;e++)e<re?B=B.replace(VE.token,V[e]):e<re+j?B=B.replace(HE.token,ol.transform(V[e])):B=B.replace(GE.token,K0(V[e]));return B}}const dG=c=>typeof c=="number"?0:c;function pG(c){const R=WE(c);return jE(c)(R.map(dG))}const uv={test:vG,parse:WE,createTransformer:jE,getAnimatableNone:pG},YE=(c,R)=>j=>`${j>0?R:c}`;function ZE(c,R){return typeof c=="number"?j=>Eo(c,R,j):ol.test(c)?UE(c,R):c.startsWith("var(")?YE(c,R):$E(c,R)}const XE=(c,R)=>{const j=[...c],re=j.length,ge=c.map((Re,V)=>ZE(Re,R[V]));return Re=>{for(let V=0;V<re;V++)j[V]=ge[V](Re);return j}},gG=(c,R)=>{const j={...c,...R},re={};for(const ge in j)c[ge]!==void 0&&R[ge]!==void 0&&(re[ge]=ZE(c[ge],R[ge]));return ge=>{for(const Re in re)j[Re]=re[Re](ge);return j}},$E=(c,R)=>{const j=uv.createTransformer(R),re=a1(c),ge=a1(R);return re.numVars===ge.numVars&&re.numColors===ge.numColors&&re.numNumbers>=ge.numNumbers?nv(XE(re.values,ge.values),j):YE(c,R)},Pg=(c,R,j)=>{const re=R-c;return re===0?1:(j-c)/re},U4=(c,R)=>j=>Eo(c,R,j);function yG(c){return typeof c=="number"?U4:typeof c=="string"?ol.test(c)?UE:$E:Array.isArray(c)?XE:typeof c=="object"?gG:U4}function mG(c,R,j){const re=[],ge=j||yG(c[0]),Re=c.length-1;for(let V=0;V<Re;V++){let B=ge(c[V],c[V+1]);if(R){const e=Array.isArray(R)?R[V]||zo:R;B=nv(e,B)}re.push(B)}return re}function KE(c,R,{clamp:j=!0,ease:re,mixer:ge}={}){const Re=c.length;if(G2(Re===R.length),Re===1)return()=>R[0];c[0]>c[Re-1]&&(c=[...c].reverse(),R=[...R].reverse());const V=mG(R,re,ge),B=V.length,e=p=>{let L=0;if(B>1)for(;L<c.length-2&&!(p<c[L+1]);L++);const n=Pg(c[L],c[L+1],p);return V[L](n)};return j?p=>e(lv(c[0],c[Re-1],p)):e}function xG(c,R){const j=c[c.length-1];for(let re=1;re<=R;re++){const ge=Pg(0,R,re);c.push(Eo(j,1,ge))}}function bG(c){const R=[0];return xG(R,c.length-1),R}function wG(c,R){return c.map(j=>j*R)}function TG(c,R){return c.map(()=>R||_E).splice(0,c.length-1)}function i1({duration:c=300,keyframes:R,times:j,ease:re="easeInOut"}){const ge=nG(re)?re.map(B4):B4(re),Re={done:!1,value:R[0]},V=wG(j&&j.length===R.length?j:bG(R),c),B=KE(V,R,{ease:Array.isArray(ge)?ge:TG(R,ge)});return{calculatedDuration:c,next:e=>(Re.value=B(e),Re.done=e>=c,Re)}}function JE(c,R){return R?c*(1e3/R):0}const AG=5;function QE(c,R,j){const re=Math.max(R-AG,0);return JE(j-c(re),R-re)}const _b=.001,SG=.01,V4=10,MG=.05,EG=1;function CG({duration:c=800,bounce:R=.25,velocity:j=0,mass:re=1}){let ge,Re;XH(c<=av(V4));let V=1-R;V=lv(MG,EG,V),c=lv(SG,V4,Gc(c)),V<1?(ge=p=>{const L=p*V,n=L*c,C=L-j,T=q3(p,V),d=Math.exp(-n);return _b-C/T*d},Re=p=>{const n=p*V*c,C=n*j+j,T=Math.pow(V,2)*Math.pow(p,2)*c,d=Math.exp(-n),y=q3(Math.pow(p,2),V);return(-ge(p)+_b>0?-1:1)*((C-T)*d)/y}):(ge=p=>{const L=Math.exp(-p*c),n=(p-j)*c+1;return-_b+L*n},Re=p=>{const L=Math.exp(-p*c),n=(j-p)*(c*c);return L*n});const B=5/c,e=PG(ge,Re,B);if(c=av(c),isNaN(e))return{stiffness:100,damping:10,duration:c};{const p=Math.pow(e,2)*re;return{stiffness:p,damping:V*2*Math.sqrt(re*p),duration:c}}}const LG=12;function PG(c,R,j){let re=j;for(let ge=1;ge<LG;ge++)re=re-c(re)/R(re);return re}function q3(c,R){return c*Math.sqrt(1-R*R)}const RG=["duration","bounce"],kG=["stiffness","damping","mass"];function H4(c,R){return R.some(j=>c[j]!==void 0)}function DG(c){let R={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...c};if(!H4(c,kG)&&H4(c,RG)){const j=CG(c);R={...R,...j,velocity:0,mass:1},R.isResolvedFromDuration=!0}return R}function qE({keyframes:c,restDelta:R,restSpeed:j,...re}){const ge=c[0],Re=c[c.length-1],V={done:!1,value:ge},{stiffness:B,damping:e,mass:p,velocity:L,duration:n,isResolvedFromDuration:C}=DG(re),T=L?-Gc(L):0,d=e/(2*Math.sqrt(B*p)),y=Re-ge,r=Gc(Math.sqrt(B/p)),t=Math.abs(y)<5;j||(j=t?.01:2),R||(R=t?.005:.5);let i;if(d<1){const a=q3(r,d);i=h=>{const u=Math.exp(-d*r*h);return Re-u*((T+d*r*y)/a*Math.sin(a*h)+y*Math.cos(a*h))}}else if(d===1)i=a=>Re-Math.exp(-r*a)*(y+(T+r*y)*a);else{const a=r*Math.sqrt(d*d-1);i=h=>{const u=Math.exp(-d*r*h),s=Math.min(a*h,300);return Re-u*((T+d*r*y)*Math.sinh(s)+a*y*Math.cosh(s))/a}}return{calculatedDuration:C&&n||null,next:a=>{const h=i(a);if(C)V.done=a>=n;else{let u=T;a!==0&&(d<1?u=QE(i,a,h):u=0);const s=Math.abs(u)<=j,m=Math.abs(Re-h)<=R;V.done=s&&m}return V.value=V.done?Re:h,V}}}function G4({keyframes:c,velocity:R=0,power:j=.8,timeConstant:re=325,bounceDamping:ge=10,bounceStiffness:Re=500,modifyTarget:V,min:B,max:e,restDelta:p=.5,restSpeed:L}){const n=c[0],C={done:!1,value:n},T=f=>B!==void 0&&f<B||e!==void 0&&f>e,d=f=>B===void 0?e:e===void 0||Math.abs(B-f)<Math.abs(e-f)?B:e;let y=j*R;const r=n+y,t=V===void 0?r:V(r);t!==r&&(y=t-n);const i=f=>-y*Math.exp(-f/re),a=f=>t+i(f),h=f=>{const S=i(f),v=a(f);C.done=Math.abs(S)<=p,C.value=C.done?t:v};let u,s;const m=f=>{T(C.value)&&(u=f,s=qE({keyframes:[C.value,d(C.value)],velocity:QE(a,f,C.value),damping:ge,stiffness:Re,restDelta:p,restSpeed:L}))};return m(0),{calculatedDuration:null,next:f=>{let S=!1;return!s&&u===void 0&&(S=!0,h(f),m(f)),u!==void 0&&f>u?s.next(f-u):(!S&&h(f),C)}}}const IG=c=>{const R=({timestamp:j})=>c(j);return{start:()=>Qi.update(R,!0),stop:()=>$c(R),now:()=>cs.isProcessing?cs.timestamp:performance.now()}},W4=2e4;function j4(c){let R=0;const j=50;let re=c.next(R);for(;!re.done&&R<W4;)R+=j,re=c.next(R);return R>=W4?1/0:R}const _G={decay:G4,inertia:G4,tween:i1,keyframes:i1,spring:qE};function o1({autoplay:c=!0,delay:R=0,driver:j=IG,keyframes:re,type:ge="keyframes",repeat:Re=0,repeatDelay:V=0,repeatType:B="loop",onPlay:e,onStop:p,onComplete:L,onUpdate:n,...C}){let T=1,d=!1,y,r;const t=()=>{r=new Promise(x=>{y=x})};t();let i;const a=_G[ge]||i1;let h;a!==i1&&typeof re[0]!="number"&&(h=KE([0,100],re,{clamp:!1}),re=[0,100]);const u=a({...C,keyframes:re});let s;B==="mirror"&&(s=a({...C,keyframes:[...re].reverse(),velocity:-(C.velocity||0)}));let m="idle",f=null,S=null,v=null;u.calculatedDuration===null&&Re&&(u.calculatedDuration=j4(u));const{calculatedDuration:l}=u;let g=1/0,M=1/0;l!==null&&(g=l+V,M=g*(Re+1)-V);let A=0;const k=x=>{if(S===null)return;T>0&&(S=Math.min(S,x)),T<0&&(S=Math.min(x-M/T,S)),f!==null?A=f:A=Math.round(x-S)*T;const z=A-R*(T>=0?1:-1),_=T>=0?z<0:z>M;A=Math.max(z,0),m==="finished"&&f===null&&(A=M);let G=A,F=u;if(Re){const H=A/g;let Y=Math.floor(H),q=H%1;!q&&H>=1&&(q=1),q===1&&Y--,Y=Math.min(Y,Re+1);const ne=!!(Y%2);ne&&(B==="reverse"?(q=1-q,V&&(q-=V/g)):B==="mirror"&&(F=s));let oe=lv(0,1,q);A>M&&(oe=B==="reverse"&&ne?1:0),G=oe*g}const N=_?{done:!1,value:re[0]}:F.next(G);h&&(N.value=h(N.value));let{done:U}=N;!_&&l!==null&&(U=T>=0?A>=M:A<=0);const O=f===null&&(m==="finished"||m==="running"&&U);return n&&n(N.value),O&&b(),N},w=()=>{i&&i.stop(),i=void 0},E=()=>{m="idle",w(),y(),t(),S=v=null},b=()=>{m="finished",L&&L(),w(),y()},o=()=>{if(d)return;i||(i=j(k));const x=i.now();e&&e(),f!==null?S=x-f:(!S||m==="finished")&&(S=x),m==="finished"&&t(),v=S,f=null,m="running",i.start()};c&&o();const P={then(x,z){return r.then(x,z)},get time(){return Gc(A)},set time(x){x=av(x),A=x,f!==null||!i||T===0?f=x:S=i.now()-x/T},get duration(){const x=u.calculatedDuration===null?j4(u):u.calculatedDuration;return Gc(x)},get speed(){return T},set speed(x){x===T||!i||(T=x,P.time=Gc(A))},get state(){return m},play:o,pause:()=>{m="paused",f=A},stop:()=>{d=!0,m!=="idle"&&(m="idle",p&&p(),E())},cancel:()=>{v!==null&&k(v),E()},complete:()=>{m="finished"},sample:x=>(S=0,k(x))};return P}function zG(c){let R;return()=>(R===void 0&&(R=c()),R)}const FG=zG(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),OG=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Yy=10,BG=2e4,NG=(c,R)=>R.type==="spring"||c==="backgroundColor"||!RE(R.ease);function UG(c,R,{onUpdate:j,onComplete:re,...ge}){if(!(FG()&&OG.has(R)&&!ge.repeatDelay&&ge.repeatType!=="mirror"&&ge.damping!==0&&ge.type!=="inertia"))return!1;let V=!1,B,e;const p=()=>{e=new Promise(i=>{B=i})};p();let{keyframes:L,duration:n=300,ease:C,times:T}=ge;if(NG(R,ge)){const i=o1({...ge,repeat:0,delay:0});let a={done:!1,value:L[0]};const h=[];let u=0;for(;!a.done&&u<BG;)a=i.sample(u),h.push(a.value),u+=Yy;T=void 0,L=h,n=u-Yy,C="linear"}const d=KH(c.owner.current,R,L,{...ge,duration:n,ease:C,times:T});ge.syncStart&&(d.startTime=cs.isProcessing?cs.timestamp:document.timeline?document.timeline.currentTime:performance.now());const y=()=>d.cancel(),r=()=>{Qi.update(y),B(),p()};return d.onfinish=()=>{c.set(JH(L,ge)),re&&re(),r()},{then(i,a){return e.then(i,a)},attachTimeline(i){return d.timeline=i,d.onfinish=null,zo},get time(){return Gc(d.currentTime||0)},set time(i){d.currentTime=av(i)},get speed(){return d.playbackRate},set speed(i){d.playbackRate=i},get duration(){return Gc(n)},play:()=>{V||(d.play(),$c(y))},pause:()=>d.pause(),stop:()=>{if(V=!0,d.playState==="idle")return;const{currentTime:i}=d;if(i){const a=o1({...ge,autoplay:!1});c.setWithVelocity(a.sample(i-Yy).value,a.sample(i).value,Yy)}r()},complete:()=>d.finish(),cancel:r}}function VG({keyframes:c,delay:R,onUpdate:j,onComplete:re}){const ge=()=>(j&&j(c[c.length-1]),re&&re(),{time:0,speed:1,duration:0,play:zo,pause:zo,stop:zo,then:Re=>(Re(),Promise.resolve()),cancel:zo,complete:zo});return R?o1({keyframes:[0,1],duration:0,delay:R,onComplete:ge}):ge()}const HG={type:"spring",stiffness:500,damping:25,restSpeed:10},GG=c=>({type:"spring",stiffness:550,damping:c===0?2*Math.sqrt(550):30,restSpeed:10}),WG={type:"keyframes",duration:.8},jG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YG=(c,{keyframes:R})=>R.length>2?WG:dd.has(c)?c.startsWith("scale")?GG(R[1]):HG:jG,ew=(c,R)=>c==="zIndex"?!1:!!(typeof R=="number"||Array.isArray(R)||typeof R=="string"&&(uv.test(R)||R==="0")&&!R.startsWith("url(")),ZG=new Set(["brightness","contrast","saturate","opacity"]);function XG(c){const[R,j]=c.slice(0,-1).split("(");if(R==="drop-shadow")return c;const[re]=j.match(ex)||[];if(!re)return c;const ge=j.replace(re,"");let Re=ZG.has(R)?1:0;return re!==j&&(Re*=100),R+"("+Re+ge+")"}const $G=/([a-z-]*)\(.*?\)/g,tw={...uv,getAnimatableNone:c=>{const R=c.match($G);return R?R.map(XG).join(" "):c}},KG={...vE,color:ol,backgroundColor:ol,outlineColor:ol,fill:ol,stroke:ol,borderColor:ol,borderTopColor:ol,borderRightColor:ol,borderBottomColor:ol,borderLeftColor:ol,filter:tw,WebkitFilter:tw},Z2=c=>KG[c];function eC(c,R){let j=Z2(c);return j!==tw&&(j=uv),j.getAnimatableNone?j.getAnimatableNone(R):void 0}const tC=c=>/^0[^.\s]+$/.test(c);function JG(c){if(typeof c=="number")return c===0;if(c!==null)return c==="none"||c==="0"||tC(c)}function QG(c,R,j,re){const ge=ew(R,j);let Re;Array.isArray(j)?Re=[...j]:Re=[null,j];const V=re.from!==void 0?re.from:c.get();let B;const e=[];for(let p=0;p<Re.length;p++)Re[p]===null&&(Re[p]=p===0?V:Re[p-1]),JG(Re[p])&&e.push(p),typeof Re[p]=="string"&&Re[p]!=="none"&&Re[p]!=="0"&&(B=Re[p]);if(ge&&e.length&&B)for(let p=0;p<e.length;p++){const L=e[p];Re[L]=eC(R,B)}return Re}function qG({when:c,delay:R,delayChildren:j,staggerChildren:re,staggerDirection:ge,repeat:Re,repeatType:V,repeatDelay:B,from:e,elapsed:p,...L}){return!!Object.keys(L).length}function X2(c,R){return c[R]||c.default||c}const $2=(c,R,j,re={})=>ge=>{const Re=X2(re,c)||{},V=Re.delay||re.delay||0;let{elapsed:B=0}=re;B=B-av(V);const e=QG(R,c,j,Re),p=e[0],L=e[e.length-1],n=ew(c,p),C=ew(c,L);let T={keyframes:e,velocity:R.getVelocity(),ease:"easeOut",...Re,delay:-B,onUpdate:d=>{R.set(d),Re.onUpdate&&Re.onUpdate(d)},onComplete:()=>{ge(),Re.onComplete&&Re.onComplete()}};if(qG(Re)||(T={...T,...YG(c,T)}),T.duration&&(T.duration=av(T.duration)),T.repeatDelay&&(T.repeatDelay=av(T.repeatDelay)),!n||!C||$H.current||Re.type===!1)return VG(T);if(R.owner&&R.owner.current instanceof HTMLElement&&!R.owner.getProps().onUpdate){const d=UG(R,c,T);if(d)return d}return o1(T)};function s1(c){return!!(Ol(c)&&c.add)}const rC=c=>/^\-?\d*\.?\d+$/.test(c);function K2(c,R){c.indexOf(R)===-1&&c.push(R)}function J2(c,R){const j=c.indexOf(R);j>-1&&c.splice(j,1)}class Q2{constructor(){this.subscriptions=[]}add(R){return K2(this.subscriptions,R),()=>J2(this.subscriptions,R)}notify(R,j,re){const ge=this.subscriptions.length;if(ge)if(ge===1)this.subscriptions[0](R,j,re);else for(let Re=0;Re<ge;Re++){const V=this.subscriptions[Re];V&&V(R,j,re)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const eW=c=>!isNaN(parseFloat(c));class tW{constructor(R,j={}){this.version="10.16.15",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(re,ge=!0)=>{this.prev=this.current,this.current=re;const{delta:Re,timestamp:V}=cs;this.lastUpdated!==V&&(this.timeDelta=Re,this.lastUpdated=V,Qi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),ge&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Qi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:re})=>{re!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=R,this.canTrackVelocity=eW(this.current),this.owner=j.owner}onChange(R){return this.on("change",R)}on(R,j){this.events[R]||(this.events[R]=new Q2);const re=this.events[R].add(j);return R==="change"?()=>{re(),Qi.read(()=>{this.events.change.getSize()||this.stop()})}:re}clearListeners(){for(const R in this.events)this.events[R].clear()}attach(R,j){this.passiveEffect=R,this.stopPassiveEffect=j}set(R,j=!0){!j||!this.passiveEffect?this.updateAndNotify(R,j):this.passiveEffect(R,this.updateAndNotify)}setWithVelocity(R,j,re){this.set(j),this.prev=R,this.timeDelta=re}jump(R){this.updateAndNotify(R),this.prev=R,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?JE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(R){return this.stop(),new Promise(j=>{this.hasAnimated=!0,this.animation=R(j),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _p(c,R){return new tW(c,R)}const nC=c=>R=>R.test(c),rW={test:c=>c==="auto",parse:c=>c},aC=[pd,$a,nc,Bh,fH,uH,rW],b0=c=>aC.find(nC(c)),nW=[...aC,ol,uv],aW=c=>nW.find(nC(c));function iW(c,R,j){c.hasValue(R)?c.getValue(R).set(j):c.addValue(R,_p(j))}function oW(c,R){const j=rx(c,R);let{transitionEnd:re={},transition:ge={},...Re}=j?c.makeTargetAnimatable(j,!1):{};Re={...Re,...re};for(const V in Re){const B=SH(Re[V]);iW(c,V,B)}}function sW(c,R,j){var re,ge;const Re=Object.keys(R).filter(B=>!c.hasValue(B)),V=Re.length;if(V)for(let B=0;B<V;B++){const e=Re[B],p=R[e];let L=null;Array.isArray(p)&&(L=p[0]),L===null&&(L=(ge=(re=j[e])!==null&&re!==void 0?re:c.readValue(e))!==null&&ge!==void 0?ge:R[e]),L!=null&&(typeof L=="string"&&(rC(L)||tC(L))?L=parseFloat(L):!aW(L)&&uv.test(p)&&(L=eC(e,p)),c.addValue(e,_p(L,{owner:c})),j[e]===void 0&&(j[e]=L),L!==null&&c.setBaseTarget(e,L))}}function lW(c,R){return R?(R[c]||R.default||R).from:void 0}function uW(c,R,j){const re={};for(const ge in c){const Re=lW(ge,R);if(Re!==void 0)re[ge]=Re;else{const V=j.getValue(ge);V&&(re[ge]=V.get())}}return re}function fW({protectedKeys:c,needsAnimating:R},j){const re=c.hasOwnProperty(j)&&R[j]!==!0;return R[j]=!1,re}function cW(c,R){const j=c.get();if(Array.isArray(R)){for(let re=0;re<R.length;re++)if(R[re]!==j)return!0}else return j!==R}function iC(c,R,{delay:j=0,transitionOverride:re,type:ge}={}){let{transition:Re=c.getDefaultTransition(),transitionEnd:V,...B}=c.makeTargetAnimatable(R);const e=c.getValue("willChange");re&&(Re=re);const p=[],L=ge&&c.animationState&&c.animationState.getState()[ge];for(const n in B){const C=c.getValue(n),T=B[n];if(!C||T===void 0||L&&fW(L,n))continue;const d={delay:j,elapsed:0,...X2(Re||{},n)};let y=!0;if(window.HandoffAppearAnimations&&!C.hasAnimated){const i=c.getProps()[oE];if(i){const a=window.HandoffAppearAnimations(i,n,C,Qi);a&&(y=!1,d.elapsed=a,d.syncStart=!0)}}let r=y&&!cW(C,T);if(d.type==="spring"&&(C.getVelocity()||d.velocity)&&(r=!1),C.animation&&(r=!1),r)continue;C.start($2(n,C,T,c.shouldReduceMotion&&dd.has(n)?{type:!1}:d));const t=C.animation;s1(e)&&(e.add(n),t.then(()=>e.remove(n))),p.push(t)}return V&&Promise.all(p).then(()=>{V&&oW(c,V)}),p}function rw(c,R,j={}){const re=rx(c,R,j.custom);let{transition:ge=c.getDefaultTransition()||{}}=re||{};j.transitionOverride&&(ge=j.transitionOverride);const Re=re?()=>Promise.all(iC(c,re,j)):()=>Promise.resolve(),V=c.variantChildren&&c.variantChildren.size?(e=0)=>{const{delayChildren:p=0,staggerChildren:L,staggerDirection:n}=ge;return hW(c,R,p+e,L,n,j)}:()=>Promise.resolve(),{when:B}=ge;if(B){const[e,p]=B==="beforeChildren"?[Re,V]:[V,Re];return e().then(()=>p())}else return Promise.all([Re(),V(j.delay)])}function hW(c,R,j=0,re=0,ge=1,Re){const V=[],B=(c.variantChildren.size-1)*re,e=ge===1?(p=0)=>p*re:(p=0)=>B-p*re;return Array.from(c.variantChildren).sort(vW).forEach((p,L)=>{p.notify("AnimationStart",R),V.push(rw(p,R,{...Re,delay:j+e(L)}).then(()=>p.notify("AnimationComplete",R)))}),Promise.all(V)}function vW(c,R){return c.sortNodePosition(R)}function dW(c,R,j={}){c.notify("AnimationStart",R);let re;if(Array.isArray(R)){const ge=R.map(Re=>rw(c,Re,j));re=Promise.all(ge)}else if(typeof R=="string")re=rw(c,R,j);else{const ge=typeof R=="function"?rx(c,R,j.custom):R;re=Promise.all(iC(c,ge,j))}return re.then(()=>c.notify("AnimationComplete",R))}const pW=[...I2].reverse(),gW=I2.length;function yW(c){return R=>Promise.all(R.map(({animation:j,options:re})=>dW(c,j,re)))}function mW(c){let R=yW(c);const j=bW();let re=!0;const ge=(e,p)=>{const L=rx(c,p);if(L){const{transition:n,transitionEnd:C,...T}=L;e={...e,...T,...C}}return e};function Re(e){R=e(c)}function V(e,p){const L=c.getProps(),n=c.getVariantContext(!0)||{},C=[],T=new Set;let d={},y=1/0;for(let t=0;t<gW;t++){const i=pW[t],a=j[i],h=L[i]!==void 0?L[i]:n[i],u=Cg(h),s=i===p?a.isActive:null;s===!1&&(y=t);let m=h===n[i]&&h!==L[i]&&u;if(m&&re&&c.manuallyAnimateOnMount&&(m=!1),a.protectedKeys={...d},!a.isActive&&s===null||!h&&!a.prevProp||Q1(h)||typeof h=="boolean")continue;const f=xW(a.prevProp,h);let S=f||i===p&&a.isActive&&!m&&u||t>y&&u;const v=Array.isArray(h)?h:[h];let l=v.reduce(ge,{});s===!1&&(l={});const{prevResolvedValues:g={}}=a,M={...g,...l},A=k=>{S=!0,T.delete(k),a.needsAnimating[k]=!0};for(const k in M){const w=l[k],E=g[k];d.hasOwnProperty(k)||(w!==E?n1(w)&&n1(E)?!LE(w,E)||f?A(k):a.protectedKeys[k]=!0:w!==void 0?A(k):T.add(k):w!==void 0&&T.has(k)?A(k):a.protectedKeys[k]=!0)}a.prevProp=h,a.prevResolvedValues=l,a.isActive&&(d={...d,...l}),re&&c.blockInitialAnimation&&(S=!1),S&&!m&&C.push(...v.map(k=>({animation:k,options:{type:i,...e}})))}if(T.size){const t={};T.forEach(i=>{const a=c.getBaseTarget(i);a!==void 0&&(t[i]=a)}),C.push({animation:t})}let r=!!C.length;return re&&(L.initial===!1||L.initial===L.animate)&&!c.manuallyAnimateOnMount&&(r=!1),re=!1,r?R(C):Promise.resolve()}function B(e,p,L){var n;if(j[e].isActive===p)return Promise.resolve();(n=c.variantChildren)===null||n===void 0||n.forEach(T=>{var d;return(d=T.animationState)===null||d===void 0?void 0:d.setActive(e,p)}),j[e].isActive=p;const C=V(L,e);for(const T in j)j[T].protectedKeys={};return C}return{animateChanges:V,setActive:B,setAnimateFunction:Re,getState:()=>j}}function xW(c,R){return typeof R=="string"?R!==c:Array.isArray(R)?!LE(R,c):!1}function Hv(c=!1){return{isActive:c,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bW(){return{animate:Hv(!0),whileInView:Hv(),whileHover:Hv(),whileTap:Hv(),whileDrag:Hv(),whileFocus:Hv(),exit:Hv()}}class wW extends dv{constructor(R){super(R),R.animationState||(R.animationState=mW(R))}updateAnimationControlsSubscription(){const{animate:R}=this.node.getProps();this.unmount(),Q1(R)&&(this.unmount=R.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:R}=this.node.getProps(),{animate:j}=this.node.prevProps||{};R!==j&&this.updateAnimationControlsSubscription()}unmount(){}}let TW=0;class AW extends dv{constructor(){super(...arguments),this.id=TW++}update(){if(!this.node.presenceContext)return;const{isPresent:R,onExitComplete:j,custom:re}=this.node.presenceContext,{isPresent:ge}=this.node.prevPresenceContext||{};if(!this.node.animationState||R===ge)return;const Re=this.node.animationState.setActive("exit",!R,{custom:re??this.node.getProps().custom});j&&!R&&Re.then(()=>j(this.id))}mount(){const{register:R}=this.node.presenceContext||{};R&&(this.unmount=R(this.id))}unmount(){}}const SW={animation:{Feature:wW},exit:{Feature:AW}},Y4=(c,R)=>Math.abs(c-R);function MW(c,R){const j=Y4(c.x,R.x),re=Y4(c.y,R.y);return Math.sqrt(j**2+re**2)}class oC{constructor(R,j,{transformPagePoint:re,contextWindow:ge}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Fb(this.lastMoveEventInfo,this.history),n=this.startEvent!==null,C=MW(L.offset,{x:0,y:0})>=3;if(!n&&!C)return;const{point:T}=L,{timestamp:d}=cs;this.history.push({...T,timestamp:d});const{onStart:y,onMove:r}=this.handlers;n||(y&&y(this.lastMoveEvent,L),this.startEvent=this.lastMoveEvent),r&&r(this.lastMoveEvent,L)},this.handlePointerMove=(L,n)=>{this.lastMoveEvent=L,this.lastMoveEventInfo=zb(n,this.transformPagePoint),Qi.update(this.updatePoint,!0)},this.handlePointerUp=(L,n)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:C,onSessionEnd:T}=this.handlers,d=Fb(L.type==="pointercancel"?this.lastMoveEventInfo:zb(n,this.transformPagePoint),this.history);this.startEvent&&C&&C(L,d),T&&T(L,d)},!AE(R))return;this.handlers=j,this.transformPagePoint=re,this.contextWindow=ge||window;const Re=tx(R),V=zb(Re,this.transformPagePoint),{point:B}=V,{timestamp:e}=cs;this.history=[{...B,timestamp:e}];const{onSessionStart:p}=j;p&&p(R,Fb(V,this.history)),this.removeListeners=nv(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(R){this.handlers=R}end(){this.removeListeners&&this.removeListeners(),$c(this.updatePoint)}}function zb(c,R){return R?{point:R(c.point)}:c}function Z4(c,R){return{x:c.x-R.x,y:c.y-R.y}}function Fb({point:c},R){return{point:c,delta:Z4(c,sC(R)),offset:Z4(c,EW(R)),velocity:CW(R,.1)}}function EW(c){return c[0]}function sC(c){return c[c.length-1]}function CW(c,R){if(c.length<2)return{x:0,y:0};let j=c.length-1,re=null;const ge=sC(c);for(;j>=0&&(re=c[j],!(ge.timestamp-re.timestamp>av(R)));)j--;if(!re)return{x:0,y:0};const Re=Gc(ge.timestamp-re.timestamp);if(Re===0)return{x:0,y:0};const V={x:(ge.x-re.x)/Re,y:(ge.y-re.y)/Re};return V.x===1/0&&(V.x=0),V.y===1/0&&(V.y=0),V}function nu(c){return c.max-c.min}function nw(c,R=0,j=.01){return Math.abs(c-R)<=j}function X4(c,R,j,re=.5){c.origin=re,c.originPoint=Eo(R.min,R.max,c.origin),c.scale=nu(j)/nu(R),(nw(c.scale,1,1e-4)||isNaN(c.scale))&&(c.scale=1),c.translate=Eo(j.min,j.max,c.origin)-c.originPoint,(nw(c.translate)||isNaN(c.translate))&&(c.translate=0)}function J0(c,R,j,re){X4(c.x,R.x,j.x,re?re.originX:void 0),X4(c.y,R.y,j.y,re?re.originY:void 0)}function $4(c,R,j){c.min=j.min+R.min,c.max=c.min+nu(R)}function LW(c,R,j){$4(c.x,R.x,j.x),$4(c.y,R.y,j.y)}function K4(c,R,j){c.min=R.min-j.min,c.max=c.min+nu(R)}function Q0(c,R,j){K4(c.x,R.x,j.x),K4(c.y,R.y,j.y)}function PW(c,{min:R,max:j},re){return R!==void 0&&c<R?c=re?Eo(R,c,re.min):Math.max(c,R):j!==void 0&&c>j&&(c=re?Eo(j,c,re.max):Math.min(c,j)),c}function J4(c,R,j){return{min:R!==void 0?c.min+R:void 0,max:j!==void 0?c.max+j-(c.max-c.min):void 0}}function RW(c,{top:R,left:j,bottom:re,right:ge}){return{x:J4(c.x,j,ge),y:J4(c.y,R,re)}}function Q4(c,R){let j=R.min-c.min,re=R.max-c.max;return R.max-R.min<c.max-c.min&&([j,re]=[re,j]),{min:j,max:re}}function kW(c,R){return{x:Q4(c.x,R.x),y:Q4(c.y,R.y)}}function DW(c,R){let j=.5;const re=nu(c),ge=nu(R);return ge>re?j=Pg(R.min,R.max-re,c.min):re>ge&&(j=Pg(c.min,c.max-ge,R.min)),lv(0,1,j)}function IW(c,R){const j={};return R.min!==void 0&&(j.min=R.min-c.min),R.max!==void 0&&(j.max=R.max-c.min),j}const aw=.35;function _W(c=aw){return c===!1?c=0:c===!0&&(c=aw),{x:q4(c,"left","right"),y:q4(c,"top","bottom")}}function q4(c,R,j){return{min:eS(c,R),max:eS(c,j)}}function eS(c,R){return typeof c=="number"?c:c[R]||0}const tS=()=>({translate:0,scale:1,origin:0,originPoint:0}),fp=()=>({x:tS(),y:tS()}),rS=()=>({min:0,max:0}),Ko=()=>({x:rS(),y:rS()});function Xf(c){return[c("x"),c("y")]}function lC({top:c,left:R,right:j,bottom:re}){return{x:{min:R,max:j},y:{min:c,max:re}}}function zW({x:c,y:R}){return{top:R.min,right:c.max,bottom:R.max,left:c.min}}function FW(c,R){if(!R)return c;const j=R({x:c.left,y:c.top}),re=R({x:c.right,y:c.bottom});return{top:j.y,left:j.x,bottom:re.y,right:re.x}}function Ob(c){return c===void 0||c===1}function iw({scale:c,scaleX:R,scaleY:j}){return!Ob(c)||!Ob(R)||!Ob(j)}function jv(c){return iw(c)||uC(c)||c.z||c.rotate||c.rotateX||c.rotateY}function uC(c){return nS(c.x)||nS(c.y)}function nS(c){return c&&c!=="0%"}function l1(c,R,j){const re=c-j,ge=R*re;return j+ge}function aS(c,R,j,re,ge){return ge!==void 0&&(c=l1(c,ge,re)),l1(c,j,re)+R}function ow(c,R=0,j=1,re,ge){c.min=aS(c.min,R,j,re,ge),c.max=aS(c.max,R,j,re,ge)}function fC(c,{x:R,y:j}){ow(c.x,R.translate,R.scale,R.originPoint),ow(c.y,j.translate,j.scale,j.originPoint)}function OW(c,R,j,re=!1){const ge=j.length;if(!ge)return;R.x=R.y=1;let Re,V;for(let B=0;B<ge;B++){Re=j[B],V=Re.projectionDelta;const e=Re.instance;e&&e.style&&e.style.display==="contents"||(re&&Re.options.layoutScroll&&Re.scroll&&Re!==Re.root&&cp(c,{x:-Re.scroll.offset.x,y:-Re.scroll.offset.y}),V&&(R.x*=V.x.scale,R.y*=V.y.scale,fC(c,V)),re&&jv(Re.latestValues)&&cp(c,Re.latestValues))}R.x=iS(R.x),R.y=iS(R.y)}function iS(c){return Number.isInteger(c)||c>1.0000000000001||c<.999999999999?c:1}function Vh(c,R){c.min=c.min+R,c.max=c.max+R}function oS(c,R,[j,re,ge]){const Re=R[ge]!==void 0?R[ge]:.5,V=Eo(c.min,c.max,Re);ow(c,R[j],R[re],V,R.scale)}const BW=["x","scaleX","originX"],NW=["y","scaleY","originY"];function cp(c,R){oS(c.x,R,BW),oS(c.y,R,NW)}function cC(c,R){return lC(FW(c.getBoundingClientRect(),R))}function UW(c,R,j){const re=cC(c,j),{scroll:ge}=R;return ge&&(Vh(re.x,ge.offset.x),Vh(re.y,ge.offset.y)),re}const hC=({current:c})=>c?c.ownerDocument.defaultView:null,VW=new WeakMap;class HW{constructor(R){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ko(),this.visualElement=R}start(R,{snapToCursor:j=!1}={}){const{presenceContext:re}=this.visualElement;if(re&&re.isPresent===!1)return;const ge=e=>{this.stopAnimation(),j&&this.snapToCursor(tx(e,"page").point)},Re=(e,p)=>{const{drag:L,dragPropagation:n,onDragStart:C}=this.getProps();if(L&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ME(L),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xf(d=>{let y=this.getAxisMotionValue(d).get()||0;if(nc.test(y)){const{projection:r}=this.visualElement;if(r&&r.layout){const t=r.layout.layoutBox[d];t&&(y=nu(t)*(parseFloat(y)/100))}}this.originPoint[d]=y}),C&&Qi.update(()=>C(e,p),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},V=(e,p)=>{const{dragPropagation:L,dragDirectionLock:n,onDirectionLock:C,onDrag:T}=this.getProps();if(!L&&!this.openGlobalLock)return;const{offset:d}=p;if(n&&this.currentDirection===null){this.currentDirection=GW(d),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",p.point,d),this.updateAxis("y",p.point,d),this.visualElement.render(),T&&T(e,p)},B=(e,p)=>this.stop(e,p);this.panSession=new oC(R,{onSessionStart:ge,onStart:Re,onMove:V,onSessionEnd:B},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:hC(this.visualElement)})}stop(R,j){const re=this.isDragging;if(this.cancel(),!re)return;const{velocity:ge}=j;this.startAnimation(ge);const{onDragEnd:Re}=this.getProps();Re&&Qi.update(()=>Re(R,j))}cancel(){this.isDragging=!1;const{projection:R,animationState:j}=this.visualElement;R&&(R.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:re}=this.getProps();!re&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),j&&j.setActive("whileDrag",!1)}updateAxis(R,j,re){const{drag:ge}=this.getProps();if(!re||!Zy(R,ge,this.currentDirection))return;const Re=this.getAxisMotionValue(R);let V=this.originPoint[R]+re[R];this.constraints&&this.constraints[R]&&(V=PW(V,this.constraints[R],this.elastic[R])),Re.set(V)}resolveConstraints(){var R;const{dragConstraints:j,dragElastic:re}=this.getProps(),ge=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(R=this.visualElement.projection)===null||R===void 0?void 0:R.layout,Re=this.constraints;j&&lp(j)?this.constraints||(this.constraints=this.resolveRefConstraints()):j&&ge?this.constraints=RW(ge.layoutBox,j):this.constraints=!1,this.elastic=_W(re),Re!==this.constraints&&ge&&this.constraints&&!this.hasMutatedConstraints&&Xf(V=>{this.getAxisMotionValue(V)&&(this.constraints[V]=IW(ge.layoutBox[V],this.constraints[V]))})}resolveRefConstraints(){const{dragConstraints:R,onMeasureDragConstraints:j}=this.getProps();if(!R||!lp(R))return!1;const re=R.current,{projection:ge}=this.visualElement;if(!ge||!ge.layout)return!1;const Re=UW(re,ge.root,this.visualElement.getTransformPagePoint());let V=kW(ge.layout.layoutBox,Re);if(j){const B=j(zW(V));this.hasMutatedConstraints=!!B,B&&(V=lC(B))}return V}startAnimation(R){const{drag:j,dragMomentum:re,dragElastic:ge,dragTransition:Re,dragSnapToOrigin:V,onDragTransitionEnd:B}=this.getProps(),e=this.constraints||{},p=Xf(L=>{if(!Zy(L,j,this.currentDirection))return;let n=e&&e[L]||{};V&&(n={min:0,max:0});const C=ge?200:1e6,T=ge?40:1e7,d={type:"inertia",velocity:re?R[L]:0,bounceStiffness:C,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...Re,...n};return this.startAxisValueAnimation(L,d)});return Promise.all(p).then(B)}startAxisValueAnimation(R,j){const re=this.getAxisMotionValue(R);return re.start($2(R,re,0,j))}stopAnimation(){Xf(R=>this.getAxisMotionValue(R).stop())}getAxisMotionValue(R){const j="_drag"+R.toUpperCase(),re=this.visualElement.getProps(),ge=re[j];return ge||this.visualElement.getValue(R,(re.initial?re.initial[R]:void 0)||0)}snapToCursor(R){Xf(j=>{const{drag:re}=this.getProps();if(!Zy(j,re,this.currentDirection))return;const{projection:ge}=this.visualElement,Re=this.getAxisMotionValue(j);if(ge&&ge.layout){const{min:V,max:B}=ge.layout.layoutBox[j];Re.set(R[j]-Eo(V,B,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:R,dragConstraints:j}=this.getProps(),{projection:re}=this.visualElement;if(!lp(j)||!re||!this.constraints)return;this.stopAnimation();const ge={x:0,y:0};Xf(V=>{const B=this.getAxisMotionValue(V);if(B){const e=B.get();ge[V]=DW({min:e,max:e},this.constraints[V])}});const{transformTemplate:Re}=this.visualElement.getProps();this.visualElement.current.style.transform=Re?Re({},""):"none",re.root&&re.root.updateScroll(),re.updateLayout(),this.resolveConstraints(),Xf(V=>{if(!Zy(V,R,null))return;const B=this.getAxisMotionValue(V),{min:e,max:p}=this.constraints[V];B.set(Eo(e,p,ge[V]))})}addListeners(){if(!this.visualElement.current)return;VW.set(this.visualElement,this);const R=this.visualElement.current,j=Hc(R,"pointerdown",e=>{const{drag:p,dragListener:L=!0}=this.getProps();p&&L&&this.start(e)}),re=()=>{const{dragConstraints:e}=this.getProps();lp(e)&&(this.constraints=this.resolveRefConstraints())},{projection:ge}=this.visualElement,Re=ge.addEventListener("measure",re);ge&&!ge.layout&&(ge.root&&ge.root.updateScroll(),ge.updateLayout()),re();const V=Nc(window,"resize",()=>this.scalePositionWithinConstraints()),B=ge.addEventListener("didUpdate",({delta:e,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xf(L=>{const n=this.getAxisMotionValue(L);n&&(this.originPoint[L]+=e[L].translate,n.set(n.get()+e[L].translate))}),this.visualElement.render())});return()=>{V(),j(),Re(),B&&B()}}getProps(){const R=this.visualElement.getProps(),{drag:j=!1,dragDirectionLock:re=!1,dragPropagation:ge=!1,dragConstraints:Re=!1,dragElastic:V=aw,dragMomentum:B=!0}=R;return{...R,drag:j,dragDirectionLock:re,dragPropagation:ge,dragConstraints:Re,dragElastic:V,dragMomentum:B}}}function Zy(c,R,j){return(R===!0||R===c)&&(j===null||j===c)}function GW(c,R=10){let j=null;return Math.abs(c.y)>R?j="y":Math.abs(c.x)>R&&(j="x"),j}class WW extends dv{constructor(R){super(R),this.removeGroupControls=zo,this.removeListeners=zo,this.controls=new HW(R)}mount(){const{dragControls:R}=this.node.getProps();R&&(this.removeGroupControls=R.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zo}unmount(){this.removeGroupControls(),this.removeListeners()}}const sS=c=>(R,j)=>{c&&Qi.update(()=>c(R,j))};class jW extends dv{constructor(){super(...arguments),this.removePointerDownListener=zo}onPointerDown(R){this.session=new oC(R,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hC(this.node)})}createPanHandlers(){const{onPanSessionStart:R,onPanStart:j,onPan:re,onPanEnd:ge}=this.node.getProps();return{onSessionStart:sS(R),onStart:sS(j),onMove:re,onEnd:(Re,V)=>{delete this.session,ge&&Qi.update(()=>ge(Re,V))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",R=>this.onPointerDown(R))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function YW(){const c=gn.useContext(Og);if(c===null)return[!0,null];const{isPresent:R,onExitComplete:j,register:re}=c,ge=gn.useId();return gn.useEffect(()=>re(ge),[]),!R&&j?[!1,()=>j&&j(ge)]:[!0]}function ZW(){return XW(gn.useContext(Og))}function XW(c){return c===null?!0:c.isPresent}const bm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lS(c,R){return R.max===R.min?0:c/(R.max-R.min)*100}const w0={correct:(c,R)=>{if(!R.target)return c;if(typeof c=="string")if($a.test(c))c=parseFloat(c);else return c;const j=lS(c,R.target.x),re=lS(c,R.target.y);return`${j}% ${re}%`}},$W={correct:(c,{treeScale:R,projectionDelta:j})=>{const re=c,ge=uv.parse(c);if(ge.length>5)return re;const Re=uv.createTransformer(c),V=typeof ge[0]!="number"?1:0,B=j.x.scale*R.x,e=j.y.scale*R.y;ge[0+V]/=B,ge[1+V]/=e;const p=Eo(B,e,.5);return typeof ge[2+V]=="number"&&(ge[2+V]/=p),typeof ge[3+V]=="number"&&(ge[3+V]/=p),Re(ge)}};class KW extends ul.Component{componentDidMount(){const{visualElement:R,layoutGroup:j,switchLayoutGroup:re,layoutId:ge}=this.props,{projection:Re}=R;rH(JW),Re&&(j.group&&j.group.add(Re),re&&re.register&&ge&&re.register(Re),Re.root.didUpdate(),Re.addEventListener("animationComplete",()=>{this.safeToRemove()}),Re.setOptions({...Re.options,onExitComplete:()=>this.safeToRemove()})),bm.hasEverUpdated=!0}getSnapshotBeforeUpdate(R){const{layoutDependency:j,visualElement:re,drag:ge,isPresent:Re}=this.props,V=re.projection;return V&&(V.isPresent=Re,ge||R.layoutDependency!==j||j===void 0?V.willUpdate():this.safeToRemove(),R.isPresent!==Re&&(Re?V.promote():V.relegate()||Qi.postRender(()=>{const B=V.getStack();(!B||!B.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:R}=this.props.visualElement;R&&(R.root.didUpdate(),queueMicrotask(()=>{!R.currentAnimation&&R.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:R,layoutGroup:j,switchLayoutGroup:re}=this.props,{projection:ge}=R;ge&&(ge.scheduleCheckAfterUnmount(),j&&j.group&&j.group.remove(ge),re&&re.deregister&&re.deregister(ge))}safeToRemove(){const{safeToRemove:R}=this.props;R&&R()}render(){return null}}function vC(c){const[R,j]=YW(),re=gn.useContext(z2);return ul.createElement(KW,{...c,layoutGroup:re,switchLayoutGroup:gn.useContext(lE),isPresent:R,safeToRemove:j})}const JW={borderRadius:{...w0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:w0,borderTopRightRadius:w0,borderBottomLeftRadius:w0,borderBottomRightRadius:w0,boxShadow:$W},dC=["TopLeft","TopRight","BottomLeft","BottomRight"],QW=dC.length,uS=c=>typeof c=="string"?parseFloat(c):c,fS=c=>typeof c=="number"||$a.test(c);function qW(c,R,j,re,ge,Re){ge?(c.opacity=Eo(0,j.opacity!==void 0?j.opacity:1,ej(re)),c.opacityExit=Eo(R.opacity!==void 0?R.opacity:1,0,tj(re))):Re&&(c.opacity=Eo(R.opacity!==void 0?R.opacity:1,j.opacity!==void 0?j.opacity:1,re));for(let V=0;V<QW;V++){const B=`border${dC[V]}Radius`;let e=cS(R,B),p=cS(j,B);if(e===void 0&&p===void 0)continue;e||(e=0),p||(p=0),e===0||p===0||fS(e)===fS(p)?(c[B]=Math.max(Eo(uS(e),uS(p),re),0),(nc.test(p)||nc.test(e))&&(c[B]+="%")):c[B]=p}(R.rotate||j.rotate)&&(c.rotate=Eo(R.rotate||0,j.rotate||0,re))}function cS(c,R){return c[R]!==void 0?c[R]:c.borderRadius}const ej=pC(0,.5,W2),tj=pC(.5,.95,zo);function pC(c,R,j){return re=>re<c?0:re>R?1:j(Pg(c,R,re))}function hS(c,R){c.min=R.min,c.max=R.max}function Du(c,R){hS(c.x,R.x),hS(c.y,R.y)}function vS(c,R,j,re,ge){return c-=R,c=l1(c,1/j,re),ge!==void 0&&(c=l1(c,1/ge,re)),c}function rj(c,R=0,j=1,re=.5,ge,Re=c,V=c){if(nc.test(R)&&(R=parseFloat(R),R=Eo(V.min,V.max,R/100)-V.min),typeof R!="number")return;let B=Eo(Re.min,Re.max,re);c===Re&&(B-=R),c.min=vS(c.min,R,j,B,ge),c.max=vS(c.max,R,j,B,ge)}function dS(c,R,[j,re,ge],Re,V){rj(c,R[j],R[re],R[ge],R.scale,Re,V)}const nj=["x","scaleX","originX"],aj=["y","scaleY","originY"];function pS(c,R,j,re){dS(c.x,R,nj,j?j.x:void 0,re?re.x:void 0),dS(c.y,R,aj,j?j.y:void 0,re?re.y:void 0)}function gS(c){return c.translate===0&&c.scale===1}function gC(c){return gS(c.x)&&gS(c.y)}function ij(c,R){return c.x.min===R.x.min&&c.x.max===R.x.max&&c.y.min===R.y.min&&c.y.max===R.y.max}function yC(c,R){return Math.round(c.x.min)===Math.round(R.x.min)&&Math.round(c.x.max)===Math.round(R.x.max)&&Math.round(c.y.min)===Math.round(R.y.min)&&Math.round(c.y.max)===Math.round(R.y.max)}function yS(c){return nu(c.x)/nu(c.y)}class oj{constructor(){this.members=[]}add(R){K2(this.members,R),R.scheduleRender()}remove(R){if(J2(this.members,R),R===this.prevLead&&(this.prevLead=void 0),R===this.lead){const j=this.members[this.members.length-1];j&&this.promote(j)}}relegate(R){const j=this.members.findIndex(ge=>R===ge);if(j===0)return!1;let re;for(let ge=j;ge>=0;ge--){const Re=this.members[ge];if(Re.isPresent!==!1){re=Re;break}}return re?(this.promote(re),!0):!1}promote(R,j){const re=this.lead;if(R!==re&&(this.prevLead=re,this.lead=R,R.show(),re)){re.instance&&re.scheduleRender(),R.scheduleRender(),R.resumeFrom=re,j&&(R.resumeFrom.preserveOpacity=!0),re.snapshot&&(R.snapshot=re.snapshot,R.snapshot.latestValues=re.animationValues||re.latestValues),R.root&&R.root.isUpdating&&(R.isLayoutDirty=!0);const{crossfade:ge}=R.options;ge===!1&&re.hide()}}exitAnimationComplete(){this.members.forEach(R=>{const{options:j,resumingFrom:re}=R;j.onExitComplete&&j.onExitComplete(),re&&re.options.onExitComplete&&re.options.onExitComplete()})}scheduleRender(){this.members.forEach(R=>{R.instance&&R.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function mS(c,R,j){let re="";const ge=c.x.translate/R.x,Re=c.y.translate/R.y;if((ge||Re)&&(re=`translate3d(${ge}px, ${Re}px, 0) `),(R.x!==1||R.y!==1)&&(re+=`scale(${1/R.x}, ${1/R.y}) `),j){const{rotate:e,rotateX:p,rotateY:L}=j;e&&(re+=`rotate(${e}deg) `),p&&(re+=`rotateX(${p}deg) `),L&&(re+=`rotateY(${L}deg) `)}const V=c.x.scale*R.x,B=c.y.scale*R.y;return(V!==1||B!==1)&&(re+=`scale(${V}, ${B})`),re||"none"}const sj=(c,R)=>c.depth-R.depth;class lj{constructor(){this.children=[],this.isDirty=!1}add(R){K2(this.children,R),this.isDirty=!0}remove(R){J2(this.children,R),this.isDirty=!0}forEach(R){this.isDirty&&this.children.sort(sj),this.isDirty=!1,this.children.forEach(R)}}function uj(c,R){const j=performance.now(),re=({timestamp:ge})=>{const Re=ge-j;Re>=R&&($c(re),c(Re-R))};return Qi.read(re,!0),()=>$c(re)}function fj(c){window.MotionDebug&&window.MotionDebug.record(c)}function cj(c){return c instanceof SVGElement&&c.tagName!=="svg"}function hj(c,R,j){const re=Ol(c)?c:_p(c);return re.start($2("",re,R,j)),re.animation}const xS=["","X","Y","Z"],vj={visibility:"hidden"},bS=1e3;let dj=0;const Yv={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mC({attachResizeListener:c,defaultParent:R,measureScroll:j,checkIsScrollRoot:re,resetTransform:ge}){return class{constructor(V={},B=R==null?void 0:R()){this.id=dj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yv.totalNodes=Yv.resolvedTargetDeltas=Yv.recalculatedProjection=0,this.nodes.forEach(yj),this.nodes.forEach(Tj),this.nodes.forEach(Aj),this.nodes.forEach(mj),fj(Yv)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=V,this.root=B?B.root||B:this,this.path=B?[...B.path,B]:[],this.parent=B,this.depth=B?B.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new lj)}addEventListener(V,B){return this.eventHandlers.has(V)||this.eventHandlers.set(V,new Q2),this.eventHandlers.get(V).add(B)}notifyListeners(V,...B){const e=this.eventHandlers.get(V);e&&e.notify(...B)}hasListeners(V){return this.eventHandlers.has(V)}mount(V,B=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=cj(V),this.instance=V;const{layoutId:e,layout:p,visualElement:L}=this.options;if(L&&!L.current&&L.mount(V),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),B&&(p||e)&&(this.isLayoutDirty=!0),c){let n;const C=()=>this.root.updateBlockedByResize=!1;c(V,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=uj(C,250),bm.hasAnimatedSinceResize&&(bm.hasAnimatedSinceResize=!1,this.nodes.forEach(TS))})}e&&this.root.registerSharedNode(e,this),this.options.animate!==!1&&L&&(e||p)&&this.addEventListener("didUpdate",({delta:n,hasLayoutChanged:C,hasRelativeTargetChanged:T,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||L.getDefaultTransition()||Lj,{onLayoutAnimationStart:r,onLayoutAnimationComplete:t}=L.getProps(),i=!this.targetLayout||!yC(this.targetLayout,d)||T,a=!C&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||a||C&&(i||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(n,a);const h={...X2(y,"layout"),onPlay:r,onComplete:t};(L.shouldReduceMotion||this.options.layoutRoot)&&(h.delay=0,h.type=!1),this.startAnimation(h)}else C||TS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const V=this.getStack();V&&V.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$c(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sj),this.animationId++)}getTransformTemplate(){const{visualElement:V}=this.options;return V&&V.getProps().transformTemplate}willUpdate(V=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let L=0;L<this.path.length;L++){const n=this.path[L];n.shouldResetTransform=!0,n.updateScroll("snapshot"),n.options.layoutRoot&&n.willUpdate(!1)}const{layoutId:B,layout:e}=this.options;if(B===void 0&&!e)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),V&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wS);return}this.isUpdating||this.nodes.forEach(bj),this.isUpdating=!1,this.nodes.forEach(wj),this.nodes.forEach(pj),this.nodes.forEach(gj),this.clearAllSnapshots();const B=performance.now();cs.delta=lv(0,1e3/60,B-cs.timestamp),cs.timestamp=B,cs.isProcessing=!0,Cb.update.process(cs),Cb.preRender.process(cs),Cb.render.process(cs),cs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(xj),this.sharedNodes.forEach(Mj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();const V=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ko(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:B}=this.options;B&&B.notify("LayoutMeasure",this.layout.layoutBox,V?V.layoutBox:void 0)}updateScroll(V="measure"){let B=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===V&&(B=!1),B&&(this.scroll={animationId:this.root.animationId,phase:V,isRoot:re(this.instance),offset:j(this.instance)})}resetTransform(){if(!ge)return;const V=this.isLayoutDirty||this.shouldResetTransform,B=this.projectionDelta&&!gC(this.projectionDelta),e=this.getTransformTemplate(),p=e?e(this.latestValues,""):void 0,L=p!==this.prevTransformTemplateValue;V&&(B||jv(this.latestValues)||L)&&(ge(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(V=!0){const B=this.measurePageBox();let e=this.removeElementScroll(B);return V&&(e=this.removeTransform(e)),Pj(e),{animationId:this.root.animationId,measuredBox:B,layoutBox:e,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:V}=this.options;if(!V)return Ko();const B=V.measureViewportBox(),{scroll:e}=this.root;return e&&(Vh(B.x,e.offset.x),Vh(B.y,e.offset.y)),B}removeElementScroll(V){const B=Ko();Du(B,V);for(let e=0;e<this.path.length;e++){const p=this.path[e],{scroll:L,options:n}=p;if(p!==this.root&&L&&n.layoutScroll){if(L.isRoot){Du(B,V);const{scroll:C}=this.root;C&&(Vh(B.x,-C.offset.x),Vh(B.y,-C.offset.y))}Vh(B.x,L.offset.x),Vh(B.y,L.offset.y)}}return B}applyTransform(V,B=!1){const e=Ko();Du(e,V);for(let p=0;p<this.path.length;p++){const L=this.path[p];!B&&L.options.layoutScroll&&L.scroll&&L!==L.root&&cp(e,{x:-L.scroll.offset.x,y:-L.scroll.offset.y}),jv(L.latestValues)&&cp(e,L.latestValues)}return jv(this.latestValues)&&cp(e,this.latestValues),e}removeTransform(V){const B=Ko();Du(B,V);for(let e=0;e<this.path.length;e++){const p=this.path[e];if(!p.instance||!jv(p.latestValues))continue;iw(p.latestValues)&&p.updateSnapshot();const L=Ko(),n=p.measurePageBox();Du(L,n),pS(B,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,L)}return jv(this.latestValues)&&pS(B,this.latestValues),B}setTargetDelta(V){this.targetDelta=V,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(V){this.options={...this.options,...V,crossfade:V.crossfade!==void 0?V.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(V=!1){var B;const e=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=e.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=e.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=e.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==e;if(!(V||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((B=this.parent)===null||B===void 0)&&B.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:n,layoutId:C}=this.options;if(!(!this.layout||!(n||C))){if(this.resolvedRelativeTargetAt=cs.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ko(),this.relativeTargetOrigin=Ko(),Q0(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),Du(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ko(),this.targetWithTransforms=Ko()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Du(this.target,this.layout.layoutBox),fC(this.target,this.targetDelta)):Du(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ko(),this.relativeTargetOrigin=Ko(),Q0(this.relativeTargetOrigin,this.target,T.target),Du(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yv.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||iw(this.parent.latestValues)||uC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var V;const B=this.getLead(),e=!!this.resumingFrom||this!==B;let p=!0;if((this.isProjectionDirty||!((V=this.parent)===null||V===void 0)&&V.isProjectionDirty)&&(p=!1),e&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===cs.timestamp&&(p=!1),p)return;const{layout:L,layoutId:n}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(L||n))return;Du(this.layoutCorrected,this.layout.layoutBox);const C=this.treeScale.x,T=this.treeScale.y;OW(this.layoutCorrected,this.treeScale,this.path,e),B.layout&&!B.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(B.target=B.layout.layoutBox);const{target:d}=B;if(!d){this.projectionTransform&&(this.projectionDelta=fp(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=fp(),this.projectionDeltaWithTransform=fp());const y=this.projectionTransform;J0(this.projectionDelta,this.layoutCorrected,d,this.latestValues),this.projectionTransform=mS(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==C||this.treeScale.y!==T)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d)),Yv.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(V=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),V){const B=this.getStack();B&&B.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(V,B=!1){const e=this.snapshot,p=e?e.latestValues:{},L={...this.latestValues},n=fp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!B;const C=Ko(),T=e?e.source:void 0,d=this.layout?this.layout.source:void 0,y=T!==d,r=this.getStack(),t=!r||r.members.length<=1,i=!!(y&&!t&&this.options.crossfade===!0&&!this.path.some(Cj));this.animationProgress=0;let a;this.mixTargetDelta=h=>{const u=h/1e3;AS(n.x,V.x,u),AS(n.y,V.y,u),this.setTargetDelta(n),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Q0(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ej(this.relativeTarget,this.relativeTargetOrigin,C,u),a&&ij(this.relativeTarget,a)&&(this.isProjectionDirty=!1),a||(a=Ko()),Du(a,this.relativeTarget)),y&&(this.animationValues=L,qW(L,p,this.latestValues,u,i,t)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=u},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(V){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($c(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qi.update(()=>{bm.hasAnimatedSinceResize=!0,this.currentAnimation=hj(0,bS,{...V,onUpdate:B=>{this.mixTargetDelta(B),V.onUpdate&&V.onUpdate(B)},onComplete:()=>{V.onComplete&&V.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const V=this.getStack();V&&V.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const V=this.getLead();let{targetWithTransforms:B,target:e,layout:p,latestValues:L}=V;if(!(!B||!e||!p)){if(this!==V&&this.layout&&p&&xC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){e=this.target||Ko();const n=nu(this.layout.layoutBox.x);e.x.min=V.target.x.min,e.x.max=e.x.min+n;const C=nu(this.layout.layoutBox.y);e.y.min=V.target.y.min,e.y.max=e.y.min+C}Du(B,e),cp(B,L),J0(this.projectionDeltaWithTransform,this.layoutCorrected,B,L)}}registerSharedNode(V,B){this.sharedNodes.has(V)||this.sharedNodes.set(V,new oj),this.sharedNodes.get(V).add(B);const p=B.options.initialPromotionConfig;B.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(B):void 0})}isLead(){const V=this.getStack();return V?V.lead===this:!0}getLead(){var V;const{layoutId:B}=this.options;return B?((V=this.getStack())===null||V===void 0?void 0:V.lead)||this:this}getPrevLead(){var V;const{layoutId:B}=this.options;return B?(V=this.getStack())===null||V===void 0?void 0:V.prevLead:void 0}getStack(){const{layoutId:V}=this.options;if(V)return this.root.sharedNodes.get(V)}promote({needsReset:V,transition:B,preserveFollowOpacity:e}={}){const p=this.getStack();p&&p.promote(this,e),V&&(this.projectionDelta=void 0,this.needsReset=!0),B&&this.setOptions({transition:B})}relegate(){const V=this.getStack();return V?V.relegate(this):!1}resetRotation(){const{visualElement:V}=this.options;if(!V)return;let B=!1;const{latestValues:e}=V;if((e.rotate||e.rotateX||e.rotateY||e.rotateZ)&&(B=!0),!B)return;const p={};for(let L=0;L<xS.length;L++){const n="rotate"+xS[L];e[n]&&(p[n]=e[n],V.setStaticValue(n,0))}V.render();for(const L in p)V.setStaticValue(L,p[L]);V.scheduleRender()}getProjectionStyles(V){var B,e;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vj;const p={visibility:""},L=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=xm(V==null?void 0:V.pointerEvents)||"",p.transform=L?L(this.latestValues,""):"none",p;const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=xm(V==null?void 0:V.pointerEvents)||""),this.hasProjected&&!jv(this.latestValues)&&(y.transform=L?L({},""):"none",this.hasProjected=!1),y}const C=n.animationValues||n.latestValues;this.applyTransformsToTarget(),p.transform=mS(this.projectionDeltaWithTransform,this.treeScale,C),L&&(p.transform=L(C,p.transform));const{x:T,y:d}=this.projectionDelta;p.transformOrigin=`${T.origin*100}% ${d.origin*100}% 0`,n.animationValues?p.opacity=n===this?(e=(B=C.opacity)!==null&&B!==void 0?B:this.latestValues.opacity)!==null&&e!==void 0?e:1:this.preserveOpacity?this.latestValues.opacity:C.opacityExit:p.opacity=n===this?C.opacity!==void 0?C.opacity:"":C.opacityExit!==void 0?C.opacityExit:0;for(const y in t1){if(C[y]===void 0)continue;const{correct:r,applyTo:t}=t1[y],i=p.transform==="none"?C[y]:r(C[y],n);if(t){const a=t.length;for(let h=0;h<a;h++)p[t[h]]=i}else p[y]=i}return this.options.layoutId&&(p.pointerEvents=n===this?xm(V==null?void 0:V.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(V=>{var B;return(B=V.currentAnimation)===null||B===void 0?void 0:B.stop()}),this.root.nodes.forEach(wS),this.root.sharedNodes.clear()}}}function pj(c){c.updateLayout()}function gj(c){var R;const j=((R=c.resumeFrom)===null||R===void 0?void 0:R.snapshot)||c.snapshot;if(c.isLead()&&c.layout&&j&&c.hasListeners("didUpdate")){const{layoutBox:re,measuredBox:ge}=c.layout,{animationType:Re}=c.options,V=j.source!==c.layout.source;Re==="size"?Xf(n=>{const C=V?j.measuredBox[n]:j.layoutBox[n],T=nu(C);C.min=re[n].min,C.max=C.min+T}):xC(Re,j.layoutBox,re)&&Xf(n=>{const C=V?j.measuredBox[n]:j.layoutBox[n],T=nu(re[n]);C.max=C.min+T,c.relativeTarget&&!c.currentAnimation&&(c.isProjectionDirty=!0,c.relativeTarget[n].max=c.relativeTarget[n].min+T)});const B=fp();J0(B,re,j.layoutBox);const e=fp();V?J0(e,c.applyTransform(ge,!0),j.measuredBox):J0(e,re,j.layoutBox);const p=!gC(B);let L=!1;if(!c.resumeFrom){const n=c.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:C,layout:T}=n;if(C&&T){const d=Ko();Q0(d,j.layoutBox,C.layoutBox);const y=Ko();Q0(y,re,T.layoutBox),yC(d,y)||(L=!0),n.options.layoutRoot&&(c.relativeTarget=y,c.relativeTargetOrigin=d,c.relativeParent=n)}}}c.notifyListeners("didUpdate",{layout:re,snapshot:j,delta:e,layoutDelta:B,hasLayoutChanged:p,hasRelativeTargetChanged:L})}else if(c.isLead()){const{onExitComplete:re}=c.options;re&&re()}c.options.transition=void 0}function yj(c){Yv.totalNodes++,c.parent&&(c.isProjecting()||(c.isProjectionDirty=c.parent.isProjectionDirty),c.isSharedProjectionDirty||(c.isSharedProjectionDirty=!!(c.isProjectionDirty||c.parent.isProjectionDirty||c.parent.isSharedProjectionDirty)),c.isTransformDirty||(c.isTransformDirty=c.parent.isTransformDirty))}function mj(c){c.isProjectionDirty=c.isSharedProjectionDirty=c.isTransformDirty=!1}function xj(c){c.clearSnapshot()}function wS(c){c.clearMeasurements()}function bj(c){c.isLayoutDirty=!1}function wj(c){const{visualElement:R}=c.options;R&&R.getProps().onBeforeLayoutMeasure&&R.notify("BeforeLayoutMeasure"),c.resetTransform()}function TS(c){c.finishAnimation(),c.targetDelta=c.relativeTarget=c.target=void 0,c.isProjectionDirty=!0}function Tj(c){c.resolveTargetDelta()}function Aj(c){c.calcProjection()}function Sj(c){c.resetRotation()}function Mj(c){c.removeLeadSnapshot()}function AS(c,R,j){c.translate=Eo(R.translate,0,j),c.scale=Eo(R.scale,1,j),c.origin=R.origin,c.originPoint=R.originPoint}function SS(c,R,j,re){c.min=Eo(R.min,j.min,re),c.max=Eo(R.max,j.max,re)}function Ej(c,R,j,re){SS(c.x,R.x,j.x,re),SS(c.y,R.y,j.y,re)}function Cj(c){return c.animationValues&&c.animationValues.opacityExit!==void 0}const Lj={duration:.45,ease:[.4,0,.1,1]},MS=c=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(c),ES=MS("applewebkit/")&&!MS("chrome/")?Math.round:zo;function CS(c){c.min=ES(c.min),c.max=ES(c.max)}function Pj(c){CS(c.x),CS(c.y)}function xC(c,R,j){return c==="position"||c==="preserve-aspect"&&!nw(yS(R),yS(j),.2)}const Rj=mC({attachResizeListener:(c,R)=>Nc(c,"resize",R),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bb={current:void 0},bC=mC({measureScroll:c=>({x:c.scrollLeft,y:c.scrollTop}),defaultParent:()=>{if(!Bb.current){const c=new Rj({});c.mount(window),c.setOptions({layoutScroll:!0}),Bb.current=c}return Bb.current},resetTransform:(c,R)=>{c.style.transform=R!==void 0?R:"none"},checkIsScrollRoot:c=>window.getComputedStyle(c).position==="fixed"}),kj={pan:{Feature:jW},drag:{Feature:WW,ProjectionNode:bC,MeasureLayout:vC}},Dj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ij(c){const R=Dj.exec(c);if(!R)return[,];const[,j,re]=R;return[j,re]}function sw(c,R,j=1){const[re,ge]=Ij(c);if(!re)return;const Re=window.getComputedStyle(R).getPropertyValue(re);if(Re){const V=Re.trim();return rC(V)?parseFloat(V):V}else return K3(ge)?sw(ge,R,j+1):ge}function _j(c,{...R},j){const re=c.current;if(!(re instanceof Element))return{target:R,transitionEnd:j};j&&(j={...j}),c.values.forEach(ge=>{const Re=ge.get();if(!K3(Re))return;const V=sw(Re,re);V&&ge.set(V)});for(const ge in R){const Re=R[ge];if(!K3(Re))continue;const V=sw(Re,re);V&&(R[ge]=V,j||(j={}),j[ge]===void 0&&(j[ge]=Re))}return{target:R,transitionEnd:j}}const zj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),wC=c=>zj.has(c),Fj=c=>Object.keys(c).some(wC),LS=c=>c===pd||c===$a,PS=(c,R)=>parseFloat(c.split(", ")[R]),RS=(c,R)=>(j,{transform:re})=>{if(re==="none"||!re)return 0;const ge=re.match(/^matrix3d\((.+)\)$/);if(ge)return PS(ge[1],R);{const Re=re.match(/^matrix\((.+)\)$/);return Re?PS(Re[1],c):0}},Oj=new Set(["x","y","z"]),Bj=Bg.filter(c=>!Oj.has(c));function Nj(c){const R=[];return Bj.forEach(j=>{const re=c.getValue(j);re!==void 0&&(R.push([j,re.get()]),re.set(j.startsWith("scale")?1:0))}),R.length&&c.render(),R}const zp={width:({x:c},{paddingLeft:R="0",paddingRight:j="0"})=>c.max-c.min-parseFloat(R)-parseFloat(j),height:({y:c},{paddingTop:R="0",paddingBottom:j="0"})=>c.max-c.min-parseFloat(R)-parseFloat(j),top:(c,{top:R})=>parseFloat(R),left:(c,{left:R})=>parseFloat(R),bottom:({y:c},{top:R})=>parseFloat(R)+(c.max-c.min),right:({x:c},{left:R})=>parseFloat(R)+(c.max-c.min),x:RS(4,13),y:RS(5,14)};zp.translateX=zp.x;zp.translateY=zp.y;const Uj=(c,R,j)=>{const re=R.measureViewportBox(),ge=R.current,Re=getComputedStyle(ge),{display:V}=Re,B={};V==="none"&&R.setStaticValue("display",c.display||"block"),j.forEach(p=>{B[p]=zp[p](re,Re)}),R.render();const e=R.measureViewportBox();return j.forEach(p=>{const L=R.getValue(p);L&&L.jump(B[p]),c[p]=zp[p](e,Re)}),c},Vj=(c,R,j={},re={})=>{R={...R},re={...re};const ge=Object.keys(R).filter(wC);let Re=[],V=!1;const B=[];if(ge.forEach(e=>{const p=c.getValue(e);if(!c.hasValue(e))return;let L=j[e],n=b0(L);const C=R[e];let T;if(n1(C)){const d=C.length,y=C[0]===null?1:0;L=C[y],n=b0(L);for(let r=y;r<d&&C[r]!==null;r++)T?G2(b0(C[r])===T):T=b0(C[r])}else T=b0(C);if(n!==T)if(LS(n)&&LS(T)){const d=p.get();typeof d=="string"&&p.set(parseFloat(d)),typeof C=="string"?R[e]=parseFloat(C):Array.isArray(C)&&T===$a&&(R[e]=C.map(parseFloat))}else n!=null&&n.transform&&(T!=null&&T.transform)&&(L===0||C===0)?L===0?p.set(T.transform(L)):R[e]=n.transform(C):(V||(Re=Nj(c),V=!0),B.push(e),re[e]=re[e]!==void 0?re[e]:R[e],p.jump(C))}),B.length){const e=B.indexOf("height")>=0?window.pageYOffset:null,p=Uj(R,c,B);return Re.length&&Re.forEach(([L,n])=>{c.getValue(L).set(n)}),c.render(),J1&&e!==null&&window.scrollTo({top:e}),{target:p,transitionEnd:re}}else return{target:R,transitionEnd:re}};function Hj(c,R,j,re){return Fj(R)?Vj(c,R,j,re):{target:R,transitionEnd:re}}const Gj=(c,R,j,re)=>{const ge=_j(c,R,re);return R=ge.target,re=ge.transitionEnd,Hj(c,R,j,re)},lw={current:null},TC={current:!1};function Wj(){if(TC.current=!0,!!J1)if(window.matchMedia){const c=window.matchMedia("(prefers-reduced-motion)"),R=()=>lw.current=c.matches;c.addListener(R),R()}else lw.current=!1}function jj(c,R,j){const{willChange:re}=R;for(const ge in R){const Re=R[ge],V=j[ge];if(Ol(Re))c.addValue(ge,Re),s1(re)&&re.add(ge);else if(Ol(V))c.addValue(ge,_p(Re,{owner:c})),s1(re)&&re.remove(ge);else if(V!==Re)if(c.hasValue(ge)){const B=c.getValue(ge);!B.hasAnimated&&B.set(Re)}else{const B=c.getStaticValue(ge);c.addValue(ge,_p(B!==void 0?B:Re,{owner:c}))}}for(const ge in j)R[ge]===void 0&&c.removeValue(ge);return R}const kS=new WeakMap,AC=Object.keys(Lg),Yj=AC.length,DS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Zj=_2.length;class Xj{constructor({parent:R,props:j,presenceContext:re,reducedMotionConfig:ge,visualState:Re},V={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Qi.render(this.render,!1,!0);const{latestValues:B,renderState:e}=Re;this.latestValues=B,this.baseTarget={...B},this.initialValues=j.initial?{...B}:{},this.renderState=e,this.parent=R,this.props=j,this.presenceContext=re,this.depth=R?R.depth+1:0,this.reducedMotionConfig=ge,this.options=V,this.isControllingVariants=q1(j),this.isVariantNode=sE(j),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(R&&R.current);const{willChange:p,...L}=this.scrapeMotionValuesFromProps(j,{});for(const n in L){const C=L[n];B[n]!==void 0&&Ol(C)&&(C.set(B[n],!1),s1(p)&&p.add(n))}}scrapeMotionValuesFromProps(R,j){return{}}mount(R){this.current=R,kS.set(R,this),this.projection&&!this.projection.instance&&this.projection.mount(R),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((j,re)=>this.bindToMotionValue(re,j)),TC.current||Wj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kS.delete(this.current),this.projection&&this.projection.unmount(),$c(this.notifyUpdate),$c(this.render),this.valueSubscriptions.forEach(R=>R()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const R in this.events)this.events[R].clear();for(const R in this.features)this.features[R].unmount();this.current=null}bindToMotionValue(R,j){const re=dd.has(R),ge=j.on("change",V=>{this.latestValues[R]=V,this.props.onUpdate&&Qi.update(this.notifyUpdate,!1,!0),re&&this.projection&&(this.projection.isTransformDirty=!0)}),Re=j.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(R,()=>{ge(),Re()})}sortNodePosition(R){return!this.current||!this.sortInstanceNodePosition||this.type!==R.type?0:this.sortInstanceNodePosition(this.current,R.current)}loadFeatures({children:R,...j},re,ge,Re){let V,B;for(let e=0;e<Yj;e++){const p=AC[e],{isEnabled:L,Feature:n,ProjectionNode:C,MeasureLayout:T}=Lg[p];C&&(V=C),L(j)&&(!this.features[p]&&n&&(this.features[p]=new n(this)),T&&(B=T))}if(!this.projection&&V){this.projection=new V(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:p,drag:L,dragConstraints:n,layoutScroll:C,layoutRoot:T}=j;this.projection.setOptions({layoutId:e,layout:p,alwaysMeasureLayout:!!L||n&&lp(n),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:Re,layoutScroll:C,layoutRoot:T})}return B}updateFeatures(){for(const R in this.features){const j=this.features[R];j.isMounted?j.update():(j.mount(),j.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ko()}getStaticValue(R){return this.latestValues[R]}setStaticValue(R,j){this.latestValues[R]=j}makeTargetAnimatable(R,j=!0){return this.makeTargetAnimatableFromInstance(R,this.props,j)}update(R,j){(R.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=R,this.prevPresenceContext=this.presenceContext,this.presenceContext=j;for(let re=0;re<DS.length;re++){const ge=DS[re];this.propEventSubscriptions[ge]&&(this.propEventSubscriptions[ge](),delete this.propEventSubscriptions[ge]);const Re=R["on"+ge];Re&&(this.propEventSubscriptions[ge]=this.on(ge,Re))}this.prevMotionValues=jj(this,this.scrapeMotionValuesFromProps(R,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(R){return this.props.variants?this.props.variants[R]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(R=!1){if(R)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const re=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(re.initial=this.props.initial),re}const j={};for(let re=0;re<Zj;re++){const ge=_2[re],Re=this.props[ge];(Cg(Re)||Re===!1)&&(j[ge]=Re)}return j}addVariantChild(R){const j=this.getClosestVariantNode();if(j)return j.variantChildren&&j.variantChildren.add(R),()=>j.variantChildren.delete(R)}addValue(R,j){j!==this.values.get(R)&&(this.removeValue(R),this.bindToMotionValue(R,j)),this.values.set(R,j),this.latestValues[R]=j.get()}removeValue(R){this.values.delete(R);const j=this.valueSubscriptions.get(R);j&&(j(),this.valueSubscriptions.delete(R)),delete this.latestValues[R],this.removeValueFromRenderState(R,this.renderState)}hasValue(R){return this.values.has(R)}getValue(R,j){if(this.props.values&&this.props.values[R])return this.props.values[R];let re=this.values.get(R);return re===void 0&&j!==void 0&&(re=_p(j,{owner:this}),this.addValue(R,re)),re}readValue(R){var j;return this.latestValues[R]!==void 0||!this.current?this.latestValues[R]:(j=this.getBaseTargetFromProps(this.props,R))!==null&&j!==void 0?j:this.readValueFromInstance(this.current,R,this.options)}setBaseTarget(R,j){this.baseTarget[R]=j}getBaseTarget(R){var j;const{initial:re}=this.props,ge=typeof re=="string"||typeof re=="object"?(j=H2(this.props,re))===null||j===void 0?void 0:j[R]:void 0;if(re&&ge!==void 0)return ge;const Re=this.getBaseTargetFromProps(this.props,R);return Re!==void 0&&!Ol(Re)?Re:this.initialValues[R]!==void 0&&ge===void 0?void 0:this.baseTarget[R]}on(R,j){return this.events[R]||(this.events[R]=new Q2),this.events[R].add(j)}notify(R,...j){this.events[R]&&this.events[R].notify(...j)}}class SC extends Xj{sortInstanceNodePosition(R,j){return R.compareDocumentPosition(j)&2?1:-1}getBaseTargetFromProps(R,j){return R.style?R.style[j]:void 0}removeValueFromRenderState(R,{vars:j,style:re}){delete j[R],delete re[R]}makeTargetAnimatableFromInstance({transition:R,transitionEnd:j,...re},{transformValues:ge},Re){let V=uW(re,R||{},this);if(ge&&(j&&(j=ge(j)),re&&(re=ge(re)),V&&(V=ge(V))),Re){sW(this,re,V);const B=Gj(this,re,V,j);j=B.transitionEnd,re=B.target}return{transition:R,transitionEnd:j,...re}}}function $j(c){return window.getComputedStyle(c)}class Kj extends SC{readValueFromInstance(R,j){if(dd.has(j)){const re=Z2(j);return re&&re.default||0}else{const re=$j(R),ge=(cE(j)?re.getPropertyValue(j):re[j])||0;return typeof ge=="string"?ge.trim():ge}}measureInstanceViewportBox(R,{transformPagePoint:j}){return cC(R,j)}build(R,j,re,ge){O2(R,j,re,ge.transformTemplate)}scrapeMotionValuesFromProps(R,j){return V2(R,j)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:R}=this.props;Ol(R)&&(this.childSubscription=R.on("change",j=>{this.current&&(this.current.textContent=`${j}`)}))}renderInstance(R,j,re,ge){yE(R,j,re,ge)}}class Jj extends SC{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(R,j){return R[j]}readValueFromInstance(R,j){if(dd.has(j)){const re=Z2(j);return re&&re.default||0}return j=mE.has(j)?j:D2(j),R.getAttribute(j)}measureInstanceViewportBox(){return Ko()}scrapeMotionValuesFromProps(R,j){return bE(R,j)}build(R,j,re,ge){N2(R,j,re,this.isSVGTag,ge.transformTemplate)}renderInstance(R,j,re,ge){xE(R,j,re,ge)}mount(R){this.isSVGTag=U2(R.tagName),super.mount(R)}}const Qj=(c,R)=>F2(c)?new Jj(R,{enableHardwareAcceleration:!1}):new Kj(R,{enableHardwareAcceleration:!0}),qj={layout:{ProjectionNode:bC,MeasureLayout:vC}},eY={...SW,...jH,...kj,...qj},tY=eH((c,R)=>DH(c,R,eY,Qj));function MC(){const c=gn.useRef(!1);return k2(()=>(c.current=!0,()=>{c.current=!1}),[]),c}function rY(){const c=MC(),[R,j]=gn.useState(0),re=gn.useCallback(()=>{c.current&&j(R+1)},[R]);return[gn.useCallback(()=>Qi.postRender(re),[re]),R]}class nY extends gn.Component{getSnapshotBeforeUpdate(R){const j=this.props.childRef.current;if(j&&R.isPresent&&!this.props.isPresent){const re=this.props.sizeRef.current;re.height=j.offsetHeight||0,re.width=j.offsetWidth||0,re.top=j.offsetTop,re.left=j.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aY({children:c,isPresent:R}){const j=gn.useId(),re=gn.useRef(null),ge=gn.useRef({width:0,height:0,top:0,left:0});return gn.useInsertionEffect(()=>{const{width:Re,height:V,top:B,left:e}=ge.current;if(R||!re.current||!Re||!V)return;re.current.dataset.motionPopId=j;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${j}"] {
            position: absolute !important;
            width: ${Re}px !important;
            height: ${V}px !important;
            top: ${B}px !important;
            left: ${e}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[R]),gn.createElement(nY,{isPresent:R,childRef:re,sizeRef:ge},gn.cloneElement(c,{ref:re}))}const Nb=({children:c,initial:R,isPresent:j,onExitComplete:re,custom:ge,presenceAffectsLayout:Re,mode:V})=>{const B=wE(iY),e=gn.useId(),p=gn.useMemo(()=>({id:e,initial:R,isPresent:j,custom:ge,onExitComplete:L=>{B.set(L,!0);for(const n of B.values())if(!n)return;re&&re()},register:L=>(B.set(L,!1),()=>B.delete(L))}),Re?void 0:[j]);return gn.useMemo(()=>{B.forEach((L,n)=>B.set(n,!1))},[j]),gn.useEffect(()=>{!j&&!B.size&&re&&re()},[j]),V==="popLayout"&&(c=gn.createElement(aY,{isPresent:j},c)),gn.createElement(Og.Provider,{value:p},c)};function iY(){return new Map}function oY(c){return gn.useEffect(()=>()=>c(),[])}const Zv=c=>c.key||"";function sY(c,R){c.forEach(j=>{const re=Zv(j);R.set(re,j)})}function lY(c){const R=[];return gn.Children.forEach(c,j=>{gn.isValidElement(j)&&R.push(j)}),R}const uY=({children:c,custom:R,initial:j=!0,onExitComplete:re,exitBeforeEnter:ge,presenceAffectsLayout:Re=!0,mode:V="sync"})=>{const B=gn.useContext(z2).forceRender||rY()[0],e=MC(),p=lY(c);let L=p;const n=gn.useRef(new Map).current,C=gn.useRef(L),T=gn.useRef(new Map).current,d=gn.useRef(!0);if(k2(()=>{d.current=!1,sY(p,T),C.current=L}),oY(()=>{d.current=!0,T.clear(),n.clear()}),d.current)return gn.createElement(gn.Fragment,null,L.map(i=>gn.createElement(Nb,{key:Zv(i),isPresent:!0,initial:j?void 0:!1,presenceAffectsLayout:Re,mode:V},i)));L=[...L];const y=C.current.map(Zv),r=p.map(Zv),t=y.length;for(let i=0;i<t;i++){const a=y[i];r.indexOf(a)===-1&&!n.has(a)&&n.set(a,void 0)}return V==="wait"&&n.size&&(L=[]),n.forEach((i,a)=>{if(r.indexOf(a)!==-1)return;const h=T.get(a);if(!h)return;const u=y.indexOf(a);let s=i;if(!s){const m=()=>{n.delete(a);const f=Array.from(T.keys()).filter(S=>!r.includes(S));if(f.forEach(S=>T.delete(S)),C.current=p.filter(S=>{const v=Zv(S);return v===a||f.includes(v)}),!n.size){if(e.current===!1)return;B(),re&&re()}};s=gn.createElement(Nb,{key:Zv(h),isPresent:!1,onExitComplete:m,custom:R,presenceAffectsLayout:Re,mode:V},h),n.set(a,s)}L.splice(u,0,s)}),L=L.map(i=>{const a=i.key;return n.has(a)?i:gn.createElement(Nb,{key:Zv(i),isPresent:!0,presenceAffectsLayout:Re,mode:V},i)}),gn.createElement(gn.Fragment,null,n.size?L:L.map(i=>gn.cloneElement(i)))};var fY={initial:c=>{const{position:R}=c,j=["top","bottom"].includes(R)?"y":"x";let re=["top-right","bottom-right"].includes(R)?1:-1;return R==="bottom"&&(re=1),{opacity:0,[j]:re*24}},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},EC=gn.memo(c=>{const{id:R,message:j,onCloseComplete:re,onRequestRemove:ge,requestClose:Re=!1,position:V="bottom",duration:B=5e3,containerStyle:e,motionVariants:p=fY,toastSpacing:L="0.5rem"}=c,[n,C]=gn.useState(B),T=ZW();L4(()=>{T||re==null||re()},[T]),L4(()=>{C(B)},[B]);const d=()=>C(null),y=()=>C(B),r=()=>{T&&ge()};gn.useEffect(()=>{T&&Re&&ge()},[T,Re,ge]),WV(r,n);const t=gn.useMemo(()=>({pointerEvents:"auto",maxWidth:560,minWidth:300,margin:L,...e}),[e,L]),i=gn.useMemo(()=>VV(V),[V]);return Gn.jsx(tY.div,{layout:!0,className:"chakra-toast",variants:p,initial:"initial",animate:"animate",exit:"exit",onHoverStart:d,onHoverEnd:y,custom:{position:V},style:i,children:Gn.jsx(Fi.div,{role:"status","aria-atomic":"true",className:"chakra-toast__inner",__css:t,children:Xh(j,{id:R,onClose:r})})})});EC.displayName="ToastComponent";var IS={path:Gn.jsxs("g",{stroke:"currentColor",strokeWidth:"1.5",children:[Gn.jsx("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),Gn.jsx("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),Gn.jsx("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})]}),viewBox:"0 0 24 24"},Hg=Po((c,R)=>{const{as:j,viewBox:re,color:ge="currentColor",focusable:Re=!1,children:V,className:B,__css:e,...p}=c,L=ps("chakra-icon",B),n=vd("Icon",c),C={w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:ge,...e,...n},T={ref:R,focusable:Re,className:L,__css:C},d=re??IS.viewBox;if(j&&typeof j!="string")return Gn.jsx(Fi.svg,{as:j,...T,...p});const y=V??IS.path;return Gn.jsx(Fi.svg,{verticalAlign:"middle",viewBox:d,...T,...p,children:y})});Hg.displayName="Icon";function cY(c){return Gn.jsx(Hg,{viewBox:"0 0 24 24",...c,children:Gn.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"})})}function hY(c){return Gn.jsx(Hg,{viewBox:"0 0 24 24",...c,children:Gn.jsx("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"})})}function _S(c){return Gn.jsx(Hg,{viewBox:"0 0 24 24",...c,children:Gn.jsx("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})}var vY=nI({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),nx=Po((c,R)=>{const j=vd("Spinner",c),{label:re="Loading...",thickness:ge="2px",speed:Re="0.45s",emptyColor:V="transparent",className:B,...e}=ac(c),p=ps("chakra-spinner",B),L={display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:ge,borderBottomColor:V,borderLeftColor:V,animation:`${vY} ${Re} linear infinite`,...j};return Gn.jsx(Fi.div,{ref:R,__css:L,className:p,...e,children:re&&Gn.jsx(Fi.span,{srOnly:!0,children:re})})});nx.displayName="Spinner";var[dY,q2]=vv({name:"AlertContext",hookName:"useAlertContext",providerName:"<Alert />"}),[pY,e5]=vv({name:"AlertStylesContext",hookName:"useAlertStyles",providerName:"<Alert />"}),CC={info:{icon:hY,colorScheme:"blue"},warning:{icon:_S,colorScheme:"orange"},success:{icon:cY,colorScheme:"green"},error:{icon:_S,colorScheme:"red"},loading:{icon:nx,colorScheme:"blue"}};function gY(c){return CC[c].colorScheme}function yY(c){return CC[c].icon}var LC=Po(function(R,j){const re=e5(),{status:ge}=q2(),Re={display:"inline",...re.description};return Gn.jsx(Fi.div,{ref:j,"data-status":ge,...R,className:ps("chakra-alert__desc",R.className),__css:Re})});LC.displayName="AlertDescription";function PC(c){const{status:R}=q2(),j=yY(R),re=e5(),ge=R==="loading"?re.spinner:re.icon;return Gn.jsx(Fi.span,{display:"inherit","data-status":R,...c,className:ps("chakra-alert__icon",c.className),__css:ge,children:c.children||Gn.jsx(j,{h:"100%",w:"100%"})})}PC.displayName="AlertIcon";var RC=Po(function(R,j){const re=e5(),{status:ge}=q2();return Gn.jsx(Fi.div,{ref:j,"data-status":ge,...R,className:ps("chakra-alert__title",R.className),__css:re.title})});RC.displayName="AlertTitle";var kC=Po(function(R,j){var re;const{status:ge="info",addRole:Re=!0,...V}=ac(R),B=(re=R.colorScheme)!=null?re:gY(ge),e=$1("Alert",{...R,colorScheme:B}),p={width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden",...e.container};return Gn.jsx(dY,{value:{status:ge},children:Gn.jsx(pY,{value:e,children:Gn.jsx(Fi.div,{"data-status":ge,role:Re?"alert":void 0,ref:j,...V,className:ps("chakra-alert",R.className),__css:p})})})});kC.displayName="Alert";function mY(c){return Gn.jsx(Hg,{focusable:"false","aria-hidden":!0,...c,children:Gn.jsx("path",{fill:"currentColor",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"})})}var DC=Po(function(R,j){const re=vd("CloseButton",R),{children:ge,isDisabled:Re,__css:V,...B}=ac(R),e={outline:0,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0};return Gn.jsx(Fi.button,{type:"button","aria-label":"Close",ref:j,disabled:Re,__css:{...e,...re,...V},...B,children:ge||Gn.jsx(mY,{width:"1em",height:"1em"})})});DC.displayName="CloseButton";var xY={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},q0=bY(xY);function bY(c){let R=c;const j=new Set,re=ge=>{R=ge(R),j.forEach(Re=>Re())};return{getState:()=>R,subscribe:ge=>(j.add(ge),()=>{re(()=>c),j.delete(ge)}),removeToast:(ge,Re)=>{re(V=>({...V,[Re]:V[Re].filter(B=>B.id!=ge)}))},notify:(ge,Re)=>{const V=wY(ge,Re),{position:B,id:e}=V;return re(p=>{var L,n;const T=B.includes("top")?[V,...(L=p[B])!=null?L:[]]:[...(n=p[B])!=null?n:[],V];return{...p,[B]:T}}),e},update:(ge,Re)=>{ge&&re(V=>{const B={...V},{position:e,index:p}=C4(B,ge);return e&&p!==-1&&(B[e][p]={...B[e][p],...Re,message:AY(Re)}),B})},closeAll:({positions:ge}={})=>{re(Re=>(ge??["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((e,p)=>(e[p]=Re[p].map(L=>({...L,requestClose:!0})),e),{...Re}))},close:ge=>{re(Re=>{const V=nE(Re,ge);return V?{...Re,[V]:Re[V].map(B=>B.id==ge?{...B,requestClose:!0}:B)}:Re})},isActive:ge=>!!C4(q0.getState(),ge).position}}var zS=0;function wY(c,R={}){var j,re;zS+=1;const ge=(j=R.id)!=null?j:zS,Re=(re=R.position)!=null?re:"bottom";return{id:ge,message:c,position:Re,duration:R.duration,onCloseComplete:R.onCloseComplete,onRequestRemove:()=>q0.removeToast(String(ge),Re),status:R.status,requestClose:!1,containerStyle:R.containerStyle}}var TY=c=>{const{status:R,variant:j="solid",id:re,title:ge,isClosable:Re,onClose:V,description:B,colorScheme:e,icon:p}=c,L=re?{root:`toast-${re}`,title:`toast-${re}-title`,description:`toast-${re}-description`}:void 0;return Gn.jsxs(kC,{addRole:!1,status:R,variant:j,id:L==null?void 0:L.root,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto",colorScheme:e,children:[Gn.jsx(PC,{children:p}),Gn.jsxs(Fi.div,{flex:"1",maxWidth:"100%",children:[ge&&Gn.jsx(RC,{id:L==null?void 0:L.title,children:ge}),B&&Gn.jsx(LC,{id:L==null?void 0:L.description,display:"block",children:B})]}),Re&&Gn.jsx(DC,{size:"sm",onClick:V,position:"absolute",insetEnd:1,top:1})]})};function AY(c={}){const{render:R,toastComponent:j=TY}=c;return ge=>typeof R=="function"?R({...ge,...c}):Gn.jsx(j,{...ge,...c})}var[SY,uZ]=vv({name:"ToastOptionsContext",strict:!1}),MY=c=>{const R=gn.useSyncExternalStore(q0.subscribe,q0.getState,q0.getState),{motionVariants:j,component:re=EC,portalProps:ge}=c,V=Object.keys(R).map(B=>{const e=R[B];return Gn.jsx("div",{role:"region","aria-live":"polite","aria-label":`Notifications-${B}`,id:`chakra-toast-manager-${B}`,style:HV(B),children:Gn.jsx(uY,{initial:!1,children:e.map(p=>Gn.jsx(re,{motionVariants:j,...p},p.id))})},B)});return Gn.jsx(W1,{...ge,children:V})},EY=c=>function({children:j,theme:re=c,toastOptions:ge,...Re}){return Gn.jsxs(NV,{theme:re,...Re,children:[Gn.jsx(SY,{value:ge==null?void 0:ge.defaultOptions,children:j}),Gn.jsx(MY,{...ge})]})},CY=EY(X8);function LY(c,R){if(c!=null){if(typeof c=="function"){c(R);return}try{c.current=R}catch{throw new Error(`Cannot assign value '${R}' to ref '${c}'`)}}}function uw(...c){return R=>{c.forEach(j=>{LY(j,R)})}}function PY(...c){return gn.useMemo(()=>uw(...c),c)}var fw=Po(function(R,j){const{htmlWidth:re,htmlHeight:ge,alt:Re,...V}=R;return Gn.jsx("img",{width:re,height:ge,ref:j,alt:Re,...V})});fw.displayName="NativeImage";function RY(c){const{loading:R,src:j,srcSet:re,onLoad:ge,onError:Re,crossOrigin:V,sizes:B,ignoreFallback:e}=c,[p,L]=gn.useState("pending");gn.useEffect(()=>{L(j?"loading":"pending")},[j]);const n=gn.useRef(),C=gn.useCallback(()=>{if(!j)return;T();const d=new Image;d.src=j,V&&(d.crossOrigin=V),re&&(d.srcset=re),B&&(d.sizes=B),R&&(d.loading=R),d.onload=y=>{T(),L("loaded"),ge==null||ge(y)},d.onerror=y=>{T(),L("failed"),Re==null||Re(y)},n.current=d},[j,V,re,B,ge,Re,R]),T=()=>{n.current&&(n.current.onload=null,n.current.onerror=null,n.current=null)};return Tg(()=>{if(!e)return p==="loading"&&C(),()=>{T()}},[p,C,e]),e?"loaded":p}var kY=(c,R)=>c!=="loaded"&&R==="beforeLoadOrError"||c==="failed"&&R==="onError";function DY(c,R=[]){const j=Object.assign({},c);for(const re of R)re in j&&delete j[re];return j}var IC=Po(function(R,j){const{fallbackSrc:re,fallback:ge,src:Re,srcSet:V,align:B,fit:e,loading:p,ignoreFallback:L,crossOrigin:n,fallbackStrategy:C="beforeLoadOrError",referrerPolicy:T,...d}=R,y=re!==void 0||ge!==void 0,r=p!=null||L||!y,t=RY({...R,crossOrigin:n,ignoreFallback:r}),i=kY(t,C),a={ref:j,objectFit:e,objectPosition:B,...r?d:DY(d,["onError","onLoad"])};return i?ge||Gn.jsx(Fi.img,{as:fw,className:"chakra-image__placeholder",src:re,...a}):Gn.jsx(Fi.img,{as:fw,src:Re,srcSet:V,crossOrigin:n,loading:p,referrerPolicy:T,className:"chakra-image",...a})});IC.displayName="Image";function IY(c){return gn.Children.toArray(c).filter(R=>gn.isValidElement(R))}var[fZ,_Y]=vv({strict:!1,name:"ButtonGroupContext"});function zY(c){const[R,j]=gn.useState(!c);return{ref:gn.useCallback(Re=>{Re&&j(Re.tagName==="BUTTON")},[]),type:R?"button":void 0}}function cw(c){const{children:R,className:j,...re}=c,ge=gn.isValidElement(R)?gn.cloneElement(R,{"aria-hidden":!0,focusable:!1}):R,Re=ps("chakra-button__icon",j);return Gn.jsx(Fi.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...re,className:Re,children:ge})}cw.displayName="ButtonIcon";function hw(c){const{label:R,placement:j,spacing:re="0.5rem",children:ge=Gn.jsx(nx,{color:"currentColor",width:"1em",height:"1em"}),className:Re,__css:V,...B}=c,e=ps("chakra-button__spinner",Re),p=j==="start"?"marginEnd":"marginStart",L=gn.useMemo(()=>({display:"flex",alignItems:"center",position:R?"relative":"absolute",[p]:R?re:0,fontSize:"1em",lineHeight:"normal",...V}),[V,R,p,re]);return Gn.jsx(Fi.div,{className:e,...B,__css:L,children:ge})}hw.displayName="ButtonSpinner";var _C=Po((c,R)=>{const j=_Y(),re=vd("Button",{...j,...c}),{isDisabled:ge=j==null?void 0:j.isDisabled,isLoading:Re,isActive:V,children:B,leftIcon:e,rightIcon:p,loadingText:L,iconSpacing:n="0.5rem",type:C,spinner:T,spinnerPlacement:d="start",className:y,as:r,...t}=ac(c),i=gn.useMemo(()=>{const s={...re==null?void 0:re._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...re,...!!j&&{_focus:s}}},[re,j]),{ref:a,type:h}=zY(r),u={rightIcon:p,leftIcon:e,iconSpacing:n,children:B};return Gn.jsxs(Fi.button,{ref:PY(R,a),as:r,type:C??h,"data-active":mf(V),"data-loading":mf(Re),__css:i,className:ps("chakra-button",y),...t,disabled:ge||Re,children:[Re&&d==="start"&&Gn.jsx(hw,{className:"chakra-button__spinner--start",label:L,placement:"start",spacing:n,children:T}),Re?L||Gn.jsx(Fi.span,{opacity:0,children:Gn.jsx(FS,{...u})}):Gn.jsx(FS,{...u}),Re&&d==="end"&&Gn.jsx(hw,{className:"chakra-button__spinner--end",label:L,placement:"end",spacing:n,children:T})]})});_C.displayName="Button";function FS(c){const{leftIcon:R,rightIcon:j,children:re,iconSpacing:ge}=c;return Gn.jsxs(Gn.Fragment,{children:[R&&Gn.jsx(cw,{marginEnd:ge,children:R}),re,j&&Gn.jsx(cw,{marginStart:ge,children:j})]})}var[FY,zC]=vv({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[OY,ax]=vv({strict:!1,name:"FormControlContext"});function BY(c){const{id:R,isRequired:j,isInvalid:re,isDisabled:ge,isReadOnly:Re,...V}=c,B=gn.useId(),e=R||`field-${B}`,p=`${e}-label`,L=`${e}-feedback`,n=`${e}-helptext`,[C,T]=gn.useState(!1),[d,y]=gn.useState(!1),[r,t]=gn.useState(!1),i=gn.useCallback((m={},f=null)=>({id:n,...m,ref:uw(f,S=>{S&&y(!0)})}),[n]),a=gn.useCallback((m={},f=null)=>({...m,ref:f,"data-focus":mf(r),"data-disabled":mf(ge),"data-invalid":mf(re),"data-readonly":mf(Re),id:m.id!==void 0?m.id:p,htmlFor:m.htmlFor!==void 0?m.htmlFor:e}),[e,ge,r,re,Re,p]),h=gn.useCallback((m={},f=null)=>({id:L,...m,ref:uw(f,S=>{S&&T(!0)}),"aria-live":"polite"}),[L]),u=gn.useCallback((m={},f=null)=>({...m,...V,ref:f,role:"group","data-focus":mf(r),"data-disabled":mf(ge),"data-invalid":mf(re),"data-readonly":mf(Re)}),[V,ge,r,re,Re]),s=gn.useCallback((m={},f=null)=>({...m,ref:f,role:"presentation","aria-hidden":!0,children:m.children||"*"}),[]);return{isRequired:!!j,isInvalid:!!re,isReadOnly:!!Re,isDisabled:!!ge,isFocused:!!r,onFocus:()=>t(!0),onBlur:()=>t(!1),hasFeedbackText:C,setHasFeedbackText:T,hasHelpText:d,setHasHelpText:y,id:e,labelId:p,feedbackId:L,helpTextId:n,htmlProps:V,getHelpTextProps:i,getErrorMessageProps:h,getRootProps:u,getLabelProps:a,getRequiredIndicatorProps:s}}var FC=Po(function(R,j){const re=$1("Form",R),ge=ac(R),{getRootProps:Re,htmlProps:V,...B}=BY(ge),e=ps("chakra-form-control",R.className);return Gn.jsx(OY,{value:B,children:Gn.jsx(FY,{value:re,children:Gn.jsx(Fi.div,{...Re({},j),className:e,__css:re.container})})})});FC.displayName="FormControl";var NY=Po(function(R,j){const re=ax(),ge=zC(),Re=ps("chakra-form__helper-text",R.className);return Gn.jsx(Fi.div,{...re==null?void 0:re.getHelpTextProps(R,j),__css:ge.helperText,className:Re})});NY.displayName="FormHelperText";var I0=Po(function(R,j){var re;const ge=vd("FormLabel",R),Re=ac(R),{className:V,children:B,requiredIndicator:e=Gn.jsx(OC,{}),optionalIndicator:p=null,...L}=Re,n=ax(),C=(re=n==null?void 0:n.getLabelProps(L,j))!=null?re:{ref:j,...L};return Gn.jsxs(Fi.label,{...C,className:ps("chakra-form__label",Re.className),__css:{display:"block",textAlign:"start",...ge},children:[B,n!=null&&n.isRequired?e:p]})});I0.displayName="FormLabel";var OC=Po(function(R,j){const re=ax(),ge=zC();if(!(re!=null&&re.isRequired))return null;const Re=ps("chakra-form__required-indicator",R.className);return Gn.jsx(Fi.span,{...re==null?void 0:re.getRequiredIndicatorProps(R,j),__css:ge.requiredIndicator,className:Re})});OC.displayName="RequiredIndicator";function BC(c){const{isDisabled:R,isInvalid:j,isReadOnly:re,isRequired:ge,...Re}=UY(c);return{...Re,disabled:R,readOnly:re,required:ge,"aria-invalid":lb(j),"aria-required":lb(ge),"aria-readonly":lb(re)}}function UY(c){var R,j,re;const ge=ax(),{id:Re,disabled:V,readOnly:B,required:e,isRequired:p,isInvalid:L,isReadOnly:n,isDisabled:C,onFocus:T,onBlur:d,...y}=c,r=c["aria-describedby"]?[c["aria-describedby"]]:[];return ge!=null&&ge.hasFeedbackText&&(ge!=null&&ge.isInvalid)&&r.push(ge.feedbackId),ge!=null&&ge.hasHelpText&&r.push(ge.helpTextId),{...y,"aria-describedby":r.join(" ")||void 0,id:Re??(ge==null?void 0:ge.id),isDisabled:(R=V??C)!=null?R:ge==null?void 0:ge.isDisabled,isReadOnly:(j=B??n)!=null?j:ge==null?void 0:ge.isReadOnly,isRequired:(re=e??p)!=null?re:ge==null?void 0:ge.isRequired,isInvalid:L??(ge==null?void 0:ge.isInvalid),onFocus:zA(ge==null?void 0:ge.onFocus,T),onBlur:zA(ge==null?void 0:ge.onBlur,d)}}var NC={exports:{}},VY="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HY=VY,GY=HY;function UC(){}function VC(){}VC.resetWarningCache=UC;var WY=function(){function c(re,ge,Re,V,B,e){if(e!==GY){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}c.isRequired=c;function R(){return c}var j={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:R,element:c,elementType:c,instanceOf:R,node:c,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:VC,resetWarningCache:UC};return j.PropTypes=j,j};NC.exports=WY();var jY=NC.exports,u1=Po(function(R,j){const{htmlSize:re,...ge}=R,Re=$1("Input",ge),V=ac(ge),B=BC(V),e=ps("chakra-input",R.className);return Gn.jsx(Fi.input,{size:re,...B,__css:Re.field,ref:j,className:e})});u1.displayName="Input";u1.id="Input";function YY(c,R){return Array.isArray(c)?c.map(j=>j===null?null:R(j)):Nu(c)?Object.keys(c).reduce((j,re)=>(j[re]=R(c[re]),j),{}):c!=null?R(c):null}var HC=Po(function(R,j){const re=vd("Text",R),{className:ge,align:Re,decoration:V,casing:B,...e}=ac(R),p=SV({textAlign:R.align,textDecoration:R.decoration,textTransform:R.casing});return Gn.jsx(Fi.p,{ref:j,className:ps("chakra-text",R.className),...p,...e,__css:re})});HC.displayName="Text";var GC=c=>Gn.jsx(Fi.div,{className:"chakra-stack__item",...c,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...c.__css}});GC.displayName="StackItem";function ZY(c){const{spacing:R,direction:j}=c,re={column:{my:R,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:R,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:R,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:R,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":YY(j,ge=>re[ge])}}var WC=Po((c,R)=>{const{isInline:j,direction:re,align:ge,justify:Re,spacing:V="0.5rem",wrap:B,children:e,divider:p,className:L,shouldWrapChildren:n,...C}=c,T=j?"row":re??"column",d=gn.useMemo(()=>ZY({spacing:V,direction:T}),[V,T]),y=!!p,r=!n&&!y,t=gn.useMemo(()=>{const a=IY(e);return r?a:a.map((h,u)=>{const s=typeof h.key<"u"?h.key:u,m=u+1===a.length,S=n?Gn.jsx(GC,{children:h},s):h;if(!y)return S;const v=gn.cloneElement(p,{__css:d}),l=m?null:v;return Gn.jsxs(gn.Fragment,{children:[S,l]},s)})},[p,d,y,r,n,e]),i=ps("chakra-stack",L);return Gn.jsx(Fi.div,{ref:R,display:"flex",alignItems:ge,justifyContent:Re,flexDirection:T,flexWrap:B,gap:y?void 0:V,className:i,...C,children:t})});WC.displayName="Stack";var vw=Po((c,R)=>Gn.jsx(WC,{align:"center",...c,direction:"column",ref:R}));vw.displayName="VStack";var wm=Po(function(R,j){const re=vd("Heading",R),{className:ge,...Re}=ac(R);return Gn.jsx(Fi.h2,{ref:j,className:ps("chakra-heading",R.className),...Re,__css:re})});wm.displayName="Heading";var eg=Fi("div");eg.displayName="Box";var jC=Po(function(R,j){const{size:re,centerContent:ge=!0,...Re}=R,V=ge?{display:"flex",alignItems:"center",justifyContent:"center"}:{};return Gn.jsx(eg,{ref:j,boxSize:re,__css:{...V,flexShrink:0,flexGrow:0},...Re})});jC.displayName="Square";var XY=Po(function(R,j){const{size:re,...ge}=R;return Gn.jsx(jC,{size:re,ref:j,borderRadius:"9999px",...ge})});XY.displayName="Circle";var dw=Po(function(R,j){const{direction:re,align:ge,justify:Re,wrap:V,basis:B,grow:e,shrink:p,...L}=R,n={display:"flex",flexDirection:re,alignItems:ge,justifyContent:Re,flexWrap:V,flexBasis:B,flexGrow:e,flexShrink:p};return Gn.jsx(Fi.div,{ref:j,__css:n,...L})});dw.displayName="Flex";var YC=Po(function(R,j){const{children:re,placeholder:ge,className:Re,...V}=R;return Gn.jsxs(Fi.select,{...V,ref:j,className:ps("chakra-select",Re),children:[ge&&Gn.jsx("option",{value:"",children:ge}),re]})});YC.displayName="SelectField";function $Y(c,R){const j={},re={};for(const[ge,Re]of Object.entries(c))R.includes(ge)?j[ge]=Re:re[ge]=Re;return[j,re]}var pw=Po((c,R)=>{var j;const re=$1("Select",c),{rootProps:ge,placeholder:Re,icon:V,color:B,height:e,h:p,minH:L,minHeight:n,iconColor:C,iconSize:T,...d}=ac(c),[y,r]=$Y(d,S_),t=BC(r),i={width:"100%",height:"fit-content",position:"relative",color:B},a={paddingEnd:"2rem",...re.field,_focus:{zIndex:"unset",...(j=re.field)==null?void 0:j._focus}};return Gn.jsxs(Fi.div,{className:"chakra-select__wrapper",__css:i,...y,...ge,children:[Gn.jsx(YC,{ref:R,height:p??e,minH:L??n,placeholder:Re,...t,__css:a,children:c.children}),Gn.jsx(ZC,{"data-disabled":mf(t.disabled),...(C||B)&&{color:C||B},__css:re.icon,...T&&{fontSize:T},children:V})]})});pw.displayName="Select";var KY=c=>Gn.jsx("svg",{viewBox:"0 0 24 24",...c,children:Gn.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),JY=Fi("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),ZC=c=>{const{children:R=Gn.jsx(KY,{}),...j}=c,re=gn.cloneElement(R,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return Gn.jsx(JY,{...j,className:"chakra-select__icon-wrapper",children:gn.isValidElement(R)?re:null})};ZC.displayName="SelectIcon";var XC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OS=ul.createContext&&ul.createContext(XC),iv=function(){return iv=Object.assign||function(c){for(var R,j=1,re=arguments.length;j<re;j++){R=arguments[j];for(var ge in R)Object.prototype.hasOwnProperty.call(R,ge)&&(c[ge]=R[ge])}return c},iv.apply(this,arguments)},QY=function(c,R){var j={};for(var re in c)Object.prototype.hasOwnProperty.call(c,re)&&R.indexOf(re)<0&&(j[re]=c[re]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ge=0,re=Object.getOwnPropertySymbols(c);ge<re.length;ge++)R.indexOf(re[ge])<0&&Object.prototype.propertyIsEnumerable.call(c,re[ge])&&(j[re[ge]]=c[re[ge]]);return j};function $C(c){return c&&c.map(function(R,j){return ul.createElement(R.tag,iv({key:j},R.attr),$C(R.child))})}function qY(c){return function(R){return ul.createElement(eZ,iv({attr:iv({},c.attr)},R),$C(c.child))}}function eZ(c){var R=function(j){var re=c.attr,ge=c.size,Re=c.title,V=QY(c,["attr","size","title"]),B=ge||j.size||"1em",e;return j.className&&(e=j.className),c.className&&(e=(e?e+" ":"")+c.className),ul.createElement("svg",iv({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},j.attr,re,V,{className:e,style:iv(iv({color:c.color||j.color},j.style),c.style),height:B,width:B,xmlns:"http://www.w3.org/2000/svg"}),Re&&ul.createElement("title",null,Re),c.children)};return OS!==void 0?ul.createElement(OS.Consumer,null,function(j){return R(j)}):R(XC)}function tZ(c){return qY({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(c)}var KC={},JC={};(function(c){function R(u){"@babel/helpers - typeof";return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},R(u)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=h;var j=V(gn),re=ge(jY);function ge(u){return u&&u.__esModule?u:{default:u}}function Re(u){if(typeof WeakMap!="function")return null;var s=new WeakMap,m=new WeakMap;return(Re=function(S){return S?m:s})(u)}function V(u,s){if(!s&&u&&u.__esModule)return u;if(u===null||R(u)!=="object"&&typeof u!="function")return{default:u};var m=Re(s);if(m&&m.has(u))return m.get(u);var f={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in u)if(v!=="default"&&Object.prototype.hasOwnProperty.call(u,v)){var l=S?Object.getOwnPropertyDescriptor(u,v):null;l&&(l.get||l.set)?Object.defineProperty(f,v,l):f[v]=u[v]}return f.default=u,m&&m.set(u,f),f}function B(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function e(u,s){for(var m=0;m<s.length;m++){var f=s[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function p(u,s,m){return s&&e(u.prototype,s),m&&e(u,m),Object.defineProperty(u,"prototype",{writable:!1}),u}function L(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),s&&n(u,s)}function n(u,s){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,S){return f.__proto__=S,f},n(u,s)}function C(u){var s=y();return function(){var f=r(u),S;if(s){var v=r(this).constructor;S=Reflect.construct(f,arguments,v)}else S=f.apply(this,arguments);return T(this,S)}}function T(u,s){if(s&&(R(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(u)}function d(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function r(u){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},r(u)}var t=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],i=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],a=typeof window<"u";function h(u){var s=function(m){L(S,m);var f=C(S);function S(v){var l;return B(this,S),l=f.call(this,v),l.p=Promise.resolve(),l.resizeHandler=null,l.handlers={},l.syncWindowResize=l.syncWindowResize.bind(d(l)),l.syncEventHandlers=l.syncEventHandlers.bind(d(l)),l.attachUpdateEvents=l.attachUpdateEvents.bind(d(l)),l.getRef=l.getRef.bind(d(l)),l.handleUpdate=l.handleUpdate.bind(d(l)),l.figureCallback=l.figureCallback.bind(d(l)),l.updatePlotly=l.updatePlotly.bind(d(l)),l}return p(S,[{key:"updatePlotly",value:function(l,g,M){var A=this;this.p=this.p.then(function(){if(!A.unmounting){if(!A.el)throw new Error("Missing element reference");return u.react(A.el,{data:A.props.data,layout:A.props.layout,config:A.props.config,frames:A.props.frames})}}).then(function(){A.unmounting||(A.syncWindowResize(l),A.syncEventHandlers(),A.figureCallback(g),M&&A.attachUpdateEvents())}).catch(function(k){A.props.onError&&A.props.onError(k)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(l){this.unmounting=!1;var g=l.frames&&l.frames.length?l.frames.length:0,M=this.props.frames&&this.props.frames.length?this.props.frames.length:0,A=!(l.layout===this.props.layout&&l.data===this.props.data&&l.config===this.props.config&&M===g),k=l.revision!==void 0,w=l.revision!==this.props.revision;!A&&(!k||k&&!w)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&a&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),u.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||i.forEach(function(g){l.el.on(g,l.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||i.forEach(function(g){l.el.removeListener(g,l.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(l){if(typeof l=="function"){var g=this.el,M=g.data,A=g.layout,k=this.el._transitionData?this.el._transitionData._frames:null,w={data:M,layout:A,frames:k};l(w,this.el)}}},{key:"syncWindowResize",value:function(l){var g=this;a&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return u.Plots.resize(g.el)},window.addEventListener("resize",this.resizeHandler),l&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(l){this.el=l,this.props.debug&&a&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var l=this;t.forEach(function(g){var M=l.props["on"+g],A=l.handlers[g],k=!!A;M&&!k?l.addEventHandler(g,M):!M&&k?l.removeEventHandler(g):M&&k&&M!==A&&(l.removeEventHandler(g),l.addEventHandler(g,M))})}},{key:"addEventHandler",value:function(l,g){this.handlers[l]=g,this.el.on(this.getPlotlyEventName(l),this.handlers[l])}},{key:"removeEventHandler",value:function(l){this.el.removeListener(this.getPlotlyEventName(l),this.handlers[l]),delete this.handlers[l]}},{key:"getPlotlyEventName",value:function(l){return"plotly_"+l.toLowerCase()}},{key:"render",value:function(){return j.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),S}(j.Component);return s.propTypes={data:re.default.arrayOf(re.default.object),config:re.default.object,layout:re.default.object,frames:re.default.arrayOf(re.default.object),revision:re.default.number,onInitialized:re.default.func,onPurge:re.default.func,onError:re.default.func,onUpdate:re.default.func,debug:re.default.bool,style:re.default.object,className:re.default.string,useResizeHandler:re.default.bool,divId:re.default.string},t.forEach(function(m){s.propTypes["on"+m]=re.default.func}),s.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},s}})(JC);var QC={exports:{}};(function(c,R){(function(re,ge){c.exports=ge()})(self,function(){return function(){var j={98847:function(V,B,e){var p=e(71828),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in L){var C=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(C,L[n])}},98222:function(V,B,e){V.exports=e(82887)},27206:function(V,B,e){V.exports=e(60822)},59893:function(V,B,e){V.exports=e(23381)},5224:function(V,B,e){V.exports=e(83832)},59509:function(V,B,e){V.exports=e(72201)},75557:function(V,B,e){V.exports=e(91815)},40338:function(V,B,e){V.exports=e(21462)},35080:function(V,B,e){V.exports=e(51319)},61396:function(V,B,e){V.exports=e(57516)},40549:function(V,B,e){V.exports=e(98128)},49866:function(V,B,e){V.exports=e(99442)},36089:function(V,B,e){V.exports=e(93740)},19548:function(V,B,e){V.exports=e(8729)},35831:function(V,B,e){V.exports=e(93814)},61039:function(V,B,e){V.exports=e(14382)},97040:function(V,B,e){V.exports=e(51759)},77986:function(V,B,e){V.exports=e(10421)},24296:function(V,B,e){V.exports=e(43102)},58872:function(V,B,e){V.exports=e(92165)},29626:function(V,B,e){V.exports=e(3325)},65591:function(V,B,e){V.exports=e(36071)},69738:function(V,B,e){V.exports=e(43905)},92650:function(V,B,e){V.exports=e(35902)},35630:function(V,B,e){V.exports=e(69816)},73434:function(V,B,e){V.exports=e(94507)},27909:function(V,B,e){var p=e(19548);p.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),V.exports=p},46163:function(V,B,e){V.exports=e(15154)},96881:function(V,B,e){V.exports=e(64943)},50581:function(V,B,e){V.exports=e(21164)},55334:function(V,B,e){V.exports=e(54186)},65317:function(V,B,e){V.exports=e(94873)},10021:function(V,B,e){V.exports=e(67618)},54201:function(V,B,e){V.exports=e(58810)},5861:function(V,B,e){V.exports=e(20593)},16122:function(V,B,e){V.exports=e(29396)},83043:function(V,B,e){V.exports=e(13551)},48131:function(V,B,e){V.exports=e(46858)},47582:function(V,B,e){V.exports=e(17988)},21641:function(V,B,e){V.exports=e(68868)},96268:function(V,B,e){V.exports=e(20467)},19440:function(V,B,e){V.exports=e(91271)},99488:function(V,B,e){V.exports=e(21461)},97393:function(V,B,e){V.exports=e(85956)},25743:function(V,B,e){V.exports=e(52979)},66398:function(V,B,e){V.exports=e(32275)},17280:function(V,B,e){V.exports=e(6419)},77900:function(V,B,e){V.exports=e(61510)},81299:function(V,B,e){V.exports=e(87619)},93005:function(V,B,e){V.exports=e(93601)},40344:function(V,B,e){V.exports=e(96595)},47645:function(V,B,e){V.exports=e(70954)},6197:function(V,B,e){V.exports=e(47462)},4534:function(V,B,e){V.exports=e(17659)},85461:function(V,B,e){V.exports=e(19990)},82884:function(V){V.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(V,B,e){var p=e(82884),L=e(41940),n=e(85555),C=e(44467).templatedArray;e(24695),V.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(V,B,e){var p=e(71828),L=e(89298),n=e(92605).draw;V.exports=function(y){var r=y._fullLayout,t=p.filterVisible(r.annotations);if(t.length&&y._fullData.length)return p.syncOrAsync([n,C],y)};function C(d){var y=d._fullLayout;p.filterVisible(y.annotations).forEach(function(r){var t=L.getFromId(d,r.xref),i=L.getFromId(d,r.yref),a=L.getRefType(r.xref),h=L.getRefType(r.yref);r._extremes={},a==="range"&&T(r,t),h==="range"&&T(r,i)})}function T(d,y){var r=y._id,t=r.charAt(0),i=d[t],a=d["a"+t],h=d[t+"ref"],u=d["a"+t+"ref"],s=d["_"+t+"padplus"],m=d["_"+t+"padminus"],f={x:1,y:-1}[t]*d[t+"shift"],S=3*d.arrowsize*d.arrowwidth||0,v=S+f,l=S-f,g=3*d.startarrowsize*d.arrowwidth||0,M=g+f,A=g-f,k;if(u===h){var w=L.findExtremes(y,[y.r2c(i)],{ppadplus:v,ppadminus:l}),E=L.findExtremes(y,[y.r2c(a)],{ppadplus:Math.max(s,M),ppadminus:Math.max(m,A)});k={min:[w.min[0],E.min[0]],max:[w.max[0],E.max[0]]}}else M=a?M+a:M,A=a?A-a:A,k=L.findExtremes(y,[y.r2c(i)],{ppadplus:Math.max(s,v,M),ppadminus:Math.max(m,l,A)});d._extremes[r]=k}},44317:function(V,B,e){var p=e(71828),L=e(73972),n=e(44467).arrayEditor;V.exports={hasClickToShow:C,onClick:T};function C(r,t){var i=d(r,t);return i.on.length>0||i.explicitOff.length>0}function T(r,t){var i=d(r,t),a=i.on,h=i.off.concat(i.explicitOff),u={},s=r._fullLayout.annotations,m,f;if(a.length||h.length){for(m=0;m<a.length;m++)f=n(r.layout,"annotations",s[a[m]]),f.modifyItem("visible",!0),p.extendFlat(u,f.getUpdateObj());for(m=0;m<h.length;m++)f=n(r.layout,"annotations",s[h[m]]),f.modifyItem("visible",!1),p.extendFlat(u,f.getUpdateObj());return L.call("update",r,{},u)}}function d(r,t){var i=r._fullLayout.annotations,a=[],h=[],u=[],s=(t||[]).length,m,f,S,v,l,g,M,A;for(m=0;m<i.length;m++)if(S=i[m],v=S.clicktoshow,v){for(f=0;f<s;f++)if(l=t[f],g=l.xaxis,M=l.yaxis,g._id===S.xref&&M._id===S.yref&&g.d2r(l.x)===y(S._xclick,g)&&M.d2r(l.y)===y(S._yclick,M)){S.visible?v==="onout"?A=h:A=u:A=a,A.push(m);break}f===s&&S.visible&&v==="onout"&&h.push(m)}return{on:a,off:h,explicitOff:u}}function y(r,t){return t.type==="log"?t.l2r(r):t.d2r(r)}},25625:function(V,B,e){var p=e(71828),L=e(7901);V.exports=function(C,T,d,y){y("opacity");var r=y("bgcolor"),t=y("bordercolor"),i=L.opacity(t);y("borderpad");var a=y("borderwidth"),h=y("showarrow");y("text",h?" ":d._dfltTitle.annotation),y("textangle"),p.coerceFont(y,"font",d.font),y("width"),y("align");var u=y("height");if(u&&y("valign"),h){var s=y("arrowside"),m,f;s.indexOf("end")!==-1&&(m=y("arrowhead"),f=y("arrowsize")),s.indexOf("start")!==-1&&(y("startarrowhead",m),y("startarrowsize",f)),y("arrowcolor",i?T.bordercolor:L.defaultLine),y("arrowwidth",(i&&a||1)*2),y("standoff"),y("startstandoff")}var S=y("hovertext"),v=d.hoverlabel||{};if(S){var l=y("hoverlabel.bgcolor",v.bgcolor||(L.opacity(r)?L.rgb(r):L.defaultLine)),g=y("hoverlabel.bordercolor",v.bordercolor||L.contrast(l));p.coerceFont(y,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||g})}y("captureevents",!!S)}},94128:function(V,B,e){var p=e(92770),L=e(58163);V.exports=function(C,T,d,y){T=T||{};var r=d==="log"&&T.type==="linear",t=d==="linear"&&T.type==="log";if(!(r||t))return;var i=C._fullLayout.annotations,a=T._id.charAt(0),h,u;function s(f){var S=h[f],v=null;r?v=L(S,T.range):v=Math.pow(10,S),p(v)||(v=null),y(u+f,v)}for(var m=0;m<i.length;m++)h=i[m],u="annotations["+m+"].",h[a+"ref"]===T._id&&s(a),h["a"+a+"ref"]===T._id&&s("a"+a)}},84046:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(25625),T=e(50215);V.exports=function(r,t){n(r,t,{name:"annotations",handleItemDefaults:d})};function d(y,r,t){function i(b,o){return p.coerce(y,r,T,b,o)}var a=i("visible"),h=i("clicktoshow");if(a||h){C(y,r,t,i);for(var u=r.showarrow,s=["x","y"],m=[-10,-30],f={_fullLayout:t},S=0;S<2;S++){var v=s[S],l=L.coerceRef(y,r,f,v,"","paper");if(l!=="paper"){var g=L.getFromId(f,l);g._annIndices.push(r._index)}if(L.coercePosition(r,f,i,l,v,.5),u){var M="a"+v,A=L.coerceRef(y,r,f,M,"pixel",["pixel","paper"]);A!=="pixel"&&A!==l&&(A=r[M]="pixel");var k=A==="pixel"?m[S]:.4;L.coercePosition(r,f,i,A,M,k)}i(v+"anchor"),i(v+"shift")}if(p.noneOrAll(y,r,["x","y"]),u&&p.noneOrAll(y,r,["ax","ay"]),h){var w=i("xclick"),E=i("yclick");r._xclick=w===void 0?r.x:L.cleanPosition(w,f,r.xref),r._yclick=E===void 0?r.y:L.cleanPosition(E,f,r.yref)}}}},92605:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),T=C.strTranslate,d=e(89298),y=e(7901),r=e(91424),t=e(30211),i=e(63893),a=e(6964),h=e(28569),u=e(44467).arrayEditor,s=e(13011);V.exports={draw:m,drawOne:f,drawRaw:v};function m(l){var g=l._fullLayout;g._infolayer.selectAll(".annotation").remove();for(var M=0;M<g.annotations.length;M++)g.annotations[M].visible&&f(l,M);return n.previousPromises(l)}function f(l,g){var M=l._fullLayout,A=M.annotations[g]||{},k=d.getFromId(l,A.xref),w=d.getFromId(l,A.yref);k&&k.setScale(),w&&w.setScale(),v(l,A,g,!1,k,w)}function S(l,g,M,A,k){var w=k[M],E=k[M+"ref"],b=M.indexOf("y")!==-1,o=d.getRefType(E)==="domain",P=b?A.h:A.w;return l?o?w+(b?-g:g)/l._length:l.p2r(l.r2p(w)+g):w+(b?-g:g)/P}function v(l,g,M,A,k,w){var E=l._fullLayout,b=l._fullLayout._size,o=l._context.edits,P,x;A?(P="annotation-"+A,x=A+".annotations"):(P="annotation",x="annotations");var z=u(l.layout,x,g),_=z.modifyBase,G=z.modifyItem,F=z.getUpdateObj;E._infolayer.selectAll("."+P+'[data-index="'+M+'"]').remove();var N="clip"+E._uid+"_ann"+M;if(!g._input||g.visible===!1){p.selectAll("#"+N).remove();return}var U={x:{},y:{}},O=+g.textangle||0,H=E._infolayer.append("g").classed(P,!0).attr("data-index",String(M)).style("opacity",g.opacity),Y=H.append("g").classed("annotation-text-g",!0),q=o[g.showarrow?"annotationTail":"annotationPosition"],ne=g.captureevents||o.annotationText||q;function oe(xe){var Le={index:M,annotation:g._input,fullAnnotation:g,event:xe};return A&&(Le.subplotId=A),Le}var he=Y.append("g").style("pointer-events",ne?"all":null).call(a,"pointer").on("click",function(){l._dragging=!1,l.emit("plotly_clickannotation",oe(p.event))});g.hovertext&&he.on("mouseover",function(){var xe=g.hoverlabel,Le=xe.font,Ae=this.getBoundingClientRect(),Oe=l.getBoundingClientRect();t.loneHover({x0:Ae.left-Oe.left,x1:Ae.right-Oe.left,y:(Ae.top+Ae.bottom)/2-Oe.top,text:g.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Le.family,fontSize:Le.size,fontColor:Le.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:l})}).on("mouseout",function(){t.loneUnhover(E._hoverlayer.node())});var J=g.borderwidth,Z=g.borderpad,se=J+Z,$=he.append("rect").attr("class","bg").style("stroke-width",J+"px").call(y.stroke,g.bordercolor).call(y.fill,g.bgcolor),ee=g.width||g.height,le=E._topclips.selectAll("#"+N).data(ee?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),le.exit().remove();var Q=g.font,K=E._meta?C.templateString(g.text,E._meta):g.text,ue=he.append("text").classed("annotation-text",!0).text(K);function ie(xe){return xe.call(r.font,Q).attr({"text-anchor":{left:"start",right:"end"}[g.align]||"middle"}),i.convertToTspans(xe,l,ce),xe}function ce(){var xe=ue.selectAll("a");if(xe.size()===1&&xe.text()===ue.text()){var Le=he.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"});Le.node().appendChild($.node())}var Ae=he.select(".annotation-text-math-group"),Oe=!Ae.empty(),ze=r.bBox((Oe?Ae:ue).node()),Ee=ze.width,be=ze.height,Ce=g.width||Ee,Ue=g.height||be,He=Math.round(Ce+2*se),Ie=Math.round(Ue+2*se);function Ge(mr,sr){return sr==="auto"&&(mr<.3333333333333333?sr="left":mr>.6666666666666666?sr="right":sr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sr]}for(var at=!1,lt=["x","y"],qe=0;qe<lt.length;qe++){var et=lt[qe],ft=g[et+"ref"]||et,dt=g["a"+et+"ref"],pt={x:k,y:w}[et],At=(O+(et==="x"?0:-90))*Math.PI/180,Pt=He*Math.cos(At),Ht=Ie*Math.sin(At),Je=Math.abs(Pt)+Math.abs(Ht),We=g[et+"anchor"],_e=g[et+"shift"]*(et==="x"?1:-1),Ne=U[et],ke,we,me,Me,Se,Ve=d.getRefType(ft);if(pt&&Ve!=="domain"){var Ze=pt.r2fraction(g[et]);(Ze<0||Ze>1)&&(dt===ft?(Ze=pt.r2fraction(g["a"+et]),(Ze<0||Ze>1)&&(at=!0)):at=!0),ke=pt._offset+pt.r2p(g[et]),Me=.5}else{var tt=Ve==="domain";et==="x"?(me=g[et],ke=tt?pt._offset+pt._length*me:ke=b.l+b.w*me):(me=1-g[et],ke=tt?pt._offset+pt._length*me:ke=b.t+b.h*me),Me=g.showarrow?.5:me}if(g.showarrow){Ne.head=ke;var ct=g["a"+et];if(Se=Pt*Ge(.5,g.xanchor)-Ht*Ge(.5,g.yanchor),dt===ft){var gt=d.getRefType(dt);gt==="domain"?(et==="y"&&(ct=1-ct),Ne.tail=pt._offset+pt._length*ct):gt==="paper"?et==="y"?(ct=1-ct,Ne.tail=b.t+b.h*ct):Ne.tail=b.l+b.w*ct:Ne.tail=pt._offset+pt.r2p(ct),we=Se}else Ne.tail=ke+ct,we=Se+ct;Ne.text=Ne.tail+Se;var jt=E[et==="x"?"width":"height"];if(ft==="paper"&&(Ne.head=C.constrain(Ne.head,1,jt-1)),dt==="pixel"){var Kt=-Math.max(Ne.tail-3,Ne.text),Tt=Math.min(Ne.tail+3,Ne.text)-jt;Kt>0?(Ne.tail+=Kt,Ne.text+=Kt):Tt>0&&(Ne.tail-=Tt,Ne.text-=Tt)}Ne.tail+=_e,Ne.head+=_e}else Se=Je*Ge(Me,We),we=Se,Ne.text=ke+Se;Ne.text+=_e,Se+=_e,we+=_e,g["_"+et+"padplus"]=Je/2+we,g["_"+et+"padminus"]=Je/2-we,g["_"+et+"size"]=Je,g["_"+et+"shift"]=Se}if(at){he.remove();return}var zt=0,qt=0;if(g.align!=="left"&&(zt=(Ce-Ee)*(g.align==="center"?.5:1)),g.valign!=="top"&&(qt=(Ue-be)*(g.valign==="middle"?.5:1)),Oe)Ae.select("svg").attr({x:se+zt-1,y:se+qt}).call(r.setClipUrl,ee?N:null,l);else{var Sr=se+qt-ze.top,yt=se+zt-ze.left;ue.call(i.positionText,yt,Sr).call(r.setClipUrl,ee?N:null,l)}le.select("rect").call(r.setRect,se,se,Ce,Ue),$.call(r.setRect,J/2,J/2,He-J,Ie-J),he.call(r.setTranslate,Math.round(U.x.text-He/2),Math.round(U.y.text-Ie/2)),Y.attr({transform:"rotate("+O+","+U.x.text+","+U.y.text+")"});var Zt=function(mr,sr){H.selectAll(".annotation-arrow-g").remove();var vt=U.x.head,it=U.y.head,xt=U.x.tail+mr,St=U.y.tail+sr,Rt=U.x.text+mr,Lt=U.y.text+sr,Ot=C.rotationXYMatrix(O,Rt,Lt),Nt=C.apply2DTransform(Ot),Xt=C.apply2DTransform2(Ot),ur=+$.attr("width"),cr=+$.attr("height"),dr=Rt-.5*ur,Ye=dr+ur,je=Lt-.5*cr,It=je+cr,Dt=[[dr,je,dr,It],[dr,It,Ye,It],[Ye,It,Ye,je],[Ye,je,dr,je]].map(Xt);if(!Dt.reduce(function(Dr,pn){return Dr^!!C.segmentsIntersect(vt,it,vt+1e6,it+1e6,pn[0],pn[1],pn[2],pn[3])},!1)){Dt.forEach(function(Dr){var pn=C.segmentsIntersect(xt,St,vt,it,Dr[0],Dr[1],Dr[2],Dr[3]);pn&&(xt=pn.x,St=pn.y)});var Yt=g.arrowwidth,tr=g.arrowcolor,fr=g.arrowside,rr=H.append("g").style({opacity:y.opacity(tr)}).classed("annotation-arrow-g",!0),Ft=rr.append("path").attr("d","M"+xt+","+St+"L"+vt+","+it).style("stroke-width",Yt+"px").call(y.stroke,y.rgb(tr));if(s(Ft,fr,g),o.annotationPosition&&Ft.node().parentNode&&!A){var hr=vt,br=it;if(g.standoff){var yr=Math.sqrt(Math.pow(vt-xt,2)+Math.pow(it-St,2));hr+=g.standoff*(xt-vt)/yr,br+=g.standoff*(St-it)/yr}var vr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-hr)+","+(St-br),transform:T(hr,br)}).style("stroke-width",Yt+6+"px").call(y.stroke,"rgba(0,0,0,0)").call(y.fill,"rgba(0,0,0,0)"),Gr,_r;h.init({element:vr.node(),gd:l,prepFn:function(){var Dr=r.getTranslate(he);Gr=Dr.x,_r=Dr.y,k&&k.autorange&&_(k._name+".autorange",!0),w&&w.autorange&&_(w._name+".autorange",!0)},moveFn:function(Dr,pn){var nn=Nt(Gr,_r),Un=nn[0]+Dr,Tn=nn[1]+pn;he.call(r.setTranslate,Un,Tn),G("x",S(k,Dr,"x",b,g)),G("y",S(w,pn,"y",b,g)),g.axref===g.xref&&G("ax",S(k,Dr,"ax",b,g)),g.ayref===g.yref&&G("ay",S(w,pn,"ay",b,g)),rr.attr("transform",T(Dr,pn)),Y.attr({transform:"rotate("+O+","+Un+","+Tn+")"})},doneFn:function(){L.call("_guiRelayout",l,F());var Dr=document.querySelector(".js-notes-box-panel");Dr&&Dr.redraw(Dr.selectedObj)}})}}};if(g.showarrow&&Zt(0,0),q){var Jt;h.init({element:he.node(),gd:l,prepFn:function(){Jt=Y.attr("transform")},moveFn:function(mr,sr){var vt="pointer";if(g.showarrow)g.axref===g.xref?G("ax",S(k,mr,"ax",b,g)):G("ax",g.ax+mr),g.ayref===g.yref?G("ay",S(w,sr,"ay",b.w,g)):G("ay",g.ay+sr),Zt(mr,sr);else{if(A)return;var it,xt;if(k)it=S(k,mr,"x",b,g);else{var St=g._xsize/b.w,Rt=g.x+(g._xshift-g.xshift)/b.w-St/2;it=h.align(Rt+mr/b.w,St,0,1,g.xanchor)}if(w)xt=S(w,sr,"y",b,g);else{var Lt=g._ysize/b.h,Ot=g.y-(g._yshift+g.yshift)/b.h-Lt/2;xt=h.align(Ot-sr/b.h,Lt,0,1,g.yanchor)}G("x",it),G("y",xt),(!k||!w)&&(vt=h.getCursor(k?.5:it,w?.5:xt,g.xanchor,g.yanchor))}Y.attr({transform:T(mr,sr)+Jt}),a(he,vt)},clickFn:function(mr,sr){g.captureevents&&l.emit("plotly_clickannotation",oe(sr))},doneFn:function(){a(he),L.call("_guiRelayout",l,F());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}o.annotationText?ue.call(i.makeEditable,{delegate:he,gd:l}).call(ie).on("edit",function(xe){g.text=xe,this.call(ie),G("text",xe),k&&k.autorange&&_(k._name+".autorange",!0),w&&w.autorange&&_(w._name+".autorange",!0),L.call("_guiRelayout",l,F())}):ue.call(ie)}},13011:function(V,B,e){var p=e(39898),L=e(7901),n=e(82884),C=e(71828),T=C.strScale,d=C.strRotate,y=C.strTranslate;V.exports=function(t,i,a){var h=t.node(),u=n[a.arrowhead||0],s=n[a.startarrowhead||0],m=(a.arrowwidth||1)*(a.arrowsize||1),f=(a.arrowwidth||1)*(a.startarrowsize||1),S=i.indexOf("start")>=0,v=i.indexOf("end")>=0,l=u.backoff*m+a.standoff,g=s.backoff*f+a.startstandoff,M,A,k,w;if(h.nodeName==="line"){M={x:+t.attr("x1"),y:+t.attr("y1")},A={x:+t.attr("x2"),y:+t.attr("y2")};var E=M.x-A.x,b=M.y-A.y;if(k=Math.atan2(b,E),w=k+Math.PI,l&&g&&l+g>Math.sqrt(E*E+b*b)){Y();return}if(l){if(l*l>E*E+b*b){Y();return}var o=l*Math.cos(k),P=l*Math.sin(k);A.x+=o,A.y+=P,t.attr({x2:A.x,y2:A.y})}if(g){if(g*g>E*E+b*b){Y();return}var x=g*Math.cos(k),z=g*Math.sin(k);M.x-=x,M.y-=z,t.attr({x1:M.x,y1:M.y})}}else if(h.nodeName==="path"){var _=h.getTotalLength(),G="";if(_<l+g){Y();return}var F=h.getPointAtLength(0),N=h.getPointAtLength(.1);k=Math.atan2(F.y-N.y,F.x-N.x),M=h.getPointAtLength(Math.min(g,_)),G="0px,"+g+"px,";var U=h.getPointAtLength(_),O=h.getPointAtLength(_-.1);w=Math.atan2(U.y-O.y,U.x-O.x),A=h.getPointAtLength(Math.max(0,_-l));var H=G?g+l:l;G+=_-H+"px,"+_+"px",t.style("stroke-dasharray",G)}function Y(){t.style("stroke-dasharray","0px,100px")}function q(ne,oe,he,J){ne.path&&(ne.noRotate&&(he=0),p.select(h.parentNode).append("path").attr({class:t.attr("class"),d:ne.path,transform:y(oe.x,oe.y)+d(he*180/Math.PI)+T(J)}).style({fill:L.rgb(a.arrowcolor),"stroke-width":0}))}S&&q(s,M,k,f),v&&q(u,A,w,m)}},32745:function(V,B,e){var p=e(92605),L=e(44317);V.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(94128)}},26997:function(V,B,e){var p=e(50215),L=e(30962).overrideAll,n=e(44467).templatedArray;V.exports=L(n("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},5485:function(V,B,e){var p=e(71828),L=e(89298);V.exports=function(T){for(var d=T.fullSceneLayout,y=d.annotations,r=0;r<y.length;r++)n(y[r],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()};function n(C,T){var d=T.fullSceneLayout,y=d.domain,r=T.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},p.extendFlat(C._xa,t),L.setConvert(C._xa),C._xa._offset=r.l+y.x[0]*r.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*r.w*(y.x[1]-y.x[0])},C._ya={},p.extendFlat(C._ya,t),L.setConvert(C._ya),C._ya._offset=r.t+(1-y.y[1])*r.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*r.h*(y.y[1]-y.y[0])}}},20226:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(25625),T=e(26997);V.exports=function(r,t,i){n(r,t,{name:"annotations",handleItemDefaults:d,fullLayout:i.fullLayout})};function d(y,r,t,i){function a(s,m){return p.coerce(y,r,T,s,m)}function h(s){var m=s+"axis",f={_fullLayout:{}};return f._fullLayout[m]=t[m],L.coercePosition(r,f,a,s,s,.5)}var u=a("visible");u&&(C(y,r,i.fullLayout,a),h("x"),h("y"),h("z"),p.noneOrAll(y,r,["x","y","z"]),r.xref="x",r.yref="y",r.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),r.showarrow&&(r.axref="pixel",r.ayref="pixel",a("ax",-10),a("ay",-30),p.noneOrAll(y,r,["ax","ay"])))}},82188:function(V,B,e){var p=e(92605).drawRaw,L=e(63538),n=["x","y","z"];V.exports=function(T){for(var d=T.fullSceneLayout,y=T.dataScale,r=d.annotations,t=0;t<r.length;t++){for(var i=r[t],a=!1,h=0;h<3;h++){var u=n[h],s=i[u],m=d[u+"axis"],f=m.r2fraction(s);if(f<0||f>1){a=!0;break}}a?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+t+'"]').remove():(i._pdata=L(T.glplot.cameraParams,[d.xaxis.r2l(i.x)*y[0],d.yaxis.r2l(i.y)*y[1],d.zaxis.r2l(i.z)*y[2]]),p(T.graphDiv,i,t,T.id,i._xa,i._ya))}}},2468:function(V,B,e){var p=e(73972),L=e(71828);V.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:n,convert:e(5485),draw:e(82188)};function n(C,T){var d=p.subplotsRegistry.gl3d;if(d)for(var y=d.attrRegex,r=Object.keys(C),t=0;t<r.length;t++){var i=r[t];y.test(i)&&(C[i].annotations||[]).length&&(L.pushUnique(T._basePlotModules,d),L.pushUnique(T._subplots.gl3d,i))}}},7561:function(V,B,e){V.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(V,B,e){var p=e(7561),L=e(71828),n=e(50606),C=n.EPOCHJD,T=n.ONEDAY,d={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},y=function(k,w,E,b){var o={};return o[E]=d,L.coerce(k,w,o,E,b)},r=function(k,w,E,b){for(var o=0;o<E.length;o++)y(k,w,E[o]+"calendar",b.calendar)},t={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},i={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},a={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},h="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function s(k,w,E){for(var b=Math.floor((w+.05)/T)+C,o=f(E).fromJD(b),P=0,x,z,_,G,F;(P=k.indexOf("%",P))!==-1;)x=k.charAt(P+1),x==="0"||x==="-"||x==="_"?(_=3,z=k.charAt(P+2),x==="_"&&(x="-")):(z=x,x="0",_=2),G=u[z],G?(G===h?F=h:F=o.formatDate(G[x]),k=k.substr(0,P)+F+k.substr(P+_),P+=F.length):P+=_;return k}var m={};function f(k){var w=m[k];return w||(w=m[k]=p.instance(k),w)}function S(k){return L.extendFlat({},d,{description:k})}function v(k){return"Sets the calendar system to use with `"+k+"` date data."}var l={xcalendar:S(v("x"))},g=L.extendFlat({},l,{ycalendar:S(v("y"))}),M=L.extendFlat({},g,{zcalendar:S(v("z"))}),A=S(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));V.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:g,bar:g,box:g,heatmap:g,contour:g,histogram:g,histogram2d:g,histogram2dcontour:g,scatter3d:M,surface:M,mesh3d:M,scattergl:g,ohlc:l,candlestick:l},layout:{calendar:S(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:A},yaxis:{calendar:A},scene:{xaxis:{calendar:A},yaxis:{calendar:A},zaxis:{calendar:A}},polar:{radialaxis:{calendar:A}}},transforms:{filter:{valuecalendar:S(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:S(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:y,handleTraceDefaults:r,CANONICAL_SUNDAY:i,CANONICAL_TICK:t,DFLTRANGE:a,getCal:f,worldCalFmt:s}},22399:function(V,B){B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},7901:function(V,B,e){var p=e(84267),L=e(92770),n=e(73627).isTypedArray,C=V.exports={},T=e(22399);C.defaults=T.defaults;var d=C.defaultLine=T.defaultLine;C.lightLine=T.lightLine;var y=C.background=T.background;C.tinyRGB=function(t){var i=t.toRgb();return"rgb("+Math.round(i.r)+", "+Math.round(i.g)+", "+Math.round(i.b)+")"},C.rgb=function(t){return C.tinyRGB(p(t))},C.opacity=function(t){return t?p(t).getAlpha():0},C.addOpacity=function(t,i){var a=p(t).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+i+")"},C.combine=function(t,i){var a=p(t).toRgb();if(a.a===1)return p(t).toRgbString();var h=p(i||y).toRgb(),u=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},s={r:u.r*(1-a.a)+a.r*a.a,g:u.g*(1-a.a)+a.g*a.a,b:u.b*(1-a.a)+a.b*a.a};return p(s).toRgbString()},C.contrast=function(t,i,a){var h=p(t);h.getAlpha()!==1&&(h=p(C.combine(t,y)));var u=h.isDark()?i?h.lighten(i):y:a?h.darken(a):d;return u.toString()},C.stroke=function(t,i){var a=p(i);t.style({stroke:C.tinyRGB(a),"stroke-opacity":a.getAlpha()})},C.fill=function(t,i){var a=p(i);t.style({fill:C.tinyRGB(a),"fill-opacity":a.getAlpha()})},C.clean=function(t){if(!(!t||typeof t!="object")){var i=Object.keys(t),a,h,u,s;for(a=0;a<i.length;a++)if(u=i[a],s=t[u],u.substr(u.length-5)==="color")if(Array.isArray(s))for(h=0;h<s.length;h++)s[h]=r(s[h]);else t[u]=r(s);else if(u.substr(u.length-10)==="colorscale"&&Array.isArray(s))for(h=0;h<s.length;h++)Array.isArray(s[h])&&(s[h][1]=r(s[h][1]));else if(Array.isArray(s)){var m=s[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(h=0;h<s.length;h++)C.clean(s[h])}else s&&typeof s=="object"&&!n(s)&&C.clean(s)}};function r(t){if(L(t)||typeof t!="string")return t;var i=t.trim();if(i.substr(0,3)!=="rgb")return t;var a=i.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return t;var h=a[1].trim().split(/\s*[\s,]\s*/),u=i.charAt(3)==="a"&&h.length===4;if(!u&&h.length!==3)return t;for(var s=0;s<h.length;s++){if(!h[s].length||(h[s]=Number(h[s]),!(h[s]>=0)))return t;if(s===3)h[s]>1&&(h[s]=1);else if(h[s]>=1)return t}var m=Math.round(h[0]*255)+", "+Math.round(h[1]*255)+", "+Math.round(h[2]*255);return u?"rgba("+m+", "+h[3]+")":"rgb("+m+")"}},63583:function(V,B,e){var p=e(13838),L=e(41940),n=e(1426).extendFlat,C=e(30962).overrideAll;V.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:n({},p.ticks,{dflt:""}),ticklabeloverflow:n({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(V){V.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(V,B,e){var p=e(71828),L=e(44467),n=e(26218),C=e(38701),T=e(96115),d=e(89426),y=e(63583);V.exports=function(t,i,a){var h=L.newContainer(i,"colorbar"),u=t.colorbar||{};function s(U,O){return p.coerce(u,h,y,U,O)}var m=a.margin||{t:0,b:0,l:0,r:0},f=a.width-m.l-m.r,S=a.height-m.t-m.b,v=s("orientation"),l=v==="v",g=s("thicknessmode");s("thickness",g==="fraction"?30/(l?f:S):30);var M=s("lenmode");s("len",M==="fraction"?1:l?S:f);var A=s("yref"),k=s("xref"),w=A==="paper",E=k==="paper",b,o,P,x="left";l?(P="middle",x=E?"left":"right",b=E?1.02:1,o=.5):(P=w?"bottom":"top",x="center",b=.5,o=w?1.02:1),p.coerce(u,h,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:b}},"x"),p.coerce(u,h,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:o}},"y"),s("xanchor",x),s("xpad"),s("yanchor",P),s("ypad"),p.noneOrAll(u,h,["x","y"]),s("outlinecolor"),s("outlinewidth"),s("bordercolor"),s("borderwidth"),s("bgcolor");var z=p.coerce(u,h,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:l?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");s("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(u,h,s,"linear");var _=a.font,G={outerTicks:!1,font:_};z.indexOf("inside")!==-1&&(G.bgColor="black"),d(u,h,s,"linear",G),T(u,h,s,"linear",G),C(u,h,s,"linear",G),s("title.text",a._dfltTitle.colorbar);var F=h.showticklabels?h.tickfont:_,N=p.extendFlat({},F,{color:_.color,size:p.bigFont(F.size)});p.coerceFont(s,"title.font",N),s("title.side",l?"top":"right")}},98981:function(V,B,e){var p=e(39898),L=e(84267),n=e(74875),C=e(73972),T=e(89298),d=e(28569),y=e(71828),r=y.strTranslate,t=e(1426).extendFlat,i=e(6964),a=e(91424),h=e(7901),u=e(92998),s=e(63893),m=e(52075).flipScale,f=e(71453),S=e(52830),v=e(13838),l=e(18783),g=l.LINE_SPACING,M=l.FROM_TL,A=l.FROM_BR,k=e(30939).cn;function w(z){var _=z._fullLayout,G=_._infolayer.selectAll("g."+k.colorbar).data(E(z),function(F){return F._id});G.enter().append("g").attr("class",function(F){return F._id}).classed(k.colorbar,!0),G.each(function(F){var N=p.select(this);y.ensureSingle(N,"rect",k.cbbg),y.ensureSingle(N,"g",k.cbfills),y.ensureSingle(N,"g",k.cblines),y.ensureSingle(N,"g",k.cbaxis,function(O){O.classed(k.crisp,!0)}),y.ensureSingle(N,"g",k.cbtitleunshift,function(O){O.append("g").classed(k.cbtitle,!0)}),y.ensureSingle(N,"rect",k.cboutline);var U=b(N,F,z);U&&U.then&&(z._promises||[]).push(U),z._context.edits.colorbarPosition&&o(N,F,z)}),G.exit().each(function(F){n.autoMargin(z,F._id)}).remove(),G.order()}function E(z){var _=z._fullLayout,G=z.calcdata,F=[],N,U,O,H;function Y(Q){return t(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){typeof H.calc=="function"?H.calc(z,O,N):(N._fillgradient=U.reversescale?m(U.colorscale):U.colorscale,N._zrange=[U[H.min],U[H.max]])}for(var ne=0;ne<G.length;ne++){var oe=G[ne];if(O=oe[0].trace,!!O._module){var he=O._module.colorbar;if(O.visible===!0&&he)for(var J=Array.isArray(he),Z=J?he:[he],se=0;se<Z.length;se++){H=Z[se];var $=H.container;U=$?O[$]:O,U&&U.showscale&&(N=Y(U.colorbar),N._id="cb"+O.uid+(J&&$?"-"+$:""),N._traceIndex=O.index,N._propPrefix=($?$+".":"")+"colorbar.",N._meta=O._meta,q(),F.push(N))}}}for(var ee in _._colorAxes)if(U=_[ee],U.showscale){var le=_._colorAxes[ee];N=Y(U.colorbar),N._id="cb"+ee,N._propPrefix=ee+".colorbar.",N._meta=_._meta,H={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(O=le[1],H.calc=O._module.colorbar.calc),q(),F.push(N)}return F}function b(z,_,G){var F=_.orientation==="v",N=_.len,U=_.lenmode,O=_.thickness,H=_.thicknessmode,Y=_.outlinewidth,q=_.borderwidth,ne=_.bgcolor,oe=_.xanchor,he=_.yanchor,J=_.xpad,Z=_.ypad,se=_.x,$=F?_.y:1-_.y,ee=_.yref==="paper",le=_.xref==="paper",Q=G._fullLayout,K=Q._size,ue=_._fillcolor,ie=_._line,ce=_.title,xe=ce.side,Le=_._zrange||p.extent((typeof ue=="function"?ue:ie.color).domain()),Ae=typeof ie.color=="function"?ie.color:function(){return ie.color},Oe=typeof ue=="function"?ue:function(){return ue},ze=_._levels,Ee=P(G,_,Le),be=Ee.fill,Ce=Ee.line,Ue=Math.round(O*(H==="fraction"?F?K.w:K.h:1)),He=Ue/(F?K.w:K.h),Ie=Math.round(N*(U==="fraction"?F?K.h:K.w:1)),Ge=Ie/(F?K.h:K.w),at=le?K.w:G._fullLayout.width,lt=ee?K.h:G._fullLayout.height,qe=Math.round(F?se*at+J:$*lt+Z),et={center:.5,right:1}[oe]||0,ft={top:1,middle:.5}[he]||0,dt=F?se-et*He:$-ft*He,pt=F?$-ft*Ge:se-et*Ge,At=Math.round(F?lt*(1-pt):at*pt);_._lenFrac=Ge,_._thickFrac=He,_._uFrac=dt,_._vFrac=pt;var Pt=_._axis=x(G,_,Le);Pt.position=He+(F?se+J/K.w:$+Z/K.h);var Ht=["top","bottom"].indexOf(xe)!==-1;if(F&&Ht&&(Pt.title.side=xe,Pt.titlex=se+J/K.w,Pt.titley=pt+(ce.side==="top"?Ge-Z/K.h:Z/K.h)),!F&&!Ht&&(Pt.title.side=xe,Pt.titley=$+Z/K.h,Pt.titlex=pt+J/K.w),ie.color&&_.tickmode==="auto"){Pt.tickmode="linear",Pt.tick0=ze.start;var Je=ze.size,We=y.constrain(Ie/50,4,15)+1,_e=(Le[1]-Le[0])/((_.nticks||We)*Je);if(_e>1){var Ne=Math.pow(10,Math.floor(Math.log(_e)/Math.LN10));Je*=Ne*y.roundUp(_e/Ne,[2,5,10]),(Math.abs(ze.start)/ze.size+1e-6)%1<2e-6&&(Pt.tick0=0)}Pt.dtick=Je}Pt.domain=F?[pt+Z/K.h,pt+Ge-Z/K.h]:[pt+J/K.w,pt+Ge-J/K.w],Pt.setScale(),z.attr("transform",r(Math.round(K.l),Math.round(K.t)));var ke=z.select("."+k.cbtitleunshift).attr("transform",r(-Math.round(K.l),-Math.round(K.t))),we=Pt.ticklabelposition,me=Pt.title.font.size,Me=z.select("."+k.cbaxis),Se,Ve=0,Ze=0;function tt(Tt,zt){var qt={propContainer:Pt,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:z.select("."+k.cbtitle)},Sr=Tt.charAt(0)==="h"?Tt.substr(1):"h"+Tt;z.selectAll("."+Sr+",."+Sr+"-math-group").remove(),u.draw(G,Tt,t(qt,zt||{}))}function ct(){if(F&&Ht||!F&&!Ht){var Tt,zt;xe==="top"&&(Tt=J+K.l+at*se,zt=Z+K.t+lt*(1-pt-Ge)+3+me*.75),xe==="bottom"&&(Tt=J+K.l+at*se,zt=Z+K.t+lt*(1-pt)-3-me*.25),xe==="right"&&(zt=Z+K.t+lt*$+3+me*.75,Tt=J+K.l+at*pt),tt(Pt._id+"title",{attributes:{x:Tt,y:zt,"text-anchor":F?"start":"middle"}})}}function gt(){if(F&&!Ht||!F&&Ht){var Tt=Pt.position||0,zt=Pt._offset+Pt._length/2,qt,Sr;if(xe==="right")Sr=zt,qt=K.l+at*Tt+10+me*(Pt.showticklabels?1:.5);else if(qt=zt,xe==="bottom"&&(Sr=K.t+lt*Tt+10+(we.indexOf("inside")===-1?Pt.tickfont.size:0)+(Pt.ticks!=="intside"&&_.ticklen||0)),xe==="top"){var yt=ce.text.split("<br>").length;Sr=K.t+lt*Tt+10-Ue-g*me*yt}tt((F?"h":"v")+Pt._id+"title",{avoid:{selection:p.select(G).selectAll("g."+Pt._id+"tick"),side:xe,offsetTop:F?0:K.t,offsetLeft:F?K.l:0,maxShift:F?Q.width:Q.height},attributes:{x:qt,y:Sr,"text-anchor":"middle"},transform:{rotate:F?-90:0,offset:0}})}}function jt(){if(!F&&!Ht||F&&Ht){var Tt=z.select("."+k.cbtitle),zt=Tt.select("text"),qt=[-Y/2,Y/2],Sr=Tt.select(".h"+Pt._id+"title-math-group").node(),yt=15.6;zt.node()&&(yt=parseInt(zt.node().style.fontSize,10)*g);var Zt;if(Sr?(Zt=a.bBox(Sr),Ze=Zt.width,Ve=Zt.height,Ve>yt&&(qt[1]-=(Ve-yt)/2)):zt.node()&&!zt.classed(k.jsPlaceholder)&&(Zt=a.bBox(zt.node()),Ze=Zt.width,Ve=Zt.height),F){if(Ve){if(Ve+=5,xe==="top")Pt.domain[1]-=Ve/K.h,qt[1]*=-1;else{Pt.domain[0]+=Ve/K.h;var Jt=s.lineCount(zt);qt[1]+=(1-Jt)*yt}Tt.attr("transform",r(qt[0],qt[1])),Pt.setScale()}}else Ze&&(xe==="right"&&(Pt.domain[0]+=(Ze+me/2)/K.w),Tt.attr("transform",r(qt[0],qt[1])),Pt.setScale())}z.selectAll("."+k.cbfills+",."+k.cblines).attr("transform",F?r(0,Math.round(K.h*(1-Pt.domain[1]))):r(Math.round(K.w*Pt.domain[0]),0)),Me.attr("transform",F?r(0,Math.round(-K.t)):r(Math.round(-K.l),0));var mr=z.select("."+k.cbfills).selectAll("rect."+k.cbfill).attr("style","").data(be);mr.enter().append("rect").classed(k.cbfill,!0).attr("style",""),mr.exit().remove();var sr=Le.map(Pt.c2p).map(Math.round).sort(function(Rt,Lt){return Rt-Lt});mr.each(function(Rt,Lt){var Ot=[Lt===0?Le[0]:(be[Lt]+be[Lt-1])/2,Lt===be.length-1?Le[1]:(be[Lt]+be[Lt+1])/2].map(Pt.c2p).map(Math.round);F&&(Ot[1]=y.constrain(Ot[1]+(Ot[1]>Ot[0])?1:-1,sr[0],sr[1]));var Nt=p.select(this).attr(F?"x":"y",qe).attr(F?"y":"x",p.min(Ot)).attr(F?"width":"height",Math.max(Ue,2)).attr(F?"height":"width",Math.max(p.max(Ot)-p.min(Ot),2));if(_._fillgradient)a.gradient(Nt,G,_._id,F?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var Xt=Oe(Rt).replace("e-","");Nt.attr("fill",L(Xt).toHexString())}});var vt=z.select("."+k.cblines).selectAll("path."+k.cbline).data(ie.color&&ie.width?Ce:[]);vt.enter().append("path").classed(k.cbline,!0),vt.exit().remove(),vt.each(function(Rt){var Lt=qe,Ot=Math.round(Pt.c2p(Rt))+ie.width/2%1;p.select(this).attr("d","M"+(F?Lt+","+Ot:Ot+","+Lt)+(F?"h":"v")+Ue).call(a.lineGroupStyle,ie.width,Ae(Rt),ie.dash)}),Me.selectAll("g."+Pt._id+"tick,path").remove();var it=qe+Ue+(Y||0)/2-(_.ticks==="outside"?1:0),xt=T.calcTicks(Pt),St=T.getTickSigns(Pt)[2];return T.drawTicks(G,Pt,{vals:Pt.ticks==="inside"?T.clipEnds(Pt,xt):xt,layer:Me,path:T.makeTickPath(Pt,it,St),transFn:T.makeTransTickFn(Pt)}),T.drawLabels(G,Pt,{vals:xt,layer:Me,transFn:T.makeTransTickLabelFn(Pt),labelFns:T.makeLabelFns(Pt,it)})}function Kt(){var Tt,zt=Ue+Y/2;we.indexOf("inside")===-1&&(Tt=a.bBox(Me.node()),zt+=F?Tt.width:Tt.height),Se=ke.select("text");var qt=0,Sr=F&&xe==="top",yt=!F&&xe==="right",Zt=0;if(Se.node()&&!Se.classed(k.jsPlaceholder)){var Jt,mr=ke.select(".h"+Pt._id+"title-math-group").node();mr&&(F&&Ht||!F&&!Ht)?(Tt=a.bBox(mr),qt=Tt.width,Jt=Tt.height):(Tt=a.bBox(ke.node()),qt=Tt.right-K.l-(F?qe:At),Jt=Tt.bottom-K.t-(F?At:qe),!F&&xe==="top"&&(zt+=Tt.height,Zt=Tt.height)),yt&&(Se.attr("transform",r(qt/2+me/2,0)),qt*=2),zt=Math.max(zt,F?qt:Jt)}var sr=(F?J:Z)*2+zt+q+Y/2,vt=0;!F&&ce.text&&he==="bottom"&&$<=0&&(vt=sr/2,sr+=vt,Zt+=vt),Q._hColorbarMoveTitle=vt,Q._hColorbarMoveCBTitle=Zt;var it=q+Y,xt=(F?qe:At)-it/2-(F?J:0),St=(F?At:qe)-(F?Ie:Z+Zt-vt);z.select("."+k.cbbg).attr("x",xt).attr("y",St).attr(F?"width":"height",Math.max(sr-vt,2)).attr(F?"height":"width",Math.max(Ie+it,2)).call(h.fill,ne).call(h.stroke,_.bordercolor).style("stroke-width",q);var Rt=yt?Math.max(qt-10,0):0;z.selectAll("."+k.cboutline).attr("x",(F?qe:At+J)+Rt).attr("y",(F?At+Z-Ie:qe)+(Sr?Ve:0)).attr(F?"width":"height",Math.max(Ue,2)).attr(F?"height":"width",Math.max(Ie-(F?2*Z+Ve:2*J+Rt),2)).call(h.stroke,_.outlinecolor).style({fill:"none","stroke-width":Y});var Lt=F?et*sr:0,Ot=F?0:(1-ft)*sr-Zt;if(Lt=le?K.l-Lt:-Lt,Ot=ee?K.t-Ot:-Ot,z.attr("transform",r(Lt,Ot)),!F&&(q||L(ne).getAlpha()&&!L.equals(Q.paper_bgcolor,ne))){var Nt=Me.selectAll("text"),Xt=Nt[0].length,ur=z.select("."+k.cbbg).node(),cr=a.bBox(ur),dr=a.getTranslate(z),Ye=2;Nt.each(function(br,yr){var vr=0,Gr=Xt-1;if(yr===vr||yr===Gr){var _r=a.bBox(this),Dr=a.getTranslate(this),pn;if(yr===Gr){var nn=_r.right+Dr.x,Un=cr.right+dr.x+At-q-Ye+se;pn=Un-nn,pn>0&&(pn=0)}else if(yr===vr){var Tn=_r.left+Dr.x,Cr=cr.left+dr.x+At+q+Ye;pn=Cr-Tn,pn<0&&(pn=0)}pn&&(Xt<3?this.setAttribute("transform","translate("+pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var je={},It=M[oe],Dt=A[oe],Yt=M[he],tr=A[he],fr=sr-Ue;F?(U==="pixels"?(je.y=$,je.t=Ie*Yt,je.b=Ie*tr):(je.t=je.b=0,je.yt=$+N*Yt,je.yb=$-N*tr),H==="pixels"?(je.x=se,je.l=sr*It,je.r=sr*Dt):(je.l=fr*It,je.r=fr*Dt,je.xl=se-O*It,je.xr=se+O*Dt)):(U==="pixels"?(je.x=se,je.l=Ie*It,je.r=Ie*Dt):(je.l=je.r=0,je.xl=se+N*It,je.xr=se-N*Dt),H==="pixels"?(je.y=1-$,je.t=sr*Yt,je.b=sr*tr):(je.t=fr*Yt,je.b=fr*tr,je.yt=$-O*Yt,je.yb=$+O*tr));var rr=_.y<.5?"b":"t",Ft=_.x<.5?"l":"r";G._fullLayout._reservedMargin[_._id]={};var hr={r:Q.width-xt-Lt,l:xt+je.r,b:Q.height-St-Ot,t:St+je.b};le&&ee?n.autoMargin(G,_._id,je):le?G._fullLayout._reservedMargin[_._id][rr]=hr[rr]:ee||F?G._fullLayout._reservedMargin[_._id][Ft]=hr[Ft]:G._fullLayout._reservedMargin[_._id][rr]=hr[rr]}return y.syncOrAsync([n.previousPromises,ct,jt,gt,n.previousPromises,Kt],G)}function o(z,_,G){var F=_.orientation==="v",N=G._fullLayout,U=N._size,O,H,Y;d.init({element:z.node(),gd:G,prepFn:function(){O=z.attr("transform"),i(z)},moveFn:function(q,ne){z.attr("transform",O+r(q,ne)),H=d.align((F?_._uFrac:_._vFrac)+q/U.w,F?_._thickFrac:_._lenFrac,0,1,_.xanchor),Y=d.align((F?_._vFrac:1-_._uFrac)-ne/U.h,F?_._lenFrac:_._thickFrac,0,1,_.yanchor);var oe=d.getCursor(H,Y,_.xanchor,_.yanchor);i(z,oe)},doneFn:function(){if(i(z),H!==void 0&&Y!==void 0){var q={};q[_._propPrefix+"x"]=H,q[_._propPrefix+"y"]=Y,_._traceIndex!==void 0?C.call("_guiRestyle",G,q,_._traceIndex):C.call("_guiRelayout",G,q)}}})}function P(z,_,G){var F=_._levels,N=[],U=[],O,H,Y=F.end+F.size/100,q=F.size,ne=1.001*G[0]-.001*G[1],oe=1.001*G[1]-.001*G[0];for(H=0;H<1e5&&(O=F.start+H*q,!(q>0?O>=Y:O<=Y));H++)O>ne&&O<oe&&N.push(O);if(_._fillgradient)U=[0];else if(typeof _._fillcolor=="function"){var he=_._filllevels;if(he)for(Y=he.end+he.size/100,q=he.size,H=0;H<1e5&&(O=he.start+H*q,!(q>0?O>=Y:O<=Y));H++)O>G[0]&&O<G[1]&&U.push(O);else U=N.map(function(J){return J-F.size/2}),U.push(U[U.length-1]+F.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(U=[0]);return F.size<0&&(N.reverse(),U.reverse()),{line:N,fill:U}}function x(z,_,G){var F=z._fullLayout,N=_.orientation==="v",U={type:"linear",range:G,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:N?"right":"bottom",position:1},O=N?"y":"x",H={type:"linear",_id:O+_._id},Y={letter:O,font:F.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:F.calendar};function q(ne,oe){return y.coerce(U,H,v,ne,oe)}return f(U,H,q,Y,F),S(U,H,q,Y),H}V.exports={draw:w}},76228:function(V,B,e){var p=e(71828);V.exports=function(n){return p.isPlainObject(n.colorbar)}},12311:function(V,B,e){V.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(V,B,e){var p=e(63583),L=e(30587).counter,n=e(78607),C=e(63282).scales;n(C),V.exports=function(d,y){d=d||"",y=y||{};var r=y.cLetter||"c";"onlyIfNumerical"in y&&y.onlyIfNumerical;var t="noScale"in y?y.noScale:d==="marker.line",i="showScaleDflt"in y?y.showScaleDflt:r==="z",a=typeof y.colorscaleDflt=="string"?C[y.colorscaleDflt]:null,h=y.editTypeOverride||"",u;"colorAttr"in y?(u=y.colorAttr,y.colorAttr):u={z:"z",c:"color"}[r];var s=r+"auto",m=r+"min",f=r+"max",S=r+"mid",v={};v[m]=v[f]=void 0;var l={};l[s]=!1;var g={};return u==="color"&&(g.color={valType:"color",arrayOk:!0,editType:h||"style"},y.anim&&(g.color.anim=!0)),g[s]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},g[m]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:l},g[f]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:l},g[S]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},g.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},g.autocolorscale={valType:"boolean",dflt:y.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},g.reversescale={valType:"boolean",dflt:!1,editType:"plot"},t||(g.showscale={valType:"boolean",dflt:i,editType:"calc"},g.colorbar=p),y.noColorAxis||(g.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),g}},78803:function(V,B,e){var p=e(92770),L=e(71828),n=e(52075).extractOpts;V.exports=function(T,d,y){var r=T._fullLayout,t=y.vals,i=y.containerStr,a=i?L.nestedProperty(d,i).get():d,h=n(a),u=h.auto!==!1,s=h.min,m=h.max,f=h.mid,S=function(){return L.aggNums(Math.min,null,t)},v=function(){return L.aggNums(Math.max,null,t)};if(s===void 0?s=S():u&&(a._colorAx&&p(s)?s=Math.min(s,S()):s=S()),m===void 0?m=v():u&&(a._colorAx&&p(m)?m=Math.max(m,v()):m=v()),u&&f!==void 0&&(m-f>f-s?s=f-(m-f):m-f<f-s&&(m=f+(f-s))),s===m&&(s-=.5,m+=.5),h._sync("min",s),h._sync("max",m),h.autocolorscale){var l;s*m<0?l=r.colorscale.diverging:s>=0?l=r.colorscale.sequential:l=r.colorscale.sequentialminus,h._sync("colorscale",l)}}},33046:function(V,B,e){var p=e(71828),L=e(52075).hasColorscale,n=e(52075).extractOpts;V.exports=function(T,d){function y(s,m){var f=s["_"+m];f!==void 0&&(s[m]=f)}function r(s,m){var f=m.container?p.nestedProperty(s,m.container).get():s;if(f)if(f.coloraxis)f._colorAx=d[f.coloraxis];else{var S=n(f),v=S.auto;(v||S.min===void 0)&&y(f,m.min),(v||S.max===void 0)&&y(f,m.max),S.autocolorscale&&y(f,"colorscale")}}for(var t=0;t<T.length;t++){var i=T[t],a=i._module.colorbar;if(a)if(Array.isArray(a))for(var h=0;h<a.length;h++)r(i,a[h]);else r(i,a);L(i,"marker.line")&&r(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in d._colorAxes)r(d[u],{min:"cmin",max:"cmax"})}},1586:function(V,B,e){var p=e(92770),L=e(71828),n=e(76228),C=e(62499),T=e(63282).isValid,d=e(73972).traceIs;function y(r,t){var i=t.slice(0,t.length-1);return t?L.nestedProperty(r,i).get()||{}:r}V.exports=function r(t,i,a,h,u){var s=u.prefix,m=u.cLetter,f="_module"in i,S=y(t,s),v=y(i,s),l=y(i._template||{},s)||{},g=function(){return delete t.coloraxis,delete i.coloraxis,r(t,i,a,h,u)};if(f){var M=a._colorAxes||{},A=h(s+"coloraxis");if(A){var k=d(i,"contour")&&L.nestedProperty(i,"contours.coloring").get()||"heatmap",w=M[A];w?(w[2].push(g),w[0]!==k&&(w[0]=!1,L.warn(["Ignoring coloraxis:",A,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[A]=[k,i,[g]];return}}var E=S[m+"min"],b=S[m+"max"],o=p(E)&&p(b)&&E<b,P=h(s+m+"auto",!o);P?h(s+m+"mid"):(h(s+m+"min"),h(s+m+"max"));var x=S.colorscale,z=l.colorscale,_;if(x!==void 0&&(_=!T(x)),z!==void 0&&(_=!T(z)),h(s+"autocolorscale",_),h(s+"colorscale"),h(s+"reversescale"),s!=="marker.line."){var G;s&&f&&(G=n(S));var F=h(s+"showscale",G);F&&(s&&l&&(v._template=l),C(S,v,a))}}},52075:function(V,B,e){var p=e(39898),L=e(84267),n=e(92770),C=e(71828),T=e(7901),d=e(63282).isValid;function y(f,S,v){var l=S?C.nestedProperty(f,S).get()||{}:f,g=l[v||"color"];g&&g._inputArray&&(g=g._inputArray);var M=!1;if(C.isArrayOrTypedArray(g)){for(var A=0;A<g.length;A++)if(n(g[A])){M=!0;break}}return C.isPlainObject(l)&&(M||l.showscale===!0||n(l.cmin)&&n(l.cmax)||d(l.colorscale)||C.isPlainObject(l.colorbar))}var r=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(f){var S=f._colorAx,v=S||f,l={},g,M,A;for(M=0;M<r.length;M++)A=r[M],l[A]=v[A];if(S)for(g="c",M=0;M<t.length;M++)A=t[M],l[A]=v["c"+A];else{var k;for(M=0;M<t.length;M++){if(A=t[M],k="c"+A,k in v){l[A]=v[k];continue}k="z"+A,k in v&&(l[A]=v[k])}g=k.charAt(0)}return l._sync=function(w,E){var b=t.indexOf(w)!==-1?g+w:w;v[b]=v["_"+b]=E},l}function a(f){for(var S=i(f),v=S.min,l=S.max,g=S.reversescale?h(S.colorscale):S.colorscale,M=g.length,A=new Array(M),k=new Array(M),w=0;w<M;w++){var E=g[w];A[w]=v+E[0]*(l-v),k[w]=E[1]}return{domain:A,range:k}}function h(f){for(var S=f.length,v=new Array(S),l=S-1,g=0;l>=0;l--,g++){var M=f[l];v[g]=[1-M[0],M[1]]}return v}function u(f,S){S=S||{};for(var v=f.domain,l=f.range,g=l.length,M=new Array(g),A=0;A<g;A++){var k=L(l[A]).toRgb();M[A]=[k.r,k.g,k.b,k.a]}var w=p.scale.linear().domain(v).range(M).clamp(!0),E=S.noNumericCheck,b=S.returnArray,o;return E&&b?o=w:E?o=function(P){return m(w(P))}:b?o=function(P){return n(P)?w(P):L(P).isValid()?P:T.defaultLine}:o=function(P){return n(P)?m(w(P)):L(P).isValid()?P:T.defaultLine},o.domain=w.domain,o.range=function(){return l},o}function s(f,S){return u(a(f),S)}function m(f){var S={r:f[0],g:f[1],b:f[2],a:f[3]};return L(S).toRgbString()}V.exports={hasColorscale:y,extractOpts:i,extractScale:a,flipScale:h,makeColorScaleFunc:u,makeColorScaleFuncFromTrace:s}},21081:function(V,B,e){var p=e(63282),L=e(52075);V.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},72673:function(V,B,e){var p=e(1426).extendFlat,L=e(50693),n=e(63282).scales;V.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(V,B,e){var p=e(71828),L=e(44467),n=e(72673),C=e(1586);V.exports=function(d,y){function r(f,S){return p.coerce(d,y,n,f,S)}r("colorscale.sequential"),r("colorscale.sequentialminus"),r("colorscale.diverging");var t=y._colorAxes,i,a;function h(f,S){return p.coerce(i,a,n.coloraxis,f,S)}for(var u in t){var s=t[u];if(s[0])i=d[u]||{},a=L.newContainer(y,u,"coloraxis"),a._name=u,C(i,a,y,h,{prefix:"",cLetter:"c"});else{for(var m=0;m<s[2].length;m++)s[2][m]();delete y._colorAxes[u]}}}},63282:function(V,B,e){var p=e(84267),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=L.RdBu;function C(y,r){if(r||(r=n),!y)return r;function t(){try{y=L[y]||JSON.parse(y)}catch{y=r}}return typeof y=="string"&&(t(),typeof y=="string"&&t()),T(y)?y:r}function T(y){var r=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||+y[0][0]!=0||+y[y.length-1][0]!=1)return!1;for(var t=0;t<y.length;t++){var i=y[t];if(i.length!==2||+i[0]<r||!p(i[1]).isValid())return!1;r=+i[0]}return!0}function d(y){return L[y]!==void 0?!0:T(y)}V.exports={scales:L,defaultScale:n,get:C,isValid:d}},92807:function(V){V.exports=function(e,p,L,n,C){var T=(e-L)/(n-L),d=T+p/(n-L),y=(T+d)/2;return C==="left"||C==="bottom"?T:C==="center"||C==="middle"?y:C==="right"||C==="top"?d:T<.6666666666666666-y?T:d>1.3333333333333333-y?d:y}},70461:function(V,B,e){var p=e(71828),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];V.exports=function(C,T,d,y){return d==="left"?C=0:d==="center"?C=1:d==="right"?C=2:C=p.constrain(Math.floor(C*3),0,2),y==="bottom"?T=0:y==="middle"?T=1:y==="top"?T=2:T=p.constrain(Math.floor(T*3),0,2),L[T][C]}},64505:function(V,B){B.selectMode=function(e){return e==="lasso"||e==="select"},B.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},B.openMode=function(e){return e==="drawline"||e==="drawopenpath"},B.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},B.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},B.selectingOrDrawing=function(e){return B.freeMode(e)||B.rectMode(e)}},28569:function(V,B,e){var p=e(48956),L=e(57035),n=e(38520),C=e(71828).removeElement,T=e(85555),d=V.exports={};d.align=e(92807),d.getCursor=e(70461);var y=e(26041);d.unhover=y.wrapped,d.unhoverRaw=y.raw,d.init=function(a){var h=a.gd,u=1,s=h._context.doubleClickDelay,m=a.element,f,S,v,l,g,M,A,k;h._mouseDownTime||(h._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=b,n?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=b,m.addEventListener("touchstart",b,{passive:!1})):m.ontouchstart=b;function w(x,z,_){return Math.abs(x)<_&&(x=0),Math.abs(z)<_&&(z=0),[x,z]}var E=a.clampFn||w;function b(x){h._dragged=!1,h._dragging=!0;var z=t(x);f=z[0],S=z[1],A=x.target,M=x,k=x.buttons===2||x.ctrlKey,typeof x.clientX>"u"&&typeof x.clientY>"u"&&(x.clientX=f,x.clientY=S),v=new Date().getTime(),v-h._mouseDownTime<s?u+=1:(u=1,h._mouseDownTime=v),a.prepFn&&a.prepFn(x,f,S),L&&!k?(g=r(),g.style.cursor=window.getComputedStyle(m).cursor):L||(g=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",P),document.addEventListener("touchend",P),a.dragmode!==!1&&(x.preventDefault(),document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}))}function o(x){x.preventDefault();var z=t(x),_=a.minDrag||T.MINDRAG,G=E(z[0]-f,z[1]-S,_),F=G[0],N=G[1];(F||N)&&(h._dragged=!0,d.unhover(h,x)),h._dragged&&a.moveFn&&!k&&(h._dragdata={element:m,dx:F,dy:N},a.moveFn(F,N))}function P(x){if(delete h._dragdata,a.dragmode!==!1&&(x.preventDefault(),document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o)),document.removeEventListener("mouseup",P),document.removeEventListener("touchend",P),L?C(g):l&&(g.documentElement.style.cursor=l,l=null),!h._dragging){h._dragged=!1;return}if(h._dragging=!1,new Date().getTime()-h._mouseDownTime>s&&(u=Math.max(u-1,1)),h._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(u,M),!k){var z;try{z=new MouseEvent("click",x)}catch{var _=t(x);z=document.createEvent("MouseEvents"),z.initMouseEvent("click",x.bubbles,x.cancelable,x.view,x.detail,x.screenX,x.screenY,_[0],_[1],x.ctrlKey,x.altKey,x.shiftKey,x.metaKey,x.button,x.relatedTarget)}A.dispatchEvent(z)}h._dragging=!1,h._dragged=!1}};function r(){var i=document.createElement("div");i.className="dragcover";var a=i.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(i),i}d.coverSlip=r;function t(i){return p(i.changedTouches?i.changedTouches[0]:i,document.body)}},26041:function(V,B,e){var p=e(11086),L=e(79990),n=e(24401).getGraphDiv,C=e(26675),T=V.exports={};T.wrapped=function(d,y,r){d=n(d),d._fullLayout&&L.clear(d._fullLayout._uid+C.HOVERID),T.raw(d,y,r)},T.raw=function(y,r){var t=y._fullLayout,i=y._hoverdata;r||(r={}),!(r.target&&!y._dragged&&p.triggerHandler(y,"plotly_beforehover",r)===!1)&&(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,r.target&&i&&y.emit("plotly_unhover",{event:r,points:i}))}},79952:function(V,B){B.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(92770),T=e(84267),d=e(73972),y=e(7901),r=e(21081),t=L.strTranslate,i=e(63893),a=e(77922),h=e(18783),u=h.LINE_SPACING,s=e(37822).DESELECTDIM,m=e(34098),f=e(39984),S=e(23469).appendArrayPointValue,v=V.exports={};v.font=function(Ee,be,Ce,Ue){L.isPlainObject(be)&&(Ue=be.color,Ce=be.size,be=be.family),be&&Ee.style("font-family",be),Ce+1&&Ee.style("font-size",Ce+"px"),Ue&&Ee.call(y.fill,Ue)},v.setPosition=function(Ee,be,Ce){Ee.attr("x",be).attr("y",Ce)},v.setSize=function(Ee,be,Ce){Ee.attr("width",be).attr("height",Ce)},v.setRect=function(Ee,be,Ce,Ue,He){Ee.call(v.setPosition,be,Ce).call(v.setSize,Ue,He)},v.translatePoint=function(Ee,be,Ce,Ue){var He=Ce.c2p(Ee.x),Ie=Ue.c2p(Ee.y);if(C(He)&&C(Ie)&&be.node())be.node().nodeName==="text"?be.attr("x",He).attr("y",Ie):be.attr("transform",t(He,Ie));else return!1;return!0},v.translatePoints=function(Ee,be,Ce){Ee.each(function(Ue){var He=p.select(this);v.translatePoint(Ue,He,be,Ce)})},v.hideOutsideRangePoint=function(Ee,be,Ce,Ue,He,Ie){be.attr("display",Ce.isPtWithinRange(Ee,He)&&Ue.isPtWithinRange(Ee,Ie)?null:"none")},v.hideOutsideRangePoints=function(Ee,be){if(be._hasClipOnAxisFalse){var Ce=be.xaxis,Ue=be.yaxis;Ee.each(function(He){var Ie=He[0].trace,Ge=Ie.xcalendar,at=Ie.ycalendar,lt=d.traceIs(Ie,"bar-like")?".bartext":".point,.textpoint";Ee.selectAll(lt).each(function(qe){v.hideOutsideRangePoint(qe,p.select(this),Ce,Ue,Ge,at)})})}},v.crispRound=function(Ee,be,Ce){return!be||!C(be)?Ce||0:Ee._context.staticPlot?be:be<1?1:Math.round(be)},v.singleLineStyle=function(Ee,be,Ce,Ue,He){be.style("fill","none");var Ie=(((Ee||[])[0]||{}).trace||{}).line||{},Ge=Ce||Ie.width||0,at=He||Ie.dash||"";y.stroke(be,Ue||Ie.color),v.dashLine(be,at,Ge)},v.lineGroupStyle=function(Ee,be,Ce,Ue){Ee.style("fill","none").each(function(He){var Ie=(((He||[])[0]||{}).trace||{}).line||{},Ge=be||Ie.width||0,at=Ue||Ie.dash||"";p.select(this).call(y.stroke,Ce||Ie.color).call(v.dashLine,at,Ge)})},v.dashLine=function(Ee,be,Ce){Ce=+Ce||0,be=v.dashStyle(be,Ce),Ee.style({"stroke-dasharray":be,"stroke-width":Ce+"px"})},v.dashStyle=function(Ee,be){be=+be||1;var Ce=Math.max(be,3);return Ee==="solid"?Ee="":Ee==="dot"?Ee=Ce+"px,"+Ce+"px":Ee==="dash"?Ee=3*Ce+"px,"+3*Ce+"px":Ee==="longdash"?Ee=5*Ce+"px,"+5*Ce+"px":Ee==="dashdot"?Ee=3*Ce+"px,"+Ce+"px,"+Ce+"px,"+Ce+"px":Ee==="longdashdot"&&(Ee=5*Ce+"px,"+2*Ce+"px,"+Ce+"px,"+2*Ce+"px"),Ee};function l(Ee,be,Ce){var Ue=be.fillpattern,He=Ue&&v.getPatternAttr(Ue.shape,0,"");if(He){var Ie=v.getPatternAttr(Ue.bgcolor,0,null),Ge=v.getPatternAttr(Ue.fgcolor,0,null),at=Ue.fgopacity,lt=v.getPatternAttr(Ue.size,0,8),qe=v.getPatternAttr(Ue.solidity,0,.3),et=be.uid;v.pattern(Ee,"point",Ce,et,He,lt,qe,void 0,Ue.fillmode,Ie,Ge,at)}else be.fillcolor&&Ee.call(y.fill,be.fillcolor)}v.singleFillStyle=function(Ee,be){var Ce=p.select(Ee.node()),Ue=Ce.data(),He=((Ue[0]||[])[0]||{}).trace||{};l(Ee,He,be)},v.fillGroupStyle=function(Ee,be){Ee.style("stroke-width",0).each(function(Ce){var Ue=p.select(this);Ce[0].trace&&l(Ue,Ce[0].trace,be)})};var g=e(90998);v.symbolNames=[],v.symbolFuncs=[],v.symbolBackOffs=[],v.symbolNeedLines={},v.symbolNoDot={},v.symbolNoFill={},v.symbolList=[],Object.keys(g).forEach(function(Ee){var be=g[Ee],Ce=be.n;v.symbolList.push(Ce,String(Ce),Ee,Ce+100,String(Ce+100),Ee+"-open"),v.symbolNames[Ce]=Ee,v.symbolFuncs[Ce]=be.f,v.symbolBackOffs[Ce]=be.backoff||0,be.needLine&&(v.symbolNeedLines[Ce]=!0),be.noDot?v.symbolNoDot[Ce]=!0:v.symbolList.push(Ce+200,String(Ce+200),Ee+"-dot",Ce+300,String(Ce+300),Ee+"-open-dot"),be.noFill&&(v.symbolNoFill[Ce]=!0)});var M=v.symbolNames.length,A="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";v.symbolNumber=function(Ee){if(C(Ee))Ee=+Ee;else if(typeof Ee=="string"){var be=0;Ee.indexOf("-open")>0&&(be=100,Ee=Ee.replace("-open","")),Ee.indexOf("-dot")>0&&(be+=200,Ee=Ee.replace("-dot","")),Ee=v.symbolNames.indexOf(Ee),Ee>=0&&(Ee+=be)}return Ee%100>=M||Ee>=400?0:Math.floor(Math.max(Ee,0))};function k(Ee,be,Ce,Ue){var He=Ee%100;return v.symbolFuncs[He](be,Ce,Ue)+(Ee>=200?A:"")}var w={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},b=n("~f"),o={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:w},horizontalreversed:{node:"linearGradient",attrs:w,reversed:!0},vertical:{node:"linearGradient",attrs:E},verticalreversed:{node:"linearGradient",attrs:E,reversed:!0}};v.gradient=function(Ee,be,Ce,Ue,He,Ie){for(var Ge=He.length,at=o[Ue],lt=new Array(Ge),qe=0;qe<Ge;qe++)at.reversed?lt[Ge-1-qe]=[b((1-He[qe][0])*100),He[qe][1]]:lt[qe]=[b(He[qe][0]*100),He[qe][1]];var et=be._fullLayout,ft="g"+et._uid+"-"+Ce,dt=et._defs.select(".gradients").selectAll("#"+ft).data([Ue+lt.join(";")],L.identity);dt.exit().remove(),dt.enter().append(at.node).each(function(){var pt=p.select(this);at.attrs&&pt.attr(at.attrs),pt.attr("id",ft);var At=pt.selectAll("stop").data(lt);At.exit().remove(),At.enter().append("stop"),At.each(function(Pt){var Ht=T(Pt[1]);p.select(this).attr({offset:Pt[0]+"%","stop-color":y.tinyRGB(Ht),"stop-opacity":Ht.getAlpha()})})}),Ee.style(Ie,Z(ft,be)).style(Ie+"-opacity",null),Ee.classed("gradient_filled",!0)},v.pattern=function(Ee,be,Ce,Ue,He,Ie,Ge,at,lt,qe,et,ft){var dt=be==="legend";at&&(lt==="overlay"?(qe=at,et=y.contrast(qe)):(qe=void 0,et=at));var pt=Ce._fullLayout,At="p"+pt._uid+"-"+Ue,Pt,Ht,Je=function(ct,gt,jt,Kt,Tt){return Kt+(Tt-Kt)*(ct-gt)/(jt-gt)},We,_e,Ne,ke,we={},me=T(et),Me=y.tinyRGB(me),Se=me.getAlpha(),Ve=ft*Se;switch(He){case"/":Pt=Ie*Math.sqrt(2),Ht=Ie*Math.sqrt(2),We="M-"+Pt/4+","+Ht/4+"l"+Pt/2+",-"+Ht/2+"M0,"+Ht+"L"+Pt+",0M"+Pt/4*3+","+Ht/4*5+"l"+Pt/2+",-"+Ht/2,_e=Ge*Ie,ke="path",we={d:We,opacity:Ve,stroke:Me,"stroke-width":_e+"px"};break;case"\\":Pt=Ie*Math.sqrt(2),Ht=Ie*Math.sqrt(2),We="M"+Pt/4*3+",-"+Ht/4+"l"+Pt/2+","+Ht/2+"M0,0L"+Pt+","+Ht+"M-"+Pt/4+","+Ht/4*3+"l"+Pt/2+","+Ht/2,_e=Ge*Ie,ke="path",we={d:We,opacity:Ve,stroke:Me,"stroke-width":_e+"px"};break;case"x":Pt=Ie*Math.sqrt(2),Ht=Ie*Math.sqrt(2),We="M-"+Pt/4+","+Ht/4+"l"+Pt/2+",-"+Ht/2+"M0,"+Ht+"L"+Pt+",0M"+Pt/4*3+","+Ht/4*5+"l"+Pt/2+",-"+Ht/2+"M"+Pt/4*3+",-"+Ht/4+"l"+Pt/2+","+Ht/2+"M0,0L"+Pt+","+Ht+"M-"+Pt/4+","+Ht/4*3+"l"+Pt/2+","+Ht/2,_e=Ie-Ie*Math.sqrt(1-Ge),ke="path",we={d:We,opacity:Ve,stroke:Me,"stroke-width":_e+"px"};break;case"|":Pt=Ie,Ht=Ie,ke="path",We="M"+Pt/2+",0L"+Pt/2+","+Ht,_e=Ge*Ie,ke="path",we={d:We,opacity:Ve,stroke:Me,"stroke-width":_e+"px"};break;case"-":Pt=Ie,Ht=Ie,ke="path",We="M0,"+Ht/2+"L"+Pt+","+Ht/2,_e=Ge*Ie,ke="path",we={d:We,opacity:Ve,stroke:Me,"stroke-width":_e+"px"};break;case"+":Pt=Ie,Ht=Ie,ke="path",We="M"+Pt/2+",0L"+Pt/2+","+Ht+"M0,"+Ht/2+"L"+Pt+","+Ht/2,_e=Ie-Ie*Math.sqrt(1-Ge),ke="path",we={d:We,opacity:Ve,stroke:Me,"stroke-width":_e+"px"};break;case".":Pt=Ie,Ht=Ie,Ge<Math.PI/4?Ne=Math.sqrt(Ge*Ie*Ie/Math.PI):Ne=Je(Ge,Math.PI/4,1,Ie/2,Ie/Math.sqrt(2)),ke="circle",we={cx:Pt/2,cy:Ht/2,r:Ne,opacity:Ve,fill:Me};break}var Ze=[He||"noSh",qe||"noBg",et||"noFg",Ie,Ge].join(";"),tt=pt._defs.select(".patterns").selectAll("#"+At).data([Ze],L.identity);tt.exit().remove(),tt.enter().append("pattern").each(function(){var ct=p.select(this);if(ct.attr({id:At,width:Pt+"px",height:Ht+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),qe){var gt=T(qe),jt=y.tinyRGB(gt),Kt=gt.getAlpha(),Tt=ct.selectAll("rect").data([0]);Tt.exit().remove(),Tt.enter().append("rect").attr({width:Pt+"px",height:Ht+"px",fill:jt,"fill-opacity":Kt})}var zt=ct.selectAll(ke).data([0]);zt.exit().remove(),zt.enter().append(ke).attr(we)}),Ee.style("fill",Z(At,Ce)).style("fill-opacity",null),Ee.classed("pattern_filled",!0)},v.initGradients=function(Ee){var be=Ee._fullLayout,Ce=L.ensureSingle(be._defs,"g","gradients");Ce.selectAll("linearGradient,radialGradient").remove(),p.select(Ee).selectAll(".gradient_filled").classed("gradient_filled",!1)},v.initPatterns=function(Ee){var be=Ee._fullLayout,Ce=L.ensureSingle(be._defs,"g","patterns");Ce.selectAll("pattern").remove(),p.select(Ee).selectAll(".pattern_filled").classed("pattern_filled",!1)},v.getPatternAttr=function(Ee,be,Ce){return Ee&&L.isArrayOrTypedArray(Ee)?be<Ee.length?Ee[be]:Ce:Ee},v.pointStyle=function(Ee,be,Ce,Ue){if(Ee.size()){var He=v.makePointStyleFns(be);Ee.each(function(Ie){v.singlePointStyle(Ie,p.select(this),be,He,Ce,Ue)})}},v.singlePointStyle=function(Ee,be,Ce,Ue,He,Ie){var Ge=Ce.marker,at=Ge.line;if(Ie&&Ie.i>=0&&Ee.i===void 0&&(Ee.i=Ie.i),be.style("opacity",Ue.selectedOpacityFn?Ue.selectedOpacityFn(Ee):Ee.mo===void 0?Ge.opacity:Ee.mo),Ue.ms2mrc){var lt;Ee.ms==="various"||Ge.size==="various"?lt=3:lt=Ue.ms2mrc(Ee.ms),Ee.mrc=lt,Ue.selectedSizeFn&&(lt=Ee.mrc=Ue.selectedSizeFn(Ee));var qe=v.symbolNumber(Ee.mx||Ge.symbol)||0;Ee.om=qe%200>=100;var et=ze(Ee,Ce),ft=ee(Ee,Ce);be.attr("d",k(qe,lt,et,ft))}var dt=!1,pt,At,Pt;if(Ee.so)Pt=at.outlierwidth,At=at.outliercolor,pt=Ge.outliercolor;else{var Ht=(at||{}).width;Pt=(Ee.mlw+1||Ht+1||(Ee.trace?(Ee.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ee?At=Ee.mlcc=Ue.lineScale(Ee.mlc):L.isArrayOrTypedArray(at.color)?At=y.defaultLine:At=at.color,L.isArrayOrTypedArray(Ge.color)&&(pt=y.defaultLine,dt=!0),"mc"in Ee?pt=Ee.mcc=Ue.markerScale(Ee.mc):pt=Ge.color||Ge.colors||"rgba(0,0,0,0)",Ue.selectedColorFn&&(pt=Ue.selectedColorFn(Ee))}if(Ee.om)be.call(y.stroke,pt).style({"stroke-width":(Pt||1)+"px",fill:"none"});else{be.style("stroke-width",(Ee.isBlank?0:Pt)+"px");var Je=Ge.gradient,We=Ee.mgt;We?dt=!0:We=Je&&Je.type,L.isArrayOrTypedArray(We)&&(We=We[0],o[We]||(We=0));var _e=Ge.pattern,Ne=_e&&v.getPatternAttr(_e.shape,Ee.i,"");if(We&&We!=="none"){var ke=Ee.mgc;ke?dt=!0:ke=Je.color;var we=Ce.uid;dt&&(we+="-"+Ee.i),v.gradient(be,He,we,We,[[0,ke],[1,pt]],"fill")}else if(Ne){var me=!1,Me=_e.fgcolor;!Me&&Ie&&Ie.color&&(Me=Ie.color,me=!0);var Se=v.getPatternAttr(Me,Ee.i,Ie&&Ie.color||null),Ve=v.getPatternAttr(_e.bgcolor,Ee.i,null),Ze=_e.fgopacity,tt=v.getPatternAttr(_e.size,Ee.i,8),ct=v.getPatternAttr(_e.solidity,Ee.i,.3);me=me||Ee.mcc||L.isArrayOrTypedArray(_e.shape)||L.isArrayOrTypedArray(_e.bgcolor)||L.isArrayOrTypedArray(_e.fgcolor)||L.isArrayOrTypedArray(_e.size)||L.isArrayOrTypedArray(_e.solidity);var gt=Ce.uid;me&&(gt+="-"+Ee.i),v.pattern(be,"point",He,gt,Ne,tt,ct,Ee.mcc,_e.fillmode,Ve,Se,Ze)}else L.isArrayOrTypedArray(pt)?y.fill(be,pt[Ee.i]):y.fill(be,pt);Pt&&y.stroke(be,At)}},v.makePointStyleFns=function(Ee){var be={},Ce=Ee.marker;return be.markerScale=v.tryColorscale(Ce,""),be.lineScale=v.tryColorscale(Ce,"line"),d.traceIs(Ee,"symbols")&&(be.ms2mrc=m.isBubble(Ee)?f(Ee):function(){return(Ce.size||6)/2}),Ee.selectedpoints&&L.extendFlat(be,v.makeSelectedPointStyleFns(Ee)),be},v.makeSelectedPointStyleFns=function(Ee){var be={},Ce=Ee.selected||{},Ue=Ee.unselected||{},He=Ee.marker||{},Ie=Ce.marker||{},Ge=Ue.marker||{},at=He.opacity,lt=Ie.opacity,qe=Ge.opacity,et=lt!==void 0,ft=qe!==void 0;(L.isArrayOrTypedArray(at)||et||ft)&&(be.selectedOpacityFn=function(Ne){var ke=Ne.mo===void 0?He.opacity:Ne.mo;return Ne.selected?et?lt:ke:ft?qe:s*ke});var dt=He.color,pt=Ie.color,At=Ge.color;(pt||At)&&(be.selectedColorFn=function(Ne){var ke=Ne.mcc||dt;return Ne.selected?pt||ke:At||ke});var Pt=He.size,Ht=Ie.size,Je=Ge.size,We=Ht!==void 0,_e=Je!==void 0;return d.traceIs(Ee,"symbols")&&(We||_e)&&(be.selectedSizeFn=function(Ne){var ke=Ne.mrc||Pt/2;return Ne.selected?We?Ht/2:ke:_e?Je/2:ke}),be},v.makeSelectedTextStyleFns=function(Ee){var be={},Ce=Ee.selected||{},Ue=Ee.unselected||{},He=Ee.textfont||{},Ie=Ce.textfont||{},Ge=Ue.textfont||{},at=He.color,lt=Ie.color,qe=Ge.color;return be.selectedTextColorFn=function(et){var ft=et.tc||at;return et.selected?lt||ft:qe||(lt?ft:y.addOpacity(ft,s))},be},v.selectedPointStyle=function(Ee,be){if(!(!Ee.size()||!be.selectedpoints)){var Ce=v.makeSelectedPointStyleFns(be),Ue=be.marker||{},He=[];Ce.selectedOpacityFn&&He.push(function(Ie,Ge){Ie.style("opacity",Ce.selectedOpacityFn(Ge))}),Ce.selectedColorFn&&He.push(function(Ie,Ge){y.fill(Ie,Ce.selectedColorFn(Ge))}),Ce.selectedSizeFn&&He.push(function(Ie,Ge){var at=Ge.mx||Ue.symbol||0,lt=Ce.selectedSizeFn(Ge);Ie.attr("d",k(v.symbolNumber(at),lt,ze(Ge,be),ee(Ge,be))),Ge.mrc2=lt}),He.length&&Ee.each(function(Ie){for(var Ge=p.select(this),at=0;at<He.length;at++)He[at](Ge,Ie)})}},v.tryColorscale=function(Ee,be){var Ce=be?L.nestedProperty(Ee,be).get():Ee;if(Ce){var Ue=Ce.color;if((Ce.colorscale||Ce._colorAx)&&L.isArrayOrTypedArray(Ue))return r.makeColorScaleFuncFromTrace(Ce)}return L.identity};var P={start:1,end:-1,middle:0,bottom:1,top:-1};function x(Ee,be,Ce,Ue,He){var Ie=p.select(Ee.node().parentNode),Ge=be.indexOf("top")!==-1?"top":be.indexOf("bottom")!==-1?"bottom":"middle",at=be.indexOf("left")!==-1?"end":be.indexOf("right")!==-1?"start":"middle",lt=Ue?Ue/.8+1:0,qe=(i.lineCount(Ee)-1)*u+1,et=P[at]*lt,ft=Ce*.75+P[Ge]*lt+(P[Ge]-1)*qe*Ce/2;Ee.attr("text-anchor",at),He||Ie.attr("transform",t(et,ft))}function z(Ee,be){var Ce=Ee.ts||be.textfont.size;return C(Ce)&&Ce>0?Ce:0}v.textPointStyle=function(Ee,be,Ce){if(Ee.size()){var Ue;if(be.selectedpoints){var He=v.makeSelectedTextStyleFns(be);Ue=He.selectedTextColorFn}var Ie=be.texttemplate,Ge=Ce._fullLayout;Ee.each(function(at){var lt=p.select(this),qe=Ie?L.extractOption(at,be,"txt","texttemplate"):L.extractOption(at,be,"tx","text");if(!qe&&qe!==0){lt.remove();return}if(Ie){var et=be._module.formatLabels,ft=et?et(at,be,Ge):{},dt={};S(dt,be,at.i);var pt=be._meta||{};qe=L.texttemplateString(qe,ft,Ge._d3locale,dt,at,pt)}var At=at.tp||be.textposition,Pt=z(at,be),Ht=Ue?Ue(at):at.tc||be.textfont.color;lt.call(v.font,at.tf||be.textfont.family,Pt,Ht).text(qe).call(i.convertToTspans,Ce).call(x,At,Pt,at.mrc)})}},v.selectedTextStyle=function(Ee,be){if(!(!Ee.size()||!be.selectedpoints)){var Ce=v.makeSelectedTextStyleFns(be);Ee.each(function(Ue){var He=p.select(this),Ie=Ce.selectedTextColorFn(Ue),Ge=Ue.tp||be.textposition,at=z(Ue,be);y.fill(He,Ie);var lt=d.traceIs(be,"bar-like");x(He,Ge,at,Ue.mrc2||Ue.mrc,lt)})}};var _=.5;v.smoothopen=function(Ee,be){if(Ee.length<3)return"M"+Ee.join("L");var Ce="M"+Ee[0],Ue=[],He;for(He=1;He<Ee.length-1;He++)Ue.push(H(Ee[He-1],Ee[He],Ee[He+1],be));for(Ce+="Q"+Ue[0][0]+" "+Ee[1],He=2;He<Ee.length-1;He++)Ce+="C"+Ue[He-2][1]+" "+Ue[He-1][0]+" "+Ee[He];return Ce+="Q"+Ue[Ee.length-3][1]+" "+Ee[Ee.length-1],Ce},v.smoothclosed=function(Ee,be){if(Ee.length<3)return"M"+Ee.join("L")+"Z";var Ce="M"+Ee[0],Ue=Ee.length-1,He=[H(Ee[Ue],Ee[0],Ee[1],be)],Ie;for(Ie=1;Ie<Ue;Ie++)He.push(H(Ee[Ie-1],Ee[Ie],Ee[Ie+1],be));for(He.push(H(Ee[Ue-1],Ee[Ue],Ee[0],be)),Ie=1;Ie<=Ue;Ie++)Ce+="C"+He[Ie-1][1]+" "+He[Ie][0]+" "+Ee[Ie];return Ce+="C"+He[Ue][1]+" "+He[0][0]+" "+Ee[0]+"Z",Ce};var G,F;function N(Ee,be,Ce){return Ce&&(Ee=ne(Ee)),be?O(Ee[1]):U(Ee[0])}function U(Ee){var be=p.round(Ee,2);return G=be,be}function O(Ee){var be=p.round(Ee,2);return F=be,be}function H(Ee,be,Ce,Ue){var He=Ee[0]-be[0],Ie=Ee[1]-be[1],Ge=Ce[0]-be[0],at=Ce[1]-be[1],lt=Math.pow(He*He+Ie*Ie,_/2),qe=Math.pow(Ge*Ge+at*at,_/2),et=(qe*qe*He-lt*lt*Ge)*Ue,ft=(qe*qe*Ie-lt*lt*at)*Ue,dt=3*qe*(lt+qe),pt=3*lt*(lt+qe);return[[U(be[0]+(dt&&et/dt)),O(be[1]+(dt&&ft/dt))],[U(be[0]-(pt&&et/pt)),O(be[1]-(pt&&ft/pt))]]}var Y={hv:function(Ee,be,Ce){return"H"+U(be[0])+"V"+N(be,1,Ce)},vh:function(Ee,be,Ce){return"V"+O(be[1])+"H"+N(be,0,Ce)},hvh:function(Ee,be,Ce){return"H"+U((Ee[0]+be[0])/2)+"V"+O(be[1])+"H"+N(be,0,Ce)},vhv:function(Ee,be,Ce){return"V"+O((Ee[1]+be[1])/2)+"H"+U(be[0])+"V"+N(be,1,Ce)}},q=function(Ee,be,Ce){return"L"+N(be,0,Ce)+","+N(be,1,Ce)};v.steps=function(Ee){var be=Y[Ee]||q;return function(Ce){for(var Ue="M"+U(Ce[0][0])+","+O(Ce[0][1]),He=Ce.length,Ie=1;Ie<He;Ie++)Ue+=be(Ce[Ie-1],Ce[Ie],Ie===He-1);return Ue}};function ne(Ee,be){var Ce=Ee.backoff,Ue=Ee.trace,He=Ee.d,Ie=Ee.i;if(Ce&&Ue&&Ue.marker&&Ue.marker.angle%360===0&&Ue.line&&Ue.line.shape!=="spline"){var Ge=L.isArrayOrTypedArray(Ce),at=Ee,lt=be?be[0]:G||0,qe=be?be[1]:F||0,et=at[0],ft=at[1],dt=et-lt,pt=ft-qe,At=Math.atan2(pt,dt),Pt=Ge?Ce[Ie]:Ce;if(Pt==="auto"){var Ht=at.i;Ue.type==="scatter"&&Ht--;var Je=at.marker,We=Je.symbol;L.isArrayOrTypedArray(We)&&(We=We[Ht]);var _e=Je.size;L.isArrayOrTypedArray(_e)&&(_e=_e[Ht]),Pt=Je?v.symbolBackOffs[v.symbolNumber(We)]*_e:0,Pt+=v.getMarkerStandoff(He[Ht],Ue)||0}var Ne=et-Pt*Math.cos(At),ke=ft-Pt*Math.sin(At);(Ne<=et&&Ne>=lt||Ne>=et&&Ne<=lt)&&(ke<=ft&&ke>=qe||ke>=ft&&ke<=qe)&&(Ee=[Ne,ke])}return Ee}v.applyBackoff=ne,v.makeTester=function(){var Ee=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Ce){Ce.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),be=L.ensureSingle(Ee,"path","js-reference-point",function(Ce){Ce.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});v.tester=Ee,v.testref=be},v.savedBBoxes={};var oe=0,he=1e4;v.bBox=function(Ee,be,Ce){Ce||(Ce=J(Ee));var Ue;if(Ce){if(Ue=v.savedBBoxes[Ce],Ue)return L.extendFlat({},Ue)}else if(Ee.childNodes.length===1){var He=Ee.childNodes[0];if(Ce=J(He),Ce){var Ie=+He.getAttribute("x")||0,Ge=+He.getAttribute("y")||0,at=He.getAttribute("transform");if(!at){var lt=v.bBox(He,!1,Ce);return Ie&&(lt.left+=Ie,lt.right+=Ie),Ge&&(lt.top+=Ge,lt.bottom+=Ge),lt}if(Ce+="~"+Ie+"~"+Ge+"~"+at,Ue=v.savedBBoxes[Ce],Ue)return L.extendFlat({},Ue)}}var qe,et;be?qe=Ee:(et=v.tester.node(),qe=Ee.cloneNode(!0),et.appendChild(qe)),p.select(qe).attr("transform",null).call(i.positionText,0,0);var ft=qe.getBoundingClientRect(),dt=v.testref.node().getBoundingClientRect();be||et.removeChild(qe);var pt={height:ft.height,width:ft.width,left:ft.left-dt.left,top:ft.top-dt.top,right:ft.right-dt.left,bottom:ft.bottom-dt.top};return oe>=he&&(v.savedBBoxes={},oe=0),Ce&&(v.savedBBoxes[Ce]=pt),oe++,L.extendFlat({},pt)};function J(Ee){var be=Ee.getAttribute("data-unformatted");if(be!==null)return be+Ee.getAttribute("data-math")+Ee.getAttribute("text-anchor")+Ee.getAttribute("style")}v.setClipUrl=function(Ee,be,Ce){Ee.attr("clip-path",Z(be,Ce))};function Z(Ee,be){if(!Ee)return null;var Ce=be._context,Ue=Ce._exportedPlot?"":Ce._baseUrl||"";return Ue?"url('"+Ue+"#"+Ee+"')":"url(#"+Ee+")"}v.getTranslate=function(Ee){var be=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ce=Ee.attr?"attr":"getAttribute",Ue=Ee[Ce]("transform")||"",He=Ue.replace(be,function(Ie,Ge,at){return[Ge,at].join(" ")}).split(" ");return{x:+He[0]||0,y:+He[1]||0}},v.setTranslate=function(Ee,be,Ce){var Ue=/(\btranslate\(.*?\);?)/,He=Ee.attr?"attr":"getAttribute",Ie=Ee.attr?"attr":"setAttribute",Ge=Ee[He]("transform")||"";return be=be||0,Ce=Ce||0,Ge=Ge.replace(Ue,"").trim(),Ge+=t(be,Ce),Ge=Ge.trim(),Ee[Ie]("transform",Ge),Ge},v.getScale=function(Ee){var be=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ce=Ee.attr?"attr":"getAttribute",Ue=Ee[Ce]("transform")||"",He=Ue.replace(be,function(Ie,Ge,at){return[Ge,at].join(" ")}).split(" ");return{x:+He[0]||1,y:+He[1]||1}},v.setScale=function(Ee,be,Ce){var Ue=/(\bscale\(.*?\);?)/,He=Ee.attr?"attr":"getAttribute",Ie=Ee.attr?"attr":"setAttribute",Ge=Ee[He]("transform")||"";return be=be||1,Ce=Ce||1,Ge=Ge.replace(Ue,"").trim(),Ge+="scale("+be+","+Ce+")",Ge=Ge.trim(),Ee[Ie]("transform",Ge),Ge};var se=/\s*sc.*/;v.setPointGroupScale=function(Ee,be,Ce){if(be=be||1,Ce=Ce||1,!!Ee){var Ue=be===1&&Ce===1?"":"scale("+be+","+Ce+")";Ee.each(function(){var He=(this.getAttribute("transform")||"").replace(se,"");He+=Ue,He=He.trim(),this.setAttribute("transform",He)})}};var $=/translate\([^)]*\)\s*$/;v.setTextPointsScale=function(Ee,be,Ce){Ee&&Ee.each(function(){var Ue,He=p.select(this),Ie=He.select("text");if(Ie.node()){var Ge=parseFloat(Ie.attr("x")||0),at=parseFloat(Ie.attr("y")||0),lt=(He.attr("transform")||"").match($);be===1&&Ce===1?Ue=[]:Ue=[t(Ge,at),"scale("+be+","+Ce+")",t(-Ge,-at)],lt&&Ue.push(lt),He.attr("transform",Ue.join(""))}})};function ee(Ee,be){var Ce;return Ee&&(Ce=Ee.mf),Ce===void 0&&(Ce=be.marker&&be.marker.standoff||0),!be._geo&&!be._xA?-Ce:Ce}v.getMarkerStandoff=ee;var le=Math.atan2,Q=Math.cos,K=Math.sin;function ue(Ee,be){var Ce=be[0],Ue=be[1];return[Ce*Q(Ee)-Ue*K(Ee),Ce*K(Ee)+Ue*Q(Ee)]}var ie,ce,xe,Le,Ae,Oe;function ze(Ee,be){var Ce=Ee.ma;Ce===void 0&&(Ce=be.marker.angle,(!Ce||L.isArrayOrTypedArray(Ce))&&(Ce=0));var Ue,He,Ie=be.marker.angleref;if(Ie==="previous"||Ie==="north"){if(be._geo){var Ge=be._geo.project(Ee.lonlat);Ue=Ge[0],He=Ge[1]}else{var at=be._xA,lt=be._yA;if(at&&lt)Ue=at.c2p(Ee.x),He=lt.c2p(Ee.y);else return 90}if(be._geo){var qe=Ee.lonlat[0],et=Ee.lonlat[1],ft=be._geo.project([qe,et+1e-5]),dt=be._geo.project([qe+1e-5,et]),pt=le(dt[1]-He,dt[0]-Ue),At=le(ft[1]-He,ft[0]-Ue),Pt;if(Ie==="north")Pt=Ce/180*Math.PI;else if(Ie==="previous"){var Ht=qe/180*Math.PI,Je=et/180*Math.PI,We=ie/180*Math.PI,_e=ce/180*Math.PI,Ne=We-Ht,ke=Q(_e)*K(Ne),we=K(_e)*Q(Je)-Q(_e)*K(Je)*Q(Ne);Pt=-le(ke,we)-Math.PI,ie=qe,ce=et}var me=ue(pt,[Q(Pt),0]),Me=ue(At,[K(Pt),0]);Ce=le(me[1]+Me[1],me[0]+Me[0])/Math.PI*180,Ie==="previous"&&!(Oe===be.uid&&Ee.i===Ae+1)&&(Ce=null)}if(Ie==="previous"&&!be._geo)if(Oe===be.uid&&Ee.i===Ae+1&&C(Ue)&&C(He)){var Se=Ue-xe,Ve=He-Le,Ze=be.line&&be.line.shape||"",tt=Ze.slice(Ze.length-1);tt==="h"&&(Ve=0),tt==="v"&&(Se=0),Ce+=le(Ve,Se)/Math.PI*180+90}else Ce=null}return xe=Ue,Le=He,Ae=Ee.i,Oe=be.uid,Ce}v.getMarkerAngle=ze},90998:function(V,B,e){var p=e(95616),L=e(39898).round,n="M0,0Z",C=Math.sqrt(2),T=Math.sqrt(3),d=Math.PI,y=Math.cos,r=Math.sin;V.exports={circle:{n:0,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l="M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z";return S?s(f,S,l):l}},square:{n:1,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")}},diamond:{n:2,f:function(m,f,S){if(t(f))return n;var v=L(m*1.3,2);return s(f,S,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"Z")}},cross:{n:3,f:function(m,f,S){if(t(f))return n;var v=L(m*.4,2),l=L(m*1.2,2);return s(f,S,"M"+l+","+v+"H"+v+"V"+l+"H-"+v+"V"+v+"H-"+l+"V-"+v+"H-"+v+"V-"+l+"H"+v+"V-"+v+"H"+l+"Z")}},x:{n:4,f:function(m,f,S){if(t(f))return n;var v=L(m*.8/C,2),l="l"+v+","+v,g="l"+v+",-"+v,M="l-"+v+",-"+v,A="l-"+v+","+v;return s(f,S,"M0,"+v+l+g+M+g+M+A+M+A+l+A+l+"Z")}},"triangle-up":{n:5,f:function(m,f,S){if(t(f))return n;var v=L(m*2/T,2),l=L(m/2,2),g=L(m,2);return s(f,S,"M-"+v+","+l+"H"+v+"L0,-"+g+"Z")}},"triangle-down":{n:6,f:function(m,f,S){if(t(f))return n;var v=L(m*2/T,2),l=L(m/2,2),g=L(m,2);return s(f,S,"M-"+v+",-"+l+"H"+v+"L0,"+g+"Z")}},"triangle-left":{n:7,f:function(m,f,S){if(t(f))return n;var v=L(m*2/T,2),l=L(m/2,2),g=L(m,2);return s(f,S,"M"+l+",-"+v+"V"+v+"L-"+g+",0Z")}},"triangle-right":{n:8,f:function(m,f,S){if(t(f))return n;var v=L(m*2/T,2),l=L(m/2,2),g=L(m,2);return s(f,S,"M-"+l+",-"+v+"V"+v+"L"+g+",0Z")}},"triangle-ne":{n:9,f:function(m,f,S){if(t(f))return n;var v=L(m*.6,2),l=L(m*1.2,2);return s(f,S,"M-"+l+",-"+v+"H"+v+"V"+l+"Z")}},"triangle-se":{n:10,f:function(m,f,S){if(t(f))return n;var v=L(m*.6,2),l=L(m*1.2,2);return s(f,S,"M"+v+",-"+l+"V"+v+"H-"+l+"Z")}},"triangle-sw":{n:11,f:function(m,f,S){if(t(f))return n;var v=L(m*.6,2),l=L(m*1.2,2);return s(f,S,"M"+l+","+v+"H-"+v+"V-"+l+"Z")}},"triangle-nw":{n:12,f:function(m,f,S){if(t(f))return n;var v=L(m*.6,2),l=L(m*1.2,2);return s(f,S,"M-"+v+","+l+"V-"+v+"H"+l+"Z")}},pentagon:{n:13,f:function(m,f,S){if(t(f))return n;var v=L(m*.951,2),l=L(m*.588,2),g=L(-m,2),M=L(m*-.309,2),A=L(m*.809,2);return s(f,S,"M"+v+","+M+"L"+l+","+A+"H-"+l+"L-"+v+","+M+"L0,"+g+"Z")}},hexagon:{n:14,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m/2,2),g=L(m*T/2,2);return s(f,S,"M"+g+",-"+l+"V"+l+"L0,"+v+"L-"+g+","+l+"V-"+l+"L0,-"+v+"Z")}},hexagon2:{n:15,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m/2,2),g=L(m*T/2,2);return s(f,S,"M-"+l+","+g+"H"+l+"L"+v+",0L"+l+",-"+g+"H-"+l+"L-"+v+",0Z")}},octagon:{n:16,f:function(m,f,S){if(t(f))return n;var v=L(m*.924,2),l=L(m*.383,2);return s(f,S,"M-"+l+",-"+v+"H"+l+"L"+v+",-"+l+"V"+l+"L"+l+","+v+"H-"+l+"L-"+v+","+l+"V-"+l+"Z")}},star:{n:17,f:function(m,f,S){if(t(f))return n;var v=m*1.4,l=L(v*.225,2),g=L(v*.951,2),M=L(v*.363,2),A=L(v*.588,2),k=L(-v,2),w=L(v*-.309,2),E=L(v*.118,2),b=L(v*.809,2),o=L(v*.382,2);return s(f,S,"M"+l+","+w+"H"+g+"L"+M+","+E+"L"+A+","+b+"L0,"+o+"L-"+A+","+b+"L-"+M+","+E+"L-"+g+","+w+"H-"+l+"L0,"+k+"Z")}},hexagram:{n:18,f:function(m,f,S){if(t(f))return n;var v=L(m*.66,2),l=L(m*.38,2),g=L(m*.76,2);return s(f,S,"M-"+g+",0l-"+l+",-"+v+"h"+g+"l"+l+",-"+v+"l"+l+","+v+"h"+g+"l-"+l+","+v+"l"+l+","+v+"h-"+g+"l-"+l+","+v+"l-"+l+",-"+v+"h-"+g+"Z")}},"star-triangle-up":{n:19,f:function(m,f,S){if(t(f))return n;var v=L(m*T*.8,2),l=L(m*.8,2),g=L(m*1.6,2),M=L(m*4,2),A="A "+M+","+M+" 0 0 1 ";return s(f,S,"M-"+v+","+l+A+v+","+l+A+"0,-"+g+A+"-"+v+","+l+"Z")}},"star-triangle-down":{n:20,f:function(m,f,S){if(t(f))return n;var v=L(m*T*.8,2),l=L(m*.8,2),g=L(m*1.6,2),M=L(m*4,2),A="A "+M+","+M+" 0 0 1 ";return s(f,S,"M"+v+",-"+l+A+"-"+v+",-"+l+A+"0,"+g+A+v+",-"+l+"Z")}},"star-square":{n:21,f:function(m,f,S){if(t(f))return n;var v=L(m*1.1,2),l=L(m*2,2),g="A "+l+","+l+" 0 0 1 ";return s(f,S,"M-"+v+",-"+v+g+"-"+v+","+v+g+v+","+v+g+v+",-"+v+g+"-"+v+",-"+v+"Z")}},"star-diamond":{n:22,f:function(m,f,S){if(t(f))return n;var v=L(m*1.4,2),l=L(m*1.9,2),g="A "+l+","+l+" 0 0 1 ";return s(f,S,"M-"+v+",0"+g+"0,"+v+g+v+",0"+g+"0,-"+v+g+"-"+v+",0Z")}},"diamond-tall":{n:23,f:function(m,f,S){if(t(f))return n;var v=L(m*.7,2),l=L(m*1.4,2);return s(f,S,"M0,"+l+"L"+v+",0L0,-"+l+"L-"+v+",0Z")}},"diamond-wide":{n:24,f:function(m,f,S){if(t(f))return n;var v=L(m*1.4,2),l=L(m*.7,2);return s(f,S,"M0,"+l+"L"+v+",0L0,-"+l+"L-"+v+",0Z")}},hourglass:{n:25,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+","+v+"H-"+v+"L"+v+",-"+v+"H-"+v+"Z")},noDot:!0},bowtie:{n:26,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+","+v+"V-"+v+"L-"+v+","+v+"V-"+v+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m/C,2);return s(f,S,"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,f,S){if(t(f))return n;var v=L(m*1.3,2);return s(f,S,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM0,-"+v+"V"+v+"M-"+v+",0H"+v)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,f,S){if(t(f))return n;var v=L(m*1.3,2),l=L(m*.65,2);return s(f,S,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,f,S){if(t(f))return n;var v=L(m*1.4,2);return s(f,S,"M0,"+v+"V-"+v+"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,f,S){if(t(f))return n;var v=L(m*1.2,2),l=L(m*.85,2);return s(f,S,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,f,S){if(t(f))return n;var v=L(m/2,2),l=L(m,2);return s(f,S,"M"+v+","+l+"V-"+l+"M"+(v-l)+",-"+l+"V"+l+"M"+l+","+v+"H-"+l+"M-"+l+","+(v-l)+"H"+l)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,f,S){if(t(f))return n;var v=L(m*1.2,2),l=L(m*1.6,2),g=L(m*.8,2);return s(f,S,"M-"+v+","+g+"L0,0M"+v+","+g+"L0,0M0,-"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,f,S){if(t(f))return n;var v=L(m*1.2,2),l=L(m*1.6,2),g=L(m*.8,2);return s(f,S,"M-"+v+",-"+g+"L0,0M"+v+",-"+g+"L0,0M0,"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,f,S){if(t(f))return n;var v=L(m*1.2,2),l=L(m*1.6,2),g=L(m*.8,2);return s(f,S,"M"+g+","+v+"L0,0M"+g+",-"+v+"L0,0M-"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,f,S){if(t(f))return n;var v=L(m*1.2,2),l=L(m*1.6,2),g=L(m*.8,2);return s(f,S,"M-"+g+","+v+"L0,0M-"+g+",-"+v+"L0,0M"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,f,S){if(t(f))return n;var v=L(m*1.4,2);return s(f,S,"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,f,S){if(t(f))return n;var v=L(m*1.4,2);return s(f,S,"M0,"+v+"V-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,f,S){if(t(f))return n;var v=L(m,2);return s(f,S,"M"+v+","+v+"L-"+v+",-"+v)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m*2,2);return s(f,S,"M0,0L-"+v+","+l+"H"+v+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m*2,2);return s(f,S,"M0,0L-"+v+",-"+l+"H"+v+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,f,S){if(t(f))return n;var v=L(m*2,2),l=L(m,2);return s(f,S,"M0,0L"+v+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,f,S){if(t(f))return n;var v=L(m*2,2),l=L(m,2);return s(f,S,"M0,0L-"+v+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m*2,2);return s(f,S,"M-"+v+",0H"+v+"M0,0L-"+v+","+l+"H"+v+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,f,S){if(t(f))return n;var v=L(m,2),l=L(m*2,2);return s(f,S,"M-"+v+",0H"+v+"M0,0L-"+v+",-"+l+"H"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,f,S){if(t(f))return n;var v=L(m*2,2),l=L(m,2);return s(f,S,"M0,-"+l+"V"+l+"M0,0L"+v+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,f,S){if(t(f))return n;var v=L(m*2,2),l=L(m,2);return s(f,S,"M0,-"+l+"V"+l+"M0,0L-"+v+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,f,S){if(t(f))return n;var v=d/2.5,l=2*m*y(v),g=2*m*r(v);return s(f,S,"M0,0L"+-l+","+g+"L"+l+","+g+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,f,S){if(t(f))return n;var v=d/4,l=2*m*y(v),g=2*m*r(v);return s(f,S,"M0,0L"+-l+","+g+"A "+2*m+","+2*m+" 0 0 1 "+l+","+g+"Z")},backoff:.4,noDot:!0}};function t(m){return m===null}var i,a,h,u;function s(m,f,S){if((!m||m%360===0)&&!f)return S;if(h===m&&u===f&&i===S)return a;h=m,u=f,i=S;function v(_,G){var F=y(_),N=r(_),U=G[0],O=G[1]+(f||0);return[U*F-O*N,U*N+O*F]}for(var l=m/180*d,g=0,M=0,A=p(S),k="",w=0;w<A.length;w++){var E=A[w],b=E[0],o=g,P=M;if(b==="M"||b==="L")g=+E[1],M=+E[2];else if(b==="m"||b==="l")g+=+E[1],M+=+E[2];else if(b==="H")g=+E[1];else if(b==="h")g+=+E[1];else if(b==="V")M=+E[1];else if(b==="v")M+=+E[1];else if(b==="A"){g=+E[1],M=+E[2];var x=v(l,[+E[6],+E[7]]);E[6]=x[0],E[7]=x[1],E[3]=+E[3]+m}(b==="H"||b==="V")&&(b="L"),(b==="h"||b==="v")&&(b="l"),(b==="m"||b==="l")&&(g-=o,M-=P);var z=v(l,[g,M]);(b==="H"||b==="V")&&(b="L"),(b==="M"||b==="L"||b==="m"||b==="l")&&(E[1]=z[0],E[2]=z[1]),E[0]=b,k+=E[0]+E.slice(1).join(",")}return a=k,k}},25673:function(V){V.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(V,B,e){var p=e(92770),L=e(73972),n=e(89298),C=e(71828),T=e(45827);V.exports=function(r){for(var t=r.calcdata,i=0;i<t.length;i++){var a=t[i],h=a[0].trace;if(h.visible===!0&&L.traceIs(h,"errorBarsOK")){var u=n.getFromId(r,h.xaxis),s=n.getFromId(r,h.yaxis);d(a,h,u,"x"),d(a,h,s,"y")}}};function d(y,r,t,i){var a=r["error_"+i]||{},h=a.visible&&["linear","log"].indexOf(t.type)!==-1,u=[];if(h){for(var s=T(a),m=0;m<y.length;m++){var f=y[m],S=f.i;if(S===void 0)S=m;else if(S===null)continue;var v=f[i];if(p(t.c2l(v))){var l=s(v,S);if(p(l[0])&&p(l[1])){var g=f[i+"s"]=v-l[0],M=f[i+"h"]=v+l[1];u.push(g,M)}}}var A=t._id,k=r._extremes[A],w=n.findExtremes(t,u,C.extendFlat({tozero:k.opts.tozero},{padded:!0}));k.min=k.min.concat(w.min),k.max=k.max.concat(w.max)}}},45827:function(V){V.exports=function(p){var L=p.type,n=p.symmetric;if(L==="data"){var C=p.array||[];if(n)return function(t,i){var a=+C[i];return[a,a]};var T=p.arrayminus||[];return function(t,i){var a=+C[i],h=+T[i];return!isNaN(a)||!isNaN(h)?[h||0,a||0]:[NaN,NaN]}}else{var d=B(L,p.value),y=B(L,p.valueminus);return n||p.valueminus===void 0?function(t){var i=d(t);return[i,i]}:function(t){return[y(t),d(t)]}}};function B(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},97587:function(V,B,e){var p=e(92770),L=e(73972),n=e(71828),C=e(44467),T=e(25673);V.exports=function(d,y,r,t){var i="error_"+t.axis,a=C.newContainer(y,i),h=d[i]||{};function u(g,M){return n.coerce(h,a,T,g,M)}var s=h.array!==void 0||h.value!==void 0||h.type==="sqrt",m=u("visible",s);if(m!==!1){var f=u("type","array"in h?"data":"percent"),S=!0;f!=="sqrt"&&(S=u("symmetric",!((f==="data"?"arrayminus":"valueminus")in h))),f==="data"?(u("array"),u("traceref"),S||(u("arrayminus"),u("tracerefminus"))):(f==="percent"||f==="constant")&&(u("value"),S||u("valueminus"));var v="copy_"+t.inherit+"style";if(t.inherit){var l=y["error_"+t.inherit];(l||{}).visible&&u(v,!(h.color||p(h.thickness)||p(h.width)))}(!t.inherit||!a[v])&&(u("color",r),u("thickness"),u("width",L.traceIs(y,"gl3d")?0:4))}}},37369:function(V,B,e){var p=e(71828),L=e(30962).overrideAll,n=e(25673),C={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var T={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n),error_z:p.extendFlat({},n)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,V.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(T,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:d};function d(y,r,t){(r.error_y||{}).visible&&(t.yerr=y.yh-y.y,r.error_y.symmetric||(t.yerrneg=y.y-y.ys)),(r.error_x||{}).visible&&(t.xerr=y.xh-y.x,r.error_x.symmetric||(t.xerrneg=y.x-y.xs))}},19398:function(V,B,e){var p=e(39898),L=e(92770),n=e(91424),C=e(34098);V.exports=function(y,r,t,i){var a,h=t.xaxis,u=t.yaxis,s=i&&i.duration>0,m=y._context.staticPlot;r.each(function(f){var S=f[0].trace,v=S.error_x||{},l=S.error_y||{},g;S.ids&&(g=function(w){return w.id});var M=C.hasMarkers(S)&&S.marker.maxdisplayed>0;!l.visible&&!v.visible&&(f=[]);var A=p.select(this).selectAll("g.errorbar").data(f,g);if(A.exit().remove(),!!f.length){v.visible||A.selectAll("path.xerror").remove(),l.visible||A.selectAll("path.yerror").remove(),A.style("opacity",1);var k=A.enter().append("g").classed("errorbar",!0);s&&k.style("opacity",0).transition().duration(i.duration).style("opacity",1),n.setClipUrl(A,t.layerClipId,y),A.each(function(w){var E=p.select(this),b=T(w,h,u);if(!(M&&!w.vis)){var o,P=E.select("path.yerror");if(l.visible&&L(b.x)&&L(b.yh)&&L(b.ys)){var x=l.width;o="M"+(b.x-x)+","+b.yh+"h"+2*x+"m-"+x+",0V"+b.ys,b.noYS||(o+="m-"+x+",0h"+2*x),a=!P.size(),a?P=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):s&&(P=P.transition().duration(i.duration).ease(i.easing)),P.attr("d",o)}else P.remove();var z=E.select("path.xerror");if(v.visible&&L(b.y)&&L(b.xh)&&L(b.xs)){var _=(v.copy_ystyle?l:v).width;o="M"+b.xh+","+(b.y-_)+"v"+2*_+"m0,-"+_+"H"+b.xs,b.noXS||(o+="m0,-"+_+"v"+2*_),a=!z.size(),a?z=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):s&&(z=z.transition().duration(i.duration).ease(i.easing)),z.attr("d",o)}else z.remove()}})}})};function T(d,y,r){var t={x:y.c2p(d.x),y:r.c2p(d.y)};return d.yh!==void 0&&(t.yh=r.c2p(d.yh),t.ys=r.c2p(d.ys),L(t.ys)||(t.noYS=!0,t.ys=r.c2p(d.ys,!0))),d.xh!==void 0&&(t.xh=y.c2p(d.xh),t.xs=y.c2p(d.xs),L(t.xs)||(t.noXS=!0,t.xs=y.c2p(d.xs,!0))),t}},62662:function(V,B,e){var p=e(39898),L=e(7901);V.exports=function(C){C.each(function(T){var d=T[0].trace,y=d.error_y||{},r=d.error_x||{},t=p.select(this);t.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(L.stroke,y.color),r.copy_ystyle&&(r=y),t.selectAll("path.xerror").style("stroke-width",r.thickness+"px").call(L.stroke,r.color)})}},77914:function(V,B,e){var p=e(41940),L=e(528).hoverlabel,n=e(1426).extendFlat;V.exports={hoverlabel:{bgcolor:n({},L.bgcolor,{arrayOk:!0}),bordercolor:n({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:n({},L.align,{arrayOk:!0}),namelength:n({},L.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(V,B,e){var p=e(71828),L=e(73972);V.exports=function(T){var d=T.calcdata,y=T._fullLayout;function r(u){return function(s){return p.coerceHoverinfo({hoverinfo:s},{_module:u._module},y)}}for(var t=0;t<d.length;t++){var i=d[t],a=i[0].trace;if(!L.traceIs(a,"pie-like")){var h=L.traceIs(a,"2dMap")?n:p.fillArray;h(a.hoverinfo,i,"hi",r(a)),a.hovertemplate&&h(a.hovertemplate,i,"ht"),a.hoverlabel&&(h(a.hoverlabel.bgcolor,i,"hbg"),h(a.hoverlabel.bordercolor,i,"hbc"),h(a.hoverlabel.font.size,i,"hts"),h(a.hoverlabel.font.color,i,"htc"),h(a.hoverlabel.font.family,i,"htf"),h(a.hoverlabel.namelength,i,"hnl"),h(a.hoverlabel.align,i,"hta"))}}};function n(C,T,d,y){y=y||p.identity,Array.isArray(C)&&(T[0][d]=y(C))}},75914:function(V,B,e){var p=e(73972),L=e(88335).hover;V.exports=function(C,T,d){var y=p.getComponentMethod("annotations","onClick")(C,C._hoverdata);d!==void 0&&L(C,T,d,!0);function r(){C.emit("plotly_click",{points:C._hoverdata,event:T})}C._hoverdata&&T&&T.target&&(y&&y.then?y.then(r):r(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},26675:function(V){V.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(V,B,e){var p=e(71828),L=e(77914),n=e(38048);V.exports=function(T,d,y,r){function t(a,h){return p.coerce(T,d,L,a,h)}var i=p.extendFlat({},r.hoverlabel);d.hovertemplate&&(i.namelength=-1),n(T,d,t,i)}},23469:function(V,B,e){var p=e(71828);B.getSubplot=function(y){return y.subplot||y.xaxis+y.yaxis||y.geo},B.isTraceInSubplots=function(y,r){if(y.type==="splom"){for(var t=y.xaxes||[],i=y.yaxes||[],a=0;a<t.length;a++)for(var h=0;h<i.length;h++)if(r.indexOf(t[a]+i[h])!==-1)return!0;return!1}return r.indexOf(B.getSubplot(y))!==-1},B.flat=function(y,r){for(var t=new Array(y.length),i=0;i<y.length;i++)t[i]=r;return t},B.p2c=function(y,r){for(var t=new Array(y.length),i=0;i<y.length;i++)t[i]=y[i].p2c(r);return t},B.getDistanceFunction=function(y,r,t,i){return y==="closest"?i||B.quadrature(r,t):y.charAt(0)==="x"?r:t},B.getClosest=function(y,r,t){if(t.index!==!1)t.index>=0&&t.index<y.length?t.distance=0:t.index=!1;else for(var i=0;i<y.length;i++){var a=r(y[i]);a<=t.distance&&(t.index=i,t.distance=a)}return t},B.inbox=function(y,r,t){return y*r<0||y===0?t:1/0},B.quadrature=function(y,r){return function(t){var i=y(t),a=r(t);return Math.sqrt(i*i+a*a)}},B.makeEventData=function(y,r,t){var i="index"in y?y.index:y.pointNumber,a={data:r._input,fullData:r,curveNumber:r.index,pointNumber:i};if(r._indexToPoints){var h=r._indexToPoints[i];h.length===1?a.pointIndex=h[0]:a.pointIndices=h}else a.pointIndex=i;return r._module.eventData?a=r._module.eventData(a,y,r,t,i):("xVal"in y?a.x=y.xVal:"x"in y&&(a.x=y.x),"yVal"in y?a.y=y.yVal:"y"in y&&(a.y=y.y),y.xa&&(a.xaxis=y.xa),y.ya&&(a.yaxis=y.ya),y.zLabelVal!==void 0&&(a.z=y.zLabelVal)),B.appendArrayPointValue(a,r,i),a},B.appendArrayPointValue=function(y,r,t){var i=r._arrayAttrs;if(i)for(var a=0;a<i.length;a++){var h=i[a],u=n(h);if(y[u]===void 0){var s=p.nestedProperty(r,h).get(),m=C(s,t);m!==void 0&&(y[u]=m)}}},B.appendArrayMultiPointValues=function(y,r,t){var i=r._arrayAttrs;if(i)for(var a=0;a<i.length;a++){var h=i[a],u=n(h);if(y[u]===void 0){for(var s=p.nestedProperty(r,h).get(),m=new Array(t.length),f=0;f<t.length;f++)m[f]=C(s,t[f]);y[u]=m}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(y){return L[y]||y}function C(y,r){if(Array.isArray(r)){if(Array.isArray(y)&&Array.isArray(y[r[0]]))return y[r[0]][r[1]]}else return y[r]}var T={x:!0,y:!0},d={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(y){return typeof y!="string"?!1:!!d[y]},B.isXYhover=function(y){return typeof y!="string"?!1:!!T[y]}},88335:function(V,B,e){var p=e(39898),L=e(92770),n=e(84267),C=e(71828),T=C.strTranslate,d=C.strRotate,y=e(11086),r=e(63893),t=e(39918),i=e(91424),a=e(7901),h=e(28569),u=e(89298),s=e(73972),m=e(23469),f=e(26675),S=e(99017),v=e(43969),l=f.YANGLE,g=Math.PI*l/180,M=1/Math.sin(g),A=Math.cos(g),k=Math.sin(g),w=f.HOVERARROWSIZE,E=f.HOVERTEXTPAD,b={box:!0,ohlc:!0,violin:!0,candlestick:!0},o={scatter:!0,scattergl:!0,splom:!0};B.hover=function(le,Q,K,ue){le=C.getGraphDiv(le);var ie=Q.target;C.throttle(le._fullLayout._uid+f.HOVERID,f.HOVERMINTIME,function(){P(le,Q,K,ue,ie)})},B.loneHover=function(le,Q){var K=!0;Array.isArray(le)||(K=!1,le=[le]);var ue=Q.gd,ie=Z(ue),ce=se(ue),xe=le.map(function(He){var Ie=He._x0||He.x0||He.x||0,Ge=He._x1||He.x1||He.x||0,at=He._y0||He.y0||He.y||0,lt=He._y1||He.y1||He.y||0,qe=He.eventData;if(qe){var et=Math.min(Ie,Ge),ft=Math.max(Ie,Ge),dt=Math.min(at,lt),pt=Math.max(at,lt),At=He.trace;if(s.traceIs(At,"gl3d")){var Pt=ue._fullLayout[At.scene]._scene.container,Ht=Pt.offsetLeft,Je=Pt.offsetTop;et+=Ht,ft+=Ht,dt+=Je,pt+=Je}qe.bbox={x0:et+ce,x1:ft+ce,y0:dt+ie,y1:pt+ie},Q.inOut_bbox&&Q.inOut_bbox.push(qe.bbox)}else qe=!1;return{color:He.color||a.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:qe}}),Le=!1,Ae=_(xe,{gd:ue,hovermode:"closest",rotateLabels:Le,bgColor:Q.bgColor||a.background,container:p.select(Q.container),outerContainer:Q.outerContainer||Q.container}),Oe=Ae.hoverLabels,ze=5,Ee=0,be=0;Oe.sort(function(He,Ie){return He.y0-Ie.y0}).each(function(He,Ie){var Ge=He.y0-He.by/2;Ge-ze<Ee?He.offset=Ee-Ge+ze:He.offset=0,Ee=Ge+He.by+He.offset,Ie===Q.anchorIndex&&(be=He.offset)}).each(function(He){He.offset-=be});var Ce=ue._fullLayout._invScaleX,Ue=ue._fullLayout._invScaleY;return O(Oe,Le,Ce,Ue),K?Oe:Oe.node()};function P(ee,le,Q,K,ue){Q||(Q="xy");var ie=Array.isArray(Q)?Q:[Q],ce=ee._fullLayout,xe=ce._plots||[],Le=xe[Q],Ae=ce._has("cartesian");if(Le){var Oe=Le.overlays.map(function(Lr){return Lr.id});ie=ie.concat(Oe)}for(var ze=ie.length,Ee=new Array(ze),be=new Array(ze),Ce=!1,Ue=0;Ue<ze;Ue++){var He=ie[Ue];if(xe[He])Ce=!0,Ee[Ue]=xe[He].xaxis,be[Ue]=xe[He].yaxis;else if(ce[He]&&ce[He]._subplot){var Ie=ce[He]._subplot;Ee[Ue]=Ie.xaxis,be[Ue]=Ie.yaxis}else{C.warn("Unrecognized subplot: "+He);return}}var Ge=le.hovermode||ce.hovermode;if(Ge&&!Ce&&(Ge="closest"),["x","y","closest","x unified","y unified"].indexOf(Ge)===-1||!ee.calcdata||ee.querySelector(".zoombox")||ee._dragging)return h.unhoverRaw(ee,le);var at=ce.hoverdistance;at===-1&&(at=1/0);var lt=ce.spikedistance;lt===-1&&(lt=1/0);var qe=[],et=[],ft,dt,pt,At,Pt,Ht,Je,We,_e,Ne,ke,we,me,Me={hLinePoint:null,vLinePoint:null},Se=!1;if(Array.isArray(le))for(Ge="array",pt=0;pt<le.length;pt++)Pt=ee.calcdata[le[pt].curveNumber||0],Pt&&(Ht=Pt[0].trace,Pt[0].trace.hoverinfo!=="skip"&&(et.push(Pt),Ht.orientation==="h"&&(Se=!0)));else{for(At=0;At<ee.calcdata.length;At++)Pt=ee.calcdata[At],Ht=Pt[0].trace,Ht.hoverinfo!=="skip"&&m.isTraceInSubplots(Ht,ie)&&(et.push(Pt),Ht.orientation==="h"&&(Se=!0));var Ve=!ue,Ze,tt;if(Ve)"xpx"in le?Ze=le.xpx:Ze=Ee[0]._length/2,"ypx"in le?tt=le.ypx:tt=be[0]._length/2;else{if(y.triggerHandler(ee,"plotly_beforehover",le)===!1)return;var ct=ue.getBoundingClientRect();Ze=le.clientX-ct.left,tt=le.clientY-ct.top,ce._calcInverseTransform(ee);var gt=C.apply3DTransform(ce._invTransform)(Ze,tt);if(Ze=gt[0],tt=gt[1],Ze<0||Ze>Ee[0]._length||tt<0||tt>be[0]._length)return h.unhoverRaw(ee,le)}if(le.pointerX=Ze+Ee[0]._offset,le.pointerY=tt+be[0]._offset,"xval"in le?ft=m.flat(ie,le.xval):ft=m.p2c(Ee,Ze),"yval"in le?dt=m.flat(ie,le.yval):dt=m.p2c(be,tt),!L(ft[0])||!L(dt[0]))return C.warn("Fx.hover failed",le,ee),h.unhoverRaw(ee,le)}var jt=1/0;function Kt(Lr,Zr){for(At=0;At<et.length;At++)if(Pt=et[At],!(!Pt||!Pt[0]||!Pt[0].trace)&&(Ht=Pt[0].trace,!(Ht.visible!==!0||Ht._length===0)&&["carpet","contourcarpet"].indexOf(Ht._module.name)===-1)){if(Ht.type==="splom"?(We=0,Je=ie[We]):(Je=m.getSubplot(Ht),We=ie.indexOf(Je)),_e=Ge,m.isUnifiedHover(_e)&&(_e=_e.charAt(0)),we={cd:Pt,trace:Ht,xa:Ee[We],ya:be[We],maxHoverDistance:at,maxSpikeDistance:lt,index:!1,distance:Math.min(jt,at),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:Ht.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ce[Je]&&(we.subplot=ce[Je]._subplot),ce._splomScenes&&ce._splomScenes[Ht.uid]&&(we.scene=ce._splomScenes[Ht.uid]),me=qe.length,_e==="array"){var Wr=le[At];"pointNumber"in Wr?(we.index=Wr.pointNumber,_e="closest"):(_e="","xval"in Wr&&(Ne=Wr.xval,_e="x"),"yval"in Wr&&(ke=Wr.yval,_e=_e?"closest":"y"))}else Lr!==void 0&&Zr!==void 0?(Ne=Lr,ke=Zr):(Ne=ft[We],ke=dt[We]);if(at!==0)if(Ht._module&&Ht._module.hoverPoints){var sn=Ht._module.hoverPoints(we,Ne,ke,_e,{finiteRange:!0,hoverLayer:ce._hoverlayer});if(sn)for(var yn,bn=0;bn<sn.length;bn++)yn=sn[bn],L(yn.x0)&&L(yn.y0)&&qe.push(H(yn,Ge))}else C.log("Unrecognized trace type in hover:",Ht);if(Ge==="closest"&&qe.length>me&&(qe.splice(0,me),jt=qe[0].distance),Ae&&lt!==0&&qe.length===0){we.distance=lt,we.index=!1;var Pn=Ht._module.hoverPoints(we,Ne,ke,"closest",{hoverLayer:ce._hoverlayer});if(Pn&&(Pn=Pn.filter(function(ta){return ta.spikeDistance<=lt})),Pn&&Pn.length){var Bn,sa=Pn.filter(function(ta){return ta.xa.showspikes&&ta.xa.spikesnap!=="hovered data"});if(sa.length){var Kn=sa[0];L(Kn.x0)&&L(Kn.y0)&&(Bn=zt(Kn),(!Me.vLinePoint||Me.vLinePoint.spikeDistance>Bn.spikeDistance)&&(Me.vLinePoint=Bn))}var ra=Pn.filter(function(ta){return ta.ya.showspikes&&ta.ya.spikesnap!=="hovered data"});if(ra.length){var $n=ra[0];L($n.x0)&&L($n.y0)&&(Bn=zt($n),(!Me.hLinePoint||Me.hLinePoint.spikeDistance>Bn.spikeDistance)&&(Me.hLinePoint=Bn))}}}}}Kt();function Tt(Lr,Zr,Wr){for(var sn=null,yn=1/0,bn,Pn=0;Pn<Lr.length;Pn++)bn=Lr[Pn].spikeDistance,Wr&&Pn===0&&(bn=-1/0),bn<=yn&&bn<=Zr&&(sn=Lr[Pn],yn=bn);return sn}function zt(Lr){return Lr?{xa:Lr.xa,ya:Lr.ya,x:Lr.xSpike!==void 0?Lr.xSpike:(Lr.x0+Lr.x1)/2,y:Lr.ySpike!==void 0?Lr.ySpike:(Lr.y0+Lr.y1)/2,distance:Lr.distance,spikeDistance:Lr.spikeDistance,curveNumber:Lr.trace.index,color:Lr.color,pointNumber:Lr.index}:null}var qt={fullLayout:ce,container:ce._hoverlayer,event:le},Sr=ee._spikepoints,yt={vLinePoint:Me.vLinePoint,hLinePoint:Me.hLinePoint};ee._spikepoints=yt;var Zt=function(){qe.sort(function(Lr,Zr){return Lr.distance-Zr.distance}),qe=he(qe,Ge)};Zt();var Jt=Ge.charAt(0),mr=(Jt==="x"||Jt==="y")&&qe[0]&&o[qe[0].trace.type];if(Ae&&lt!==0&&qe.length!==0){var sr=qe.filter(function(Lr){return Lr.ya.showspikes}),vt=Tt(sr,lt,mr);Me.hLinePoint=zt(vt);var it=qe.filter(function(Lr){return Lr.xa.showspikes}),xt=Tt(it,lt,mr);Me.vLinePoint=zt(xt)}if(qe.length===0){var St=h.unhoverRaw(ee,le);return Ae&&(Me.hLinePoint!==null||Me.vLinePoint!==null)&&ne(Sr)&&Y(ee,Me,qt),St}if(Ae&&ne(Sr)&&Y(ee,Me,qt),m.isXYhover(_e)&&qe[0].length!==0&&qe[0].trace.type!=="splom"){var Rt=qe[0];b[Rt.trace.type]?qe=qe.filter(function(Lr){return Lr.trace.index===Rt.trace.index}):qe=[Rt];var Lt=qe.length,Ot=J("x",Rt,ce),Nt=J("y",Rt,ce);Kt(Ot,Nt);var Xt=[],ur={},cr=0,dr=function(Lr){var Zr=b[Lr.trace.type]?x(Lr):Lr.trace.index;if(!ur[Zr])cr++,ur[Zr]=cr,Xt.push(Lr);else{var Wr=ur[Zr]-1,sn=Xt[Wr];Wr>0&&Math.abs(Lr.distance)<Math.abs(sn.distance)&&(Xt[Wr]=Lr)}},Ye;for(Ye=0;Ye<Lt;Ye++)dr(qe[Ye]);for(Ye=qe.length-1;Ye>Lt-1;Ye--)dr(qe[Ye]);qe=Xt,Zt()}var je=ee._hoverdata,It=[],Dt=Z(ee),Yt=se(ee);for(pt=0;pt<qe.length;pt++){var tr=qe[pt],fr=m.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var rr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(rr=tr.cd[tr.index].ht),tr.hovertemplate=rr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var Ft=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,br=tr.y0+tr.ya._offset,yr=tr.y1+tr.ya._offset,vr=Math.min(Ft,hr),Gr=Math.max(Ft,hr),_r=Math.min(br,yr),Dr=Math.max(br,yr);fr.bbox={x0:vr+Yt,x1:Gr+Yt,y0:_r+Dt,y1:Dr+Dt}}tr.eventData=[fr],It.push(fr)}ee._hoverdata=It;var pn=Ge==="y"&&(et.length>1||qe.length>1)||Ge==="closest"&&Se&&qe.length>1,nn=a.combine(ce.plot_bgcolor||a.background,ce.paper_bgcolor),Un=_(qe,{gd:ee,hovermode:Ge,rotateLabels:pn,bgColor:nn,container:ce._hoverlayer,outerContainer:ce._paper.node(),commonLabelOpts:ce.hoverlabel,hoverdistance:ce.hoverdistance}),Tn=Un.hoverLabels;if(m.isUnifiedHover(Ge)||(F(Tn,pn,ce,Un.commonLabelBoundingBox),O(Tn,pn,ce._invScaleX,ce._invScaleY)),ue&&ue.tagName){var Cr=s.getComponentMethod("annotations","hasClickToShow")(ee,It);t(p.select(ue),Cr?"pointer":"")}!ue||K||!q(ee,le,je)||(je&&ee.emit("plotly_unhover",{event:le,points:je}),ee.emit("plotly_hover",{event:le,points:ee._hoverdata,xaxes:Ee,yaxes:be,xvals:ft,yvals:dt}))}function x(ee){return[ee.trace.index,ee.index,ee.x0,ee.y0,ee.name,ee.attr,ee.xa?ee.xa._id:"",ee.ya?ee.ya._id:""].join(",")}var z=/<extra>([\s\S]*)<\/extra>/;function _(ee,le){var Q=le.gd,K=Q._fullLayout,ue=le.hovermode,ie=le.rotateLabels,ce=le.bgColor,xe=le.container,Le=le.outerContainer,Ae=le.commonLabelOpts||{};if(ee.length===0)return[[]];var Oe=le.fontFamily||f.HOVERFONT,ze=le.fontSize||f.HOVERFONTSIZE,Ee=ee[0],be=Ee.xa,Ce=Ee.ya,Ue=ue.charAt(0),He=Ue+"Label",Ie=Ee[He];if(Ie===void 0&&be.type==="multicategory")for(var Ge=0;Ge<ee.length&&(Ie=ee[Ge][He],Ie===void 0);Ge++);var at=$(Q,Le),lt=at.top,qe=at.width,et=at.height,ft=Ie!==void 0&&Ee.distance<=le.hoverdistance&&(ue==="x"||ue==="y");if(ft){var dt=!0,pt,At;for(pt=0;pt<ee.length;pt++)if(dt&&ee[pt].zLabel===void 0&&(dt=!1),At=ee[pt].hoverinfo||ee[pt].trace.hoverinfo,At){var Pt=Array.isArray(At)?At:At.split("+");if(Pt.indexOf("all")===-1&&Pt.indexOf(ue)===-1){ft=!1;break}}dt&&(ft=!1)}var Ht=xe.selectAll("g.axistext").data(ft?[0]:[]);Ht.enter().append("g").classed("axistext",!0),Ht.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Ht.each(function(){var Lt=p.select(this),Ot=C.ensureSingle(Lt,"path","",function(_r){_r.style({"stroke-width":"1px"})}),Nt=C.ensureSingle(Lt,"text","",function(_r){_r.attr("data-notex",1)}),Xt=Ae.bgcolor||a.defaultLine,ur=Ae.bordercolor||a.contrast(Xt),cr=a.contrast(Xt),dr={family:Ae.font.family||Oe,size:Ae.font.size||ze,color:Ae.font.color||cr};Ot.style({fill:Xt,stroke:ur}),Nt.text(Ie).call(i.font,dr).call(r.positionText,0,0).call(r.convertToTspans,Q),Lt.attr("transform","");var Ye=$(Q,Nt.node()),je,It;if(ue==="x"){var Dt=be.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(r.positionText,0,be.side==="top"?lt-Ye.bottom-w-E:lt-Ye.top+w+E),je=be._offset+(Ee.x0+Ee.x1)/2,It=Ce._offset+(be.side==="top"?0:Ce._length);var Yt=Ye.width/2+E;je<Yt?(je=Yt,Ot.attr("d","M-"+(Yt-w)+",0L-"+(Yt-w*2)+","+Dt+w+"H"+Yt+"v"+Dt+(E*2+Ye.height)+"H-"+Yt+"V"+Dt+w+"Z")):je>K.width-Yt?(je=K.width-Yt,Ot.attr("d","M"+(Yt-w)+",0L"+Yt+","+Dt+w+"v"+Dt+(E*2+Ye.height)+"H-"+Yt+"V"+Dt+w+"H"+(Yt-w*2)+"Z")):Ot.attr("d","M0,0L"+w+","+Dt+w+"H"+Yt+"v"+Dt+(E*2+Ye.height)+"H-"+Yt+"V"+Dt+w+"H-"+w+"Z"),Je.minX=je-Yt,Je.maxX=je+Yt,be.side==="top"?(Je.minY=It-(E*2+Ye.height),Je.maxY=It-E):(Je.minY=It+E,Je.maxY=It+(E*2+Ye.height))}else{var tr,fr,rr;Ce.side==="right"?(tr="start",fr=1,rr="",je=be._offset+be._length):(tr="end",fr=-1,rr="-",je=be._offset),It=Ce._offset+(Ee.y0+Ee.y1)/2,Nt.attr("text-anchor",tr),Ot.attr("d","M0,0L"+rr+w+","+w+"V"+(E+Ye.height/2)+"h"+rr+(E*2+Ye.width)+"V-"+(E+Ye.height/2)+"H"+rr+w+"V-"+w+"Z"),Je.minY=It-(E+Ye.height/2),Je.maxY=It+(E+Ye.height/2),Ce.side==="right"?(Je.minX=je+w,Je.maxX=je+w+(E*2+Ye.width)):(Je.minX=je-w-(E*2+Ye.width),Je.maxX=je-w);var Ft=Ye.height/2,hr=lt-Ye.top-Ft,br="clip"+K._uid+"commonlabel"+Ce._id,yr;if(je<Ye.width+2*E+w){yr="M-"+(w+E)+"-"+Ft+"h-"+(Ye.width-E)+"V"+Ft+"h"+(Ye.width-E)+"Z";var vr=Ye.width-je+E;r.positionText(Nt,vr,hr),tr==="end"&&Nt.selectAll("tspan").each(function(){var _r=p.select(this),Dr=i.tester.append("text").text(_r.text()).call(i.font,dr),pn=$(Q,Dr.node());Math.round(pn.width)<Math.round(Ye.width)&&_r.attr("x",vr-pn.width),Dr.remove()})}else r.positionText(Nt,fr*(E+w),hr),yr=null;var Gr=K._topclips.selectAll("#"+br).data(yr?[0]:[]);Gr.enter().append("clipPath").attr("id",br).append("path"),Gr.exit().remove(),Gr.select("path").attr("d",yr),i.setClipUrl(Nt,yr?br:null,Q)}Lt.attr("transform",T(je,It))}),m.isUnifiedHover(ue)){xe.selectAll("g.hovertext").remove();var We=ee.filter(function(Lt){return Lt.hoverinfo!=="none"});if(We.length===0)return[];var _e=K.hoverlabel,Ne=_e.font,ke={showlegend:!0,legend:{title:{text:Ie,font:Ne},font:Ne,bgcolor:_e.bgcolor,bordercolor:_e.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:K.legend?K.legend.traceorder:void 0,orientation:"v"}},we={font:Ne};S(ke,we,Q._fullData);var me=we.legend;me.entries=[];for(var Me=0;Me<We.length;Me++){var Se=We[Me];if(Se.hoverinfo!=="none"){var Ve=G(Se,!0,ue,K,Ie),Ze=Ve[0],tt=Ve[1];Se.name=tt,tt!==""?Se.text=tt+" : "+Ze:Se.text=Ze;var ct=Se.cd[Se.index];ct&&(ct.mc&&(Se.mc=ct.mc),ct.mcc&&(Se.mc=ct.mcc),ct.mlc&&(Se.mlc=ct.mlc),ct.mlcc&&(Se.mlc=ct.mlcc),ct.mlw&&(Se.mlw=ct.mlw),ct.mrc&&(Se.mrc=ct.mrc),ct.dir&&(Se.dir=ct.dir)),Se._distinct=!0,me.entries.push([Se])}}me.entries.sort(function(Lt,Ot){return Lt[0].trace.index-Ot[0].trace.index}),me.layer=xe,me._inHover=!0,me._groupTitleFont=_e.grouptitlefont,v(Q,me);var gt=xe.select("g.legend"),jt=$(Q,gt.node()),Kt=jt.width+2*E,Tt=jt.height+2*E,zt=We[0],qt=(zt.x0+zt.x1)/2,Sr=(zt.y0+zt.y1)/2,yt=!(s.traceIs(zt.trace,"bar-like")||s.traceIs(zt.trace,"box-violin")),Zt,Jt;Ue==="y"?yt?(Jt=Sr-E,Zt=Sr+E):(Jt=Math.min.apply(null,We.map(function(Lt){return Math.min(Lt.y0,Lt.y1)})),Zt=Math.max.apply(null,We.map(function(Lt){return Math.max(Lt.y0,Lt.y1)}))):Jt=Zt=C.mean(We.map(function(Lt){return(Lt.y0+Lt.y1)/2}))-Tt/2;var mr,sr;Ue==="x"?yt?(mr=qt+E,sr=qt-E):(mr=Math.max.apply(null,We.map(function(Lt){return Math.max(Lt.x0,Lt.x1)})),sr=Math.min.apply(null,We.map(function(Lt){return Math.min(Lt.x0,Lt.x1)}))):mr=sr=C.mean(We.map(function(Lt){return(Lt.x0+Lt.x1)/2}))-Kt/2;var vt=be._offset,it=Ce._offset;Zt+=it,mr+=vt,sr+=vt-Kt,Jt+=it-Tt;var xt,St;return mr+Kt<qe&&mr>=0?xt=mr:sr+Kt<qe&&sr>=0?xt=sr:vt+Kt<qe?xt=vt:mr-qt<qt-sr+Kt?xt=qe-Kt:xt=0,xt+=E,Zt+Tt<et&&Zt>=0?St=Zt:Jt+Tt<et&&Jt>=0?St=Jt:it+Tt<et?St=it:Zt-Sr<Sr-Jt+Tt?St=et-Tt:St=0,St+=E,gt.attr("transform",T(xt-1,St-1)),gt}var Rt=xe.selectAll("g.hovertext").data(ee,function(Lt){return x(Lt)});return Rt.enter().append("g").classed("hovertext",!0).each(function(){var Lt=p.select(this);Lt.append("rect").call(a.fill,a.addOpacity(ce,.8)),Lt.append("text").classed("name",!0),Lt.append("path").style("stroke-width","1px"),Lt.append("text").classed("nums",!0).call(i.font,Oe,ze)}),Rt.exit().remove(),Rt.each(function(Lt){var Ot=p.select(this).attr("transform",""),Nt=Lt.color;Array.isArray(Nt)&&(Nt=Nt[Lt.eventData[0].pointNumber]);var Xt=Lt.bgcolor||Nt,ur=a.combine(a.opacity(Xt)?Xt:a.defaultLine,ce),cr=a.combine(a.opacity(Nt)?Nt:a.defaultLine,ce),dr=Lt.borderColor||a.contrast(ur),Ye=G(Lt,ft,ue,K,Ie,Ot),je=Ye[0],It=Ye[1],Dt=Ot.select("text.nums").call(i.font,Lt.fontFamily||Oe,Lt.fontSize||ze,Lt.fontColor||dr).text(je).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q),Yt=Ot.select("text.name"),tr=0,fr=0;if(It&&It!==je){Yt.call(i.font,Lt.fontFamily||Oe,Lt.fontSize||ze,cr).text(It).attr("data-notex",1).call(r.positionText,0,0).call(r.convertToTspans,Q);var rr=$(Q,Yt.node());tr=rr.width+2*E,fr=rr.height+2*E}else Yt.remove(),Ot.select("rect").remove();Ot.select("path").style({fill:ur,stroke:dr});var Ft=Lt.xa._offset+(Lt.x0+Lt.x1)/2,hr=Lt.ya._offset+(Lt.y0+Lt.y1)/2,br=Math.abs(Lt.x1-Lt.x0),yr=Math.abs(Lt.y1-Lt.y0),vr=$(Q,Dt.node()),Gr=vr.width/K._invScaleX,_r=vr.height/K._invScaleY;Lt.ty0=(lt-vr.top)/K._invScaleY,Lt.bx=Gr+2*E,Lt.by=Math.max(_r+2*E,fr),Lt.anchor="start",Lt.txwidth=Gr,Lt.tx2width=tr,Lt.offset=0;var Dr=(Gr+w+E+tr)*K._invScaleX,pn,nn;if(ie)Lt.pos=Ft,pn=hr+yr/2+Dr<=et,nn=hr-yr/2-Dr>=0,(Lt.idealAlign==="top"||!pn)&&nn?(hr-=yr/2,Lt.anchor="end"):pn?(hr+=yr/2,Lt.anchor="start"):Lt.anchor="middle",Lt.crossPos=hr;else{if(Lt.pos=hr,pn=Ft+br/2+Dr<=qe,nn=Ft-br/2-Dr>=0,(Lt.idealAlign==="left"||!pn)&&nn)Ft-=br/2,Lt.anchor="end";else if(pn)Ft+=br/2,Lt.anchor="start";else{Lt.anchor="middle";var Un=Dr/2,Tn=Ft+Un-qe,Cr=Ft-Un;Tn>0&&(Ft-=Tn),Cr<0&&(Ft+=-Cr)}Lt.crossPos=Ft}Dt.attr("text-anchor",Lt.anchor),tr&&Yt.attr("text-anchor",Lt.anchor),Ot.attr("transform",T(Ft,hr)+(ie?d(l):""))}),{hoverLabels:Rt,commonLabelBoundingBox:Je}}function G(ee,le,Q,K,ue,ie){var ce="",xe="";ee.nameOverride!==void 0&&(ee.name=ee.nameOverride),ee.name&&(ee.trace._meta&&(ee.name=C.templateString(ee.name,ee.trace._meta)),ce=oe(ee.name,ee.nameLength));var Le=Q.charAt(0),Ae=Le==="x"?"y":"x";ee.zLabel!==void 0?(ee.xLabel!==void 0&&(xe+="x: "+ee.xLabel+"<br>"),ee.yLabel!==void 0&&(xe+="y: "+ee.yLabel+"<br>"),ee.trace.type!=="choropleth"&&ee.trace.type!=="choroplethmapbox"&&(xe+=(xe?"z: ":"")+ee.zLabel)):le&&ee[Le+"Label"]===ue?xe=ee[Ae+"Label"]||"":ee.xLabel===void 0?ee.yLabel!==void 0&&ee.trace.type!=="scattercarpet"&&(xe=ee.yLabel):ee.yLabel===void 0?xe=ee.xLabel:xe="("+ee.xLabel+", "+ee.yLabel+")",(ee.text||ee.text===0)&&!Array.isArray(ee.text)&&(xe+=(xe?"<br>":"")+ee.text),ee.extraText!==void 0&&(xe+=(xe?"<br>":"")+ee.extraText),ie&&xe===""&&!ee.hovertemplate&&(ce===""&&ie.remove(),xe=ce);var Oe=ee.hovertemplate||!1;if(Oe){var ze=ee.hovertemplateLabels||ee;ee[Le+"Label"]!==ue&&(ze[Le+"other"]=ze[Le+"Val"],ze[Le+"otherLabel"]=ze[Le+"Label"]),xe=C.hovertemplateString(Oe,ze,K._d3locale,ee.eventData[0]||{},ee.trace._meta),xe=xe.replace(z,function(Ee,be){return ce=oe(be,ee.nameLength),""})}return[xe,ce]}function F(ee,le,Q,K){var ue=le?"xa":"ya",ie=le?"ya":"xa",ce=0,xe=1,Le=ee.size(),Ae=new Array(Le),Oe=0,ze=K.minX,Ee=K.maxX,be=K.minY,Ce=K.maxY,Ue=function(Ne){return Ne*Q._invScaleX},He=function(Ne){return Ne*Q._invScaleY};ee.each(function(Ne){var ke=Ne[ue],we=Ne[ie],me=ke._id.charAt(0)==="x",Me=ke.range;Oe===0&&Me&&Me[0]>Me[1]!==me&&(xe=-1);var Se=0,Ve=me?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var Ze=N(Ne,le),tt=Ne.anchor,ct=tt==="end"?-1:1,gt,jt;if(tt==="middle")gt=Ne.crossPos+(me?He(Ze.y-Ne.by/2):Ue(Ne.bx/2+Ne.tx2width/2)),jt=gt+(me?He(Ne.by):Ue(Ne.bx));else if(me)gt=Ne.crossPos+He(w+Ze.y)-He(Ne.by/2-w),jt=gt+He(Ne.by);else{var Kt=Ue(ct*w+Ze.x),Tt=Kt+Ue(ct*Ne.bx);gt=Ne.crossPos+Math.min(Kt,Tt),jt=Ne.crossPos+Math.max(Kt,Tt)}me?be!==void 0&&Ce!==void 0&&Math.min(jt,Ce)-Math.max(gt,be)>1&&(we.side==="left"?(Se=we._mainLinePosition,Ve=Q.width):Ve=we._mainLinePosition):ze!==void 0&&Ee!==void 0&&Math.min(jt,Ee)-Math.max(gt,ze)>1&&(we.side==="top"?(Se=we._mainLinePosition,Ve=Q.height):Ve=we._mainLinePosition)}Ae[Oe++]=[{datum:Ne,traceIndex:Ne.trace.index,dp:0,pos:Ne.pos,posref:Ne.posref,size:Ne.by*(me?M:1)/2,pmin:Se,pmax:Ve}]}),Ae.sort(function(Ne,ke){return Ne[0].posref-ke[0].posref||xe*(ke[0].traceIndex-Ne[0].traceIndex)});var Ie,Ge,at,lt,qe,et,ft;function dt(Ne){var ke=Ne[0],we=Ne[Ne.length-1];if(Ge=ke.pmin-ke.pos-ke.dp+ke.size,at=we.pos+we.dp+we.size-ke.pmax,Ge>.01){for(qe=Ne.length-1;qe>=0;qe--)Ne[qe].dp+=Ge;Ie=!1}if(!(at<.01)){if(Ge<-.01){for(qe=Ne.length-1;qe>=0;qe--)Ne[qe].dp-=at;Ie=!1}if(Ie){var me=0;for(lt=0;lt<Ne.length;lt++)et=Ne[lt],et.pos+et.dp+et.size>ke.pmax&&me++;for(lt=Ne.length-1;lt>=0&&!(me<=0);lt--)et=Ne[lt],et.pos>ke.pmax-1&&(et.del=!0,me--);for(lt=0;lt<Ne.length&&!(me<=0);lt++)if(et=Ne[lt],et.pos<ke.pmin+1)for(et.del=!0,me--,at=et.size*2,qe=Ne.length-1;qe>=0;qe--)Ne[qe].dp-=at;for(lt=Ne.length-1;lt>=0&&!(me<=0);lt--)et=Ne[lt],et.pos+et.dp+et.size>ke.pmax&&(et.del=!0,me--)}}}for(;!Ie&&ce<=Le;){for(ce++,Ie=!0,lt=0;lt<Ae.length-1;){var pt=Ae[lt],At=Ae[lt+1],Pt=pt[pt.length-1],Ht=At[0];if(Ge=Pt.pos+Pt.dp+Pt.size-Ht.pos-Ht.dp+Ht.size,Ge>.01&&Pt.pmin===Ht.pmin&&Pt.pmax===Ht.pmax){for(qe=At.length-1;qe>=0;qe--)At[qe].dp+=Ge;for(pt.push.apply(pt,At),Ae.splice(lt+1,1),ft=0,qe=pt.length-1;qe>=0;qe--)ft+=pt[qe].dp;for(at=ft/pt.length,qe=pt.length-1;qe>=0;qe--)pt[qe].dp-=at;Ie=!1}else lt++}Ae.forEach(dt)}for(lt=Ae.length-1;lt>=0;lt--){var Je=Ae[lt];for(qe=Je.length-1;qe>=0;qe--){var We=Je[qe],_e=We.datum;_e.offset=We.dp,_e.del=We.del}}}function N(ee,le){var Q=0,K=ee.offset;return le&&(K*=-k,Q=ee.offset*A),{x:Q,y:K}}function U(ee){var le={start:1,end:-1,middle:0}[ee.anchor],Q=le*(w+E),K=Q+le*(ee.txwidth+E),ue=ee.anchor==="middle";return ue&&(Q-=ee.tx2width/2,K+=ee.txwidth/2+E),{alignShift:le,textShiftX:Q,text2ShiftX:K}}function O(ee,le,Q,K){var ue=function(ce){return ce*Q},ie=function(ce){return ce*K};ee.each(function(ce){var xe=p.select(this);if(ce.del)return xe.remove();var Le=xe.select("text.nums"),Ae=ce.anchor,Oe=Ae==="end"?-1:1,ze=U(ce),Ee=N(ce,le),be=Ee.x,Ce=Ee.y,Ue=Ae==="middle";xe.select("path").attr("d",Ue?"M-"+ue(ce.bx/2+ce.tx2width/2)+","+ie(Ce-ce.by/2)+"h"+ue(ce.bx)+"v"+ie(ce.by)+"h-"+ue(ce.bx)+"Z":"M0,0L"+ue(Oe*w+be)+","+ie(w+Ce)+"v"+ie(ce.by/2-w)+"h"+ue(Oe*ce.bx)+"v-"+ie(ce.by)+"H"+ue(Oe*w+be)+"V"+ie(Ce-w)+"Z");var He=be+ze.textShiftX,Ie=Ce+ce.ty0-ce.by/2+E,Ge=ce.textAlign||"auto";Ge!=="auto"&&(Ge==="left"&&Ae!=="start"?(Le.attr("text-anchor","start"),He=Ue?-ce.bx/2-ce.tx2width/2+E:-ce.bx-E):Ge==="right"&&Ae!=="end"&&(Le.attr("text-anchor","end"),He=Ue?ce.bx/2-ce.tx2width/2-E:ce.bx+E)),Le.call(r.positionText,ue(He),ie(Ie)),ce.tx2width&&(xe.select("text.name").call(r.positionText,ue(ze.text2ShiftX+ze.alignShift*E+be),ie(Ce+ce.ty0-ce.by/2+E)),xe.select("rect").call(i.setRect,ue(ze.text2ShiftX+(ze.alignShift-1)*ce.tx2width/2+be),ie(Ce-ce.by/2-1),ue(ce.tx2width),ie(ce.by+2)))})}function H(ee,le){var Q=ee.index,K=ee.trace||{},ue=ee.cd[0],ie=ee.cd[Q]||{};function ce(Ee){return Ee||L(Ee)&&Ee===0}var xe=Array.isArray(Q)?function(Ee,be){var Ce=C.castOption(ue,Q,Ee);return ce(Ce)?Ce:C.extractOption({},K,"",be)}:function(Ee,be){return C.extractOption(ie,K,Ee,be)};function Le(Ee,be,Ce){var Ue=xe(be,Ce);ce(Ue)&&(ee[Ee]=Ue)}if(Le("hoverinfo","hi","hoverinfo"),Le("bgcolor","hbg","hoverlabel.bgcolor"),Le("borderColor","hbc","hoverlabel.bordercolor"),Le("fontFamily","htf","hoverlabel.font.family"),Le("fontSize","hts","hoverlabel.font.size"),Le("fontColor","htc","hoverlabel.font.color"),Le("nameLength","hnl","hoverlabel.namelength"),Le("textAlign","hta","hoverlabel.align"),ee.posref=le==="y"||le==="closest"&&K.orientation==="h"?ee.xa._offset+(ee.x0+ee.x1)/2:ee.ya._offset+(ee.y0+ee.y1)/2,ee.x0=C.constrain(ee.x0,0,ee.xa._length),ee.x1=C.constrain(ee.x1,0,ee.xa._length),ee.y0=C.constrain(ee.y0,0,ee.ya._length),ee.y1=C.constrain(ee.y1,0,ee.ya._length),ee.xLabelVal!==void 0&&(ee.xLabel="xLabel"in ee?ee.xLabel:u.hoverLabelText(ee.xa,ee.xLabelVal,K.xhoverformat),ee.xVal=ee.xa.c2d(ee.xLabelVal)),ee.yLabelVal!==void 0&&(ee.yLabel="yLabel"in ee?ee.yLabel:u.hoverLabelText(ee.ya,ee.yLabelVal,K.yhoverformat),ee.yVal=ee.ya.c2d(ee.yLabelVal)),ee.zLabelVal!==void 0&&ee.zLabel===void 0&&(ee.zLabel=String(ee.zLabelVal)),!isNaN(ee.xerr)&&!(ee.xa.type==="log"&&ee.xerr<=0)){var Ae=u.tickText(ee.xa,ee.xa.c2l(ee.xerr),"hover").text;ee.xerrneg!==void 0?ee.xLabel+=" +"+Ae+" / -"+u.tickText(ee.xa,ee.xa.c2l(ee.xerrneg),"hover").text:ee.xLabel+="  "+Ae,le==="x"&&(ee.distance+=1)}if(!isNaN(ee.yerr)&&!(ee.ya.type==="log"&&ee.yerr<=0)){var Oe=u.tickText(ee.ya,ee.ya.c2l(ee.yerr),"hover").text;ee.yerrneg!==void 0?ee.yLabel+=" +"+Oe+" / -"+u.tickText(ee.ya,ee.ya.c2l(ee.yerrneg),"hover").text:ee.yLabel+="  "+Oe,le==="y"&&(ee.distance+=1)}var ze=ee.hoverinfo||ee.trace.hoverinfo;return ze&&ze!=="all"&&(ze=Array.isArray(ze)?ze:ze.split("+"),ze.indexOf("x")===-1&&(ee.xLabel=void 0),ze.indexOf("y")===-1&&(ee.yLabel=void 0),ze.indexOf("z")===-1&&(ee.zLabel=void 0),ze.indexOf("text")===-1&&(ee.text=void 0),ze.indexOf("name")===-1&&(ee.name=void 0)),ee}function Y(ee,le,Q){var K=Q.container,ue=Q.fullLayout,ie=ue._size,ce=Q.event,xe=!!le.hLinePoint,Le=!!le.vLinePoint,Ae,Oe;if(K.selectAll(".spikeline").remove(),!!(Le||xe)){var ze=a.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(xe){var Ee=le.hLinePoint,be,Ce;Ae=Ee&&Ee.xa,Oe=Ee&&Ee.ya;var Ue=Oe.spikesnap;Ue==="cursor"?(be=ce.pointerX,Ce=ce.pointerY):(be=Ae._offset+Ee.x,Ce=Oe._offset+Ee.y);var He=n.readability(Ee.color,ze)<1.5?a.contrast(ze):Ee.color,Ie=Oe.spikemode,Ge=Oe.spikethickness,at=Oe.spikecolor||He,lt=u.getPxPosition(ee,Oe),qe,et;if(Ie.indexOf("toaxis")!==-1||Ie.indexOf("across")!==-1){if(Ie.indexOf("toaxis")!==-1&&(qe=lt,et=be),Ie.indexOf("across")!==-1){var ft=Oe._counterDomainMin,dt=Oe._counterDomainMax;Oe.anchor==="free"&&(ft=Math.min(ft,Oe.position),dt=Math.max(dt,Oe.position)),qe=ie.l+ft*ie.w,et=ie.l+dt*ie.w}K.insert("line",":first-child").attr({x1:qe,x2:et,y1:Ce,y2:Ce,"stroke-width":Ge,stroke:at,"stroke-dasharray":i.dashStyle(Oe.spikedash,Ge)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:qe,x2:et,y1:Ce,y2:Ce,"stroke-width":Ge+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}Ie.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:lt+(Oe.side!=="right"?Ge:-Ge),cy:Ce,r:Ge,fill:at}).classed("spikeline",!0)}if(Le){var pt=le.vLinePoint,At,Pt;Ae=pt&&pt.xa,Oe=pt&&pt.ya;var Ht=Ae.spikesnap;Ht==="cursor"?(At=ce.pointerX,Pt=ce.pointerY):(At=Ae._offset+pt.x,Pt=Oe._offset+pt.y);var Je=n.readability(pt.color,ze)<1.5?a.contrast(ze):pt.color,We=Ae.spikemode,_e=Ae.spikethickness,Ne=Ae.spikecolor||Je,ke=u.getPxPosition(ee,Ae),we,me;if(We.indexOf("toaxis")!==-1||We.indexOf("across")!==-1){if(We.indexOf("toaxis")!==-1&&(we=ke,me=Pt),We.indexOf("across")!==-1){var Me=Ae._counterDomainMin,Se=Ae._counterDomainMax;Ae.anchor==="free"&&(Me=Math.min(Me,Ae.position),Se=Math.max(Se,Ae.position)),we=ie.t+(1-Se)*ie.h,me=ie.t+(1-Me)*ie.h}K.insert("line",":first-child").attr({x1:At,x2:At,y1:we,y2:me,"stroke-width":_e,stroke:Ne,"stroke-dasharray":i.dashStyle(Ae.spikedash,_e)}).classed("spikeline",!0).classed("crisp",!0),K.insert("line",":first-child").attr({x1:At,x2:At,y1:we,y2:me,"stroke-width":_e+2,stroke:ze}).classed("spikeline",!0).classed("crisp",!0)}We.indexOf("marker")!==-1&&K.insert("circle",":first-child").attr({cx:At,cy:ke-(Ae.side!=="top"?_e:-_e),r:_e,fill:Ne}).classed("spikeline",!0)}}}function q(ee,le,Q){if(!Q||Q.length!==ee._hoverdata.length)return!0;for(var K=Q.length-1;K>=0;K--){var ue=Q[K],ie=ee._hoverdata[K];if(ue.curveNumber!==ie.curveNumber||String(ue.pointNumber)!==String(ie.pointNumber)||String(ue.pointNumbers)!==String(ie.pointNumbers))return!0}return!1}function ne(ee,le){return!le||le.vLinePoint!==ee._spikepoints.vLinePoint||le.hLinePoint!==ee._spikepoints.hLinePoint}function oe(ee,le){return r.plainText(ee||"",{len:le,allowedTags:["br","sub","sup","b","i","em"]})}function he(ee,le){for(var Q=le.charAt(0),K=[],ue=[],ie=[],ce=0;ce<ee.length;ce++){var xe=ee[ce];s.traceIs(xe.trace,"bar-like")||s.traceIs(xe.trace,"box-violin")?ie.push(xe):xe.trace[Q+"period"]?ue.push(xe):K.push(xe)}return K.concat(ue).concat(ie)}function J(ee,le,Q){var K=le[ee+"a"],ue=le[ee+"Val"],ie=le.cd[0];if(K.type==="category"||K.type==="multicategory")ue=K._categoriesMap[ue];else if(K.type==="date"){var ce=le.trace[ee+"periodalignment"];if(ce){var xe=le.cd[le.index],Le=xe[ee+"Start"];Le===void 0&&(Le=xe[ee]);var Ae=xe[ee+"End"];Ae===void 0&&(Ae=xe[ee]);var Oe=Ae-Le;ce==="end"?ue+=Oe:ce==="middle"&&(ue+=Oe/2)}ue=K.d2c(ue)}return ie&&ie.t&&ie.t.posLetter===K._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(ue+=ie.t.dPos),ue}function Z(ee){return ee.offsetTop+ee.clientTop}function se(ee){return ee.offsetLeft+ee.clientLeft}function $(ee,le){var Q=ee._fullLayout,K=le.getBoundingClientRect(),ue=K.left,ie=K.top,ce=ue+K.width,xe=ie+K.height,Le=C.apply3DTransform(Q._invTransform)(ue,ie),Ae=C.apply3DTransform(Q._invTransform)(ce,xe),Oe=Le[0],ze=Le[1],Ee=Ae[0],be=Ae[1];return{x:Oe,y:ze,width:Ee-Oe,height:be-ze,top:Math.min(ze,be),left:Math.min(Oe,Ee),right:Math.max(Oe,Ee),bottom:Math.max(ze,be)}}},38048:function(V,B,e){var p=e(71828),L=e(7901),n=e(23469).isUnifiedHover;V.exports=function(T,d,y,r){r=r||{};var t=d.legend;function i(a){r.font[a]||(r.font[a]=t?d.legend.font[a]:d.font[a])}d&&n(d.hovermode)&&(r.font||(r.font={}),i("size"),i("family"),i("color"),t?(r.bgcolor||(r.bgcolor=L.combine(d.legend.bgcolor,d.paper_bgcolor)),r.bordercolor||(r.bordercolor=d.legend.bordercolor)):r.bgcolor||(r.bgcolor=d.paper_bgcolor)),y("hoverlabel.bgcolor",r.bgcolor),y("hoverlabel.bordercolor",r.bordercolor),y("hoverlabel.namelength",r.namelength),p.coerceFont(y,"hoverlabel.font",r.font),y("hoverlabel.align",r.align)}},98212:function(V,B,e){var p=e(71828),L=e(528);V.exports=function(C,T){function d(y,r){return T[y]!==void 0?T[y]:p.coerce(C,T,L,y,r)}return d("clickmode"),d("hovermode")}},30211:function(V,B,e){var p=e(39898),L=e(71828),n=e(28569),C=e(23469),T=e(528),d=e(88335);V.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:T},attributes:e(77914),layoutAttributes:T,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:r,castHoverinfo:t,hover:d.hover,unhover:n.unhover,loneHover:d.loneHover,loneUnhover:y,click:e(75914)};function y(i){var a=L.isD3Selection(i)?i:p.select(i);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()}function r(i,a,h){return L.castOption(i,a,"hoverlabel."+h)}function t(i,a,h){function u(s){return L.coerceHoverinfo({hoverinfo:s},{_module:i._module},a)}return L.castOption(i,h,"hoverinfo",u)}},528:function(V,B,e){var p=e(26675),L=e(41940),n=L({editType:"none"});n.family.dflt=p.HOVERFONT,n.size.dflt=p.HOVERFONTSIZE,V.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(V,B,e){var p=e(71828),L=e(528),n=e(98212),C=e(38048);V.exports=function(d,y){function r(s,m){return p.coerce(d,y,L,s,m)}var t=n(d,y);t&&(r("hoverdistance"),r("spikedistance"));var i=r("dragmode");i==="select"&&r("selectdirection");var a=y._has("mapbox"),h=y._has("geo"),u=y._basePlotModules.length;y.dragmode==="zoom"&&((a||h)&&u===1||a&&h&&u===2)&&(y.dragmode="pan"),C(d,y,r),p.coerceFont(r,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},22774:function(V,B,e){var p=e(71828),L=e(38048),n=e(528);V.exports=function(T,d){function y(r,t){return p.coerce(T,d,n,r,t)}L(T,d,y)}},83312:function(V,B,e){var p=e(71828),L=e(30587).counter,n=e(27670).Y,C=e(85555).idRegex,T=e(44467),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function y(h,u,s){var m=u[s+"axes"],f=Object.keys((h._splomAxes||{})[s]||{});if(Array.isArray(m))return m;if(f.length)return f}function r(h,u){var s=h.grid||{},m=y(u,s,"x"),f=y(u,s,"y");if(!h.grid&&!m&&!f)return;var S=Array.isArray(s.subplots)&&Array.isArray(s.subplots[0]),v=Array.isArray(m),l=Array.isArray(f),g=v&&m!==s.xaxes&&l&&f!==s.yaxes,M,A;S?(M=s.subplots.length,A=s.subplots[0].length):(l&&(M=f.length),v&&(A=m.length));var k=T.newContainer(u,"grid");function w(N,U){return p.coerce(s,k,d,N,U)}var E=w("rows",M),b=w("columns",A);if(!(E*b>1)){delete u.grid;return}if(!S&&!v&&!l){var o=w("pattern")==="independent";o&&(S=!0)}k._hasSubplotGrid=S;var P=w("roworder"),x=P==="top to bottom",z=S?.2:.1,_=S?.3:.1,G,F;g&&u._splomGridDflt&&(G=u._splomGridDflt.xside,F=u._splomGridDflt.yside),k._domains={x:t("x",w,z,G,b),y:t("y",w,_,F,E,x)}}function t(h,u,s,m,f,S){var v=u(h+"gap",s),l=u("domain."+h);u(h+"side",m);for(var g=new Array(f),M=l[0],A=(l[1]-M)/(f-v),k=A*(1-v),w=0;w<f;w++){var E=M+A*w;g[S?f-1-w:w]=[E,E+k]}return g}function i(h,u){var s=u.grid;if(!(!s||!s._domains)){var m=h.grid||{},f=u._subplots,S=s._hasSubplotGrid,v=s.rows,l=s.columns,g=s.pattern==="independent",M,A,k,w,E,b,o,P=s._axisMap={};if(S){var x=m.subplots||[];b=s.subplots=new Array(v);var z=1;for(M=0;M<v;M++){var _=b[M]=new Array(l),G=x[M]||[];for(A=0;A<l;A++)if(g?(E=z===1?"xy":"x"+z+"y"+z,z++):E=G[A],_[A]="",f.cartesian.indexOf(E)!==-1){if(o=E.indexOf("y"),k=E.slice(0,o),w=E.slice(o),P[k]!==void 0&&P[k]!==A||P[w]!==void 0&&P[w]!==M)continue;_[A]=E,P[k]=A,P[w]=M}}}else{var F=y(u,m,"x"),N=y(u,m,"y");s.xaxes=a(F,f.xaxis,l,P,"x"),s.yaxes=a(N,f.yaxis,v,P,"y")}var U=s._anchors={},O=s.roworder==="top to bottom";for(var H in P){var Y=H.charAt(0),q=s[Y+"side"],ne,oe,he;if(q.length<8)U[H]="free";else if(Y==="x"){if(q.charAt(0)==="t"===O?(ne=0,oe=1,he=v):(ne=v-1,oe=-1,he=-1),S){var J=P[H];for(M=ne;M!==he;M+=oe)if(E=b[M][J],!!E&&(o=E.indexOf("y"),E.slice(0,o)===H)){U[H]=E.slice(o);break}}else for(M=ne;M!==he;M+=oe)if(w=s.yaxes[M],f.cartesian.indexOf(H+w)!==-1){U[H]=w;break}}else if(q.charAt(0)==="l"?(ne=0,oe=1,he=l):(ne=l-1,oe=-1,he=-1),S){var Z=P[H];for(M=ne;M!==he;M+=oe)if(E=b[Z][M],!!E&&(o=E.indexOf("y"),E.slice(o)===H)){U[H]=E.slice(0,o);break}}else for(M=ne;M!==he;M+=oe)if(k=s.xaxes[M],f.cartesian.indexOf(k+H)!==-1){U[H]=k;break}}}}function a(h,u,s,m,f){var S=new Array(s),v;function l(g,M){u.indexOf(M)!==-1&&m[M]===void 0?(S[g]=M,m[M]=g):S[g]=""}if(Array.isArray(h))for(v=0;v<s;v++)l(v,h[v]);else for(l(0,f),v=1;v<s;v++)l(v,f+(v+1));return S}V.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:r,contentDefaults:i}},69819:function(V,B,e){var p=e(85555),L=e(44467).templatedArray;e(24695),V.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(V,B,e){var p=e(92770),L=e(58163);V.exports=function(C,T,d,y){T=T||{};var r=d==="log"&&T.type==="linear",t=d==="linear"&&T.type==="log";if(r||t){for(var i=C._fullLayout.images,a=T._id.charAt(0),h,u,s=0;s<i.length;s++)if(h=i[s],u="images["+s+"].",h[a+"ref"]===T._id){var m=h[a],f=h["size"+a],S=null,v=null;if(r){S=L(m,T.range);var l=f/Math.pow(10,S)/2;v=2*Math.log(l+Math.sqrt(1+l*l))/Math.LN10}else S=Math.pow(10,m),v=S*(Math.pow(10,f/2)-Math.pow(10,-f/2));p(S)?p(v)||(v=null):(S=null,v=null),y(u+a,S),y(u+"size"+a,v)}}}},81603:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(69819),T="images";V.exports=function(r,t){var i={name:T,handleItemDefaults:d};n(r,t,i)};function d(y,r,t){function i(l,g){return p.coerce(y,r,C,l,g)}var a=i("source"),h=i("visible",!!a);if(!h)return r;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var u={_fullLayout:t},s=["x","y"],m=0;m<2;m++){var f=s[m],S=L.coerceRef(y,r,u,f,"paper",void 0);if(S!=="paper"){var v=L.getFromId(u,S);v._imgIndices.push(r._index)}L.coercePosition(r,u,i,S,f,0)}return r}},80750:function(V,B,e){var p=e(39898),L=e(91424),n=e(89298),C=e(41675),T=e(77922);V.exports=function(y){var r=y._fullLayout,t=[],i={},a=[],h,u;for(u=0;u<r.images.length;u++){var s=r.images[u];if(s.visible)if(s.layer==="below"&&s.xref!=="paper"&&s.yref!=="paper"){h=C.ref2id(s.xref)+C.ref2id(s.yref);var m=r._plots[h];if(!m){a.push(s);continue}m.mainplot&&(h=m.mainplot.id),i[h]||(i[h]=[]),i[h].push(s)}else s.layer==="above"?t.push(s):a.push(s)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function S(w){var E=p.select(this);if(this._imgSrc!==w.source)if(E.attr("xmlns",T.svg),w.source&&w.source.slice(0,5)==="data:")E.attr("xlink:href",w.source),this._imgSrc=w.source;else{var b=new Promise((function(o){var P=new Image;this.img=P,P.setAttribute("crossOrigin","anonymous"),P.onerror=x,P.onload=function(){var z=document.createElement("canvas");z.width=this.width,z.height=this.height;var _=z.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var G=z.toDataURL("image/png");E.attr("xlink:href",G),o()},E.on("error",x),P.src=w.source,this._imgSrc=w.source;function x(){E.remove(),o()}}).bind(this));y._promises.push(b)}}function v(w){var E=p.select(this),b=n.getFromId(y,w.xref),o=n.getFromId(y,w.yref),P=n.getRefType(w.xref)==="domain",x=n.getRefType(w.yref)==="domain",z=r._size,_,G;b!==void 0?_=typeof w.xref=="string"&&P?b._length*w.sizex:Math.abs(b.l2p(w.sizex)-b.l2p(0)):_=w.sizex*z.w,o!==void 0?G=typeof w.yref=="string"&&x?o._length*w.sizey:Math.abs(o.l2p(w.sizey)-o.l2p(0)):G=w.sizey*z.h;var F=_*f.x[w.xanchor].offset,N=G*f.y[w.yanchor].offset,U=f.x[w.xanchor].sizing+f.y[w.yanchor].sizing,O,H;switch(b!==void 0?O=typeof w.xref=="string"&&P?b._length*w.x+b._offset:b.r2p(w.x)+b._offset:O=w.x*z.w+z.l,O+=F,o!==void 0?H=typeof w.yref=="string"&&x?o._length*(1-w.y)+o._offset:o.r2p(w.y)+o._offset:H=z.h-w.y*z.h+z.t,H+=N,w.sizing){case"fill":U+=" slice";break;case"stretch":U="none";break}E.attr({x:O,y:H,width:_,height:G,preserveAspectRatio:U,opacity:w.opacity});var Y=b&&n.getRefType(w.xref)!=="domain"?b._id:"",q=o&&n.getRefType(w.yref)!=="domain"?o._id:"",ne=Y+q;L.setClipUrl(E,ne?"clip"+r._uid+ne:null,y)}var l=r._imageLowerLayer.selectAll("image").data(a),g=r._imageUpperLayer.selectAll("image").data(t);l.enter().append("image"),g.enter().append("image"),l.exit().remove(),g.exit().remove(),l.each(function(w){S.bind(this)(w),v.bind(this)(w)}),g.each(function(w){S.bind(this)(w),v.bind(this)(w)});var M=Object.keys(r._plots);for(u=0;u<M.length;u++){h=M[u];var A=r._plots[h];if(A.imagelayer){var k=A.imagelayer.selectAll("image").data(i[h]||[]);k.enter().append("image"),k.exit().remove(),k.each(function(w){S.bind(this)(w),v.bind(this)(w)})}}}},68804:function(V,B,e){V.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(V,B,e){var p=e(41940),L=e(22399);V.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(V){V.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(V,B,e){var p=e(73972),L=e(71828),n=e(44467),C=e(9012),T=e(33030),d=e(10820),y=e(10130);function r(t,i,a,h){var u=i[t]||{},s=n.newContainer(a,t);function m(he,J){return L.coerce(u,s,T,he,J)}var f=L.coerceFont(m,"font",a.font);m("bgcolor",a.paper_bgcolor),m("bordercolor");var S=m("visible");if(S){for(var v,l=function(he,J){var Z=v._input,se=v;return L.coerce(Z,se,C,he,J)},g=a.font||{},M=L.coerceFont(m,"grouptitlefont",L.extendFlat({},g,{size:Math.round(g.size*1.1)})),A=0,k=!1,w="normal",E=(a.shapes||[]).filter(function(he){return he.showlegend}),b=h.concat(E).filter(function(he){return t===(he.legend||"legend")}),o=0;o<b.length;o++)if(v=b[o],!!v.visible){var P=v._isShape;(v.showlegend||v._dfltShowLegend&&!(v._module&&v._module.attributes&&v._module.attributes.showlegend&&v._module.attributes.showlegend.dflt===!1))&&(A++,v.showlegend&&(k=!0,(!P&&p.traceIs(v,"pie-like")||v._input.showlegend===!0)&&A++),L.coerceFont(l,"legendgrouptitle.font",M)),(!P&&p.traceIs(v,"bar")&&a.barmode==="stack"||["tonextx","tonexty"].indexOf(v.fill)!==-1)&&(w=y.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),v.legendgroup!==void 0&&v.legendgroup!==""&&(w=y.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var x=L.coerce(i,a,d,"showlegend",k&&A>(t==="legend"?1:0));if(x===!1&&(a[t]=void 0),!(x===!1&&!u.uirevision)&&(m("uirevision",a.uirevision),x!==!1)){m("borderwidth");var z=m("orientation"),_=m("yref"),G=m("xref"),F=z==="h",N=_==="paper",U=G==="paper",O,H,Y,q="left";F?(O=0,p.getComponentMethod("rangeslider","isVisible")(i.xaxis)?N?(H=1.1,Y="bottom"):(H=1,Y="top"):N?(H=-.1,Y="top"):(H=0,Y="bottom")):(H=1,Y="auto",U?O=1.02:(O=1,q="right")),L.coerce(u,s,{x:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:O}},"x"),L.coerce(u,s,{y:{valType:"number",editType:"legend",min:N?-2:0,max:N?3:1,dflt:H}},"y"),m("traceorder",w),y.isGrouped(a[t])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",q),m("yanchor",Y),m("valign"),L.noneOrAll(u,s,["x","y"]);var ne=m("title.text");if(ne){m("title.side",F?"left":"top");var oe=L.extendFlat({},f,{size:L.bigFont(f.size)});L.coerceFont(m,"title.font",oe)}}}}V.exports=function(i,a,h){var u,s=h.slice(),m=a.shapes;if(m)for(u=0;u<m.length;u++){var f=m[u];if(f.showlegend){var S={_input:f._input,visible:f.visible,showlegend:f.showlegend,legend:f.legend};s.push(S)}}var v=["legend"];for(u=0;u<s.length;u++)L.pushUnique(v,s[u].legend);for(a._legends=[],u=0;u<v.length;u++){var l=v[u];r(l,i,a,s),a[l]&&a[l].visible&&(a[l]._id=l),a._legends.push(l)}}},43969:function(V,B,e){var p=e(39898),L=e(71828),n=e(74875),C=e(73972),T=e(11086),d=e(28569),y=e(91424),r=e(7901),t=e(63893),i=e(85167),a=e(14928),h=e(18783),u=h.LINE_SPACING,s=h.FROM_TL,m=h.FROM_BR,f=e(82424),S=e(53630),v=e(10130),l=1,g=/^legend[0-9]*$/;V.exports=function(H,Y){if(Y)A(H,Y);else{var q=H._fullLayout,ne=q._legends,oe=q._infolayer.selectAll('[class^="legend"]');oe.each(function(){var se=p.select(this),$=se.attr("class"),ee=$.split(" ")[0];ee.match(g)&&ne.indexOf(ee)===-1&&se.remove()});for(var he=0;he<ne.length;he++){var J=ne[he],Z=H._fullLayout[J];A(H,Z)}}};function M(O,H,Y){if(!(H.title.side!=="top center"&&H.title.side!=="top right")){var q=H.title.font,ne=q.size*u,oe=0,he=O.node(),J=y.bBox(he).width;H.title.side==="top center"?oe=.5*(H._width-2*Y-2*a.titlePad-J):H.title.side==="top right"&&(oe=H._width-2*Y-2*a.titlePad-J),t.positionText(O,Y+a.titlePad+oe,Y+ne)}}function A(O,H){var Y=H||{},q=O._fullLayout,ne=U(Y),oe,he,J=Y._inHover;if(J?(he=Y.layer,oe="hover"):(he=q._infolayer,oe=ne),!!he){oe+=q._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var Z;if(J){if(!Y.entries)return;Z=f(Y.entries,Y)}else{for(var se=(O.calcdata||[]).slice(),$=q.shapes,ee=0;ee<$.length;ee++){var le=$[ee];if(le.showlegend){var Q={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};se.push([{trace:Q}])}}Z=q.showlegend&&f(se,Y,q._legends.length>1)}var K=q.hiddenlabels||[];if(!J&&(!q.showlegend||!Z.length))return he.selectAll("."+ne).remove(),q._topdefs.select("#"+oe).remove(),n.autoMargin(O,ne);var ue=L.ensureSingle(he,"g",ne,function(be){J||be.attr("pointer-events","all")}),ie=L.ensureSingleById(q._topdefs,"clipPath",oe,function(be){be.append("rect")}),ce=L.ensureSingle(ue,"rect","bg",function(be){be.attr("shape-rendering","crispEdges")});ce.call(r.stroke,Y.bordercolor).call(r.fill,Y.bgcolor).style("stroke-width",Y.borderwidth+"px");var xe=L.ensureSingle(ue,"g","scrollbox"),Le=Y.title;Y._titleWidth=0,Y._titleHeight=0;var Ae;Le.text?(Ae=L.ensureSingle(xe,"text",ne+"titletext"),Ae.attr("text-anchor","start").call(y.font,Le.font).text(Le.text),P(Ae,xe,O,Y,l)):xe.selectAll("."+ne+"titletext").remove();var Oe=L.ensureSingle(ue,"rect","scrollbar",function(be){be.attr(a.scrollBarEnterAttrs).call(r.fill,a.scrollBarColor)}),ze=xe.selectAll("g.groups").data(Z);ze.enter().append("g").attr("class","groups"),ze.exit().remove();var Ee=ze.selectAll("g.traces").data(L.identity);Ee.enter().append("g").attr("class","traces"),Ee.exit().remove(),Ee.style("opacity",function(be){var Ce=be[0].trace;return C.traceIs(Ce,"pie-like")?K.indexOf(be[0].label)!==-1?.5:1:Ce.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(E,O,Y)}).call(S,O,Y).each(function(){J||p.select(this).call(o,O,ne)}),L.syncOrAsync([n.previousPromises,function(){return _(O,ze,Ee,Y)},function(){var be=q._size,Ce=Y.borderwidth,Ue=Y.xref==="paper",He=Y.yref==="paper";if(Le.text&&M(Ae,Y,Ce),!J){var Ie,Ge;Ue?Ie=be.l+be.w*Y.x-s[F(Y)]*Y._width:Ie=q.width*Y.x-s[F(Y)]*Y._width,He?Ge=be.t+be.h*(1-Y.y)-s[N(Y)]*Y._effHeight:Ge=q.height*(1-Y.y)-s[N(Y)]*Y._effHeight;var at=G(O,ne,Ie,Ge);if(at)return;if(q.margin.autoexpand){var lt=Ie,qe=Ge;Ie=Ue?L.constrain(Ie,0,q.width-Y._width):lt,Ge=He?L.constrain(Ge,0,q.height-Y._effHeight):qe,Ie!==lt&&L.log("Constrain "+ne+".x to make legend fit inside graph"),Ge!==qe&&L.log("Constrain "+ne+".y to make legend fit inside graph")}y.setTranslate(ue,Ie,Ge)}if(Oe.on(".drag",null),ue.on("wheel",null),J||Y._height<=Y._maxHeight||O._context.staticPlot){var et=Y._effHeight;J&&(et=Y._height),ce.attr({width:Y._width-Ce,height:et-Ce,x:Ce/2,y:Ce/2}),y.setTranslate(xe,0,0),ie.select("rect").attr({width:Y._width-2*Ce,height:et-2*Ce,x:Ce,y:Ce}),y.setClipUrl(xe,oe,O),y.setRect(Oe,0,0,0,0),delete Y._scrollY}else{var ft=Math.max(a.scrollBarMinHeight,Y._effHeight*Y._effHeight/Y._height),dt=Y._effHeight-ft-2*a.scrollBarMargin,pt=Y._height-Y._effHeight,At=dt/pt,Pt=Math.min(Y._scrollY||0,pt);ce.attr({width:Y._width-2*Ce+a.scrollBarWidth+a.scrollBarMargin,height:Y._effHeight-Ce,x:Ce/2,y:Ce/2}),ie.select("rect").attr({width:Y._width-2*Ce+a.scrollBarWidth+a.scrollBarMargin,height:Y._effHeight-2*Ce,x:Ce,y:Ce+Pt}),y.setClipUrl(xe,oe,O),me(Pt,ft,At),ue.on("wheel",function(){Pt=L.constrain(Y._scrollY+p.event.deltaY/dt*pt,0,pt),me(Pt,ft,At),Pt!==0&&Pt!==pt&&p.event.preventDefault()});var Ht,Je,We,_e=function(tt,ct,gt){var jt=(gt-ct)/At+tt;return L.constrain(jt,0,pt)},Ne=function(tt,ct,gt){var jt=(ct-gt)/At+tt;return L.constrain(jt,0,pt)},ke=p.behavior.drag().on("dragstart",function(){var tt=p.event.sourceEvent;tt.type==="touchstart"?Ht=tt.changedTouches[0].clientY:Ht=tt.clientY,We=Pt}).on("drag",function(){var tt=p.event.sourceEvent;tt.buttons===2||tt.ctrlKey||(tt.type==="touchmove"?Je=tt.changedTouches[0].clientY:Je=tt.clientY,Pt=_e(We,Ht,Je),me(Pt,ft,At))});Oe.call(ke);var we=p.behavior.drag().on("dragstart",function(){var tt=p.event.sourceEvent;tt.type==="touchstart"&&(Ht=tt.changedTouches[0].clientY,We=Pt)}).on("drag",function(){var tt=p.event.sourceEvent;tt.type==="touchmove"&&(Je=tt.changedTouches[0].clientY,Pt=Ne(We,Ht,Je),me(Pt,ft,At))});xe.call(we)}function me(tt,ct,gt){Y._scrollY=O._fullLayout[ne]._scrollY=tt,y.setTranslate(xe,0,-tt),y.setRect(Oe,Y._width,a.scrollBarMargin+tt*gt,a.scrollBarWidth,ct),ie.select("rect").attr("y",Ce+tt)}if(O._context.edits.legendPosition){var Me,Se,Ve,Ze;ue.classed("cursor-move",!0),d.init({element:ue.node(),gd:O,prepFn:function(){var tt=y.getTranslate(ue);Ve=tt.x,Ze=tt.y},moveFn:function(tt,ct){var gt=Ve+tt,jt=Ze+ct;y.setTranslate(ue,gt,jt),Me=d.align(gt,Y._width,be.l,be.l+be.w,Y.xanchor),Se=d.align(jt+Y._height,-Y._height,be.t+be.h,be.t,Y.yanchor)},doneFn:function(){if(Me!==void 0&&Se!==void 0){var tt={};tt[ne+".x"]=Me,tt[ne+".y"]=Se,C.call("_guiRelayout",O,tt)}},clickFn:function(tt,ct){var gt=he.selectAll("g.traces").filter(function(){var jt=this.getBoundingClientRect();return ct.clientX>=jt.left&&ct.clientX<=jt.right&&ct.clientY>=jt.top&&ct.clientY<=jt.bottom});gt.size()>0&&w(O,ue,gt,tt,ct)}})}}],O)}}function k(O,H,Y){var q=O[0],ne=q.width,oe=H.entrywidthmode,he=q.trace.legendwidth||H.entrywidth;return oe==="fraction"?H._maxWidth*he:Y+(he||ne)}function w(O,H,Y,q,ne){var oe=Y.data()[0][0].trace,he={event:ne,node:Y.node(),curveNumber:oe.index,expandedIndex:oe._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};oe._group&&(he.group=oe._group),C.traceIs(oe,"pie-like")&&(he.label=Y.datum()[0].label);var J=T.triggerHandler(O,"plotly_legendclick",he);if(q===1){if(J===!1)return;H._clickTimeout=setTimeout(function(){O._fullLayout&&i(Y,O,q)},O._context.doubleClickDelay)}else if(q===2){H._clickTimeout&&clearTimeout(H._clickTimeout),O._legendMouseDownTime=0;var Z=T.triggerHandler(O,"plotly_legenddoubleclick",he);Z!==!1&&J!==!1&&i(Y,O,q)}}function E(O,H,Y){var q=U(Y),ne=O.data()[0][0],oe=ne.trace,he=C.traceIs(oe,"pie-like"),J=!Y._inHover&&H._context.edits.legendText&&!he,Z=Y._maxNameLength,se,$;ne.groupTitle?(se=ne.groupTitle.text,$=ne.groupTitle.font):($=Y.font,Y.entries?se=ne.text:(se=he?ne.label:oe.name,oe._meta&&(se=L.templateString(se,oe._meta))));var ee=L.ensureSingle(O,"text",q+"text");ee.attr("text-anchor","start").call(y.font,$).text(J?b(se,Z):se);var le=Y.itemwidth+a.itemGap*2;t.positionText(ee,le,0),J?ee.call(t.makeEditable,{gd:H,text:se}).call(P,O,H,Y).on("edit",function(Q){this.text(b(Q,Z)).call(P,O,H,Y);var K=ne.trace._fullInput||{},ue={};if(C.hasTransform(K,"groupby")){var ie=C.getTransformIndices(K,"groupby"),ce=ie[ie.length-1],xe=L.keyedContainer(K,"transforms["+ce+"].styles","target","value.name");xe.set(ne.trace._group,Q),ue=xe.constructUpdate()}else ue.name=Q;return K._isShape?C.call("_guiRelayout",H,"shapes["+oe.index+"].name",ue.name):C.call("_guiRestyle",H,ue,oe.index)}):P(ee,O,H,Y)}function b(O,H){var Y=Math.max(4,H);if(O&&O.trim().length>=Y/2)return O;O=O||"";for(var q=Y-O.length;q>0;q--)O+=" ";return O}function o(O,H,Y){var q=H._context.doubleClickDelay,ne,oe=1,he=L.ensureSingle(O,"rect",Y+"toggle",function(J){H._context.staticPlot||J.style("cursor","pointer").attr("pointer-events","all"),J.call(r.fill,"rgba(0,0,0,0)")});H._context.staticPlot||(he.on("mousedown",function(){ne=new Date().getTime(),ne-H._legendMouseDownTime<q?oe+=1:(oe=1,H._legendMouseDownTime=ne)}),he.on("mouseup",function(){if(!(H._dragged||H._editing)){var J=H._fullLayout[Y];new Date().getTime()-H._legendMouseDownTime>q&&(oe=Math.max(oe-1,1)),w(H,J,O,oe,p.event)}}))}function P(O,H,Y,q,ne){q._inHover&&O.attr("data-notex",!0),t.convertToTspans(O,Y,function(){x(H,Y,q,ne)})}function x(O,H,Y,q){var ne=O.data()[0][0];if(!Y._inHover&&ne&&!ne.trace.showlegend){O.remove();return}var oe=O.select("g[class*=math-group]"),he=oe.node(),J=U(Y);Y||(Y=H._fullLayout[J]);var Z=Y.borderwidth,se;q===l?se=Y.title.font:ne.groupTitle?se=ne.groupTitle.font:se=Y.font;var $=se.size*u,ee,le;if(he){var Q=y.bBox(he);ee=Q.height,le=Q.width,q===l?y.setTranslate(oe,Z,Z+ee*.75):y.setTranslate(oe,0,ee*.25)}else{var K="."+J+(q===l?"title":"")+"text",ue=O.select(K),ie=t.lineCount(ue),ce=ue.node();if(ee=$*ie,le=ce?y.bBox(ce).width:0,q===l)Y.title.side==="left"&&(le+=a.itemGap*2),t.positionText(ue,Z+a.titlePad,Z+$);else{var xe=a.itemGap*2+Y.itemwidth;ne.groupTitle&&(xe=a.itemGap,le-=Y.itemwidth),t.positionText(ue,xe,-$*((ie-1)/2-.3))}}q===l?(Y._titleWidth=le,Y._titleHeight=ee):(ne.lineHeight=$,ne.height=Math.max(ee,16)+3,ne.width=le)}function z(O){var H=0,Y=0,q=O.title.side;return q&&(q.indexOf("left")!==-1&&(H=O._titleWidth),q.indexOf("top")!==-1&&(Y=O._titleHeight)),[H,Y]}function _(O,H,Y,q){var ne=O._fullLayout,oe=U(q);q||(q=ne[oe]);var he=ne._size,J=v.isVertical(q),Z=v.isGrouped(q),se=q.entrywidthmode==="fraction",$=q.borderwidth,ee=2*$,le=a.itemGap,Q=q.itemwidth+le*2,K=2*($+le),ue=N(q),ie=q.y<0||q.y===0&&ue==="top",ce=q.y>1||q.y===1&&ue==="bottom",xe=q.tracegroupgap,Le={};q._maxHeight=Math.max(ie||ce?ne.height/2:he.h,30);var Ae=0;q._width=0,q._height=0;var Oe=z(q);if(J)Y.each(function(We){var _e=We[0].height;y.setTranslate(this,$+Oe[0],$+Oe[1]+q._height+_e/2+le),q._height+=_e,q._width=Math.max(q._width,We[0].width)}),Ae=Q+q._width,q._width+=le+Q+ee,q._height+=K,Z&&(H.each(function(We,_e){y.setTranslate(this,0,_e*q.tracegroupgap)}),q._height+=(q._lgroupsLength-1)*q.tracegroupgap);else{var ze=F(q),Ee=q.x<0||q.x===0&&ze==="right",be=q.x>1||q.x===1&&ze==="left",Ce=ce||ie,Ue=ne.width/2;q._maxWidth=Math.max(Ee?Ce&&ze==="left"?he.l+he.w:Ue:be?Ce&&ze==="right"?he.r+he.w:Ue:he.w,2*Q);var He=0,Ie=0;Y.each(function(We){var _e=k(We,q,Q);He=Math.max(He,_e),Ie+=_e}),Ae=null;var Ge=0;if(Z){var at=0,lt=0,qe=0;H.each(function(){var We=0,_e=0;p.select(this).selectAll("g.traces").each(function(ke){var we=k(ke,q,Q),me=ke[0].height;y.setTranslate(this,Oe[0],Oe[1]+$+le+me/2+_e),_e+=me,We=Math.max(We,we),Le[ke[0].trace.legendgroup]=We});var Ne=We+le;lt>0&&Ne+$+lt>q._maxWidth?(Ge=Math.max(Ge,lt),lt=0,qe+=at+xe,at=_e):at=Math.max(at,_e),y.setTranslate(this,lt,qe),lt+=Ne}),q._width=Math.max(Ge,lt)+$,q._height=qe+at+K}else{var et=Y.size(),ft=Ie+ee+(et-1)*le<q._maxWidth,dt=0,pt=0,At=0,Pt=0;Y.each(function(We){var _e=We[0].height,Ne=k(We,q,Q),ke=ft?Ne:He;se||(ke+=le),ke+$+pt-le>=q._maxWidth&&(Ge=Math.max(Ge,Pt),pt=0,At+=dt,q._height+=dt,dt=0),y.setTranslate(this,Oe[0]+$+pt,Oe[1]+$+At+_e/2+le),Pt=pt+Ne+le,pt+=ke,dt=Math.max(dt,_e)}),ft?(q._width=pt+ee,q._height=dt+K):(q._width=Math.max(Ge,Pt)+ee,q._height+=dt+K)}}q._width=Math.ceil(Math.max(q._width+Oe[0],q._titleWidth+2*($+a.titlePad))),q._height=Math.ceil(Math.max(q._height+Oe[1],q._titleHeight+2*($+a.itemGap))),q._effHeight=Math.min(q._height,q._maxHeight);var Ht=O._context.edits,Je=Ht.legendText||Ht.legendPosition;Y.each(function(We){var _e=p.select(this).select("."+oe+"toggle"),Ne=We[0].height,ke=We[0].trace.legendgroup,we=k(We,q,Q);Z&&ke!==""&&(we=Le[ke]);var me=Je?Q:Ae||we;!J&&!se&&(me+=le/2),y.setRect(_e,0,-Ne/2,me,Ne)})}function G(O,H,Y,q){var ne=O._fullLayout,oe=ne[H],he=F(oe),J=N(oe),Z=oe.xref==="paper",se=oe.yref==="paper";O._fullLayout._reservedMargin[H]={};var $=oe.y<.5?"b":"t",ee=oe.x<.5?"l":"r",le={r:ne.width-Y,l:Y+oe._width,b:ne.height-q,t:q+oe._effHeight};if(Z&&se)return n.autoMargin(O,H,{x:oe.x,y:oe.y,l:oe._width*s[he],r:oe._width*m[he],b:oe._effHeight*m[J],t:oe._effHeight*s[J]});Z?O._fullLayout._reservedMargin[H][$]=le[$]:se||oe.orientation==="v"?O._fullLayout._reservedMargin[H][ee]=le[ee]:O._fullLayout._reservedMargin[H][$]=le[$]}function F(O){return L.isRightAnchor(O)?"right":L.isCenterAnchor(O)?"center":"left"}function N(O){return L.isBottomAnchor(O)?"bottom":L.isMiddleAnchor(O)?"middle":"top"}function U(O){return O._id||"legend"}},82424:function(V,B,e){var p=e(73972),L=e(10130);V.exports=function(C,T,d){var y=T._inHover,r=L.isGrouped(T),t=L.isReversed(T),i={},a=[],h=!1,u={},s=0,m=0,f,S;function v(O,H,Y){if(T.visible!==!1&&!(d&&O!==T._id))if(H===""||!L.isGrouped(T)){var q="~~i"+s;a.push(q),i[q]=[Y],s++}else a.indexOf(H)===-1?(a.push(H),h=!0,i[H]=[Y]):i[H].push(Y)}for(f=0;f<C.length;f++){var l=C[f],g=l[0],M=g.trace,A=M.legend,k=M.legendgroup;if(!(!y&&(!M.visible||!M.showlegend)))if(p.traceIs(M,"pie-like"))for(u[k]||(u[k]={}),S=0;S<l.length;S++){var w=l[S].label;u[k][w]||(v(A,k,{label:w,color:l[S].color,i:l[S].i,trace:M,pts:l[S].pts}),u[k][w]=!0,m=Math.max(m,(w||"").length))}else v(A,k,g),m=Math.max(m,(M.name||"").length)}if(!a.length)return[];var E=!h||!r,b=[];for(f=0;f<a.length;f++){var o=i[a[f]];E?b.push(o[0]):b.push(o)}for(E&&(b=[b]),f=0;f<b.length;f++){var P=1/0;for(S=0;S<b[f].length;S++){var x=b[f][S].trace.legendrank;P>x&&(P=x)}b[f][0]._groupMinRank=P,b[f][0]._preGroupSort=f}var z=function(O,H){return O[0]._groupMinRank-H[0]._groupMinRank||O[0]._preGroupSort-H[0]._preGroupSort},_=function(O,H){return O.trace.legendrank-H.trace.legendrank||O._preSort-H._preSort};for(b.forEach(function(O,H){O[0]._preGroupSort=H}),b.sort(z),f=0;f<b.length;f++){b[f].forEach(function(O,H){O._preSort=H}),b[f].sort(_);var G=b[f][0].trace,F=null;for(S=0;S<b[f].length;S++){var N=b[f][S].trace.legendgrouptitle;if(N&&N.text){F=N,y&&(N.font=T._groupTitleFont);break}}if(t&&b[f].reverse(),F){var U=!1;for(S=0;S<b[f].length;S++)if(p.traceIs(b[f][S].trace,"pie-like")){U=!0;break}b[f].unshift({i:-1,groupTitle:F,noClick:U,trace:{showlegend:G.showlegend,legendgroup:G.legendgroup,visible:T.groupclick==="toggleitem"?!0:G.visible}})}for(S=0;S<b[f].length;S++)b[f][S]=[b[f][S]]}return T._lgroupsLength=b.length,T._maxNameLength=m,b}},85167:function(V,B,e){var p=e(73972),L=e(71828),n=L.pushUnique,C=!0;V.exports=function(d,y,r){var t=y._fullLayout;if(y._dragged||y._editing)return;var i=t.legend.itemclick,a=t.legend.itemdoubleclick,h=t.legend.groupclick;r===1&&i==="toggle"&&a==="toggleothers"&&C&&y.data&&y._context.showTips&&L.notifier(L._(y,"Double-click on legend to isolate one trace"),"long"),C=!1;var u;if(r===1?u=i:r===2&&(u=a),!u)return;var s=h==="togglegroup",m=t.hiddenlabels?t.hiddenlabels.slice():[],f=d.data()[0][0];if(f.groupTitle&&f.noClick)return;var S=y._fullData,v=(t.shapes||[]).filter(function(Ue){return Ue.showlegend}),l=S.concat(v),g=f.trace;g._isShape&&(g=g._fullInput);var M=g.legendgroup,A,k,w,E,b,o,P={},x=[],z=[],_=[];function G(Ue,He){var Ie=x.indexOf(Ue),Ge=P.visible;return Ge||(Ge=P.visible=[]),x.indexOf(Ue)===-1&&(x.push(Ue),Ie=x.length-1),Ge[Ie]=He,Ie}var F=(t.shapes||[]).map(function(Ue){return Ue._input}),N=!1;function U(Ue,He){F[Ue].visible=He,N=!0}function O(Ue,He){if(!(f.groupTitle&&!s)){var Ie=Ue._fullInput||Ue,Ge=Ie._isShape,at=Ie.index;if(at===void 0&&(at=Ie._index),p.hasTransform(Ie,"groupby")){var lt=z[at];if(!lt){var qe=p.getTransformIndices(Ie,"groupby"),et=qe[qe.length-1];lt=L.keyedContainer(Ie,"transforms["+et+"].styles","target","value.visible"),z[at]=lt}var ft=lt.get(Ue._group);ft===void 0&&(ft=!0),ft!==!1&&lt.set(Ue._group,He),_[at]=G(at,Ie.visible!==!1)}else{var dt=Ie.visible===!1?!1:He;Ge?U(at,dt):G(at,dt)}}}var H=g.legend,Y=g._fullInput,q=Y&&Y._isShape;if(!q&&p.traceIs(g,"pie-like")){var ne=f.label,oe=m.indexOf(ne);if(u==="toggle")oe===-1?m.push(ne):m.splice(oe,1);else if(u==="toggleothers"){var he=oe!==-1,J=[];for(A=0;A<y.calcdata.length;A++){var Z=y.calcdata[A];for(k=0;k<Z.length;k++){var se=Z[k],$=se.label;H===Z[0].trace.legend&&ne!==$&&(m.indexOf($)===-1&&(he=!0),n(m,$),J.push($))}}if(!he)for(var ee=0;ee<J.length;ee++){var le=m.indexOf(J[ee]);le!==-1&&m.splice(le,1)}}p.call("_guiRelayout",y,"hiddenlabels",m)}else{var Q=M&&M.length,K=[],ue;if(Q)for(A=0;A<l.length;A++)ue=l[A],ue.visible&&ue.legendgroup===M&&K.push(A);if(u==="toggle"){var ie;switch(g.visible){case!0:ie="legendonly";break;case!1:ie=!1;break;case"legendonly":ie=!0;break}if(Q)if(s)for(A=0;A<l.length;A++){var ce=l[A];ce.visible!==!1&&ce.legendgroup===M&&O(ce,ie)}else O(g,ie);else O(g,ie)}else if(u==="toggleothers"){var xe,Le,Ae,Oe,ze,Ee=!0;for(A=0;A<l.length;A++)if(ze=l[A],xe=ze===g,Ae=ze.showlegend!==!0,!(xe||Ae)&&(Le=Q&&ze.legendgroup===M,!Le&&ze.legend===H&&ze.visible===!0&&!p.traceIs(ze,"notLegendIsolatable"))){Ee=!1;break}for(A=0;A<l.length;A++)if(ze=l[A],!(ze.visible===!1||ze.legend!==H)&&!p.traceIs(ze,"notLegendIsolatable"))switch(g.visible){case"legendonly":O(ze,!0);break;case!0:Oe=Ee?!0:"legendonly",xe=ze===g,Ae=ze.showlegend!==!0&&!ze.legendgroup,Le=xe||Q&&ze.legendgroup===M,O(ze,Le||Ae?!0:Oe);break}}for(A=0;A<z.length;A++)if(w=z[A],!!w){var be=w.constructUpdate(),Ce=Object.keys(be);for(k=0;k<Ce.length;k++)E=Ce[k],o=P[E]=P[E]||[],o[_[A]]=be[E]}for(b=Object.keys(P),A=0;A<b.length;A++)for(E=b[A],k=0;k<x.length;k++)P[E].hasOwnProperty(k)||(P[E][k]=void 0);N?p.call("_guiUpdate",y,P,{shapes:F},x):p.call("_guiRestyle",y,P,x)}}},10130:function(V,B){B.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},B.isVertical=function(p){return p.orientation!=="h"},B.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2199:function(V,B,e){V.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=n.strTranslate,T=e(91424),d=e(7901),y=e(52075).extractOpts,r=e(34098),t=e(63463),i=e(53581).castOption,a=e(14928),h=12,u=5,s=2,m=10,f=5;V.exports=function(M,A,k){var w=A._fullLayout;k||(k=w.legend);var E=k.itemsizing==="constant",b=k.itemwidth,o=(b+a.itemGap*2)/2,P=C(o,0),x=function(J,Z,se,$){var ee;if(J+1)ee=J;else if(Z&&Z.width>0)ee=Z.width;else return 0;return E?$:Math.min(ee,se)};M.each(function(J){var Z=p.select(this),se=n.ensureSingle(Z,"g","layers");se.style("opacity",J[0].trace.opacity);var $=k.valign,ee=J[0].lineHeight,le=J[0].height;if($==="middle"||!ee||!le)se.attr("transform",null);else{var Q={top:1,bottom:-1}[$],K=Q*(.5*(ee-le+3));se.attr("transform",C(0,K))}var ue=se.selectAll("g.legendfill").data([J]);ue.enter().append("g").classed("legendfill",!0);var ie=se.selectAll("g.legendlines").data([J]);ie.enter().append("g").classed("legendlines",!0);var ce=se.selectAll("g.legendsymbols").data([J]);ce.enter().append("g").classed("legendsymbols",!0),ce.selectAll("g.legendpoints").data([J]).enter().append("g").classed("legendpoints",!0)}).each(he).each(G).each(N).each(F).each(O).each(ne).each(q).each(z).each(_).each(H).each(Y);function z(J){var Z=v(J),se=Z.showFill,$=Z.showLine,ee=Z.showGradientLine,le=Z.showGradientFill,Q=Z.anyFill,K=Z.anyLine,ue=J[0],ie=ue.trace,ce,xe,Le=y(ie),Ae=Le.colorscale,Oe=Le.reversescale,ze=function(Ge){if(Ge.size())if(se)T.fillGroupStyle(Ge,A);else{var at="legendfill-"+ie.uid;T.gradient(Ge,A,at,S(Oe),Ae,"fill")}},Ee=function(Ge){if(Ge.size()){var at="legendline-"+ie.uid;T.lineGroupStyle(Ge),T.gradient(Ge,A,at,S(Oe),Ae,"stroke")}},be=r.hasMarkers(ie)||!Q?"M5,0":K?"M5,-2":"M5,-3",Ce=p.select(this),Ue=Ce.select(".legendfill").selectAll("path").data(se||le?[J]:[]);if(Ue.enter().append("path").classed("js-fill",!0),Ue.exit().remove(),Ue.attr("d",be+"h"+b+"v6h-"+b+"z").call(ze),$||ee){var He=x(void 0,ie.line,m,u);xe=n.minExtend(ie,{line:{width:He}}),ce=[n.minExtend(ue,{trace:xe})]}var Ie=Ce.select(".legendlines").selectAll("path").data($||ee?[ce]:[]);Ie.enter().append("path").classed("js-line",!0),Ie.exit().remove(),Ie.attr("d",be+(ee?"l"+b+",0.0001":"h"+b)).call($?T.lineGroupStyle:Ee)}function _(J){var Z=v(J),se=Z.anyFill,$=Z.anyLine,ee=Z.showLine,le=Z.showMarker,Q=J[0],K=Q.trace,ue=!le&&!$&&!se&&r.hasText(K),ie,ce;function xe(Ue,He,Ie,Ge){var at=n.nestedProperty(K,Ue).get(),lt=n.isArrayOrTypedArray(at)&&He?He(at):at;if(E&&lt&&Ge!==void 0&&(lt=Ge),Ie){if(lt<Ie[0])return Ie[0];if(lt>Ie[1])return Ie[1]}return lt}function Le(Ue){return Q._distinct&&Q.index&&Ue[Q.index]?Ue[Q.index]:Ue[0]}if(le||ue||ee){var Ae={},Oe={};if(le){Ae.mc=xe("marker.color",Le),Ae.mx=xe("marker.symbol",Le),Ae.mo=xe("marker.opacity",n.mean,[.2,1]),Ae.mlc=xe("marker.line.color",Le),Ae.mlw=xe("marker.line.width",n.mean,[0,5],s),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var ze=xe("marker.size",n.mean,[2,16],h);Ae.ms=ze,Oe.marker.size=ze}ee&&(Oe.line={width:xe("line.width",Le,[0,10],u)}),ue&&(Ae.tx="Aa",Ae.tp=xe("textposition",Le),Ae.ts=10,Ae.tc=xe("textfont.color",Le),Ae.tf=xe("textfont.family",Le)),ie=[n.minExtend(Q,Ae)],ce=n.minExtend(K,Oe),ce.selectedpoints=null,ce.texttemplate=null}var Ee=p.select(this).select("g.legendpoints"),be=Ee.selectAll("path.scatterpts").data(le?ie:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",P),be.exit().remove(),be.call(T.pointStyle,ce,A),le&&(ie[0].mrc=3);var Ce=Ee.selectAll("g.pointtext").data(ue?ie:[]);Ce.enter().append("g").classed("pointtext",!0).append("text").attr("transform",P),Ce.exit().remove(),Ce.selectAll("text").call(T.textPointStyle,ce,A)}function G(J){var Z=J[0].trace,se=Z.type==="waterfall";if(J[0]._distinct&&se){var $=J[0].trace[J[0].dir].marker;return J[0].mc=$.color,J[0].mlw=$.line.width,J[0].mlc=$.line.color,U(J,this,"waterfall")}var ee=[];Z.visible&&se&&(ee=J[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(ee);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",P).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(Q){var K=p.select(this),ue=Z[Q[0]].marker,ie=x(void 0,ue.line,f,s);K.attr("d",Q[1]).style("stroke-width",ie+"px").call(d.fill,ue.color),ie&&K.call(d.stroke,ue.line.color)})}function F(J){U(J,this)}function N(J){U(J,this,"funnel")}function U(J,Z,se){var $=J[0].trace,ee=$.marker||{},le=ee.line||{},Q=se?$.visible&&$.type===se:L.traceIs($,"bar"),K=p.select(Z).select("g.legendpoints").selectAll("path.legend"+se).data(Q?[J]:[]);K.enter().append("path").classed("legend"+se,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),K.exit().remove(),K.each(function(ue){var ie=p.select(this),ce=ue[0],xe=x(ce.mlw,ee.line,f,s);ie.style("stroke-width",xe+"px");var Le=ce.mcc;if(!k._inHover&&"mc"in ce){var Ae=y(ee),Oe=Ae.mid;Oe===void 0&&(Oe=(Ae.max+Ae.min)/2),Le=T.tryColorscale(ee,"")(Oe)}var ze=Le||ce.mc||ee.color,Ee=ee.pattern,be=Ee&&T.getPatternAttr(Ee.shape,0,"");if(be){var Ce=T.getPatternAttr(Ee.bgcolor,0,null),Ue=T.getPatternAttr(Ee.fgcolor,0,null),He=Ee.fgopacity,Ie=l(Ee.size,8,10),Ge=l(Ee.solidity,.5,1),at="legend-"+$.uid;ie.call(T.pattern,"legend",A,at,be,Ie,Ge,Le,Ee.fillmode,Ce,Ue,He)}else ie.call(d.fill,ze);xe&&d.stroke(ie,ce.mlc||le.color)})}function O(J){var Z=J[0].trace,se=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&L.traceIs(Z,"box-violin")?[J]:[]);se.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),se.exit().remove(),se.each(function(){var $=p.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&d.opacity(Z.fillcolor)===0&&d.opacity((Z.line||{}).color)===0){var ee=n.minExtend(Z,{marker:{size:E?h:n.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});se.call(T.pointStyle,ee,A)}else{var le=x(void 0,Z.line,f,s);$.style("stroke-width",le+"px").call(d.fill,Z.fillcolor),le&&d.stroke($,Z.line.color)}})}function H(J){var Z=J[0].trace,se=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[J,J]:[]);se.enter().append("path").classed("legendcandle",!0).attr("d",function($,ee){return ee?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",P).style("stroke-miterlimit",1),se.exit().remove(),se.each(function($,ee){var le=p.select(this),Q=Z[ee?"increasing":"decreasing"],K=x(void 0,Q.line,f,s);le.style("stroke-width",K+"px").call(d.fill,Q.fillcolor),K&&d.stroke(le,Q.line.color)})}function Y(J){var Z=J[0].trace,se=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[J,J]:[]);se.enter().append("path").classed("legendohlc",!0).attr("d",function($,ee){return ee?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",P).style("stroke-miterlimit",1),se.exit().remove(),se.each(function($,ee){var le=p.select(this),Q=Z[ee?"increasing":"decreasing"],K=x(void 0,Q.line,f,s);le.style("fill","none").call(T.dashLine,Q.line.dash,K),K&&d.stroke(le,Q.line.color)})}function q(J){oe(J,this,"pie")}function ne(J){oe(J,this,"funnelarea")}function oe(J,Z,se){var $=J[0],ee=$.trace,le=se?ee.visible&&ee.type===se:L.traceIs(ee,se),Q=p.select(Z).select("g.legendpoints").selectAll("path.legend"+se).data(le?[J]:[]);if(Q.enter().append("path").classed("legend"+se,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",P),Q.exit().remove(),Q.size()){var K=ee.marker||{},ue=x(i(K.line.width,$.pts),K.line,f,s),ie="pieLike",ce=n.minExtend(ee,{marker:{line:{width:ue}}},ie),xe=n.minExtend($,{trace:ce},ie);t(Q,xe,ce,A)}}function he(J){var Z=J[0].trace,se,$=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":$=[["M-15,-2V4H15V-2Z"]],se=!0;break;case"choropleth":case"choroplethmapbox":$=[["M-6,-6V6H6V-6Z"]],se=!0;break;case"densitymapbox":$=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],se="radial";break;case"cone":$=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],se=!1;break;case"streamtube":$=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],se=!1;break;case"surface":$=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],se=!0;break;case"mesh3d":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],se=!1;break;case"volume":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],se=!0;break;case"isosurface":$=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],se=!1;break}var ee=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data($);ee.enter().append("path").classed("legend3dandfriends",!0).attr("transform",P).style("stroke-miterlimit",1),ee.exit().remove(),ee.each(function(le,Q){var K=p.select(this),ue=y(Z),ie=ue.colorscale,ce=ue.reversescale,xe=function(ze){if(ze.size()){var Ee="legendfill-"+Z.uid;T.gradient(ze,A,Ee,S(ce,se==="radial"),ie,"fill")}},Le;if(ie){if(!se){var Oe=ie.length;Le=Q===0?ie[ce?Oe-1:0][1]:Q===1?ie[ce?0:Oe-1][1]:ie[Math.floor((Oe-1)/2)][1]}}else{var Ae=Z.vertexcolor||Z.facecolor||Z.color;Le=n.isArrayOrTypedArray(Ae)?Ae[Q]||Ae[0]:Ae}K.attr("d",le[0]),Le?K.call(d.fill,Le):K.call(xe)})}};function S(g,M){var A=M?"radial":"horizontal";return A+(g?"":"reversed")}function v(g){var M=g[0].trace,A=M.contours,k=r.hasLines(M),w=r.hasMarkers(M),E=M.visible&&M.fill&&M.fill!=="none",b=!1,o=!1;if(A){var P=A.coloring;P==="lines"?b=!0:k=P==="none"||P==="heatmap"||A.showlines,A.type==="constraint"?E=A._operation!=="=":(P==="fill"||P==="heatmap")&&(o=!0)}return{showMarker:w,showLine:k,showFill:E,showGradientLine:b,showGradientFill:o,anyLine:k||b,anyFill:E||o}}function l(g,M,A){return g&&n.isArrayOrTypedArray(g)?M:g>A?A:g}},42068:function(V,B,e){e(93348),V.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(V,B,e){var p=e(73972),L=e(74875),n=e(41675),C=e(24255),T=e(34031).eraseActiveShape,d=e(71828),y=d._,r=V.exports={};r.toImage={name:"toImage",title:function(g){var M=g._context.toImageButtonOptions||{},A=M.format||"png";return A==="png"?y(g,"Download plot as a png"):y(g,"Download plot")},icon:C.camera,click:function(g){var M=g._context.toImageButtonOptions,A={format:M.format||"png"};d.notifier(y(g,"Taking snapshot - this may take a few seconds"),"long"),A.format!=="svg"&&d.isIE()&&(d.notifier(y(g,"IE only supports svg.  Changing format to svg."),"long"),A.format="svg"),["filename","width","height","scale"].forEach(function(k){k in M&&(A[k]=M[k])}),p.call("downloadImage",g,A).then(function(k){d.notifier(y(g,"Snapshot succeeded")+" - "+k,"long")}).catch(function(){d.notifier(y(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},r.sendDataToCloud={name:"sendDataToCloud",title:function(g){return y(g,"Edit in Chart Studio")},icon:C.disk,click:function(g){L.sendDataToCloud(g)}},r.editInChartStudio={name:"editInChartStudio",title:function(g){return y(g,"Edit in Chart Studio")},icon:C.pencil,click:function(g){L.sendDataToCloud(g)}},r.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return y(g,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:t},r.pan2d={name:"pan2d",_cat:"pan",title:function(g){return y(g,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:t},r.select2d={name:"select2d",_cat:"select",title:function(g){return y(g,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:t},r.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return y(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:t},r.drawclosedpath={name:"drawclosedpath",title:function(g){return y(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:t},r.drawopenpath={name:"drawopenpath",title:function(g){return y(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:t},r.drawline={name:"drawline",title:function(g){return y(g,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:t},r.drawrect={name:"drawrect",title:function(g){return y(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:t},r.drawcircle={name:"drawcircle",title:function(g){return y(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:t},r.eraseshape={name:"eraseshape",title:function(g){return y(g,"Erase active shape")},icon:C.eraseshape,click:T},r.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return y(g,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:t},r.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return y(g,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:t},r.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return y(g,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:t},r.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return y(g,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:t},r.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return y(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:t},r.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return y(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:t};function t(g,M){var A=M.currentTarget,k=A.getAttribute("data-attr"),w=A.getAttribute("data-val")||!0,E=g._fullLayout,b={},o=n.list(g,null,!0),P=E._cartesianSpikesEnabled,x,z;if(k==="zoom"){var _=w==="in"?.5:2,G=(1+_)/2,F=(1-_)/2,N;for(z=0;z<o.length;z++)if(x=o[z],!x.fixedrange)if(N=x._name,w==="auto")b[N+".autorange"]=!0;else if(w==="reset")x._rangeInitial0===void 0&&x._rangeInitial1===void 0?b[N+".autorange"]=!0:x._rangeInitial0===void 0?(b[N+".autorange"]=x._autorangeInitial,b[N+".range"]=[null,x._rangeInitial1]):x._rangeInitial1===void 0?(b[N+".range"]=[x._rangeInitial0,null],b[N+".autorange"]=x._autorangeInitial):b[N+".range"]=[x._rangeInitial0,x._rangeInitial1],x._showSpikeInitial!==void 0&&(b[N+".showspikes"]=x._showSpikeInitial,P==="on"&&!x._showSpikeInitial&&(P="off"));else{var U=[x.r2l(x.range[0]),x.r2l(x.range[1])],O=[G*U[0]+F*U[1],G*U[1]+F*U[0]];b[N+".range[0]"]=x.l2r(O[0]),b[N+".range[1]"]=x.l2r(O[1])}}else k==="hovermode"&&(w==="x"||w==="y")&&(w=E._isHoriz?"y":"x",A.setAttribute("data-val",w)),b[k]=w;E._cartesianSpikesEnabled=P,p.call("_guiRelayout",g,b)}r.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return y(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:i},r.pan3d={name:"pan3d",_cat:"pan",title:function(g){return y(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:i},r.orbitRotation={name:"orbitRotation",title:function(g){return y(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:i},r.tableRotation={name:"tableRotation",title:function(g){return y(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:i};function i(g,M){for(var A=M.currentTarget,k=A.getAttribute("data-attr"),w=A.getAttribute("data-val")||!0,E=g._fullLayout._subplots.gl3d||[],b={},o=k.split("."),P=0;P<E.length;P++)b[E[P]+"."+o[1]]=w;var x=w==="pan"?w:"zoom";b.dragmode=x,p.call("_guiRelayout",g,b)}r.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return y(g,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:a},r.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return y(g,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:a};function a(g,M){for(var A=M.currentTarget,k=A.getAttribute("data-attr"),w=k==="resetLastSave",E=k==="resetDefault",b=g._fullLayout,o=b._subplots.gl3d||[],P={},x=0;x<o.length;x++){var z=o[x],_=z+".camera",G=z+".aspectratio",F=z+".aspectmode",N=b[z]._scene,U;w?(P[_+".up"]=N.viewInitial.up,P[_+".eye"]=N.viewInitial.eye,P[_+".center"]=N.viewInitial.center,U=!0):E&&(P[_+".up"]=null,P[_+".eye"]=null,P[_+".center"]=null,U=!0),U&&(P[G+".x"]=N.viewInitial.aspectratio.x,P[G+".y"]=N.viewInitial.aspectratio.y,P[G+".z"]=N.viewInitial.aspectratio.z,P[F]=N.viewInitial.aspectmode)}p.call("_guiRelayout",g,P)}r.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return y(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:u};function h(g,M){var A=M.currentTarget,k=A._previousVal,w=g._fullLayout,E=w._subplots.gl3d||[],b=["xaxis","yaxis","zaxis"],o={},P={};if(k)P=k,A._previousVal=null;else{for(var x=0;x<E.length;x++){var z=E[x],_=w[z],G=z+".hovermode";o[G]=_.hovermode,P[G]=!1;for(var F=0;F<3;F++){var N=b[F],U=z+"."+N+".showspikes";P[U]=!1,o[U]=_[N].showspikes}}A._previousVal=o}return P}function u(g,M){var A=h(g,M);p.call("_guiRelayout",g,A)}r.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return y(g,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:s},r.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return y(g,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:s},r.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return y(g,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:s},r.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return y(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f};function s(g,M){for(var A=M.currentTarget,k=A.getAttribute("data-attr"),w=A.getAttribute("data-val")||!0,E=g._fullLayout,b=E._subplots.geo||[],o=0;o<b.length;o++){var P=b[o],x=E[P];if(k==="zoom"){var z=x.projection.scale,_=w==="in"?2*z:.5*z;p.call("_guiRelayout",g,P+".projection.scale",_)}}k==="reset"&&l(g,"geo")}r.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return y(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f},r.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return y(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:f};function m(g){var M=g._fullLayout;return M.hovermode?!1:M._has("cartesian")?M._isHoriz?"y":"x":"closest"}function f(g){var M=m(g);p.call("_guiRelayout",g,"hovermode",M)}r.resetViewSankey={name:"resetSankeyGroup",title:function(g){return y(g,"Reset view")},icon:C.home,click:function(g){for(var M={"node.groups":[],"node.x":[],"node.y":[]},A=0;A<g._fullData.length;A++){var k=g._fullData[A]._viewInitial;M["node.groups"].push(k.node.groups.slice()),M["node.x"].push(k.node.x.slice()),M["node.y"].push(k.node.y.slice())}p.call("restyle",g,M)}},r.toggleHover={name:"toggleHover",title:function(g){return y(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(g,M){var A=h(g,M);A.hovermode=m(g),p.call("_guiRelayout",g,A)}},r.resetViews={name:"resetViews",title:function(g){return y(g,"Reset views")},icon:C.home,click:function(g,M){var A=M.currentTarget;A.setAttribute("data-attr","zoom"),A.setAttribute("data-val","reset"),t(g,M),A.setAttribute("data-attr","resetLastSave"),a(g,M),l(g,"geo"),l(g,"mapbox")}},r.toggleSpikelines={name:"toggleSpikelines",title:function(g){return y(g,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var M=g._fullLayout,A=M._cartesianSpikesEnabled;M._cartesianSpikesEnabled=A==="on"?"off":"on",p.call("_guiRelayout",g,S(g))}};function S(g){for(var M=g._fullLayout,A=M._cartesianSpikesEnabled==="on",k=n.list(g,null,!0),w={},E=0;E<k.length;E++){var b=k[E];w[b._name+".showspikes"]=A?!0:b._showSpikeInitial}return w}r.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return y(g,"Reset view")},attr:"reset",icon:C.home,click:function(g){l(g,"mapbox")}},r.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return y(g,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:v},r.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return y(g,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:v};function v(g,M){for(var A=M.currentTarget,k=A.getAttribute("data-val"),w=g._fullLayout,E=w._subplots.mapbox||[],b=1.05,o={},P=0;P<E.length;P++){var x=E[P],z=w[x].zoom,_=k==="in"?b*z:z/b;o[x+".zoom"]=_}p.call("_guiRelayout",g,o)}function l(g,M){for(var A=g._fullLayout,k=A._subplots[M]||[],w={},E=0;E<k.length;E++)for(var b=k[E],o=A[b]._subplot,P=o.viewInitial,x=Object.keys(P),z=0;z<x.length;z++){var _=x[z];w[b+"."+_]=P[_]}p.call("_guiRelayout",g,w)}},93348:function(V,B,e){var p=e(26023),L=Object.keys(p),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),T=[],d=function(y){if(C.indexOf(y._cat||y.name)===-1){var r=y.name,t=(y._cat||y.name).toLowerCase();T.indexOf(r)===-1&&T.push(r),T.indexOf(t)===-1&&T.push(t)}};L.forEach(function(y){d(p[y])}),T.sort(),V.exports={DRAW_MODES:n,backButtons:C,foreButtons:T}},35750:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(42068);V.exports=function(d,y){var r=d.modebar||{},t=n.newContainer(y,"modebar");function i(h,u){return p.coerce(r,t,C,h,u)}i("orientation"),i("bgcolor",L.addOpacity(y.paper_bgcolor,.5));var a=L.contrast(L.rgb(y.modebar.bgcolor));i("color",L.addOpacity(a,.3)),i("activecolor",L.addOpacity(a,.7)),i("uirevision",y.uirevision),i("add"),i("remove")}},64168:function(V,B,e){V.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(V,B,e){var p=e(41675),L=e(34098),n=e(73972),C=e(23469).isUnifiedHover,T=e(37676),d=e(26023),y=e(93348).DRAW_MODES,r=e(71828).extendDeep;V.exports=function(f){var S=f._fullLayout,v=f._context,l=S._modeBar;if(!v.displayModeBar&&!v.watermark){l&&(l.destroy(),delete S._modeBar);return}if(!Array.isArray(v.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(v.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var g=v.modeBarButtons,M;Array.isArray(g)&&g.length?M=s(g):!v.displayModeBar&&v.watermark?M=[]:M=t(f),l?l.update(f,M):S._modeBar=T(f,M)};function t(m){var f=m._fullLayout,S=m._fullData,v=m._context;function l(Q,K){if(typeof K=="string"){if(K.toLowerCase()===Q.toLowerCase())return!0}else{var ue=K.name,ie=K._cat||K.name;if(ue===Q||ie===Q.toLowerCase())return!0}return!1}var g=f.modebar.add;typeof g=="string"&&(g=[g]);var M=f.modebar.remove;typeof M=="string"&&(M=[M]);var A=v.modeBarButtonsToAdd.concat(g.filter(function(Q){for(var K=0;K<v.modeBarButtonsToRemove.length;K++)if(l(Q,v.modeBarButtonsToRemove[K]))return!1;return!0})),k=v.modeBarButtonsToRemove.concat(M.filter(function(Q){for(var K=0;K<v.modeBarButtonsToAdd.length;K++)if(l(Q,v.modeBarButtonsToAdd[K]))return!1;return!0})),w=f._has("cartesian"),E=f._has("gl3d"),b=f._has("geo"),o=f._has("pie"),P=f._has("funnelarea"),x=f._has("gl2d"),z=f._has("ternary"),_=f._has("mapbox"),G=f._has("polar"),F=f._has("smith"),N=f._has("sankey"),U=i(f),O=C(f.hovermode),H=[];function Y(Q){if(Q.length){for(var K=[],ue=0;ue<Q.length;ue++){for(var ie=Q[ue],ce=d[ie],xe=ce.name.toLowerCase(),Le=(ce._cat||ce.name).toLowerCase(),Ae=!1,Oe=0;Oe<k.length;Oe++){var ze=k[Oe].toLowerCase();if(ze===xe||ze===Le){Ae=!0;break}}Ae||K.push(d[ie])}H.push(K)}}var q=["toImage"];v.showEditInChartStudio?q.push("editInChartStudio"):v.showSendToCloud&&q.push("sendDataToCloud"),Y(q);var ne=[],oe=[],he=[],J=[];(w||x||o||P||z)+b+E+_+G+F>1?(oe=["toggleHover"],he=["resetViews"]):b?(ne=["zoomInGeo","zoomOutGeo"],oe=["hoverClosestGeo"],he=["resetGeo"]):E?(oe=["hoverClosest3d"],he=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(ne=["zoomInMapbox","zoomOutMapbox"],oe=["toggleHover"],he=["resetViewMapbox"]):x?oe=["hoverClosestGl2d"]:o?oe=["hoverClosestPie"]:N?(oe=["hoverClosestCartesian","hoverCompareCartesian"],he=["resetViewSankey"]):oe=["toggleHover"],w&&(oe=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(h(S)||O)&&(oe=[]),(w||x)&&!U&&(ne=["zoomIn2d","zoomOut2d","autoScale2d"],he[0]!=="resetViews"&&(he=["resetScale2d"])),E?J=["zoom3d","pan3d","orbitRotation","tableRotation"]:(w||x)&&!U||z?J=["zoom2d","pan2d"]:_||b?J=["pan2d"]:G&&(J=["zoom2d"]),a(S)&&J.push("select2d","lasso2d");var Z=[],se=function(Q){Z.indexOf(Q)===-1&&oe.indexOf(Q)!==-1&&Z.push(Q)};if(Array.isArray(A)){for(var $=[],ee=0;ee<A.length;ee++){var le=A[ee];typeof le=="string"?(le=le.toLowerCase(),y.indexOf(le)!==-1?(f._has("mapbox")||f._has("cartesian"))&&J.push(le):le==="togglespikelines"?se("toggleSpikelines"):le==="togglehover"?se("toggleHover"):le==="hovercompare"?se("hoverCompareCartesian"):le==="hoverclosest"?(se("hoverClosestCartesian"),se("hoverClosestGeo"),se("hoverClosest3d"),se("hoverClosestGl2d"),se("hoverClosestPie")):le==="v1hovermode"&&(se("toggleHover"),se("hoverClosestCartesian"),se("hoverCompareCartesian"),se("hoverClosestGeo"),se("hoverClosest3d"),se("hoverClosestGl2d"),se("hoverClosestPie"))):$.push(le)}A=$}return Y(J),Y(ne.concat(he)),Y(Z),u(H,A)}function i(m){for(var f=p.list({_fullLayout:m},null,!0),S=0;S<f.length;S++)if(!f[S].fixedrange)return!1;return!0}function a(m){for(var f=!1,S=0;S<m.length&&!f;S++){var v=m[S];!v._module||!v._module.selectPoints||(n.traceIs(v,"scatter-like")?(L.hasMarkers(v)||L.hasText(v))&&(f=!0):n.traceIs(v,"box-violin")?(v.boxpoints==="all"||v.points==="all")&&(f=!0):f=!0)}return f}function h(m){for(var f=0;f<m.length;f++)if(!n.traceIs(m[f],"noHover"))return!1;return!0}function u(m,f){if(f.length)if(Array.isArray(f[0]))for(var S=0;S<f.length;S++)m.push(f[S]);else m.push(f);return m}function s(m){for(var f=r([],m),S=0;S<f.length;S++)for(var v=f[S],l=0;l<v.length;l++){var g=v[l];if(typeof g=="string")if(d[g]!==void 0)f[S][l]=d[g];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return f}},37676:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(24255),T=e(11506).version,d=new DOMParser;function y(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var r=y.prototype;r.update=function(a,h){this.graphInfo=a;var u=this.graphInfo._context,s=this.graphInfo._fullLayout,m="modebar-"+s._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",u.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),s.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var f=s.modebar,S=u.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(m),n.addRelatedStyleRule(m,S+"#"+m+" .modebar-group","background-color: "+f.bgcolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+f.color),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+f.activecolor),n.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+f.activecolor);var v=!this.hasButtons(h),l=this.hasLogo!==u.displaylogo,g=this.locale!==u.locale;if(this.locale=u.locale,(v||l||g)&&(this.removeAllButtons(),this.updateButtons(h),u.watermark||u.displaylogo)){var M=this.getLogo();u.watermark&&(M.className=M.className+" watermark"),s.modebar.orientation==="v"?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},r.updateButtons=function(a){var h=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(u){var s=h.createGroup();u.forEach(function(m){var f=m.name;if(!f)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(f)!==-1)throw new Error("button name '"+f+"' is taken");h.buttonsNames.push(f);var S=h.createButton(m);h.buttonElements.push(S),s.appendChild(S)}),h.element.appendChild(s)})},r.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},r.createButton=function(a){var h=this,u=document.createElement("a");u.setAttribute("rel","tooltip"),u.className="modebar-btn";var s=a.title;s===void 0?s=a.name:typeof s=="function"&&(s=s(this.graphInfo)),(s||s===0)&&u.setAttribute("data-title",s),a.attr!==void 0&&u.setAttribute("data-attr",a.attr);var m=a.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),u.setAttribute("data-val",m));var f=a.click;if(typeof f!="function")throw new Error("must provide button 'click' function in button config");u.addEventListener("click",function(v){a.click(h.graphInfo,v),h.updateActiveButton(v.currentTarget)}),u.setAttribute("data-toggle",a.toggle||!1),a.toggle&&p.select(u).classed("active",!0);var S=a.icon;return typeof S=="function"?u.appendChild(S()):u.appendChild(this.createIcon(S||C.question)),u.setAttribute("data-gravity",a.gravity||"n"),u},r.createIcon=function(a){var h=L(a.height)?Number(a.height):a.ascent-a.descent,u="http://www.w3.org/2000/svg",s;if(a.path){s=document.createElementNS(u,"svg"),s.setAttribute("viewBox",[0,0,a.width,h].join(" ")),s.setAttribute("class","icon");var m=document.createElementNS(u,"path");m.setAttribute("d",a.path),a.transform?m.setAttribute("transform",a.transform):a.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),s.appendChild(m)}if(a.svg){var f=d.parseFromString(a.svg,"application/xml");s=f.childNodes[0]}return s.setAttribute("height","1em"),s.setAttribute("width","1em"),s},r.updateActiveButton=function(a){var h=this.graphInfo._fullLayout,u=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(s){var m=s.getAttribute("data-val")||!0,f=s.getAttribute("data-attr"),S=s.getAttribute("data-toggle")==="true",v=p.select(s);if(S)f===u&&v.classed("active",!v.classed("active"));else{var l=f===null?f:n.nestedProperty(h,f).get();v.classed("active",l===m)}})},r.hasButtons=function(a){var h=this.buttons;if(!h||a.length!==h.length)return!1;for(var u=0;u<a.length;++u){if(a[u].length!==h[u].length)return!1;for(var s=0;s<a[u].length;s++)if(a[u][s].name!==h[u][s].name)return!1}return!0};function t(a){return a+" (v"+T+")"}r.getLogo=function(){var a=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",t(n._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(C.newplotlylogo)),a.appendChild(h),a},r.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},r.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function i(a,h){var u=a._fullLayout,s=new y({graphInfo:a,container:u._modebardiv.node(),buttons:h});return u._privateplot&&p.select(s.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),s}V.exports=i},37113:function(V,B,e){var p=e(41940),L=e(22399),n=e(44467).templatedArray,C=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});V.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(V){V.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(85501),T=e(37113),d=e(89573);V.exports=function(i,a,h,u,s){var m=i.rangeselector||{},f=n.newContainer(a,"rangeselector");function S(A,k){return p.coerce(m,f,T,A,k)}var v=C(m,f,{name:"buttons",handleItemDefaults:y,calendar:s}),l=S("visible",v.length>0);if(l){var g=r(a,h,u);S("x",g[0]),S("y",g[1]),p.noneOrAll(i,a,["x","y"]),S("xanchor"),S("yanchor"),p.coerceFont(S,"font",h.font);var M=S("bgcolor");S("activecolor",L.contrast(M,d.lightAmount,d.darkAmount)),S("bordercolor"),S("borderwidth")}};function y(t,i,a,h){var u=h.calendar;function s(S,v){return p.coerce(t,i,T.buttons,S,v)}var m=s("visible");if(m){var f=s("step");f!=="all"&&(u&&u!=="gregorian"&&(f==="month"||f==="year")?i.stepmode="backward":s("stepmode"),s("count")),s("label")}}function r(t,i,a){for(var h=a.filter(function(f){return i[f].anchor===t._id}),u=0,s=0;s<h.length;s++){var m=i[h[s]].domain;m&&(u=Math.max(m[1],u))}return[t.domain[0],u+d.yPad]}},21598:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(7901),T=e(91424),d=e(71828),y=d.strTranslate,r=e(63893),t=e(41675),i=e(18783),a=i.LINE_SPACING,h=i.FROM_TL,u=i.FROM_BR,s=e(89573),m=e(70565);V.exports=function(E){var b=E._fullLayout,o=b._infolayer.selectAll(".rangeselector").data(f(E),S);o.enter().append("g").classed("rangeselector",!0),o.exit().remove(),o.style({cursor:"pointer","pointer-events":"all"}),o.each(function(P){var x=p.select(this),z=P,_=z.rangeselector,G=x.selectAll("g.button").data(d.filterVisible(_.buttons));G.enter().append("g").classed("button",!0),G.exit().remove(),G.each(function(F){var N=p.select(this),U=m(z,F);F._isActive=v(z,F,U),N.call(l,_,F),N.call(M,_,F,E),N.on("click",function(){E._dragged||L.call("_guiRelayout",E,U)}),N.on("mouseover",function(){F._isHovered=!0,N.call(l,_,F)}),N.on("mouseout",function(){F._isHovered=!1,N.call(l,_,F)})}),k(E,G,_,z._name,x)})};function f(w){for(var E=t.list(w,"x",!0),b=[],o=0;o<E.length;o++){var P=E[o];P.rangeselector&&P.rangeselector.visible&&b.push(P)}return b}function S(w){return w._id}function v(w,E,b){if(E.step==="all")return w.autorange===!0;var o=Object.keys(b);return w.range[0]===b[o[0]]&&w.range[1]===b[o[1]]}function l(w,E,b){var o=d.ensureSingle(w,"rect","selector-rect",function(P){P.attr("shape-rendering","crispEdges")});o.attr({rx:s.rx,ry:s.ry}),o.call(C.stroke,E.bordercolor).call(C.fill,g(E,b)).style("stroke-width",E.borderwidth+"px")}function g(w,E){return E._isActive||E._isHovered?w.activecolor:w.bgcolor}function M(w,E,b,o){function P(z){r.convertToTspans(z,o)}var x=d.ensureSingle(w,"text","selector-text",function(z){z.attr("text-anchor","middle")});x.call(T.font,E.font).text(A(b,o._fullLayout._meta)).call(P)}function A(w,E){return w.label?E?d.templateString(w.label,E):w.label:w.step==="all"?"all":w.count+w.step.charAt(0)}function k(w,E,b,o,P){var x=0,z=0,_=b.borderwidth;E.each(function(){var H=p.select(this),Y=H.select(".selector-text"),q=b.font.size*a,ne=Math.max(q*r.lineCount(Y),16)+3;z=Math.max(z,ne)}),E.each(function(){var H=p.select(this),Y=H.select(".selector-rect"),q=H.select(".selector-text"),ne=q.node()&&T.bBox(q.node()).width,oe=b.font.size*a,he=r.lineCount(q),J=Math.max(ne+10,s.minButtonWidth);H.attr("transform",y(_+x,_)),Y.attr({x:0,y:0,width:J,height:z}),r.positionText(q,J/2,z/2-(he-1)*oe/2+3),x+=J+5});var G=w._fullLayout._size,F=G.l+G.w*b.x,N=G.t+G.h*(1-b.y),U="left";d.isRightAnchor(b)&&(F-=x,U="right"),d.isCenterAnchor(b)&&(F-=x/2,U="center");var O="top";d.isBottomAnchor(b)&&(N-=z,O="bottom"),d.isMiddleAnchor(b)&&(N-=z/2,O="middle"),x=Math.ceil(x),z=Math.ceil(z),F=Math.round(F),N=Math.round(N),n.autoMargin(w,o+"-range-selector",{x:b.x,y:b.y,l:x*h[U],r:x*u[U],b:z*u[O],t:z*h[O]}),P.attr("transform",y(F,N))}},70565:function(V,B,e){var p=e(81041),L=e(71828).titleCase;V.exports=function(T,d){var y=T._name,r={};if(d.step==="all")r[y+".autorange"]=!0;else{var t=n(T,d);r[y+".range[0]"]=t[0],r[y+".range[1]"]=t[1]}return r};function n(C,T){var d=C.range,y=new Date(C.r2l(d[1])),r=T.step,t=p["utc"+L(r)],i=T.count,a;switch(T.stepmode){case"backward":a=C.l2r(+t.offset(y,-i));break;case"todate":var h=t.offset(y,-i);a=C.l2r(+t.ceil(h));break}var u=d[1];return[a,u]}},97218:function(V,B,e){V.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(V,B,e){var p=e(22399);V.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(V,B,e){var p=e(41675).list,L=e(71739).getAutoRange,n=e(73251);V.exports=function(T){for(var d=p(T,"x",!0),y=0;y<d.length;y++){var r=d[y],t=r[n.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=L(T,r))}}},73251:function(V){V.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(V,B,e){var p=e(71828),L=e(44467),n=e(41675),C=e(75148),T=e(47850);V.exports=function(y,r,t){var i=y[t],a=r[t];if(!(i.rangeslider||r._requestRangeslider[a._id]))return;p.isPlainObject(i.rangeslider)||(i.rangeslider={});var h=i.rangeslider,u=L.newContainer(a,"rangeslider");function s(o,P){return p.coerce(h,u,C,o,P)}var m,f;function S(o,P){return p.coerce(m,f,T,o,P)}var v=s("visible");if(v){s("bgcolor",r.plot_bgcolor),s("bordercolor"),s("borderwidth"),s("thickness"),s("autorange",!a.isValidRange(h.range)),s("range");var l=r._subplots;if(l)for(var g=l.cartesian.filter(function(o){return o.substr(0,o.indexOf("y"))===n.name2id(t)}).map(function(o){return o.substr(o.indexOf("y"),o.length)}),M=p.simpleMap(g,n.id2name),A=0;A<M.length;A++){var k=M[A];m=h[k]||{},f=L.newContainer(u,k,"yaxis");var w=r[k],E;m.range&&w.isValidRange(m.range)&&(E="fixed");var b=S("rangemode",E);b!=="match"&&S("range",w.range.slice())}u._input=h}}},72413:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),T=C.strTranslate,d=e(91424),y=e(7901),r=e(92998),t=e(93612),i=e(41675),a=e(28569),h=e(6964),u=e(73251);V.exports=function(E){for(var b=E._fullLayout,o=b._rangeSliderData,P=0;P<o.length;P++){var x=o[P][u.name];x._clipId=x._id+"-"+b._uid}function z(G){return G._name}var _=b._infolayer.selectAll("g."+u.containerClassName).data(o,z);_.exit().each(function(G){var F=G[u.name];b._topdefs.select("#"+F._clipId).remove()}).remove(),o.length!==0&&(_.enter().append("g").classed(u.containerClassName,!0).attr("pointer-events","all"),_.each(function(G){var F=p.select(this),N=G[u.name],U=b[i.id2name(G.anchor)],O=N[i.id2name(G.anchor)];if(N.range){var H=C.simpleMap(N.range,G.r2l),Y=C.simpleMap(G.range,G.r2l),q;Y[0]<Y[1]?q=[Math.min(H[0],Y[0]),Math.max(H[1],Y[1])]:q=[Math.max(H[0],Y[0]),Math.min(H[1],Y[1])],N.range=N._input.range=C.simpleMap(q,G.l2r)}G.cleanRange("rangeslider.range");var ne=b._size,oe=G.domain;N._width=ne.w*(oe[1]-oe[0]);var he=Math.round(ne.l+ne.w*oe[0]),J=Math.round(ne.t+ne.h*(1-G._counterDomainMin)+(G.side==="bottom"?G._depth:0)+N._offsetShift+u.extraPad);F.attr("transform",T(he,J)),N._rl=C.simpleMap(N.range,G.r2l);var Z=N._rl[0],se=N._rl[1],$=se-Z;if(N.p2d=function(Ae){return Ae/N._width*$+Z},N.d2p=function(Ae){return(Ae-Z)/$*N._width},G.rangebreaks){var ee=G.locateBreaks(Z,se);if(ee.length){var le,Q,K=0;for(le=0;le<ee.length;le++)Q=ee[le],K+=Q.max-Q.min;var ue=N._width/(se-Z-K),ie=[-ue*Z];for(le=0;le<ee.length;le++)Q=ee[le],ie.push(ie[ie.length-1]-ue*(Q.max-Q.min));for(N.d2p=function(Ae){for(var Oe=ie[0],ze=0;ze<ee.length;ze++){var Ee=ee[ze];if(Ae>=Ee.max)Oe=ie[ze+1];else if(Ae<Ee.min)break}return Oe+ue*Ae},le=0;le<ee.length;le++)Q=ee[le],Q.pmin=N.d2p(Q.min),Q.pmax=N.d2p(Q.max);N.p2d=function(Ae){for(var Oe=ie[0],ze=0;ze<ee.length;ze++){var Ee=ee[ze];if(Ae>=Ee.pmax)Oe=ie[ze+1];else if(Ae<Ee.pmin)break}return(Ae-Oe)/ue}}}if(O.rangemode!=="match"){var ce=U.r2l(O.range[0]),xe=U.r2l(O.range[1]),Le=xe-ce;N.d2pOppAxis=function(Ae){return(Ae-ce)/Le*N._height}}F.call(v,E,G,N).call(l,E,G,N).call(g,E,G,N).call(A,E,G,N,O).call(k,E,G,N).call(w,E,G,N),m(F,E,G,N),S(F,E,G,N,U,O),G.side==="bottom"&&r.draw(E,G._id+"title",{propContainer:G,propName:G._name+".title",placeholder:b._dfltTitle.x,attributes:{x:G._offset+G._length/2,y:J+N._height+N._offsetShift+10+1.5*G.title.font.size,"text-anchor":"middle"}})}))};function s(E){return typeof E.clientX=="number"?E.clientX:E.touches&&E.touches.length>0?E.touches[0].clientX:0}function m(E,b,o,P){if(b._context.staticPlot)return;var x=E.select("rect."+u.slideBoxClassName).node(),z=E.select("rect."+u.grabAreaMinClassName).node(),_=E.select("rect."+u.grabAreaMaxClassName).node();function G(){var F=p.event,N=F.target,U=s(F),O=U-E.node().getBoundingClientRect().left,H=P.d2p(o._rl[0]),Y=P.d2p(o._rl[1]),q=a.coverSlip();this.addEventListener("touchmove",ne),this.addEventListener("touchend",oe),q.addEventListener("mousemove",ne),q.addEventListener("mouseup",oe);function ne(he){var J=s(he),Z=+J-U,se,$,ee;switch(N){case x:if(ee="ew-resize",H+Z>o._length||Y+Z<0)return;se=H+Z,$=Y+Z;break;case z:if(ee="col-resize",H+Z>o._length)return;se=H+Z,$=Y;break;case _:if(ee="col-resize",Y+Z<0)return;se=H,$=Y+Z;break;default:ee="ew-resize",se=O,$=O+Z;break}if($<se){var le=$;$=se,se=le}P._pixelMin=se,P._pixelMax=$,h(p.select(q),ee),f(E,b,o,P)}function oe(){q.removeEventListener("mousemove",ne),q.removeEventListener("mouseup",oe),this.removeEventListener("touchmove",ne),this.removeEventListener("touchend",oe),C.removeElement(q)}}E.on("mousedown",G),E.on("touchstart",G)}function f(E,b,o,P){function x(G){return o.l2r(C.constrain(G,P._rl[0],P._rl[1]))}var z=x(P.p2d(P._pixelMin)),_=x(P.p2d(P._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",b,o._name+".range",[z,_])})}function S(E,b,o,P,x,z){var _=u.handleWidth/2;function G(he){return C.constrain(he,0,P._width)}function F(he){return C.constrain(he,0,P._height)}function N(he){return C.constrain(he,-_,P._width+_)}var U=G(P.d2p(o._rl[0])),O=G(P.d2p(o._rl[1]));if(E.select("rect."+u.slideBoxClassName).attr("x",U).attr("width",O-U),E.select("rect."+u.maskMinClassName).attr("width",U),E.select("rect."+u.maskMaxClassName).attr("x",O).attr("width",P._width-O),z.rangemode!=="match"){var H=P._height-F(P.d2pOppAxis(x._rl[1])),Y=P._height-F(P.d2pOppAxis(x._rl[0]));E.select("rect."+u.maskMinOppAxisClassName).attr("x",U).attr("height",H).attr("width",O-U),E.select("rect."+u.maskMaxOppAxisClassName).attr("x",U).attr("y",Y).attr("height",P._height-Y).attr("width",O-U),E.select("rect."+u.slideBoxClassName).attr("y",H).attr("height",Y-H)}var q=.5,ne=Math.round(N(U-_))-q,oe=Math.round(N(O-_))+q;E.select("g."+u.grabberMinClassName).attr("transform",T(ne,q)),E.select("g."+u.grabberMaxClassName).attr("transform",T(oe,q))}function v(E,b,o,P){var x=C.ensureSingle(E,"rect",u.bgClassName,function(F){F.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),z=P.borderwidth%2===0?P.borderwidth:P.borderwidth-1,_=-P._offsetShift,G=d.crispRound(b,P.borderwidth);x.attr({width:P._width+z,height:P._height+z,transform:T(_,_),"stroke-width":G}).call(y.stroke,P.bordercolor).call(y.fill,P.bgcolor)}function l(E,b,o,P){var x=b._fullLayout,z=C.ensureSingleById(x._topdefs,"clipPath",P._clipId,function(_){_.append("rect").attr({x:0,y:0})});z.select("rect").attr({width:P._width,height:P._height})}function g(E,b,o,P){var x=b.calcdata,z=E.selectAll("g."+u.rangePlotClassName).data(o._subplotsWith,C.identity);z.enter().append("g").attr("class",function(G){return u.rangePlotClassName+" "+G}).call(d.setClipUrl,P._clipId,b),z.order(),z.exit().remove();var _;z.each(function(G,F){var N=p.select(this),U=F===0,O=i.getFromId(b,G,"y"),H=O._name,Y=P[H],q={data:[],layout:{xaxis:{type:o.type,domain:[0,1],range:P.range.slice(),calendar:o.calendar},width:P._width,height:P._height,margin:{t:0,b:0,l:0,r:0}},_context:b._context};o.rangebreaks&&(q.layout.xaxis.rangebreaks=o.rangebreaks),q.layout[H]={type:O.type,domain:[0,1],range:Y.rangemode!=="match"?Y.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(q.layout[H].rangebreaks=O.rangebreaks),n.supplyDefaults(q);var ne=q._fullLayout.xaxis,oe=q._fullLayout[H];ne.clearCalc(),ne.setScale(),oe.clearCalc(),oe.setScale();var he={id:G,plotgroup:N,xaxis:ne,yaxis:oe,isRangePlot:!0};U?_=he:(he.mainplot="xy",he.mainplotinfo=_),t.rangePlot(b,he,M(x,G))})}function M(E,b){for(var o=[],P=0;P<E.length;P++){var x=E[P],z=x[0].trace;z.xaxis+z.yaxis===b&&o.push(x)}return o}function A(E,b,o,P,x){var z=C.ensureSingle(E,"rect",u.maskMinClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})});z.attr("height",P._height).call(y.fill,u.maskColor);var _=C.ensureSingle(E,"rect",u.maskMaxClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});if(_.attr("height",P._height).call(y.fill,u.maskColor),x.rangemode!=="match"){var G=C.ensureSingle(E,"rect",u.maskMinOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});G.attr("width",P._width).call(y.fill,u.maskOppAxisColor);var F=C.ensureSingle(E,"rect",u.maskMaxOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})});F.attr("width",P._width).style("border-top",u.maskOppBorder).call(y.fill,u.maskOppAxisColor)}}function k(E,b,o,P){if(!b._context.staticPlot){var x=C.ensureSingle(E,"rect",u.slideBoxClassName,function(z){z.attr({y:0,cursor:u.slideBoxCursor,"shape-rendering":"crispEdges"})});x.attr({height:P._height,fill:u.slideBoxFill})}}function w(E,b,o,P){var x=C.ensureSingle(E,"g",u.grabberMinClassName),z=C.ensureSingle(E,"g",u.grabberMaxClassName),_={x:0,width:u.handleWidth,rx:u.handleRadius,fill:y.background,stroke:y.defaultLine,"stroke-width":u.handleStrokeWidth,"shape-rendering":"crispEdges"},G={y:Math.round(P._height/4),height:Math.round(P._height/2)},F=C.ensureSingle(x,"rect",u.handleMinClassName,function(Y){Y.attr(_)});F.attr(G);var N=C.ensureSingle(z,"rect",u.handleMaxClassName,function(Y){Y.attr(_)});N.attr(G);var U={width:u.grabAreaWidth,x:0,y:0,fill:u.grabAreaFill,cursor:b._context.staticPlot?void 0:u.grabAreaCursor},O=C.ensureSingle(x,"rect",u.grabAreaMinClassName,function(Y){Y.attr(U)});O.attr("height",P._height);var H=C.ensureSingle(z,"rect",u.grabAreaMaxClassName,function(Y){Y.attr(U)});H.attr("height",P._height)}},549:function(V,B,e){var p=e(41675),L=e(63893),n=e(73251),C=e(18783).LINE_SPACING,T=n.name;function d(y){var r=y&&y[T];return r&&r.visible}B.isVisible=d,B.makeData=function(y){var r=p.list({_fullLayout:y},"x",!0),t=y.margin,i=[];if(!y._has("gl2d"))for(var a=0;a<r.length;a++){var h=r[a];if(d(h)){i.push(h);var u=h[T];u._id=T+h._id,u._height=(y.height-t.b-t.t)*u.thickness,u._offsetShift=Math.floor(u.borderwidth/2)}}y._rangeSliderData=i},B.autoMarginOpts=function(y,r){var t=y._fullLayout,i=r[T],a=r._id.charAt(0),h=0,u=0;if(r.side==="bottom"&&(h=r._depth,r.title.text!==t._dfltTitle[a])){u=1.5*r.title.font.size+10+i._offsetShift;var s=(r.title.text.match(L.BR_TAG_ALL)||[]).length;u+=s*r.title.font.size*C}return{x:0,y:r._counterDomainMin,l:0,r:0,t:0,b:i._height+h+Math.max(t.margin.b,u),pad:n.extraPad+i._offsetShift*2}}},13137:function(V,B,e){var p=e(71828),L=e(75148),n=e(47850),C=e(549);V.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:n})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},47850:function(V){V.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(V,B,e){var p=e(50215),L=e(82196).line,n=e(79952).P,C=e(1426).extendFlat,T=e(30962).overrideAll,d=e(44467).templatedArray;e(24695),V.exports=T(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},p.xref,{}),yref:C({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},n,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(V){V.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(8389),T=e(30477);V.exports=function(r,t){n(r,t,{name:"selections",handleItemDefaults:d});for(var i=t.selections,a=0;a<i.length;a++){var h=i[a];h&&h.path===void 0&&(h.x0===void 0||h.x1===void 0||h.y0===void 0||h.y1===void 0)&&(t.selections[a]=null)}};function d(y,r,t){function i(x,z){return p.coerce(y,r,C,x,z)}var a=i("path"),h=a?"path":"rect",u=i("type",h),s=u!=="path";s&&delete r.path,i("opacity"),i("line.color"),i("line.width"),i("line.dash");for(var m=["x","y"],f=0;f<2;f++){var S=m[f],v={_fullLayout:t},l,g,M,A=L.coerceRef(y,r,v,S);if(l=L.getFromId(v,A),l._selectionIndices.push(r._index),M=T.rangeToShapePosition(l),g=T.shapePositionToRange(l),s){var k=S+"0",w=S+"1",E=y[k],b=y[w];y[k]=g(y[k],!0),y[w]=g(y[w],!0),L.coercePosition(r,v,i,A,k),L.coercePosition(r,v,i,A,w);var o=r[k],P=r[w];o!==void 0&&P!==void 0&&(r[k]=M(o),r[w]=M(P),y[k]=E,y[w]=b)}}s&&p.noneOrAll(y,r,["x0","x1","y0","y1"])}},32485:function(V,B,e){var p=e(60165).readPaths,L=e(42359),n=e(51873).clearOutlineControllers,C=e(7901),T=e(91424),d=e(44467).arrayEditor,y=e(30477),r=y.getPathString;V.exports={draw:t,drawOne:a,activateLastSelection:s};function t(f){var S=f._fullLayout;n(f),S._selectionLayer.selectAll("path").remove();for(var v in S._plots){var l=S._plots[v].selectionLayer;l&&l.selectAll("path").remove()}for(var g=0;g<S.selections.length;g++)a(f,g)}function i(f){return f._context.editSelection}function a(f,S){f._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+S+'"]').remove();var v=y.makeSelectionsOptionsAndPlotinfo(f,S),l=v.options,g=v.plotinfo;if(!l._input)return;M(f._fullLayout._selectionLayer);function M(A){var k=r(f,l),w={"data-index":S,"fill-rule":"evenodd",d:k},E=l.opacity,b="rgba(0,0,0,0)",o=l.line.color||C.contrast(f._fullLayout.plot_bgcolor),P=l.line.width,x=l.line.dash;P||(P=5,x="solid");var z=i(f)&&f._fullLayout._activeSelectionIndex===S;z&&(b=f._fullLayout.activeselection.fillcolor,E=f._fullLayout.activeselection.opacity);for(var _=[],G=1;G>=0;G--){var F=A.append("path").attr(w).style("opacity",G?.1:E).call(C.stroke,o).call(C.fill,b).call(T.dashLine,G?"solid":x,G?4+P:P);if(h(F,f,l),z){var N=d(f.layout,"selections",l);F.style({cursor:"move"});var U={element:F.node(),plotinfo:g,gd:f,editHelpers:N,isActiveSelection:!0},O=p(k,f);L(O,F,U)}else F.style("pointer-events",G?"all":"none");_[G]=F}var H=_[0],Y=_[1];Y.node().addEventListener("click",function(){return u(f,H)})}}function h(f,S,v){var l=v.xref+v.yref;T.setClipUrl(f,"clip"+S._fullLayout._uid+l,S)}function u(f,S){if(i(f)){var v=S.node(),l=+v.getAttribute("data-index");if(l>=0){if(l===f._fullLayout._activeSelectionIndex){m(f);return}f._fullLayout._activeSelectionIndex=l,f._fullLayout._deactivateSelection=m,t(f)}}}function s(f){if(i(f)){var S=f._fullLayout.selections.length-1;f._fullLayout._activeSelectionIndex=S,f._fullLayout._deactivateSelection=m,t(f)}}function m(f){if(i(f)){var S=f._fullLayout._activeSelectionIndex;S>=0&&(n(f),delete f._fullLayout._activeSelectionIndex,t(f))}}},53777:function(V,B,e){var p=e(79952).P,L=e(1426).extendFlat;V.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(V){V.exports=function(e,p,L){L("newselection.mode");var n=L("newselection.line.width");n&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},35855:function(V,B,e){var p=e(64505),L=p.selectMode,n=e(51873),C=n.clearOutline,T=e(60165),d=T.readPaths,y=T.writePaths,r=T.fixDatesForPaths;V.exports=function(i,a){if(i.length){var h=i[0][0];if(h){var u=h.getAttribute("d"),s=a.gd,m=s._fullLayout.newselection,f=a.plotinfo,S=f.xaxis,v=f.yaxis,l=a.isActiveSelection,g=a.dragmode,M=(s.layout||{}).selections||[];if(!L(g)&&l!==void 0){var A=s._fullLayout._activeSelectionIndex;if(A<M.length)switch(s._fullLayout.selections[A].type){case"rect":g="select";break;case"path":g="lasso";break}}var k=d(u,s,f,l),w={xref:S._id,yref:v._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;k.length===1&&(E=k[0]),E&&E.length===5&&g==="select"?(w.type="rect",w.x0=E[0][1],w.y0=E[0][2],w.x1=E[2][1],w.y1=E[2][2]):(w.type="path",S&&v&&r(k,S,v),w.path=y(k),E=null),C(s);for(var b=a.editHelpers,o=(b||{}).modifyItem,P=[],x=0;x<M.length;x++){var z=s._fullLayout.selections[x];if(!z){P[x]=z;continue}if(P[x]=z._input,l!==void 0&&x===s._fullLayout._activeSelectionIndex){var _=w;switch(z.type){case"rect":o("x0",_.x0),o("x1",_.x1),o("y0",_.y0),o("y1",_.y1);break;case"path":o("path",_.path);break}}}return l===void 0?(P.push(w),P):b?b.getUpdateObj():{}}}}},75549:function(V,B,e){var p=e(71828).strTranslate;function L(d,y){switch(d.type){case"log":return d.p2d(y);case"date":return d.p2r(y,0,d.calendar);default:return d.p2r(y)}}function n(d,y){switch(d.type){case"log":return d.d2p(y);case"date":return d.r2p(y,0,d.calendar);default:return d.r2p(y)}}function C(d){var y=d._id.charAt(0)==="y"?1:0;return function(r){return L(d,r[y])}}function T(d){return p(d.xaxis._offset,d.yaxis._offset)}V.exports={p2r:L,r2p:n,axValue:C,getTransform:T}},47322:function(V,B,e){var p=e(32485),L=e(3937);V.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},3937:function(V,B,e){var p=e(52142),L=e(38258),n=e(73972),C=e(91424).dashStyle,T=e(7901),d=e(30211),y=e(23469).makeEventData,r=e(64505),t=r.freeMode,i=r.rectMode,a=r.drawMode,h=r.openMode,u=r.selectMode,s=e(30477),m=e(21459),f=e(42359),S=e(51873).clearOutline,v=e(60165),l=v.handleEllipse,g=v.readPaths,M=e(90551).newShapes,A=e(35855),k=e(32485).activateLastSelection,w=e(71828),E=w.sorterAsc,b=e(61082),o=e(79990),P=e(41675).getFromId,x=e(33306),z=e(61549).redrawReglTraces,_=e(34122),G=_.MINSELECT,F=b.filter,N=b.tester,U=e(75549),O=U.p2r,H=U.axValue,Y=U.getTransform;function q(Ne){return Ne.subplot!==void 0}function ne(Ne,ke,we,me,Me){var Se=!q(me),Ve=t(Me),Ze=i(Me),tt=h(Me),ct=a(Me),gt=u(Me),jt=Me==="drawline",Kt=Me==="drawcircle",Tt=jt||Kt,zt=me.gd,qt=zt._fullLayout,Sr=gt&&qt.newselection.mode==="immediate"&&Se,yt=qt._zoomlayer,Zt=me.element.getBoundingClientRect(),Jt=me.plotinfo,mr=Y(Jt),sr=ke-Zt.left,vt=we-Zt.top;qt._calcInverseTransform(zt);var it=w.apply3DTransform(qt._invTransform)(sr,vt);sr=it[0],vt=it[1];var xt=qt._invScaleX,St=qt._invScaleY,Rt=sr,Lt=vt,Ot="M"+sr+","+vt,Nt=me.xaxes[0],Xt=me.yaxes[0],ur=Nt._length,cr=Xt._length,dr=Ne.altKey&&!(a(Me)&&tt),Ye,je,It,Dt,Yt,tr,fr;$(Ne,zt,me),Ve&&(Ye=F([[sr,vt]],_.BENDPX));var rr=yt.selectAll("path.select-outline-"+Jt.id).data([1]),Ft=ct?qt.newshape:qt.newselection;ct&&(me.hasText=Ft.label.text||Ft.label.texttemplate);var hr=ct&&!tt?Ft.fillcolor:"rgba(0,0,0,0)",br=Ft.line.color||(Se?T.contrast(zt._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Jt.id).style({opacity:ct?Ft.opacity/2:1,"stroke-dasharray":C(Ft.line.dash,Ft.line.width),"stroke-width":Ft.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,br).call(T.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!ct).attr("transform",mr).attr("d",Ot+"Z");var yr=yt.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(ct&&me.hasText){var vr=yt.select(".label-temp");vr.empty()&&(vr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Gr=qt._uid+_.SELECTID,_r=[],Dr=ue(zt,me.xaxes,me.yaxes,me.subplot);Sr&&!Ne.shiftKey&&(me._clearSubplotSelections=function(){if(Se){var nn=Nt._id,Un=Xt._id;lt(zt,nn,Un,Dr);for(var Tn=(zt.layout||{}).selections||[],Cr=[],Lr=!1,Zr=0;Zr<Tn.length;Zr++){var Wr=qt.selections[Zr];Wr.xref!==nn||Wr.yref!==Un?Cr.push(Tn[Zr]):Lr=!0}Lr&&(zt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",zt,{selections:Cr}))}});var pn=Ht(me);me.moveFn=function(nn,Un){me._clearSubplotSelections&&(me._clearSubplotSelections(),me._clearSubplotSelections=void 0),Rt=Math.max(0,Math.min(ur,xt*nn+sr)),Lt=Math.max(0,Math.min(cr,St*Un+vt));var Tn=Math.abs(Rt-sr),Cr=Math.abs(Lt-vt);if(Ze){var Lr,Zr,Wr;if(gt){var sn=qt.selectdirection;switch(sn==="any"?Cr<Math.min(Tn*.6,G)?Lr="h":Tn<Math.min(Cr*.6,G)?Lr="v":Lr="d":Lr=sn,Lr){case"h":Zr=Kt?cr/2:0,Wr=cr;break;case"v":Zr=Kt?ur/2:0,Wr=ur;break}}if(ct)switch(qt.newshape.drawdirection){case"vertical":Lr="h",Zr=Kt?cr/2:0,Wr=cr;break;case"horizontal":Lr="v",Zr=Kt?ur/2:0,Wr=ur;break;case"ortho":Tn<Cr?(Lr="h",Zr=vt,Wr=Lt):(Lr="v",Zr=sr,Wr=Rt);break;default:Lr="d"}Lr==="h"?(Dt=Tt?l(Kt,[Rt,Zr],[Rt,Wr]):[[sr,Zr],[sr,Wr],[Rt,Wr],[Rt,Zr]],Dt.xmin=Tt?Rt:Math.min(sr,Rt),Dt.xmax=Tt?Rt:Math.max(sr,Rt),Dt.ymin=Math.min(Zr,Wr),Dt.ymax=Math.max(Zr,Wr),yr.attr("d","M"+Dt.xmin+","+(vt-G)+"h-4v"+2*G+"h4ZM"+(Dt.xmax-1)+","+(vt-G)+"h4v"+2*G+"h-4Z")):Lr==="v"?(Dt=Tt?l(Kt,[Zr,Lt],[Wr,Lt]):[[Zr,vt],[Zr,Lt],[Wr,Lt],[Wr,vt]],Dt.xmin=Math.min(Zr,Wr),Dt.xmax=Math.max(Zr,Wr),Dt.ymin=Tt?Lt:Math.min(vt,Lt),Dt.ymax=Tt?Lt:Math.max(vt,Lt),yr.attr("d","M"+(sr-G)+","+Dt.ymin+"v-4h"+2*G+"v4ZM"+(sr-G)+","+(Dt.ymax-1)+"v4h"+2*G+"v-4Z")):Lr==="d"&&(Dt=Tt?l(Kt,[sr,vt],[Rt,Lt]):[[sr,vt],[sr,Lt],[Rt,Lt],[Rt,vt]],Dt.xmin=Math.min(sr,Rt),Dt.xmax=Math.max(sr,Rt),Dt.ymin=Math.min(vt,Lt),Dt.ymax=Math.max(vt,Lt),yr.attr("d","M0,0Z"))}else Ve&&(Ye.addPt([Rt,Lt]),Dt=Ye.filtered);if(me.selectionDefs&&me.selectionDefs.length?(It=be(me.mergedPolygons,Dt,dr),Dt.subtract=dr,je=se(me.selectionDefs.concat([Dt]))):(It=[Dt],je=N(Dt)),f(Ue(It,tt),rr,me),gt){var yn=Ie(zt,!1),bn=yn.eventData?yn.eventData.points.slice():[];yn=Ie(zt,!1,je,Dr,me),je=yn.selectionTesters,fr=yn.eventData;var Pn;Ye?Pn=Ye.filtered:Pn=pt(It),o.throttle(Gr,_.SELECTDELAY,function(){_r=He(je,Dr);for(var Bn=_r.slice(),sa=0;sa<bn.length;sa++){for(var Kn=bn[sa],ra=!1,$n=0;$n<Bn.length;$n++)if(Bn[$n].curveNumber===Kn.curveNumber&&Bn[$n].pointNumber===Kn.pointNumber){ra=!0;break}ra||Bn.push(Kn)}Bn.length&&(fr||(fr={}),fr.points=Bn),pn(fr,Pn),Je(zt,fr)})}},me.clickFn=function(nn,Un){if(yr.remove(),zt._fullLayout._activeShapeIndex>=0){zt._fullLayout._deactivateShape(zt);return}if(!ct){var Tn=qt.clickmode;o.done(Gr).then(function(){if(o.clear(Gr),nn===2){for(rr.remove(),Yt=0;Yt<Dr.length;Yt++)tr=Dr[Yt],tr._module.selectPoints(tr,!1);if(ze(zt,Dr),Q(me),_e(zt),Dr.length){var Cr=Dr[0].xaxis,Lr=Dr[0].yaxis;if(Cr&&Lr){for(var Zr=[],Wr=zt._fullLayout.selections,sn=0;sn<Wr.length;sn++){var yn=Wr[sn];yn&&(yn.xref!==Cr._id||yn.yref!==Lr._id)&&Zr.push(yn)}Zr.length<Wr.length&&(zt._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",zt,{selections:Zr}))}}}else Tn.indexOf("select")>-1&&oe(Un,zt,me.xaxes,me.yaxes,me.subplot,me,rr),Tn==="event"&&We(zt,void 0);d.click(zt,Un,Jt.id)}).catch(w.error)}},me.doneFn=function(){yr.remove(),o.done(Gr).then(function(){o.clear(Gr),!Sr&&Dt&&me.selectionDefs&&(Dt.subtract=dr,me.selectionDefs.push(Dt),me.mergedPolygons.length=0,[].push.apply(me.mergedPolygons,It)),(Sr||ct)&&Q(me,Sr),me.doneFnCompleted&&me.doneFnCompleted(_r),gt&&We(zt,fr)}).catch(w.error)}}function oe(Ne,ke,we,me,Me,Se,Ve){var Ze=ke._hoverdata,tt=ke._fullLayout,ct=tt.clickmode,gt=ct.indexOf("event")>-1,jt=[],Kt,Tt,zt,qt,Sr,yt,Zt,Jt,mr,sr;if(ce(Ze)){$(Ne,ke,Se),Kt=ue(ke,we,me,Me);var vt=xe(Ze,Kt),it=vt.pointNumbers.length>0;if(it?Ae(Kt,vt):Oe(Kt)&&(Zt=Le(vt))){for(Ve&&Ve.remove(),sr=0;sr<Kt.length;sr++)Tt=Kt[sr],Tt._module.selectPoints(Tt,!1);ze(ke,Kt),Q(Se),gt&&_e(ke)}else{Jt=Ne.shiftKey&&(Zt!==void 0?Zt:Le(vt)),zt=he(vt.pointNumber,vt.searchInfo,Jt);var xt=Se.selectionDefs.concat([zt]);for(qt=se(xt),sr=0;sr<Kt.length;sr++)if(Sr=Kt[sr]._module.selectPoints(Kt[sr],qt),yt=Ce(Sr,Kt[sr]),jt.length)for(var St=0;St<yt.length;St++)jt.push(yt[St]);else jt=yt;if(mr={points:jt},ze(ke,Kt,mr),zt&&Se&&Se.selectionDefs.push(zt),Ve){var Rt=Se.mergedPolygons,Lt=h(Se.dragmode);f(Ue(Rt,Lt),Ve,Se)}gt&&We(ke,mr)}}}function he(Ne,ke,we){return{pointNumber:Ne,searchInfo:ke,subtract:!!we}}function J(Ne){return"pointNumber"in Ne&&"searchInfo"in Ne}function Z(Ne){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(ke,we,me,Me){var Se=Ne.searchInfo.cd[0].trace._expandedIndex,Ve=Me.cd[0].trace._expandedIndex;return Ve===Se&&me===Ne.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ne.subtract}}function se(Ne){if(!Ne.length)return;for(var ke=[],we=J(Ne[0])?0:Ne[0][0][0],me=we,Me=J(Ne[0])?0:Ne[0][0][1],Se=Me,Ve=0;Ve<Ne.length;Ve++)if(J(Ne[Ve]))ke.push(Z(Ne[Ve]));else{var Ze=N(Ne[Ve]);Ze.subtract=!!Ne[Ve].subtract,ke.push(Ze),we=Math.min(we,Ze.xmin),me=Math.max(me,Ze.xmax),Me=Math.min(Me,Ze.ymin),Se=Math.max(Se,Ze.ymax)}function tt(ct,gt,jt,Kt){for(var Tt=!1,zt=0;zt<ke.length;zt++)ke[zt].contains(ct,gt,jt,Kt)&&(Tt=!ke[zt].subtract);return Tt}return{xmin:we,xmax:me,ymin:Me,ymax:Se,pts:[],contains:tt,isRect:!1,degenerate:!1}}function $(Ne,ke,we){var me=ke._fullLayout,Me=we.plotinfo,Se=we.dragmode,Ve=me._lastSelectedSubplot&&me._lastSelectedSubplot===Me.id,Ze=(Ne.shiftKey||Ne.altKey)&&!(a(Se)&&h(Se));Ve&&Ze&&Me.selection&&Me.selection.selectionDefs&&!we.selectionDefs?(we.selectionDefs=Me.selection.selectionDefs,we.mergedPolygons=Me.selection.mergedPolygons):(!Ze||!Me.selection)&&Q(we),Ve||(S(ke),me._lastSelectedSubplot=Me.id)}function ee(Ne){return Ne._fullLayout._activeShapeIndex>=0}function le(Ne){return Ne._fullLayout._activeSelectionIndex>=0}function Q(Ne,ke){var we=Ne.dragmode,me=Ne.plotinfo,Me=Ne.gd;ee(Me)&&Me._fullLayout._deactivateShape(Me),le(Me)&&Me._fullLayout._deactivateSelection(Me);var Se=Me._fullLayout,Ve=Se._zoomlayer,Ze=a(we),tt=u(we);if(Ze||tt){var ct=Ve.selectAll(".select-outline-"+me.id);if(ct&&Me._fullLayout._outlining){var gt;Ze&&(gt=M(ct,Ne)),gt&&n.call("_guiRelayout",Me,{shapes:gt});var jt;tt&&!q(Ne)&&(jt=A(ct,Ne)),jt&&(Me._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",Me,{selections:jt}).then(function(){ke&&k(Me)})),Me._fullLayout._outlining=!1}}me.selection={},me.selection.selectionDefs=Ne.selectionDefs=[],me.selection.mergedPolygons=Ne.mergedPolygons=[]}function K(Ne){return Ne._id}function ue(Ne,ke,we,me){if(!Ne.calcdata)return[];var Me=[],Se=ke.map(K),Ve=we.map(K),Ze,tt,ct;for(ct=0;ct<Ne.calcdata.length;ct++)if(Ze=Ne.calcdata[ct],tt=Ze[0].trace,!(tt.visible!==!0||!tt._module||!tt._module.selectPoints))if(q({subplot:me})&&(tt.subplot===me||tt.geo===me))Me.push(ie(tt._module,Ze,ke[0],we[0]));else if(tt.type==="splom"){if(tt._xaxes[Se[0]]&&tt._yaxes[Ve[0]]){var gt=ie(tt._module,Ze,ke[0],we[0]);gt.scene=Ne._fullLayout._splomScenes[tt.uid],Me.push(gt)}}else if(tt.type==="sankey"){var jt=ie(tt._module,Ze,ke[0],we[0]);Me.push(jt)}else{if(Se.indexOf(tt.xaxis)===-1||Ve.indexOf(tt.yaxis)===-1)continue;Me.push(ie(tt._module,Ze,P(Ne,tt.xaxis),P(Ne,tt.yaxis)))}return Me}function ie(Ne,ke,we,me){return{_module:Ne,cd:ke,xaxis:we,yaxis:me}}function ce(Ne){return Ne&&Array.isArray(Ne)&&Ne[0].hoverOnBox!==!0}function xe(Ne,ke){var we=Ne[0],me=-1,Me=[],Se,Ve;for(Ve=0;Ve<ke.length;Ve++)if(Se=ke[Ve],we.fullData._expandedIndex===Se.cd[0].trace._expandedIndex){if(we.hoverOnBox===!0)break;we.pointNumber!==void 0?me=we.pointNumber:we.binNumber!==void 0&&(me=we.binNumber,Me=we.pointNumbers);break}return{pointNumber:me,pointNumbers:Me,searchInfo:Se}}function Le(Ne){var ke=Ne.searchInfo.cd[0].trace,we=Ne.pointNumber,me=Ne.pointNumbers,Me=me.length>0,Se=Me?me[0]:we;return ke.selectedpoints?ke.selectedpoints.indexOf(Se)>-1:!1}function Ae(Ne,ke){var we=[],me,Me,Se,Ve;for(Ve=0;Ve<Ne.length;Ve++)me=Ne[Ve],me.cd[0].trace.selectedpoints&&me.cd[0].trace.selectedpoints.length>0&&we.push(me);if(we.length===1&&(Se=we[0]===ke.searchInfo,Se&&(Me=ke.searchInfo.cd[0].trace,Me.selectedpoints.length===ke.pointNumbers.length))){for(Ve=0;Ve<ke.pointNumbers.length;Ve++)if(Me.selectedpoints.indexOf(ke.pointNumbers[Ve])<0)return!1;return!0}return!1}function Oe(Ne){var ke=0,we,me,Me;for(Me=0;Me<Ne.length;Me++)if(we=Ne[Me],me=we.cd[0].trace,me.selectedpoints&&(me.selectedpoints.length>1||(ke+=me.selectedpoints.length,ke>1)))return!1;return ke===1}function ze(Ne,ke,we){var me;for(me=0;me<ke.length;me++){var Me=ke[me].cd[0].trace._fullInput,Se=Ne._fullLayout._tracePreGUI[Me.uid]||{};Se.selectedpoints===void 0&&(Se.selectedpoints=Me._input.selectedpoints||null)}var Ve;if(we){var Ze=we.points||[];for(me=0;me<ke.length;me++)Ve=ke[me].cd[0].trace,Ve._input.selectedpoints=Ve._fullInput.selectedpoints=[],Ve._fullInput!==Ve&&(Ve.selectedpoints=[]);for(var tt=0;tt<Ze.length;tt++){var ct=Ze[tt],gt=ct.data,jt=ct.fullData,Kt=ct.pointIndex,Tt=ct.pointIndices;Tt?([].push.apply(gt.selectedpoints,Tt),Ve._fullInput!==Ve&&[].push.apply(jt.selectedpoints,Tt)):(gt.selectedpoints.push(Kt),Ve._fullInput!==Ve&&jt.selectedpoints.push(Kt))}}else for(me=0;me<ke.length;me++)Ve=ke[me].cd[0].trace,delete Ve.selectedpoints,delete Ve._input.selectedpoints,Ve._fullInput!==Ve&&delete Ve._fullInput.selectedpoints;Ee(Ne,ke)}function Ee(Ne,ke){for(var we=!1,me=0;me<ke.length;me++){var Me=ke[me],Se=Me.cd;n.traceIs(Se[0].trace,"regl")&&(we=!0);var Ve=Me._module,Ze=Ve.styleOnSelect||Ve.style;Ze&&(Ze(Ne,Se,Se[0].node3),Se[0].nodeRangePlot3&&Ze(Ne,Se,Se[0].nodeRangePlot3))}we&&(x(Ne),z(Ne))}function be(Ne,ke,we){for(var me=we?p.difference:p.union,Me=me({regions:Ne},{regions:[ke]}),Se=Me.regions.reverse(),Ve=0;Ve<Se.length;Ve++){var Ze=Se[Ve];Ze.subtract=ft(Ze,Se.slice(0,Ve))}return Se}function Ce(Ne,ke){if(Array.isArray(Ne))for(var we=ke.cd,me=ke.cd[0].trace,Me=0;Me<Ne.length;Me++)Ne[Me]=y(Ne[Me],me,we);return Ne}function Ue(Ne,ke){for(var we=[],me=0;me<Ne.length;me++){we[me]=[];for(var Me=0;Me<Ne[me].length;Me++){we[me][Me]=[],we[me][Me][0]=Me?"L":"M";for(var Se=0;Se<Ne[me][Me].length;Se++)we[me][Me].push(Ne[me][Me][Se])}ke||we[me].push(["Z",we[me][0][1],we[me][0][2]])}return we}function He(Ne,ke){for(var we=[],me,Me,Se=0;Se<ke.length;Se++){var Ve=ke[Se];Me=Ve._module.selectPoints(Ve,Ne),me=Ce(Me,Ve),we=we.concat(me)}return we}function Ie(Ne,ke,we,me,Me){var Se=!!me,Ve,Ze,tt;Me&&(Ve=Me.plotinfo,Ze=Me.xaxes[0]._id,tt=Me.yaxes[0]._id);var ct=[],gt=[],jt=et(Ne),Kt=Ne._fullLayout;if(Ve){var Tt=Kt._zoomlayer,zt=Kt.dragmode,qt=a(zt),Sr=u(zt);if(qt||Sr){var yt=P(Ne,Ze,"x"),Zt=P(Ne,tt,"y");if(yt&&Zt){var Jt=Tt.selectAll(".select-outline-"+Ve.id);if(Jt&&Ne._fullLayout._outlining&&Jt.length){for(var mr=Jt[0][0],sr=mr.getAttribute("d"),vt=g(sr,Ne,Ve),it=[],xt=0;xt<vt.length;xt++){for(var St=vt[xt],Rt=[],Lt=0;Lt<St.length;Lt++)Rt.push([dt(yt,St[Lt][1]),dt(Zt,St[Lt][2])]);Rt.xref=Ze,Rt.yref=tt,Rt.subtract=ft(Rt,it),it.push(Rt)}jt=jt.concat(it)}}}}var Ot=Ze&&tt?[Ze+tt]:Kt._subplots.cartesian;Ge(Ne);for(var Nt={},Xt=0;Xt<Ot.length;Xt++){var ur=Ot[Xt],cr=ur.indexOf("y"),dr=ur.slice(0,cr),Ye=ur.slice(cr),je=Ze&&tt?we:void 0;if(je=qe(jt,dr,Ye,je),je){var It=me;if(!Se){var Dt=P(Ne,dr,"x"),Yt=P(Ne,Ye,"y");It=ue(Ne,[Dt],[Yt],ur);for(var tr=0;tr<It.length;tr++){var fr=It[tr],rr=fr.cd[0],Ft=rr.trace;if(fr._module.name==="scattergl"&&!rr.t.xpx){var hr=Ft.x,br=Ft.y,yr=Ft._length;rr.t.xpx=[],rr.t.ypx=[];for(var vr=0;vr<yr;vr++)rr.t.xpx[vr]=Dt.c2p(hr[vr]),rr.t.ypx[vr]=Yt.c2p(br[vr])}fr._module.name==="splom"&&(Nt[Ft.uid]||(Nt[Ft.uid]=!0))}}var Gr=He(je,It);ct=ct.concat(Gr),gt=gt.concat(It)}}var _r={points:ct};ze(Ne,gt,_r);var Dr=Kt.clickmode,pn=Dr.indexOf("event")>-1&&ke;if(!Ve&&ke){var nn=et(Ne,!0);if(nn.length){var Un=nn[0].xref,Tn=nn[0].yref;if(Un&&Tn){var Cr=pt(nn),Lr=Pt([P(Ne,Un,"x"),P(Ne,Tn,"y")]);Lr(_r,Cr)}}Ne._fullLayout._noEmitSelectedAtStart?Ne._fullLayout._noEmitSelectedAtStart=!1:pn&&We(Ne,_r),Kt._reselect=!1}if(!Ve&&Kt._deselect){var Zr=Kt._deselect;Ze=Zr.xref,tt=Zr.yref,at(Ze,tt,gt)||lt(Ne,Ze,tt,me),pn&&(_r.points.length?We(Ne,_r):_e(Ne)),Kt._deselect=!1}return{eventData:_r,selectionTesters:we}}function Ge(Ne){var ke=Ne.calcdata;if(ke)for(var we=0;we<ke.length;we++){var me=ke[we][0],Me=me.trace,Se=Ne._fullLayout._splomScenes;if(Se){var Ve=Se[Me.uid];Ve&&(Ve.selectBatch=[])}}}function at(Ne,ke,we){for(var me=0;me<we.length;me++){var Me=we[me];if(Me.xaxis&&Me.xaxis._id===Ne&&Me.yaxis&&Me.yaxis._id===ke)return!0}return!1}function lt(Ne,ke,we,me){me=ue(Ne,[P(Ne,ke,"x")],[P(Ne,we,"y")],ke+we);for(var Me=0;Me<me.length;Me++){var Se=me[Me];Se._module.selectPoints(Se,!1)}ze(Ne,me)}function qe(Ne,ke,we,me){for(var Me,Se=0;Se<Ne.length;Se++){var Ve=Ne[Se];if(!(ke!==Ve.xref||we!==Ve.yref))if(Me){var Ze=!!Ve.subtract;Me=be(Me,Ve,Ze),me=se(Me)}else Me=[Ve],me=N(Ve)}return me}function et(Ne,ke){for(var we=[],me=Ne._fullLayout,Me=me.selections,Se=Me.length,Ve=0;Ve<Se;Ve++)if(!(ke&&Ve!==me._activeSelectionIndex)){var Ze=Me[Ve];if(Ze){var tt=Ze.xref,ct=Ze.yref,gt=P(Ne,tt,"x"),jt=P(Ne,ct,"y"),Kt,Tt,zt,qt,Sr;if(Ze.type==="rect"){Sr=[];var yt=dt(gt,Ze.x0),Zt=dt(gt,Ze.x1),Jt=dt(jt,Ze.y0),mr=dt(jt,Ze.y1);Sr=[[yt,Jt],[yt,mr],[Zt,mr],[Zt,Jt]],Kt=Math.min(yt,Zt),Tt=Math.max(yt,Zt),zt=Math.min(Jt,mr),qt=Math.max(Jt,mr),Sr.xmin=Kt,Sr.xmax=Tt,Sr.ymin=zt,Sr.ymax=qt,Sr.xref=tt,Sr.yref=ct,Sr.subtract=!1,Sr.isRect=!0,we.push(Sr)}else if(Ze.type==="path")for(var sr=Ze.path.split("Z"),vt=[],it=0;it<sr.length;it++){var xt=sr[it];if(xt){xt+="Z";var St=s.extractPathCoords(xt,m.paramIsX,"raw"),Rt=s.extractPathCoords(xt,m.paramIsY,"raw");Kt=1/0,Tt=-1/0,zt=1/0,qt=-1/0,Sr=[];for(var Lt=0;Lt<St.length;Lt++){var Ot=dt(gt,St[Lt]),Nt=dt(jt,Rt[Lt]);Sr.push([Ot,Nt]),Kt=Math.min(Ot,Kt),Tt=Math.max(Ot,Tt),zt=Math.min(Nt,zt),qt=Math.max(Nt,qt)}Sr.xmin=Kt,Sr.xmax=Tt,Sr.ymin=zt,Sr.ymax=qt,Sr.xref=tt,Sr.yref=ct,Sr.subtract=ft(Sr,vt),vt.push(Sr),we.push(Sr)}}}}return we}function ft(Ne,ke){for(var we=!1,me=0;me<ke.length;me++)for(var Me=ke[me],Se=0;Se<Ne.length;Se++)if(L(Ne[Se],Me)){we=!we;break}return we}function dt(Ne,ke){return Ne.type==="date"&&(ke=ke.replace("_"," ")),Ne.type==="log"?Ne.c2p(ke):Ne.r2p(ke,null,Ne.calendar)}function pt(Ne){for(var ke=Ne.length,we=[],me=0;me<ke;me++){var Me=Ne[me];we=we.concat(Me),we=we.concat([Me[0]])}return At(we)}function At(Ne){return Ne.isRect=Ne.length===5&&Ne[0][0]===Ne[4][0]&&Ne[0][1]===Ne[4][1]&&Ne[0][0]===Ne[1][0]&&Ne[2][0]===Ne[3][0]&&Ne[0][1]===Ne[3][1]&&Ne[1][1]===Ne[2][1]||Ne[0][1]===Ne[1][1]&&Ne[2][1]===Ne[3][1]&&Ne[0][0]===Ne[3][0]&&Ne[1][0]===Ne[2][0],Ne.isRect&&(Ne.xmin=Math.min(Ne[0][0],Ne[2][0]),Ne.xmax=Math.max(Ne[0][0],Ne[2][0]),Ne.ymin=Math.min(Ne[0][1],Ne[2][1]),Ne.ymax=Math.max(Ne[0][1],Ne[2][1])),Ne}function Pt(Ne){return function(ke,we){for(var me,Me,Se=0;Se<Ne.length;Se++){var Ve=Ne[Se],Ze=Ve._id,tt=Ze.charAt(0);if(we.isRect){me||(me={});var ct=we[tt+"min"],gt=we[tt+"max"];ct!==void 0&&gt!==void 0&&(me[Ze]=[O(Ve,ct),O(Ve,gt)].sort(E))}else Me||(Me={}),Me[Ze]=we.map(H(Ve))}me&&(ke.range=me),Me&&(ke.lassoPoints=Me)}}function Ht(Ne){var ke=Ne.plotinfo;return ke.fillRangeItems||Pt(Ne.xaxes.concat(Ne.yaxes))}function Je(Ne,ke){Ne.emit("plotly_selecting",ke)}function We(Ne,ke){ke&&(ke.selections=(Ne.layout||{}).selections||[]),Ne.emit("plotly_selected",ke)}function _e(Ne){Ne.emit("plotly_deselect",null)}V.exports={reselect:Ie,prepSelect:ne,clearOutline:S,clearSelectionsCache:Q,selectOnClick:oe}},89827:function(V,B,e){var p=e(50215),L=e(41940),n=e(82196).line,C=e(79952).P,T=e(1426).extendFlat,d=e(44467).templatedArray;e(24695);var y=e(9012),r=e(5386).R,t=e(37281);V.exports=d("shape",{visible:T({},y.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:T({},y.legend,{editType:"calc+arraydraw"}),legendgroup:T({},y.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:T({},y.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:L({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:T({},y.legendrank,{editType:"calc+arraydraw"}),legendwidth:T({},y.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:T({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},n.color,{editType:"arraydraw"}),width:T({},n.width,{editType:"calc+arraydraw"}),dash:T({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:r({},{keys:Object.keys(t)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(V,B,e){var p=e(71828),L=e(89298),n=e(21459),C=e(30477);V.exports=function(i){var a=i._fullLayout,h=p.filterVisible(a.shapes);if(!(!h.length||!i._fullData.length))for(var u=0;u<h.length;u++){var s=h[u];s._extremes={};var m,f,S=L.getRefType(s.xref),v=L.getRefType(s.yref);if(s.xref!=="paper"&&S!=="domain"){var l=s.xsizemode==="pixel"?s.xanchor:s.x0,g=s.xsizemode==="pixel"?s.xanchor:s.x1;m=L.getFromId(i,s.xref),f=r(m,l,g,s.path,n.paramIsX),f&&(s._extremes[m._id]=L.findExtremes(m,f,T(s)))}if(s.yref!=="paper"&&v!=="domain"){var M=s.ysizemode==="pixel"?s.yanchor:s.y0,A=s.ysizemode==="pixel"?s.yanchor:s.y1;m=L.getFromId(i,s.yref),f=r(m,M,A,s.path,n.paramIsY),f&&(s._extremes[m._id]=L.findExtremes(m,f,d(s)))}}};function T(t){return y(t.line.width,t.xsizemode,t.x0,t.x1,t.path,!1)}function d(t){return y(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function y(t,i,a,h,u,s){var m=t/2,f=s;if(i==="pixel"){var S=u?C.extractPathCoords(u,s?n.paramIsY:n.paramIsX):[a,h],v=p.aggNums(Math.max,null,S),l=p.aggNums(Math.min,null,S),g=l<0?Math.abs(l)+m:m,M=v>0?v+m:m;return{ppad:m,ppadplus:f?g:M,ppadminus:f?M:g}}else return{ppad:m}}function r(t,i,a,h,u){var s=t.type==="category"||t.type==="multicategory"?t.r2c:t.d2c;if(i!==void 0)return[s(i),s(a)];if(h){var m=1/0,f=-1/0,S=h.match(n.segmentRE),v,l,g,M,A;for(t.type==="date"&&(s=C.decodeDate(s)),v=0;v<S.length;v++)l=S[v],g=u[l.charAt(0)].drawn,g!==void 0&&(M=S[v].substr(1).match(n.paramRE),!(!M||M.length<g)&&(A=s(M[g]),A<m&&(m=A),A>f&&(f=A)));if(f>=m)return[m,f]}}},21459:function(V){V.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(89827),T=e(30477);V.exports=function(t,i){n(t,i,{name:"shapes",handleItemDefaults:y})};function d(r,t){return r?"bottom":t.indexOf("top")!==-1?"top":t.indexOf("bottom")!==-1?"bottom":"middle"}function y(r,t,i){function a(J,Z){return p.coerce(r,t,C,J,Z)}t._isShape=!0;var h=a("visible");if(h){var u=a("showlegend");u&&(a("legend"),a("legendwidth"),a("legendgroup"),a("legendgrouptitle.text"),p.coerceFont(a,"legendgrouptitle.font"),a("legendrank"));var s=a("path"),m=s?"path":"rect",f=a("type",m),S=f!=="path";S&&delete t.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var v=a("line.width");v&&(a("line.color"),a("line.dash"));for(var l=a("xsizemode"),g=a("ysizemode"),M=["x","y"],A=0;A<2;A++){var k=M[A],w=k+"anchor",E=k==="x"?l:g,b={_fullLayout:i},o,P,x,z=L.coerceRef(r,t,b,k,void 0,"paper"),_=L.getRefType(z);if(_==="range"?(o=L.getFromId(b,z),o._shapeIndices.push(t._index),x=T.rangeToShapePosition(o),P=T.shapePositionToRange(o)):P=x=p.identity,S){var G=.25,F=.75,N=k+"0",U=k+"1",O=r[N],H=r[U];r[N]=P(r[N],!0),r[U]=P(r[U],!0),E==="pixel"?(a(N,0),a(U,10)):(L.coercePosition(t,b,a,z,N,G),L.coercePosition(t,b,a,z,U,F)),t[N]=x(t[N]),t[U]=x(t[U]),r[N]=O,r[U]=H}if(E==="pixel"){var Y=r[w];r[w]=P(r[w],!0),L.coercePosition(t,b,a,z,w,.25),t[w]=x(t[w]),r[w]=Y}}S&&p.noneOrAll(r,t,["x0","x1","y0","y1"]);var q=f==="line",ne,oe;if(S&&(ne=a("label.texttemplate")),ne||(oe=a("label.text")),oe||ne){a("label.textangle");var he=a("label.textposition",q?"middle":"middle center");a("label.xanchor"),a("label.yanchor",d(q,he)),a("label.padding"),p.coerceFont(a,"label.font",i.font)}}}},48100:function(V,B,e){var p=e(71828),L=e(89298),n=e(63893),C=e(91424),T=e(60165).readPaths,d=e(30477),y=d.getPathString,r=e(37281),t=e(18783).FROM_TL;V.exports=function(u,s,m,f){if(f.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var S;if(m.label.texttemplate){var v={};if(m.type!=="path"){var l=L.getFromId(u,m.xref),g=L.getFromId(u,m.yref);for(var M in r){var A=r[M](m,l,g);A!==void 0&&(v[M]=A)}}S=p.texttemplateStringForShapes(m.label.texttemplate,{},u._fullLayout._d3locale,v)}else S=m.label.text;var k={"data-index":s},w=m.label.font,E={"data-notex":1},b=f.append("g").attr(k).classed("shape-label",!0),o=b.append("text").attr(E).classed("shape-label-text",!0).text(S),P,x,z,_;if(m.path){var G=y(u,m),F=T(G,u);P=1/0,z=1/0,x=-1/0,_=-1/0;for(var N=0;N<F.length;N++)for(var U=0;U<F[N].length;U++)for(var O=F[N][U],H=1;H<O.length;H+=2){var Y=O[H],q=O[H+1];P=Math.min(P,Y),x=Math.max(x,Y),z=Math.min(z,q),_=Math.max(_,q)}}else{var ne=L.getFromId(u,m.xref),oe=L.getRefType(m.xref),he=L.getFromId(u,m.yref),J=L.getRefType(m.yref),Z=d.getDataToPixel(u,ne,!1,oe),se=d.getDataToPixel(u,he,!0,J);P=Z(m.x0),x=Z(m.x1),z=se(m.y0),_=se(m.y1)}var $=m.label.textangle;$==="auto"&&(m.type==="line"?$=i(P,z,x,_):$=0),o.call(function(ie){return ie.call(C.font,w).attr({}),n.convertToTspans(ie,u),ie});var ee=C.bBox(o.node()),le=a(P,z,x,_,m,$,ee),Q=le.textx,K=le.texty,ue=le.xanchor;o.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ue],y:K,x:Q,transform:"rotate("+$+","+Q+","+K+")"}).call(n.positionText,Q,K)}};function i(h,u,s,m){var f,S;return S=Math.abs(s-h),s>=h?f=u-m:f=m-u,-180/Math.PI*Math.atan2(f,S)}function a(h,u,s,m,f,S,v){var l=f.label.textposition,g=f.label.textangle,M=f.label.padding,A=f.type,k=Math.PI/180*S,w=Math.sin(k),E=Math.cos(k),b=f.label.xanchor,o=f.label.yanchor,P,x,z,_;if(A==="line"){l==="start"?(P=h,x=u):l==="end"?(P=s,x=m):(P=(h+s)/2,x=(u+m)/2),b==="auto"&&(l==="start"?g==="auto"?s>h?b="left":s<h?b="right":b="center":s>h?b="right":s<h?b="left":b="center":l==="end"?g==="auto"?s>h?b="right":s<h?b="left":b="center":s>h?b="left":s<h?b="right":b="center":b="center");var G={left:1,center:0,right:-1},F={bottom:-1,middle:0,top:1};if(g==="auto"){var N=F[o];z=-M*w*N,_=M*E*N}else{var U=G[b],O=F[o];z=M*U,_=M*O}P=P+z,x=x+_}else z=M+3,l.indexOf("right")!==-1?(P=Math.max(h,s)-z,b==="auto"&&(b="right")):l.indexOf("left")!==-1?(P=Math.min(h,s)+z,b==="auto"&&(b="left")):(P=(h+s)/2,b==="auto"&&(b="center")),l.indexOf("top")!==-1?x=Math.min(u,m):l.indexOf("bottom")!==-1?x=Math.max(u,m):x=(u+m)/2,_=M,o==="bottom"?x=x-_:o==="top"&&(x=x+_);var H=t[o],Y=f.label.font.size,q=v.height,ne=(q*H-Y)*w,oe=-(q*H-Y)*E;return{textx:P+ne,texty:x+oe,xanchor:b}}},42359:function(V,B,e){var p=e(71828),L=p.strTranslate,n=e(28569),C=e(64505),T=C.drawMode,d=C.selectMode,y=e(73972),r=e(7901),t=e(89995),i=t.i000,a=t.i090,h=t.i180,u=t.i270,s=e(51873),m=s.clearOutlineControllers,f=e(60165),S=f.pointsOnRectangle,v=f.pointsOnEllipse,l=f.writePaths,g=e(90551).newShapes,M=e(90551).createShapeObj,A=e(35855),k=e(48100);V.exports=function o(P,x,z,_){_||(_=0);var G=z.gd;function F(){o(P,x,z,_++),(v(P[0])||z.hasText)&&N({redrawing:!0})}function N(be){var Ce={};z.isActiveShape!==void 0&&(z.isActiveShape=!1,Ce=g(x,z)),z.isActiveSelection!==void 0&&(z.isActiveSelection=!1,Ce=A(x,z),G._fullLayout._reselect=!0),Object.keys(Ce).length&&y.call((be||{}).redrawing?"relayout":"_guiRelayout",G,Ce)}var U=G._fullLayout,O=U._zoomlayer,H=z.dragmode,Y=T(H),q=d(H);(Y||q)&&(G._fullLayout._outlining=!0),m(G),x.attr("d",l(P));var ne,oe,he,J,Z;if(!_&&(z.isActiveShape||z.isActiveSelection)){Z=w([],P);var se=O.append("g").attr("class","outline-controllers");ce(se),Ee()}if(Y&&z.hasText){var $=O.select(".label-temp"),ee=M(x,z,z.dragmode);k(G,"label-temp",ee,$)}function le(be){he=+be.srcElement.getAttribute("data-i"),J=+be.srcElement.getAttribute("data-j"),ne[he][J].moveFn=Q}function Q(be,Ce){if(P.length){var Ue=Z[he][J][1],He=Z[he][J][2],Ie=P[he],Ge=Ie.length;if(S(Ie)){var at=be,lt=Ce;if(z.isActiveSelection){var qe=E(Ie,J);qe[1]===Ie[J][1]?lt=0:at=0}for(var et=0;et<Ge;et++)if(et!==J){var ft=Ie[et];ft[1]===Ie[J][1]&&(ft[1]=Ue+at),ft[2]===Ie[J][2]&&(ft[2]=He+lt)}if(Ie[J][1]=Ue+at,Ie[J][2]=He+lt,!S(Ie))for(var dt=0;dt<Ge;dt++)for(var pt=0;pt<Ie[dt].length;pt++)Ie[dt][pt]=Z[he][dt][pt]}else Ie[J][1]=Ue+be,Ie[J][2]=He+Ce;F()}}function K(){N()}function ue(){if(P.length&&P[he]&&P[he].length){for(var be=[],Ce=0;Ce<P[he].length;Ce++)Ce!==J&&be.push(P[he][Ce]);be.length>1&&!(be.length===2&&be[1][0]==="Z")&&(J===0&&(be[0][0]="M"),P[he]=be,F(),N())}}function ie(be,Ce){if(be===2){he=+Ce.srcElement.getAttribute("data-i"),J=+Ce.srcElement.getAttribute("data-j");var Ue=P[he];!S(Ue)&&!v(Ue)&&ue()}}function ce(be){ne=[];for(var Ce=0;Ce<P.length;Ce++){var Ue=P[Ce],He=S(Ue),Ie=!He&&v(Ue);ne[Ce]=[];for(var Ge=Ue.length,at=0;at<Ge;at++)if(Ue[at][0]!=="Z"&&!(Ie&&at!==i&&at!==a&&at!==h&&at!==u)){var lt=He&&z.isActiveSelection,qe;lt&&(qe=E(Ue,at));var et=Ue[at][1],ft=Ue[at][2],dt=be.append(lt?"rect":"circle").attr("data-i",Ce).attr("data-j",at).style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(lt){var pt=qe[1]-et,At=qe[2]-ft,Pt=At?5:Math.max(Math.min(25,Math.abs(pt)-5),5),Ht=pt?5:Math.max(Math.min(25,Math.abs(At)-5),5);dt.classed(At?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Pt).attr("height",Ht).attr("x",et-Pt/2).attr("y",ft-Ht/2).attr("transform",L(pt/2,At/2))}else dt.classed("cursor-grab",!0).attr("r",5).attr("cx",et).attr("cy",ft);ne[Ce][at]={element:dt.node(),gd:G,prepFn:le,doneFn:K,clickFn:ie},n.init(ne[Ce][at])}}}function xe(be,Ce){if(P.length)for(var Ue=0;Ue<P.length;Ue++)for(var He=0;He<P[Ue].length;He++)for(var Ie=0;Ie+2<P[Ue][He].length;Ie+=2)P[Ue][He][Ie+1]=Z[Ue][He][Ie+1]+be,P[Ue][He][Ie+2]=Z[Ue][He][Ie+2]+Ce}function Le(be,Ce){xe(be,Ce),F()}function Ae(be){he=+be.srcElement.getAttribute("data-i"),he||(he=0),oe[he].moveFn=Le}function Oe(){N()}function ze(be){be===2&&b(G)}function Ee(){if(oe=[],!!P.length){var be=0;oe[be]={element:x[0][0],gd:G,prepFn:Ae,doneFn:Oe,clickFn:ze},n.init(oe[be])}}};function w(o,P){for(var x=0;x<P.length;x++){var z=P[x];o[x]=[];for(var _=0;_<z.length;_++){o[x][_]=[];for(var G=0;G<z[_].length;G++)o[x][_][G]=z[_][G]}}return o}function E(o,P){var x=o[P][1],z=o[P][2],_=o.length,G,F,N;return G=(P+1)%_,F=o[G][1],N=o[G][2],F===x&&N===z&&(G=(P+2)%_,F=o[G][1],N=o[G][2]),[G,F,N]}function b(o){if(d(o._fullLayout.dragmode)){m(o);var P=o._fullLayout._activeSelectionIndex,x=(o.layout||{}).selections||[];if(P<x.length){for(var z=[],_=0;_<x.length;_++)_!==P&&z.push(x[_]);delete o._fullLayout._activeSelectionIndex;var G=o._fullLayout.selections[P];o._fullLayout._deselect={xref:G.xref,yref:G.yref},y.call("_guiRelayout",o,{selections:z})}}}},34031:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=e(89298),T=e(60165).readPaths,d=e(42359),y=e(48100),r=e(51873).clearOutlineControllers,t=e(7901),i=e(91424),a=e(44467).arrayEditor,h=e(28569),u=e(6964),s=e(21459),m=e(30477),f=m.getPathString;V.exports={draw:S,drawOne:g,eraseActiveShape:b,drawLabel:y};function S(o){var P=o._fullLayout;P._shapeUpperLayer.selectAll("path").remove(),P._shapeLowerLayer.selectAll("path").remove(),P._shapeUpperLayer.selectAll("text").remove(),P._shapeLowerLayer.selectAll("text").remove();for(var x in P._plots){var z=P._plots[x].shapelayer;z&&(z.selectAll("path").remove(),z.selectAll("text").remove())}for(var _=0;_<P.shapes.length;_++)P.shapes[_].visible===!0&&g(o,_)}function v(o){return!!o._fullLayout._outlining}function l(o){return!o._context.edits.shapePosition}function g(o,P){o._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+P+'"]').remove();var x=m.makeShapesOptionsAndPlotinfo(o,P),z=x.options,_=x.plotinfo;if(!z._input||z.visible!==!0)return;if(z.layer!=="below")F(o._fullLayout._shapeUpperLayer);else if(z.xref==="paper"||z.yref==="paper")F(o._fullLayout._shapeLowerLayer);else if(_._hadPlotinfo){var G=_.mainplotinfo||_;F(G.shapelayer)}else F(o._fullLayout._shapeLowerLayer);function F(N){var U=f(o,z),O={"data-index":P,"fill-rule":z.fillrule,d:U},H=z.opacity,Y=z.fillcolor,q=z.line.width?z.line.color:"rgba(0,0,0,0)",ne=z.line.width,oe=z.line.dash;!ne&&z.editable===!0&&(ne=5,oe="solid");var he=U[U.length-1]!=="Z",J=l(o)&&z.editable&&o._fullLayout._activeShapeIndex===P;J&&(Y=he?"rgba(0,0,0,0)":o._fullLayout.activeshape.fillcolor,H=o._fullLayout.activeshape.opacity);var Z=N.append("g").classed("shape-group",!0).attr({"data-index":P}),se=Z.append("path").attr(O).style("opacity",H).call(t.stroke,q).call(t.fill,Y).call(i.dashLine,oe,ne);M(Z,o,z),y(o,P,z,Z);var $;if((J||o._context.edits.shapePosition)&&($=a(o.layout,"shapes",z)),J){se.style({cursor:"move"});var ee={element:se.node(),plotinfo:_,gd:o,editHelpers:$,hasText:z.label.text||z.label.texttemplate,isActiveShape:!0},le=T(U,o);d(le,se,ee)}else o._context.edits.shapePosition?A(o,se,z,P,N,$):z.editable===!0&&se.style("pointer-events",he||t.opacity(Y)*H<=.5?"stroke":"all");se.node().addEventListener("click",function(){return w(o,se)})}}function M(o,P,x){var z=(x.xref+x.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");i.setClipUrl(o,z?"clip"+P._fullLayout._uid+z:null,P)}function A(o,P,x,z,_,G){var F=10,N=10,U=x.xsizemode==="pixel",O=x.ysizemode==="pixel",H=x.type==="line",Y=x.type==="path",q=G.modifyItem,ne,oe,he,J,Z,se,$,ee,le,Q,K,ue,ie,ce,xe,Le=p.select(P.node().parentNode),Ae=C.getFromId(o,x.xref),Oe=C.getRefType(x.xref),ze=C.getFromId(o,x.yref),Ee=C.getRefType(x.yref),be=m.getDataToPixel(o,Ae,!1,Oe),Ce=m.getDataToPixel(o,ze,!0,Ee),Ue=m.getPixelToData(o,Ae,!1,Oe),He=m.getPixelToData(o,ze,!0,Ee),Ie=lt(),Ge={element:Ie.node(),gd:o,prepFn:ft,doneFn:dt,clickFn:pt},at;h.init(Ge),Ie.node().onmousemove=et;function lt(){return H?qe():P}function qe(){var _e=10,Ne=Math.max(x.line.width,_e),ke=_.append("g").attr("data-index",z).attr("drag-helper",!0);ke.append("path").attr("d",P.attr("d")).style({cursor:"move","stroke-width":Ne,"stroke-opacity":"0"});var we={"fill-opacity":"0"},me=Math.max(Ne/2,_e);return ke.append("circle").attr({"data-line-point":"start-point",cx:U?be(x.xanchor)+x.x0:be(x.x0),cy:O?Ce(x.yanchor)-x.y0:Ce(x.y0),r:me}).style(we).classed("cursor-grab",!0),ke.append("circle").attr({"data-line-point":"end-point",cx:U?be(x.xanchor)+x.x1:be(x.x1),cy:O?Ce(x.yanchor)-x.y1:Ce(x.y1),r:me}).style(we).classed("cursor-grab",!0),ke}function et(_e){if(v(o)){at=null;return}if(H)_e.target.tagName==="path"?at="move":at=_e.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Ne=Ge.element.getBoundingClientRect(),ke=Ne.right-Ne.left,we=Ne.bottom-Ne.top,me=_e.clientX-Ne.left,Me=_e.clientY-Ne.top,Se=!Y&&ke>F&&we>N&&!_e.shiftKey?h.getCursor(me/ke,1-Me/we):"move";u(P,Se),at=Se.split("-")[0]}}function ft(_e){v(o)||(U&&(Z=be(x.xanchor)),O&&(se=Ce(x.yanchor)),x.type==="path"?xe=x.path:(ne=U?x.x0:be(x.x0),oe=O?x.y0:Ce(x.y0),he=U?x.x1:be(x.x1),J=O?x.y1:Ce(x.y1)),ne<he?(le=ne,ie="x0",Q=he,ce="x1"):(le=he,ie="x1",Q=ne,ce="x0"),!O&&oe<J||O&&oe>J?($=oe,K="y0",ee=J,ue="y1"):($=J,K="y1",ee=oe,ue="y0"),et(_e),Ht(_,x),We(P,x,o),Ge.moveFn=at==="move"?At:Pt,Ge.altKey=_e.altKey)}function dt(){v(o)||(u(P),Je(_),M(P,o,x),L.call("_guiRelayout",o,G.getUpdateObj()))}function pt(){v(o)||Je(_)}function At(_e,Ne){if(x.type==="path"){var ke=function(Me){return Me},we=ke,me=ke;U?q("xanchor",x.xanchor=Ue(Z+_e)):(we=function(Se){return Ue(be(Se)+_e)},Ae&&Ae.type==="date"&&(we=m.encodeDate(we))),O?q("yanchor",x.yanchor=He(se+Ne)):(me=function(Se){return He(Ce(Se)+Ne)},ze&&ze.type==="date"&&(me=m.encodeDate(me))),q("path",x.path=k(xe,we,me))}else U?q("xanchor",x.xanchor=Ue(Z+_e)):(q("x0",x.x0=Ue(ne+_e)),q("x1",x.x1=Ue(he+_e))),O?q("yanchor",x.yanchor=He(se+Ne)):(q("y0",x.y0=He(oe+Ne)),q("y1",x.y1=He(J+Ne)));P.attr("d",f(o,x)),Ht(_,x),y(o,z,x,Le)}function Pt(_e,Ne){if(Y){var ke=function(yt){return yt},we=ke,me=ke;U?q("xanchor",x.xanchor=Ue(Z+_e)):(we=function(Zt){return Ue(be(Zt)+_e)},Ae&&Ae.type==="date"&&(we=m.encodeDate(we))),O?q("yanchor",x.yanchor=He(se+Ne)):(me=function(Zt){return He(Ce(Zt)+Ne)},ze&&ze.type==="date"&&(me=m.encodeDate(me))),q("path",x.path=k(xe,we,me))}else if(H){if(at==="resize-over-start-point"){var Me=ne+_e,Se=O?oe-Ne:oe+Ne;q("x0",x.x0=U?Me:Ue(Me)),q("y0",x.y0=O?Se:He(Se))}else if(at==="resize-over-end-point"){var Ve=he+_e,Ze=O?J-Ne:J+Ne;q("x1",x.x1=U?Ve:Ue(Ve)),q("y1",x.y1=O?Ze:He(Ze))}}else{var tt=function(yt){return at.indexOf(yt)!==-1},ct=tt("n"),gt=tt("s"),jt=tt("w"),Kt=tt("e"),Tt=ct?$+Ne:$,zt=gt?ee+Ne:ee,qt=jt?le+_e:le,Sr=Kt?Q+_e:Q;O&&(ct&&(Tt=$-Ne),gt&&(zt=ee-Ne)),(!O&&zt-Tt>N||O&&Tt-zt>N)&&(q(K,x[K]=O?Tt:He(Tt)),q(ue,x[ue]=O?zt:He(zt))),Sr-qt>F&&(q(ie,x[ie]=U?qt:Ue(qt)),q(ce,x[ce]=U?Sr:Ue(Sr)))}P.attr("d",f(o,x)),Ht(_,x),y(o,z,x,Le)}function Ht(_e,Ne){(U||O)&&ke();function ke(){var we=Ne.type!=="path",me=_e.selectAll(".visual-cue").data([0]),Me=1;me.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Me}).classed("visual-cue",!0);var Se=be(U?Ne.xanchor:n.midRange(we?[Ne.x0,Ne.x1]:m.extractPathCoords(Ne.path,s.paramIsX))),Ve=Ce(O?Ne.yanchor:n.midRange(we?[Ne.y0,Ne.y1]:m.extractPathCoords(Ne.path,s.paramIsY)));if(Se=m.roundPositionForSharpStrokeRendering(Se,Me),Ve=m.roundPositionForSharpStrokeRendering(Ve,Me),U&&O){var Ze="M"+(Se-1-Me)+","+(Ve-1-Me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";me.attr("d",Ze)}else if(U){var tt="M"+(Se-1-Me)+","+(Ve-9-Me)+"v18 h2 v-18 Z";me.attr("d",tt)}else{var ct="M"+(Se-9-Me)+","+(Ve-1-Me)+"h18 v2 h-18 Z";me.attr("d",ct)}}}function Je(_e){_e.selectAll(".visual-cue").remove()}function We(_e,Ne,ke){var we=Ne.xref,me=Ne.yref,Me=C.getFromId(ke,we),Se=C.getFromId(ke,me),Ve="";we!=="paper"&&!Me.autorange&&(Ve+=we),me!=="paper"&&!Se.autorange&&(Ve+=me),i.setClipUrl(_e,Ve?"clip"+ke._fullLayout._uid+Ve:null,ke)}}function k(o,P,x){return o.replace(s.segmentRE,function(z){var _=0,G=z.charAt(0),F=s.paramIsX[G],N=s.paramIsY[G],U=s.numParams[G],O=z.substr(1).replace(s.paramRE,function(H){return _>=U||(F[_]?H=P(H):N[_]&&(H=x(H)),_++),H});return G+O})}function w(o,P){if(l(o)){var x=P.node(),z=+x.getAttribute("data-index");if(z>=0){if(z===o._fullLayout._activeShapeIndex){E(o);return}o._fullLayout._activeShapeIndex=z,o._fullLayout._deactivateShape=E,S(o)}}}function E(o){if(l(o)){var P=o._fullLayout._activeShapeIndex;P>=0&&(r(o),delete o._fullLayout._activeShapeIndex,S(o))}}function b(o){if(l(o)){r(o);var P=o._fullLayout._activeShapeIndex,x=(o.layout||{}).shapes||[];if(P<x.length){for(var z=[],_=0;_<x.length;_++)_!==P&&z.push(x[_]);return delete o._fullLayout._activeShapeIndex,L.call("_guiRelayout",o,{shapes:z})}}}},29241:function(V,B,e){var p=e(30962).overrideAll,L=e(9012),n=e(41940),C=e(79952).P,T=e(1426).extendFlat,d=e(5386).R,y=e(37281);V.exports=p({newshape:{visible:T({},L.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:T({},L.legend,{}),legendgroup:T({},L.legendgroup,{}),legendgrouptitle:{text:T({},L.legendgrouptitle.text,{}),font:n({})},legendrank:T({},L.legendrank,{}),legendwidth:T({},L.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:T({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:T({},L.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(y)}),font:n({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(V){var B=32;V.exports={CIRCLE_SIDES:B,i000:0,i090:B/4,i180:B/2,i270:B/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(V,B,e){var p=e(7901),L=e(71828);function n(C,T){return C?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}V.exports=function(T,d,y){y("newshape.visible"),y("newshape.name"),y("newshape.showlegend"),y("newshape.legend"),y("newshape.legendwidth"),y("newshape.legendgroup"),y("newshape.legendgrouptitle.text"),L.coerceFont(y,"newshape.legendgrouptitle.font"),y("newshape.legendrank"),y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity");var r=y("newshape.line.width");if(r){var t=(T||{}).plot_bgcolor||"#FFF";y("newshape.line.color",p.contrast(t)),y("newshape.line.dash")}var i=T.dragmode==="drawline",a=y("newshape.label.text"),h=y("newshape.label.texttemplate");if(a||h){y("newshape.label.textangle");var u=y("newshape.label.textposition",i?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",n(i,u)),y("newshape.label.padding"),L.coerceFont(y,"newshape.label.font",d.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},60165:function(V,B,e){var p=e(95616),L=e(89995),n=L.CIRCLE_SIDES,C=L.SQRT2,T=e(75549),d=T.p2r,y=T.r2p,r=[0,3,4,5,6,1,2],t=[0,3,4,1,2];B.writePaths=function(h){var u=h.length;if(!u)return"M0,0Z";for(var s="",m=0;m<u;m++)for(var f=h[m].length,S=0;S<f;S++){var v=h[m][S][0];if(v==="Z")s+="Z";else for(var l=h[m][S].length,g=0;g<l;g++){var M=g;v==="Q"||v==="S"?M=t[g]:v==="C"&&(M=r[g]),s+=h[m][S][M],g>0&&g<l-1&&(s+=",")}}return s},B.readPaths=function(h,u,s,m){var f=p(h),S=[],v=-1,l=function(){v++,S[v]=[]},g,M=0,A=0,k,w,E=function(){k=M,w=A};E();for(var b=0;b<f.length;b++){var o=[],P,x,z,_,G=f[b][0],F=G;switch(G){case"M":l(),M=+f[b][1],A=+f[b][2],o.push([F,M,A]),E();break;case"Q":case"S":P=+f[b][1],z=+f[b][2],M=+f[b][3],A=+f[b][4],o.push([F,M,A,P,z]);break;case"C":P=+f[b][1],z=+f[b][2],x=+f[b][3],_=+f[b][4],M=+f[b][5],A=+f[b][6],o.push([F,M,A,P,z,x,_]);break;case"T":case"L":M=+f[b][1],A=+f[b][2],o.push([F,M,A]);break;case"H":F="L",M=+f[b][1],o.push([F,M,A]);break;case"V":F="L",A=+f[b][1],o.push([F,M,A]);break;case"A":F="L";var N=+f[b][1],U=+f[b][2];+f[b][4]||(N=-N,U=-U);var O=M-N,H=A;for(g=1;g<=n/2;g++){var Y=2*Math.PI*g/n;o.push([F,O+N*Math.cos(Y),H+U*Math.sin(Y)])}break;case"Z":(M!==k||A!==w)&&(M=k,A=w,o.push([F,M,A]));break}for(var q=(s||{}).domain,ne=u._fullLayout._size,oe=s&&s.xsizemode==="pixel",he=s&&s.ysizemode==="pixel",J=m===!1,Z=0;Z<o.length;Z++){for(g=0;g+2<7;g+=2){var se=o[Z][g+1],$=o[Z][g+2];se===void 0||$===void 0||(M=se,A=$,s&&(s.xaxis&&s.xaxis.p2r?(J&&(se-=s.xaxis._offset),oe?se=y(s.xaxis,s.xanchor)+se:se=d(s.xaxis,se)):(J&&(se-=ne.l),q?se=q.x[0]+se/ne.w:se=se/ne.w),s.yaxis&&s.yaxis.p2r?(J&&($-=s.yaxis._offset),he?$=y(s.yaxis,s.yanchor)-$:$=d(s.yaxis,$)):(J&&($-=ne.t),q?$=q.y[1]-$/ne.h:$=1-$/ne.h)),o[Z][g+1]=se,o[Z][g+2]=$)}S[v].push(o[Z].slice())}}return S};function i(h,u){return Math.abs(h-u)<=1e-6}function a(h,u){var s=u[1]-h[1],m=u[2]-h[2];return Math.sqrt(s*s+m*m)}B.pointsOnRectangle=function(h){var u=h.length;if(u!==5)return!1;for(var s=1;s<3;s++){var m=h[0][s]-h[1][s],f=h[3][s]-h[2][s];if(!i(m,f))return!1;var S=h[0][s]-h[3][s],v=h[1][s]-h[2][s];if(!i(S,v))return!1}return!i(h[0][1],h[1][1])&&!i(h[0][1],h[3][1])?!1:!!(a(h[0],h[1])*a(h[0],h[3]))},B.pointsOnEllipse=function(h){var u=h.length;if(u!==n+1)return!1;u=n;for(var s=0;s<u;s++){var m=(u*2-s)%u,f=(u/2+m)%u,S=(u/2+s)%u;if(!i(a(h[s],h[S]),a(h[m],h[f])))return!1}return!0},B.handleEllipse=function(h,u,s){if(!h)return[u,s];var m=B.ellipseOver({x0:u[0],y0:u[1],x1:s[0],y1:s[1]}),f=(m.x1+m.x0)/2,S=(m.y1+m.y0)/2,v=(m.x1-m.x0)/2,l=(m.y1-m.y0)/2;v||(v=l=l/C),l||(l=v=v/C);for(var g=[],M=0;M<n;M++){var A=M*2*Math.PI/n;g.push([f+v*Math.cos(A),S+l*Math.sin(A)])}return g},B.ellipseOver=function(h){var u=h.x0,s=h.y0,m=h.x1,f=h.y1,S=m-u,v=f-s;u-=S,s-=v;var l=(u+m)/2,g=(s+f)/2,M=C;return S*=M,v*=M,{x0:l-S,y0:g-v,x1:l+S,y1:g+v}},B.fixDatesForPaths=function(h,u,s){var m=u.type==="date",f=s.type==="date";if(!m&&!f)return h;for(var S=0;S<h.length;S++)for(var v=0;v<h[S].length;v++)for(var l=0;l+2<h[S][v].length;l+=2)m&&(h[S][v][l+1]=h[S][v][l+1].replace(" ","_")),f&&(h[S][v][l+2]=h[S][v][l+2].replace(" ","_"));return h}},90551:function(V,B,e){var p=e(64505),L=p.drawMode,n=p.openMode,C=e(89995),T=C.i000,d=C.i090,y=C.i180,r=C.i270,t=C.cos45,i=C.sin45,a=e(75549),h=a.p2r,u=a.r2p,s=e(51873),m=s.clearOutline,f=e(60165),S=f.readPaths,v=f.writePaths,l=f.ellipseOver,g=f.fixDatesForPaths;function M(k,w){if(k.length){var E=k[0][0];if(E){var b=w.gd,o=w.isActiveShape,P=w.dragmode,x=(b.layout||{}).shapes||[];if(!L(P)&&o!==void 0){var z=b._fullLayout._activeShapeIndex;if(z<x.length)switch(b._fullLayout.shapes[z].type){case"rect":P="drawrect";break;case"circle":P="drawcircle";break;case"line":P="drawline";break;case"path":var _=x[z].path||"";_[_.length-1]==="Z"?P="drawclosedpath":P="drawopenpath";break}}var G=A(k,w,P);m(b);for(var F=w.editHelpers,N=(F||{}).modifyItem,U=[],O=0;O<x.length;O++){var H=b._fullLayout.shapes[O];if(U[O]=H._input,o!==void 0&&O===b._fullLayout._activeShapeIndex){var Y=G;switch(H.type){case"line":case"rect":case"circle":N("x0",Y.x0),N("x1",Y.x1),N("y0",Y.y0),N("y1",Y.y1);break;case"path":N("path",Y.path);break}}}return o===void 0?(U.push(G),U):F?F.getUpdateObj():{}}}}function A(k,w,E){var b=k[0][0],o=w.gd,P=b.getAttribute("d"),x=o._fullLayout.newshape,z=w.plotinfo,_=w.isActiveShape,G=z.xaxis,F=z.yaxis,N=!!z.domain||!z.xaxis,U=!!z.domain||!z.yaxis,O=n(E),H=S(P,o,z,_),Y={editable:!0,visible:x.visible,name:x.name,showlegend:x.showlegend,legend:x.legend,legendwidth:x.legendwidth,legendgroup:x.legendgroup,legendgrouptitle:{text:x.legendgrouptitle.text,font:x.legendgrouptitle.font},legendrank:x.legendrank,label:x.label,xref:N?"paper":G._id,yref:U?"paper":F._id,layer:x.layer,opacity:x.opacity,line:{color:x.line.color,width:x.line.width,dash:x.line.dash}};O||(Y.fillcolor=x.fillcolor,Y.fillrule=x.fillrule);var q;if(H.length===1&&(q=H[0]),q&&q.length===5&&E==="drawrect")Y.type="rect",Y.x0=q[0][1],Y.y0=q[0][2],Y.x1=q[2][1],Y.y1=q[2][2];else if(q&&E==="drawline")Y.type="line",Y.x0=q[0][1],Y.y0=q[0][2],Y.x1=q[1][1],Y.y1=q[1][2];else if(q&&E==="drawcircle"){Y.type="circle";var ne=q[T][1],oe=q[d][1],he=q[y][1],J=q[r][1],Z=q[T][2],se=q[d][2],$=q[y][2],ee=q[r][2],le=z.xaxis&&(z.xaxis.type==="date"||z.xaxis.type==="log"),Q=z.yaxis&&(z.yaxis.type==="date"||z.yaxis.type==="log");le&&(ne=u(z.xaxis,ne),oe=u(z.xaxis,oe),he=u(z.xaxis,he),J=u(z.xaxis,J)),Q&&(Z=u(z.yaxis,Z),se=u(z.yaxis,se),$=u(z.yaxis,$),ee=u(z.yaxis,ee));var K=(oe+J)/2,ue=(Z+$)/2,ie=(J-oe+he-ne)/2,ce=(ee-se+$-Z)/2,xe=l({x0:K,y0:ue,x1:K+ie*t,y1:ue+ce*i});le&&(xe.x0=h(z.xaxis,xe.x0),xe.x1=h(z.xaxis,xe.x1)),Q&&(xe.y0=h(z.yaxis,xe.y0),xe.y1=h(z.yaxis,xe.y1)),Y.x0=xe.x0,Y.y0=xe.y0,Y.x1=xe.x1,Y.y1=xe.y1}else Y.type="path",G&&F&&g(H,G,F),Y.path=v(H),q=null;return Y}V.exports={newShapes:M,createShapeObj:A}},51873:function(V){function B(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}V.exports={clearOutlineControllers:B,clearOutline:e}},30477:function(V,B,e){var p=e(21459),L=e(71828),n=e(89298);B.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(d){return d}},B.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(d){return d}},B.decodeDate=function(T){return function(d){return d.replace&&(d=d.replace("_"," ")),T(d)}},B.encodeDate=function(T){return function(d){return T(d).replace(" ","_")}},B.extractPathCoords=function(T,d,y){var r=[],t=T.match(p.segmentRE);return t.forEach(function(i){var a=d[i.charAt(0)].drawn;if(a!==void 0){var h=i.substr(1).match(p.paramRE);if(!(!h||h.length<a)){var u=h[a],s=y?u:L.cleanNumber(u);r.push(s)}}}),r},B.getDataToPixel=function(T,d,y,r){var t=T._fullLayout._size,i;if(d)if(r==="domain")i=function(h){return d._length*(y?1-h:h)+d._offset};else{var a=B.shapePositionToRange(d);i=function(h){return d._offset+d.r2p(a(h,!0))},d.type==="date"&&(i=B.decodeDate(i))}else y?i=function(h){return t.t+t.h*(1-h)}:i=function(h){return t.l+t.w*h};return i},B.getPixelToData=function(T,d,y,r){var t=T._fullLayout._size,i;if(d)if(r==="domain")i=function(h){var u=(h-d._offset)/d._length;return y?1-u:u};else{var a=B.rangeToShapePosition(d);i=function(h){return a(d.p2r(h-d._offset))}}else y?i=function(h){return 1-(h-t.t)/t.h}:i=function(h){return(h-t.l)/t.w};return i},B.roundPositionForSharpStrokeRendering=function(T,d){var y=Math.round(d%2)===1,r=Math.round(T);return y?r+.5:r},B.makeShapesOptionsAndPlotinfo=function(T,d){var y=T._fullLayout.shapes[d]||{},r=T._fullLayout._plots[y.xref+y.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},y.xref&&y.xref!=="paper"&&(r.xaxis=T._fullLayout[y.xref+"axis"]),y.yref&&y.yref!=="paper"&&(r.yaxis=T._fullLayout[y.yref+"axis"])),r.xsizemode=y.xsizemode,r.ysizemode=y.ysizemode,r.xanchor=y.xanchor,r.yanchor=y.yanchor,{options:y,plotinfo:r}},B.makeSelectionsOptionsAndPlotinfo=function(T,d){var y=T._fullLayout.selections[d]||{},r=T._fullLayout._plots[y.xref+y.yref],t=!!r;return t?r._hadPlotinfo=!0:(r={},y.xref&&(r.xaxis=T._fullLayout[y.xref+"axis"]),y.yref&&(r.yaxis=T._fullLayout[y.yref+"axis"])),{options:y,plotinfo:r}},B.getPathString=function(T,d){var y=d.type,r=n.getRefType(d.xref),t=n.getRefType(d.yref),i=n.getFromId(T,d.xref),a=n.getFromId(T,d.yref),h=T._fullLayout._size,u,s,m,f,S,v,l,g;if(i?r==="domain"?s=function(z){return i._offset+i._length*z}:(u=B.shapePositionToRange(i),s=function(z){return i._offset+i.r2p(u(z,!0))}):s=function(z){return h.l+h.w*z},a?t==="domain"?f=function(z){return a._offset+a._length*(1-z)}:(m=B.shapePositionToRange(a),f=function(z){return a._offset+a.r2p(m(z,!0))}):f=function(z){return h.t+h.h*(1-z)},y==="path")return i&&i.type==="date"&&(s=B.decodeDate(s)),a&&a.type==="date"&&(f=B.decodeDate(f)),C(d,s,f);if(d.xsizemode==="pixel"){var M=s(d.xanchor);S=M+d.x0,v=M+d.x1}else S=s(d.x0),v=s(d.x1);if(d.ysizemode==="pixel"){var A=f(d.yanchor);l=A-d.y0,g=A-d.y1}else l=f(d.y0),g=f(d.y1);if(y==="line")return"M"+S+","+l+"L"+v+","+g;if(y==="rect")return"M"+S+","+l+"H"+v+"V"+g+"H"+S+"Z";var k=(S+v)/2,w=(l+g)/2,E=Math.abs(k-S),b=Math.abs(w-l),o="A"+E+","+b,P=k+E+","+w,x=k+","+(w-b);return"M"+P+o+" 0 1,1 "+x+o+" 0 0,1 "+P+"Z"};function C(T,d,y){var r=T.path,t=T.xsizemode,i=T.ysizemode,a=T.xanchor,h=T.yanchor;return r.replace(p.segmentRE,function(u){var s=0,m=u.charAt(0),f=p.paramIsX[m],S=p.paramIsY[m],v=p.numParams[m],l=u.substr(1).replace(p.paramRE,function(g){return f[s]?t==="pixel"?g=d(a)+Number(g):g=d(g):S[s]&&(i==="pixel"?g=y(h)-Number(g):g=y(g)),s++,s>v&&(g="X"),g});return s>v&&(l=l.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+u)),m+l})}},89853:function(V,B,e){var p=e(34031);V.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:p.draw,drawOne:p.drawOne}},37281:function(V){function B(u,s){return s?s.d2l(u):u}function e(u,s){return s?s.l2d(u):u}function p(u){return u.x0}function L(u){return u.x1}function n(u){return u.y0}function C(u){return u.y1}function T(u,s){return B(u.x1,s)-B(u.x0,s)}function d(u,s,m){return B(u.y1,m)-B(u.y0,m)}function y(u,s){return Math.abs(T(u,s))}function r(u,s,m){return Math.abs(d(u,s,m))}function t(u,s,m){return u.type!=="line"?void 0:Math.sqrt(Math.pow(T(u,s),2)+Math.pow(d(u,s,m),2))}function i(u,s){return e((B(u.x1,s)+B(u.x0,s))/2,s)}function a(u,s,m){return e((B(u.y1,m)+B(u.y0,m))/2,m)}function h(u,s,m){return u.type!=="line"?void 0:d(u,s,m)/T(u,s)}V.exports={x0:p,x1:L,y0:n,y1:C,slope:h,dx:T,dy:d,width:y,height:r,length:t,xcenter:i,ycenter:a}},75067:function(V,B,e){var p=e(41940),L=e(35025),n=e(1426).extendDeepAll,C=e(30962).overrideAll,T=e(85594),d=e(44467).templatedArray,y=e(98292),r=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});V.exports=C(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:r,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:y.gripBgActiveColor},bgcolor:{valType:"color",dflt:y.railBgColor},bordercolor:{valType:"color",dflt:y.railBorderColor},borderwidth:{valType:"number",min:0,dflt:y.railBorderWidth},ticklen:{valType:"number",min:0,dflt:y.tickLength},tickcolor:{valType:"color",dflt:y.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:y.minorTickLength}}),"arraydraw","from-root")},98292:function(V){V.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(V,B,e){var p=e(71828),L=e(85501),n=e(75067),C=e(98292),T=C.name,d=n.steps;V.exports=function(i,a){L(i,a,{name:T,handleItemDefaults:y})};function y(t,i,a){function h(g,M){return p.coerce(t,i,n,g,M)}for(var u=L(t,i,{name:"steps",handleItemDefaults:r}),s=0,m=0;m<u.length;m++)u[m].visible&&s++;var f;if(s<2?f=i.visible=!1:f=h("visible"),!!f){i._stepCount=s;var S=i._visibleSteps=p.filterVisible(u),v=h("active");(u[v]||{}).visible||(i.active=S[0]._index),h("x"),h("y"),p.noneOrAll(t,i,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),p.coerceFont(h,"font",a.font);var l=h("currentvalue.visible");l&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),p.coerceFont(h,"currentvalue.font",i.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function r(t,i){function a(s,m){return p.coerce(t,i,d,s,m)}var h;if(t.method!=="skip"&&!Array.isArray(t.args)?h=i.visible=!1:h=a("visible"),h){a("method"),a("args");var u=a("label","step-"+i._index);a("value",u),a("execute")}}},44504:function(V,B,e){var p=e(39898),L=e(74875),n=e(7901),C=e(91424),T=e(71828),d=T.strTranslate,y=e(63893),r=e(44467).arrayEditor,t=e(98292),i=e(18783),a=i.LINE_SPACING,h=i.FROM_TL,u=i.FROM_BR;V.exports=function(N){var U=N._context.staticPlot,O=N._fullLayout,H=m(O,N),Y=O._infolayer.selectAll("g."+t.containerClassName).data(H.length>0?[0]:[]);Y.enter().append("g").classed(t.containerClassName,!0).style("cursor",U?null:"ew-resize");function q(J){J._commandObserver&&(J._commandObserver.remove(),delete J._commandObserver),L.autoMargin(N,s(J))}if(Y.exit().each(function(){p.select(this).selectAll("g."+t.groupClassName).each(q)}).remove(),H.length!==0){var ne=Y.selectAll("g."+t.groupClassName).data(H,f);ne.enter().append("g").classed(t.groupClassName,!0),ne.exit().each(q).remove();for(var oe=0;oe<H.length;oe++){var he=H[oe];S(N,he)}ne.each(function(J){var Z=p.select(this);o(J),L.manageCommandObserver(N,J,J._visibleSteps,function(se){var $=Z.data()[0];$.active!==se.index&&($._dragging||w(N,Z,$,se.index,!1,!0))}),v(N,p.select(this),J)})}};function s(F){return t.autoMarginIdRoot+F._index}function m(F,N){for(var U=F[t.name],O=[],H=0;H<U.length;H++){var Y=U[H];Y.visible&&(Y._gd=N,O.push(Y))}return O}function f(F){return F._index}function S(F,N){var U=C.tester.selectAll("g."+t.labelGroupClass).data(N._visibleSteps);U.enter().append("g").classed(t.labelGroupClass,!0);var O=0,H=0;U.each(function(ee){var le=p.select(this),Q=M(le,{step:ee},N),K=Q.node();if(K){var ue=C.bBox(K);H=Math.max(H,ue.height),O=Math.max(O,ue.width)}}),U.remove();var Y=N._dims={};Y.inputAreaWidth=Math.max(t.railWidth,t.gripHeight);var q=F._fullLayout._size;Y.lx=q.l+q.w*N.x,Y.ly=q.t+q.h*(1-N.y),N.lenmode==="fraction"?Y.outerLength=Math.round(q.w*N.len):Y.outerLength=N.len,Y.inputAreaStart=0,Y.inputAreaLength=Math.round(Y.outerLength-N.pad.l-N.pad.r);var ne=Y.inputAreaLength-2*t.stepInset,oe=ne/(N._stepCount-1),he=O+t.labelPadding;if(Y.labelStride=Math.max(1,Math.ceil(he/oe)),Y.labelHeight=H,Y.currentValueMaxWidth=0,Y.currentValueHeight=0,Y.currentValueTotalHeight=0,Y.currentValueMaxLines=1,N.currentvalue.visible){var J=C.tester.append("g");U.each(function(ee){var le=l(J,N,ee.label),Q=le.node()&&C.bBox(le.node())||{width:0,height:0},K=y.lineCount(le);Y.currentValueMaxWidth=Math.max(Y.currentValueMaxWidth,Math.ceil(Q.width)),Y.currentValueHeight=Math.max(Y.currentValueHeight,Math.ceil(Q.height)),Y.currentValueMaxLines=Math.max(Y.currentValueMaxLines,K)}),Y.currentValueTotalHeight=Y.currentValueHeight+N.currentvalue.offset,J.remove()}Y.height=Y.currentValueTotalHeight+t.tickOffset+N.ticklen+t.labelOffset+Y.labelHeight+N.pad.t+N.pad.b;var Z="left";T.isRightAnchor(N)&&(Y.lx-=Y.outerLength,Z="right"),T.isCenterAnchor(N)&&(Y.lx-=Y.outerLength/2,Z="center");var se="top";T.isBottomAnchor(N)&&(Y.ly-=Y.height,se="bottom"),T.isMiddleAnchor(N)&&(Y.ly-=Y.height/2,se="middle"),Y.outerLength=Math.ceil(Y.outerLength),Y.height=Math.ceil(Y.height),Y.lx=Math.round(Y.lx),Y.ly=Math.round(Y.ly);var $={y:N.y,b:Y.height*u[se],t:Y.height*h[se]};N.lenmode==="fraction"?($.l=0,$.xl=N.x-N.len*h[Z],$.r=0,$.xr=N.x+N.len*u[Z]):($.x=N.x,$.l=Y.outerLength*h[Z],$.r=Y.outerLength*u[Z]),L.autoMargin(F,s(N),$)}function v(F,N,U){(U.steps[U.active]||{}).visible||(U.active=U._visibleSteps[0]._index),N.call(l,U).call(G,U).call(A,U).call(b,U).call(_,F,U).call(g,F,U);var O=U._dims;C.setTranslate(N,O.lx+U.pad.l,O.ly+U.pad.t),N.call(P,U,!1),N.call(l,U)}function l(F,N,U){if(N.currentvalue.visible){var O=N._dims,H,Y;switch(N.currentvalue.xanchor){case"right":H=O.inputAreaLength-t.currentValueInset-O.currentValueMaxWidth,Y="left";break;case"center":H=O.inputAreaLength*.5,Y="middle";break;default:H=t.currentValueInset,Y="left"}var q=T.ensureSingle(F,"text",t.labelClass,function(se){se.attr({"text-anchor":Y,"data-notex":1})}),ne=N.currentvalue.prefix?N.currentvalue.prefix:"";if(typeof U=="string")ne+=U;else{var oe=N.steps[N.active].label,he=N._gd._fullLayout._meta;he&&(oe=T.templateString(oe,he)),ne+=oe}N.currentvalue.suffix&&(ne+=N.currentvalue.suffix),q.call(C.font,N.currentvalue.font).text(ne).call(y.convertToTspans,N._gd);var J=y.lineCount(q),Z=(O.currentValueMaxLines+1-J)*N.currentvalue.font.size*a;return y.positionText(q,H,Z),q}}function g(F,N,U){var O=T.ensureSingle(F,"rect",t.gripRectClass,function(H){H.call(E,N,F,U).style("pointer-events","all")});O.attr({width:t.gripWidth,height:t.gripHeight,rx:t.gripRadius,ry:t.gripRadius}).call(n.stroke,U.bordercolor).call(n.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function M(F,N,U){var O=T.ensureSingle(F,"text",t.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),H=N.step.label,Y=U._gd._fullLayout._meta;return Y&&(H=T.templateString(H,Y)),O.call(C.font,U.font).text(H).call(y.convertToTspans,U._gd),O}function A(F,N){var U=T.ensureSingle(F,"g",t.labelsClass),O=N._dims,H=U.selectAll("g."+t.labelGroupClass).data(O.labelSteps);H.enter().append("g").classed(t.labelGroupClass,!0),H.exit().remove(),H.each(function(Y){var q=p.select(this);q.call(M,Y,N),C.setTranslate(q,x(N,Y.fraction),t.tickOffset+N.ticklen+N.font.size*a+t.labelOffset+O.currentValueTotalHeight)})}function k(F,N,U,O,H){var Y=Math.round(O*(U._stepCount-1)),q=U._visibleSteps[Y]._index;q!==U.active&&w(F,N,U,q,!0,H)}function w(F,N,U,O,H,Y){var q=U.active;U.active=O,r(F.layout,t.name,U).applyUpdate("active",O);var ne=U.steps[U.active];N.call(P,U,Y),N.call(l,U),F.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:H,previousActive:q}),ne&&ne.method&&H&&(N._nextMethod?(N._nextMethod.step=ne,N._nextMethod.doCallback=H,N._nextMethod.doTransition=Y):(N._nextMethod={step:ne,doCallback:H,doTransition:Y},N._nextMethodRaf=window.requestAnimationFrame(function(){var oe=N._nextMethod.step;oe.method&&(oe.execute&&L.executeAPICommand(F,oe.method,oe.args),N._nextMethod=null,N._nextMethodRaf=null)})))}function E(F,N,U){if(N._context.staticPlot)return;var O=U.node(),H=p.select(N);function Y(){return U.data()[0]}function q(){var ne=Y();N.emit("plotly_sliderstart",{slider:ne});var oe=U.select("."+t.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),oe.call(n.fill,ne.activebgcolor);var he=z(ne,p.mouse(O)[0]);k(N,U,ne,he,!0),ne._dragging=!0;function J(){var se=Y(),$=z(se,p.mouse(O)[0]);k(N,U,se,$,!1)}H.on("mousemove",J),H.on("touchmove",J);function Z(){var se=Y();se._dragging=!1,oe.call(n.fill,se.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),N.emit("plotly_sliderend",{slider:se,step:se.steps[se.active]})}H.on("mouseup",Z),H.on("touchend",Z)}F.on("mousedown",q),F.on("touchstart",q)}function b(F,N){var U=F.selectAll("rect."+t.tickRectClass).data(N._visibleSteps),O=N._dims;U.enter().append("rect").classed(t.tickRectClass,!0),U.exit().remove(),U.attr({width:N.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(H,Y){var q=Y%O.labelStride===0,ne=p.select(this);ne.attr({height:q?N.ticklen:N.minorticklen}).call(n.fill,N.tickcolor),C.setTranslate(ne,x(N,Y/(N._stepCount-1))-.5*N.tickwidth,(q?t.tickOffset:t.minorTickOffset)+O.currentValueTotalHeight)})}function o(F){var N=F._dims;N.labelSteps=[];for(var U=F._stepCount,O=0;O<U;O+=N.labelStride)N.labelSteps.push({fraction:O/(U-1),step:F._visibleSteps[O]})}function P(F,N,U){for(var O=F.select("rect."+t.gripRectClass),H=0,Y=0;Y<N._stepCount;Y++)if(N._visibleSteps[Y]._index===N.active){H=Y;break}var q=x(N,H/(N._stepCount-1));if(!N._invokingCommand){var ne=O;U&&N.transition.duration>0&&(ne=ne.transition().duration(N.transition.duration).ease(N.transition.easing)),ne.attr("transform",d(q-t.gripWidth*.5,N._dims.currentValueTotalHeight))}}function x(F,N){var U=F._dims;return U.inputAreaStart+t.stepInset+(U.inputAreaLength-2*t.stepInset)*Math.min(1,Math.max(0,N))}function z(F,N){var U=F._dims;return Math.min(1,Math.max(0,(N-t.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*t.stepInset-2*U.inputAreaStart)))}function _(F,N,U){var O=U._dims,H=T.ensureSingle(F,"rect",t.railTouchRectClass,function(Y){Y.call(E,N,F,U).style("pointer-events","all")});H.attr({width:O.inputAreaLength,height:Math.max(O.inputAreaWidth,t.tickOffset+U.ticklen+O.labelHeight)}).call(n.fill,U.bgcolor).attr("opacity",0),C.setTranslate(H,0,O.currentValueTotalHeight)}function G(F,N){var U=N._dims,O=U.inputAreaLength-t.railInset*2,H=T.ensureSingle(F,"rect",t.railRectClass);H.attr({width:O,height:t.railWidth,rx:t.railRadius,ry:t.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,N.bordercolor).call(n.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px"),C.setTranslate(H,t.railInset,(U.inputAreaWidth-t.railWidth)*.5+U.currentValueTotalHeight)}},23243:function(V,B,e){var p=e(98292);V.exports={moduleType:"component",name:p.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(V,B,e){var p=e(39898),L=e(92770),n=e(74875),C=e(73972),T=e(71828),d=T.strTranslate,y=e(91424),r=e(7901),t=e(63893),i=e(37822),a=e(18783).OPPOSITE_SIDE,h=/ [XY][0-9]* /;function u(s,m,f){var S=f.propContainer,v=f.propName,l=f.placeholder,g=f.traceIndex,M=f.avoid||{},A=f.attributes,k=f.transform,w=f.containerGroup,E=s._fullLayout,b=1,o=!1,P=S.title,x=(P&&P.text?P.text:"").trim(),z=P&&P.font?P.font:{},_=z.family,G=z.size,F=z.color,N;v==="title.text"?N="titleText":v.indexOf("axis")!==-1?N="axisTitleText":v.indexOf("colorbar"!==-1)&&(N="colorbarTitleText");var U=s._context.edits[N];x===""?b=0:x.replace(h," % ")===l.replace(h," % ")&&(b=.2,o=!0,U||(x="")),f._meta?x=T.templateString(x,f._meta):E._meta&&(x=T.templateString(x,E._meta));var O=x||U,H;w||(w=T.ensureSingle(E._infolayer,"g","g-"+m),H=E._hColorbarMoveTitle);var Y=w.selectAll("text").data(O?[0]:[]);if(Y.enter().append("text"),Y.text(x).attr("class",m),Y.exit().remove(),!O)return w;function q(J){T.syncOrAsync([ne,oe],J)}function ne(J){var Z;return!k&&H&&(k={}),k?(Z="",k.rotate&&(Z+="rotate("+[k.rotate,A.x,A.y]+")"),(k.offset||H)&&(Z+=d(0,(k.offset||0)-(H||0)))):Z=null,J.attr("transform",Z),J.style({"font-family":_,"font-size":p.round(G,2)+"px",fill:r.rgb(F),opacity:b*r.opacity(F),"font-weight":n.fontWeight}).attr(A).call(t.convertToTspans,s),n.previousPromises(s)}function oe(J){var Z=p.select(J.node().parentNode);if(M&&M.selection&&M.side&&x){Z.attr("transform",null);var se=a[M.side],$=M.side==="left"||M.side==="top"?-1:1,ee=L(M.pad)?M.pad:2,le=y.bBox(Z.node()),Q={t:0,b:0,l:0,r:0},K=s._fullLayout._reservedMargin;for(var ue in K)for(var ie in K[ue]){var ce=K[ue][ie];Q[ie]=Math.max(Q[ie],ce)}var xe={left:Q.l,top:Q.t,right:E.width-Q.r,bottom:E.height-Q.b},Le=M.maxShift||$*(xe[M.side]-le[M.side]),Ae=0;if(Le<0)Ae=Le;else{var Oe=M.offsetLeft||0,ze=M.offsetTop||0;le.left-=Oe,le.right-=Oe,le.top-=ze,le.bottom-=ze,M.selection.each(function(){var be=y.bBox(this);T.bBoxIntersect(le,be,ee)&&(Ae=Math.max(Ae,$*(be[M.side]-le[se])+ee))}),Ae=Math.min(Le,Ae),S._titleScoot=Math.abs(Ae)}if(Ae>0||Le<0){var Ee={left:[-Ae,0],right:[Ae,0],top:[0,-Ae],bottom:[0,Ae]}[M.side];Z.attr("transform",d(Ee[0],Ee[1]))}}}Y.call(q);function he(){b=0,o=!0,Y.text(l).on("mouseover.opacity",function(){p.select(this).transition().duration(i.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(i.HIDE_PLACEHOLDER).style("opacity",0)})}return U&&(x?Y.on(".opacity",null):he(),Y.call(t.makeEditable,{gd:s}).on("edit",function(J){g!==void 0?C.call("_guiRestyle",s,v,J,g):C.call("_guiRelayout",s,v,J)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(J){this.text(J||" ").call(t.positionText,A.x,A.y)})),Y.classed("js-placeholder",o),w}V.exports={draw:u}},7163:function(V,B,e){var p=e(41940),L=e(22399),n=e(1426).extendFlat,C=e(30962).overrideAll,T=e(35025),d=e(44467).templatedArray,y=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});V.exports=C(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:y,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(T({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(V){V.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(V,B,e){var p=e(71828),L=e(85501),n=e(7163),C=e(75909),T=C.name,d=n.buttons;V.exports=function(i,a){var h={name:T,handleItemDefaults:y};L(i,a,h)};function y(t,i,a){function h(m,f){return p.coerce(t,i,n,m,f)}var u=L(t,i,{name:"buttons",handleItemDefaults:r}),s=h("visible",u.length>0);s&&(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),p.noneOrAll(t,i,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),p.coerceFont(h,"font",a.font),h("bgcolor",a.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function r(t,i){function a(u,s){return p.coerce(t,i,d,u,s)}var h=a("visible",t.method==="skip"||Array.isArray(t.args));h&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}},13689:function(V,B,e){var p=e(39898),L=e(74875),n=e(7901),C=e(91424),T=e(71828),d=e(63893),y=e(44467).arrayEditor,r=e(18783).LINE_SPACING,t=e(75909),i=e(25849);V.exports=function(z){var _=z._fullLayout,G=T.filterVisible(_[t.name]);function F(oe){L.autoMargin(z,b(oe))}var N=_._menulayer.selectAll("g."+t.containerClassName).data(G.length>0?[0]:[]);if(N.enter().append("g").classed(t.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){p.select(this).selectAll("g."+t.headerGroupClassName).each(F)}).remove(),G.length!==0){var U=N.selectAll("g."+t.headerGroupClassName).data(G,a);U.enter().append("g").classed(t.headerGroupClassName,!0);for(var O=T.ensureSingle(N,"g",t.dropdownButtonGroupClassName,function(oe){oe.style("pointer-events","all")}),H=0;H<G.length;H++){var Y=G[H];E(z,Y)}var q="updatemenus"+_._uid,ne=new i(z,O,q);U.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(P)),U.exit().each(function(oe){O.call(P),F(oe)}).remove(),U.each(function(oe){var he=p.select(this),J=oe.type==="dropdown"?O:null;L.manageCommandObserver(z,oe,oe.buttons,function(Z){s(z,oe,oe.buttons[Z.index],he,J,ne,Z.index,!0)}),oe.type==="dropdown"?(m(z,he,O,ne,oe),u(O,oe)&&f(z,he,O,ne,oe)):f(z,he,null,null,oe)})}};function a(x){return x._index}function h(x){return+x.attr(t.menuIndexAttrName)==-1}function u(x,z){return+x.attr(t.menuIndexAttrName)===z._index}function s(x,z,_,G,F,N,U,O){z.active=U,y(x.layout,t.name,z).applyUpdate("active",U),z.type==="buttons"?f(x,G,null,null,z):z.type==="dropdown"&&(F.attr(t.menuIndexAttrName,"-1"),m(x,G,F,N,z),O||f(x,G,F,N,z))}function m(x,z,_,G,F){var N=T.ensureSingle(z,"g",t.headerClassName,function(oe){oe.style("pointer-events","all")}),U=F._dims,O=F.active,H=F.buttons[O]||t.blankHeaderOpts,Y={y:F.pad.t,yPad:0,x:F.pad.l,xPad:0,index:0},q={width:U.headerWidth,height:U.headerHeight};N.call(l,F,H,x).call(o,F,Y,q);var ne=T.ensureSingle(z,"text",t.headerArrowClassName,function(oe){oe.attr("text-anchor","end").call(C.font,F.font).text(t.arrowSymbol[F.direction])});ne.attr({x:U.headerWidth-t.arrowOffsetX+F.pad.l,y:U.headerHeight/2+t.textOffsetY+F.pad.t}),N.on("click",function(){_.call(P,String(u(_,F)?-1:F._index)),f(x,z,_,G,F)}),N.on("mouseover",function(){N.call(k)}),N.on("mouseout",function(){N.call(w,F)}),C.setTranslate(z,U.lx,U.ly)}function f(x,z,_,G,F){_||(_=z,_.attr("pointer-events","all"));var N=!h(_)||F.type==="buttons"?F.buttons:[],U=F.type==="dropdown"?t.dropdownButtonClassName:t.buttonClassName,O=_.selectAll("g."+U).data(T.filterVisible(N)),H=O.enter().append("g").classed(U,!0),Y=O.exit();F.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),Y.transition().attr("opacity","0").remove()):Y.remove();var q=0,ne=0,oe=F._dims,he=["up","down"].indexOf(F.direction)!==-1;F.type==="dropdown"&&(he?ne=oe.headerHeight+t.gapButtonHeader:q=oe.headerWidth+t.gapButtonHeader),F.type==="dropdown"&&F.direction==="up"&&(ne=-t.gapButtonHeader+t.gapButton-oe.openHeight),F.type==="dropdown"&&F.direction==="left"&&(q=-t.gapButtonHeader+t.gapButton-oe.openWidth);var J={x:oe.lx+q+F.pad.l,y:oe.ly+ne+F.pad.t,yPad:t.gapButton,xPad:t.gapButton,index:0},Z={l:J.x+F.borderwidth,t:J.y+F.borderwidth};O.each(function(se,$){var ee=p.select(this);ee.call(l,F,se,x).call(o,F,J),ee.on("click",function(){p.event.defaultPrevented||(se.execute&&(se.args2&&F.active===$?(s(x,F,se,z,_,G,-1),L.executeAPICommand(x,se.method,se.args2)):(s(x,F,se,z,_,G,$),L.executeAPICommand(x,se.method,se.args))),x.emit("plotly_buttonclicked",{menu:F,button:se,active:F.active}))}),ee.on("mouseover",function(){ee.call(k)}),ee.on("mouseout",function(){ee.call(w,F),O.call(A,F)})}),O.call(A,F),he?(Z.w=Math.max(oe.openWidth,oe.headerWidth),Z.h=J.y-Z.t):(Z.w=J.x-Z.l,Z.h=Math.max(oe.openHeight,oe.headerHeight)),Z.direction=F.direction,G&&(O.size()?S(x,z,_,G,F,Z):v(G))}function S(x,z,_,G,F,N){var U=F.direction,O=U==="up"||U==="down",H=F._dims,Y=F.active,q,ne,oe;if(O)for(ne=0,oe=0;oe<Y;oe++)ne+=H.heights[oe]+t.gapButton;else for(q=0,oe=0;oe<Y;oe++)q+=H.widths[oe]+t.gapButton;G.enable(N,q,ne),G.hbar&&G.hbar.attr("opacity","0").transition().attr("opacity","1"),G.vbar&&G.vbar.attr("opacity","0").transition().attr("opacity","1")}function v(x){var z=!!x.hbar,_=!!x.vbar;z&&x.hbar.transition().attr("opacity","0").each("end",function(){z=!1,_||x.disable()}),_&&x.vbar.transition().attr("opacity","0").each("end",function(){_=!1,z||x.disable()})}function l(x,z,_,G){x.call(g,z).call(M,z,_,G)}function g(x,z){var _=T.ensureSingle(x,"rect",t.itemRectClassName,function(G){G.attr({rx:t.rx,ry:t.ry,"shape-rendering":"crispEdges"})});_.call(n.stroke,z.bordercolor).call(n.fill,z.bgcolor).style("stroke-width",z.borderwidth+"px")}function M(x,z,_,G){var F=T.ensureSingle(x,"text",t.itemTextClassName,function(O){O.attr({"text-anchor":"start","data-notex":1})}),N=_.label,U=G._fullLayout._meta;U&&(N=T.templateString(N,U)),F.call(C.font,z.font).text(N).call(d.convertToTspans,G)}function A(x,z){var _=z.active;x.each(function(G,F){var N=p.select(this);F===_&&z.showactive&&N.select("rect."+t.itemRectClassName).call(n.fill,t.activeColor)})}function k(x){x.select("rect."+t.itemRectClassName).call(n.fill,t.hoverColor)}function w(x,z){x.select("rect."+t.itemRectClassName).call(n.fill,z.bgcolor)}function E(x,z){var _=z._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},G=C.tester.selectAll("g."+t.dropdownButtonClassName).data(T.filterVisible(z.buttons));G.enter().append("g").classed(t.dropdownButtonClassName,!0);var F=["up","down"].indexOf(z.direction)!==-1;G.each(function(q,ne){var oe=p.select(this);oe.call(l,z,q,x);var he=oe.select("."+t.itemTextClassName),J=he.node()&&C.bBox(he.node()).width,Z=Math.max(J+t.textPadX,t.minWidth),se=z.font.size*r,$=d.lineCount(he),ee=Math.max(se*$,t.minHeight)+t.textOffsetY;ee=Math.ceil(ee),Z=Math.ceil(Z),_.widths[ne]=Z,_.heights[ne]=ee,_.height1=Math.max(_.height1,ee),_.width1=Math.max(_.width1,Z),F?(_.totalWidth=Math.max(_.totalWidth,Z),_.openWidth=_.totalWidth,_.totalHeight+=ee+t.gapButton,_.openHeight+=ee+t.gapButton):(_.totalWidth+=Z+t.gapButton,_.openWidth+=Z+t.gapButton,_.totalHeight=Math.max(_.totalHeight,ee),_.openHeight=_.totalHeight)}),F?_.totalHeight-=t.gapButton:_.totalWidth-=t.gapButton,_.headerWidth=_.width1+t.arrowPadX,_.headerHeight=_.height1,z.type==="dropdown"&&(F?(_.width1+=t.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=t.arrowPadX),G.remove();var N=_.totalWidth+z.pad.l+z.pad.r,U=_.totalHeight+z.pad.t+z.pad.b,O=x._fullLayout._size;_.lx=O.l+O.w*z.x,_.ly=O.t+O.h*(1-z.y);var H="left";T.isRightAnchor(z)&&(_.lx-=N,H="right"),T.isCenterAnchor(z)&&(_.lx-=N/2,H="center");var Y="top";T.isBottomAnchor(z)&&(_.ly-=U,Y="bottom"),T.isMiddleAnchor(z)&&(_.ly-=U/2,Y="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),L.autoMargin(x,b(z),{x:z.x,y:z.y,l:N*({right:1,center:.5}[H]||0),r:N*({left:1,center:.5}[H]||0),b:U*({top:1,middle:.5}[Y]||0),t:U*({bottom:1,middle:.5}[Y]||0)})}function b(x){return t.autoMarginIdRoot+x._index}function o(x,z,_,G){G=G||{};var F=x.select("."+t.itemRectClassName),N=x.select("."+t.itemTextClassName),U=z.borderwidth,O=_.index,H=z._dims;C.setTranslate(x,U+_.x,U+_.y);var Y=["up","down"].indexOf(z.direction)!==-1,q=G.height||(Y?H.heights[O]:H.height1);F.attr({x:0,y:0,width:G.width||(Y?H.width1:H.widths[O]),height:q});var ne=z.font.size*r,oe=d.lineCount(N),he=(oe-1)*ne/2;d.positionText(N,t.textOffsetX,q/2-he+t.textOffsetY),Y?_.y+=H.heights[O]+_.yPad:_.x+=H.widths[O]+_.xPad,_.index++}function P(x,z){x.attr(t.menuIndexAttrName,z||"-1").selectAll("g."+t.dropdownButtonClassName).remove()}},20763:function(V,B,e){var p=e(75909);V.exports={moduleType:"component",name:p.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(V,B,e){V.exports=T;var p=e(39898),L=e(7901),n=e(91424),C=e(71828);function T(d,y,r){this.gd=d,this.container=y,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(y,r,t){var i=this.gd._fullLayout,a=i.width,h=i.height;this.position=y;var u=this.position.l,s=this.position.w,m=this.position.t,f=this.position.h,S=this.position.direction,v=S==="down",l=S==="left",g=S==="right",M=S==="up",A=s,k=f,w,E,b,o;!v&&!l&&!g&&!M&&(this.position.direction="down",v=!0);var P=v||M;P?(w=u,E=w+A,v?(b=m,o=Math.min(b+k,h),k=o-b):(o=m+k,b=Math.max(o-k,0),k=o-b)):(b=m,o=b+k,l?(E=u+A,w=Math.max(E-A,0),A=E-w):(w=u,E=Math.min(w+A,a),A=E-w)),this._box={l:w,t:b,w:A,h:k};var x=s>A,z=T.barLength+2*T.barPad,_=T.barWidth+2*T.barPad,G=u,F=m+f;F+_>h&&(F=h-_);var N=this.container.selectAll("rect.scrollbar-horizontal").data(x?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,T.barColor),x?(this.hbar=N.attr({rx:T.barRadius,ry:T.barRadius,x:G,y:F,width:z,height:_}),this._hbarXMin=G+z/2,this._hbarTranslateMax=A-z):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=f>k,O=T.barWidth+2*T.barPad,H=T.barLength+2*T.barPad,Y=u+s,q=m;Y+O>a&&(Y=a-O);var ne=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,T.barColor),U?(this.vbar=ne.attr({rx:T.barRadius,ry:T.barRadius,x:Y,y:q,width:O,height:H}),this._vbarYMin=q+H/2,this._vbarTranslateMax=k-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var oe=this.id,he=w-.5,J=U?E+O+.5:E+.5,Z=b-.5,se=x?o+_+.5:o+.5,$=i._topdefs.selectAll("#"+oe).data(x||U?[0]:[]);if($.exit().remove(),$.enter().append("clipPath").attr("id",oe).append("rect"),x||U?(this._clipRect=$.select("rect").attr({x:Math.floor(he),y:Math.floor(Z),width:Math.ceil(J)-Math.floor(he),height:Math.ceil(se)-Math.floor(Z)}),this.container.call(n.setClipUrl,oe,this.gd),this.bg.attr({x:u,y:m,width:s,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),x||U){var ee=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ee);var le=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));x&&this.hbar.on(".drag",null).call(le),U&&this.vbar.on(".drag",null).call(le)}this.setTranslate(r,t)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var y=this.translateX,r=this.translateY;this.hbar&&(y-=p.event.dx),this.vbar&&(r-=p.event.dy),this.setTranslate(y,r)},T.prototype._onBoxWheel=function(){var y=this.translateX,r=this.translateY;this.hbar&&(y+=p.event.deltaY),this.vbar&&(r+=p.event.deltaY),this.setTranslate(y,r)},T.prototype._onBarDrag=function(){var y=this.translateX,r=this.translateY;if(this.hbar){var t=y+this._hbarXMin,i=t+this._hbarTranslateMax,a=C.constrain(p.event.x,t,i),h=(a-t)/(i-t),u=this.position.w-this._box.w;y=h*u}if(this.vbar){var s=r+this._vbarYMin,m=s+this._vbarTranslateMax,f=C.constrain(p.event.y,s,m),S=(f-s)/(m-s),v=this.position.h-this._box.h;r=S*v}this.setTranslate(y,r)},T.prototype.setTranslate=function(y,r){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(y=C.constrain(y||0,0,t),r=C.constrain(r||0,0,i),this.translateX=y,this.translateY=r,this.container.call(n.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-r),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+r-.5)}),this.hbar){var a=y/t;this.hbar.call(n.setTranslate,y+a*this._hbarTranslateMax,r)}if(this.vbar){var h=r/i;this.vbar.call(n.setTranslate,y,r+h*this._vbarTranslateMax)}}},18783:function(V){V.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(V){V.exports={axisRefDescription:function(B,e,p){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",B,"axis."].join(" ")}}},22372:function(V){V.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(V){V.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(V){V.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(V){V.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(V){V.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(V){V.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(V){V.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(V,B){B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(V,B){B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},8729:function(V,B,e){B.version=e(11506).version,e(7417),e(98847);for(var p=e(73972),L=B.register=p.register,n=e(10641),C=Object.keys(n),T=0;T<C.length;T++){var d=C[T];d.charAt(0)!=="_"&&(B[d]=n[d]),L({moduleType:"apiMethod",name:d,fn:n[d]})}L(e(67368)),L([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),L([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=e(24255);var y=e(30211),r=e(74875);B.Plots={resize:r.resize,graphJson:r.graphJson,sendDataToCloud:r.sendDataToCloud},B.Fx={hover:y.hover,unhover:y.unhover,loneHover:y.loneHover,loneUnhover:y.loneUnhover},B.Snapshot=e(44511),B.PlotSchema=e(86281)},24255:function(V){V.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(V,B){B.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},B.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},B.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},B.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},B.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},B.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},26348:function(V,B,e){var p=e(64872),L=p.mod,n=p.modHalf,C=Math.PI,T=2*C;function d(S){return S/180*C}function y(S){return S/C*180}function r(S){return Math.abs(S[1]-S[0])>T-1e-14}function t(S,v){return n(v-S,T)}function i(S,v){return Math.abs(t(S,v))}function a(S,v){if(r(v))return!0;var l,g;v[0]<v[1]?(l=v[0],g=v[1]):(l=v[1],g=v[0]),l=L(l,T),g=L(g,T),l>g&&(g+=T);var M=L(S,T),A=M+T;return M>=l&&M<=g||A>=l&&A<=g}function h(S,v,l,g){if(!a(v,g))return!1;var M,A;return l[0]<l[1]?(M=l[0],A=l[1]):(M=l[1],A=l[0]),S>=M&&S<=A}function u(S,v,l,g,M,A,k){M=M||0,A=A||0;var w=r([l,g]),E,b,o,P,x;w?(E=0,b=C,o=T):l<g?(E=l,o=g):(E=g,o=l),S<v?(P=S,x=v):(P=v,x=S);function z(N,U){return[N*Math.cos(U)+M,A-N*Math.sin(U)]}var _=Math.abs(o-E)<=C?0:1;function G(N,U,O){return"A"+[N,N]+" "+[0,_,O]+" "+z(N,U)}var F;return w?P===null?F="M"+z(x,E)+G(x,b,0)+G(x,o,0)+"Z":F="M"+z(P,E)+G(P,b,0)+G(P,o,0)+"ZM"+z(x,E)+G(x,b,1)+G(x,o,1)+"Z":P===null?(F="M"+z(x,E)+G(x,o,0),k&&(F+="L0,0Z")):F="M"+z(P,E)+"L"+z(x,E)+G(x,o,0)+"L"+z(P,o)+G(P,E,1)+"Z",F}function s(S,v,l,g,M){return u(null,S,v,l,g,M,0)}function m(S,v,l,g,M){return u(null,S,v,l,g,M,1)}function f(S,v,l,g,M,A){return u(S,v,l,g,M,A,1)}V.exports={deg2rad:d,rad2deg:y,angleDelta:t,angleDist:i,isFullCircle:r,isAngleInsideSector:a,isPtInsideSector:h,pathArc:s,pathSector:m,pathAnnulus:f}},73627:function(V,B,e){var p=e(11631).decode,L=e(41965),n=Array.isArray,C=ArrayBuffer,T=DataView;function d(u){return C.isView(u)&&!(u instanceof T)}B.isTypedArray=d;function y(u){return n(u)||d(u)}B.isArrayOrTypedArray=y;function r(u){return!y(u[0])}B.isArray1D=r,B.ensureArray=function(u,s){return n(u)||(u=[]),u.length=s,u};var t={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};t.uint8c=t.u1c,t.uint8=t.u1,t.int8=t.i1,t.uint16=t.u2,t.int16=t.i2,t.uint32=t.u4,t.int32=t.i4,t.float32=t.f4,t.float64=t.f8;function i(u){return u.constructor===ArrayBuffer}B.isArrayBuffer=i,B.decodeTypedArraySpec=function(u){var s=[],m=a(u),f=m.dtype,S=t[f];if(!S)throw new Error('Error in dtype: "'+f+'"');var v=S.BYTES_PER_ELEMENT,l=m.bdata;i(l)||(l=p(l));var g=m.shape===void 0?[l.byteLength/v]:(""+m.shape).split(",");g.reverse();var M=g.length,A,k,w=+g[0],E=v*w,b=0;if(M===1)s=new S(l);else if(M===2)for(A=+g[1],k=0;k<A;k++)s[k]=new S(l,b,w),b+=E;else if(M===3){A=+g[1];for(var o=+g[2],P=0;P<o;P++)for(s[P]=[],k=0;k<A;k++)s[P][k]=new S(l,b,w),b+=E}else throw new Error("ndim: "+M+'is not supported with the shape:"'+m.shape+'"');return s.bdata=m.bdata,s.dtype=m.dtype,s.shape=g.reverse().join(","),u._inputArray=s,s},B.isTypedArraySpec=function(u){return L(u)&&u.hasOwnProperty("dtype")&&typeof u.dtype=="string"&&u.hasOwnProperty("bdata")&&(typeof u.bdata=="string"||i(u.bdata))&&(u.shape===void 0||u.hasOwnProperty("shape")&&(typeof u.shape=="string"||typeof u.shape=="number"))};function a(u){return{bdata:u.bdata,dtype:u.dtype,shape:u.shape}}B.concat=function(){var u=[],s=!0,m=0,f,S,v,l,g,M,A,k;for(v=0;v<arguments.length;v++)l=arguments[v],M=l.length,M&&(S?u.push(l):(S=l,g=M),n(l)?f=!1:(s=!1,m?f!==l.constructor&&(f=!1):f=l.constructor),m+=M);if(!m)return[];if(!u.length)return S;if(s)return S.concat.apply(S,u);if(f){for(A=new f(m),A.set(S),v=0;v<u.length;v++)l=u[v],A.set(l,g),g+=l.length;return A}for(A=new Array(m),k=0;k<S.length;k++)A[k]=S[k];for(v=0;v<u.length;v++){for(l=u[v],k=0;k<l.length;k++)A[g+k]=l[k];g+=k}return A},B.maxRowLength=function(u){return h(u,Math.max,0)},B.minRowLength=function(u){return h(u,Math.min,1/0)};function h(u,s,m){if(y(u))if(y(u[0])){for(var f=m,S=0;S<u.length;S++)f=s(f,u[S].length);return f}else return u.length;return 0}},95218:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;V.exports=function(T){return typeof T=="string"&&(T=T.replace(n,"")),p(T)?Number(T):L}},33306:function(V){V.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},86367:function(V){V.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(V,B,e){var p=e(92770),L=e(84267),n=e(9012),C=e(63282),T=e(7901),d=e(37822).DESELECTDIM,y=e(65487),r=e(30587).counter,t=e(64872).modHalf,i=e(73627).isArrayOrTypedArray,a=e(73627).isTypedArraySpec,h=e(73627).decodeTypedArraySpec;B.valObjectMeta={data_array:{coerceFunction:function(s,m,f){m.set(i(s)?s:a(s)?h(s):f)}},enumerated:{coerceFunction:function(s,m,f,S){S.coerceNumber&&(s=+s),S.values.indexOf(s)===-1?m.set(f):m.set(s)},validateFunction:function(s,m){m.coerceNumber&&(s=+s);for(var f=m.values,S=0;S<f.length;S++){var v=String(f[S]);if(v.charAt(0)==="/"&&v.charAt(v.length-1)==="/"){var l=new RegExp(v.substr(1,v.length-2));if(l.test(s))return!0}else if(s===f[S])return!0}return!1}},boolean:{coerceFunction:function(s,m,f){s===!0||s===!1?m.set(s):m.set(f)}},number:{coerceFunction:function(s,m,f,S){!p(s)||S.min!==void 0&&s<S.min||S.max!==void 0&&s>S.max?m.set(f):m.set(+s)}},integer:{coerceFunction:function(s,m,f,S){s%1||!p(s)||S.min!==void 0&&s<S.min||S.max!==void 0&&s>S.max?m.set(f):m.set(+s)}},string:{coerceFunction:function(s,m,f,S){if(typeof s!="string"){var v=typeof s=="number";S.strict===!0||!v?m.set(f):m.set(String(s))}else S.noBlank&&!s?m.set(f):m.set(s)}},color:{coerceFunction:function(s,m,f){L(s).isValid()?m.set(s):m.set(f)}},colorlist:{coerceFunction:function(s,m,f){function S(v){return L(v).isValid()}!Array.isArray(s)||!s.length?m.set(f):s.every(S)?m.set(s):m.set(f)}},colorscale:{coerceFunction:function(s,m,f){m.set(C.get(s,f))}},angle:{coerceFunction:function(s,m,f){s==="auto"?m.set("auto"):p(s)?m.set(t(+s,360)):m.set(f)}},subplotid:{coerceFunction:function(s,m,f,S){var v=S.regex||r(f);if(typeof s=="string"&&v.test(s)){m.set(s);return}m.set(f)},validateFunction:function(s,m){var f=m.dflt;return s===f?!0:typeof s!="string"?!1:!!r(f).test(s)}},flaglist:{coerceFunction:function(s,m,f,S){if((S.extras||[]).indexOf(s)!==-1){m.set(s);return}if(typeof s!="string"){m.set(f);return}for(var v=s.split("+"),l=0;l<v.length;){var g=v[l];S.flags.indexOf(g)===-1||v.indexOf(g)<l?v.splice(l,1):l++}v.length?m.set(v.join("+")):m.set(f)}},any:{coerceFunction:function(s,m,f){s===void 0?m.set(f):m.set(a(s)?h(s):s)}},info_array:{coerceFunction:function(s,m,f,S){function v(G,F,N){var U,O={set:function(H){U=H}};return N===void 0&&(N=F.dflt),B.valObjectMeta[F.valType].coerceFunction(G,O,N,F),U}if(a(s)&&(s=h(s)),!i(s)){m.set(f);return}var l=S.dimensions===2||S.dimensions==="1-2"&&Array.isArray(s)&&i(s[0]),g=S.items,M=[],A=Array.isArray(g),k=A&&l&&i(g[0]),w=l&&A&&!k,E=A&&!w?g.length:s.length,b,o,P,x,z,_;if(f=Array.isArray(f)?f:[],l)for(b=0;b<E;b++)for(M[b]=[],P=i(s[b])?s[b]:[],w?z=g.length:A?z=g[b].length:z=P.length,o=0;o<z;o++)w?x=g[o]:A?x=g[b][o]:x=g,_=v(P[o],x,(f[b]||[])[o]),_!==void 0&&(M[b][o]=_);else for(b=0;b<E;b++)_=v(s[b],A?g[b]:g,f[b]),_!==void 0&&(M[b]=_);m.set(M)},validateFunction:function(s,m){if(!i(s))return!1;var f=m.items,S=Array.isArray(f),v=m.dimensions===2;if(!m.freeLength&&s.length!==f.length)return!1;for(var l=0;l<s.length;l++)if(v){if(!i(s[l])||!m.freeLength&&s[l].length!==f[l].length)return!1;for(var g=0;g<s[l].length;g++)if(!u(s[l][g],S?f[l][g]:f))return!1}else if(!u(s[l],S?f[l]:f))return!1;return!0}}},B.coerce=function(s,m,f,S,v){var l=y(f,S).get(),g=y(s,S),M=y(m,S),A=g.get(),k=m._template;if(A===void 0&&k&&(A=y(k,S).get(),k=0),v===void 0&&(v=l.dflt),l.arrayOk){if(i(A))return M.set(A),A;if(a(A))return A=h(A),M.set(A),A}var w=B.valObjectMeta[l.valType].coerceFunction;w(A,M,v,l);var E=M.get();return k&&E===v&&!u(A,l)&&(A=y(k,S).get(),w(A,M,v,l),E=M.get()),E},B.coerce2=function(s,m,f,S,v){var l=y(s,S),g=B.coerce(s,m,f,S,v),M=l.get();return M!=null?g:!1},B.coerceFont=function(s,m,f){var S={};return f=f||{},S.family=s(m+".family",f.family),S.size=s(m+".size",f.size),S.color=s(m+".color",f.color),S},B.coercePattern=function(s,m,f,S){var v=s(m+".shape");if(v){s(m+".solidity"),s(m+".size");var l=s(m+".fillmode"),g=l==="overlay";if(!S){var M=s(m+".bgcolor",g?f:void 0);s(m+".fgcolor",g?T.contrast(M):f)}s(m+".fgopacity",g?.5:1)}},B.coerceHoverinfo=function(s,m,f){var S=m._module.attributes,v=S.hoverinfo?S:n,l=v.hoverinfo,g;if(f._dataLength===1){var M=l.dflt==="all"?l.flags.slice():l.dflt.split("+");M.splice(M.indexOf("name"),1),g=M.join("+")}return B.coerce(s,m,v,"hoverinfo",g)},B.coerceSelectionMarkerOpacity=function(s,m){if(s.marker){var f=s.marker.opacity;if(f!==void 0){var S,v;!i(f)&&!s.selected&&!s.unselected&&(S=f,v=d*f),m("selected.marker.opacity",S),m("unselected.marker.opacity",v)}}};function u(s,m){var f=B.valObjectMeta[m.valType];if(m.arrayOk&&i(s))return!0;if(f.validateFunction)return f.validateFunction(s,m);var S={},v=S,l={set:function(g){v=g}};return f.coerceFunction(s,l,S,m),v!==S}B.validate=u},41631:function(V,B,e){var p=e(84096).i$,L=e(92770),n=e(47769),C=e(64872).mod,T=e(50606),d=T.BADNUM,y=T.ONEDAY,r=T.ONEHOUR,t=T.ONEMIN,i=T.ONESEC,a=T.EPOCHJD,h=e(73972),u=e(84096).g0,s=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,f=new Date().getFullYear()-70;function S(F){return F&&h.componentsRegistry.calendars&&typeof F=="string"&&F!=="gregorian"}B.dateTick0=function(F,N){var U=v(F,!!N);if(N<2)return U;var O=B.dateTime2ms(U,F);return O+=y*(N-1),B.ms2DateTime(O,0,F)};function v(F,N){return S(F)?N?h.getComponentMethod("calendars","CANONICAL_SUNDAY")[F]:h.getComponentMethod("calendars","CANONICAL_TICK")[F]:N?"2000-01-02":"2000-01-01"}B.dfltRange=function(F){return S(F)?h.getComponentMethod("calendars","DFLTRANGE")[F]:["2000-01-01","2001-01-01"]},B.isJSDate=function(F){return typeof F=="object"&&F!==null&&typeof F.getTime=="function"};var l,g;B.dateTime2ms=function(F,N){if(B.isJSDate(F)){var U=F.getTimezoneOffset()*t,O=(F.getUTCMinutes()-F.getMinutes())*t+(F.getUTCSeconds()-F.getSeconds())*i+(F.getUTCMilliseconds()-F.getMilliseconds());if(O){var H=3*t;U=U-H/2+C(O-U+H/2,H)}return F=Number(F)-U,F>=l&&F<=g?F:d}if(typeof F!="string"&&typeof F!="number")return d;F=String(F);var Y=S(N),q=F.charAt(0);Y&&(q==="G"||q==="g")&&(F=F.substr(1),N="");var ne=Y&&N.substr(0,7)==="chinese",oe=F.match(ne?m:s);if(!oe)return d;var he=oe[1],J=oe[3]||"1",Z=Number(oe[5]||1),se=Number(oe[7]||0),$=Number(oe[9]||0),ee=Number(oe[11]||0);if(Y){if(he.length===2)return d;he=Number(he);var le;try{var Q=h.getComponentMethod("calendars","getCal")(N);if(ne){var K=J.charAt(J.length-1)==="i";J=parseInt(J,10),le=Q.newDate(he,Q.toMonthIndex(he,J,K),Z)}else le=Q.newDate(he,Number(J),Z)}catch{return d}return le?(le.toJD()-a)*y+se*r+$*t+ee*i:d}he.length===2?he=(Number(he)+2e3-f)%100+f:he=Number(he),J-=1;var ue=new Date(Date.UTC(2e3,J,Z,se,$));return ue.setUTCFullYear(he),ue.getUTCMonth()!==J||ue.getUTCDate()!==Z?d:ue.getTime()+ee*i},l=B.MIN_MS=B.dateTime2ms("-9999"),g=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(F,N){return B.dateTime2ms(F,N)!==d};function M(F,N){return String(F+Math.pow(10,N)).substr(1)}var A=90*y,k=3*r,w=5*t;B.ms2DateTime=function(F,N,U){if(typeof F!="number"||!(F>=l&&F<=g))return d;N||(N=0);var O=Math.floor(C(F+.05,1)*10),H=Math.round(F-O/10),Y,q,ne,oe,he,J;if(S(U)){var Z=Math.floor(H/y)+a,se=Math.floor(C(F,y));try{Y=h.getComponentMethod("calendars","getCal")(U).fromJD(Z).formatDate("yyyy-mm-dd")}catch{Y=u("G%Y-%m-%d")(new Date(H))}if(Y.charAt(0)==="-")for(;Y.length<11;)Y="-0"+Y.substr(1);else for(;Y.length<10;)Y="0"+Y;q=N<A?Math.floor(se/r):0,ne=N<A?Math.floor(se%r/t):0,oe=N<k?Math.floor(se%t/i):0,he=N<w?se%i*10+O:0}else J=new Date(H),Y=u("%Y-%m-%d")(J),q=N<A?J.getUTCHours():0,ne=N<A?J.getUTCMinutes():0,oe=N<k?J.getUTCSeconds():0,he=N<w?J.getUTCMilliseconds()*10+O:0;return E(Y,q,ne,oe,he)},B.ms2DateTimeLocal=function(F){if(!(F>=l+y&&F<=g-y))return d;var N=Math.floor(C(F+.05,1)*10),U=new Date(Math.round(F-N/10)),O=p("%Y-%m-%d")(U),H=U.getHours(),Y=U.getMinutes(),q=U.getSeconds(),ne=U.getUTCMilliseconds()*10+N;return E(O,H,Y,q,ne)};function E(F,N,U,O,H){if((N||U||O||H)&&(F+=" "+M(N,2)+":"+M(U,2),(O||H)&&(F+=":"+M(O,2),H))){for(var Y=4;H%10===0;)Y-=1,H/=10;F+="."+M(H,Y)}return F}B.cleanDate=function(F,N,U){if(F===d)return N;if(B.isJSDate(F)||typeof F=="number"&&isFinite(F)){if(S(U))return n.error("JS Dates and milliseconds are incompatible with world calendars",F),N;if(F=B.ms2DateTimeLocal(+F),!F&&N!==void 0)return N}else if(!B.isDateTime(F,U))return n.error("unrecognized date",F),N;return F};var b=/%\d?f/g,o=/%h/g,P={1:"1",2:"1",3:"2",4:"2"};function x(F,N,U,O){F=F.replace(b,function(Y){var q=Math.min(+Y.charAt(1)||6,6),ne=(N/1e3%1+2).toFixed(q).substr(2).replace(/0+$/,"")||"0";return ne});var H=new Date(Math.floor(N+.05));if(F=F.replace(o,function(){return P[U("%q")(H)]}),S(O))try{F=h.getComponentMethod("calendars","worldCalFmt")(F,N,O)}catch{return"Invalid"}return U(F)(H)}var z=[59,59.9,59.99,59.999,59.9999];function _(F,N){var U=C(F+.05,y),O=M(Math.floor(U/r),2)+":"+M(C(Math.floor(U/t),60),2);if(N!=="M"){L(N)||(N=0);var H=Math.min(C(F/i,60),z[N]),Y=(100+H).toFixed(N).substr(1);N>0&&(Y=Y.replace(/0+$/,"").replace(/[\.]$/,"")),O+=":"+Y}return O}B.formatDate=function(F,N,U,O,H,Y){if(H=S(H)&&H,!N)if(U==="y")N=Y.year;else if(U==="m")N=Y.month;else if(U==="d")N=Y.dayMonth+`
`+Y.year;else return _(F,U)+`
`+x(Y.dayMonthYear,F,O,H);return x(N,F,O,H)};var G=3*y;B.incrementMonth=function(F,N,U){U=S(U)&&U;var O=C(F,y);if(F=Math.round(F-O),U)try{var H=Math.round(F/y)+a,Y=h.getComponentMethod("calendars","getCal")(U),q=Y.fromJD(H);return N%12?Y.add(q,N,"m"):Y.add(q,N/12,"y"),(q.toJD()-a)*y+O}catch{n.error("invalid ms "+F+" in calendar "+U)}var ne=new Date(F+G);return ne.setUTCMonth(ne.getUTCMonth()+N)+O-G},B.findExactDates=function(F,N){for(var U=0,O=0,H=0,Y=0,q,ne,oe=S(N)&&h.getComponentMethod("calendars","getCal")(N),he=0;he<F.length;he++){if(ne=F[he],!L(ne)){Y++;continue}if(!(ne%y))if(oe)try{q=oe.fromJD(ne/y+a),q.day()===1?q.month()===1?U++:O++:H++}catch{}else q=new Date(ne),q.getUTCDate()===1?q.getUTCMonth()===0?U++:O++:H++}O+=U,H+=O;var J=F.length-Y;return{exactYears:U/J,exactMonths:O/J,exactDays:H/J}}},24401:function(V,B,e){var p=e(39898),L=e(47769),n=e(35657),C=e(79576);function T(f){var S;if(typeof f=="string"){if(S=document.getElementById(f),S===null)throw new Error("No DOM element with id '"+f+"' exists on the page.");return S}else if(f==null)throw new Error("DOM element provided is null or undefined");return f}function d(f){var S=p.select(f);return S.node()instanceof HTMLElement&&S.size()&&S.classed("js-plotly-plot")}function y(f){var S=f&&f.parentNode;S&&S.removeChild(f)}function r(f,S){t("global",f,S)}function t(f,S,v){var l="plotly.js-style-"+f,g=document.getElementById(l);g||(g=document.createElement("style"),g.setAttribute("id",l),g.appendChild(document.createTextNode("")),document.head.appendChild(g));var M=g.sheet;M.insertRule?M.insertRule(S+"{"+v+"}",0):M.addRule?M.addRule(S,v,0):L.warn("addStyleRule failed")}function i(f){var S="plotly.js-style-"+f,v=document.getElementById(S);v&&y(v)}function a(f){var S=u(f),v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return S.forEach(function(l){var g=h(l);if(g){var M=n.convertCssMatrix(g);v=C.multiply(v,v,M)}}),v}function h(f){var S=window.getComputedStyle(f,null),v=S.getPropertyValue("-webkit-transform")||S.getPropertyValue("-moz-transform")||S.getPropertyValue("-ms-transform")||S.getPropertyValue("-o-transform")||S.getPropertyValue("transform");return v==="none"?null:v.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function u(f){for(var S=[];s(f);)S.push(f),f=f.parentNode;return S}function s(f){return f&&(f instanceof Element||f instanceof HTMLElement)}function m(f,S){return f&&S&&f.top===S.top&&f.left===S.left&&f.right===S.right&&f.bottom===S.bottom}V.exports={getGraphDiv:T,isPlotDiv:d,removeElement:y,addStyleRule:r,addRelatedStyleRule:t,deleteRelatedStyleRule:i,getFullTransformMatrix:a,getElementTransformMatrix:h,getElementAndAncestors:u,equalDomRects:m}},11086:function(V,B,e){var p=e(15398).EventEmitter,L={init:function(n){if(n._ev instanceof p)return n;var C=new p,T=new p;return n._ev=C,n._internalEv=T,n.on=C.on.bind(C),n.once=C.once.bind(C),n.removeListener=C.removeListener.bind(C),n.removeAllListeners=C.removeAllListeners.bind(C),n._internalOn=T.on.bind(T),n._internalOnce=T.once.bind(T),n._removeInternalListener=T.removeListener.bind(T),n._removeAllInternalListeners=T.removeAllListeners.bind(T),n.emit=function(d,y){typeof jQuery<"u"&&jQuery(n).trigger(d,y),C.emit(d,y),T.emit(d,y)},n},triggerHandler:function(n,C,T){var d,y;typeof jQuery<"u"&&(d=jQuery(n).triggerHandler(C,T));var r=n._ev;if(!r)return d;var t=r._events[C];if(!t)return d;function i(h){if(h.listener){if(r.removeListener(C,h.listener),!h.fired)return h.fired=!0,h.listener.apply(r,[T])}else return h.apply(r,[T])}t=Array.isArray(t)?t:[t];var a;for(a=0;a<t.length-1;a++)i(t[a]);return y=i(t[a]),d!==void 0?d:y},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};V.exports=L},1426:function(V,B,e){var p=e(41965),L=Array.isArray;function n(T,d){var y,r;for(y=0;y<T.length;y++){if(r=T[y],r!==null&&typeof r=="object")return!1;r!==void 0&&(d[y]=r)}return!0}B.extendFlat=function(){return C(arguments,!1,!1,!1)},B.extendDeep=function(){return C(arguments,!0,!1,!1)},B.extendDeepAll=function(){return C(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(T,d,y,r){var t=T[0],i=T.length,a,h,u,s,m,f,S;if(i===2&&L(t)&&L(T[1])&&t.length===0){if(S=n(T[1],t),S)return t;t.splice(0,t.length)}for(var v=1;v<i;v++){a=T[v];for(h in a)u=t[h],s=a[h],r&&L(s)?t[h]=s:d&&s&&(p(s)||(m=L(s)))?(m?(m=!1,f=u&&L(u)?u:[]):f=u&&p(u)?u:{},t[h]=C([f,s],d,y,r)):(typeof s<"u"||y)&&(t[h]=s)}return t}},75744:function(V){V.exports=function(e){for(var p={},L=[],n=0,C=0;C<e.length;C++){var T=e[C];p[T]!==1&&(p[T]=1,L[n++]=T)}return L}},76756:function(V){V.exports=function(n){for(var C=p(n)?e:B,T=[],d=0;d<n.length;d++){var y=n[d];C(y)&&T.push(y)}return T};function B(L){return L.visible===!0}function e(L){var n=L[0].trace;return n.visible===!0&&n._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},41327:function(V,B,e){var p=e(39898),L=e(24138),n=e(30774),C=e(29261),T=e(85268),d=e(23389),y=e(47769),r=e(41965),t=e(65487),i=e(61082),a=Object.keys(L),h={"ISO-3":d,"USA-states":d,"country names":u};function u(M){for(var A=0;A<a.length;A++){var k=a[A],w=new RegExp(L[k]);if(w.test(M.trim().toLowerCase()))return k}return y.log("Unrecognized country name: "+M+"."),!1}function s(M,A,k){if(!A||typeof A!="string")return!1;var w=h[M](A),E,b,o;if(w){if(M==="USA-states")for(E=[],o=0;o<k.length;o++)b=k[o],b.properties&&b.properties.gu&&b.properties.gu==="USA"&&E.push(b);else E=k;for(o=0;o<E.length;o++)if(b=E[o],b.id===w)return b;y.log(["Location with id",w,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(M){var A=M.geometry,k=A.coordinates,w=M.id,E=[],b,o,P,x;function z(_){for(var G=0;G<_.length-1;G++)if(_[G][0]>0&&_[G+1][0]<0)return G;return null}switch(w==="RUS"||w==="FJI"?b=function(_){var G;if(z(_)===null)G=_;else for(G=new Array(_.length),x=0;x<_.length;x++)G[x]=[_[x][0]<0?_[x][0]+360:_[x][0],_[x][1]];E.push(i.tester(G))}:w==="ATA"?b=function(_){var G=z(_);if(G===null)return E.push(i.tester(_));var F=new Array(_.length+1),N=0;for(x=0;x<_.length;x++)x>G?F[N++]=[_[x][0]+360,_[x][1]]:x===G?(F[N++]=_[x],F[N++]=[_[x][0],-90]):F[N++]=_[x];var U=i.tester(F);U.pts.pop(),E.push(U)}:b=function(_){E.push(i.tester(_))},A.type){case"MultiPolygon":for(o=0;o<k.length;o++)for(P=0;P<k[o].length;P++)b(k[o][P]);break;case"Polygon":for(o=0;o<k.length;o++)b(k[o]);break}return E}function f(M){var A=M.geojson,k=window.PlotlyGeoAssets||{},w=typeof A=="string"?k[A]:A;return r(w)?w:(y.error("Oops ... something went wrong when fetching "+A),!1)}function S(M){var A=M[0].trace,k=f(A);if(!k)return!1;var w={},E=[],b;for(b=0;b<A._length;b++){var o=M[b];(o.loc||o.loc===0)&&(w[o.loc]=o)}function P(_){var G=t(_,A.featureidkey||"id").get(),F=w[G];if(F){var N=_.geometry;if(N.type==="Polygon"||N.type==="MultiPolygon"){var U={type:"Feature",id:G,geometry:N,properties:{}};U.properties.ct=v(U),F.fIn=_,F.fOut=U,E.push(U)}else y.log(["Location",F.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete w[G]}switch(k.type){case"FeatureCollection":var x=k.features;for(b=0;b<x.length;b++)P(x[b]);break;case"Feature":P(k);break;default:return y.warn(["Invalid GeoJSON type",(k.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var z in w)y.log(["Location *"+z+"*","does not have a matching feature with id-key","*"+A.featureidkey+"*."].join(" "));return E}function v(M){var A=M.geometry,k;if(A.type==="MultiPolygon")for(var w=A.coordinates,E=0,b=0;b<w.length;b++){var o={type:"Polygon",coordinates:w[b]},P=n.default(o);P>E&&(E=P,k=o)}else k=A;return C.default(k).geometry.coordinates}function l(M){var A=window.PlotlyGeoAssets||{},k=[];function w(x){return new Promise(function(z,_){p.json(x,function(G,F){if(G){delete A[x];var N=G.status===404?'GeoJSON at URL "'+x+'" does not exist.':"Unexpected error while fetching from "+x;return _(new Error(N))}return A[x]=F,z(F)})})}function E(x){return new Promise(function(z,_){var G=0,F=setInterval(function(){if(A[x]&&A[x]!=="pending")return clearInterval(F),z(A[x]);if(G>100)return clearInterval(F),_("Unexpected error while fetching from "+x);G++},50)})}for(var b=0;b<M.length;b++){var o=M[b][0].trace,P=o.geojson;typeof P=="string"&&(A[P]?A[P]==="pending"&&k.push(E(P)):(A[P]="pending",k.push(w(P))))}return k}function g(M){return T.default(M)}V.exports={locationToFeature:s,feature2polygons:m,getTraceGeojson:f,extractTraceFeature:S,fetchTraceGeoData:l,computeBbox:g}},18214:function(V,B,e){var p=e(50606).BADNUM;B.calcTraceToLineCoords=function(L){for(var n=L[0].trace,C=n.connectgaps,T=[],d=[],y=0;y<L.length;y++){var r=L[y],t=r.lonlat;t[0]!==p?d.push(t):!C&&d.length>0&&(T.push(d),d=[])}return d.length>0&&T.push(d),T},B.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},B.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var n=new Array(L.length),C=0;C<L.length;C++)n[C]=[L[C]];return{type:"MultiPolygon",coordinates:n}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(V,B,e){var p=e(64872).mod;B.segmentsIntersect=L;function L(y,r,t,i,a,h,u,s){var m=t-y,f=a-y,S=u-a,v=i-r,l=h-r,g=s-h,M=m*g-S*v;if(M===0)return null;var A=(f*g-S*l)/M,k=(f*v-m*l)/M;return k<0||k>1||A<0||A>1?null:{x:y+m*A,y:r+v*A}}B.segmentDistance=function(r,t,i,a,h,u,s,m){if(L(r,t,i,a,h,u,s,m))return 0;var f=i-r,S=a-t,v=s-h,l=m-u,g=f*f+S*S,M=v*v+l*l,A=Math.min(n(f,S,g,h-r,u-t),n(f,S,g,s-r,m-t),n(v,l,M,r-h,t-u),n(v,l,M,i-h,a-u));return Math.sqrt(A)};function n(y,r,t,i,a){var h=i*y+a*r;if(h<0)return i*i+a*a;if(h>t){var u=i-y,s=a-r;return u*u+s*s}else{var m=i*r-a*y;return m*m/t}}var C,T,d;B.getTextLocation=function(r,t,i,a){if((r!==T||a!==d)&&(C={},T=r,d=a),C[i])return C[i];var h=r.getPointAtLength(p(i-a/2,t)),u=r.getPointAtLength(p(i+a/2,t)),s=Math.atan((u.y-h.y)/(u.x-h.x)),m=r.getPointAtLength(p(i,t)),f=(m.x*4+h.x+u.x)/6,S=(m.y*4+h.y+u.y)/6,v={x:f,y:S,theta:s};return C[i]=v,v},B.clearLocationCache=function(){T=null},B.getVisibleSegment=function(r,t,i){var a=t.left,h=t.right,u=t.top,s=t.bottom,m=0,f=r.getTotalLength(),S=f,v,l;function g(A){var k=r.getPointAtLength(A);A===0?v=k:A===f&&(l=k);var w=k.x<a?a-k.x:k.x>h?k.x-h:0,E=k.y<u?u-k.y:k.y>s?k.y-s:0;return Math.sqrt(w*w+E*E)}for(var M=g(m);M;){if(m+=M+i,m>S)return;M=g(m)}for(M=g(S);M;){if(S-=M+i,m>S)return;M=g(S)}return{min:m,max:S,len:S-m,total:f,isClosed:m===0&&S===f&&Math.abs(v.x-l.x)<.1&&Math.abs(v.y-l.y)<.1}},B.findPointOnPath=function(r,t,i,a){a=a||{};for(var h=a.pathLength||r.getTotalLength(),u=a.tolerance||.001,s=a.iterationLimit||30,m=r.getPointAtLength(0)[i]>r.getPointAtLength(h)[i]?-1:1,f=0,S=0,v=h,l,g,M;f<s;){if(l=(S+v)/2,g=r.getPointAtLength(l),M=g[i]-t,Math.abs(M)<u)return g;m*M>0?v=l:S=l,f++}return g}},81697:function(V,B,e){var p=e(92770),L=e(84267),n=e(25075),C=e(21081),T=e(22399).defaultLine,d=e(73627).isArrayOrTypedArray,y=n(T),r=1;function t(s,m){var f=s;return f[3]*=m,f}function i(s){if(p(s))return y;var m=n(s);return m.length?m:y}function a(s){return p(s)?s:r}function h(s,m,f){var S=s.color;S&&S._inputArray&&(S=S._inputArray);var v=d(S),l=d(m),g=C.extractOpts(s),M=[],A,k,w,E,b;if(g.colorscale!==void 0?A=C.makeColorScaleFuncFromTrace(s):A=i,v?k=function(P,x){return P[x]===void 0?y:n(A(P[x]))}:k=i,l?w=function(P,x){return P[x]===void 0?r:a(P[x])}:w=a,v||l)for(var o=0;o<f;o++)E=k(S,o),b=w(m,o),M[o]=t(E,b);else M=t(n(S),m);return M}function u(s){var m=C.extractOpts(s),f=m.colorscale;return m.reversescale&&(f=C.flipScale(m.colorscale)),f.map(function(S){var v=S[0],l=L(S[1]),g=l.toRgb();return{index:v,rgb:[g.r,g.g,g.b,g.a]}})}V.exports={formatColor:h,parseColorScale:u}},28984:function(V,B,e){var p=e(23389);function L(n){return[n]}V.exports={keyFun:function(n){return n.key},repeat:L,descend:p,wrap:L,unwrap:function(n){return n[0]}}},23389:function(V){V.exports=function(e){return e}},39240:function(V){V.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),n=L>1?(L*e+L*p)/L:e+p,C=String(n).length;if(C>16){var T=String(p).length,d=String(e).length;if(C>=d+T){var y=parseFloat(n).toPrecision(12);y.indexOf("e+")===-1&&(n=+y)}}return n}},71828:function(V,B,e){var p=e(39898),L=e(84096).g0,n=e(60721).WU,C=e(92770),T=e(50606),d=T.FP_SAFE,y=-d,r=T.BADNUM,t=V.exports={};t.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var i={};t.warnBadFormat=function(ee){var le=String(ee);i[le]||(i[le]=1,t.warn('encountered bad format: "'+le+'"'))},t.noFormat=function(ee){return String(ee)},t.numberFormat=function(ee){var le;try{le=n(t.adjustFormat(ee))}catch{return t.warnBadFormat(ee),t.noFormat}return le},t.nestedProperty=e(65487),t.keyedContainer=e(66636),t.relativeAttr=e(6962),t.isPlainObject=e(41965),t.toLogRange=e(58163),t.relinkPrivateKeys=e(51332);var a=e(73627);t.isArrayBuffer=a.isArrayBuffer,t.isTypedArray=a.isTypedArray,t.isArrayOrTypedArray=a.isArrayOrTypedArray,t.isArray1D=a.isArray1D,t.ensureArray=a.ensureArray,t.concat=a.concat,t.maxRowLength=a.maxRowLength,t.minRowLength=a.minRowLength;var h=e(64872);t.mod=h.mod,t.modHalf=h.modHalf;var u=e(96554);t.valObjectMeta=u.valObjectMeta,t.coerce=u.coerce,t.coerce2=u.coerce2,t.coerceFont=u.coerceFont,t.coercePattern=u.coercePattern,t.coerceHoverinfo=u.coerceHoverinfo,t.coerceSelectionMarkerOpacity=u.coerceSelectionMarkerOpacity,t.validate=u.validate;var s=e(41631);t.dateTime2ms=s.dateTime2ms,t.isDateTime=s.isDateTime,t.ms2DateTime=s.ms2DateTime,t.ms2DateTimeLocal=s.ms2DateTimeLocal,t.cleanDate=s.cleanDate,t.isJSDate=s.isJSDate,t.formatDate=s.formatDate,t.incrementMonth=s.incrementMonth,t.dateTick0=s.dateTick0,t.dfltRange=s.dfltRange,t.findExactDates=s.findExactDates,t.MIN_MS=s.MIN_MS,t.MAX_MS=s.MAX_MS;var m=e(65888);t.findBin=m.findBin,t.sorterAsc=m.sorterAsc,t.sorterDes=m.sorterDes,t.distinctVals=m.distinctVals,t.roundUp=m.roundUp,t.sort=m.sort,t.findIndexOfMin=m.findIndexOfMin,t.sortObjectKeys=e(78607);var f=e(80038);t.aggNums=f.aggNums,t.len=f.len,t.mean=f.mean,t.median=f.median,t.midRange=f.midRange,t.variance=f.variance,t.stdev=f.stdev,t.interp=f.interp;var S=e(35657);t.init2dArray=S.init2dArray,t.transposeRagged=S.transposeRagged,t.dot=S.dot,t.translationMatrix=S.translationMatrix,t.rotationMatrix=S.rotationMatrix,t.rotationXYMatrix=S.rotationXYMatrix,t.apply3DTransform=S.apply3DTransform,t.apply2DTransform=S.apply2DTransform,t.apply2DTransform2=S.apply2DTransform2,t.convertCssMatrix=S.convertCssMatrix,t.inverseTransformMatrix=S.inverseTransformMatrix;var v=e(26348);t.deg2rad=v.deg2rad,t.rad2deg=v.rad2deg,t.angleDelta=v.angleDelta,t.angleDist=v.angleDist,t.isFullCircle=v.isFullCircle,t.isAngleInsideSector=v.isAngleInsideSector,t.isPtInsideSector=v.isPtInsideSector,t.pathArc=v.pathArc,t.pathSector=v.pathSector,t.pathAnnulus=v.pathAnnulus;var l=e(99863);t.isLeftAnchor=l.isLeftAnchor,t.isCenterAnchor=l.isCenterAnchor,t.isRightAnchor=l.isRightAnchor,t.isTopAnchor=l.isTopAnchor,t.isMiddleAnchor=l.isMiddleAnchor,t.isBottomAnchor=l.isBottomAnchor;var g=e(87642);t.segmentsIntersect=g.segmentsIntersect,t.segmentDistance=g.segmentDistance,t.getTextLocation=g.getTextLocation,t.clearLocationCache=g.clearLocationCache,t.getVisibleSegment=g.getVisibleSegment,t.findPointOnPath=g.findPointOnPath;var M=e(1426);t.extendFlat=M.extendFlat,t.extendDeep=M.extendDeep,t.extendDeepAll=M.extendDeepAll,t.extendDeepNoArrays=M.extendDeepNoArrays;var A=e(47769);t.log=A.log,t.warn=A.warn,t.error=A.error;var k=e(30587);t.counterRegex=k.counter;var w=e(79990);t.throttle=w.throttle,t.throttleDone=w.done,t.clearThrottle=w.clear;var E=e(24401);t.getGraphDiv=E.getGraphDiv,t.isPlotDiv=E.isPlotDiv,t.removeElement=E.removeElement,t.addStyleRule=E.addStyleRule,t.addRelatedStyleRule=E.addRelatedStyleRule,t.deleteRelatedStyleRule=E.deleteRelatedStyleRule,t.getFullTransformMatrix=E.getFullTransformMatrix,t.getElementTransformMatrix=E.getElementTransformMatrix,t.getElementAndAncestors=E.getElementAndAncestors,t.equalDomRects=E.equalDomRects,t.clearResponsive=e(86367),t.preserveDrawingBuffer=e(45142),t.makeTraceGroups=e(77310),t._=e(15867),t.notifier=e(75046),t.filterUnique=e(75744),t.filterVisible=e(76756),t.pushUnique=e(75138),t.increment=e(39240),t.cleanNumber=e(95218),t.ensureNumber=function(le){return C(le)?(le=Number(le),le>d||le<y?r:le):r},t.isIndex=function(ee,le){return le!==void 0&&ee>=le?!1:C(ee)&&ee>=0&&ee%1===0},t.noop=e(64213),t.identity=e(23389),t.repeat=function(ee,le){for(var Q=new Array(le),K=0;K<le;K++)Q[K]=ee;return Q},t.swapAttrs=function(ee,le,Q,K){Q||(Q="x"),K||(K="y");for(var ue=0;ue<le.length;ue++){var ie=le[ue],ce=t.nestedProperty(ee,ie.replace("?",Q)),xe=t.nestedProperty(ee,ie.replace("?",K)),Le=ce.get();ce.set(xe.get()),xe.set(Le)}},t.raiseToTop=function(le){le.parentNode.appendChild(le)},t.cancelTransition=function(ee){return ee.transition().duration(0)},t.constrain=function(ee,le,Q){return le>Q?Math.max(Q,Math.min(le,ee)):Math.max(le,Math.min(Q,ee))},t.bBoxIntersect=function(ee,le,Q){return Q=Q||0,ee.left<=le.right+Q&&le.left<=ee.right+Q&&ee.top<=le.bottom+Q&&le.top<=ee.bottom+Q},t.simpleMap=function(ee,le,Q,K,ue){for(var ie=ee.length,ce=new Array(ie),xe=0;xe<ie;xe++)ce[xe]=le(ee[xe],Q,K,ue);return ce},t.randstr=function ee(le,Q,K,ue){if(K||(K=16),Q===void 0&&(Q=24),Q<=0)return"0";var ie=Math.log(Math.pow(2,Q))/Math.log(K),ce="",xe,Le,Ae;for(xe=2;ie===1/0;xe*=2)ie=Math.log(Math.pow(2,Q/xe))/Math.log(K)*xe;var Oe=ie-Math.floor(ie);for(xe=0;xe<Math.floor(ie);xe++)Ae=Math.floor(Math.random()*K).toString(K),ce=Ae+ce;Oe&&(Le=Math.pow(K,Oe),Ae=Math.floor(Math.random()*Le).toString(K),ce=Ae+ce);var ze=parseInt(ce,K);return le&&le[ce]||ze!==1/0&&ze>=Math.pow(2,Q)?ue>10?(t.warn("randstr failed uniqueness"),ce):ee(le,Q,K,(ue||0)+1):ce},t.OptionControl=function(ee,le){ee||(ee={}),le||(le="opt");var Q={};return Q.optionList=[],Q._newoption=function(K){K[le]=ee,Q[K.name]=K,Q.optionList.push(K)},Q["_"+le]=ee,Q},t.smooth=function(ee,le){if(le=Math.round(le)||0,le<2)return ee;var Q=ee.length,K=2*Q,ue=2*le-1,ie=new Array(ue),ce=new Array(Q),xe,Le,Ae,Oe;for(xe=0;xe<ue;xe++)ie[xe]=(1-Math.cos(Math.PI*(xe+1)/le))/(2*le);for(xe=0;xe<Q;xe++){for(Oe=0,Le=0;Le<ue;Le++)Ae=xe+Le+1-le,Ae<-Q?Ae-=K*Math.round(Ae/K):Ae>=K&&(Ae-=K*Math.floor(Ae/K)),Ae<0?Ae=-1-Ae:Ae>=Q&&(Ae=K-1-Ae),Oe+=ee[Ae]*ie[Le];ce[xe]=Oe}return ce},t.syncOrAsync=function(ee,le,Q){var K,ue;function ie(){return t.syncOrAsync(ee,le,Q)}for(;ee.length;)if(ue=ee.splice(0,1)[0],K=ue(le),K&&K.then)return K.then(ie);return Q&&Q(le)},t.stripTrailingSlash=function(ee){return ee.substr(-1)==="/"?ee.substr(0,ee.length-1):ee},t.noneOrAll=function(ee,le,Q){if(ee){var K=!1,ue=!0,ie,ce;for(ie=0;ie<Q.length;ie++)ce=ee[Q[ie]],ce!=null?K=!0:ue=!1;if(K&&!ue)for(ie=0;ie<Q.length;ie++)ee[Q[ie]]=le[Q[ie]]}},t.mergeArray=function(ee,le,Q,K){var ue=typeof K=="function";if(t.isArrayOrTypedArray(ee))for(var ie=Math.min(ee.length,le.length),ce=0;ce<ie;ce++){var xe=ee[ce];le[ce][Q]=ue?K(xe):xe}},t.mergeArrayCastPositive=function(ee,le,Q){return t.mergeArray(ee,le,Q,function(K){var ue=+K;return isFinite(ue)&&ue>0?ue:0})},t.fillArray=function(ee,le,Q,K){if(K=K||t.identity,t.isArrayOrTypedArray(ee))for(var ue=0;ue<le.length;ue++)le[ue][Q]=K(ee[ue])},t.castOption=function(ee,le,Q,K){K=K||t.identity;var ue=t.nestedProperty(ee,Q).get();return t.isArrayOrTypedArray(ue)?Array.isArray(le)&&t.isArrayOrTypedArray(ue[le[0]])?K(ue[le[0]][le[1]]):K(ue[le]):ue},t.extractOption=function(ee,le,Q,K){if(Q in ee)return ee[Q];var ue=t.nestedProperty(le,K).get();if(!Array.isArray(ue))return ue};function b(ee){var le={};for(var Q in ee)for(var K=ee[Q],ue=0;ue<K.length;ue++)le[K[ue]]=+Q;return le}t.tagSelected=function(ee,le,Q){var K=le.selectedpoints,ue=le._indexToPoints,ie;ue&&(ie=b(ue));function ce(ze){return ze!==void 0&&ze<ee.length}for(var xe=0;xe<K.length;xe++){var Le=K[xe];if(t.isIndex(Le)||t.isArrayOrTypedArray(Le)&&t.isIndex(Le[0])&&t.isIndex(Le[1])){var Ae=ie?ie[Le]:Le,Oe=Q?Q[Ae]:Ae;ce(Oe)&&(ee[Oe].selected=1)}}},t.selIndices2selPoints=function(ee){var le=ee.selectedpoints,Q=ee._indexToPoints;if(Q){for(var K=b(Q),ue=[],ie=0;ie<le.length;ie++){var ce=le[ie];if(t.isIndex(ce)){var xe=K[ce];t.isIndex(xe)&&ue.push(xe)}}return ue}else return le},t.getTargetArray=function(ee,le){var Q=le.target;if(typeof Q=="string"&&Q){var K=t.nestedProperty(ee,Q).get();return t.isArrayOrTypedArray(K)?K:!1}else if(t.isArrayOrTypedArray(Q))return Q;return!1};function o(ee,le,Q){var K={};typeof le!="object"&&(le={});var ue=Q==="pieLike"?-1:3,ie=Object.keys(ee),ce,xe,Le;for(ce=0;ce<ie.length;ce++)xe=ie[ce],Le=ee[xe],!(xe.charAt(0)==="_"||typeof Le=="function")&&(xe==="module"?K[xe]=Le:Array.isArray(Le)?xe==="colorscale"||ue===-1?K[xe]=Le.slice():K[xe]=Le.slice(0,ue):t.isTypedArray(Le)?ue===-1?K[xe]=Le.subarray():K[xe]=Le.subarray(0,ue):Le&&typeof Le=="object"?K[xe]=o(ee[xe],le[xe],Q):K[xe]=Le);for(ie=Object.keys(le),ce=0;ce<ie.length;ce++)xe=ie[ce],Le=le[xe],(typeof Le!="object"||!(xe in K)||typeof K[xe]!="object")&&(K[xe]=Le);return K}t.minExtend=o,t.titleCase=function(ee){return ee.charAt(0).toUpperCase()+ee.substr(1)},t.containsAny=function(ee,le){for(var Q=0;Q<le.length;Q++)if(ee.indexOf(le[Q])!==-1)return!0;return!1},t.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var P=/Version\/[\d\.]+.*Safari/;t.isSafari=function(){return P.test(window.navigator.userAgent)};var x=/iPad|iPhone|iPod/;t.isIOS=function(){return x.test(window.navigator.userAgent)};var z=/Firefox\/(\d+)\.\d+/;t.getFirefoxVersion=function(){var ee=z.exec(window.navigator.userAgent);if(ee&&ee.length===2){var le=parseInt(ee[1]);if(!isNaN(le))return le}return null},t.isD3Selection=function(ee){return ee instanceof p.selection},t.ensureSingle=function(ee,le,Q,K){var ue=ee.select(le+(Q?"."+Q:""));if(ue.size())return ue;var ie=ee.append(le);return Q&&ie.classed(Q,!0),K&&ie.call(K),ie},t.ensureSingleById=function(ee,le,Q,K){var ue=ee.select(le+"#"+Q);if(ue.size())return ue;var ie=ee.append(le).attr("id",Q);return K&&ie.call(K),ie},t.objectFromPath=function(ee,le){for(var Q=ee.split("."),K,ue=K={},ie=0;ie<Q.length;ie++){var ce=Q[ie],xe=null,Le=Q[ie].match(/(.*)\[([0-9]+)\]/);Le?(ce=Le[1],xe=Le[2],K=K[ce]=[],ie===Q.length-1?K[xe]=le:K[xe]={},K=K[xe]):(ie===Q.length-1?K[ce]=le:K[ce]={},K=K[ce])}return ue};var _=/^([^\[\.]+)\.(.+)?/,G=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function F(ee){return ee.slice(0,2)==="__"}t.expandObjectPaths=function(ee){var le,Q,K,ue,ie,ce,xe;if(typeof ee=="object"&&!Array.isArray(ee)){for(Q in ee)if(ee.hasOwnProperty(Q))if(le=Q.match(_)){if(ue=ee[Q],K=le[1],F(K))continue;delete ee[Q],ee[K]=t.extendDeepNoArrays(ee[K]||{},t.objectFromPath(Q,t.expandObjectPaths(ue))[K])}else if(le=Q.match(G)){if(ue=ee[Q],K=le[1],F(K))continue;if(ie=parseInt(le[2]),delete ee[Q],ee[K]=ee[K]||[],le[3]===".")xe=le[4],ce=ee[K][ie]=ee[K][ie]||{},t.extendDeepNoArrays(ce,t.objectFromPath(xe,t.expandObjectPaths(ue)));else{if(F(K))continue;ee[K][ie]=t.expandObjectPaths(ue)}}else{if(F(Q))continue;ee[Q]=t.expandObjectPaths(ee[Q])}}return ee},t.numSeparate=function(ee,le,Q){if(Q||(Q=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof ee=="number"&&(ee=String(ee));var K=/(\d+)(\d{3})/,ue=le.charAt(0),ie=le.charAt(1),ce=ee.split("."),xe=ce[0],Le=ce.length>1?ue+ce[1]:"";if(ie&&(ce.length>1||xe.length>4||Q))for(;K.test(xe);)xe=xe.replace(K,"$1"+ie+"$2");return xe+Le},t.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;t.templateString=function(ee,le){var Q={};return ee.replace(t.TEMPLATE_STRING_REGEX,function(K,ue){var ie;return N.test(ue)?ie=le[ue]:(Q[ue]=Q[ue]||t.nestedProperty(le,ue).get,ie=Q[ue]()),t.isValidTextValue(ie)?ie:""})};var U={max:10,count:0,name:"hovertemplate"};t.hovertemplateString=function(){return oe.apply(U,arguments)};var O={max:10,count:0,name:"texttemplate"};t.texttemplateString=function(){return oe.apply(O,arguments)};var H=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function Y(ee){var le=ee.match(H);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:ee,op:null,number:null}}var q={max:10,count:0,name:"texttemplate",parseMultDiv:!0};t.texttemplateStringForShapes=function(){return oe.apply(q,arguments)};var ne=/^[:|\|]/;function oe(ee,le,Q){var K=this,ue=arguments;le||(le={});var ie={};return ee.replace(t.TEMPLATE_STRING_REGEX,function(ce,xe,Le){var Ae=xe==="xother"||xe==="yother",Oe=xe==="_xother"||xe==="_yother",ze=xe==="_xother_"||xe==="_yother_",Ee=xe==="xother_"||xe==="yother_",be=Ae||Oe||Ee||ze,Ce=xe;(Oe||ze)&&(Ce=Ce.substring(1)),(Ee||ze)&&(Ce=Ce.substring(0,Ce.length-1));var Ue=null,He=null;if(K.parseMultDiv){var Ie=Y(Ce);Ce=Ie.key,Ue=Ie.op,He=Ie.number}var Ge;if(be){if(Ge=le[Ce],Ge===void 0)return""}else{var at,lt;for(lt=3;lt<ue.length;lt++)if(at=ue[lt],!!at){if(at.hasOwnProperty(Ce)){Ge=at[Ce];break}if(N.test(Ce)||(Ge=t.nestedProperty(at,Ce).get(),Ge=ie[Ce]||t.nestedProperty(at,Ce).get(),Ge&&(ie[Ce]=Ge)),Ge!==void 0)break}}if(Ge!==void 0&&(Ue==="*"&&(Ge*=He),Ue==="/"&&(Ge/=He)),Ge===void 0&&K)return K.count<K.max&&(t.warn("Variable '"+Ce+"' in "+K.name+" could not be found!"),Ge=ce),K.count===K.max&&t.warn("Too many "+K.name+" warnings - additional warnings will be suppressed"),K.count++,ce;if(Le){var qe;if(Le[0]===":"&&(qe=Q?Q.numberFormat:t.numberFormat,Ge=qe(Le.replace(ne,""))(Ge)),Le[0]==="|"){qe=Q?Q.timeFormat:L;var et=t.dateTime2ms(Ge);Ge=t.formatDate(et,Le.replace(ne,""),!1,qe)}}else{var ft=Ce+"Label";le.hasOwnProperty(ft)&&(Ge=le[ft])}return be&&(Ge="("+Ge+")",(Oe||ze)&&(Ge=" "+Ge),(Ee||ze)&&(Ge=Ge+" ")),Ge})}var he=48,J=57;t.subplotSort=function(ee,le){for(var Q=Math.min(ee.length,le.length)+1,K=0,ue=0,ie=0;ie<Q;ie++){var ce=ee.charCodeAt(ie)||0,xe=le.charCodeAt(ie)||0,Le=ce>=he&&ce<=J,Ae=xe>=he&&xe<=J;if(Le&&(K=10*K+ce-he),Ae&&(ue=10*ue+xe-he),!Le||!Ae){if(K!==ue)return K-ue;if(ce!==xe)return ce-xe}}return ue-K};var Z=2e9;t.seedPseudoRandom=function(){Z=2e9},t.pseudoRandom=function(){var ee=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-ee)<429496729?t.pseudoRandom():Z/4294967296},t.fillText=function(ee,le,Q){var K=Array.isArray(Q)?function(ce){Q.push(ce)}:function(ce){Q.text=ce},ue=t.extractOption(ee,le,"htx","hovertext");if(t.isValidTextValue(ue))return K(ue);var ie=t.extractOption(ee,le,"tx","text");if(t.isValidTextValue(ie))return K(ie)},t.isValidTextValue=function(ee){return ee||ee===0},t.formatPercent=function(ee,le){le=le||0;for(var Q=(Math.round(100*ee*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",K=0;K<le;K++)Q.indexOf(".")!==-1&&(Q=Q.replace("0%","%"),Q=Q.replace(".%","%"));return Q},t.isHidden=function(ee){var le=window.getComputedStyle(ee).display;return!le||le==="none"},t.strTranslate=function(ee,le){return ee||le?"translate("+ee+","+le+")":""},t.strRotate=function(ee){return ee?"rotate("+ee+")":""},t.strScale=function(ee){return ee!==1?"scale("+ee+")":""},t.getTextTransform=function(ee){var le=ee.noCenter,Q=ee.textX,K=ee.textY,ue=ee.targetX,ie=ee.targetY,ce=ee.anchorX||0,xe=ee.anchorY||0,Le=ee.rotate,Ae=ee.scale;return Ae?Ae>1&&(Ae=1):Ae=0,t.strTranslate(ue-Ae*(Q+ce),ie-Ae*(K+xe))+t.strScale(Ae)+(Le?"rotate("+Le+(le?"":" "+Q+" "+K)+")":"")},t.setTransormAndDisplay=function(ee,le){ee.attr("transform",t.getTextTransform(le)),ee.style("display",le.scale?null:"none")},t.ensureUniformFontSize=function(ee,le){var Q=t.extendFlat({},le);return Q.size=Math.max(le.size,ee._fullLayout.uniformtext.minsize||0),Q},t.join2=function(ee,le,Q){var K=ee.length;return K>1?ee.slice(0,-1).join(le)+Q+ee[K-1]:ee.join(le)},t.bigFont=function(ee){return Math.round(1.2*ee)};var se=t.getFirefoxVersion(),$=se!==null&&se<86;t.getPositionFromD3Event=function(){return $?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},41965:function(V){V.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(V,B,e){var p=e(65487),L=/^\w*$/,n=0,C=1,T=2,d=3,y=4;V.exports=function(t,i,a,h){a=a||"name",h=h||"value";var u,s,m,f={};i&&i.length?(m=p(t,i),s=m.get()):s=t,i=i||"";var S={};if(s)for(u=0;u<s.length;u++)S[s[u][a]]=u;var v=L.test(h),l={set:function(g,M){var A=M===null?y:n;if(!s){if(!m||A===y)return;s=[],m.set(s)}var k=S[g];if(k===void 0){if(A===y)return;A=A|d,k=s.length,S[g]=k}else M!==(v?s[k][h]:p(s[k],h).get())&&(A=A|T);var w=s[k]=s[k]||{};return w[a]=g,v?w[h]=M:p(w,h).set(M),M!==null&&(A=A&~y),f[k]=f[k]|A,l},get:function(g){if(s){var M=S[g];if(M!==void 0)return v?s[M][h]:p(s[M],h).get()}},rename:function(g,M){var A=S[g];return A===void 0||(f[A]=f[A]|C,S[M]=A,delete S[g],s[A][a]=M),l},remove:function(g){var M=S[g];if(M===void 0)return l;var A=s[M];if(Object.keys(A).length>2)return f[M]=f[M]|T,l.set(g,null);if(v){for(u=M;u<s.length;u++)f[u]=f[u]|d;for(u=M;u<s.length;u++)S[s[u][a]]--;s.splice(M,1),delete S[g]}else p(A,h).set(null),f[M]=f[M]|T|y;return l},constructUpdate:function(){for(var g,M,A={},k=Object.keys(f),w=0;w<k.length;w++)M=k[w],g=i+"["+M+"]",s[M]?(f[M]&C&&(A[g+"."+a]=s[M][a]),f[M]&T&&(v?A[g+"."+h]=f[M]&y?null:s[M][h]:A[g+"."+h]=f[M]&y?null:p(s[M],h).get())):A[g]=null;return A}};return l}},15867:function(V,B,e){var p=e(73972);V.exports=function(n,C){for(var T=n._context.locale,d=0;d<2;d++){for(var y=n._context.locales,r=0;r<2;r++){var t=(y[T]||{}).dictionary;if(t){var i=t[C];if(i)return i}y=p.localeRegistry}var a=T.split("-")[0];if(a===T)break;T=a}return C}},47769:function(V,B,e){var p=e(72075).dfltConfig,L=e(75046),n=V.exports={};n.log=function(){var C;if(p.logging>1){var T=["LOG:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.trace.apply(console,T)}if(p.notifyOnLogging>1){var d=[];for(C=0;C<arguments.length;C++)d.push(arguments[C]);L(d.join("<br>"),"long")}},n.warn=function(){var C;if(p.logging>0){var T=["WARN:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.trace.apply(console,T)}if(p.notifyOnLogging>0){var d=[];for(C=0;C<arguments.length;C++)d.push(arguments[C]);L(d.join("<br>"),"stick")}},n.error=function(){var C;if(p.logging>0){var T=["ERROR:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.error.apply(console,T)}if(p.notifyOnLogging>0){var d=[];for(C=0;C<arguments.length;C++)d.push(arguments[C]);L(d.join("<br>"),"stick")}}},77310:function(V,B,e){var p=e(39898);V.exports=function(n,C,T){var d=n.selectAll("g."+T.replace(/\s/g,".")).data(C,function(r){return r[0].trace.uid});d.exit().remove(),d.enter().append("g").attr("class",T),d.order();var y=n.classed("rangeplot")?"nodeRangePlot3":"node3";return d.each(function(r){r[0][y]=p.select(this)}),d}},35657:function(V,B,e){var p=e(79576);B.init2dArray=function(L,n){for(var C=new Array(L),T=0;T<L;T++)C[T]=new Array(n);return C},B.transposeRagged=function(L){var n=0,C=L.length,T,d;for(T=0;T<C;T++)n=Math.max(n,L[T].length);var y=new Array(n);for(T=0;T<n;T++)for(y[T]=new Array(C),d=0;d<C;d++)y[T][d]=L[d][T];return y},B.dot=function(L,n){if(!(L.length&&n.length)||L.length!==n.length)return null;var C=L.length,T,d;if(L[0].length)for(T=new Array(C),d=0;d<C;d++)T[d]=B.dot(L[d],n);else if(n[0].length){var y=B.transposeRagged(n);for(T=new Array(y.length),d=0;d<y.length;d++)T[d]=B.dot(L,y[d])}else for(T=0,d=0;d<C;d++)T+=L[d]*n[d];return T},B.translationMatrix=function(L,n){return[[1,0,L],[0,1,n],[0,0,1]]},B.rotationMatrix=function(L){var n=L*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},B.rotationXYMatrix=function(L,n,C){return B.dot(B.dot(B.translationMatrix(n,C),B.rotationMatrix(L)),B.translationMatrix(-n,-C))},B.apply3DTransform=function(L){return function(){var n=arguments,C=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return B.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},B.apply2DTransform=function(L){return function(){var n=arguments;n.length===3&&(n=n[0]);var C=arguments.length===1?n[0]:[n[0],n[1]];return B.dot(L,[C[0],C[1],1]).slice(0,2)}},B.apply2DTransform2=function(L){var n=B.apply2DTransform(L);return function(C){return n(C.slice(0,2)).concat(n(C.slice(2,4)))}},B.convertCssMatrix=function(L){if(L){var n=L.length;if(n===16)return L;if(n===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(L){var n=[];return p.invert(n,L),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},64872:function(V){function B(p,L){var n=p%L;return n<0?n+L:n}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}V.exports={mod:B,modHalf:e}},65487:function(V,B,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;V.exports=function(h,u){if(p(u))u=String(u);else if(typeof u!="string"||u.substr(u.length-4)==="[-1]")throw"bad property string";var s=u.split("."),m,f,S,v;for(v=0;v<s.length;v++)if(String(s[v]).slice(0,2)==="__")throw"bad property string";for(v=0;v<s.length;){if(m=String(s[v]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])s[v]=m[1];else if(v===0)s.splice(0,1);else throw"bad property string";for(f=m[2].substr(1,m[2].length-2).split("]["),S=0;S<f.length;S++)v++,s.splice(v,0,Number(f[S]))}v++}return typeof h!="object"?i(h,u,s):{set:d(h,s,u),get:n(h,s),astr:u,parts:s,obj:h}};function n(a,h){return function(){var u=a,s,m,f,S,v;for(S=0;S<h.length-1;S++){if(s=h[S],s===-1){for(m=!0,f=[],v=0;v<u.length;v++)f[v]=n(u[v],h.slice(S+1))(),f[v]!==f[0]&&(m=!1);return m?f[0]:f}if(typeof s=="number"&&!L(u)||(u=u[s],typeof u!="object"||u===null))return}if(!(typeof u!="object"||u===null)&&(f=u[h[S]],f!==null))return f}}var C=/(^|\.)args\[/;function T(a,h){return a===void 0||a===null&&!h.match(C)}function d(a,h,u){return function(s){var m=a,f="",S=T(s,u),v,l;for(l=0;l<h.length-1;l++){if(v=h[l],typeof v=="number"&&!L(m))throw"array index but container is not an array";if(v===-1){if(S=!r(m,h.slice(l+1),s,u),S)break;return}if(!t(m,v,h[l+1],S))break;if(m=m[v],typeof m!="object"||m===null)throw"container is not an object";f=y(f,v)}if(S){if(l===h.length-1&&(delete m[h[l]],Array.isArray(m)&&+h[l]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[h[l]]=s}}function y(a,h){var u=h;return p(h)?u="["+h+"]":a&&(u="."+h),a+u}function r(a,h,u,s){var m=L(u),f=!0,S=u,v=s.replace("-1",0),l=m?!1:T(u,v),g=h[0],M;for(M=0;M<a.length;M++)v=s.replace("-1",M),m&&(S=u[M%u.length],l=T(S,v)),l&&(f=!1),t(a,M,g,l)&&d(a[M],h,s.replace("-1",M))(S);return f}function t(a,h,u,s){if(a[h]===void 0){if(s)return!1;typeof u=="number"?a[h]=[]:a[h]={}}return!0}function i(a,h,u){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:u,obj:a}}},64213:function(V){V.exports=function(){}},75046:function(V,B,e){var p=e(39898),L=e(92770),n=[];V.exports=function(C,T){if(n.indexOf(C)!==-1)return;n.push(C);var d=1e3;L(T)?d=T:T==="long"&&(d=3e3);var y=p.select("body").selectAll(".plotly-notifier").data([0]);y.enter().append("div").classed("plotly-notifier",!0);var r=y.selectAll(".notifier-note").data(n);function t(i){i.duration(700).style("opacity",0).each("end",function(a){var h=n.indexOf(a);h!==-1&&n.splice(h,1),p.select(this).remove()})}r.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var a=p.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(t)});for(var h=a.append("p"),u=i.split(/<br\s*\/?>/g),s=0;s<u.length;s++)s&&h.append("br"),h.append("span").text(u[s]);T==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(d).call(t)})}},39918:function(V,B,e){var p=e(6964),L="data-savedcursor",n="!!";V.exports=function(T,d){var y=T.attr(L);if(d){if(!y){for(var r=(T.attr("class")||"").split(" "),t=0;t<r.length;t++){var i=r[t];i.indexOf("cursor-")===0&&T.attr(L,i.substr(7)).classed(i,!1)}T.attr(L)||T.attr(L,n)}p(T,d)}else y&&(T.attr(L,null),y===n?p(T):p(T,y))}},61082:function(V,B,e){var p=e(35657).dot,L=e(50606).BADNUM,n=V.exports={};n.tester=function(T){var d=T.slice(),y=d[0][0],r=y,t=d[0][1],i=t,a;for((d[d.length-1][0]!==d[0][0]||d[d.length-1][1]!==d[0][1])&&d.push(d[0]),a=1;a<d.length;a++)y=Math.min(y,d[a][0]),r=Math.max(r,d[a][0]),t=Math.min(t,d[a][1]),i=Math.max(i,d[a][1]);var h=!1,u;d.length===5&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(h=!0,u=function(v){return v[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(h=!0,u=function(v){return v[1]===d[0][1]}));function s(v,l){var g=v[0],M=v[1];return!(g===L||g<y||g>r||M===L||M<t||M>i||l&&u(v))}function m(v,l){var g=v[0],M=v[1];if(g===L||g<y||g>r||M===L||M<t||M>i)return!1;var A=d.length,k=d[0][0],w=d[0][1],E=0,b,o,P,x,z;for(b=1;b<A;b++)if(o=k,P=w,k=d[b][0],w=d[b][1],x=Math.min(o,k),!(g<x||g>Math.max(o,k)||M>Math.max(P,w)))if(M<Math.min(P,w))g!==x&&E++;else{if(k===o?z=M:z=P+(g-o)*(w-P)/(k-o),M===z)return!(b===1&&l);M<=z&&g!==x&&E++}return E%2===1}var f=!0,S=d[0];for(a=1;a<d.length;a++)if(S[0]!==d[a][0]||S[1]!==d[a][1]){f=!1;break}return{xmin:y,xmax:r,ymin:t,ymax:i,pts:d,contains:h?s:m,isRect:h,degenerate:f}},n.isSegmentBent=function(T,d,y,r){var t=T[d],i=[T[y][0]-t[0],T[y][1]-t[1]],a=p(i,i),h=Math.sqrt(a),u=[-i[1]/h,i[0]/h],s,m,f;for(s=d+1;s<y;s++)if(m=[T[s][0]-t[0],T[s][1]-t[1]],f=p(m,i),f<0||f>a||Math.abs(p(m,u))>r)return!0;return!1},n.filter=function(T,d){var y=[T[0]],r=0,t=0;function i(h){T.push(h);var u=y.length,s=r;y.splice(t+1);for(var m=s+1;m<T.length;m++)(m===T.length-1||n.isSegmentBent(T,s,m+1,d))&&(y.push(T[m]),y.length<u-2&&(r=m,t=y.length-1),s=m)}if(T.length>1){var a=T.pop();i(a)}return{addPt:i,raw:T,filtered:y}}},79749:function(V,B,e){var p=e(58617),L=e(98580);V.exports=function(C,T,d){var y=C._fullLayout,r=!0;return y._glcanvas.each(function(t){if(t.regl){t.regl.preloadCachedCode(d);return}if(!(t.pick&&!y._has("parcoords"))){try{t.regl=L({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:d||{}})}catch{r=!1}t.regl||(r=!1),r&&this.addEventListener("webglcontextlost",function(i){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),r||p({container:y._glcontainer.node()}),r}},45142:function(V,B,e){var p=e(92770),L=e(35791);V.exports=function(T){var d;if(T&&T.hasOwnProperty("userAgent")?d=T.userAgent:d=n(),typeof d!="string")return!0;var y=L({ua:{headers:{"user-agent":d}},tablet:!0,featureDetect:!1});if(!y)for(var r=d.split(" "),t=1;t<r.length;t++){var i=r[t];if(i.indexOf("Safari")!==-1)for(var a=t-1;a>-1;a--){var h=r[a];if(h.substr(0,8)==="Version/"){var u=h.substr(8).split(".")[0];if(p(u)&&(u=+u),u>=13)return!0}}}return y};function n(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},75138:function(V){V.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},10847:function(V,B,e){var p=e(71828),L=e(72075).dfltConfig;function n(T,d){for(var y=[],r,t=0;t<d.length;t++)r=d[t],r===T?y[t]=r:typeof r=="object"?y[t]=Array.isArray(r)?p.extendDeep([],r):p.extendDeepAll({},r):y[t]=r;return y}var C={};C.add=function(T,d,y,r,t){var i,a;if(T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},a=T.undoQueue.index,T.autoplay){T.undoQueue.inSequence||(T.autoplay=!1);return}!T.undoQueue.sequence||T.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(a,T.undoQueue.queue.length-a,i),T.undoQueue.index+=1):i=T.undoQueue.queue[a-1],T.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(d),i.undo.args.unshift(y),i.redo.calls.push(r),i.redo.args.push(t)),T.undoQueue.queue.length>L.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--)},C.startSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},C.stopSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},C.undo=function(d){var y,r;if(!(d.undoQueue===void 0||isNaN(d.undoQueue.index)||d.undoQueue.index<=0)){for(d.undoQueue.index--,y=d.undoQueue.queue[d.undoQueue.index],d.undoQueue.inSequence=!0,r=0;r<y.undo.calls.length;r++)C.plotDo(d,y.undo.calls[r],y.undo.args[r]);d.undoQueue.inSequence=!1,d.autoplay=!1}},C.redo=function(d){var y,r;if(!(d.undoQueue===void 0||isNaN(d.undoQueue.index)||d.undoQueue.index>=d.undoQueue.queue.length)){for(y=d.undoQueue.queue[d.undoQueue.index],d.undoQueue.inSequence=!0,r=0;r<y.redo.calls.length;r++)C.plotDo(d,y.redo.calls[r],y.redo.args[r]);d.undoQueue.inSequence=!1,d.autoplay=!1,d.undoQueue.index++}},C.plotDo=function(T,d,y){T.autoplay=!0,y=n(T,y),d.apply(null,y)},V.exports=C},30587:function(V,B){B.counter=function(e,p,L,n){var C=(p||"")+(L?"":"$"),T=n===!1?"":"^";return e==="xy"?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(T+e+"([2-9]|[1-9][0-9]+)?"+C)}},6962:function(V){var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;V.exports=function(p,L){for(;L;){var n=p.match(B);if(n)p=n[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51332:function(V,B,e){var p=e(73627).isArrayOrTypedArray,L=e(41965);V.exports=function n(C,T){for(var d in T){var y=T[d],r=C[d];if(r!==y)if(d.charAt(0)==="_"||typeof y=="function"){if(d in C)continue;C[d]=y}else if(p(y)&&p(r)&&L(y[0])){if(d==="customdata"||d==="ids")continue;for(var t=Math.min(y.length,r.length),i=0;i<t;i++)r[i]!==y[i]&&L(y[i])&&L(r[i])&&n(r[i],y[i])}else L(y)&&L(r)&&(n(r,y),Object.keys(r).length||delete C[d])}}},65888:function(V,B,e){var p=e(92770),L=e(47769),n=e(23389),C=e(50606).BADNUM,T=1e-9;B.findBin=function(i,a,h){if(p(a.start))return h?Math.ceil((i-a.start)/a.size-T)-1:Math.floor((i-a.start)/a.size+T);var u=0,s=a.length,m=0,f=s>1?(a[s-1]-a[0])/(s-1):1,S,v;for(f>=0?v=h?d:y:v=h?t:r,i+=f*T*(h?-1:1)*(f>=0?1:-1);u<s&&m++<100;)S=Math.floor((u+s)/2),v(a[S],i)?u=S+1:s=S;return m>90&&L.log("Long binary search..."),u-1};function d(i,a){return i<a}function y(i,a){return i<=a}function r(i,a){return i>a}function t(i,a){return i>=a}B.sorterAsc=function(i,a){return i-a},B.sorterDes=function(i,a){return a-i},B.distinctVals=function(i){var a=i.slice();a.sort(B.sorterAsc);var h;for(h=a.length-1;h>-1&&a[h]===C;h--);for(var u=a[h]-a[0]||1,s=u/(h||1)/1e4,m=[],f,S=0;S<=h;S++){var v=a[S],l=v-f;f===void 0?(m.push(v),f=v):l>s&&(u=Math.min(u,l),m.push(v),f=v)}return{vals:m,minDiff:u}},B.roundUp=function(i,a,h){for(var u=0,s=a.length-1,m,f=0,S=h?0:1,v=h?1:0,l=h?Math.ceil:Math.floor;u<s&&f++<100;)m=l((u+s)/2),a[m]<=i?u=m+S:s=m-v;return a[u]},B.sort=function(i,a){for(var h=0,u=0,s=1;s<i.length;s++){var m=a(i[s],i[s-1]);if(m<0?h=1:m>0&&(u=1),h&&u)return i.sort(a)}return u?i:i.reverse()},B.findIndexOfMin=function(i,a){a=a||n;for(var h=1/0,u,s=0;s<i.length;s++){var m=a(i[s]);m<h&&(h=m,u=s)}return u}},6964:function(V){V.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},58617:function(V,B,e){var p=e(7901),L=function(){};V.exports=function(C){for(var T in C)typeof C[T]=="function"&&(C[T]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var d=document.createElement("div");d.className="no-webgl",d.style.cursor="pointer",d.style.fontSize="24px",d.style.color=p.defaults[0],d.style.position="absolute",d.style.left=d.style.top="0px",d.style.width=d.style.height="100%",d.style["background-color"]=p.lightLine,d.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",d.appendChild(y),C.container.appendChild(d),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(V){V.exports=function(e){return Object.keys(e).sort()}},80038:function(V,B,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;B.aggNums=function(n,C,T,d){var y,r;if((!d||d>T.length)&&(d=T.length),p(C)||(C=!1),L(T[0])){for(r=new Array(d),y=0;y<d;y++)r[y]=B.aggNums(n,C,T[y]);T=r}for(y=0;y<d;y++)p(C)?p(T[y])&&(C=n(+C,+T[y])):C=T[y];return C},B.len=function(n){return B.aggNums(function(C){return C+1},0,n)},B.mean=function(n,C){return C||(C=B.len(n)),B.aggNums(function(T,d){return T+d},0,n)/C},B.midRange=function(n){if(!(n===void 0||n.length===0))return(B.aggNums(Math.max,null,n)+B.aggNums(Math.min,null,n))/2},B.variance=function(n,C,T){return C||(C=B.len(n)),p(T)||(T=B.mean(n,C)),B.aggNums(function(d,y){return d+Math.pow(y-T,2)},0,n)/C},B.stdev=function(n,C,T){return Math.sqrt(B.variance(n,C,T))},B.median=function(n){var C=n.slice().sort();return B.interp(C,.5)},B.interp=function(n,C){if(!p(C))throw"n should be a finite number";if(C=C*n.length-.5,C<0)return n[0];if(C>n.length-1)return n[n.length-1];var T=C%1;return T*n[Math.ceil(C)]+(1-T)*n[Math.floor(C)]}},78614:function(V,B,e){var p=e(25075);function L(n){return n?p(n):[0,0,0,1]}V.exports=L},3883:function(V,B,e){var p=e(32396),L=e(91424),n=e(71828),C=null;function T(){if(C!==null)return C;C=!1;var d=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!d){var y=Array.from(p.CSS_DECLARATIONS).reverse(),r=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof r=="function")C=y.some(function(h){return r.apply(null,h)});else{var t=L.tester.append("image").attr("style",p.STYLE),i=window.getComputedStyle(t.node()),a=i.imageRendering;C=y.some(function(h){var u=h[1];return a===u||a===u.toLowerCase()}),t.remove()}}return C}V.exports=T},63893:function(V,B,e){var p=e(39898),L=e(71828),n=L.strTranslate,C=e(77922),T=e(18783).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(U,O,H){var Y=U.text(),q=!U.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&Y.match(d),ne=p.select(U.node().parentNode);if(ne.empty())return;var oe=U.attr("class")?U.attr("class").split(" ")[0]:"text";oe+="-math",ne.selectAll("svg."+oe).remove(),ne.selectAll("g."+oe+"-group").remove(),U.style("display",null).attr({"data-unformatted":Y,"data-math":"N"});function he(){ne.empty()||(oe=U.attr("class")+"-math",ne.select("svg."+oe).remove()),U.text("").style("white-space","pre");var J=_(U.node(),Y);J&&U.style("pointer-events","all"),B.positionText(U),H&&H.call(U)}return q?(O&&O._promises||[]).push(new Promise(function(J){U.style("display","none");var Z=parseInt(U.node().style.fontSize,10),se={fontSize:Z};a(q[2],se,function($,ee,le){ne.selectAll("svg."+oe).remove(),ne.selectAll("g."+oe+"-group").remove();var Q=$&&$.select("svg");if(!Q||!Q.node()){he(),J();return}var K=ne.append("g").classed(oe+"-group",!0).attr({"pointer-events":"none","data-unformatted":Y,"data-math":"Y"});K.node().appendChild(Q.node()),ee&&ee.node()&&Q.node().insertBefore(ee.node().cloneNode(!0),Q.node().firstChild);var ue=le.width,ie=le.height;Q.attr({class:oe,height:ie,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ce=U.node().style.fill||"black",xe=Q.select("g");xe.attr({fill:ce,stroke:ce});var Le=xe.node().getBoundingClientRect(),Ae=Le.width,Oe=Le.height;(Ae>ue||Oe>ie)&&(Q.style("overflow","hidden"),Le=Q.node().getBoundingClientRect(),Ae=Le.width,Oe=Le.height);var ze=+U.attr("x"),Ee=+U.attr("y"),be=Z||U.node().getBoundingClientRect().height,Ce=-be/4;if(oe[0]==="y")K.attr({transform:"rotate("+[-90,ze,Ee]+")"+n(-Ae/2,Ce-Oe/2)});else if(oe[0]==="l")Ee=Ce-Oe/2;else if(oe[0]==="a"&&oe.indexOf("atitle")!==0)ze=0,Ee=Ce;else{var Ue=U.attr("text-anchor");ze=ze-Ae*(Ue==="middle"?.5:Ue==="end"?1:0),Ee=Ee+Ce-Oe/2}Q.attr({x:ze,y:Ee}),H&&H.call(U,K),J(K)})})):he(),U};var y=/(<|&lt;|&#60;)/g,r=/(>|&gt;|&#62;)/g;function t(U){return U.replace(y,"\\lt ").replace(r,"\\gt ")}var i=[["$","$"],["\\(","\\)"]];function a(U,O,H){var Y=parseInt((MathJax.version||"").split(".")[0]);if(Y!==2&&Y!==3){L.warn("No MathJax version:",MathJax.version);return}var q,ne,oe,he,J=function(){return ne=L.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},Z=function(){ne=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i},se=function(){if(q=MathJax.Hub.config.menuSettings.renderer,q!=="SVG")return MathJax.Hub.setRenderer("SVG")},$=function(){q=MathJax.config.startup.output,q!=="svg"&&(MathJax.config.startup.output="svg")},ee=function(){var ce="math-output-"+L.randstr({},64);he=p.select("body").append("div").attr({id:ce}).style({visibility:"hidden",position:"absolute","font-size":O.fontSize+"px"}).text(t(U));var xe=he.node();return Y===2?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},le=function(){var ce=he.select(Y===2?".MathJax_SVG":".MathJax"),xe=!ce.empty()&&he.select("svg").node();if(!xe)L.log("There was an error in the tex syntax.",U),H();else{var Le=xe.getBoundingClientRect(),Ae;Y===2?Ae=p.select("body").select("#MathJax_SVG_glyphs"):Ae=ce.select("defs"),H(ce,Ae,Le)}he.remove()},Q=function(){if(q!=="SVG")return MathJax.Hub.setRenderer(q)},K=function(){q!=="svg"&&(MathJax.config.startup.output=q)},ue=function(){return oe!==void 0&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(ne)},ie=function(){MathJax.config=ne};Y===2?MathJax.Hub.Queue(J,se,ee,le,Q,ue):Y===3&&(Z(),$(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ee(),le(),K(),ie()}))}var h={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},u={sub:"0.3em",sup:"-0.6em"},s={sub:"-0.21em",sup:"0.42em"},m="",f=["http:","https:","mailto:","",void 0,":"],S=B.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,l=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,A=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,w=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(U,O){if(!U)return null;var H=U.match(O),Y=H&&(H[3]||H[4]);return Y&&x(Y)}var b=/(^|;)\s*color:/;B.plainText=function(U,O){O=O||{};for(var H=O.len!==void 0&&O.len!==-1?O.len:1/0,Y=O.allowedTags!==void 0?O.allowedTags:["br"],q="...",ne=q.length,oe=U.split(v),he=[],J="",Z=0,se=0;se<oe.length;se++){var $=oe[se],ee=$.match(l),le=ee&&ee[2].toLowerCase();if(le)Y.indexOf(le)!==-1&&(he.push($),J=le);else{var Q=$.length;if(Z+Q<H)he.push($),Z+=Q;else if(Z<H){var K=H-Z;J&&(J!=="br"||K<=ne||Q<=ne)&&he.pop(),H>ne?he.push($.substr(0,K-ne)+q):he.push($.substr(0,K));break}J=""}}return he.join("")};var o={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},P=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function x(U){return U.replace(P,function(O,H){var Y;return H.charAt(0)==="#"?Y=z(H.charAt(1)==="x"?parseInt(H.substr(2),16):parseInt(H.substr(1),10)):Y=o[H],Y||O})}B.convertEntities=x;function z(U){if(!(U>1114111)){var O=String.fromCodePoint;if(O)return O(U);var H=String.fromCharCode;return U<=65535?H(U):H((U>>10)+55232,U%1024+56320)}}function _(U,O){O=O.replace(S," ");var H=!1,Y=[],q,ne=-1;function oe(){ne++;var Oe=document.createElementNS(C.svg,"tspan");p.select(Oe).attr({class:"line",dy:ne*T+"em"}),U.appendChild(Oe),q=Oe;var ze=Y;if(Y=[{node:Oe}],ze.length>1)for(var Ee=1;Ee<ze.length;Ee++)he(ze[Ee])}function he(Oe){var ze=Oe.type,Ee={},be;if(ze==="a"){be="a";var Ce=Oe.target,Ue=Oe.href,He=Oe.popup;Ue&&(Ee={"xlink:xlink:show":Ce==="_blank"||Ce.charAt(0)!=="_"?"new":"replace",target:Ce,"xlink:xlink:href":Ue},He&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+He+'");return false;'))}else be="tspan";Oe.style&&(Ee.style=Oe.style);var Ie=document.createElementNS(C.svg,be);if(ze==="sup"||ze==="sub"){J(q,m),q.appendChild(Ie);var Ge=document.createElementNS(C.svg,"tspan");J(Ge,m),p.select(Ge).attr("dy",s[ze]),Ee.dy=u[ze],q.appendChild(Ie),q.appendChild(Ge)}else q.appendChild(Ie);p.select(Ie).attr(Ee),q=Oe.node=Ie,Y.push(Oe)}function J(Oe,ze){Oe.appendChild(document.createTextNode(ze))}function Z(Oe){if(Y.length===1){L.log("Ignoring unexpected end tag </"+Oe+">.",O);return}var ze=Y.pop();Oe!==ze.type&&L.log("Start tag <"+ze.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",O),q=Y[Y.length-1].node}var se=g.test(O);se?oe():(q=U,Y=[{node:U}]);for(var $=O.split(v),ee=0;ee<$.length;ee++){var le=$[ee],Q=le.match(l),K=Q&&Q[2].toLowerCase(),ue=h[K];if(K==="br")oe();else if(ue===void 0)J(q,x(le));else if(Q[1])Z(K);else{var ie=Q[4],ce={type:K},xe=E(ie,M);if(xe?(xe=xe.replace(b,"$1 fill:"),ue&&(xe+=";"+ue)):ue&&(xe=ue),xe&&(ce.style=xe),K==="a"){H=!0;var Le=E(ie,A);if(Le){var Ae=G(Le);Ae&&(ce.href=Ae,ce.target=E(ie,k)||"_blank",ce.popup=E(ie,w))}}he(ce)}}return H}function G(U){var O=encodeURI(decodeURI(U)),H=document.createElement("a"),Y=document.createElement("a");H.href=U,Y.href=O;var q=H.protocol,ne=Y.protocol;return f.indexOf(q)!==-1&&f.indexOf(ne)!==-1?O:""}B.sanitizeHTML=function(O){O=O.replace(S," ");for(var H=document.createElement("p"),Y=H,q=[],ne=O.split(v),oe=0;oe<ne.length;oe++){var he=ne[oe],J=he.match(l),Z=J&&J[2].toLowerCase();if(Z in h)if(J[1])q.length&&(Y=q.pop());else{var se=J[4],$=E(se,M),ee=$?{style:$}:{};if(Z==="a"){var le=E(se,A);if(le){var Q=G(le);if(Q){ee.href=Q;var K=E(se,k);K&&(ee.target=K)}}}var ue=document.createElement(Z);Y.appendChild(ue),p.select(ue).attr(ee),Y=ue,q.push(ue)}else Y.appendChild(document.createTextNode(x(he)))}var ie="innerHTML";return H[ie]},B.lineCount=function(O){return O.selectAll("tspan.line").size()||1},B.positionText=function(O,H,Y){return O.each(function(){var q=p.select(this);function ne(J,Z){return Z===void 0?(Z=q.attr(J),Z===null&&(q.attr(J,0),Z=0)):q.attr(J,Z),Z}var oe=ne("x",H),he=ne("y",Y);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:oe,y:he})})};function F(U,O,H){var Y=H.horizontalAlign,q=H.verticalAlign||"top",ne=U.node().getBoundingClientRect(),oe=O.node().getBoundingClientRect(),he,J,Z;return q==="bottom"?J=function(){return ne.bottom-he.height}:q==="middle"?J=function(){return ne.top+(ne.height-he.height)/2}:J=function(){return ne.top},Y==="right"?Z=function(){return ne.right-he.width}:Y==="center"?Z=function(){return ne.left+(ne.width-he.width)/2}:Z=function(){return ne.left},function(){he=this.node().getBoundingClientRect();var se=Z()-oe.left,$=J()-oe.top,ee=H.gd||{};if(H.gd){ee._fullLayout._calcInverseTransform(ee);var le=L.apply3DTransform(ee._fullLayout._invTransform)(se,$);se=le[0],$=le[1]}return this.style({top:$+"px",left:se+"px","z-index":1e3}),this}}var N="1px ";B.makeTextShadow=function(U){var O=N,H=N,Y=N;return O+H+Y+U+", -"+O+"-"+H+Y+U+", "+O+"-"+H+Y+U+", -"+O+H+Y+U},B.makeEditable=function(U,O){var H=O.gd,Y=O.delegate,q=p.dispatch("edit","input","cancel"),ne=Y||U;if(U.style({"pointer-events":Y?"none":"all"}),U.size()!==1)throw new Error("boo");function oe(){J(),U.style({opacity:0});var Z=ne.attr("class"),se;Z?se="."+Z.split(" ")[0]+"-math-group":se="[class*=-math-group]",se&&p.select(U.node().parentNode).select(se).style({opacity:0})}function he(Z){var se=Z.node(),$=document.createRange();$.selectNodeContents(se);var ee=window.getSelection();ee.removeAllRanges(),ee.addRange($),se.focus()}function J(){var Z=p.select(H),se=Z.select(".svg-container"),$=se.append("div"),ee=U.node().style,le=parseFloat(ee.fontSize||12),Q=O.text;Q===void 0&&(Q=U.attr("data-unformatted")),$.classed("plugin-editable editable",!0).style({position:"absolute","font-family":ee.fontFamily||"Arial","font-size":le,color:O.fill||ee.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(F(U,se,O)).on("blur",function(){H._editing=!1,U.text(this.textContent).style({opacity:1});var K=p.select(this).attr("class"),ue;K?ue="."+K.split(" ")[0]+"-math-group":ue="[class*=-math-group]",ue&&p.select(U.node().parentNode).select(ue).style({opacity:0});var ie=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),q.edit.call(U,ie)}).on("focus",function(){var K=this;H._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===K)return!1;document.activeElement===$.node()&&$.node().blur()})}).on("keyup",function(){p.event.which===27?(H._editing=!1,U.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(U,this.textContent)):(q.input.call(U,this.textContent),p.select(this).call(F(U,se,O)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(he)}return O.immediate?oe():ne.on("click",oe),p.rebind(U,q,"on")}},79990:function(V,B){var e={};B.throttle=function(n,C,T){var d=e[n],y=Date.now();if(!d){for(var r in e)e[r].ts<y-6e4&&delete e[r];d=e[n]={ts:0,timer:null}}p(d);function t(){T(),d.ts=Date.now(),d.onDone&&(d.onDone(),d.onDone=null)}if(y>d.ts+C){t();return}d.timer=setTimeout(function(){t(),d.timer=null},C)},B.done=function(L){var n=e[L];return!n||!n.timer?Promise.resolve():new Promise(function(C){var T=n.onDone;n.onDone=function(){T&&T(),C(),n.onDone=null}})},B.clear=function(L){if(L)p(e[L]),delete e[L];else for(var n in e)B.clear(n)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},58163:function(V,B,e){var p=e(92770);V.exports=function(n,C){if(n>0)return Math.log(n)/Math.LN10;var T=Math.log(Math.min(C[0],C[1]))/Math.LN10;return p(T)||(T=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),T}},90973:function(V,B,e){var p=V.exports={},L=e(78776).locationmodeToLayer,n=e(96892).zL;p.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(C,T){return C+T+".json"},p.getTopojsonFeatures=function(C,T){var d=L[C.locationmode],y=T.objects[d];return n(T,y).features}},37815:function(V){V.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(V){V.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(V,B,e){var p=e(73972);V.exports=function(n){for(var C=p.layoutArrayContainers,T=p.layoutArrayRegexes,d=n.split("[")[0],y,r,t=0;t<T.length;t++)if(r=n.match(T[t]),r&&r.index===0){y=r[0];break}if(y||(y=C[C.indexOf(d)]),!y)return!1;var i=n.substr(y.length);return i?(r=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),r?{array:y,index:Number(r[1]),property:r[3]||""}:!1):{array:y,index:"",property:""}}},30962:function(V,B,e){var p=e(1426).extendFlat,L=e(41965),n={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},T=n.flags.slice().concat(["fullReplot"]),d=C.flags.slice().concat("layoutReplot");V.exports={traces:n,layout:C,traceFlags:function(){return y(T)},layoutFlags:function(){return y(d)},update:function(i,a){var h=a.editType;if(h&&h!=="none")for(var u=h.split("+"),s=0;s<u.length;s++)i[u[s]]=!0},overrideAll:r};function y(i){for(var a={},h=0;h<i.length;h++)a[i[h]]=!1;return a}function r(i,a,h){var u=p({},i);for(var s in u){var m=u[s];L(m)&&(u[s]=t(m,a,h,s))}return h==="from-root"&&(u.editType=a),u}function t(i,a,h,u){if(i.valType){var s=p({},i);if(s.editType=a,Array.isArray(i.items)){s.items=new Array(i.items.length);for(var m=0;m<i.items.length;m++)s.items[m]=t(i.items[m],a)}return s}else return r(i,a,u.charAt(0)==="_"?"nested":"from-root")}},58377:function(V,B,e){var p=e(92770),L=e(27812),n=e(73972),C=e(71828),T=e(74875),d=e(41675),y=e(7901),r=d.cleanId,t=d.getFromTrace,i=n.traceIs;B.clearPromiseQueue=function(g){Array.isArray(g._promises)&&g._promises.length>0&&C.log("Clearing previous rejected promises from queue."),g._promises=[]},B.cleanLayout=function(g){var M,A;g||(g={}),g.xaxis1&&(g.xaxis||(g.xaxis=g.xaxis1),delete g.xaxis1),g.yaxis1&&(g.yaxis||(g.yaxis=g.yaxis1),delete g.yaxis1),g.scene1&&(g.scene||(g.scene=g.scene1),delete g.scene1);var k=(T.subplotsRegistry.cartesian||{}).attrRegex,w=(T.subplotsRegistry.polar||{}).attrRegex,E=(T.subplotsRegistry.ternary||{}).attrRegex,b=(T.subplotsRegistry.gl3d||{}).attrRegex,o=Object.keys(g);for(M=0;M<o.length;M++){var P=o[M];if(k&&k.test(P)){var x=g[P];x.anchor&&x.anchor!=="free"&&(x.anchor=r(x.anchor)),x.overlaying&&(x.overlaying=r(x.overlaying)),x.type||(x.isdate?x.type="date":x.islog?x.type="log":x.isdate===!1&&x.islog===!1&&(x.type="linear")),(x.autorange==="withzero"||x.autorange==="tozero")&&(x.autorange=!0,x.rangemode="tozero"),x.insiderange&&delete x.range,delete x.islog,delete x.isdate,delete x.categories,f(x,"domain")&&delete x.domain,x.autotick!==void 0&&(x.tickmode===void 0&&(x.tickmode=x.autotick?"auto":"linear"),delete x.autotick),h(x)}else if(w&&w.test(P)){var z=g[P];h(z.radialaxis)}else if(E&&E.test(P)){var _=g[P];h(_.aaxis),h(_.baxis),h(_.caxis)}else if(b&&b.test(P)){var G=g[P],F=G.cameraposition;if(Array.isArray(F)&&F[0].length===4){var N=F[0],U=F[1],O=F[2],H=L([],N),Y=[];for(A=0;A<3;++A)Y[A]=U[A]+O*H[2+4*A];G.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:U[0],y:U[1],z:U[2]},up:{x:0,y:0,z:1}},delete G.cameraposition}h(G.xaxis),h(G.yaxis),h(G.zaxis)}}var q=Array.isArray(g.annotations)?g.annotations.length:0;for(M=0;M<q;M++){var ne=g.annotations[M];C.isPlainObject(ne)&&(ne.ref&&(ne.ref==="paper"?(ne.xref="paper",ne.yref="paper"):ne.ref==="data"&&(ne.xref="x",ne.yref="y"),delete ne.ref),a(ne,"xref"),a(ne,"yref"))}var oe=Array.isArray(g.shapes)?g.shapes.length:0;for(M=0;M<oe;M++){var he=g.shapes[M];C.isPlainObject(he)&&(a(he,"xref"),a(he,"yref"))}var J=Array.isArray(g.images)?g.images.length:0;for(M=0;M<J;M++){var Z=g.images[M];C.isPlainObject(Z)&&(a(Z,"xref"),a(Z,"yref"))}var se=g.legend;return se&&(se.x>3?(se.x=1.02,se.xanchor="left"):se.x<-2&&(se.x=-.02,se.xanchor="right"),se.y>3?(se.y=1.02,se.yanchor="bottom"):se.y<-2&&(se.y=-.02,se.yanchor="top")),h(g),g.dragmode==="rotate"&&(g.dragmode="orbit"),y.clean(g),g.template&&g.template.layout&&B.cleanLayout(g.template.layout),g};function a(g,M){var A=g[M],k=M.charAt(0);A&&A!=="paper"&&(g[M]=r(A,k,!0))}function h(g){g&&((typeof g.title=="string"||typeof g.title=="number")&&(g.title={text:g.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"));function M(A,k){var w=g[A],E=g.title&&g.title[k];w&&!E&&(g.title||(g.title={}),g.title[k]=g[A],delete g[A])}}B.cleanData=function(g){for(var M=0;M<g.length;M++){var A=g[M],k;if(A.type==="histogramy"&&"xbins"in A&&!("ybins"in A)&&(A.ybins=A.xbins,delete A.xbins),A.error_y&&"opacity"in A.error_y){var w=y.defaults,E=A.error_y.color||(i(A,"bar")?y.defaultLine:w[M%w.length]);A.error_y.color=y.addOpacity(y.rgb(E),y.opacity(E)*A.error_y.opacity),delete A.error_y.opacity}if("bardir"in A&&(A.bardir==="h"&&(i(A,"bar")||A.type.substr(0,9)==="histogram")&&(A.orientation="h",B.swapXYData(A)),delete A.bardir),A.type==="histogramy"&&B.swapXYData(A),(A.type==="histogramx"||A.type==="histogramy")&&(A.type="histogram"),"scl"in A&&!("colorscale"in A)&&(A.colorscale=A.scl,delete A.scl),"reversescl"in A&&!("reversescale"in A)&&(A.reversescale=A.reversescl,delete A.reversescl),A.xaxis&&(A.xaxis=r(A.xaxis,"x")),A.yaxis&&(A.yaxis=r(A.yaxis,"y")),i(A,"gl3d")&&A.scene&&(A.scene=T.subplotsRegistry.gl3d.cleanId(A.scene)),!i(A,"pie-like")&&!i(A,"bar-like"))if(Array.isArray(A.textposition))for(k=0;k<A.textposition.length;k++)A.textposition[k]=m(A.textposition[k]);else A.textposition&&(A.textposition=m(A.textposition));var b=n.getModule(A);if(b&&b.colorbar){var o=b.colorbar.container,P=o?A[o]:A;P&&P.colorscale&&(P.colorscale==="YIGnBu"&&(P.colorscale="YlGnBu"),P.colorscale==="YIOrRd"&&(P.colorscale="YlOrRd"))}if(A.type==="surface"&&C.isPlainObject(A.contours)){var x=["x","y","z"];for(k=0;k<x.length;k++){var z=A.contours[x[k]];C.isPlainObject(z)&&(z.highlightColor&&(z.highlightcolor=z.highlightColor,delete z.highlightColor),z.highlightWidth&&(z.highlightwidth=z.highlightWidth,delete z.highlightWidth))}}if(A.type==="candlestick"||A.type==="ohlc"){var _=(A.increasing||{}).showlegend!==!1,G=(A.decreasing||{}).showlegend!==!1,F=u(A.increasing),N=u(A.decreasing);if(F!==!1&&N!==!1){var U=s(F,N,_,G);U&&(A.name=U)}else(F||N)&&!A.name&&(A.name=F||N)}if(Array.isArray(A.transforms)){var O=A.transforms;for(k=0;k<O.length;k++){var H=O[k];if(C.isPlainObject(H))switch(H.type){case"filter":H.filtersrc&&(H.target=H.filtersrc,delete H.filtersrc),H.calendar&&(H.valuecalendar||(H.valuecalendar=H.calendar),delete H.calendar);break;case"groupby":if(H.styles=H.styles||H.style,H.styles&&!Array.isArray(H.styles)){var Y=H.styles,q=Object.keys(Y);H.styles=[];for(var ne=0;ne<q.length;ne++)H.styles.push({target:q[ne],value:Y[q[ne]]})}break}}}f(A,"line")&&delete A.line,"marker"in A&&(f(A.marker,"line")&&delete A.marker.line,f(A,"marker")&&delete A.marker),y.clean(A),A.autobinx&&(delete A.autobinx,delete A.xbins),A.autobiny&&(delete A.autobiny,delete A.ybins),h(A),A.colorbar&&h(A.colorbar),A.marker&&A.marker.colorbar&&h(A.marker.colorbar),A.line&&A.line.colorbar&&h(A.line.colorbar),A.aaxis&&h(A.aaxis),A.baxis&&h(A.baxis)}};function u(g){if(!C.isPlainObject(g))return!1;var M=g.name;return delete g.name,delete g.showlegend,(typeof M=="string"||typeof M=="number")&&String(M)}function s(g,M,A,k){if(A&&!k)return g;if(k&&!A||!g.trim())return M;if(!M.trim())return g;var w=Math.min(g.length,M.length),E;for(E=0;E<w&&g.charAt(E)===M.charAt(E);E++);var b=g.substr(0,E);return b.trim()}function m(g){var M="middle",A="center";return typeof g=="string"&&(g.indexOf("top")!==-1?M="top":g.indexOf("bottom")!==-1&&(M="bottom"),g.indexOf("left")!==-1?A="left":g.indexOf("right")!==-1&&(A="right")),M+" "+A}function f(g,M){return M in g&&typeof g[M]=="object"&&Object.keys(g[M]).length===0}B.swapXYData=function(g){var M;if(C.swapAttrs(g,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(g.z)&&Array.isArray(g.z[0])&&(g.transpose?delete g.transpose:g.transpose=!0),g.error_x&&g.error_y){var A=g.error_y,k="copy_ystyle"in A?A.copy_ystyle:!(A.color||A.thickness||A.width);C.swapAttrs(g,["error_?.copy_ystyle"]),k&&C.swapAttrs(g,["error_?.color","error_?.thickness","error_?.width"])}if(typeof g.hoverinfo=="string"){var w=g.hoverinfo.split("+");for(M=0;M<w.length;M++)w[M]==="x"?w[M]="y":w[M]==="y"&&(w[M]="x");g.hoverinfo=w.join("+")}},B.coerceTraceIndices=function(g,M){if(p(M))return[M];if(!Array.isArray(M)||!M.length)return g.data.map(function(w,E){return E});if(Array.isArray(M)){for(var A=[],k=0;k<M.length;k++)C.isIndex(M[k],g.data.length)?A.push(M[k]):C.warn("trace index (",M[k],") is not a number or is out of bounds");return A}return M},B.manageArrayContainers=function(g,M,A){var k=g.obj,w=g.parts,E=w.length,b=w[E-1],o=p(b);if(o&&M===null){var P=w.slice(0,E-1).join("."),x=C.nestedProperty(k,P).get();x.splice(b,1)}else o&&g.get()===void 0&&g.get()===void 0&&(A[g.astr]=null),g.set(M)};var S=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(g){var M=g.search(S);if(M>0)return g.substr(0,M)}B.hasParent=function(g,M){for(var A=v(M);A;){if(A in g)return!0;A=v(A)}return!1};var l=["x","y","z"];B.clearAxisTypes=function(g,M,A){for(var k=0;k<M.length;k++)for(var w=g._fullData[k],E=0;E<3;E++){var b=t(g,w,l[E]);if(b&&b.type!=="log"){var o=b._name,P=b._id.substr(1);if(P.substr(0,5)==="scene"){if(A[P]!==void 0)continue;o=P+"."+o}var x=o+".type";A[o]===void 0&&A[x]===void 0&&C.nestedProperty(g.layout,x).set(null)}}}},10641:function(V,B,e){var p=e(72391);B._doPlot=p._doPlot,B.newPlot=p.newPlot,B.restyle=p.restyle,B.relayout=p.relayout,B.redraw=p.redraw,B.update=p.update,B._guiRestyle=p._guiRestyle,B._guiRelayout=p._guiRelayout,B._guiUpdate=p._guiUpdate,B._storeDirectGUIEdit=p._storeDirectGUIEdit,B.react=p.react,B.extendTraces=p.extendTraces,B.prependTraces=p.prependTraces,B.addTraces=p.addTraces,B.deleteTraces=p.deleteTraces,B.moveTraces=p.moveTraces,B.purge=p.purge,B.addFrames=p.addFrames,B.deleteFrames=p.deleteFrames,B.animate=p.animate,B.setPlotConfig=p.setPlotConfig;var L=e(24401).getGraphDiv,n=e(34031).eraseActiveShape;B.deleteActiveShape=function(T){return n(L(T))},B.toImage=e(403),B.validate=e(84936),B.downloadImage=e(7239);var C=e(96318);B.makeTemplate=C.makeTemplate,B.validateTemplate=C.validateTemplate},6611:function(V,B,e){var p=e(41965),L=e(64213),n=e(47769),C=e(65888).sorterAsc,T=e(73972);B.containerArrayMatch=e(14458);var d=B.isAddVal=function(t){return t==="add"||p(t)},y=B.isRemoveVal=function(t){return t===null||t==="remove"};B.applyContainerArrayChanges=function(t,i,a,h,u){var s=i.astr,m=T.getComponentMethod(s,"supplyLayoutDefaults"),f=T.getComponentMethod(s,"draw"),S=T.getComponentMethod(s,"drawOne"),v=h.replot||h.recalc||m===L||f===L,l=t.layout,g=t._fullLayout;if(a[""]){Object.keys(a).length>1&&n.warn("Full array edits are incompatible with other edits",s);var M=a[""][""];if(y(M))i.set(null);else if(Array.isArray(M))i.set(M);else return n.warn("Unrecognized full array edit value",s,M),!0;return v?!1:(m(l,g),f(t),!0)}var A=Object.keys(a).map(Number).sort(C),k=i.get(),w=k||[],E=u(g,s).get(),b=[],o=-1,P=w.length,x,z,_,G,F,N,U,O;for(x=0;x<A.length;x++){if(_=A[x],G=a[_],F=Object.keys(G),N=G[""],U=d(N),_<0||_>w.length-(U?0:1)){n.warn("index out of range",s,_);continue}if(N!==void 0)F.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",s,_),y(N)?b.push(_):U?(N==="add"&&(N={}),w.splice(_,0,N),E&&E.splice(_,0,{})):n.warn("Unrecognized full object edit value",s,_,N),o===-1&&(o=_);else for(z=0;z<F.length;z++)O=s+"["+_+"].",u(w[_],F[z],O).set(G[F[z]])}for(x=b.length-1;x>=0;x--)w.splice(b[x],1),E&&E.splice(b[x],1);if(w.length?k||i.set(w):i.set(null),v)return!1;if(m(l,g),S!==L){var H;if(o===-1)H=A;else{for(P=Math.max(w.length,P),H=[],x=0;x<A.length&&(_=A[x],!(_>=o));x++)H.push(_);for(x=o;x<P;x++)H.push(x)}for(x=0;x<H.length;x++)S(t,H[x])}else f(t);return!0}},72391:function(V,B,e){var p=e(39898),L=e(92770),n=e(57035),C=e(71828),T=C.nestedProperty,d=e(11086),y=e(10847),r=e(73972),t=e(86281),i=e(74875),a=e(89298),h=e(23608),u=e(13838),s=e(91424),m=e(7901),f=e(4305).initInteractions,S=e(77922),v=e(47322).clearOutline,l=e(72075).dfltConfig,g=e(6611),M=e(58377),A=e(61549),k=e(30962),w=e(85555).AX_NAME_PATTERN,E=0,b=5;function o(Se,Ve,Ze,tt){var ct;if(Se=C.getGraphDiv(Se),d.init(Se),C.isPlainObject(Ve)){var gt=Ve;Ve=gt.data,Ze=gt.layout,tt=gt.config,ct=gt.frames}var jt=d.triggerHandler(Se,"plotly_beforeplot",[Ve,Ze,tt]);if(jt===!1)return Promise.reject();!Ve&&!Ze&&!C.isPlotDiv(Se)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Se);function Kt(){if(ct)return B.addFrames(Se,ct)}G(Se,tt),Ze||(Ze={}),p.select(Se).classed("js-plotly-plot",!0),s.makeTester(),Array.isArray(Se._promises)||(Se._promises=[]);var Tt=(Se.data||[]).length===0&&Array.isArray(Ve);Array.isArray(Ve)&&(M.cleanData(Ve),Tt?Se.data=Ve:Se.data.push.apply(Se.data,Ve),Se.empty=!1),(!Se.layout||Tt)&&(Se.layout=M.cleanLayout(Ze)),i.supplyDefaults(Se);var zt=Se._fullLayout,qt=zt._has("cartesian");zt._replotting=!0,(Tt||zt._shouldCreateBgLayer)&&(Me(Se),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),s.initGradients(Se),s.initPatterns(Se),Tt&&a.saveShowSpikeInitial(Se);var Sr=!Se.calcdata||Se.calcdata.length!==(Se._fullData||[]).length;Sr&&i.doCalcdata(Se);for(var yt=0;yt<Se.calcdata.length;yt++)Se.calcdata[yt][0].trace=Se._fullData[yt];Se._context.responsive?Se._responsiveChartHandler||(Se._responsiveChartHandler=function(){C.isHidden(Se)||i.resize(Se)},window.addEventListener("resize",Se._responsiveChartHandler)):C.clearResponsive(Se);var Zt=C.extendFlat({},zt._size),Jt=0;function mr(){for(var Ot=zt._basePlotModules,Nt=0;Nt<Ot.length;Nt++)Ot[Nt].drawFramework&&Ot[Nt].drawFramework(Se);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),zt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=Se._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*Xt).attr("height",zt.height*Xt).style("width",zt.width+"px").style("height",zt.height+"px");var ur=zt._glcanvas.data()[0].regl;if(ur&&(Math.floor(zt.width*Xt)!==ur._gl.drawingBufferWidth||Math.floor(zt.height*Xt)!==ur._gl.drawingBufferHeight)){var cr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Jt)C.error(cr);else return C.log(cr+" Clearing graph and plotting again."),i.cleanPlot([],{},Se._fullData,zt),i.supplyDefaults(Se),zt=Se._fullLayout,i.doCalcdata(Se),Jt++,mr()}}return zt.modebar.orientation==="h"?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),i.previousPromises(Se)}function sr(){if(i.clearAutoMarginIds(Se),A.drawMarginPushers(Se),a.allowAutoMargin(Se),Se._fullLayout.title.text&&Se._fullLayout.title.automargin&&i.allowAutoMargin(Se,"title.automargin"),zt._has("pie"))for(var Ot=Se._fullData,Nt=0;Nt<Ot.length;Nt++){var Xt=Ot[Nt];Xt.type==="pie"&&Xt.automargin&&i.allowAutoMargin(Se,"pie."+Xt.uid+".automargin")}return i.doAutoMargin(Se),i.previousPromises(Se)}function vt(){if(i.didMarginChange(Zt,zt._size))return C.syncOrAsync([sr,A.layoutStyles],Se)}function it(){if(!Sr){xt();return}return C.syncOrAsync([r.getComponentMethod("shapes","calcAutorange"),r.getComponentMethod("annotations","calcAutorange"),xt],Se)}function xt(){Se._transitioning||(A.doAutoRangeAndConstraints(Se),Tt&&a.saveRangeInitial(Se),r.getComponentMethod("rangeslider","calcAutorange")(Se))}function St(){return a.draw(Se,Tt?"":"redraw")}var Rt=[i.previousPromises,Kt,mr,sr,vt];qt&&Rt.push(it),Rt.push(A.layoutStyles),qt&&Rt.push(St,function(Nt){var Xt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Xt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Le(Nt,Xt).then(function(){a.saveRangeInitial(Nt,!0)})}),Rt.push(A.drawData,A.finalDraw,f,i.addLinks,i.rehover,i.redrag,i.reselect,i.doAutoMargin,i.previousPromises);var Lt=C.syncOrAsync(Rt,Se);return(!Lt||!Lt.then)&&(Lt=Promise.resolve()),Lt.then(function(){return P(Se),Se})}function P(Se){var Ve=Se._fullLayout;Ve._redrawFromAutoMarginCount?Ve._redrawFromAutoMarginCount--:Se.emit("plotly_afterplot")}function x(Se){return C.extendFlat(l,Se)}function z(Se,Ve){try{Se._fullLayout._paper.style("background",Ve)}catch(Ze){C.error(Ze)}}function _(Se,Ve){var Ze=m.combine(Ve,"white");z(Se,Ze)}function G(Se,Ve){if(!Se._context){Se._context=C.extendDeep({},l);var Ze=p.select("base");Se._context._baseUrl=Ze.size()&&Ze.attr("href")?window.location.href.split("#")[0]:""}var tt=Se._context,ct,gt,jt;if(Ve){for(gt=Object.keys(Ve),ct=0;ct<gt.length;ct++)jt=gt[ct],!(jt==="editable"||jt==="edits")&&jt in tt&&(jt==="setBackground"&&Ve[jt]==="opaque"?tt[jt]=_:tt[jt]=Ve[jt]);Ve.plot3dPixelRatio&&!tt.plotGlPixelRatio&&(tt.plotGlPixelRatio=tt.plot3dPixelRatio);var Kt=Ve.editable;if(Kt!==void 0)for(tt.editable=Kt,gt=Object.keys(tt.edits),ct=0;ct<gt.length;ct++)tt.edits[gt[ct]]=Kt;if(Ve.edits)for(gt=Object.keys(Ve.edits),ct=0;ct<gt.length;ct++)jt=gt[ct],jt in tt.edits&&(tt.edits[jt]=Ve.edits[jt]);tt._exportedPlot=Ve._exportedPlot}tt.staticPlot&&(tt.editable=!1,tt.edits={},tt.autosizable=!1,tt.scrollZoom=!1,tt.doubleClick=!1,tt.showTips=!1,tt.showLink=!1,tt.displayModeBar=!1),tt.displayModeBar==="hover"&&!n&&(tt.displayModeBar=!0),(tt.setBackground==="transparent"||typeof tt.setBackground!="function")&&(tt.setBackground=z),tt._hasZeroHeight=tt._hasZeroHeight||Se.clientHeight===0,tt._hasZeroWidth=tt._hasZeroWidth||Se.clientWidth===0;var Tt=tt.scrollZoom,zt=tt._scrollZoom={};if(Tt===!0)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1;else if(typeof Tt=="string"){var qt=Tt.split("+");for(ct=0;ct<qt.length;ct++)zt[qt[ct]]=1}else Tt!==!1&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1)}function F(Se){if(Se=C.getGraphDiv(Se),!C.isPlotDiv(Se))throw new Error("This element is not a Plotly plot: "+Se);return M.cleanData(Se.data),M.cleanLayout(Se.layout),Se.calcdata=void 0,B._doPlot(Se).then(function(){return Se.emit("plotly_redraw"),Se})}function N(Se,Ve,Ze,tt){return Se=C.getGraphDiv(Se),i.cleanPlot([],{},Se._fullData||[],Se._fullLayout||{}),i.purge(Se),B._doPlot(Se,Ve,Ze,tt)}function U(Se,Ve){var Ze=Ve+1,tt=[],ct,gt;for(ct=0;ct<Se.length;ct++)gt=Se[ct],gt<0?tt.push(Ze+gt):tt.push(gt);return tt}function O(Se,Ve,Ze){var tt,ct;for(tt=0;tt<Ve.length;tt++){if(ct=Ve[tt],ct!==parseInt(ct,10))throw new Error("all values in "+Ze+" must be integers");if(ct>=Se.data.length||ct<-Se.data.length)throw new Error(Ze+" must be valid indices for gd.data.");if(Ve.indexOf(ct,tt+1)>-1||ct>=0&&Ve.indexOf(-Se.data.length+ct)>-1||ct<0&&Ve.indexOf(Se.data.length+ct)>-1)throw new Error("each index in "+Ze+" must be unique.")}}function H(Se,Ve,Ze){if(!Array.isArray(Se.data))throw new Error("gd.data must be an array.");if(typeof Ve>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ve)||(Ve=[Ve]),O(Se,Ve,"currentIndices"),typeof Ze<"u"&&!Array.isArray(Ze)&&(Ze=[Ze]),typeof Ze<"u"&&O(Se,Ze,"newIndices"),typeof Ze<"u"&&Ve.length!==Ze.length)throw new Error("current and new indices must be of equal length.")}function Y(Se,Ve,Ze){var tt,ct;if(!Array.isArray(Se.data))throw new Error("gd.data must be an array.");if(typeof Ve>"u")throw new Error("traces must be defined.");for(Array.isArray(Ve)||(Ve=[Ve]),tt=0;tt<Ve.length;tt++)if(ct=Ve[tt],typeof ct!="object"||Array.isArray(ct)||ct===null)throw new Error("all values in traces array must be non-array objects");if(typeof Ze<"u"&&!Array.isArray(Ze)&&(Ze=[Ze]),typeof Ze<"u"&&Ze.length!==Ve.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function q(Se,Ve,Ze,tt){var ct=C.isPlainObject(tt);if(!Array.isArray(Se.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(Ve))throw new Error("update must be a key:value object");if(typeof Ze>"u")throw new Error("indices must be an integer or array of integers");O(Se,Ze,"indices");for(var gt in Ve){if(!Array.isArray(Ve[gt])||Ve[gt].length!==Ze.length)throw new Error("attribute "+gt+" must be an array of length equal to indices array length");if(ct&&(!(gt in tt)||!Array.isArray(tt[gt])||tt[gt].length!==Ve[gt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ne(Se,Ve,Ze,tt){var ct=C.isPlainObject(tt),gt=[],jt,Kt,Tt,zt,qt;Array.isArray(Ze)||(Ze=[Ze]),Ze=U(Ze,Se.data.length-1);for(var Sr in Ve)for(var yt=0;yt<Ze.length;yt++){if(jt=Se.data[Ze[yt]],Tt=T(jt,Sr),Kt=Tt.get(),zt=Ve[Sr][yt],!C.isArrayOrTypedArray(zt))throw new Error("attribute: "+Sr+" index: "+yt+" must be an array");if(!C.isArrayOrTypedArray(Kt))throw new Error("cannot extend missing or non-array attribute: "+Sr);if(Kt.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+Sr);qt=ct?tt[Sr][yt]:tt,L(qt)||(qt=-1),gt.push({prop:Tt,target:Kt,insert:zt,maxp:Math.floor(qt)})}return gt}function oe(Se,Ve,Ze,tt,ct){q(Se,Ve,Ze,tt);for(var gt=ne(Se,Ve,Ze,tt),jt={},Kt={},Tt=0;Tt<gt.length;Tt++){var zt=gt[Tt].prop,qt=gt[Tt].maxp,Sr=ct(gt[Tt].target,gt[Tt].insert,qt);zt.set(Sr[0]),Array.isArray(jt[zt.astr])||(jt[zt.astr]=[]),jt[zt.astr].push(Sr[1]),Array.isArray(Kt[zt.astr])||(Kt[zt.astr]=[]),Kt[zt.astr].push(gt[Tt].target.length)}return{update:jt,maxPoints:Kt}}function he(Se,Ve){var Ze=new Se.constructor(Se.length+Ve.length);return Ze.set(Se),Ze.set(Ve,Se.length),Ze}function J(Se,Ve,Ze,tt){Se=C.getGraphDiv(Se);function ct(Tt,zt,qt){var Sr,yt;if(C.isTypedArray(Tt))if(qt<0){var Zt=new Tt.constructor(0),Jt=he(Tt,zt);qt<0?(Sr=Jt,yt=Zt):(Sr=Zt,yt=Jt)}else if(Sr=new Tt.constructor(qt),yt=new Tt.constructor(Tt.length+zt.length-qt),qt===zt.length)Sr.set(zt),yt.set(Tt);else if(qt<zt.length){var mr=zt.length-qt;Sr.set(zt.subarray(mr)),yt.set(Tt),yt.set(zt.subarray(0,mr),Tt.length)}else{var sr=qt-zt.length,vt=Tt.length-sr;Sr.set(Tt.subarray(vt)),Sr.set(zt,sr),yt.set(Tt.subarray(0,vt))}else Sr=Tt.concat(zt),yt=qt>=0&&qt<Sr.length?Sr.splice(0,Sr.length-qt):[];return[Sr,yt]}var gt=oe(Se,Ve,Ze,tt,ct),jt=B.redraw(Se),Kt=[Se,gt.update,Ze,gt.maxPoints];return y.add(Se,B.prependTraces,Kt,J,arguments),jt}function Z(Se,Ve,Ze,tt){Se=C.getGraphDiv(Se);function ct(Tt,zt,qt){var Sr,yt;if(C.isTypedArray(Tt))if(qt<=0){var Zt=new Tt.constructor(0),Jt=he(zt,Tt);qt<0?(Sr=Jt,yt=Zt):(Sr=Zt,yt=Jt)}else if(Sr=new Tt.constructor(qt),yt=new Tt.constructor(Tt.length+zt.length-qt),qt===zt.length)Sr.set(zt),yt.set(Tt);else if(qt<zt.length){var mr=zt.length-qt;Sr.set(zt.subarray(0,mr)),yt.set(zt.subarray(mr)),yt.set(Tt,mr)}else{var sr=qt-zt.length;Sr.set(zt),Sr.set(Tt.subarray(0,sr),zt.length),yt.set(Tt.subarray(sr))}else Sr=zt.concat(Tt),yt=qt>=0&&qt<Sr.length?Sr.splice(qt,Sr.length):[];return[Sr,yt]}var gt=oe(Se,Ve,Ze,tt,ct),jt=B.redraw(Se),Kt=[Se,gt.update,Ze,gt.maxPoints];return y.add(Se,B.extendTraces,Kt,Z,arguments),jt}function se(Se,Ve,Ze){Se=C.getGraphDiv(Se);var tt=[],ct=B.deleteTraces,gt=se,jt=[Se,tt],Kt=[Se,Ve],Tt,zt;for(Y(Se,Ve,Ze),Array.isArray(Ve)||(Ve=[Ve]),Ve=Ve.map(function(qt){return C.extendFlat({},qt)}),M.cleanData(Ve),Tt=0;Tt<Ve.length;Tt++)Se.data.push(Ve[Tt]);for(Tt=0;Tt<Ve.length;Tt++)tt.push(-Ve.length+Tt);if(typeof Ze>"u")return zt=B.redraw(Se),y.add(Se,ct,jt,gt,Kt),zt;Array.isArray(Ze)||(Ze=[Ze]);try{H(Se,tt,Ze)}catch(qt){throw Se.data.splice(Se.data.length-Ve.length,Ve.length),qt}return y.startSequence(Se),y.add(Se,ct,jt,gt,Kt),zt=B.moveTraces(Se,tt,Ze),y.stopSequence(Se),zt}function $(Se,Ve){Se=C.getGraphDiv(Se);var Ze=[],tt=B.addTraces,ct=$,gt=[Se,Ze,Ve],jt=[Se,Ve],Kt,Tt;if(typeof Ve>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ve)||(Ve=[Ve]),O(Se,Ve,"indices"),Ve=U(Ve,Se.data.length-1),Ve.sort(C.sorterDes),Kt=0;Kt<Ve.length;Kt+=1)Tt=Se.data.splice(Ve[Kt],1)[0],Ze.push(Tt);var zt=B.redraw(Se);return y.add(Se,tt,gt,ct,jt),zt}function ee(Se,Ve,Ze){Se=C.getGraphDiv(Se);var tt=[],ct=[],gt=ee,jt=ee,Kt=[Se,Ze,Ve],Tt=[Se,Ve,Ze],zt;if(H(Se,Ve,Ze),Ve=Array.isArray(Ve)?Ve:[Ve],typeof Ze>"u")for(Ze=[],zt=0;zt<Ve.length;zt++)Ze.push(-Ve.length+zt);for(Ze=Array.isArray(Ze)?Ze:[Ze],Ve=U(Ve,Se.data.length-1),Ze=U(Ze,Se.data.length-1),zt=0;zt<Se.data.length;zt++)Ve.indexOf(zt)===-1&&tt.push(Se.data[zt]);for(zt=0;zt<Ve.length;zt++)ct.push({newIndex:Ze[zt],trace:Se.data[Ve[zt]]});for(ct.sort(function(Sr,yt){return Sr.newIndex-yt.newIndex}),zt=0;zt<ct.length;zt+=1)tt.splice(ct[zt].newIndex,0,ct[zt].trace);Se.data=tt;var qt=B.redraw(Se);return y.add(Se,gt,Kt,jt,Tt),qt}function le(Se,Ve,Ze,tt){Se=C.getGraphDiv(Se),M.clearPromiseQueue(Se);var ct={};if(typeof Ve=="string")ct[Ve]=Ze;else if(C.isPlainObject(Ve))ct=C.extendFlat({},Ve),tt===void 0&&(tt=Ze);else return C.warn("Restyle fail.",Ve,Ze,tt),Promise.reject();Object.keys(ct).length&&(Se.changed=!0);var gt=M.coerceTraceIndices(Se,tt),jt=ce(Se,ct,gt),Kt=jt.flags;Kt.calc&&(Se.calcdata=void 0),Kt.clearAxisTypes&&M.clearAxisTypes(Se,gt,{});var Tt=[];Kt.fullReplot?Tt.push(B._doPlot):(Tt.push(i.previousPromises),i.supplyDefaults(Se),Kt.markerSize&&(i.doCalcdata(Se),Oe(Tt)),Kt.style&&Tt.push(A.doTraceStyle),Kt.colorbars&&Tt.push(A.doColorBars),Tt.push(P)),Tt.push(i.rehover,i.redrag,i.reselect),y.add(Se,le,[Se,jt.undoit,jt.traces],le,[Se,jt.redoit,jt.traces]);var zt=C.syncOrAsync(Tt,Se);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return Se.emit("plotly_restyle",jt.eventData),Se})}function Q(Se){return Se===void 0?null:Se}function K(Se,Ve){return Ve?function(Ze,tt,ct){var gt=T(Ze,tt),jt=gt.set;return gt.set=function(Kt){var Tt=(ct||"")+tt;ue(Tt,gt.get(),Kt,Se),jt(Kt)},gt}:T}function ue(Se,Ve,Ze,tt){if(Array.isArray(Ve)||Array.isArray(Ze))for(var ct=Array.isArray(Ve)?Ve:[],gt=Array.isArray(Ze)?Ze:[],jt=Math.max(ct.length,gt.length),Kt=0;Kt<jt;Kt++)ue(Se+"["+Kt+"]",ct[Kt],gt[Kt],tt);else if(C.isPlainObject(Ve)||C.isPlainObject(Ze)){var Tt=C.isPlainObject(Ve)?Ve:{},zt=C.isPlainObject(Ze)?Ze:{},qt=C.extendFlat({},Tt,zt);for(var Sr in qt)ue(Se+"."+Sr,Tt[Sr],zt[Sr],tt)}else tt[Se]===void 0&&(tt[Se]=Q(Ve))}function ie(Se,Ve,Ze){for(var tt in Ze){var ct=T(Se,tt);ue(tt,ct.get(),Ze[tt],Ve)}}function ce(Se,Ve,Ze){var tt=Se._fullLayout,ct=Se._fullData,gt=Se.data,jt=tt._guiEditing,Kt=K(tt._preGUI,jt),Tt=C.extendDeepAll({},Ve),zt;xe(Ve);var qt=k.traceFlags(),Sr={},yt={},Zt;function Jt(){return Ze.map(function(){})}function mr(Tn){var Cr=a.id2name(Tn);Zt.indexOf(Cr)===-1&&Zt.push(Cr)}function sr(Tn){return"LAYOUT"+Tn+".autorange"}function vt(Tn){return"LAYOUT"+Tn+".range"}function it(Tn){for(var Cr=Tn;Cr<ct.length;Cr++)if(ct[Cr]._input===gt[Tn])return ct[Cr]}function xt(Tn,Cr,Lr){if(Array.isArray(Tn)){Tn.forEach(function(yn){xt(yn,Cr,Lr)});return}if(!(Tn in Ve||M.hasParent(Ve,Tn))){var Zr;if(Tn.substr(0,6)==="LAYOUT")Zr=Kt(Se.layout,Tn.replace("LAYOUT",""));else{var Wr=Ze[Lr],sn=tt._tracePreGUI[it(Wr)._fullInput.uid];Zr=K(sn,jt)(gt[Wr],Tn)}Tn in yt||(yt[Tn]=Jt()),yt[Tn][Lr]===void 0&&(yt[Tn][Lr]=Q(Zr.get())),Cr!==void 0&&Zr.set(Cr)}}function St(Tn){return function(Cr){return ct[Cr][Tn]}}function Rt(Tn){return function(Cr,Lr){return Cr===!1?ct[Ze[Lr]][Tn]:null}}for(var Lt in Ve){if(M.hasParent(Ve,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");var Ot=Ve[Lt],Nt,Xt,ur,cr,dr,Ye;if((Lt==="autobinx"||Lt==="autobiny")&&(Lt=Lt.charAt(Lt.length-1)+"bins",Array.isArray(Ot)?Ot=Ot.map(Rt(Lt)):Ot===!1?Ot=Ze.map(St(Lt)):Ot=null),Sr[Lt]=Ot,Lt.substr(0,6)==="LAYOUT"){ur=Kt(Se.layout,Lt.replace("LAYOUT","")),yt[Lt]=[Q(ur.get())],ur.set(Array.isArray(Ot)?Ot[0]:Ot),qt.calc=!0;continue}for(yt[Lt]=Jt(),zt=0;zt<Ze.length;zt++){Nt=gt[Ze[zt]],Xt=it(Ze[zt]);var je=tt._tracePreGUI[Xt._fullInput.uid];if(ur=K(je,jt)(Nt,Lt),cr=ur.get(),dr=Array.isArray(Ot)?Ot[zt%Ot.length]:Ot,dr!==void 0){var It=ur.parts[ur.parts.length-1],Dt=Lt.substr(0,Lt.length-It.length-1),Yt=Dt?Dt+".":"",tr=Dt?T(Xt,Dt).get():Xt;if(Ye=t.getTraceValObject(Xt,ur.parts),Ye&&Ye.impliedEdits&&dr!==null)for(var fr in Ye.impliedEdits)xt(C.relativeAttr(Lt,fr),Ye.impliedEdits[fr],zt);else if((It==="thicknessmode"||It==="lenmode")&&cr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var rr=tt._size,Ft=tr.orient,hr=Ft==="top"||Ft==="bottom";if(It==="thicknessmode"){var br=hr?rr.h:rr.w;xt(Yt+"thickness",tr.thickness*(dr==="fraction"?1/br:br),zt)}else{var yr=hr?rr.w:rr.h;xt(Yt+"len",tr.len*(dr==="fraction"?1/yr:yr),zt)}}else if(Lt==="type"&&(dr==="pie"!=(cr==="pie")||dr==="funnelarea"!=(cr==="funnelarea"))){var vr="x",Gr="y";(dr==="bar"||cr==="bar")&&Nt.orientation==="h"&&(vr="y",Gr="x"),C.swapAttrs(Nt,["?","?src"],"labels",vr),C.swapAttrs(Nt,["d?","?0"],"label",vr),C.swapAttrs(Nt,["?","?src"],"values",Gr),cr==="pie"||cr==="funnelarea"?(T(Nt,"marker.color").set(T(Nt,"marker.colors").get()),tt._pielayer.selectAll("g.trace").remove()):r.traceIs(Nt,"cartesian")&&T(Nt,"marker.colors").set(T(Nt,"marker.color").get())}yt[Lt][zt]=Q(cr);var _r=["swapxy","swapxyaxes","orientation","orientationaxes"];if(_r.indexOf(Lt)!==-1){if(Lt==="orientation"){ur.set(dr);var Dr=Nt.x&&!Nt.y?"h":"v";if((ur.get()||Dr)===Xt.orientation)continue}else Lt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Xt.orientation]);M.swapXYData(Nt),qt.calc=qt.clearAxisTypes=!0}else i.dataArrayContainers.indexOf(ur.parts[0])!==-1?(M.manageArrayContainers(ur,dr,yt),qt.calc=!0):(Ye?Ye.arrayOk&&!r.traceIs(Xt,"regl")&&(C.isArrayOrTypedArray(dr)||C.isArrayOrTypedArray(cr))?qt.calc=!0:k.update(qt,Ye):qt.calc=!0,ur.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Lt)!==-1&&a.swap(Se,Ze),Lt==="orientationaxes"){var pn=T(Se.layout,"hovermode"),nn=pn.get();nn==="x"?pn.set("y"):nn==="y"?pn.set("x"):nn==="x unified"?pn.set("y unified"):nn==="y unified"&&pn.set("x unified")}if(["orientation","type"].indexOf(Lt)!==-1){for(Zt=[],zt=0;zt<Ze.length;zt++){var Un=gt[Ze[zt]];r.traceIs(Un,"cartesian")&&(mr(Un.xaxis||"x"),mr(Un.yaxis||"y"))}xt(Zt.map(sr),!0,0),xt(Zt.map(vt),[0,1],0)}}return(qt.calc||qt.plot)&&(qt.fullReplot=!0),{flags:qt,undoit:yt,redoit:Sr,traces:Ze,eventData:C.extendDeepNoArrays([],[Tt,Ze])}}function xe(Se){var Ve=C.counterRegex("axis",".title",!1,!1),Ze=/colorbar\.title$/,tt=Object.keys(Se),ct,gt,jt;for(ct=0;ct<tt.length;ct++)gt=tt[ct],jt=Se[gt],(gt==="title"||Ve.test(gt)||Ze.test(gt))&&(typeof jt=="string"||typeof jt=="number")?Kt(gt,gt.replace("title","title.text")):gt.indexOf("titlefont")>-1&&gt.indexOf("grouptitlefont")===-1?Kt(gt,gt.replace("titlefont","title.font")):gt.indexOf("titleposition")>-1?Kt(gt,gt.replace("titleposition","title.position")):gt.indexOf("titleside")>-1?Kt(gt,gt.replace("titleside","title.side")):gt.indexOf("titleoffset")>-1&&Kt(gt,gt.replace("titleoffset","title.offset"));function Kt(Tt,zt){Se[zt]=Se[Tt],delete Se[Tt]}}function Le(Se,Ve,Ze){Se=C.getGraphDiv(Se),M.clearPromiseQueue(Se);var tt={};if(typeof Ve=="string")tt[Ve]=Ze;else if(C.isPlainObject(Ve))tt=C.extendFlat({},Ve);else return C.warn("Relayout fail.",Ve,Ze),Promise.reject();Object.keys(tt).length&&(Se.changed=!0);var ct=Ce(Se,tt),gt=ct.flags;gt.calc&&(Se.calcdata=void 0);var jt=[i.previousPromises];gt.layoutReplot?jt.push(A.layoutReplot):Object.keys(tt).length&&(Ae(Se,gt,ct)||i.supplyDefaults(Se),gt.legend&&jt.push(A.doLegend),gt.layoutstyle&&jt.push(A.layoutStyles),gt.axrange&&Oe(jt,ct.rangesAltered),gt.ticks&&jt.push(A.doTicksRelayout),gt.modebar&&jt.push(A.doModeBar),gt.camera&&jt.push(A.doCamera),gt.colorbars&&jt.push(A.doColorBars),jt.push(P)),jt.push(i.rehover,i.redrag,i.reselect),y.add(Se,Le,[Se,ct.undoit],Le,[Se,ct.redoit]);var Kt=C.syncOrAsync(jt,Se);return(!Kt||!Kt.then)&&(Kt=Promise.resolve(Se)),Kt.then(function(){return Se.emit("plotly_relayout",ct.eventData),Se})}function Ae(Se,Ve,Ze){var tt=Se._fullLayout;if(!Ve.axrange)return!1;for(var ct in Ve)if(ct!=="axrange"&&Ve[ct])return!1;var gt,jt,Kt=function(Zt,Jt){return C.coerce(gt,jt,u,Zt,Jt)},Tt={};for(var zt in Ze.rangesAltered){var qt=a.id2name(zt);if(gt=Se.layout[qt],jt=tt[qt],h(gt,jt,Kt,Tt),jt._matchGroup){for(var Sr in jt._matchGroup)if(Sr!==zt){var yt=tt[a.id2name(Sr)];yt.autorange=jt.autorange,yt.range=jt.range.slice(),yt._input.range=jt.range.slice()}}}return!0}function Oe(Se,Ve){var Ze=Ve?function(tt){var ct=[],gt=!0;for(var jt in Ve){var Kt=a.getFromId(tt,jt);if(ct.push(jt),(Kt.ticklabelposition||"").indexOf("inside")!==-1&&Kt._anchorAxis&&ct.push(Kt._anchorAxis._id),Kt._matchGroup)for(var Tt in Kt._matchGroup)Ve[Tt]||ct.push(Tt)}return a.draw(tt,ct,{skipTitle:gt})}:function(tt){return a.draw(tt,"redraw")};Se.push(v,A.doAutoRangeAndConstraints,Ze,A.drawData,A.finalDraw)}var ze=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Ee=/^[xyz]axis[0-9]*\.autorange$/,be=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ce(Se,Ve){var Ze=Se.layout,tt=Se._fullLayout,ct=tt._guiEditing,gt=K(tt._preGUI,ct),jt=Object.keys(Ve),Kt=a.list(Se),Tt=C.extendDeepAll({},Ve),zt={},qt,Sr,yt;for(xe(Ve),jt=Object.keys(Ve),Sr=0;Sr<jt.length;Sr++)if(jt[Sr].indexOf("allaxes")===0){for(yt=0;yt<Kt.length;yt++){var Zt=Kt[yt]._id.substr(1),Jt=Zt.indexOf("scene")!==-1?Zt+".":"",mr=jt[Sr].replace("allaxes",Jt+Kt[yt]._name);Ve[mr]||(Ve[mr]=Ve[jt[Sr]])}delete Ve[jt[Sr]]}var sr=k.layoutFlags(),vt={},it={};function xt(sn,yn){if(Array.isArray(sn)){sn.forEach(function(Pn){xt(Pn,yn)});return}if(!(sn in Ve||M.hasParent(Ve,sn))){var bn=gt(Ze,sn);sn in it||(it[sn]=Q(bn.get())),yn!==void 0&&bn.set(yn)}}var St={},Rt;function Lt(sn){var yn=a.name2id(sn.split(".")[0]);return St[yn]=1,yn}for(var Ot in Ve){if(M.hasParent(Ve,Ot))throw new Error("cannot set "+Ot+" and a parent attribute simultaneously");for(var Nt=gt(Ze,Ot),Xt=Ve[Ot],ur=Nt.parts.length,cr=ur-1;cr>0&&typeof Nt.parts[cr]!="string";)cr--;var dr=Nt.parts[cr],Ye=Nt.parts[cr-1]+"."+dr,je=Nt.parts.slice(0,cr).join("."),It=T(Se.layout,je).get(),Dt=T(tt,je).get(),Yt=Nt.get();if(Xt!==void 0){vt[Ot]=Xt,it[Ot]=dr==="reverse"?Xt:Q(Yt);var tr=t.getLayoutValObject(tt,Nt.parts);if(tr&&tr.impliedEdits&&Xt!==null)for(var fr in tr.impliedEdits)xt(C.relativeAttr(Ot,fr),tr.impliedEdits[fr]);if(["width","height"].indexOf(Ot)!==-1)if(Xt){xt("autosize",null);var rr=Ot==="height"?"width":"height";xt(rr,tt[rr])}else tt[Ot]=Se._initialAutoSize[Ot];else if(Ot==="autosize")xt("width",Xt?null:tt.width),xt("height",Xt?null:tt.height);else if(Ye.match(ze))Lt(Ye),T(tt,je+"._inputRange").set(null);else if(Ye.match(Ee)){Lt(Ye),T(tt,je+"._inputRange").set(null);var Ft=T(tt,je).get();Ft._inputDomain&&(Ft._input.domain=Ft._inputDomain.slice())}else Ye.match(be)&&T(tt,je+"._inputDomain").set(null);if(dr==="type"){Rt=It;var hr=Dt.type==="linear"&&Xt==="log",br=Dt.type==="log"&&Xt==="linear";if(hr||br){if(!Rt||!Rt.range)xt(je+".autorange",!0);else if(Dt.autorange)hr&&(Rt.range=Rt.range[1]>Rt.range[0]?[1,2]:[2,1]);else{var yr=Rt.range[0],vr=Rt.range[1];hr?(yr<=0&&vr<=0&&xt(je+".autorange",!0),yr<=0?yr=vr/1e6:vr<=0&&(vr=yr/1e6),xt(je+".range[0]",Math.log(yr)/Math.LN10),xt(je+".range[1]",Math.log(vr)/Math.LN10)):(xt(je+".range[0]",Math.pow(10,yr)),xt(je+".range[1]",Math.pow(10,vr)))}Array.isArray(tt._subplots.polar)&&tt._subplots.polar.length&&tt[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete tt[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],r.getComponentMethod("annotations","convertCoords")(Se,Dt,Xt,xt),r.getComponentMethod("images","convertCoords")(Se,Dt,Xt,xt)}else xt(je+".autorange",!0),xt(je+".range",null);T(tt,je+"._inputRange").set(null)}else if(dr.match(w)){var Gr=T(tt,Ot).get(),_r=(Xt||{}).type;(!_r||_r==="-")&&(_r="linear"),r.getComponentMethod("annotations","convertCoords")(Se,Gr,_r,xt),r.getComponentMethod("images","convertCoords")(Se,Gr,_r,xt)}var Dr=g.containerArrayMatch(Ot);if(Dr){qt=Dr.array,Sr=Dr.index;var pn=Dr.property,nn=tr||{editType:"calc"};Sr!==""&&pn===""&&(g.isAddVal(Xt)?it[Ot]=null:g.isRemoveVal(Xt)?it[Ot]=(T(Ze,qt).get()||[])[Sr]:C.warn("unrecognized full object value",Ve)),k.update(sr,nn),zt[qt]||(zt[qt]={});var Un=zt[qt][Sr];Un||(Un=zt[qt][Sr]={}),Un[pn]=Xt,delete Ve[Ot]}else dr==="reverse"?(It.range?It.range.reverse():(xt(je+".autorange",!0),It.range=[1,0]),Dt.autorange?sr.calc=!0:sr.plot=!0):(Ot==="dragmode"&&(Xt===!1&&Yt!==!1||Xt!==!1&&Yt===!1)||tt._has("scatter-like")&&tt._has("regl")&&Ot==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(Yt==="lasso"||Yt==="select")||tt._has("gl2d")?sr.plot=!0:tr?k.update(sr,tr):sr.calc=!0,Nt.set(Xt))}}for(qt in zt){var Tn=g.applyContainerArrayChanges(Se,gt(Ze,qt),zt[qt],sr,gt);Tn||(sr.plot=!0)}for(var Cr in St){Rt=a.getFromId(Se,Cr);var Lr=Rt&&Rt._constraintGroup;if(Lr){sr.calc=!0;for(var Zr in Lr)St[Zr]||(a.getFromId(Se,Zr)._constraintShrinkable=!0)}}(Ue(Se)||Ve.height||Ve.width)&&(sr.plot=!0);var Wr=tt.shapes;for(Sr=0;Sr<Wr.length;Sr++)if(Wr[Sr].showlegend){sr.calc=!0;break}return(sr.plot||sr.calc)&&(sr.layoutReplot=!0),{flags:sr,rangesAltered:St,undoit:it,redoit:vt,eventData:Tt}}function Ue(Se){var Ve=Se._fullLayout,Ze=Ve.width,tt=Ve.height;return Se.layout.autosize&&i.plotAutoSize(Se,Se.layout,Ve),Ve.width!==Ze||Ve.height!==tt}function He(Se,Ve,Ze,tt){Se=C.getGraphDiv(Se),M.clearPromiseQueue(Se),C.isPlainObject(Ve)||(Ve={}),C.isPlainObject(Ze)||(Ze={}),Object.keys(Ve).length&&(Se.changed=!0),Object.keys(Ze).length&&(Se.changed=!0);var ct=M.coerceTraceIndices(Se,tt),gt=ce(Se,C.extendFlat({},Ve),ct),jt=gt.flags,Kt=Ce(Se,C.extendFlat({},Ze)),Tt=Kt.flags;(jt.calc||Tt.calc)&&(Se.calcdata=void 0),jt.clearAxisTypes&&M.clearAxisTypes(Se,ct,Ze);var zt=[];Tt.layoutReplot?zt.push(A.layoutReplot):jt.fullReplot?zt.push(B._doPlot):(zt.push(i.previousPromises),Ae(Se,Tt,Kt)||i.supplyDefaults(Se),jt.style&&zt.push(A.doTraceStyle),(jt.colorbars||Tt.colorbars)&&zt.push(A.doColorBars),Tt.legend&&zt.push(A.doLegend),Tt.layoutstyle&&zt.push(A.layoutStyles),Tt.axrange&&Oe(zt,Kt.rangesAltered),Tt.ticks&&zt.push(A.doTicksRelayout),Tt.modebar&&zt.push(A.doModeBar),Tt.camera&&zt.push(A.doCamera),zt.push(P)),zt.push(i.rehover,i.redrag,i.reselect),y.add(Se,He,[Se,gt.undoit,Kt.undoit,gt.traces],He,[Se,gt.redoit,Kt.redoit,gt.traces]);var qt=C.syncOrAsync(zt,Se);return(!qt||!qt.then)&&(qt=Promise.resolve(Se)),qt.then(function(){return Se.emit("plotly_update",{data:gt.eventData,layout:Kt.eventData}),Se})}function Ie(Se){return function(Ze){Ze._fullLayout._guiEditing=!0;var tt=Se.apply(null,arguments);return Ze._fullLayout._guiEditing=!1,tt}}var Ge=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],at=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function lt(Se,Ve){for(var Ze=0;Ze<Ve.length;Ze++){var tt=Ve[Ze],ct=Se.match(tt.pattern);if(ct){var gt=ct[1]||"";return{head:gt,tail:Se.substr(gt.length+1),attr:tt.attr}}}}function qe(Se,Ve){var Ze=T(Ve,Se).get();if(Ze!==void 0)return Ze;var tt=Se.split(".");for(tt.pop();tt.length>1;)if(tt.pop(),Ze=T(Ve,tt.join(".")+".uirevision").get(),Ze!==void 0)return Ze;return Ve.uirevision}function et(Se,Ve){for(var Ze=0;Ze<Ve.length;Ze++)if(Ve[Ze]._fullInput.uid===Se)return Ze;return-1}function ft(Se,Ve,Ze){for(var tt=0;tt<Ve.length;tt++)if(Ve[tt].uid===Se)return tt;return!Ve[Ze]||Ve[Ze].uid?-1:Ze}function dt(Se,Ve){var Ze=C.isPlainObject(Se),tt=Array.isArray(Se);return Ze||tt?(Ze&&C.isPlainObject(Ve)||tt&&Array.isArray(Ve))&&JSON.stringify(Se)===JSON.stringify(Ve):Se===Ve}function pt(Se,Ve,Ze,tt){var ct=tt._preGUI,gt,jt,Kt,Tt,zt,qt,Sr,yt,Zt,Jt,mr=[],sr={},vt={};for(gt in ct){if(zt=lt(gt,Ge),zt){if(Zt=zt.head,Jt=zt.tail,jt=zt.attr||Zt+".uirevision",Kt=T(tt,jt).get(),Tt=Kt&&qe(jt,Ve),Tt&&Tt===Kt){if(qt=ct[gt],qt===null&&(qt=void 0),Sr=T(Ve,gt),yt=Sr.get(),dt(yt,qt)){yt===void 0&&Jt==="autorange"&&mr.push(Zt),Sr.set(Q(T(tt,gt).get()));continue}else if(Jt==="autorange"||Jt.substr(0,6)==="range["){var it=ct[Zt+".range[0]"],xt=ct[Zt+".range[1]"],St=ct[Zt+".autorange"];if(St||St===null&&it===null&&xt===null){if(!(Zt in sr)){var Rt=T(Ve,Zt).get();sr[Zt]=Rt&&(Rt.autorange||Rt.autorange!==!1&&(!Rt.range||Rt.range.length!==2))}if(sr[Zt]){Sr.set(Q(T(tt,gt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+gt);delete ct[gt],zt&&zt.tail.substr(0,6)==="range["&&(vt[zt.head]=1)}for(var Lt=0;Lt<mr.length;Lt++){var Ot=mr[Lt];if(vt[Ot]){var Nt=T(Ve,Ot).get();Nt&&delete Nt.autorange}}var Xt=tt._tracePreGUI;for(var ur in Xt){var cr=Xt[ur],dr=null,Ye;for(gt in cr){if(!dr){var je=et(ur,Ze);if(je<0){delete Xt[ur];break}var It=Ze[je];Ye=It._fullInput;var Dt=ft(ur,Se,Ye.index);if(Dt<0){delete Xt[ur];break}dr=Se[Dt]}if(zt=lt(gt,at),zt){if(zt.attr?(Kt=T(tt,zt.attr).get(),Tt=Kt&&qe(zt.attr,Ve)):(Kt=Ye.uirevision,Tt=dr.uirevision,Tt===void 0&&(Tt=Ve.uirevision)),Tt&&Tt===Kt&&(qt=cr[gt],qt===null&&(qt=void 0),Sr=T(dr,gt),yt=Sr.get(),dt(yt,qt))){Sr.set(Q(T(Ye,gt).get()));continue}}else C.warn("unrecognized GUI edit: "+gt+" in trace uid "+ur);delete cr[gt]}}}function At(Se,Ve,Ze,tt){var ct,gt;function jt(){return B.addFrames(Se,ct)}Se=C.getGraphDiv(Se),M.clearPromiseQueue(Se);var Kt=Se._fullData,Tt=Se._fullLayout;if(!C.isPlotDiv(Se)||!Kt||!Tt)gt=B.newPlot(Se,Ve,Ze,tt);else{if(C.isPlainObject(Ve)){var zt=Ve;Ve=zt.data,Ze=zt.layout,tt=zt.config,ct=zt.frames}var qt=!1;if(tt){var Sr=C.extendDeep({},Se._context);Se._context=void 0,G(Se,tt),qt=We(Sr,Se._context)}Se.data=Ve||[],M.cleanData(Se.data),Se.layout=Ze||{},M.cleanLayout(Se.layout),pt(Se.data,Se.layout,Kt,Tt),i.supplyDefaults(Se,{skipUpdateCalc:!0});var yt=Se._fullData,Zt=Se._fullLayout,Jt=Zt.datarevision===void 0,mr=Zt.transition,sr=Ht(Se,Tt,Zt,Jt,mr),vt=sr.newDataRevision,it=Pt(Se,Kt,yt,Jt,mr,vt);if(Ue(Se)&&(sr.layoutReplot=!0),it.calc||sr.calc){Se.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(Zt),St=0;St<xt.length;St++){var Rt=xt[St],Lt=Rt.substring(0,5);if(Lt==="xaxis"||Lt==="yaxis"){var Ot=Zt[Rt]._emptyCategories;Ot&&Ot()}}}else i.supplyDefaultsUpdateCalc(Se.calcdata,yt);var Nt=[];if(ct&&(Se._transitionData={},i.createTransitionData(Se),Nt.push(jt)),Zt.transition&&!qt&&(it.anim||sr.anim))sr.ticks&&Nt.push(A.doTicksRelayout),i.doCalcdata(Se),A.doAutoRangeAndConstraints(Se),Nt.push(function(){return i.transitionFromReact(Se,it,sr,Tt)});else if(it.fullReplot||sr.layoutReplot||qt)Se._fullLayout._skipDefaults=!0,Nt.push(B._doPlot);else{for(var Xt in sr.arrays){var ur=sr.arrays[Xt];if(ur.length){var cr=r.getComponentMethod(Xt,"drawOne");if(cr!==C.noop)for(var dr=0;dr<ur.length;dr++)cr(Se,ur[dr]);else{var Ye=r.getComponentMethod(Xt,"draw");if(Ye===C.noop)throw new Error("cannot draw components: "+Xt);Ye(Se)}}}Nt.push(i.previousPromises),it.style&&Nt.push(A.doTraceStyle),(it.colorbars||sr.colorbars)&&Nt.push(A.doColorBars),sr.legend&&Nt.push(A.doLegend),sr.layoutstyle&&Nt.push(A.layoutStyles),sr.axrange&&Oe(Nt),sr.ticks&&Nt.push(A.doTicksRelayout),sr.modebar&&Nt.push(A.doModeBar),sr.camera&&Nt.push(A.doCamera),Nt.push(P)}Nt.push(i.rehover,i.redrag,i.reselect),gt=C.syncOrAsync(Nt,Se),(!gt||!gt.then)&&(gt=Promise.resolve(Se))}return gt.then(function(){return Se.emit("plotly_react",{data:Ve,layout:Ze}),Se})}function Pt(Se,Ve,Ze,tt,ct,gt){var jt=Ve.length===Ze.length;if(!ct&&!jt)return{fullReplot:!0,calc:!0};var Kt=k.traceFlags();Kt.arrays={},Kt.nChanges=0,Kt.nChangesAnim=0;var Tt,zt;function qt(Zt){var Jt=t.getTraceValObject(zt,Zt);return!zt._module.animatable&&Jt.anim&&(Jt.anim=!1),Jt}var Sr={getValObject:qt,flags:Kt,immutable:tt,transition:ct,newDataRevision:gt,gd:Se},yt={};for(Tt=0;Tt<Ve.length;Tt++)if(Ze[Tt]){if(zt=Ze[Tt]._fullInput,i.hasMakesDataTransform(zt)&&(zt=Ze[Tt]),yt[zt.uid])continue;yt[zt.uid]=1,Je(Ve[Tt]._fullInput,zt,[],Sr)}return(Kt.calc||Kt.plot)&&(Kt.fullReplot=!0),ct&&Kt.nChanges&&Kt.nChangesAnim&&(Kt.anim=Kt.nChanges===Kt.nChangesAnim&&jt?"all":"some"),Kt}function Ht(Se,Ve,Ze,tt,ct){var gt=k.layoutFlags();gt.arrays={},gt.rangesAltered={},gt.nChanges=0,gt.nChangesAnim=0;function jt(Tt){return t.getLayoutValObject(Ze,Tt)}var Kt={getValObject:jt,flags:gt,immutable:tt,transition:ct,gd:Se};return Je(Ve,Ze,[],Kt),(gt.plot||gt.calc)&&(gt.layoutReplot=!0),ct&&gt.nChanges&&gt.nChangesAnim&&(gt.anim=gt.nChanges===gt.nChangesAnim?"all":"some"),gt}function Je(Se,Ve,Ze,tt){var ct,gt,jt,Kt=tt.getValObject,Tt=tt.flags,zt=tt.immutable,qt=tt.inArray,Sr=tt.arrayIndex;function yt(){var je=ct.editType;if(qt&&je.indexOf("arraydraw")!==-1){C.pushUnique(Tt.arrays[qt],Sr);return}k.update(Tt,ct),je!=="none"&&Tt.nChanges++,tt.transition&&ct.anim&&Tt.nChangesAnim++,(ze.test(jt)||Ee.test(jt))&&(Tt.rangesAltered[Ze[0]]=1),be.test(jt)&&T(Ve,"_inputDomain").set(null),gt==="datarevision"&&(Tt.newDataRevision=1)}function Zt(je){return je.valType==="data_array"||je.arrayOk}for(gt in Se){if(Tt.calc&&!tt.transition)return;var Jt=Se[gt],mr=Ve[gt],sr=Ze.concat(gt);if(jt=sr.join("."),!(gt.charAt(0)==="_"||typeof Jt=="function"||Jt===mr)){if((gt==="tick0"||gt==="dtick")&&Ze[0]!=="geo"){var vt=Ve.tickmode;if(vt==="auto"||vt==="array"||!vt)continue}if(!(gt==="range"&&Ve.autorange)&&!((gt==="zmin"||gt==="zmax")&&Ve.type==="contourcarpet")&&(ct=Kt(sr),!!ct&&!(ct._compareAsJSON&&JSON.stringify(Jt)===JSON.stringify(mr)))){var it=ct.valType,xt,St=Zt(ct),Rt=Array.isArray(Jt),Lt=Array.isArray(mr);if(Rt&&Lt){var Ot="_input_"+gt,Nt=Se[Ot],Xt=Ve[Ot];if(Array.isArray(Nt)&&Nt===Xt)continue}if(mr===void 0)St&&Rt?Tt.calc=!0:yt();else if(ct._isLinkedToArray){var ur=[],cr=!1;qt||(Tt.arrays[gt]=ur);var dr=Math.min(Jt.length,mr.length),Ye=Math.max(Jt.length,mr.length);if(dr!==Ye)if(ct.editType==="arraydraw")cr=!0;else{yt();continue}for(xt=0;xt<dr;xt++)Je(Jt[xt],mr[xt],sr.concat(xt),C.extendFlat({inArray:gt,arrayIndex:xt},tt));if(cr)for(xt=dr;xt<Ye;xt++)ur.push(xt)}else!it&&C.isPlainObject(Jt)?Je(Jt,mr,sr,tt):St?Rt&&Lt?(zt&&(Tt.calc=!0),(zt||tt.newDataRevision)&&yt()):Rt!==Lt?Tt.calc=!0:yt():Rt&&Lt?(Jt.length!==mr.length||String(Jt)!==String(mr))&&yt():yt()}}}for(gt in Ve)if(!(gt in Se||gt.charAt(0)==="_"||typeof Ve[gt]=="function"))if(ct=Kt(Ze.concat(gt)),Zt(ct)&&Array.isArray(Ve[gt])){Tt.calc=!0;return}else yt()}function We(Se,Ve){var Ze;for(Ze in Se)if(Ze.charAt(0)!=="_"){var tt=Se[Ze],ct=Ve[Ze];if(tt!==ct)if(C.isPlainObject(tt)&&C.isPlainObject(ct)){if(We(tt,ct))return!0}else if(Array.isArray(tt)&&Array.isArray(ct)){if(tt.length!==ct.length)return!0;for(var gt=0;gt<tt.length;gt++)if(tt[gt]!==ct[gt])if(C.isPlainObject(tt[gt])&&C.isPlainObject(ct[gt])){if(We(tt[gt],ct[gt]))return!0}else return!0}else return!0}}function _e(Se,Ve,Ze){if(Se=C.getGraphDiv(Se),!C.isPlotDiv(Se))throw new Error("This element is not a Plotly plot: "+Se+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var tt=Se._transitionData;tt._frameQueue||(tt._frameQueue=[]),Ze=i.supplyAnimationDefaults(Ze);var ct=Ze.transition,gt=Ze.frame;tt._frameWaitingCnt===void 0&&(tt._frameWaitingCnt=0);function jt(zt){return Array.isArray(ct)?zt>=ct.length?ct[0]:ct[zt]:ct}function Kt(zt){return Array.isArray(gt)?zt>=gt.length?gt[0]:gt[zt]:gt}function Tt(zt,qt){var Sr=0;return function(){if(zt&&++Sr===qt)return zt()}}return new Promise(function(zt,qt){function Sr(){if(tt._frameQueue.length!==0){for(;tt._frameQueue.length;){var dr=tt._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Se.emit("plotly_animationinterrupted",[])}}function yt(dr){if(dr.length!==0){for(var Ye=0;Ye<dr.length;Ye++){var je;dr[Ye].type==="byname"?je=i.computeFrame(Se,dr[Ye].name):je=dr[Ye].data;var It=Kt(Ye),Dt=jt(Ye);Dt.duration=Math.min(Dt.duration,It.duration);var Yt={frame:je,name:dr[Ye].name,frameOpts:It,transitionOpts:Dt};Ye===dr.length-1&&(Yt.onComplete=Tt(zt,2),Yt.onInterrupt=qt),tt._frameQueue.push(Yt)}Ze.mode==="immediate"&&(tt._lastFrameAt=-1/0),tt._animationRaf||mr()}}function Zt(){Se.emit("plotly_animated"),window.cancelAnimationFrame(tt._animationRaf),tt._animationRaf=null}function Jt(){tt._currentFrame&&tt._currentFrame.onComplete&&tt._currentFrame.onComplete();var dr=tt._currentFrame=tt._frameQueue.shift();if(dr){var Ye=dr.name?dr.name.toString():null;Se._fullLayout._currentFrame=Ye,tt._lastFrameAt=Date.now(),tt._timeToNext=dr.frameOpts.duration,i.transition(Se,dr.frame.data,dr.frame.layout,M.coerceTraceIndices(Se,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Se.emit("plotly_animatingframe",{name:Ye,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Zt()}function mr(){Se.emit("plotly_animating"),tt._lastFrameAt=-1/0,tt._timeToNext=0,tt._runningTransitions=0,tt._currentFrame=null;var dr=function(){tt._animationRaf=window.requestAnimationFrame(dr),Date.now()-tt._lastFrameAt>tt._timeToNext&&Jt()};dr()}var sr=0;function vt(dr){return Array.isArray(ct)?sr>=ct.length?dr.transitionOpts=ct[sr]:dr.transitionOpts=ct[0]:dr.transitionOpts=ct,sr++,dr}var it,xt,St=[],Rt=Ve==null,Lt=Array.isArray(Ve),Ot=!Rt&&!Lt&&C.isPlainObject(Ve);if(Ot)St.push({type:"object",data:vt(C.extendFlat({},Ve))});else if(Rt||["string","number"].indexOf(typeof Ve)!==-1)for(it=0;it<tt._frames.length;it++)xt=tt._frames[it],xt&&(Rt||String(xt.group)===String(Ve))&&St.push({type:"byname",name:String(xt.name),data:vt({name:xt.name})});else if(Lt)for(it=0;it<Ve.length;it++){var Nt=Ve[it];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),St.push({type:"byname",name:Nt,data:vt({name:Nt})})):C.isPlainObject(Nt)&&St.push({type:"object",data:vt(C.extendFlat({},Nt))})}for(it=0;it<St.length;it++)if(xt=St[it],xt.type==="byname"&&!tt._frameHash[xt.data.name]){C.warn('animate failure: frame not found: "'+xt.data.name+'"'),qt();return}["next","immediate"].indexOf(Ze.mode)!==-1&&Sr(),Ze.direction==="reverse"&&St.reverse();var Xt=Se._fullLayout._currentFrame;if(Xt&&Ze.fromcurrent){var ur=-1;for(it=0;it<St.length;it++)if(xt=St[it],xt.type==="byname"&&xt.name===Xt){ur=it;break}if(ur>0&&ur<St.length-1){var cr=[];for(it=0;it<St.length;it++)xt=St[it],(St[it].type!=="byname"||it>ur)&&cr.push(xt);St=cr}}St.length>0?yt(St):(Se.emit("plotly_animated"),zt())})}function Ne(Se,Ve,Ze){if(Se=C.getGraphDiv(Se),Ve==null)return Promise.resolve();if(!C.isPlotDiv(Se))throw new Error("This element is not a Plotly plot: "+Se+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var tt,ct,gt,jt,Kt=Se._transitionData._frames,Tt=Se._transitionData._frameHash;if(!Array.isArray(Ve))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ve);var zt=Kt.length+Ve.length*2,qt=[],Sr={};for(tt=Ve.length-1;tt>=0;tt--)if(C.isPlainObject(Ve[tt])){var yt=Ve[tt].name,Zt=(Tt[yt]||Sr[yt]||{}).name,Jt=Ve[tt].name,mr=Tt[Zt]||Sr[Zt];Zt&&Jt&&typeof Jt=="number"&&mr&&E<b&&(E++,C.warn('addFrames: overwriting frame "'+(Tt[Zt]||Sr[Zt]).name+'" with a frame whose name of type "number" also equates to "'+Zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===b&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Sr[yt]={name:yt},qt.push({frame:i.supplyFrameDefaults(Ve[tt]),index:Ze&&Ze[tt]!==void 0&&Ze[tt]!==null?Ze[tt]:zt+tt})}qt.sort(function(Ot,Nt){return Ot.index>Nt.index?-1:Ot.index<Nt.index?1:0});var sr=[],vt=[],it=Kt.length;for(tt=qt.length-1;tt>=0;tt--){if(ct=qt[tt].frame,typeof ct.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ct.name)for(;Tt[ct.name="frame "+Se._transitionData._counter++];);if(Tt[ct.name]){for(gt=0;gt<Kt.length&&(Kt[gt]||{}).name!==ct.name;gt++);sr.push({type:"replace",index:gt,value:ct}),vt.unshift({type:"replace",index:gt,value:Kt[gt]})}else jt=Math.max(0,Math.min(qt[tt].index,it)),sr.push({type:"insert",index:jt,value:ct}),vt.unshift({type:"delete",index:jt}),it++}var xt=i.modifyFrames,St=i.modifyFrames,Rt=[Se,vt],Lt=[Se,sr];return y&&y.add(Se,xt,Rt,St,Lt),i.modifyFrames(Se,sr)}function ke(Se,Ve){if(Se=C.getGraphDiv(Se),!C.isPlotDiv(Se))throw new Error("This element is not a Plotly plot: "+Se);var Ze,tt,ct=Se._transitionData._frames,gt=[],jt=[];if(!Ve)for(Ve=[],Ze=0;Ze<ct.length;Ze++)Ve.push(Ze);for(Ve=Ve.slice(),Ve.sort(),Ze=Ve.length-1;Ze>=0;Ze--)tt=Ve[Ze],gt.push({type:"delete",index:tt}),jt.unshift({type:"insert",index:tt,value:ct[tt]});var Kt=i.modifyFrames,Tt=i.modifyFrames,zt=[Se,jt],qt=[Se,gt];return y&&y.add(Se,Kt,zt,Tt,qt),i.modifyFrames(Se,gt)}function we(Se){Se=C.getGraphDiv(Se);var Ve=Se._fullLayout||{},Ze=Se._fullData||[];return i.cleanPlot([],{},Ze,Ve),i.purge(Se),d.purge(Se),Ve._container&&Ve._container.remove(),delete Se._context,Se}function me(Se){var Ve=Se._fullLayout,Ze=Se.getBoundingClientRect();if(!C.equalDomRects(Ze,Ve._lastBBox)){var tt=Ve._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(Se));Ve._invScaleX=Math.sqrt(tt[0][0]*tt[0][0]+tt[0][1]*tt[0][1]+tt[0][2]*tt[0][2]),Ve._invScaleY=Math.sqrt(tt[1][0]*tt[1][0]+tt[1][1]*tt[1][1]+tt[1][2]*tt[1][2]),Ve._lastBBox=Ze}}function Me(Se){var Ve=p.select(Se),Ze=Se._fullLayout;if(Ze._calcInverseTransform=me,Ze._calcInverseTransform(Se),Ze._container=Ve.selectAll(".plot-container").data([0]),Ze._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Ze._paperdiv=Ze._container.selectAll(".svg-container").data([0]),Ze._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Ze._glcontainer=Ze._paperdiv.selectAll(".gl-container").data([{}]),Ze._glcontainer.enter().append("div").classed("gl-container",!0),Ze._paperdiv.selectAll(".main-svg").remove(),Ze._paperdiv.select(".modebar-container").remove(),Ze._paper=Ze._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Ze._toppaper=Ze._paperdiv.append("svg").classed("main-svg",!0),Ze._modebardiv=Ze._paperdiv.append("div"),delete Ze._modeBar,Ze._hoverpaper=Ze._paperdiv.append("svg").classed("main-svg",!0),!Ze._uid){var tt={};p.selectAll("defs").each(function(){this.id&&(tt[this.id.split("-")[1]]=1)}),Ze._uid=C.randstr(tt)}Ze._paperdiv.selectAll(".main-svg").attr(S.svgAttrs),Ze._defs=Ze._paper.append("defs").attr("id","defs-"+Ze._uid),Ze._clips=Ze._defs.append("g").classed("clips",!0),Ze._topdefs=Ze._toppaper.append("defs").attr("id","topdefs-"+Ze._uid),Ze._topclips=Ze._topdefs.append("g").classed("clips",!0),Ze._bgLayer=Ze._paper.append("g").classed("bglayer",!0),Ze._draggers=Ze._paper.append("g").classed("draglayer",!0);var ct=Ze._paper.append("g").classed("layer-below",!0);Ze._imageLowerLayer=ct.append("g").classed("imagelayer",!0),Ze._shapeLowerLayer=ct.append("g").classed("shapelayer",!0),Ze._cartesianlayer=Ze._paper.append("g").classed("cartesianlayer",!0),Ze._polarlayer=Ze._paper.append("g").classed("polarlayer",!0),Ze._smithlayer=Ze._paper.append("g").classed("smithlayer",!0),Ze._ternarylayer=Ze._paper.append("g").classed("ternarylayer",!0),Ze._geolayer=Ze._paper.append("g").classed("geolayer",!0),Ze._funnelarealayer=Ze._paper.append("g").classed("funnelarealayer",!0),Ze._pielayer=Ze._paper.append("g").classed("pielayer",!0),Ze._iciclelayer=Ze._paper.append("g").classed("iciclelayer",!0),Ze._treemaplayer=Ze._paper.append("g").classed("treemaplayer",!0),Ze._sunburstlayer=Ze._paper.append("g").classed("sunburstlayer",!0),Ze._indicatorlayer=Ze._toppaper.append("g").classed("indicatorlayer",!0),Ze._glimages=Ze._paper.append("g").classed("glimages",!0);var gt=Ze._toppaper.append("g").classed("layer-above",!0);Ze._imageUpperLayer=gt.append("g").classed("imagelayer",!0),Ze._shapeUpperLayer=gt.append("g").classed("shapelayer",!0),Ze._selectionLayer=Ze._toppaper.append("g").classed("selectionlayer",!0),Ze._infolayer=Ze._toppaper.append("g").classed("infolayer",!0),Ze._menulayer=Ze._toppaper.append("g").classed("menulayer",!0),Ze._zoomlayer=Ze._toppaper.append("g").classed("zoomlayer",!0),Ze._hoverlayer=Ze._hoverpaper.append("g").classed("hoverlayer",!0),Ze._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Se.emit("plotly_framework")}B.animate=_e,B.addFrames=Ne,B.deleteFrames=ke,B.addTraces=se,B.deleteTraces=$,B.extendTraces=J,B.moveTraces=ee,B.prependTraces=Z,B.newPlot=N,B._doPlot=o,B.purge=we,B.react=At,B.redraw=F,B.relayout=Le,B.restyle=le,B.setPlotConfig=x,B.update=He,B._guiRelayout=Ie(Le),B._guiRestyle=Ie(le),B._guiUpdate=Ie(He),B._storeDirectGUIEdit=ie},72075:function(V){var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,n){for(var C in L){var T=L[C];T.valType?n[C]=T.dflt:(n[C]||(n[C]={}),p(T,n[C]))}}p(B,e),V.exports={configAttributes:B,dfltConfig:e}},86281:function(V,B,e){var p=e(73972),L=e(71828),n=e(9012),C=e(10820),T=e(31391),d=e(85594),y=e(72075).configAttributes,r=e(30962),t=L.extendDeepAll,i=L.isPlainObject,a=L.isArrayOrTypedArray,h=L.nestedProperty,u=L.valObjectMeta,s="_isSubplotObj",m="_isLinkedToArray",f="_arrayAttrRegexps",S="_deprecated",v=[s,m,f,S];B.IS_SUBPLOT_OBJ=s,B.IS_LINKED_TO_ARRAY=m,B.DEPRECATED=S,B.UNDERSCORE_ATTRS=v,B.get=function(){var G={};p.allTypes.forEach(function(N){G[N]=A(N)});var F={};return Object.keys(p.transformsRegistry).forEach(function(N){F[N]=w(N)}),{defs:{valObjects:u,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:r.traces,layout:r.layout},impliedEdits:{}},traces:G,layout:k(),transforms:F,frames:E(),animation:b(d),config:b(y)}},B.crawl=function(G,F,N,U){var O=N||0;U=U||"",Object.keys(G).forEach(function(H){var Y=G[H];if(v.indexOf(H)===-1){var q=(U?U+".":"")+H;F(Y,H,G,O,q),!B.isValObject(Y)&&i(Y)&&H!=="impliedEdits"&&B.crawl(Y,F,O+1,q)}})},B.isValObject=function(G){return G&&G.valType!==void 0},B.findArrayAttributes=function(G){var F=[],N=[],U=[],O,H;function Y(Z,se,$,ee){N=N.slice(0,ee).concat([se]),U=U.slice(0,ee).concat([Z&&Z._isLinkedToArray]);var le=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(N[ee-1]==="colorbar"&&(se==="ticktext"||se==="tickvals"));le&&q(O,0,"")}function q(Z,se,$){var ee=Z[N[se]],le=$+N[se];if(se===N.length-1)a(ee)&&F.push(H+le);else if(U[se]){if(Array.isArray(ee))for(var Q=0;Q<ee.length;Q++)i(ee[Q])&&q(ee[Q],se+1,le+"["+Q+"].")}else i(ee)&&q(ee,se+1,le+".")}O=G,H="",B.crawl(n,Y),G._module&&G._module.attributes&&B.crawl(G._module.attributes,Y);var ne=G.transforms;if(ne)for(var oe=0;oe<ne.length;oe++){var he=ne[oe],J=he._module;J&&(H="transforms["+oe+"].",O=he,B.crawl(J.attributes,Y))}return F},B.getTraceValObject=function(G,F){var N=F[0],U=1,O,H;if(N==="transforms"){if(F.length===1)return n.transforms;var Y=G.transforms;if(!Array.isArray(Y)||!Y.length)return!1;var q=F[1];if(!M(q)||q>=Y.length)return!1;O=(p.transformsRegistry[Y[q].type]||{}).attributes,H=O&&O[F[2]],U=3}else{var ne=G._module;if(ne||(ne=(p.modules[G.type||n.type.dflt]||{})._module),!ne)return!1;if(O=ne.attributes,H=O&&O[N],!H){var oe=ne.basePlotModule;oe&&oe.attributes&&(H=oe.attributes[N])}H||(H=n[N])}return g(H,F,U)},B.getLayoutValObject=function(G,F){var N=l(G,F[0]);return g(N,F,1)};function l(G,F){var N,U,O,H,Y=G._basePlotModules;if(Y){var q;for(N=0;N<Y.length;N++){if(O=Y[N],O.attrRegex&&O.attrRegex.test(F)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!q&&O.layoutAttributes&&(q=O.layoutAttributes)}var ne=O.baseLayoutAttrOverrides;if(ne&&F in ne)return ne[F]}if(q)return q}var oe=G._modules;if(oe){for(N=0;N<oe.length;N++)if(H=oe[N].layoutAttributes,H&&F in H)return H[F]}for(U in p.componentsRegistry){if(O=p.componentsRegistry[U],O.name==="colorscale"&&F.indexOf("coloraxis")===0)return O.layoutAttributes[F];if(!O.schema&&F===O.name)return O.layoutAttributes}return F in C?C[F]:!1}function g(G,F,N){if(!G)return!1;if(G._isLinkedToArray){if(M(F[N]))N++;else if(N<F.length)return!1}for(;N<F.length;N++){var U=G[F[N]];if(i(U))G=U;else break;if(N===F.length-1)break;if(G._isLinkedToArray){if(N++,!M(F[N]))return!1}else if(G.valType==="info_array"){N++;var O=F[N];if(!M(O))return!1;var H=G.items;if(Array.isArray(H)){if(O>=H.length)return!1;if(G.dimensions===2){if(N++,F.length===N)return G;var Y=F[N];if(!M(Y))return!1;G=H[O][Y]}else G=H[O]}else G=H}}return G}function M(G){return G===Math.round(G)&&G>=0}function A(G){var F,N;F=p.modules[G]._module,N=F.basePlotModule;var U={};U.type=null;var O=t({},n),H=t({},F.attributes);B.crawl(H,function(ne,oe,he,J,Z){h(O,Z).set(void 0),ne===void 0&&h(H,Z).set(void 0)}),t(U,O),p.traceIs(G,"noOpacity")&&delete U.opacity,p.traceIs(G,"showLegend")||(delete U.showlegend,delete U.legendgroup),p.traceIs(G,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),F.selectPoints||delete U.selectedpoints,t(U,H),N.attributes&&t(U,N.attributes),U.type=G;var Y={meta:F.meta||{},categories:F.categories||{},animatable:!!F.animatable,type:G,attributes:b(U)};if(F.layoutAttributes){var q={};t(q,F.layoutAttributes),Y.layoutAttributes=b(q)}return F.animatable||B.crawl(Y,function(ne){B.isValObject(ne)&&"anim"in ne&&delete ne.anim}),Y}function k(){var G={},F,N;t(G,C);for(F in p.subplotsRegistry)if(N=p.subplotsRegistry[F],!!N.layoutAttributes)if(Array.isArray(N.attr))for(var U=0;U<N.attr.length;U++)z(G,N,N.attr[U]);else{var O=N.attr==="subplot"?N.name:N.attr;z(G,N,O)}for(F in p.componentsRegistry){N=p.componentsRegistry[F];var H=N.schema;if(H&&(H.subplots||H.layout)){var Y=H.subplots;if(Y&&Y.xaxis&&!Y.yaxis)for(var q in Y.xaxis)delete G.yaxis[q];delete G.xaxis.shift,delete G.xaxis.autoshift}else N.name==="colorscale"?t(G,N.layoutAttributes):N.layoutAttributes&&_(G,N.layoutAttributes,N.name)}return{layoutAttributes:b(G)}}function w(G){var F=p.transformsRegistry[G],N=t({},F.attributes);return Object.keys(p.componentsRegistry).forEach(function(U){var O=p.componentsRegistry[U];O.schema&&O.schema.transforms&&O.schema.transforms[G]&&Object.keys(O.schema.transforms[G]).forEach(function(H){_(N,O.schema.transforms[G][H],H)})}),{attributes:b(N)}}function E(){var G={frames:t({},T)};return b(G),G.frames}function b(G){return o(G),P(G),x(G),G}function o(G){function F(U){return{valType:"string",editType:"none"}}function N(U,O,H){B.isValObject(U)?(U.arrayOk===!0||U.valType==="data_array")&&(H[O+"src"]=F()):i(U)&&(U.role="object")}B.crawl(G,N)}function P(G){function F(N,U,O){if(N){var H=N[m];H&&(delete N[m],O[U]={items:{}},O[U].items[H]=N,O[U].role="object")}}B.crawl(G,F)}function x(G){function F(N){for(var U in N)if(i(N[U]))F(N[U]);else if(Array.isArray(N[U]))for(var O=0;O<N[U].length;O++)F(N[U][O]);else N[U]instanceof RegExp&&(N[U]=N[U].toString())}F(G)}function z(G,F,N){var U=h(G,N),O=t({},F.layoutAttributes);O[s]=!0,U.set(O)}function _(G,F,N){var U=h(G,N);U.set(t(U.get()||{},F))}},44467:function(V,B,e){var p=e(71828),L=e(9012),n="templateitemname",C={name:{valType:"string",editType:"none"}};C[n]={valType:"string",editType:"calc"},B.templatedArray=function(y,r){return r._isLinkedToArray=y,r.name=C.name,r[n]=C[n],r},B.traceTemplater=function(y){var r={},t,i;for(t in y)i=y[t],Array.isArray(i)&&i.length&&(r[t]=0);function a(h){t=p.coerce(h,{},L,"type");var u={type:t,_template:null};if(t in r){i=y[t];var s=r[t]%i.length;r[t]++,u._template=i[s]}return u}return{newTrace:a}},B.newContainer=function(y,r,t){var i=y._template,a=i&&(i[r]||t&&i[t]);p.isPlainObject(a)||(a=null);var h=y[r]={_template:a};return h},B.arrayTemplater=function(y,r,t){var i=y._template,a=i&&i[d(r)],h=i&&i[r];(!Array.isArray(h)||!h.length)&&(h=[]);var u={};function s(f){var S={name:f.name,_input:f},v=S[n]=f[n];if(!T(v))return S._template=a,S;for(var l=0;l<h.length;l++){var g=h[l];if(g.name===v)return u[v]=1,S._template=g,S}return S[t]=f[t]||!1,S._template=!1,S}function m(){for(var f=[],S=0;S<h.length;S++){var v=h[S],l=v.name;if(T(l)&&!u[l]){var g={_template:v,name:l,_input:{_templateitemname:l}};g[n]=v[n],f.push(g),u[l]=1}}return f}return{newItem:s,defaultItems:m}};function T(y){return y&&typeof y=="string"}function d(y){var r=y.length-1;return y.charAt(r)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+y),y.substr(0,y.length-1)+"defaults"}B.arrayDefaultKey=d,B.arrayEditor=function(y,r,t){var i=(p.nestedProperty(y,r).get()||[]).length,a=t._index,h=a>=i&&(t._input||{})._templateitemname;h&&(a=i);var u=r+"["+a+"]",s;function m(){s={},h&&(s[u]={},s[u][n]=h)}m();function f(g,M){s[g]=M}function S(g,M){h?p.nestedProperty(s[u],g).set(M):s[u+"."+g]=M}function v(){var g=s;return m(),g}function l(g,M){g&&S(g,M);var A=v();for(var k in A)p.nestedProperty(y,k).set(A[k])}return{modifyBase:f,modifyItem:S,getUpdateObj:v,applyUpdate:l}}},61549:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),T=e(63893),d=e(33306),y=e(7901),r=e(91424),t=e(92998),i=e(64168),a=e(89298),h=e(18783),u=e(99082),s=u.enforce,m=u.clean,f=e(71739).doAutoRange,S="start",v="middle",l="end";B.layoutStyles=function(N){return C.syncOrAsync([n.doAutoMargin,M],N)};function g(N,U,O){for(var H=0;H<O.length;H++){var Y=O[H][0],q=O[H][1];if(!(Y[0]>=N[1]||Y[1]<=N[0])&&q[0]<U[1]&&q[1]>U[0])return!0}return!1}function M(N){var U=N._fullLayout,O=U._size,H=O.p,Y=a.list(N,"",!0),q,ne,oe,he,J,Z;if(U._paperdiv.style({width:N._context.responsive&&U.autosize&&!N._context._hasZeroWidth&&!N.layout.width?"100%":U.width+"px",height:N._context.responsive&&U.autosize&&!N._context._hasZeroHeight&&!N.layout.height?"100%":U.height+"px"}).selectAll(".main-svg").call(r.setSize,U.width,U.height),N._context.setBackground(N,U.paper_bgcolor),B.drawMainTitle(N),i.manage(N),!U._has("cartesian"))return n.previousPromises(N);function se(we,me,Me){var Se=we._lw/2;if(we._id.charAt(0)==="x"){if(me){if(Me==="top")return me._offset-H-Se}else return O.t+O.h*(1-(we.position||0))+Se%1;return me._offset+me._length+H+Se}if(me){if(Me==="right")return me._offset+me._length+H+Se}else return O.l+O.w*(we.position||0)+Se%1;return me._offset-H-Se}for(q=0;q<Y.length;q++){he=Y[q];var $=he._anchorAxis;he._linepositions={},he._lw=r.crispRound(N,he.linewidth,1),he._mainLinePosition=se(he,$,he.side),he._mainMirrorPosition=he.mirror&&$?se(he,$,h.OPPOSITE_SIDE[he.side]):null}var ee=[],le=[],Q=[],K=y.opacity(U.paper_bgcolor)===1&&y.opacity(U.plot_bgcolor)===1&&U.paper_bgcolor===U.plot_bgcolor;for(ne in U._plots)if(oe=U._plots[ne],oe.mainplot)oe.bg&&oe.bg.remove(),oe.bg=void 0;else{var ue=oe.xaxis.domain,ie=oe.yaxis.domain,ce=oe.plotgroup;if(g(ue,ie,Q)){var xe=ce.node(),Le=oe.bg=C.ensureSingle(ce,"rect","bg");xe.insertBefore(Le.node(),xe.childNodes[0]),le.push(ne)}else ce.select("rect.bg").remove(),Q.push([ue,ie]),K||(ee.push(ne),le.push(ne))}var Ae=U._bgLayer.selectAll(".bg").data(ee);for(Ae.enter().append("rect").classed("bg",!0),Ae.exit().remove(),Ae.each(function(we){U._plots[we].bg=p.select(this)}),q=0;q<le.length;q++)oe=U._plots[le[q]],J=oe.xaxis,Z=oe.yaxis,oe.bg&&J._offset!==void 0&&Z._offset!==void 0&&oe.bg.call(r.setRect,J._offset-H,Z._offset-H,J._length+2*H,Z._length+2*H).call(y.fill,U.plot_bgcolor).style("stroke-width",0);if(!U._hasOnlyLargeSploms)for(ne in U._plots){oe=U._plots[ne],J=oe.xaxis,Z=oe.yaxis;var Oe=oe.clipId="clip"+U._uid+ne+"plot",ze=C.ensureSingleById(U._clips,"clipPath",Oe,function(we){we.classed("plotclip",!0).append("rect")});oe.clipRect=ze.select("rect").attr({width:J._length,height:Z._length}),r.setTranslate(oe.plot,J._offset,Z._offset);var Ee,be;oe._hasClipOnAxisFalse?(Ee=null,be=Oe):(Ee=Oe,be=null),r.setClipUrl(oe.plot,Ee,N),oe.layerClipId=be}var Ce,Ue,He,Ie,Ge,at,lt,qe,et,ft,dt,pt,At;function Pt(we){return"M"+Ce+","+we+"H"+Ue}function Ht(we){return"M"+J._offset+","+we+"h"+J._length}function Je(we){return"M"+we+","+qe+"V"+lt}function We(we){return Z._shift!==void 0&&(we+=Z._shift),"M"+we+","+Z._offset+"v"+Z._length}function _e(we,me,Me){if(!we.showline||ne!==we._mainSubplot)return"";if(!we._anchorAxis)return Me(we._mainLinePosition);var Se=me(we._mainLinePosition);return we.mirror&&(Se+=me(we._mainMirrorPosition)),Se}for(ne in U._plots){oe=U._plots[ne],J=oe.xaxis,Z=oe.yaxis;var Ne="M0,0";A(J,ne)&&(Ge=w(J,"left",Z,Y),Ce=J._offset-(Ge?H+Ge:0),at=w(J,"right",Z,Y),Ue=J._offset+J._length+(at?H+at:0),He=se(J,Z,"bottom"),Ie=se(J,Z,"top"),At=!J._anchorAxis||ne!==J._mainSubplot,At&&(J.mirror==="allticks"||J.mirror==="all")&&(J._linepositions[ne]=[He,Ie]),Ne=_e(J,Pt,Ht),At&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(Ne+=Pt(He)+Pt(Ie)),oe.xlines.style("stroke-width",J._lw+"px").call(y.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),oe.xlines.attr("d",Ne);var ke="M0,0";A(Z,ne)&&(dt=w(Z,"bottom",J,Y),lt=Z._offset+Z._length+(dt?H:0),pt=w(Z,"top",J,Y),qe=Z._offset-(pt?H:0),et=se(Z,J,"left"),ft=se(Z,J,"right"),At=!Z._anchorAxis||ne!==Z._mainSubplot,At&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[ne]=[et,ft]),ke=_e(Z,Je,We),At&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(ke+=Je(et)+Je(ft)),oe.ylines.style("stroke-width",Z._lw+"px").call(y.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),oe.ylines.attr("d",ke)}return a.makeClipPaths(N),n.previousPromises(N)}function A(N,U){return(N.ticks||N.showline)&&(U===N._mainSubplot||N.mirror==="all"||N.mirror==="allticks")}function k(N,U,O){if(!O.showline||!O._lw)return!1;if(O.mirror==="all"||O.mirror==="allticks")return!0;var H=O._anchorAxis;if(!H)return!1;var Y=h.FROM_BL[U];return O.side===U?H.domain[Y]===N.domain[Y]:O.mirror&&H.domain[1-Y]===N.domain[1-Y]}function w(N,U,O,H){if(k(N,U,O))return O._lw;for(var Y=0;Y<H.length;Y++){var q=H[Y];if(q._mainAxis===O._mainAxis&&k(N,U,q))return q._lw}return 0}B.drawMainTitle=function(N){var U=N._fullLayout.title,O=N._fullLayout,H=G(O),Y=F(O),q=z(O,Y),ne=x(O,H);if(t.draw(N,"gtitle",{propContainer:O,propName:"title.text",placeholder:O._dfltTitle.plot,attributes:{x:ne,y:q,"text-anchor":H,dy:Y}}),U.text&&U.automargin){var oe=p.selectAll(".gtitle"),he=r.bBox(oe.node()).height,J=o(N,U,he);if(J>0){P(N,q,J,he),oe.attr({x:ne,y:q,"text-anchor":H,dy:_(U.yanchor)}).call(T.positionText,ne,q);var Z=(U.text.match(T.BR_TAG_ALL)||[]).length;if(Z){var se=h.LINE_SPACING*Z+h.MID_SHIFT;U.y===0&&(se=-se),oe.selectAll(".line").each(function(){var $=+this.getAttribute("dy").slice(0,-2)-se+"em";this.setAttribute("dy",$)})}}}};function E(N,U,O,H,Y){var q=U.yref==="paper"?N._fullLayout._size.h:N._fullLayout.height,ne=C.isTopAnchor(U)?H:H-Y,oe=O==="b"?q-ne:ne;return C.isTopAnchor(U)&&O==="t"||C.isBottomAnchor(U)&&O==="b"?!1:oe<Y}function b(N,U,O,H,Y){var q=0;return O==="middle"&&(q+=Y/2),N==="t"?(O==="top"&&(q+=Y),q+=H-U*H):(O==="bottom"&&(q+=Y),q+=U*H),q}function o(N,U,O){var H=U.y,Y=U.yanchor,q=H>.5?"t":"b",ne=N._fullLayout.margin[q],oe=0;return U.yref==="paper"?oe=O+U.pad.t+U.pad.b:U.yref==="container"&&(oe=b(q,H,Y,N._fullLayout.height,O)+U.pad.t+U.pad.b),oe>ne?oe:0}function P(N,U,O,H){var Y="title.automargin",q=N._fullLayout.title,ne=q.y>.5?"t":"b",oe={x:q.x,y:q.y,t:0,b:0},he={};q.yref==="paper"&&E(N,q,ne,U,H)?oe[ne]=O:q.yref==="container"&&(he[ne]=O,N._fullLayout._reservedMargin[Y]=he),n.allowAutoMargin(N,Y),n.autoMargin(N,Y,oe)}function x(N,U){var O=N.title,H=N._size,Y=0;switch(U===S?Y=O.pad.l:U===l&&(Y=-O.pad.r),O.xref){case"paper":return H.l+H.w*O.x+Y;case"container":default:return N.width*O.x+Y}}function z(N,U){var O=N.title,H=N._size,Y=0;if(U==="0em"||!U?Y=-O.pad.b:U===h.CAP_SHIFT+"em"&&(Y=O.pad.t),O.y==="auto")return H.t/2;switch(O.yref){case"paper":return H.t+H.h-H.h*O.y+Y;case"container":default:return N.height-N.height*O.y+Y}}function _(N){return N==="top"?h.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":h.MID_SHIFT+"em"}function G(N){var U=N.title,O=v;return C.isRightAnchor(U)?O=l:C.isLeftAnchor(U)&&(O=S),O}function F(N){var U=N.title,O="0em";return C.isTopAnchor(U)?O=h.CAP_SHIFT+"em":C.isMiddleAnchor(U)&&(O=h.MID_SHIFT+"em"),O}B.doTraceStyle=function(N){var U=N.calcdata,O=[],H;for(H=0;H<U.length;H++){var Y=U[H],q=Y[0]||{},ne=q.trace||{},oe=ne._module||{},he=oe.arraysToCalcdata;he&&he(Y,ne);var J=oe.editStyle;J&&O.push({fn:J,cd0:q})}if(O.length){for(H=0;H<O.length;H++){var Z=O[H];Z.fn(N,Z.cd0)}d(N),B.redrawReglTraces(N)}return n.style(N),L.getComponentMethod("legend","draw")(N),n.previousPromises(N)},B.doColorBars=function(N){return L.getComponentMethod("colorbar","draw")(N),n.previousPromises(N)},B.layoutReplot=function(N){var U=N.layout;return N.layout=void 0,L.call("_doPlot",N,"",U)},B.doLegend=function(N){return L.getComponentMethod("legend","draw")(N),n.previousPromises(N)},B.doTicksRelayout=function(N){return a.draw(N,"redraw"),N._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(N),d(N),B.redrawReglTraces(N)),B.drawMainTitle(N),n.previousPromises(N)},B.doModeBar=function(N){var U=N._fullLayout;i.manage(N);for(var O=0;O<U._basePlotModules.length;O++){var H=U._basePlotModules[O].updateFx;H&&H(N)}return n.previousPromises(N)},B.doCamera=function(N){for(var U=N._fullLayout,O=U._subplots.gl3d,H=0;H<O.length;H++){var Y=U[O[H]],q=Y._scene;q.setViewport(Y)}},B.drawData=function(N){var U=N._fullLayout;d(N);for(var O=U._basePlotModules,H=0;H<O.length;H++)O[H].plot(N);return B.redrawReglTraces(N),n.style(N),L.getComponentMethod("selections","draw")(N),L.getComponentMethod("shapes","draw")(N),L.getComponentMethod("annotations","draw")(N),L.getComponentMethod("images","draw")(N),U._replotting=!1,n.previousPromises(N)},B.redrawReglTraces=function(N){var U=N._fullLayout;if(U._has("regl")){var O=N._fullData,H=[],Y=[],q,ne;for(U._hasOnlyLargeSploms&&U._splomGrid.draw(),q=0;q<O.length;q++){var oe=O[q];oe.visible===!0&&oe._length!==0&&(oe.type==="splom"?U._splomScenes[oe.uid].draw():oe.type==="scattergl"?C.pushUnique(H,oe.xaxis+oe.yaxis):oe.type==="scatterpolargl"&&C.pushUnique(Y,oe.subplot))}for(q=0;q<H.length;q++)ne=U._plots[H[q]],ne._scene&&ne._scene.draw();for(q=0;q<Y.length;q++)ne=U[Y[q]]._subplot,ne._scene&&ne._scene.draw()}},B.doAutoRangeAndConstraints=function(N){for(var U=a.list(N,"",!0),O,H={},Y=0;Y<U.length;Y++)if(O=U[Y],!H[O._id]){H[O._id]=1,m(N,O),f(N,O);var q=O._matchGroup;if(q)for(var ne in q){var oe=a.getFromId(N,ne);f(N,oe,O.range),H[ne]=1}}s(N)},B.finalDraw=function(N){L.getComponentMethod("rangeslider","draw")(N),L.getComponentMethod("rangeselector","draw")(N)},B.drawMarginPushers=function(N){L.getComponentMethod("legend","draw")(N),L.getComponentMethod("rangeselector","draw")(N),L.getComponentMethod("sliders","draw")(N),L.getComponentMethod("updatemenus","draw")(N),L.getComponentMethod("colorbar","draw")(N)}},96318:function(V,B,e){var p=e(71828),L=p.isPlainObject,n=e(86281),C=e(74875),T=e(9012),d=e(44467),y=e(72075).dfltConfig;B.makeTemplate=function(f){f=p.isPlainObject(f)?f:p.getGraphDiv(f),f=p.extendDeep({_context:y},{data:f.data,layout:f.layout}),C.supplyDefaults(f);var S=f.data||[],v=f.layout||{};v._basePlotModules=f._fullLayout._basePlotModules,v._modules=f._fullLayout._modules;var l={data:{},layout:{}};S.forEach(function(x){var z={};i(x,z,h.bind(null,x));var _=p.coerce(x,{},T,"type"),G=l.data[_];G||(G=l.data[_]=[]),G.push(z)}),i(v,l.layout,a.bind(null,v)),delete l.layout.template;var g=v.template;if(L(g)){var M=g.layout,A,k,w,E,b,o;L(M)&&r(M,l.layout);var P=g.data;if(L(P)){for(k in l.data)if(w=P[k],Array.isArray(w)){for(b=l.data[k],o=b.length,E=w.length,A=0;A<o;A++)r(w[A%E],b[A]);for(A=o;A<E;A++)b.push(p.extendDeep({},w[A]))}for(k in P)k in l.data||(l.data[k]=p.extendDeep([],P[k]))}}return l};function r(f,S){f=p.extendDeep({},f);var v=Object.keys(f).sort(),l,g;function M(b,o,P){if(L(o)&&L(b))r(b,o);else if(Array.isArray(o)&&Array.isArray(b)){var x=d.arrayTemplater({_template:f},P);for(g=0;g<o.length;g++){var z=o[g],_=x.newItem(z)._template;_&&r(_,z)}var G=x.defaultItems();for(g=0;g<G.length;g++)o.push(G[g]._template);for(g=0;g<o.length;g++)delete o[g].templateitemname}}for(l=0;l<v.length;l++){var A=v[l],k=f[A];if(A in S?M(k,S[A],A):S[A]=k,t(A)===A)for(var w in S){var E=t(w);w!==E&&E===A&&!(w in f)&&M(k,S[w],A)}}}function t(f){return f.replace(/[0-9]+$/,"")}function i(f,S,v,l,g){var M=g&&v(g);for(var A in f){var k=f[A],w=u(f,A,l),E=u(f,A,g),b=v(E);if(!b){var o=t(A);o!==A&&(E=u(f,o,g),b=v(E))}if(!(M&&M===b)&&!(!b||b._noTemplating||b.valType==="data_array"||b.arrayOk&&Array.isArray(k)))if(!b.valType&&L(k))i(k,S,v,w,E);else if(b._isLinkedToArray&&Array.isArray(k))for(var P=!1,x=0,z={},_=0;_<k.length;_++){var G=k[_];if(L(G)){var F=G.name;if(F)z[F]||(i(G,S,v,u(k,x,w),u(k,x,E)),x++,z[F]=1);else if(!P){var N=d.arrayDefaultKey(A),U=u(f,N,l),O=u(k,x,w);i(G,S,v,O,u(k,x,E));var H=p.nestedProperty(S,O),Y=p.nestedProperty(S,U);Y.set(H.get()),H.set(null),P=!0}}}else{var q=p.nestedProperty(S,w);q.set(k)}}}function a(f,S){return n.getLayoutValObject(f,p.nestedProperty({},S).parts)}function h(f,S){return n.getTraceValObject(f,p.nestedProperty({},S).parts)}function u(f,S,v){var l;return v?Array.isArray(f)?l=v+"["+S+"]":l=v+"."+S:l=S,l}B.validateTemplate=function(f,S){var v=p.extendDeep({},{_context:y,data:f.data,layout:f.layout}),l=v.layout||{};L(S)||(S=l.template||{});var g=S.layout,M=S.data,A=[];v.layout=l,v.layout.template=S,C.supplyDefaults(v);var k=v._fullLayout,w=v._fullData,E={};function b(U,O){for(var H in U)if(H.charAt(0)!=="_"&&L(U[H])){var Y=t(H),q=[],ne;for(ne=0;ne<O.length;ne++)q.push(u(U,H,O[ne])),Y!==H&&q.push(u(U,Y,O[ne]));for(ne=0;ne<q.length;ne++)E[q[ne]]=1;b(U[H],q)}}function o(U,O){for(var H in U)if(H.indexOf("defaults")===-1&&L(U[H])){var Y=u(U,H,O);E[Y]?o(U[H],Y):A.push({code:"unused",path:Y})}}if(L(g)?(b(k,["layout"]),o(g,"layout")):A.push({code:"layout"}),!L(M))A.push({code:"data"});else{for(var P={},x,z=0;z<w.length;z++){var _=w[z];x=_.type,P[x]=(P[x]||0)+1,_._fullInput._template||A.push({code:"missing",index:_._fullInput.index,traceType:x})}for(x in M){var G=M[x].length,F=P[x]||0;G>F?A.push({code:"unused",traceType:x,templateCount:G,dataCount:F}):F>G&&A.push({code:"reused",traceType:x,templateCount:G,dataCount:F})}}function N(U,O){for(var H in U)if(H.charAt(0)!=="_"){var Y=U[H],q=u(U,H,O);L(Y)?(Array.isArray(U)&&Y._template===!1&&Y.templateitemname&&A.push({code:"missing",path:q,templateitemname:Y.templateitemname}),N(Y,q)):Array.isArray(Y)&&s(Y)&&N(Y,q)}}if(N({data:w,layout:k},""),A.length)return A.map(m)};function s(f){for(var S=0;S<f.length;S++)if(L(f[S]))return!0}function m(f){var S;switch(f.code){case"data":S="The template has no key data.";break;case"layout":S="The template has no key layout.";break;case"missing":f.path?S="There are no templates for item "+f.path+" with name "+f.templateitemname:S="There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":f.path?S="The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?S="Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":S="The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":S="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type.";break}return f.msg=S,f}},403:function(V,B,e){var p=e(92770),L=e(72391),n=e(74875),C=e(71828),T=e(25095),d=e(5900),y=e(70942),r=e(11506).version,t={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function i(a,h){h=h||{};var u,s,m,f;C.isPlainObject(a)?(u=a.data||[],s=a.layout||{},m=a.config||{},f={}):(a=C.getGraphDiv(a),u=C.extendDeep([],a.data),s=C.extendDeep({},a.layout),m=a._context,f=a._fullLayout||{});function S(F){return!(F in h)||C.validate(h[F],t[F])}if(!S("width")&&h.width!==null||!S("height")&&h.height!==null)throw new Error("Height and width should be pixel values.");if(!S("format"))throw new Error("Export format is not "+C.join2(t.format.values,", "," or ")+".");var v={};function l(F,N){return C.coerce(h,v,t,F,N)}var g=l("format"),M=l("width"),A=l("height"),k=l("scale"),w=l("setBackground"),E=l("imageDataOnly"),b=document.createElement("div");b.style.position="absolute",b.style.left="-5000px",document.body.appendChild(b);var o=C.extendFlat({},s);M?o.width=M:h.width===null&&p(f.width)&&(o.width=f.width),A?o.height=A:h.height===null&&p(f.height)&&(o.height=f.height);var P=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),x=T.getRedrawFunc(b);function z(){return new Promise(function(F){setTimeout(F,T.getDelay(b._fullLayout))})}function _(){return new Promise(function(F,N){var U=d(b,g,k),O=b._fullLayout.width,H=b._fullLayout.height;function Y(){L.purge(b),document.body.removeChild(b)}if(g==="full-json"){var q=n.graphJson(b,!1,"keepdata","object",!0,!0);return q.version=r,q=JSON.stringify(q),Y(),F(E?q:T.encodeJSON(q))}if(Y(),g==="svg")return F(E?U:T.encodeSVG(U));var ne=document.createElement("canvas");ne.id=C.randstr(),y({format:g,width:O,height:H,scale:k,canvas:ne,svg:U,promise:!0}).then(F).catch(N)})}function G(F){return E?F.replace(T.IMAGE_URL_PREFIX,""):F}return new Promise(function(F,N){L.newPlot(b,u,o,P).then(x).then(z).then(_).then(function(U){F(G(U))}).catch(function(U){N(U)})})}V.exports=i},84936:function(V,B,e){var p=e(71828),L=e(74875),n=e(86281),C=e(72075).dfltConfig,T=p.isPlainObject,d=Array.isArray,y=p.isArrayOrTypedArray;V.exports=function(l,g){l===void 0&&(l=[]),g===void 0&&(g={});var M=n.get(),A=[],k={_context:p.extendFlat({},C)},w,E;d(l)?(k.data=p.extendDeep([],l),w=l):(k.data=[],w=[],A.push(h("array","data"))),T(g)?(k.layout=p.extendDeep({},g),E=g):(k.layout={},E={},arguments.length>1&&A.push(h("object","layout"))),L.supplyDefaults(k);for(var b=k._fullData,o=w.length,P=0;P<o;P++){var x=w[P],z=["data",P];if(!T(x)){A.push(h("object",z));continue}var _=b[P],G=_.type,F=M.traces[G].attributes;F.type={valType:"enumerated",values:[G]},_.visible===!1&&x.visible!==!1&&A.push(h("invisible",z)),r(x,_,F,A,z);var N=x.transforms,U=_.transforms;if(N){d(N)||A.push(h("array",z,["transforms"])),z.push("transforms");for(var O=0;O<N.length;O++){var H=["transforms",O],Y=N[O].type;if(!T(N[O])){A.push(h("object",z,H));continue}var q=M.transforms[Y]?M.transforms[Y].attributes:{};q.type={valType:"enumerated",values:Object.keys(M.transforms)},r(N[O],U[O],q,A,z,H)}}}var ne=k._fullLayout,oe=t(M,b);return r(E,ne,oe,A,"layout"),A.length===0?void 0:A};function r(v,l,g,M,A,k){k=k||[];for(var w=Object.keys(v),E=0;E<w.length;E++){var b=w[E];if(b!=="transforms"){var o=k.slice();o.push(b);var P=v[b],x=l[b],z=s(g,b),_=(z||{}).valType,G=_==="info_array",F=_==="colorscale",N=(z||{}).items;if(!u(g,b))M.push(h("schema",A,o));else if(T(P)&&T(x)&&_!=="any")r(P,x,z,M,A,o);else if(G&&d(P)){P.length>x.length&&M.push(h("unused",A,o.concat(x.length)));var U=x.length,O=Array.isArray(N);O&&(U=Math.min(U,N.length));var H,Y,q,ne,oe;if(z.dimensions===2)for(Y=0;Y<U;Y++)if(d(P[Y])){P[Y].length>x[Y].length&&M.push(h("unused",A,o.concat(Y,x[Y].length)));var he=x[Y].length;for(H=0;H<(O?Math.min(he,N[Y].length):he);H++)q=O?N[Y][H]:N,ne=P[Y][H],oe=x[Y][H],p.validate(ne,q)?oe!==ne&&oe!==+ne&&M.push(h("dynamic",A,o.concat(Y,H),ne,oe)):M.push(h("value",A,o.concat(Y,H),ne))}else M.push(h("array",A,o.concat(Y),P[Y]));else for(Y=0;Y<U;Y++)q=O?N[Y]:N,ne=P[Y],oe=x[Y],p.validate(ne,q)?oe!==ne&&oe!==+ne&&M.push(h("dynamic",A,o.concat(Y),ne,oe)):M.push(h("value",A,o.concat(Y),ne))}else if(z.items&&!G&&d(P)){var J=N[Object.keys(N)[0]],Z=[],se,$;for(se=0;se<x.length;se++){var ee=x[se]._index||se;if($=o.slice(),$.push(ee),T(P[ee])&&T(x[se])){Z.push(ee);var le=P[ee],Q=x[se];T(le)&&le.visible!==!1&&Q.visible===!1?M.push(h("invisible",A,$)):r(le,Q,J,M,A,$)}}for(se=0;se<P.length;se++)$=o.slice(),$.push(se),T(P[se])?Z.indexOf(se)===-1&&M.push(h("unused",A,$)):M.push(h("object",A,$,P[se]))}else!T(P)&&T(x)?M.push(h("object",A,o,P)):!y(P)&&y(x)&&!G&&!F?M.push(h("array",A,o,P)):b in l?p.validate(P,z)?z.valType==="enumerated"&&(z.coerceNumber&&P!==+x||P!==x)&&M.push(h("dynamic",A,o,P,x)):M.push(h("value",A,o,P)):M.push(h("unused",A,o,P))}}return M}function t(v,l){for(var g=v.layout.layoutAttributes,M=0;M<l.length;M++){var A=l[M],k=v.traces[A.type],w=k.layoutAttributes;w&&(A.subplot?p.extendFlat(g[k.attributes.subplot.dflt],w):p.extendFlat(g,w))}return g}var i={object:function(v,l){var g;return v==="layout"&&l===""?g="The layout argument":v[0]==="data"&&l===""?g="Trace "+v[1]+" in the data argument":g=a(v)+"key "+l,g+" must be linked to an object container"},array:function(v,l){var g;return v==="data"?g="The data argument":g=a(v)+"key "+l,g+" must be linked to an array container"},schema:function(v,l){return a(v)+"key "+l+" is not part of the schema"},unused:function(v,l,g){var M=T(g)?"container":"key";return a(v)+M+" "+l+" did not get coerced"},dynamic:function(v,l,g,M){return[a(v)+"key",l,"(set to '"+g+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(v,l){return(l?a(v)+"item "+l:"Trace "+v[1])+" got defaulted to be not visible"},value:function(v,l,g){return[a(v)+"key "+l,"is set to an invalid value ("+g+")"].join(" ")}};function a(v){return d(v)?"In data trace "+v[1]+", ":"In "+v+", "}function h(v,l,g,M,A){g=g||"";var k,w;d(l)?(k=l[0],w=l[1]):(k=l,w=null);var E=S(g),b=i[v](l,E,M,A);return p.log(b),{code:v,container:k,trace:w,path:g,astr:E,msg:b}}function u(v,l){var g=f(l),M=g.keyMinusId,A=g.id;return M in v&&v[M]._isSubplotObj&&A?!0:l in v}function s(v,l){if(l in v)return v[l];var g=f(l);return v[g.keyMinusId]}var m=p.counterRegex("([a-z]+)");function f(v){var l=v.match(m);return{keyMinusId:l&&l[1],id:l&&l[2]}}function S(v){if(!d(v))return String(v);for(var l="",g=0;g<v.length;g++){var M=v[g];typeof M=="number"?l=l.substr(0,l.length-1)+"["+M+"]":l+=M,g<v.length-1&&(l+=".")}return l}},85594:function(V){V.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(V,B,e){var p=e(71828),L=e(44467);V.exports=function(C,T,d){var y=d.name,r=d.inclusionAttr||"visible",t=T[y],i=p.isArrayOrTypedArray(C[y])?C[y]:[],a=T[y]=[],h=L.arrayTemplater(T,y,r),u,s;for(u=0;u<i.length;u++){var m=i[u];p.isPlainObject(m)?s=h.newItem(m):(s=h.newItem({}),s[r]=!1),s._index=u,s[r]!==!1&&d.handleItemDefaults(m,s,T,d),a.push(s)}var f=h.defaultItems();for(u=0;u<f.length;u++)s=f[u],s._index=a.length,d.handleItemDefaults({},s,T,d,{}),a.push(s);if(p.isArrayOrTypedArray(t)){var S=Math.min(t.length,a.length);for(u=0;u<S;u++)p.relinkPrivateKeys(a[u],t[u])}return a}},9012:function(V,B,e){var p=e(41940),L=e(77914);V.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(V,B,e){var p=e(92770),L=e(71828),n=L.dateTime2ms,C=L.incrementMonth,T=e(50606),d=T.ONEAVGMONTH;V.exports=function(r,t,i,a){if(t.type!=="date")return{vals:a};var h=r[i+"periodalignment"];if(!h)return{vals:a};var u=r[i+"period"],s;if(p(u)){if(u=+u,u<=0)return{vals:a}}else if(typeof u=="string"&&u.charAt(0)==="M"){var m=+u.substring(1);if(m>0&&Math.round(m)===m)s=m;else return{vals:a}}for(var f=t.calendar,S=h==="start",v=h==="end",l=r[i+"period0"],g=n(l,f)||0,M=[],A=[],k=[],w=a.length,E=0;E<w;E++){var b=a[E],o,P,x;if(s){for(o=Math.round((b-g)/(s*d)),x=C(g,s*o,f);x>b;)x=C(x,-s,f);for(;x<=b;)x=C(x,s,f);P=C(x,-s,f)}else{for(o=Math.round((b-g)/u),x=g+o*u;x>b;)x-=u;for(;x<=b;)x+=u;P=x-u}M[E]=S?P:v?x:(P+x)/2,A[E]=P,k[E]=x}return{vals:M,starts:A,ends:k}}},89502:function(V){V.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(50606).FP_SAFE,T=e(73972),d=e(91424),y=e(41675),r=y.getFromId,t=y.isLinked;V.exports={applyAutorangeOptions:o,getAutoRange:i,makePadFn:h,doAutoRange:f,findExtremes:S,concatExtremes:m};function i(P,x){var z,_,G=[],F=P._fullLayout,N=h(F,x,0),U=h(F,x,1),O=m(P,x),H=O.min,Y=O.max;if(H.length===0||Y.length===0)return n.simpleMap(x.range,x.r2l);var q=H[0].val,ne=Y[0].val;for(z=1;z<H.length&&q===ne;z++)q=Math.min(q,H[z].val);for(z=1;z<Y.length&&q===ne;z++)ne=Math.max(ne,Y[z].val);var oe=x.autorange,he=oe==="reversed"||oe==="min reversed"||oe==="max reversed";if(!he&&x.range){var J=n.simpleMap(x.range,x.r2l);he=J[1]<J[0]}x.autorange==="reversed"&&(x.autorange=!0);var Z=x.rangemode,se=Z==="tozero",$=Z==="nonnegative",ee=x._length,le=ee/10,Q=0,K,ue,ie,ce,xe,Le;for(z=0;z<H.length;z++)for(K=H[z],_=0;_<Y.length;_++)ue=Y[_],Le=ue.val-K.val-a(x,K.val,ue.val),Le>0&&(xe=ee-N(K)-U(ue),xe>le?Le/xe>Q&&(ie=K,ce=ue,Q=Le/xe):Le/ee>Q&&(ie={val:K.val,nopad:1},ce={val:ue.val,nopad:1},Q=Le/ee));function Ae(Ce,Ue){return Math.max(Ce,U(Ue))}if(q===ne){var Oe=q-1,ze=q+1;if(se)if(q===0)G=[0,1];else{var Ee=(q>0?Y:H).reduce(Ae,0),be=q/(1-Math.min(.5,Ee/ee));G=q>0?[0,be]:[be,0]}else $?G=[Math.max(0,Oe),Math.max(1,ze)]:G=[Oe,ze]}else se?(ie.val>=0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:0,nopad:1})):$&&(ie.val-Q*N(ie)<0&&(ie={val:0,nopad:1}),ce.val<=0&&(ce={val:1,nopad:1})),Q=(ce.val-ie.val-a(x,K.val,ue.val))/(ee-N(ie)-U(ce)),G=[ie.val-Q*N(ie),ce.val+Q*U(ce)];return G=o(G,x),x.limitRange&&x.limitRange(),he&&G.reverse(),n.simpleMap(G,x.l2r||Number)}function a(P,x,z){var _=0;if(P.rangebreaks)for(var G=P.locateBreaks(x,z),F=0;F<G.length;F++){var N=G[F];_+=N.max-N.min}return _}function h(P,x,z){var _=.05*x._length,G=x._anchorAxis||{};if((x.ticklabelposition||"").indexOf("inside")!==-1||(G.ticklabelposition||"").indexOf("inside")!==-1){var F=x.isReversed();if(!F){var N=n.simpleMap(x.range,x.r2l);F=N[1]<N[0]}F&&(z=!z)}var U=0;return t(P,x._id)||(U=s(P,x,z)),_=Math.max(U,_),x.constrain==="domain"&&x._inputDomain&&(_*=(x._inputDomain[1]-x._inputDomain[0])/(x.domain[1]-x.domain[0])),function(H){return H.nopad?0:H.pad+(H.extrapad?_:U)}}var u=3;function s(P,x,z){var _=0,G=x._id.charAt(0)==="x";for(var F in P._plots){var N=P._plots[F];if(!(x._id!==N.xaxis._id&&x._id!==N.yaxis._id)){var U=(G?N.yaxis:N.xaxis)||{};if((U.ticklabelposition||"").indexOf("inside")!==-1&&(!z&&(U.side==="left"||U.side==="bottom")||z&&(U.side==="top"||U.side==="right"))){if(U._vals){var O=n.deg2rad(U._tickAngles[U._id+"tick"]||0),H=Math.abs(Math.cos(O)),Y=Math.abs(Math.sin(O));if(!U._vals[0].bb){var q=U._id+"tick",ne=U._selections[q];ne.each(function($){var ee=p.select(this),le=ee.select(".text-math-group");le.empty()&&($.bb=d.bBox(ee.node()))})}for(var oe=0;oe<U._vals.length;oe++){var he=U._vals[oe],J=he.bb;if(J){var Z=2*u+J.width,se=2*u+J.height;_=Math.max(_,G?Math.max(Z*H,se*Y):Math.max(se*H,Z*Y))}}}U.ticks==="inside"&&U.ticklabelposition==="inside"&&(_+=U.ticklen||0)}}}return _}function m(P,x,z){var _=x._id,G=P._fullData,F=P._fullLayout,N=[],U=[],O,H,Y;function q(Z,se){for(O=0;O<se.length;O++){var $=Z[se[O]],ee=($._extremes||{})[_];if($.visible===!0&&ee){for(H=0;H<ee.min.length;H++)Y=ee.min[H],v(N,Y.val,Y.pad,{extrapad:Y.extrapad});for(H=0;H<ee.max.length;H++)Y=ee.max[H],l(U,Y.val,Y.pad,{extrapad:Y.extrapad})}}}if(q(G,x._traceIndices),q(F.annotations||[],x._annIndices||[]),q(F.shapes||[],x._shapeIndices||[]),x._matchGroup&&!z){for(var ne in x._matchGroup)if(ne!==x._id){var oe=r(P,ne),he=m(P,oe,!0),J=x._length/oe._length;for(H=0;H<he.min.length;H++)Y=he.min[H],v(N,Y.val,Y.pad*J,{extrapad:Y.extrapad});for(H=0;H<he.max.length;H++)Y=he.max[H],l(U,Y.val,Y.pad*J,{extrapad:Y.extrapad})}}return{min:N,max:U}}function f(P,x,z){if(x.setScale(),x.autorange){x.range=z?z.slice():i(P,x),x._r=x.range.slice(),x._rl=n.simpleMap(x._r,x.r2l);var _=x._input,G={};G[x._attr+".range"]=x.range,G[x._attr+".autorange"]=x.autorange,T.call("_storeDirectGUIEdit",P.layout,P._fullLayout._preGUI,G),_.range=x.range.slice(),_.autorange=x.autorange}var F=x._anchorAxis;if(F&&F.rangeslider){var N=F.rangeslider[x._name];N&&N.rangemode==="auto"&&(N.range=i(P,x)),F._input.rangeslider[x._name]=n.extendFlat({},N)}}function S(P,x,z){z||(z={}),P._m||P.setScale();var _=[],G=[],F=x.length,N=z.padded||!1,U=z.tozero&&(P.type==="linear"||P.type==="-"),O=P.type==="log",H=!1,Y=z.vpadLinearized||!1,q,ne,oe,he,J,Z,se,$,ee;function le(Ae){if(Array.isArray(Ae))return H=!0,function(ze){return Math.max(Number(Ae[ze]||0),0)};var Oe=Math.max(Number(Ae||0),0);return function(){return Oe}}var Q=le((P._m>0?z.ppadplus:z.ppadminus)||z.ppad||0),K=le((P._m>0?z.ppadminus:z.ppadplus)||z.ppad||0),ue=le(z.vpadplus||z.vpad),ie=le(z.vpadminus||z.vpad);if(!H){if($=1/0,ee=-1/0,O)for(q=0;q<F;q++)ne=x[q],ne<$&&ne>0&&($=ne),ne>ee&&ne<C&&(ee=ne);else for(q=0;q<F;q++)ne=x[q],ne<$&&ne>-C&&($=ne),ne>ee&&ne<C&&(ee=ne);x=[$,ee],F=2}var ce={tozero:U,extrapad:N};function xe(Ae){oe=x[Ae],L(oe)&&(Z=Q(Ae),se=K(Ae),Y?(he=P.c2l(oe)-ie(Ae),J=P.c2l(oe)+ue(Ae)):($=oe-ie(Ae),ee=oe+ue(Ae),O&&$<ee/10&&($=ee/10),he=P.c2l($),J=P.c2l(ee)),U&&(he=Math.min(0,he),J=Math.max(0,J)),M(he)&&v(_,he,se,ce),M(J)&&l(G,J,Z,ce))}var Le=Math.min(6,F);for(q=0;q<Le;q++)xe(q);for(q=F-1;q>=Le;q--)xe(q);return{min:_,max:G,opts:z}}function v(P,x,z,_){g(P,x,z,_,A)}function l(P,x,z,_){g(P,x,z,_,k)}function g(P,x,z,_,G){for(var F=_.tozero,N=_.extrapad,U=!0,O=0;O<P.length&&U;O++){var H=P[O];if(G(H.val,x)&&H.pad>=z&&(H.extrapad||!N)){U=!1;break}else G(x,H.val)&&H.pad<=z&&(N||!H.extrapad)&&(P.splice(O,1),O--)}if(U){var Y=F&&x===0;P.push({val:x,pad:Y?0:z,extrapad:Y?!1:N})}}function M(P){return L(P)&&Math.abs(P)<C}function A(P,x){return P<=x}function k(P,x){return P>=x}function w(P,x){var z=x.autorangeoptions;return z&&z.minallowed!==void 0&&b(x,z.minallowed,z.maxallowed)?z.minallowed:z&&z.clipmin!==void 0&&b(x,z.clipmin,z.clipmax)?Math.max(P,x.d2l(z.clipmin)):P}function E(P,x){var z=x.autorangeoptions;return z&&z.maxallowed!==void 0&&b(x,z.minallowed,z.maxallowed)?z.maxallowed:z&&z.clipmax!==void 0&&b(x,z.clipmin,z.clipmax)?Math.min(P,x.d2l(z.clipmax)):P}function b(P,x,z){return x!==void 0&&z!==void 0?(x=P.d2l(x),z=P.d2l(z),x<z):!0}function o(P,x){if(!x||!x.autorangeoptions)return P;var z=P[0],_=P[1],G=x.autorangeoptions.include;if(G!==void 0){var F=x.d2l(z),N=x.d2l(_);n.isArrayOrTypedArray(G)||(G=[G]);for(var U=0;U<G.length;U++){var O=x.d2l(G[U]);F>=O&&(F=O,z=O),N<=O&&(N=O,_=O)}}return z=w(z,x),_=E(_,x),[z,_]}},23074:function(V){V.exports=function(e,p,L){var n,C;if(L){var T=p==="reversed"||p==="min reversed"||p==="max reversed";n=L[T?1:0],C=L[T?0:1]}var d=e("autorangeoptions.minallowed",C===null?n:void 0),y=e("autorangeoptions.maxallowed",n===null?C:void 0);d===void 0&&e("autorangeoptions.clipmin"),y===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(V,B,e){var p=e(39898),L=e(92770),n=e(74875),C=e(73972),T=e(71828),d=T.strTranslate,y=e(63893),r=e(92998),t=e(7901),i=e(91424),a=e(13838),h=e(66287),u=e(50606),s=u.ONEMAXYEAR,m=u.ONEAVGYEAR,f=u.ONEMINYEAR,S=u.ONEMAXQUARTER,v=u.ONEAVGQUARTER,l=u.ONEMINQUARTER,g=u.ONEMAXMONTH,M=u.ONEAVGMONTH,A=u.ONEMINMONTH,k=u.ONEWEEK,w=u.ONEDAY,E=w/2,b=u.ONEHOUR,o=u.ONEMIN,P=u.ONESEC,x=u.MINUS_SIGN,z=u.BADNUM,_={K:"zeroline"},G={K:"gridline",L:"path"},F={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},U={K:"tick",L:"text"},O={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},H=e(18783),Y=H.MID_SHIFT,q=H.CAP_SHIFT,ne=H.LINE_SPACING,oe=H.OPPOSITE_SIDE,he=3,J=V.exports={};J.setConvert=e(21994);var Z=e(4322),se=e(41675),$=se.idSort,ee=se.isLinked;J.id2name=se.id2name,J.name2id=se.name2id,J.cleanId=se.cleanId,J.list=se.list,J.listIds=se.listIds,J.getFromId=se.getFromId,J.getFromTrace=se.getFromTrace;var le=e(71739);J.getAutoRange=le.getAutoRange,J.findExtremes=le.findExtremes;var Q=1e-4;function K(Ye){var je=(Ye[1]-Ye[0])*Q;return[Ye[0]-je,Ye[1]+je]}J.coerceRef=function(Ye,je,It,Dt,Yt,tr){var fr=Dt.charAt(Dt.length-1),rr=It._fullLayout._subplots[fr+"axis"],Ft=Dt+"ref",hr={};return Yt||(Yt=rr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=Yt),rr=rr.concat(rr.map(function(br){return br+" domain"})),hr[Ft]={valType:"enumerated",values:rr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:Yt},T.coerce(Ye,je,hr,Ft)},J.getRefType=function(Ye){return Ye===void 0?Ye:Ye==="paper"?"paper":Ye==="pixel"?"pixel":/( domain)$/.test(Ye)?"domain":"range"},J.coercePosition=function(Ye,je,It,Dt,Yt,tr){var fr,rr,Ft=J.getRefType(Dt);if(Ft!=="range")fr=T.ensureNumber,rr=It(Yt,tr);else{var hr=J.getFromId(je,Dt);tr=hr.fraction2r(tr),rr=It(Yt,tr),fr=hr.cleanPos}Ye[Yt]=fr(rr)},J.cleanPosition=function(Ye,je,It){var Dt=It==="paper"||It==="pixel"?T.ensureNumber:J.getFromId(je,It).cleanPos;return Dt(Ye)},J.redrawComponents=function(Ye,je){je=je||J.listIds(Ye);var It=Ye._fullLayout;function Dt(Yt,tr,fr,rr){for(var Ft=C.getComponentMethod(Yt,tr),hr={},br=0;br<je.length;br++)for(var yr=It[J.id2name(je[br])],vr=yr[fr],Gr=0;Gr<vr.length;Gr++){var _r=vr[Gr];if(!hr[_r]&&(Ft(Ye,_r),hr[_r]=1,rr))return}}Dt("annotations","drawOne","_annIndices"),Dt("shapes","drawOne","_shapeIndices"),Dt("images","draw","_imgIndices",!0),Dt("selections","drawOne","_selectionIndices")};var ue=J.getDataConversions=function(Ye,je,It,Dt){var Yt,tr=It==="x"||It==="y"||It==="z"?It:Dt;if(T.isArrayOrTypedArray(tr)){if(Yt={type:Z(Dt,void 0,{autotypenumbers:Ye._fullLayout.autotypenumbers}),_categories:[]},J.setConvert(Yt),Yt.type==="category")for(var fr=0;fr<Dt.length;fr++)Yt.d2c(Dt[fr])}else Yt=J.getFromTrace(Ye,je,tr);return Yt?{d2c:Yt.d2c,c2d:Yt.c2d}:tr==="ids"?{d2c:ce,c2d:ce}:{d2c:ie,c2d:ie}};function ie(Ye){return+Ye}function ce(Ye){return String(Ye)}J.getDataToCoordFunc=function(Ye,je,It,Dt){return ue(Ye,je,It,Dt).d2c},J.counterLetter=function(Ye){var je=Ye.charAt(0);if(je==="x")return"y";if(je==="y")return"x"},J.minDtick=function(Ye,je,It,Dt){["log","category","multicategory"].indexOf(Ye.type)!==-1||!Dt?Ye._minDtick=0:Ye._minDtick===void 0?(Ye._minDtick=je,Ye._forceTick0=It):Ye._minDtick&&((Ye._minDtick/je+1e-6)%1<2e-6&&((It-Ye._forceTick0)/je%1+1.000001)%1<2e-6?(Ye._minDtick=je,Ye._forceTick0=It):((je/Ye._minDtick+1e-6)%1>2e-6||((It-Ye._forceTick0)/Ye._minDtick%1+1.000001)%1>2e-6)&&(Ye._minDtick=0))},J.saveRangeInitial=function(Ye,je){for(var It=J.list(Ye,"",!0),Dt=!1,Yt=0;Yt<It.length;Yt++){var tr=It[Yt],fr=tr._rangeInitial0===void 0&&tr._rangeInitial1===void 0,rr=fr||tr.range[0]!==tr._rangeInitial0||tr.range[1]!==tr._rangeInitial1,Ft=tr.autorange;(fr&&Ft!==!0||je&&rr)&&(tr._rangeInitial0=Ft==="min"||Ft==="max reversed"?void 0:tr.range[0],tr._rangeInitial1=Ft==="max"||Ft==="min reversed"?void 0:tr.range[1],tr._autorangeInitial=Ft,Dt=!0)}return Dt},J.saveShowSpikeInitial=function(Ye,je){for(var It=J.list(Ye,"",!0),Dt=!1,Yt="on",tr=0;tr<It.length;tr++){var fr=It[tr],rr=fr._showSpikeInitial===void 0,Ft=rr||fr.showspikes!==fr._showspikes;(rr||je&&Ft)&&(fr._showSpikeInitial=fr.showspikes,Dt=!0),Yt==="on"&&!fr.showspikes&&(Yt="off")}return Ye._fullLayout._cartesianSpikesEnabled=Yt,Dt},J.autoBin=function(Ye,je,It,Dt,Yt,tr){var fr=T.aggNums(Math.min,null,Ye),rr=T.aggNums(Math.max,null,Ye);if(je.type==="category"||je.type==="multicategory")return{start:fr-.5,end:rr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:rr-fr};Yt||(Yt=je.calendar);var Ft;if(je.type==="log"?Ft={type:"linear",range:[fr,rr]}:Ft={type:je.type,range:T.simpleMap([fr,rr],je.c2r,0,Yt),calendar:Yt},J.setConvert(Ft),tr=tr&&h.dtick(tr,Ft.type),tr)Ft.dtick=tr,Ft.tick0=h.tick0(void 0,Ft.type,Yt);else{var hr;if(It)hr=(rr-fr)/It;else{var br=T.distinctVals(Ye),yr=Math.pow(10,Math.floor(Math.log(br.minDiff)/Math.LN10)),vr=yr*T.roundUp(br.minDiff/yr,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*T.stdev(Ye)/Math.pow(Ye.length,Dt?.25:.4)),L(hr)||(hr=1)}J.autoTicks(Ft,hr)}var Gr=Ft.dtick,_r=J.tickIncrement(J.tickFirst(Ft),Gr,"reverse",Yt),Dr,pn;if(typeof Gr=="number")_r=xe(_r,Ye,Ft,fr,rr),pn=1+Math.floor((rr-_r)/Gr),Dr=_r+pn*Gr;else for(Ft.dtick.charAt(0)==="M"&&(_r=Le(_r,Ye,Gr,fr,Yt)),Dr=_r,pn=0;Dr<=rr;)Dr=J.tickIncrement(Dr,Gr,!1,Yt),pn++;return{start:je.c2r(_r,0,Yt),end:je.c2r(Dr,0,Yt),size:Gr,_dataSpan:rr-fr}};function xe(Ye,je,It,Dt,Yt){var tr=0,fr=0,rr=0,Ft=0;function hr(Gr){return(1+(Gr-Ye)*100/It.dtick)%100<2}for(var br=0;br<je.length;br++)je[br]%1===0?rr++:L(je[br])||Ft++,hr(je[br])&&tr++,hr(je[br]+It.dtick/2)&&fr++;var yr=je.length-Ft;if(rr===yr&&It.type!=="date")It.dtick<1?Ye=Dt-.5*It.dtick:(Ye-=.5,Ye+It.dtick<Dt&&(Ye+=It.dtick));else if(fr<yr*.1&&(tr>yr*.3||hr(Dt)||hr(Yt))){var vr=It.dtick/2;Ye+=Ye+vr<Dt?vr:-vr}return Ye}function Le(Ye,je,It,Dt,Yt){var tr=T.findExactDates(je,Yt),fr=.8;if(tr.exactDays>fr){var rr=Number(It.substr(1));tr.exactYears>fr&&rr%12===0?Ye=J.tickIncrement(Ye,"M6","reverse")+w*1.5:tr.exactMonths>fr?Ye=J.tickIncrement(Ye,"M1","reverse")+w*15.5:Ye-=E;var Ft=J.tickIncrement(Ye,It);if(Ft<=Dt)return Ft}return Ye}J.prepMinorTicks=function(Ye,je,It){if(!je.minor.dtick){delete Ye.dtick;var Dt=je.dtick&&L(je._tmin),Yt;if(Dt){var tr=J.tickIncrement(je._tmin,je.dtick,!0);Yt=[je._tmin,tr*.99+je._tmin*.01]}else{var fr=T.simpleMap(je.range,je.r2l);Yt=[fr[0],.8*fr[0]+.2*fr[1]]}if(Ye.range=T.simpleMap(Yt,je.l2r),Ye._isMinor=!0,J.prepTicks(Ye,It),Dt){var rr=L(je.dtick),Ft=L(Ye.dtick),hr=rr?je.dtick:+je.dtick.substring(1),br=Ft?Ye.dtick:+Ye.dtick.substring(1);rr&&Ft?Ae(hr,br)?hr===2*k&&br===2*w&&(Ye.dtick=k):hr===2*k&&br===3*w?Ye.dtick=k:hr===k&&!(je._input.minor||{}).nticks?Ye.dtick=w:Oe(hr/br,2.5)?Ye.dtick=hr/2:Ye.dtick=hr:String(je.dtick).charAt(0)==="M"?Ft?Ye.dtick="M1":Ae(hr,br)?hr>=12&&br===2&&(Ye.dtick="M3"):Ye.dtick=je.dtick:String(Ye.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?Ae(hr,br)||(Ye.dtick=Oe(hr/br,2.5)?je.dtick/2:je.dtick):Ye.dtick="D1":Ye.dtick==="D2"&&+je.dtick>1&&(Ye.dtick=1)}Ye.range=je.range}je.minor._tick0Init===void 0&&(Ye.tick0=je.tick0)};function Ae(Ye,je){return Math.abs((Ye/je+.5)%1-.5)<.001}function Oe(Ye,je){return Math.abs(Ye/je-1)<.001}J.prepTicks=function(Ye,je){var It=T.simpleMap(Ye.range,Ye.r2l,void 0,void 0,je);if(Ye.tickmode==="auto"||!Ye.dtick){var Dt=Ye.nticks,Yt;Dt||(Ye.type==="category"||Ye.type==="multicategory"?(Yt=Ye.tickfont?T.bigFont(Ye.tickfont.size||12):15,Dt=Ye._length/Yt):(Yt=Ye._id.charAt(0)==="y"?40:80,Dt=T.constrain(Ye._length/Yt,4,9)+1),Ye._name==="radialaxis"&&(Dt*=2)),Ye.minor&&Ye.minor.tickmode!=="array"||Ye.tickmode==="array"&&(Dt*=100),Ye._roughDTick=Math.abs(It[1]-It[0])/Dt,J.autoTicks(Ye,Ye._roughDTick),Ye._minDtick>0&&Ye.dtick<Ye._minDtick*2&&(Ye.dtick=Ye._minDtick,Ye.tick0=Ye.l2r(Ye._forceTick0))}Ye.ticklabelmode==="period"&&Ee(Ye),Ye.tick0||(Ye.tick0=Ye.type==="date"?"2000-01-01":0),Ye.type==="date"&&Ye.dtick<.1&&(Ye.dtick=.1),pt(Ye)};function ze(Ye){return+Ye.substring(1)}function Ee(Ye){var je;function It(){return!(L(Ye.dtick)||Ye.dtick.charAt(0)!=="M")}var Dt=It(),Yt=J.getTickFormat(Ye);if(Yt){var tr=Ye._dtickInit!==Ye.dtick;/%[fLQsSMX]/.test(Yt)||(/%[HI]/.test(Yt)?(je=b,tr&&!Dt&&Ye.dtick<b&&(Ye.dtick=b)):/%p/.test(Yt)?(je=E,tr&&!Dt&&Ye.dtick<E&&(Ye.dtick=E)):/%[Aadejuwx]/.test(Yt)?(je=w,tr&&!Dt&&Ye.dtick<w&&(Ye.dtick=w)):/%[UVW]/.test(Yt)?(je=k,tr&&!Dt&&Ye.dtick<k&&(Ye.dtick=k)):/%[Bbm]/.test(Yt)?(je=M,tr&&(Dt?ze(Ye.dtick)<1:Ye.dtick<A)&&(Ye.dtick="M1")):/%[q]/.test(Yt)?(je=v,tr&&(Dt?ze(Ye.dtick)<3:Ye.dtick<l)&&(Ye.dtick="M3")):/%[Yy]/.test(Yt)&&(je=m,tr&&(Dt?ze(Ye.dtick)<12:Ye.dtick<f)&&(Ye.dtick="M12")))}Dt=It(),Dt&&Ye.tick0===Ye._dowTick0&&(Ye.tick0=Ye._rawTick0),Ye._definedDelta=je}function be(Ye,je,It){for(var Dt=0;Dt<Ye.length;Dt++){var Yt=Ye[Dt].value,tr=Dt,fr=Dt+1;Dt<Ye.length-1?(tr=Dt,fr=Dt+1):Dt>0?(tr=Dt-1,fr=Dt):(tr=Dt,fr=Dt);var rr=Ye[tr].value,Ft=Ye[fr].value,hr=Math.abs(Ft-rr),br=It||hr,yr=0;br>=f?hr>=f&&hr<=s?yr=hr:yr=m:It===v&&br>=l?hr>=l&&hr<=S?yr=hr:yr=v:br>=A?hr>=A&&hr<=g?yr=hr:yr=M:It===k&&br>=k?yr=k:br>=w?yr=w:It===E&&br>=E?yr=E:It===b&&br>=b&&(yr=b);var vr;yr>=hr&&(yr=hr,vr=!0);var Gr=Yt+yr;if(je.rangebreaks&&yr>0){for(var _r=84,Dr=0,pn=0;pn<_r;pn++){var nn=(pn+.5)/_r;je.maskBreaks(Yt*(1-nn)+nn*Gr)!==z&&Dr++}yr*=Dr/_r,yr||(Ye[Dt].drop=!0),vr&&hr>k&&(yr=hr)}(yr>0||Dt===0)&&(Ye[Dt].periodX=Yt+yr/2)}}J.calcTicks=function(je,It){for(var Dt=je.type,Yt=je.calendar,tr=je.ticklabelstep,fr=je.ticklabelmode==="period",rr=T.simpleMap(je.range,je.r2l,void 0,void 0,It),Ft=rr[1]<rr[0],hr=Math.min(rr[0],rr[1]),br=Math.max(rr[0],rr[1]),yr=Math.max(1e3,je._length||0),vr=[],Gr=[],_r=[],Dr=[],pn=je.minor&&(je.minor.ticks||je.minor.showgrid),nn=1;nn>=(pn?0:1);nn--){var Un=!nn;nn?(je._dtickInit=je.dtick,je._tick0Init=je.tick0):(je.minor._dtickInit=je.minor.dtick,je.minor._tick0Init=je.minor.tick0);var Tn=nn?je:T.extendFlat({},je,je.minor);if(Un?J.prepMinorTicks(Tn,je,It):J.prepTicks(Tn,It),Tn.tickmode==="array"){nn?(_r=[],vr=He(je,!Un)):(Dr=[],Gr=He(je,!Un));continue}if(Tn.tickmode==="sync"){_r=[],vr=Ue(je);continue}var Cr=K(rr),Lr=Cr[0],Zr=Cr[1],Wr=L(Tn.dtick),sn=Dt==="log"&&!(Wr||Tn.dtick.charAt(0)==="L"),yn=J.tickFirst(Tn,It);if(nn){if(je._tmin=yn,yn<Lr!==Ft)break;(Dt==="category"||Dt==="multicategory")&&(Zr=Ft?Math.max(-.5,Zr):Math.min(je._categories.length-.5,Zr))}var bn=null,Pn=yn,Bn;if(nn){var sa;Wr?sa=je.dtick:Dt==="date"?typeof je.dtick=="string"&&je.dtick.charAt(0)==="M"&&(sa=M*je.dtick.substring(1)):sa=je._roughDTick,Bn=Math.round((je.r2l(Pn)-je.r2l(je.tick0))/sa)-1}var Kn=Tn.dtick;for(Tn.rangebreaks&&Tn._tick0Init!==Tn.tick0&&(Pn=Nt(Pn,je),Ft||(Pn=J.tickIncrement(Pn,Kn,!Ft,Yt))),nn&&fr&&(Pn=J.tickIncrement(Pn,Kn,!Ft,Yt),Bn--);Ft?Pn>=Zr:Pn<=Zr;Pn=J.tickIncrement(Pn,Kn,Ft,Yt)){if(nn&&Bn++,Tn.rangebreaks&&!Ft){if(Pn<Lr)continue;if(Tn.maskBreaks(Pn)===z&&Nt(Pn,Tn)>=br)break}if(_r.length>yr||Pn===bn)break;bn=Pn;var ra={value:Pn};nn?(sn&&Pn!==(Pn|0)&&(ra.simpleLabel=!0),tr>1&&Bn%tr&&(ra.skipLabel=!0),_r.push(ra)):(ra.minor=!0,Dr.push(ra))}}if(pn){var $n=je.minor.ticks==="inside"&&je.ticks==="outside"||je.minor.ticks==="outside"&&je.ticks==="inside";if(!$n){for(var ta=_r.map(function(wn){return wn.value}),Mr=[],un=0;un<Dr.length;un++){var on=Dr[un],mn=on.value;if(ta.indexOf(mn)===-1){for(var Yn=!1,$t=0;!Yn&&$t<_r.length;$t++)1e7+_r[$t].value===1e7+mn&&(Yn=!0);Yn||Mr.push(on)}}Dr=Mr}}fr&&be(_r,je,je._definedDelta);var xr;if(je.rangebreaks){var Nr=je._id.charAt(0)==="y",En=1;je.tickmode==="auto"&&(En=je.tickfont?je.tickfont.size:12);var Qn=NaN;for(xr=_r.length-1;xr>-1;xr--){if(_r[xr].drop){_r.splice(xr,1);continue}_r[xr].value=Nt(_r[xr].value,je);var Ca=je.c2p(_r[xr].value);(Nr?Qn>Ca-En:Qn<Ca+En)?_r.splice(Ft?xr+1:xr,1):Qn=Ca}}Ot(je)&&Math.abs(rr[1]-rr[0])===360&&_r.pop(),je._tmax=(_r[_r.length-1]||{}).value,je._prevDateHead="",je._inCalcTicks=!0;var wr,zr=function(wn){wn.text="",je._prevDateHead=wr};_r=_r.concat(Dr);var gr,Br;for(xr=0;xr<_r.length;xr++){var xn=_r[xr].minor,kn=_r[xr].value;xn?Gr.push({x:kn,minor:!0}):(wr=je._prevDateHead,gr=J.tickText(je,kn,!1,_r[xr].simpleLabel),Br=_r[xr].periodX,Br!==void 0&&(gr.periodX=Br,(Br>br||Br<hr)&&(Br>br&&(gr.periodX=br),Br<hr&&(gr.periodX=hr),zr(gr))),_r[xr].skipLabel&&zr(gr),vr.push(gr))}return vr=vr.concat(Gr),je._inCalcTicks=!1,fr&&vr.length&&(vr[0].noTick=!0),vr};function Ce(Ye,je){return Ye.rangebreaks&&(je=je.filter(function(It){return Ye.maskBreaks(It.x)!==z})),je}function Ue(Ye){var je=Ye._mainAxis,It=[];if(je._vals){for(var Dt=0;Dt<je._vals.length;Dt++)if(!je._vals[Dt].noTick){var Yt=je.l2p(je._vals[Dt].x),tr=Ye.p2l(Yt),fr=J.tickText(Ye,tr);je._vals[Dt].minor&&(fr.minor=!0,fr.text=""),It.push(fr)}}return It=Ce(Ye,It),It}function He(Ye,je){var It=T.simpleMap(Ye.range,Ye.r2l),Dt=K(It),Yt=Math.min(Dt[0],Dt[1]),tr=Math.max(Dt[0],Dt[1]),fr=Ye.type==="category"?Ye.d2l_noadd:Ye.d2l;Ye.type==="log"&&String(Ye.dtick).charAt(0)!=="L"&&(Ye.dtick="L"+Math.pow(10,Math.floor(Math.min(Ye.range[0],Ye.range[1]))-1));for(var rr=[],Ft=0;Ft<=1;Ft++)if(!(je!==void 0&&(je&&Ft||je===!1&&!Ft))&&!(Ft&&!Ye.minor)){var hr=Ft?Ye.minor.tickvals:Ye.tickvals,br=Ft?[]:Ye.ticktext;if(hr){T.isArrayOrTypedArray(br)||(br=[]);for(var yr=0;yr<hr.length;yr++){var vr=fr(hr[yr]);if(vr>Yt&&vr<tr){var Gr=br[yr]===void 0?J.tickText(Ye,vr):At(Ye,vr,String(br[yr]));Ft&&(Gr.minor=!0,Gr.text=""),rr.push(Gr)}}}}return rr=Ce(Ye,rr),rr}var Ie=[2,5,10],Ge=[1,2,3,6,12],at=[1,2,5,10,15,30],lt=[1,2,3,7,14],qe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],et=[-.301,0,.301,.699,1],ft=[15,30,45,90,180];function dt(Ye,je,It){return je*T.roundUp(Ye/je,It)}J.autoTicks=function(Ye,je,It){var Dt;function Yt(yr){return Math.pow(yr,Math.floor(Math.log(je)/Math.LN10))}if(Ye.type==="date"){Ye.tick0=T.dateTick0(Ye.calendar,0);var tr=2*je;if(tr>m)je/=m,Dt=Yt(10),Ye.dtick="M"+12*dt(je,Dt,Ie);else if(tr>M)je/=M,Ye.dtick="M"+dt(je,1,Ge);else if(tr>w){if(Ye.dtick=dt(je,w,Ye._hasDayOfWeekBreaks?[1,2,7,14]:lt),!It){var fr=J.getTickFormat(Ye),rr=Ye.ticklabelmode==="period";rr&&(Ye._rawTick0=Ye.tick0),/%[uVW]/.test(fr)?Ye.tick0=T.dateTick0(Ye.calendar,2):Ye.tick0=T.dateTick0(Ye.calendar,1),rr&&(Ye._dowTick0=Ye.tick0)}}else tr>b?Ye.dtick=dt(je,b,Ge):tr>o?Ye.dtick=dt(je,o,at):tr>P?Ye.dtick=dt(je,P,at):(Dt=Yt(10),Ye.dtick=dt(je,Dt,Ie))}else if(Ye.type==="log"){Ye.tick0=0;var Ft=T.simpleMap(Ye.range,Ye.r2l);if(Ye._isMinor&&(je*=1.5),je>.7)Ye.dtick=Math.ceil(je);else if(Math.abs(Ft[1]-Ft[0])<1){var hr=1.5*Math.abs((Ft[1]-Ft[0])/je);je=Math.abs(Math.pow(10,Ft[1])-Math.pow(10,Ft[0]))/hr,Dt=Yt(10),Ye.dtick="L"+dt(je,Dt,Ie)}else Ye.dtick=je>.3?"D2":"D1"}else Ye.type==="category"||Ye.type==="multicategory"?(Ye.tick0=0,Ye.dtick=Math.ceil(Math.max(je,1))):Ot(Ye)?(Ye.tick0=0,Dt=1,Ye.dtick=dt(je,Dt,ft)):(Ye.tick0=0,Dt=Yt(10),Ye.dtick=dt(je,Dt,Ie));if(Ye.dtick===0&&(Ye.dtick=1),!L(Ye.dtick)&&typeof Ye.dtick!="string"){var br=Ye.dtick;throw Ye.dtick=1,"ax.dtick error: "+String(br)}};function pt(Ye){var je=Ye.dtick;if(Ye._tickexponent=0,!L(je)&&typeof je!="string"&&(je=1),(Ye.type==="category"||Ye.type==="multicategory")&&(Ye._tickround=null),Ye.type==="date"){var It=Ye.r2l(Ye.tick0),Dt=Ye.l2r(It).replace(/(^-|i)/g,""),Yt=Dt.length;if(String(je).charAt(0)==="M")Yt>10||Dt.substr(5)!=="01-01"?Ye._tickround="d":Ye._tickround=+je.substr(1)%12===0?"y":"m";else if(je>=w&&Yt<=10||je>=w*15)Ye._tickround="d";else if(je>=o&&Yt<=16||je>=b)Ye._tickround="M";else if(je>=P&&Yt<=19||je>=o)Ye._tickround="S";else{var tr=Ye.l2r(It+je).replace(/^-/,"").length;Ye._tickround=Math.max(Yt,tr)-20,Ye._tickround<0&&(Ye._tickround=4)}}else if(L(je)||je.charAt(0)==="L"){var fr=Ye.range.map(Ye.r2d||Number);L(je)||(je=Number(je.substr(1))),Ye._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var rr=Math.max(Math.abs(fr[0]),Math.abs(fr[1])),Ft=Math.floor(Math.log(rr)/Math.LN10+.01),hr=Ye.minexponent===void 0?3:Ye.minexponent;Math.abs(Ft)>hr&&(me(Ye.exponentformat)&&!Me(Ft)?Ye._tickexponent=3*Math.round((Ft-1)/3):Ye._tickexponent=Ft)}else Ye._tickround=null}J.tickIncrement=function(Ye,je,It,Dt){var Yt=It?-1:1;if(L(je))return T.increment(Ye,Yt*je);var tr=je.charAt(0),fr=Yt*Number(je.substr(1));if(tr==="M")return T.incrementMonth(Ye,fr,Dt);if(tr==="L")return Math.log(Math.pow(10,Ye)+fr)/Math.LN10;if(tr==="D"){var rr=je==="D2"?et:qe,Ft=Ye+Yt*.01,hr=T.roundUp(T.mod(Ft,1),rr,It);return Math.floor(Ft)+Math.log(p.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(je)},J.tickFirst=function(Ye,je){var It=Ye.r2l||Number,Dt=T.simpleMap(Ye.range,It,void 0,void 0,je),Yt=Dt[1]<Dt[0],tr=Yt?Math.floor:Math.ceil,fr=K(Dt)[0],rr=Ye.dtick,Ft=It(Ye.tick0);if(L(rr)){var hr=tr((fr-Ft)/rr)*rr+Ft;return(Ye.type==="category"||Ye.type==="multicategory")&&(hr=T.constrain(hr,0,Ye._categories.length-1)),hr}var br=rr.charAt(0),yr=Number(rr.substr(1));if(br==="M"){for(var vr=0,Gr=Ft,_r,Dr,pn;vr<10;){if(_r=J.tickIncrement(Gr,rr,Yt,Ye.calendar),(_r-fr)*(Gr-fr)<=0)return Yt?Math.min(Gr,_r):Math.max(Gr,_r);Dr=(fr-(Gr+_r)/2)/(_r-Gr),pn=br+(Math.abs(Math.round(Dr))||1)*yr,Gr=J.tickIncrement(Gr,pn,Dr<0?!Yt:Yt,Ye.calendar),vr++}return T.error("tickFirst did not converge",Ye),Gr}else{if(br==="L")return Math.log(tr((Math.pow(10,fr)-Ft)/yr)*yr+Ft)/Math.LN10;if(br==="D"){var nn=rr==="D2"?et:qe,Un=T.roundUp(T.mod(fr,1),nn,Yt);return Math.floor(fr)+Math.log(p.round(Math.pow(10,Un),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},J.tickText=function(Ye,je,It,Dt){var Yt=At(Ye,je),tr=Ye.tickmode==="array",fr=It||tr,rr=Ye.type,Ft=rr==="category"?Ye.d2l_noadd:Ye.d2l,hr;if(tr&&T.isArrayOrTypedArray(Ye.ticktext)){var br=T.simpleMap(Ye.range,Ye.r2l),yr=(Math.abs(br[1]-br[0])-(Ye._lBreaks||0))/1e4;for(hr=0;hr<Ye.ticktext.length&&!(Math.abs(je-Ft(Ye.tickvals[hr]))<yr);hr++);if(hr<Ye.ticktext.length)return Yt.text=String(Ye.ticktext[hr]),Yt}function vr(pn){if(pn===void 0)return!0;if(It)return pn==="none";var nn={first:Ye._tmin,last:Ye._tmax}[pn];return pn!=="all"&&je!==nn}var Gr=It?"never":Ye.exponentformat!=="none"&&vr(Ye.showexponent)?"hide":"";if(rr==="date"?Pt(Ye,Yt,It,fr):rr==="log"?Ht(Ye,Yt,It,fr,Gr):rr==="category"?Je(Ye,Yt):rr==="multicategory"?We(Ye,Yt,It):Ot(Ye)?Ne(Ye,Yt,It,fr,Gr):_e(Ye,Yt,It,fr,Gr),Dt||(Ye.tickprefix&&!vr(Ye.showtickprefix)&&(Yt.text=Ye.tickprefix+Yt.text),Ye.ticksuffix&&!vr(Ye.showticksuffix)&&(Yt.text+=Ye.ticksuffix)),Ye.labelalias&&Ye.labelalias.hasOwnProperty(Yt.text)){var _r=Ye.labelalias[Yt.text];typeof _r=="string"&&(Yt.text=_r)}if(Ye.tickson==="boundaries"||Ye.showdividers){var Dr=function(pn){var nn=Ye.l2p(pn);return nn>=0&&nn<=Ye._length?pn:null};Yt.xbnd=[Dr(Yt.x-.5),Dr(Yt.x+Ye.dtick-.5)]}return Yt},J.hoverLabelText=function(Ye,je,It){It&&(Ye=T.extendFlat({},Ye,{hoverformat:It}));var Dt=T.isArrayOrTypedArray(je)?je[0]:je,Yt=T.isArrayOrTypedArray(je)?je[1]:void 0;if(Yt!==void 0&&Yt!==Dt)return J.hoverLabelText(Ye,Dt,It)+" - "+J.hoverLabelText(Ye,Yt,It);var tr=Ye.type==="log"&&Dt<=0,fr=J.tickText(Ye,Ye.c2l(tr?-Dt:Dt),"hover").text;return tr?Dt===0?"0":x+fr:fr};function At(Ye,je,It){var Dt=Ye.tickfont||{};return{x:je,dx:0,dy:0,text:It||"",fontSize:Dt.size,font:Dt.family,fontColor:Dt.color}}function Pt(Ye,je,It,Dt){var Yt=Ye._tickround,tr=It&&Ye.hoverformat||J.getTickFormat(Ye);Dt=!tr&&Dt,Dt&&(L(Yt)?Yt=4:Yt={y:"m",m:"d",d:"M",M:"S",S:4}[Yt]);var fr=T.formatDate(je.x,tr,Yt,Ye._dateFormat,Ye.calendar,Ye._extraFormat),rr,Ft=fr.indexOf(`
`);if(Ft!==-1&&(rr=fr.substr(Ft+1),fr=fr.substr(0,Ft)),Dt&&(rr!==void 0&&(fr==="00:00:00"||fr==="00:00")?(fr=rr,rr=""):fr.length===8&&(fr=fr.replace(/:00$/,""))),rr)if(It)Yt==="d"?fr+=", "+rr:fr=rr+(fr?", "+fr:"");else if(!Ye._inCalcTicks||Ye._prevDateHead!==rr)Ye._prevDateHead=rr,fr+="<br>"+rr;else{var hr=Xt(Ye),br=Ye._trueSide||Ye.side;(!hr&&br==="top"||hr&&br==="bottom")&&(fr+="<br> ")}je.text=fr}function Ht(Ye,je,It,Dt,Yt){var tr=Ye.dtick,fr=je.x,rr=Ye.tickformat,Ft=typeof tr=="string"&&tr.charAt(0);if(Yt==="never"&&(Yt=""),Dt&&Ft!=="L"&&(tr="L3",Ft="L"),rr||Ft==="L")je.text=Se(Math.pow(10,fr),Ye,Yt,Dt);else if(L(tr)||Ft==="D"&&T.mod(fr+.01,1)<.1){var hr=Math.round(fr),br=Math.abs(hr),yr=Ye.exponentformat;yr==="power"||me(yr)&&Me(hr)?(hr===0?je.text=1:hr===1?je.text="10":je.text="10<sup>"+(hr>1?"":x)+br+"</sup>",je.fontSize*=1.25):(yr==="e"||yr==="E")&&br>2?je.text="1"+yr+(hr>0?"+":x)+br:(je.text=Se(Math.pow(10,fr),Ye,"","fakehover"),tr==="D1"&&Ye._id.charAt(0)==="y"&&(je.dy-=je.fontSize/6))}else if(Ft==="D")je.text=String(Math.round(Math.pow(10,T.mod(fr,1)))),je.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(Ye.dtick==="D1"){var vr=String(je.text).charAt(0);(vr==="0"||vr==="1")&&(Ye._id.charAt(0)==="y"?je.dx-=je.fontSize/4:(je.dy+=je.fontSize/2,je.dx+=(Ye.range[1]>Ye.range[0]?1:-1)*je.fontSize*(fr<0?.5:.25)))}}function Je(Ye,je){var It=Ye._categories[Math.round(je.x)];It===void 0&&(It=""),je.text=String(It)}function We(Ye,je,It){var Dt=Math.round(je.x),Yt=Ye._categories[Dt]||[],tr=Yt[1]===void 0?"":String(Yt[1]),fr=Yt[0]===void 0?"":String(Yt[0]);It?je.text=fr+" - "+tr:(je.text=tr,je.text2=fr)}function _e(Ye,je,It,Dt,Yt){Yt==="never"?Yt="":Ye.showexponent==="all"&&Math.abs(je.x/Ye.dtick)<1e-6&&(Yt="hide"),je.text=Se(je.x,Ye,Yt,Dt)}function Ne(Ye,je,It,Dt,Yt){if(Ye.thetaunit==="radians"&&!It){var tr=je.x/180;if(tr===0)je.text="0";else{var fr=ke(tr);if(fr[1]>=100)je.text=Se(T.deg2rad(je.x),Ye,Yt,Dt);else{var rr=je.x<0;fr[1]===1?fr[0]===1?je.text="":je.text=fr[0]+"":je.text=["<sup>",fr[0],"</sup>","","<sub>",fr[1],"</sub>",""].join(""),rr&&(je.text=x+je.text)}}}else je.text=Se(je.x,Ye,Yt,Dt)}function ke(Ye){function je(rr,Ft){return Math.abs(rr-Ft)<=1e-6}function It(rr,Ft){return je(Ft,0)?rr:It(Ft,rr%Ft)}function Dt(rr){for(var Ft=1;!je(Math.round(rr*Ft)/Ft,rr);)Ft*=10;return Ft}var Yt=Dt(Ye),tr=Ye*Yt,fr=Math.abs(It(tr,Yt));return[Math.round(tr/fr),Math.round(Yt/fr)]}var we=["f","p","n","","m","","k","M","G","T"];function me(Ye){return Ye==="SI"||Ye==="B"}function Me(Ye){return Ye>14||Ye<-15}function Se(Ye,je,It,Dt){var Yt=Ye<0,tr=je._tickround,fr=It||je.exponentformat||"B",rr=je._tickexponent,Ft=J.getTickFormat(je),hr=je.separatethousands;if(Dt){var br={exponentformat:fr,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:L(Ye)&&Math.abs(Ye)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,Ye||1]};pt(br),tr=(Number(br._tickround)||0)+4,rr=br._tickexponent,je.hoverformat&&(Ft=je.hoverformat)}if(Ft)return je._numFormat(Ft)(Ye).replace(/-/g,x);var yr=Math.pow(10,-tr)/2;if(fr==="none"&&(rr=0),Ye=Math.abs(Ye),Ye<yr)Ye="0",Yt=!1;else{if(Ye+=yr,rr&&(Ye*=Math.pow(10,-rr),tr+=rr),tr===0)Ye=String(Math.floor(Ye));else if(tr<0){Ye=String(Math.round(Ye)),Ye=Ye.substr(0,Ye.length+tr);for(var vr=tr;vr<0;vr++)Ye+="0"}else{Ye=String(Ye);var Gr=Ye.indexOf(".")+1;Gr&&(Ye=Ye.substr(0,Gr+tr).replace(/\.?0+$/,""))}Ye=T.numSeparate(Ye,je._separators,hr)}if(rr&&fr!=="hide"){me(fr)&&Me(rr)&&(fr="power");var _r;rr<0?_r=x+-rr:fr!=="power"?_r="+"+rr:_r=String(rr),fr==="e"||fr==="E"?Ye+=fr+_r:fr==="power"?Ye+="10<sup>"+_r+"</sup>":fr==="B"&&rr===9?Ye+="B":me(fr)&&(Ye+=we[rr/3+5])}return Yt?x+Ye:Ye}J.getTickFormat=function(Ye){var je;function It(Ft){return typeof Ft!="string"?Ft:Number(Ft.replace("M",""))*M}function Dt(Ft,hr){var br=["L","D"];if(typeof Ft==typeof hr){if(typeof Ft=="number")return Ft-hr;var yr=br.indexOf(Ft.charAt(0)),vr=br.indexOf(hr.charAt(0));return yr===vr?Number(Ft.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):yr-vr}else return typeof Ft=="number"?1:-1}function Yt(Ft,hr,br){var yr=br||function(_r){return _r},vr=hr[0],Gr=hr[1];return(!vr&&typeof vr!="number"||yr(vr)<=yr(Ft))&&(!Gr&&typeof Gr!="number"||yr(Gr)>=yr(Ft))}function tr(Ft,hr){var br=hr[0]===null,yr=hr[1]===null,vr=Dt(Ft,hr[0])>=0,Gr=Dt(Ft,hr[1])<=0;return(br||vr)&&(yr||Gr)}var fr,rr;if(Ye.tickformatstops&&Ye.tickformatstops.length>0)switch(Ye.type){case"date":case"linear":{for(je=0;je<Ye.tickformatstops.length;je++)if(rr=Ye.tickformatstops[je],rr.enabled&&Yt(Ye.dtick,rr.dtickrange,It)){fr=rr;break}break}case"log":{for(je=0;je<Ye.tickformatstops.length;je++)if(rr=Ye.tickformatstops[je],rr.enabled&&tr(Ye.dtick,rr.dtickrange)){fr=rr;break}break}}return fr?fr.value:Ye.tickformat},J.getSubplots=function(Ye,je){var It=Ye._fullLayout._subplots,Dt=It.cartesian.concat(It.gl2d||[]),Yt=je?J.findSubplotsWithAxis(Dt,je):Dt;return Yt.sort(function(tr,fr){var rr=tr.substr(1).split("y"),Ft=fr.substr(1).split("y");return rr[0]===Ft[0]?+rr[1]-+Ft[1]:+rr[0]-+Ft[0]}),Yt},J.findSubplotsWithAxis=function(Ye,je){for(var It=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),Dt=[],Yt=0;Yt<Ye.length;Yt++){var tr=Ye[Yt];It.test(tr)&&Dt.push(tr)}return Dt},J.makeClipPaths=function(Ye){var je=Ye._fullLayout;if(!je._hasOnlyLargeSploms){var It={_offset:0,_length:je.width,_id:""},Dt={_offset:0,_length:je.height,_id:""},Yt=J.list(Ye,"x",!0),tr=J.list(Ye,"y",!0),fr=[],rr,Ft;for(rr=0;rr<Yt.length;rr++)for(fr.push({x:Yt[rr],y:Dt}),Ft=0;Ft<tr.length;Ft++)rr===0&&fr.push({x:It,y:tr[Ft]}),fr.push({x:Yt[rr],y:tr[Ft]});var hr=je._clips.selectAll(".axesclip").data(fr,function(br){return br.x._id+br.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(br){return"clip"+je._uid+br.x._id+br.y._id}).append("rect"),hr.exit().remove(),hr.each(function(br){p.select(this).select("rect").attr({x:br.x._offset||0,y:br.y._offset||0,width:br.x._length||1,height:br.y._length||1})})}},J.draw=function(Ye,je,It){var Dt=Ye._fullLayout;je==="redraw"&&Dt._paper.selectAll("g.subplot").each(function(Ft){var hr=Ft[0],br=Dt._plots[hr];if(br){var yr=br.xaxis,vr=br.yaxis;br.xaxislayer.selectAll("."+yr._id+"tick").remove(),br.yaxislayer.selectAll("."+vr._id+"tick").remove(),br.xaxislayer.selectAll("."+yr._id+"tick2").remove(),br.yaxislayer.selectAll("."+vr._id+"tick2").remove(),br.xaxislayer.selectAll("."+yr._id+"divider").remove(),br.yaxislayer.selectAll("."+vr._id+"divider").remove(),br.minorGridlayer&&br.minorGridlayer.selectAll("path").remove(),br.gridlayer&&br.gridlayer.selectAll("path").remove(),br.zerolinelayer&&br.zerolinelayer.selectAll("path").remove(),Dt._infolayer.select(".g-"+yr._id+"title").remove(),Dt._infolayer.select(".g-"+vr._id+"title").remove()}});var Yt=!je||je==="redraw"?J.listIds(Ye):je,tr=J.list(Ye),fr=tr.filter(function(Ft){return Ft.autoshift}).map(function(Ft){return Ft.overlaying});Yt.map(function(Ft){var hr=J.getFromId(Ye,Ft);if(hr.tickmode==="sync"&&hr.overlaying){var br=Yt.findIndex(function(yr){return yr===hr.overlaying});br>=0&&Yt.unshift(Yt.splice(br,1).shift())}});var rr={false:{left:0,right:0}};return T.syncOrAsync(Yt.map(function(Ft){return function(){if(Ft){var hr=J.getFromId(Ye,Ft);It||(It={}),It.axShifts=rr,It.overlayingShiftedAx=fr;var br=J.drawOne(Ye,hr,It);return hr._shiftPusher&&cr(hr,hr._fullDepth||0,rr,!0),hr._r=hr.range.slice(),hr._rl=T.simpleMap(hr._r,hr.r2l),br}}}))},J.drawOne=function(Ye,je,It){It=It||{};var Dt=It.axShifts||{},Yt=It.overlayingShiftedAx||[],tr,fr,rr;je.setScale();var Ft=Ye._fullLayout,hr=je._id,br=hr.charAt(0),yr=J.counterLetter(hr),vr=Ft._plots[je._mainSubplot];if(!vr)return;if(je._shiftPusher=je.autoshift||Yt.indexOf(je._id)!==-1||Yt.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var Gr=je.linewidth/2||0;je.ticks==="inside"&&(Gr+=je.ticklen),cr(je,Gr,Dt,!0),cr(je,je.shift||0,Dt,!1)}(It.skipTitle!==!0||je._shift===void 0)&&(je._shift=dr(je,Dt));var _r=vr[br+"axislayer"],Dr=je._mainLinePosition,pn=Dr+=je._shift,nn=je._mainMirrorPosition,Un=je._vals=J.calcTicks(je),Tn=[je.mirror,pn,nn].join("_");for(tr=0;tr<Un.length;tr++)Un[tr].axInfo=Tn;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var Cr={};function Lr(Yr){var en=hr+(Yr||"tick");return Cr[en]||(Cr[en]=gt(je,en)),Cr[en]}if(je.visible){var Zr=J.makeTransTickFn(je),Wr=J.makeTransTickLabelFn(je),sn,yn,bn=je.ticks==="inside",Pn=je.ticks==="outside";if(je.tickson==="boundaries"){var Bn=Ze(je,Un);yn=J.clipEnds(je,Bn),sn=bn?yn:Bn}else yn=J.clipEnds(je,Un),sn=bn&&je.ticklabelmode!=="period"?yn:Un;var sa=je._gridVals=yn,Kn=ct(je,Un);if(!Ft._hasOnlyLargeSploms){var ra=je._subplotsWith,$n={};for(tr=0;tr<ra.length;tr++){fr=ra[tr],rr=Ft._plots[fr];var ta=rr[yr+"axis"],Mr=ta._mainAxis._id;if(!$n[Mr]){$n[Mr]=1;var un=br==="x"?"M0,"+ta._offset+"v"+ta._length:"M"+ta._offset+",0h"+ta._length;J.drawGrid(Ye,je,{vals:sa,counterAxis:ta,layer:rr.gridlayer.select("."+hr),minorLayer:rr.minorGridlayer.select("."+hr),path:un,transFn:Zr}),J.drawZeroLine(Ye,je,{counterAxis:ta,layer:rr.zerolinelayer,path:un,transFn:Zr})}}}var on,mn=J.getTickSigns(je),Yn=J.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var $t=J.makeTickPath(je,pn,mn[2]),xr=J.makeTickPath(je,pn,Yn[2],{minor:!0}),Nr,En,Qn,Ca;if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(Nr=J.makeTickPath(je,nn,mn[3]),En=J.makeTickPath(je,nn,Yn[3],{minor:!0}),Qn=$t+Nr,Ca=xr+En):(Nr="",En="",Qn=$t,Ca=xr),je.showdividers&&Pn&&je.tickson==="boundaries"){var wr={};for(tr=0;tr<Kn.length;tr++)wr[Kn[tr].x]=1;on=function(Yr){return wr[Yr.x]?Nr:Qn}}else on=function(Yr){return Yr.minor?Ca:Qn}}if(J.drawTicks(Ye,je,{vals:sn,layer:_r,path:on,transFn:Zr}),je.mirror==="allticks"){var zr=Object.keys(je._linepositions||{});for(tr=0;tr<zr.length;tr++){fr=zr[tr],rr=Ft._plots[fr];var gr=je._linepositions[fr]||[],Br=gr[0],xn=gr[1],kn=gr[2],wn=J.makeTickPath(je,Br,kn?mn[0]:Yn[0],{minor:kn})+J.makeTickPath(je,xn,kn?mn[1]:Yn[1],{minor:kn});J.drawTicks(Ye,je,{vals:sn,layer:rr[br+"axislayer"],path:wn,transFn:Zr})}}var hn=[];if(hn.push(function(){return J.drawLabels(Ye,je,{vals:Un,layer:_r,plotinfo:rr,transFn:Wr,labelFns:J.makeLabelFns(je,pn)})}),je.type==="multicategory"){var Pr={x:2,y:10}[br];hn.push(function(){var Yr={x:"height",y:"width"}[br],en=Lr()[Yr]+Pr+(je._tickAngles[hr+"tick"]?je.tickfont.size*ne:0);return J.drawLabels(Ye,je,{vals:tt(je,Un),layer:_r,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Zr,labelFns:J.makeLabelFns(je,pn+en*mn[4])})}),hn.push(function(){return je._depth=mn[4]*(Lr("tick2")[je.side]-pn),zt(Ye,je,{vals:Kn,layer:_r,path:J.makeTickPath(je,pn,mn[4],{len:je._depth}),transFn:Zr})})}else je.title.hasOwnProperty("standoff")&&hn.push(function(){je._depth=mn[4]*(Lr()[je.side]-pn)});var Jr=C.getComponentMethod("rangeslider","isVisible")(je);return!It.skipTitle&&!(Jr&&je.side==="bottom")&&hn.push(function(){return Sr(Ye,je)}),hn.push(function(){var Yr=je.side.charAt(0),en=oe[je.side].charAt(0),Cn=J.getPxPosition(Ye,je),On=Pn?je.ticklen:0,zn,Wn,Vn,xa;(je.automargin||Jr||je._shiftPusher)&&(je.type==="multicategory"?zn=Lr("tick2"):(zn=Lr(),br==="x"&&Yr==="b"&&(je._depth=Math.max(zn.width>0?zn.bottom-Cn:0,On))));var ca=0,ma=0;if(je._shiftPusher&&(ca=Math.max(On,zn.height>0?Yr==="l"?Cn-zn.left:zn.right-Cn:0),je.title.text!==Ft._dfltTitle[br]&&(ma=(je._titleStandoff||0)+(je._titleScoot||0),Yr==="l"&&(ma+=qt(je))),je._fullDepth=Math.max(ca,ma)),je.automargin){Wn={x:0,y:0,r:0,l:0,t:0,b:0};var ka=[0,1],mi=typeof je._shift=="number"?je._shift:0;if(br==="x"){if(Yr==="b"?Wn[Yr]=je._depth:(Wn[Yr]=je._depth=Math.max(zn.width>0?Cn-zn.top:0,On),ka.reverse()),zn.width>0){var oi=zn.right-(je._offset+je._length);oi>0&&(Wn.xr=1,Wn.r=oi);var qo=je._offset-zn.left;qo>0&&(Wn.xl=0,Wn.l=qo)}}else if(Yr==="l"?(je._depth=Math.max(zn.height>0?Cn-zn.left:0,On),Wn[Yr]=je._depth-mi):(je._depth=Math.max(zn.height>0?zn.right-Cn:0,On),Wn[Yr]=je._depth+mi,ka.reverse()),zn.height>0){var Wo=zn.bottom-(je._offset+je._length);Wo>0&&(Wn.yb=0,Wn.b=Wo);var po=je._offset-zn.top;po>0&&(Wn.yt=1,Wn.t=po)}Wn[yr]=je.anchor==="free"?je.position:je._anchorAxis.domain[ka[0]],je.title.text!==Ft._dfltTitle[br]&&(Wn[Yr]+=qt(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&(Vn={x:0,y:0,r:0,l:0,t:0,b:0},Vn[en]=je.linewidth,je.mirror&&je.mirror!==!0&&(Vn[en]+=On),je.mirror===!0||je.mirror==="ticks"?Vn[yr]=je._anchorAxis.domain[ka[1]]:(je.mirror==="all"||je.mirror==="allticks")&&(Vn[yr]=[je._counterDomainMin,je._counterDomainMax][ka[1]]))}Jr&&(xa=C.getComponentMethod("rangeslider","autoMarginOpts")(Ye,je)),typeof je.automargin=="string"&&(Ve(Wn,je.automargin),Ve(Vn,je.automargin)),n.autoMargin(Ye,sr(je),Wn),n.autoMargin(Ye,vt(je),Vn),n.autoMargin(Ye,it(je),xa)}),T.syncOrAsync(hn)}};function Ve(Ye,je){if(Ye){var It=Object.keys(O).reduce(function(Dt,Yt){return je.indexOf(Yt)!==-1&&O[Yt].forEach(function(tr){Dt[tr]=1}),Dt},{});Object.keys(Ye).forEach(function(Dt){It[Dt]||(Dt.length===1?Ye[Dt]=0:delete Ye[Dt])})}}function Ze(Ye,je){var It=[],Dt,Yt=function(tr,fr){var rr=tr.xbnd[fr];rr!==null&&It.push(T.extendFlat({},tr,{x:rr}))};if(je.length){for(Dt=0;Dt<je.length;Dt++)Yt(je[Dt],0);Yt(je[Dt-1],1)}return It}function tt(Ye,je){for(var It=[],Dt={},Yt=0;Yt<je.length;Yt++){var tr=je[Yt];Dt[tr.text2]?Dt[tr.text2].push(tr.x):Dt[tr.text2]=[tr.x]}for(var fr in Dt)It.push(At(Ye,T.interp(Dt[fr],.5),fr));return It}function ct(Ye,je){var It=[],Dt,Yt,tr=je.length&&je[je.length-1].x<je[0].x,fr=function(Ft,hr){var br=Ft.xbnd[hr];br!==null&&It.push(T.extendFlat({},Ft,{x:br}))};if(Ye.showdividers&&je.length){for(Dt=0;Dt<je.length;Dt++){var rr=je[Dt];rr.text2!==Yt&&fr(rr,tr?1:0),Yt=rr.text2}fr(je[Dt-1],tr?0:1)}return It}function gt(Ye,je){var It,Dt,Yt,tr;return Ye._selections[je].size()?(It=1/0,Dt=-1/0,Yt=1/0,tr=-1/0,Ye._selections[je].each(function(){var fr=mr(this),rr=i.bBox(fr.node().parentNode);It=Math.min(It,rr.top),Dt=Math.max(Dt,rr.bottom),Yt=Math.min(Yt,rr.left),tr=Math.max(tr,rr.right)})):(It=0,Dt=0,Yt=0,tr=0),{top:It,bottom:Dt,left:Yt,right:tr,height:Dt-It,width:tr-Yt}}J.getTickSigns=function(Ye,je){var It=Ye._id.charAt(0),Dt={x:"top",y:"right"}[It],Yt=Ye.side===Dt?1:-1,tr=[-1,1,Yt,-Yt],fr=je?(Ye.minor||{}).ticks:Ye.ticks;return fr!=="inside"==(It==="x")&&(tr=tr.map(function(rr){return-rr})),Ye.side&&tr.push({l:-1,t:-1,r:1,b:1}[Ye.side.charAt(0)]),tr},J.makeTransTickFn=function(Ye){return Ye._id.charAt(0)==="x"?function(je){return d(Ye._offset+Ye.l2p(je.x),0)}:function(je){return d(0,Ye._offset+Ye.l2p(je.x))}},J.makeTransTickLabelFn=function(Ye){var je=Kt(Ye),It=je[0],Dt=je[1];return Ye._id.charAt(0)==="x"?function(Yt){return d(It+Ye._offset+Ye.l2p(jt(Yt)),Dt)}:function(Yt){return d(Dt,It+Ye._offset+Ye.l2p(jt(Yt)))}};function jt(Ye){return Ye.periodX!==void 0?Ye.periodX:Ye.x}function Kt(Ye){var je=Ye.ticklabelposition||"",It=function(Gr){return je.indexOf(Gr)!==-1},Dt=It("top"),Yt=It("left"),tr=It("right"),fr=It("bottom"),rr=It("inside"),Ft=fr||Yt||Dt||tr;if(!Ft&&!rr)return[0,0];var hr=Ye.side,br=Ft?(Ye.tickwidth||0)/2:0,yr=he,vr=Ye.tickfont?Ye.tickfont.size:12;return(fr||Dt)&&(br+=vr*q,yr+=(Ye.linewidth||0)/2),(Yt||tr)&&(br+=(Ye.linewidth||0)/2,yr+=he),rr&&hr==="top"&&(yr-=vr*(1-q)),(Yt||Dt)&&(br=-br),(hr==="bottom"||hr==="right")&&(yr=-yr),[Ft?br:0,rr?yr:0]}J.makeTickPath=function(Ye,je,It,Dt){Dt||(Dt={});var Yt=Dt.minor;if(Yt&&!Ye.minor)return"";var tr=Dt.len!==void 0?Dt.len:Yt?Ye.minor.ticklen:Ye.ticklen,fr=Ye._id.charAt(0),rr=(Ye.linewidth||1)/2;return fr==="x"?"M0,"+(je+rr*It)+"v"+tr*It:"M"+(je+rr*It)+",0h"+tr*It},J.makeLabelFns=function(Ye,je,It){var Dt=Ye.ticklabelposition||"",Yt=function(Bn){return Dt.indexOf(Bn)!==-1},tr=Yt("top"),fr=Yt("left"),rr=Yt("right"),Ft=Yt("bottom"),hr=Ft||fr||tr||rr,br=Yt("inside"),yr=Dt==="inside"&&Ye.ticks==="inside"||!br&&Ye.ticks==="outside"&&Ye.tickson!=="boundaries",vr=0,Gr=0,_r=yr?Ye.ticklen:0;if(br?_r*=-1:hr&&(_r=0),yr&&(vr+=_r,It)){var Dr=T.deg2rad(It);vr=_r*Math.cos(Dr)+1,Gr=_r*Math.sin(Dr)}Ye.showticklabels&&(yr||Ye.showline)&&(vr+=.2*Ye.tickfont.size),vr+=(Ye.linewidth||1)/2*(br?-1:1);var pn={labelStandoff:vr,labelShift:Gr},nn,Un,Tn,Cr,Lr=0,Zr=Ye.side,Wr=Ye._id.charAt(0),sn=Ye.tickangle,yn;if(Wr==="x")yn=!br&&Zr==="bottom"||br&&Zr==="top",Cr=yn?1:-1,br&&(Cr*=-1),nn=Gr*Cr,Un=je+vr*Cr,Tn=yn?1:-.2,Math.abs(sn)===90&&(br?Tn+=Y:sn===-90&&Zr==="bottom"?Tn=q:sn===90&&Zr==="top"?Tn=Y:Tn=.5,Lr=Y/2*(sn/90)),pn.xFn=function(Bn){return Bn.dx+nn+Lr*Bn.fontSize},pn.yFn=function(Bn){return Bn.dy+Un+Bn.fontSize*Tn},pn.anchorFn=function(Bn,sa){if(hr){if(fr)return"end";if(rr)return"start"}return!L(sa)||sa===0||sa===180?"middle":sa*Cr<0!==br?"end":"start"},pn.heightFn=function(Bn,sa,Kn){return sa<-60||sa>60?-.5*Kn:Ye.side==="top"!==br?-Kn:0};else if(Wr==="y"){if(yn=!br&&Zr==="left"||br&&Zr==="right",Cr=yn?1:-1,br&&(Cr*=-1),nn=vr,Un=Gr*Cr,Tn=0,!br&&Math.abs(sn)===90&&(sn===-90&&Zr==="left"||sn===90&&Zr==="right"?Tn=q:Tn=.5),br){var bn=L(sn)?+sn:0;if(bn!==0){var Pn=T.deg2rad(bn);Lr=Math.abs(Math.sin(Pn))*q*Cr,Tn=0}}pn.xFn=function(Bn){return Bn.dx+je-(nn+Bn.fontSize*Tn)*Cr+Lr*Bn.fontSize},pn.yFn=function(Bn){return Bn.dy+Un+Bn.fontSize*Y},pn.anchorFn=function(Bn,sa){return L(sa)&&Math.abs(sa)===90?"middle":yn?"end":"start"},pn.heightFn=function(Bn,sa,Kn){return Ye.side==="right"&&(sa*=-1),sa<-30?-Kn:sa<30?-.5*Kn:0}}return pn};function Tt(Ye){return[Ye.text,Ye.x,Ye.axInfo,Ye.font,Ye.fontSize,Ye.fontColor].join("_")}J.drawTicks=function(Ye,je,It){It=It||{};var Dt=je._id+"tick",Yt=[].concat(je.minor&&je.minor.ticks?It.vals.filter(function(fr){return fr.minor&&!fr.noTick}):[]).concat(je.ticks?It.vals.filter(function(fr){return!fr.minor&&!fr.noTick}):[]),tr=It.layer.selectAll("path."+Dt).data(Yt,Tt);tr.exit().remove(),tr.enter().append("path").classed(Dt,1).classed("ticks",1).classed("crisp",It.crisp!==!1).each(function(fr){return t.stroke(p.select(this),fr.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(fr){return i.crispRound(Ye,fr.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",It.path).style("display",null),ur(je,[N]),tr.attr("transform",It.transFn)},J.drawGrid=function(Ye,je,It){if(It=It||{},je.tickmode!=="sync"){var Dt=je._id+"grid",Yt=je.minor&&je.minor.showgrid,tr=Yt?It.vals.filter(function(nn){return nn.minor}):[],fr=je.showgrid?It.vals.filter(function(nn){return!nn.minor}):[],rr=It.counterAxis;if(rr&&J.shouldShowZeroLine(Ye,je,rr))for(var Ft=je.tickmode==="array",hr=0;hr<fr.length;hr++){var br=fr[hr].x;if(Ft?!br:Math.abs(br)<je.dtick/100)if(fr=fr.slice(0,hr).concat(fr.slice(hr+1)),Ft)hr--;else break}je._gw=i.crispRound(Ye,je.gridwidth,1);for(var yr=Yt?i.crispRound(Ye,je.minor.gridwidth,1):0,vr=It.layer,Gr=It.minorLayer,_r=1;_r>=0;_r--){var Dr=_r?vr:Gr;if(Dr){var pn=Dr.selectAll("path."+Dt).data(_r?fr:tr,Tt);pn.exit().remove(),pn.enter().append("path").classed(Dt,1).classed("crisp",It.crisp!==!1),pn.attr("transform",It.transFn).attr("d",It.path).each(function(nn){return t.stroke(p.select(this),nn.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(nn){return i.dashStyle(nn.minor?je.minor.griddash:je.griddash,nn.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(nn){return(nn.minor?yr:je._gw)+"px"}).style("display",null),typeof It.path=="function"&&pn.attr("d",It.path)}}ur(je,[G,F])}},J.drawZeroLine=function(Ye,je,It){It=It||It;var Dt=je._id+"zl",Yt=J.shouldShowZeroLine(Ye,je,It.counterAxis),tr=It.layer.selectAll("path."+Dt).data(Yt?[{x:0,id:je._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(Dt,1).classed("zl",1).classed("crisp",It.crisp!==!1).each(function(){It.layer.selectAll("path").sort(function(fr,rr){return $(fr.id,rr.id)})}),tr.attr("transform",It.transFn).attr("d",It.path).call(t.stroke,je.zerolinecolor||t.defaultLine).style("stroke-width",i.crispRound(Ye,je.zerolinewidth,je._gw||1)+"px").style("display",null),ur(je,[_])},J.drawLabels=function(Ye,je,It){It=It||{};var Dt=Ye._fullLayout,Yt=je._id,tr=Yt.charAt(0),fr=It.cls||Yt+"tick",rr=It.vals.filter(function(Kn){return Kn.text}),Ft=It.labelFns,hr=It.secondary?0:je.tickangle,br=(je._prevTickAngles||{})[fr],yr=It.layer.selectAll("g."+fr).data(je.showticklabels?rr:[],Tt),vr=[];yr.enter().append("g").classed(fr,1).append("text").attr("text-anchor","middle").each(function(Kn){var ra=p.select(this),$n=Ye._promises.length;ra.call(y.positionText,Ft.xFn(Kn),Ft.yFn(Kn)).call(i.font,Kn.font,Kn.fontSize,Kn.fontColor).text(Kn.text).call(y.convertToTspans,Ye),Ye._promises[$n]?vr.push(Ye._promises.pop().then(function(){Gr(ra,hr)})):Gr(ra,hr)}),ur(je,[U]),yr.exit().remove(),It.repositionOnUpdate&&yr.each(function(Kn){p.select(this).select("text").call(y.positionText,Ft.xFn(Kn),Ft.yFn(Kn))});function Gr(Kn,ra){Kn.each(function($n){var ta=p.select(this),Mr=ta.select(".text-math-group"),un=Ft.anchorFn($n,ra),on=It.transFn.call(ta.node(),$n)+(L(ra)&&+ra!=0?" rotate("+ra+","+Ft.xFn($n)+","+(Ft.yFn($n)-$n.fontSize/2)+")":""),mn=y.lineCount(ta),Yn=ne*$n.fontSize,$t=Ft.heightFn($n,L(ra)?+ra:0,(mn-1)*Yn);if($t&&(on+=d(0,$t)),Mr.empty()){var xr=ta.select("text");xr.attr({transform:on,"text-anchor":un}),xr.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var Nr=i.bBox(Mr.node()).width,En=Nr*{end:-.5,start:.5}[un];Mr.attr("transform",on+d(En,0))}})}je._adjustTickLabelsOverflow=function(){var Kn=je.ticklabeloverflow;if(!(!Kn||Kn==="allow")){var ra=Kn.indexOf("hide")!==-1,$n=je._id.charAt(0)==="x",ta=0,Mr=$n?Ye._fullLayout.width:Ye._fullLayout.height;if(Kn.indexOf("domain")!==-1){var un=T.simpleMap(je.range,je.r2l);ta=je.l2p(un[0])+je._offset,Mr=je.l2p(un[1])+je._offset}var on=Math.min(ta,Mr),mn=Math.max(ta,Mr),Yn=je.side,$t=1/0,xr=-1/0;yr.each(function(Ca){var wr=p.select(this),zr=wr.select(".text-math-group");if(zr.empty()){var gr=i.bBox(wr.node()),Br=0;$n?(gr.right>mn||gr.left<on)&&(Br=1):(gr.bottom>mn||gr.top+(je.tickangle?0:Ca.fontSize/4)<on)&&(Br=1);var xn=wr.select("text");Br?ra&&xn.style("opacity",0):(xn.style("opacity",1),Yn==="bottom"||Yn==="right"?$t=Math.min($t,$n?gr.top:gr.left):$t=-1/0,Yn==="top"||Yn==="left"?xr=Math.max(xr,$n?gr.bottom:gr.right):xr=1/0)}});for(var Nr in Dt._plots){var En=Dt._plots[Nr];if(!(je._id!==En.xaxis._id&&je._id!==En.yaxis._id)){var Qn=$n?En.yaxis:En.xaxis;Qn&&(Qn["_visibleLabelMin_"+je._id]=$t,Qn["_visibleLabelMax_"+je._id]=xr)}}}},je._hideCounterAxisInsideTickLabels=function(Kn){var ra=je._id.charAt(0)==="x",$n=[];for(var ta in Dt._plots){var Mr=Dt._plots[ta];je._id!==Mr.xaxis._id&&je._id!==Mr.yaxis._id||$n.push(ra?Mr.yaxis:Mr.xaxis)}$n.forEach(function(un,on){un&&Xt(un)&&(Kn||[_,F,G,N,U]).forEach(function(mn){var Yn=mn.K==="tick"&&mn.L==="text"&&je.ticklabelmode==="period",$t=Dt._plots[je._mainSubplot],xr;mn.K===_.K?xr=$t.zerolinelayer.selectAll("."+je._id+"zl"):mn.K===F.K?xr=$t.minorGridlayer.selectAll("."+je._id):mn.K===G.K?xr=$t.gridlayer.selectAll("."+je._id):xr=$t[je._id.charAt(0)+"axislayer"],xr.each(function(){var Nr=p.select(this);mn.L&&(Nr=Nr.selectAll(mn.L)),Nr.each(function(En){var Qn=je.l2p(Yn?jt(En):En.x)+je._offset,Ca=p.select(this);Qn<je["_visibleLabelMax_"+un._id]&&Qn>je["_visibleLabelMin_"+un._id]?Ca.style("display","none"):mn.K==="tick"&&!on&&Ca.style("display",null)})})})})},Gr(yr,br+1?br:hr);function _r(){return vr.length&&Promise.all(vr)}var Dr=null;function pn(){if(Gr(yr,hr),rr.length&&tr==="x"&&!L(hr)&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){Dr=0;var Kn=0,ra=[],$n;if(yr.each(function(gr){Kn=Math.max(Kn,gr.fontSize);var Br=je.l2p(gr.x),xn=mr(this),kn=i.bBox(xn.node());ra.push({top:0,bottom:10,height:10,left:Br-kn.width/2,right:Br+kn.width/2+2,width:kn.width+2})}),(je.tickson==="boundaries"||je.showdividers)&&!It.secondary){var ta=2;for(je.ticks&&(ta+=je.tickwidth/2),$n=0;$n<ra.length;$n++){var Mr=rr[$n].xbnd,un=ra[$n];if(Mr[0]!==null&&un.left-je.l2p(Mr[0])<ta||Mr[1]!==null&&je.l2p(Mr[1])-un.right<ta){Dr=90;break}}}else{var on=rr.length,mn=Math.abs((rr[on-1].x-rr[0].x)*je._m)/(on-1),Yn=je.ticklabelposition||"",$t=function(gr){return Yn.indexOf(gr)!==-1},xr=$t("top"),Nr=$t("left"),En=$t("right"),Qn=$t("bottom"),Ca=Qn||Nr||xr||En,wr=Ca?(je.tickwidth||0)+2*he:0,zr=mn<Kn*2.5||je.type==="multicategory"||je._name==="realaxis";for($n=0;$n<ra.length-1;$n++)if(T.bBoxIntersect(ra[$n],ra[$n+1],wr)){Dr=zr?90:30;break}}Dr&&Gr(yr,Dr)}}je._selections&&(je._selections[fr]=yr);var nn=[_r];je.automargin&&Dt._redrawFromAutoMarginCount&&br===90?(Dr=90,nn.push(function(){Gr(yr,br)})):nn.push(pn),je._tickAngles&&nn.push(function(){je._tickAngles[fr]=Dr===null?L(hr)?hr:0:Dr});var Un=function(){var Kn=0,ra=0;return yr.each(function($n,ta){var Mr=mr(this),un=Mr.select(".text-math-group");if(un.empty()){var on;je._vals[ta]&&(on=je._vals[ta].bb||i.bBox(Mr.node()),je._vals[ta].bb=on),Kn=Math.max(Kn,on.width),ra=Math.max(ra,on.height)}}),{labelsMaxW:Kn,labelsMaxH:ra}},Tn=je._anchorAxis;if(Tn&&(Tn.autorange||Tn.insiderange)&&Xt(je)&&!ee(Dt,je._id)&&(Dt._insideTickLabelsUpdaterange||(Dt._insideTickLabelsUpdaterange={}),Tn.autorange&&(Dt._insideTickLabelsUpdaterange[Tn._name+".autorange"]=Tn.autorange,nn.push(Un)),Tn.insiderange)){var Cr=Un(),Lr=je._id.charAt(0)==="y"?Cr.labelsMaxW:Cr.labelsMaxH;Lr+=2*he,je.ticklabelposition==="inside"&&(Lr+=je.ticklen||0);var Zr=je.side==="right"||je.side==="top"?1:-1,Wr=Zr===1?1:0,sn=Zr===1?0:1,yn=[];yn[sn]=Tn.range[sn];var bn=Tn.d2p(Tn.range[Wr]),Pn=Tn.d2p(Tn.range[sn]),Bn=Math.abs(Pn-bn);Bn-Lr>0?(Bn-=Lr,Lr*=1+Lr/Bn):Lr=0,je._id.charAt(0)!=="y"&&(Lr=-Lr),yn[Wr]=Tn.p2d(Tn.d2p(Tn.range[Wr])+Zr*Lr),Tn.autorange==="min"||Tn.autorange==="max reversed"?(yn[0]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0):(Tn.autorange==="max"||Tn.autorange==="min reversed")&&(yn[1]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0),Dt._insideTickLabelsUpdaterange[Tn._name+".range"]=yn}var sa=T.syncOrAsync(nn);return sa&&sa.then&&Ye._promises.push(sa),sa};function zt(Ye,je,It){var Dt=je._id+"divider",Yt=It.vals,tr=It.layer.selectAll("path."+Dt).data(Yt,Tt);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(Dt,1).classed("crisp",1).call(t.stroke,je.dividercolor).style("stroke-width",i.crispRound(Ye,je.dividerwidth,1)+"px"),tr.attr("transform",It.transFn).attr("d",It.path)}J.getPxPosition=function(Ye,je){var It=Ye._fullLayout._size,Dt=je._id.charAt(0),Yt=je.side,tr;if(je.anchor!=="free"?tr=je._anchorAxis:Dt==="x"?tr={_offset:It.t+(1-(je.position||0))*It.h,_length:0}:Dt==="y"&&(tr={_offset:It.l+(je.position||0)*It.w+je._shift,_length:0}),Yt==="top"||Yt==="left")return tr._offset;if(Yt==="bottom"||Yt==="right")return tr._offset+tr._length};function qt(Ye){var je=Ye.title.font.size,It=(Ye.title.text.match(y.BR_TAG_ALL)||[]).length;return Ye.title.hasOwnProperty("standoff")?It?je*(q+It*ne):je*q:It?je*(It+1)*ne:je}function Sr(Ye,je){var It=Ye._fullLayout,Dt=je._id,Yt=Dt.charAt(0),tr=je.title.font.size,fr;if(je.title.hasOwnProperty("standoff"))fr=je._depth+je.title.standoff+qt(je);else{var rr=Xt(je);if(je.type==="multicategory")fr=je._depth;else{var Ft=1.5*tr;rr&&(Ft=.5*tr,je.ticks==="outside"&&(Ft+=je.ticklen)),fr=10+Ft+(je.linewidth?je.linewidth-1:0)}rr||(Yt==="x"?fr+=je.side==="top"?tr*(je.showticklabels?1:0):tr*(je.showticklabels?1.5:.5):fr+=je.side==="right"?tr*(je.showticklabels?1:.5):tr*(je.showticklabels?.5:0))}var hr=J.getPxPosition(Ye,je),br,yr,vr;Yt==="x"?(yr=je._offset+je._length/2,vr=je.side==="top"?hr-fr:hr+fr):(vr=je._offset+je._length/2,yr=je.side==="right"?hr+fr:hr-fr,br={rotate:"-90",offset:0});var Gr;if(je.type!=="multicategory"){var _r=je._selections[je._id+"tick"];if(Gr={selection:_r,side:je.side},_r&&_r.node()&&_r.node().parentNode){var Dr=i.getTranslate(_r.node().parentNode);Gr.offsetLeft=Dr.x,Gr.offsetTop=Dr.y}je.title.hasOwnProperty("standoff")&&(Gr.pad=0)}return je._titleStandoff=fr,r.draw(Ye,Dt+"title",{propContainer:je,propName:je._name+".title.text",placeholder:It._dfltTitle[Yt],avoid:Gr,transform:br,attributes:{x:yr,y:vr,"text-anchor":"middle"}})}J.shouldShowZeroLine=function(Ye,je,It){var Dt=T.simpleMap(je.range,je.r2l);return Dt[0]*Dt[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===z)&&(yt(je,0)||!Zt(Ye,je,It,Dt)||Jt(Ye,je))},J.clipEnds=function(Ye,je){return je.filter(function(It){return yt(Ye,It.x)})};function yt(Ye,je){var It=Ye.l2p(je);return It>1&&It<Ye._length-1}function Zt(Ye,je,It,Dt){var Yt=It._mainAxis;if(!Yt)return;var tr=Ye._fullLayout,fr=je._id.charAt(0),rr=J.counterLetter(je._id),Ft=je._offset+(Math.abs(Dt[0])<Math.abs(Dt[1])==(fr==="x")?0:je._length);function hr(_r){if(!_r.showline||!_r.linewidth)return!1;var Dr=Math.max((_r.linewidth+je.zerolinewidth)/2,1);function pn(Tn){return typeof Tn=="number"&&Math.abs(Tn-Ft)<Dr}if(pn(_r._mainLinePosition)||pn(_r._mainMirrorPosition))return!0;var nn=_r._linepositions||{};for(var Un in nn)if(pn(nn[Un][0])||pn(nn[Un][1]))return!0}var br=tr._plots[It._mainSubplot];if(!(br.mainplotinfo||br).overlays.length)return hr(It);for(var yr=J.list(Ye,rr),vr=0;vr<yr.length;vr++){var Gr=yr[vr];if(Gr._mainAxis===Yt&&hr(Gr))return!0}}function Jt(Ye,je){for(var It=Ye._fullData,Dt=je._mainSubplot,Yt=je._id.charAt(0),tr=0;tr<It.length;tr++){var fr=It[tr];if(fr.visible===!0&&fr.xaxis+fr.yaxis===Dt&&(C.traceIs(fr,"bar-like")&&fr.orientation==={x:"h",y:"v"}[Yt]||fr.fill&&fr.fill.charAt(fr.fill.length-1)===Yt))return!0}return!1}function mr(Ye){var je=p.select(Ye),It=je.select(".text-math-group");return It.empty()?je.select("text"):It}J.allowAutoMargin=function(Ye){for(var je=J.list(Ye,"",!0),It=0;It<je.length;It++){var Dt=je[It];Dt.automargin&&(n.allowAutoMargin(Ye,sr(Dt)),Dt.mirror&&n.allowAutoMargin(Ye,vt(Dt))),C.getComponentMethod("rangeslider","isVisible")(Dt)&&n.allowAutoMargin(Ye,it(Dt))}};function sr(Ye){return Ye._id+".automargin"}function vt(Ye){return sr(Ye)+".mirror"}function it(Ye){return Ye._id+".rangeslider"}J.swap=function(Ye,je){for(var It=xt(Ye,je),Dt=0;Dt<It.length;Dt++)Rt(Ye,It[Dt].x,It[Dt].y)};function xt(Ye,je){var It=[],Dt,Yt;for(Dt=0;Dt<je.length;Dt++){var tr=[],fr=Ye._fullData[je[Dt]].xaxis,rr=Ye._fullData[je[Dt]].yaxis;if(!(!fr||!rr)){for(Yt=0;Yt<It.length;Yt++)(It[Yt].x.indexOf(fr)!==-1||It[Yt].y.indexOf(rr)!==-1)&&tr.push(Yt);if(!tr.length){It.push({x:[fr],y:[rr]});continue}var Ft=It[tr[0]],hr;if(tr.length>1)for(Yt=1;Yt<tr.length;Yt++)hr=It[tr[Yt]],St(Ft.x,hr.x),St(Ft.y,hr.y);St(Ft.x,[fr]),St(Ft.y,[rr])}}return It}function St(Ye,je){for(var It=0;It<je.length;It++)Ye.indexOf(je[It])===-1&&Ye.push(je[It])}function Rt(Ye,je,It){var Dt=[],Yt=[],tr=Ye.layout,fr,rr;for(fr=0;fr<je.length;fr++)Dt.push(J.getFromId(Ye,je[fr]));for(fr=0;fr<It.length;fr++)Yt.push(J.getFromId(Ye,It[fr]));var Ft=Object.keys(a),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],br=["linear","log"];for(fr=0;fr<Ft.length;fr++){var yr=Ft[fr],vr=Dt[0][yr],Gr=Yt[0][yr],_r=!0,Dr=!1,pn=!1;if(!(yr.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(yr)!==-1)){for(rr=1;rr<Dt.length&&_r;rr++){var nn=Dt[rr][yr];yr==="type"&&br.indexOf(vr)!==-1&&br.indexOf(nn)!==-1&&vr!==nn?Dr=!0:nn!==vr&&(_r=!1)}for(rr=1;rr<Yt.length&&_r;rr++){var Un=Yt[rr][yr];yr==="type"&&br.indexOf(Gr)!==-1&&br.indexOf(Un)!==-1&&Gr!==Un?pn=!0:Yt[rr][yr]!==Gr&&(_r=!1)}_r&&(Dr&&(tr[Dt[0]._name].type="linear"),pn&&(tr[Yt[0]._name].type="linear"),Lt(tr,yr,Dt,Yt,Ye._fullLayout._dfltTitle))}}for(fr=0;fr<Ye._fullLayout.annotations.length;fr++){var Tn=Ye._fullLayout.annotations[fr];je.indexOf(Tn.xref)!==-1&&It.indexOf(Tn.yref)!==-1&&T.swapAttrs(tr.annotations[fr],["?"])}}function Lt(Ye,je,It,Dt,Yt){var tr=T.nestedProperty,fr=tr(Ye[It[0]._name],je).get(),rr=tr(Ye[Dt[0]._name],je).get(),Ft;for(je==="title"&&(fr&&fr.text===Yt.x&&(fr.text=Yt.y),rr&&rr.text===Yt.y&&(rr.text=Yt.x)),Ft=0;Ft<It.length;Ft++)tr(Ye,It[Ft]._name+"."+je).set(rr);for(Ft=0;Ft<Dt.length;Ft++)tr(Ye,Dt[Ft]._name+"."+je).set(fr)}function Ot(Ye){return Ye._id==="angularaxis"}function Nt(Ye,je){for(var It=je._rangebreaks.length,Dt=0;Dt<It;Dt++){var Yt=je._rangebreaks[Dt];if(Ye>=Yt.min&&Ye<Yt.max)return Yt.max}return Ye}function Xt(Ye){return(Ye.ticklabelposition||"").indexOf("inside")!==-1}function ur(Ye,je){Xt(Ye._anchorAxis||{})&&Ye._hideCounterAxisInsideTickLabels&&Ye._hideCounterAxisInsideTickLabels(je)}function cr(Ye,je,It,Dt){var Yt=Ye.anchor!=="free"&&(Ye.overlaying===void 0||Ye.overlaying===!1)?Ye._id:Ye.overlaying,tr;Dt?tr=Ye.side==="right"?je:-je:tr=je,Yt in It||(It[Yt]={}),Ye.side in It[Yt]||(It[Yt][Ye.side]=0),It[Yt][Ye.side]+=tr}function dr(Ye,je){return Ye.autoshift?je[Ye.overlaying][Ye.side]:Ye.shift||0}},4322:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM,C=L.isArrayOrTypedArray,T=L.isDateTime,d=L.cleanNumber,y=Math.round;V.exports=function(m,f,S){var v=m,l=S.noMultiCategory;if(C(v)&&!v.length)return"-";if(!l&&u(v))return"multicategory";if(l&&Array.isArray(v[0])){for(var g=[],M=0;M<v.length;M++)if(C(v[M]))for(var A=0;A<v[M].length;A++)g.push(v[M][A]);v=g}if(i(v,f))return"date";var k=S.autotypenumbers!=="strict";return h(v,k)?"category":t(v,k)?"linear":"-"};function r(s,m){return m?p(s):typeof s=="number"}function t(s,m){for(var f=s.length,S=0;S<f;S++)if(r(s[S],m))return!0;return!1}function i(s,m){for(var f=s.length,S=a(f),v=0,l=0,g={},M=0;M<f;M+=S){var A=y(M),k=s[A],w=String(k);g[w]||(g[w]=1,T(k,m)&&v++,p(k)&&l++)}return v>l*2}function a(s){return Math.max(1,(s-1)/1e3)}function h(s,m){for(var f=s.length,S=a(f),v=0,l=0,g={},M=0;M<f;M+=S){var A=y(M),k=s[A],w=String(k);if(!g[w]){g[w]=1;var E=typeof k;E==="boolean"?l++:(m?d(k)!==n:E==="number")?v++:E==="string"&&l++}}return l>v*2}function u(s){return C(s[0])&&C(s[1])}},71453:function(V,B,e){var p=e(92770),L=e(73972),n=e(71828),C=e(44467),T=e(85501),d=e(13838),y=e(26218),r=e(38701),t=e(96115),i=e(89426),a=e(15258),h=e(92128),u=e(23608),s=e(21994),m=e(85555).WEEKDAY_PATTERN,f=e(85555).HOUR_PATTERN;V.exports=function(M,A,k,w,E){var b=w.letter,o=w.font||{},P=w.splomStash||{},x=k("visible",!w.visibleDflt),z=A._template||{},_=A.type||z.type||"-",G;if(_==="date"){var F=L.getComponentMethod("calendars","handleDefaults");F(M,A,"calendar",w.calendar),w.noTicklabelmode||(G=k("ticklabelmode"))}var N="";(!w.noTicklabelposition||_==="multicategory")&&(N=n.coerce(M,A,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:G==="period"?["outside","inside"]:b==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),w.noTicklabeloverflow||k("ticklabeloverflow",N.indexOf("inside")!==-1?"hide past domain":_==="category"||_==="multicategory"?"allow":"hide past div"),s(A,E),u(M,A,k,w),a(M,A,k,w),_!=="category"&&!w.noHover&&k("hoverformat");var U=k("color"),O=U!==d.color.dflt?U:o.color,H=P.label||E._dfltTitle[b];if(i(M,A,k,_,w),!x)return A;k("title.text",H),n.coerceFont(k,"title.font",{family:o.family,size:n.bigFont(o.size),color:O}),y(M,A,k,_);var Y=w.hasMinor;if(Y&&(C.newContainer(A,"minor"),y(M,A,k,_,{isMinor:!0})),t(M,A,k,_,w),r(M,A,k,w),Y){var q=w.isMinor;w.isMinor=!0,r(M,A,k,w),w.isMinor=q}h(M,A,k,{dfltColor:U,bgColor:w.bgColor,showGrid:w.showGrid,hasMinor:Y,attributes:d}),Y&&!A.minor.ticks&&!A.minor.showgrid&&delete A.minor,(A.showline||A.ticks)&&k("mirror");var ne=_==="multicategory";if(!w.noTickson&&(_==="category"||ne)&&(A.ticks||A.showgrid)){var oe;ne&&(oe="boundaries");var he=k("tickson",oe);he==="boundaries"&&delete A.ticklabelposition}if(ne){var J=k("showdividers");J&&(k("dividercolor"),k("dividerwidth"))}if(_==="date")if(T(M,A,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:S}),!A.rangebreaks.length)delete A.rangebreaks;else{for(var Z=0;Z<A.rangebreaks.length;Z++)if(A.rangebreaks[Z].pattern===m){A._hasDayOfWeekBreaks=!0;break}if(s(A,E),E._has("scattergl")||E._has("splom"))for(var se=0;se<w.data.length;se++){var $=w.data[se];($.type==="scattergl"||$.type==="splom")&&($.visible=!1,n.warn($.type+" traces do not work on axes with rangebreaks. Setting trace "+$.index+" to `visible: false`."))}}return A};function S(g,M,A){function k(G,F){return n.coerce(g,M,d.rangebreaks,G,F)}var w=k("enabled");if(w){var E=k("bounds");if(E&&E.length>=2){var b="",o,P;if(E.length===2){for(o=0;o<2;o++)if(P=l(E[o]),P){b=m;break}}var x=k("pattern",b);if(x===m)for(o=0;o<2;o++)P=l(E[o]),P&&(M.bounds[o]=E[o]=P-1);if(x)for(o=0;o<2;o++)switch(P=E[o],x){case m:if(!p(P)){M.enabled=!1;return}if(P=+P,P!==Math.floor(P)||P<0||P>=7){M.enabled=!1;return}M.bounds[o]=E[o]=P;break;case f:if(!p(P)){M.enabled=!1;return}if(P=+P,P<0||P>24){M.enabled=!1;return}M.bounds[o]=E[o]=P;break}if(A.autorange===!1){var z=A.range;if(z[0]<z[1]){if(E[0]<z[0]&&E[1]>z[1]){M.enabled=!1;return}}else if(E[0]>z[0]&&E[1]<z[1]){M.enabled=!1;return}}}else{var _=k("values");if(_&&_.length)k("dvalue");else{M.enabled=!1;return}}}}var v={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function l(g){if(typeof g=="string")return v[g.substr(0,3).toLowerCase()]}},12663:function(V,B,e){var p=e(31562),L=p.FORMAT_LINK,n=p.DATE_FORMAT_LINK;function C(y,r){return{valType:"string",dflt:"",editType:"none",description:(r?T:d)("hover text",y)+["By default the values are formatted using "+(r?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}}function T(y,r){return["Sets the "+y+" formatting rule"+(r?"for `"+r+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function d(y,r){return T(y,r)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}V.exports={axisHoverFormat:C,descriptionOnlyNumbers:T,descriptionWithDates:d}},41675:function(V,B,e){var p=e(73972),L=e(85555);B.id2name=function(T){if(!(typeof T!="string"||!T.match(L.AX_ID_PATTERN))){var d=T.split(" ")[0].substr(1);return d==="1"&&(d=""),T.charAt(0)+"axis"+d}},B.name2id=function(T){if(T.match(L.AX_NAME_PATTERN)){var d=T.substr(5);return d==="1"&&(d=""),T.charAt(0)+d}},B.cleanId=function(T,d,y){var r=/( domain)$/.test(T);if(!(typeof T!="string"||!T.match(L.AX_ID_PATTERN))&&!(d&&T.charAt(0)!==d)&&!(r&&!y)){var t=T.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),T.charAt(0)+t+(r&&y?" domain":"")}},B.list=function(C,T,d){var y=C._fullLayout;if(!y)return[];var r=B.listIds(C,T),t=new Array(r.length),i;for(i=0;i<r.length;i++){var a=r[i];t[i]=y[a.charAt(0)+"axis"+a.substr(1)]}if(!d){var h=y._subplots.gl3d||[];for(i=0;i<h.length;i++){var u=y[h[i]];T?t.push(u[T+"axis"]):t.push(u.xaxis,u.yaxis,u.zaxis)}}return t},B.listIds=function(C,T){var d=C._fullLayout;if(!d)return[];var y=d._subplots;return T?y[T+"axis"]:y.xaxis.concat(y.yaxis)},B.getFromId=function(C,T,d){var y=C._fullLayout;return T=T===void 0||typeof T!="string"?T:T.replace(" domain",""),d==="x"?T=T.replace(/y[0-9]*/,""):d==="y"&&(T=T.replace(/x[0-9]*/,"")),y[B.id2name(T)]},B.getFromTrace=function(C,T,d){var y=C._fullLayout,r=null;if(p.traceIs(T,"gl3d")){var t=T.scene;t.substr(0,5)==="scene"&&(r=y[t][d+"axis"])}else r=B.getFromId(C,T[d+"axis"]||d);return r},B.idSort=function(C,T){var d=C.charAt(0),y=T.charAt(0);return d!==y?d>y?1:-1:+(C.substr(1)||1)-+(T.substr(1)||1)},B.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function n(C,T){if(T&&T.length){for(var d=0;d<T.length;d++)if(T[d][C])return!0}return!1}B.isLinked=function(C,T){return n(T,C._axisMatchGroups)||n(T,C._axisConstraintGroups)}},15258:function(V,B,e){var p=e(73627).isTypedArraySpec;function L(n,C){var T=C.dataAttr||n._id.charAt(0),d={},y,r,t;if(C.axData)y=C.axData;else for(y=[],r=0;r<C.data.length;r++){var i=C.data[r];i[T+"axis"]===n._id&&y.push(i)}for(r=0;r<y.length;r++){var a=y[r][T];for(t=0;t<a.length;t++){var h=a[t];h!=null&&(d[h]=1)}}return Object.keys(d)}V.exports=function(C,T,d,y){if(T.type==="category"){var r=C.categoryarray,t=Array.isArray(r)&&r.length>0||p(r),i;t&&(i="array");var a=d("categoryorder",i),h;a==="array"&&(h=d("categoryarray")),!t&&a==="array"&&(a=T.categoryorder="trace"),a==="trace"?T._initialCategories=[]:a==="array"?T._initialCategories=h.slice():(h=L(T,y).sort(),a==="category ascending"?T._initialCategories=h:a==="category descending"&&(T._initialCategories=h.reverse()))}}},66287:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606),C=n.ONEDAY,T=n.ONEWEEK;B.dtick=function(d,y){var r=y==="log",t=y==="date",i=y==="category",a=t?C:1;if(!d)return a;if(p(d))return d=Number(d),d<=0?a:i?Math.max(1,Math.round(d)):t?Math.max(.1,d):d;if(typeof d!="string"||!(t||r))return a;var h=d.charAt(0),u=d.substr(1);return u=p(u)?Number(u):0,u<=0||!(t&&h==="M"&&u===Math.round(u)||r&&h==="L"||r&&h==="D"&&(u===1||u===2))?a:d},B.tick0=function(d,y,r,t){if(y==="date")return L.cleanDate(d,L.dateTick0(r,t%T===0?1:0));if(!(t==="D1"||t==="D2"))return p(d)?Number(d):0}},85555:function(V,B,e){var p=e(30587).counter;V.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(V,B,e){var p=e(71828),L=e(71739),n=e(41675).id2name,C=e(13838),T=e(42449),d=e(21994),y=e(50606).ALMOST_EQUAL,r=e(18783).FROM_BL;B.handleDefaults=function(f,S,v){var l=v.axIds,g=v.axHasImage,M=S._axisConstraintGroups=[],A=S._axisMatchGroups=[],k,w,E,b,o,P,x,z;for(k=0;k<l.length;k++)b=n(l[k]),o=f[b],P=S[b],t(o,P,{axIds:l,layoutOut:S,hasImage:g[b]});function _(ne,oe){for(k=0;k<ne.length;k++){w=ne[k];for(E in w)S[n(E)][oe]=w}}for(_(A,"_matchGroup"),k=0;k<M.length;k++){w=M[k];for(E in w)if(P=S[n(E)],P.fixedrange){for(var G in w){var F=n(G);(f[F]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+F+" but was overridden because another axis in its constraint group has fixedrange true"),S[F].fixedrange=!0}break}}for(k=0;k<M.length;){w=M[k];for(E in w){P=S[n(E)],P._matchGroup&&Object.keys(P._matchGroup).length===Object.keys(w).length&&(M.splice(k,1),k--);break}k++}_(M,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],U=!1,O=!1;function H(){z=P[x],x==="rangebreaks"&&(O=P._hasDayOfWeekBreaks)}for(k=0;k<A.length;k++){w=A[k];for(var Y=0;Y<N.length;Y++){x=N[Y],z=null;var q;for(E in w)if(b=n(E),o=f[b],P=S[b],x in P){if(!P.matches&&(q=P,x in o)){H();break}z===null&&x in o&&H()}if(x==="range"&&z&&o.range&&o.range.length===2&&o.range[0]!==null&&o.range[1]!==null&&(U=!0),x==="autorange"&&z===null&&U&&(z=!1),z===null&&x in q&&(z=q[x]),z!==null)for(E in w)P=S[n(E)],P[x]=x==="range"?z.slice():z,x==="rangebreaks"&&(P._hasDayOfWeekBreaks=O,d(P,S))}}};function t(f,S,v){var l=v.axIds,g=v.layoutOut,M=v.hasImage,A=g._axisConstraintGroups,k=g._axisMatchGroups,w=S._id,E=w.charAt(0),b=((g._splomAxes||{})[E]||{})[w]||{},o=S._id,P=o.charAt(0)==="x";S._matchGroup=null,S._constraintGroup=null;function x(Z,se){return p.coerce(f,S,C,Z,se)}x("constrain",M?"domain":"range"),p.coerce(f,S,{constraintoward:{valType:"enumerated",values:P?["left","center","right"]:["bottom","middle","top"],dflt:P?"center":"middle"}},"constraintoward");var z=S.type,_,G,F=[];for(_=0;_<l.length;_++)if(G=l[_],G!==o){var N=g[n(G)];N.type===z&&F.push(G)}var U=a(A,o);if(U){var O=[];for(_=0;_<F.length;_++)G=F[_],U[G]||O.push(G);F=O}var H=F.length,Y,q;H&&(f.matches||b.matches)&&(Y=p.coerce(f,S,{matches:{valType:"enumerated",values:F,dflt:F.indexOf(b.matches)!==-1?b.matches:void 0}},"matches"));var ne=M&&!P?S.anchor:void 0;if(H&&!Y&&(f.scaleanchor||ne)&&(q=p.coerce(f,S,{scaleanchor:{valType:"enumerated",values:F.concat([!1])}},"scaleanchor",ne)),Y){S._matchGroup=h(k,o,Y,1);var oe=g[n(Y)],he=i(g,S)/i(g,oe);P!==(Y.charAt(0)==="x")&&(he=(P?"x":"y")+he),h(A,o,Y,he)}else f.matches&&l.indexOf(f.matches)!==-1&&p.warn("ignored "+S._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if(q){var J=x("scaleratio");J||(J=S.scaleratio=1),h(A,o,q,J)}else f.scaleanchor&&l.indexOf(f.scaleanchor)!==-1&&p.warn("ignored "+S._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function i(f,S){var v=S.domain;return v||(v=f[n(S.overlaying)].domain),v[1]-v[0]}function a(f,S){for(var v=0;v<f.length;v++)if(f[v][S])return f[v];return null}function h(f,S,v,l){var g,M,A,k,w,E=a(f,S);E===null?(E={},E[S]=1,w=f.length,f.push(E)):w=f.indexOf(E);var b=Object.keys(E);for(g=0;g<f.length;g++)if(A=f[g],g!==w&&A[v]){var o=A[v];for(M=0;M<b.length;M++)k=b[M],A[k]=u(o,u(l,E[k]));f.splice(w,1);return}if(l!==1)for(M=0;M<b.length;M++){var P=b[M];E[P]=u(l,E[P])}E[v]=1}function u(f,S){var v="",l="",g,M;typeof f=="string"&&(v=f.match(/^[xy]*/)[0],g=v.length,f=+f.substr(g)),typeof S=="string"&&(l=S.match(/^[xy]*/)[0],M=l.length,S=+S.substr(M));var A=f*S;return!g&&!M?A:!g||!M||v.charAt(0)===l.charAt(0)?v+l+f*S:g===M?A:(g>M?v.substr(M):l.substr(g))+A}function s(f,S){for(var v=S._size,l=v.h/v.w,g={},M=Object.keys(f),A=0;A<M.length;A++){var k=M[A],w=f[k];if(typeof w=="string"){var E=w.match(/^[xy]*/)[0],b=E.length;w=+w.substr(b);for(var o=E.charAt(0)==="y"?l:1/l,P=0;P<b;P++)w*=o}g[k]=w}return g}B.enforce=function(S){var v=S._fullLayout,l=v._axisConstraintGroups||[],g,M,A,k,w,E,b,o;for(g=0;g<l.length;g++){A=s(l[g],v);var P=Object.keys(A),x=1/0,z=0,_=1/0,G={},F={},N=!1;for(M=0;M<P.length;M++)k=P[M],F[k]=w=v[n(k)],w._inputDomain?w.domain=w._inputDomain.slice():w._inputDomain=w.domain.slice(),w._inputRange||(w._inputRange=w.range.slice()),w.setScale(),G[k]=E=Math.abs(w._m)/A[k],x=Math.min(x,E),(w.constrain==="domain"||!w._constraintShrinkable)&&(_=Math.min(_,E)),delete w._constraintShrinkable,z=Math.max(z,E),w.constrain==="domain"&&(N=!0);if(!(x>y*z&&!N)){for(M=0;M<P.length;M++)if(k=P[M],E=G[k],w=F[k],b=w.constrain,E!==_||b==="domain")if(o=E/_,b==="range")T(w,o);else{var U=w._inputDomain,O=(w.domain[1]-w.domain[0])/(U[1]-U[0]),H=(w.r2l(w.range[1])-w.r2l(w.range[0]))/(w.r2l(w._inputRange[1])-w.r2l(w._inputRange[0]));if(o/=O,o*H<1){w.domain=w._input.domain=U.slice(),T(w,o);continue}if(H<1&&(w.range=w._input.range=w._inputRange.slice(),o*=H),w.autorange){var Y=w.r2l(w.range[0]),q=w.r2l(w.range[1]),ne=(Y+q)/2,oe=ne,he=ne,J=Math.abs(q-ne),Z=ne-J*o*1.0001,se=ne+J*o*1.0001,$=L.makePadFn(v,w,0),ee=L.makePadFn(v,w,1);m(w,o);var le=Math.abs(w._m),Q=L.concatExtremes(S,w),K=Q.min,ue=Q.max,ie,ce;for(ce=0;ce<K.length;ce++)ie=K[ce].val-$(K[ce])/le,ie>Z&&ie<oe&&(oe=ie);for(ce=0;ce<ue.length;ce++)ie=ue[ce].val+ee(ue[ce])/le,ie<se&&ie>he&&(he=ie);var xe=(he-oe)/(2*J);o/=xe,oe=w.l2r(oe),he=w.l2r(he),w.range=w._input.range=Y<q?[oe,he]:[he,oe]}m(w,o)}}}},B.getAxisGroup=function(S,v){for(var l=S._axisMatchGroups,g=0;g<l.length;g++){var M=l[g];if(M[v])return"g"+g}return v},B.clean=function(S,v){if(v._inputDomain){for(var l=!1,g=v._id,M=S._fullLayout._axisConstraintGroups,A=0;A<M.length;A++)if(M[A][g]){l=!0;break}(!l||v.constrain!=="domain")&&(v._input.domain=v.domain=v._inputDomain,delete v._inputDomain)}};function m(f,S){var v=f._inputDomain,l=r[f.constraintoward],g=v[0]+(v[1]-v[0])*l;f.domain=f._input.domain=[g+(v[0]-g)/S,g+(v[1]-g)/S],f.setScale()}},29323:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(84267),T=e(38520),d=e(73972),y=L.strTranslate,r=e(63893),t=e(7901),i=e(91424),a=e(30211),h=e(89298),u=e(6964),s=e(28569),m=e(64505),f=m.selectingOrDrawing,S=m.freeMode,v=e(18783).FROM_TL,l=e(33306),g=e(61549).redrawReglTraces,M=e(74875),A=e(41675).getFromId,k=e(47322).prepSelect,w=e(47322).clearOutline,E=e(47322).selectOnClick,b=e(42449),o=e(85555),P=o.MINDRAG,x=o.MINZOOM,z=!0;function _(ie,ce,xe,Le,Ae,Oe,ze,Ee){var be=ie._fullLayout._zoomlayer,Ce=ze+Ee==="nsew",Ue=(ze+Ee).length===1,He,Ie,Ge,at,lt,qe,et,ft,dt,pt,At,Pt,Ht,Je,We,_e,Ne,ke,we,me,Me,Se,Ve;xe+=ce.yaxis._shift;function Ze(){if(He=ce.xaxis,Ie=ce.yaxis,dt=He._length,pt=Ie._length,et=He._offset,ft=Ie._offset,Ge={},Ge[He._id]=He,at={},at[Ie._id]=Ie,ze&&Ee)for(var rr=ce.overlays,Ft=0;Ft<rr.length;Ft++){var hr=rr[Ft].xaxis;Ge[hr._id]=hr;var br=rr[Ft].yaxis;at[br._id]=br}lt=ue(Ge),qe=ue(at),Ht=N(lt,Ee),Je=N(qe,ze),We=!Je&&!Ht,Pt=Q(ie,ie._fullLayout._axisMatchGroups,Ge,at),At=Q(ie,ie._fullLayout._axisConstraintGroups,Ge,at,Pt);var yr=At.isSubplotConstrained||Pt.isSubplotConstrained;_e=Ee||yr,Ne=ze||yr;var vr=ie._fullLayout;ke=vr._has("scattergl"),we=vr._has("splom"),me=vr._has("svg")}Ze();var tt=q(Je+Ht,ie._fullLayout.dragmode,Ce),ct=F(ce,ze+Ee+"drag",tt,xe,Le,Ae,Oe);if(We&&!Ce)return ct.onmousedown=null,ct.style.pointerEvents="none",ct;var gt={element:ct,gd:ie,plotinfo:ce};gt.prepFn=function(rr,Ft,hr){var br=gt.dragmode,yr=ie._fullLayout.dragmode;yr!==br&&(gt.dragmode=yr),Ze(),Se=ie._fullLayout._invScaleX,Ve=ie._fullLayout._invScaleY,We||(Ce?rr.shiftKey?yr==="pan"?yr="zoom":f(yr)||(yr="pan"):rr.ctrlKey&&(yr="pan"):yr="pan"),S(yr)?gt.minDrag=1:gt.minDrag=void 0,f(yr)?(gt.xaxes=lt,gt.yaxes=qe,k(rr,Ft,hr,gt,yr)):(gt.clickFn=Kt,f(br)&&jt(),We||(yr==="zoom"?(gt.moveFn=xt,gt.doneFn=Rt,gt.minDrag=1,it(rr,Ft,hr)):yr==="pan"&&(gt.moveFn=cr,gt.doneFn=It))),ie._fullLayout._redrag=function(){var vr=ie._dragdata;if(vr&&vr.element===ct){var Gr=ie._fullLayout.dragmode;f(Gr)||(Ze(),Dt([0,0,dt,pt]),gt.moveFn(vr.dx,vr.dy))}}};function jt(){gt.plotinfo.selection=!1,w(ie)}function Kt(rr,Ft){var hr=gt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var br=hr._fullLayout.clickmode;if(Z(hr),rr===2&&!Ue&&je(),Ce)br.indexOf("select")>-1&&E(Ft,hr,lt,qe,ce.id,gt),br.indexOf("event")>-1&&a.click(hr,Ft,ce.id);else if(rr===1&&Ue){var yr=ze?Ie:He,vr=ze==="s"||Ee==="w"?0:1,Gr=yr._name+".range["+vr+"]",_r=U(yr,vr),Dr="left",pn="middle";if(yr.fixedrange)return;ze?(pn=ze==="n"?"top":"bottom",yr.side==="right"&&(Dr="right")):Ee==="e"&&(Dr="right"),hr._context.showAxisRangeEntryBoxes&&p.select(ct).call(r.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(_r),fill:yr.tickfont?yr.tickfont.color:"#444",horizontalAlign:Dr,verticalAlign:pn}).on("edit",function(nn){var Un=yr.d2r(nn);Un!==void 0&&d.call("_guiRelayout",hr,Gr,Un)})}}s.init(gt);var Tt,zt,qt,Sr,yt,Zt,Jt,mr,sr,vt;function it(rr,Ft,hr){var br=ct.getBoundingClientRect();Tt=Ft-br.left,zt=hr-br.top,ie._fullLayout._calcInverseTransform(ie);var yr=L.apply3DTransform(ie._fullLayout._invTransform)(Tt,zt);Tt=yr[0],zt=yr[1],qt={l:Tt,r:Tt,w:0,t:zt,b:zt,h:0},Sr=ie._hmpixcount?ie._hmlumcount/ie._hmpixcount:C(ie._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+dt+"V"+pt+"H0V0",Zt=!1,Jt="xy",vt=!1,mr=ne(be,Sr,et,ft,yt),sr=oe(be,et,ft)}function xt(rr,Ft){if(ie._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(dt,Se*rr+Tt)),br=Math.max(0,Math.min(pt,Ve*Ft+zt)),yr=Math.abs(hr-Tt),vr=Math.abs(br-zt);qt.l=Math.min(Tt,hr),qt.r=Math.max(Tt,hr),qt.t=Math.min(zt,br),qt.b=Math.max(zt,br);function Gr(){Jt="",qt.r=qt.l,qt.t=qt.b,sr.attr("d","M0,0Z")}if(At.isSubplotConstrained)yr>x||vr>x?(Jt="xy",yr/dt>vr/pt?(vr=yr*pt/dt,zt>br?qt.t=zt-vr:qt.b=zt+vr):(yr=vr*dt/pt,Tt>hr?qt.l=Tt-yr:qt.r=Tt+yr),sr.attr("d",le(qt))):Gr();else if(Pt.isSubplotConstrained)if(yr>x||vr>x){Jt="xy";var _r=Math.min(qt.l/dt,(pt-qt.b)/pt),Dr=Math.max(qt.r/dt,(pt-qt.t)/pt);qt.l=_r*dt,qt.r=Dr*dt,qt.b=(1-_r)*pt,qt.t=(1-Dr)*pt,sr.attr("d",le(qt))}else Gr();else!Je||vr<Math.min(Math.max(yr*.6,P),x)?yr<P||!Ht?Gr():(qt.t=0,qt.b=pt,Jt="x",sr.attr("d",$(qt,zt))):!Ht||yr<Math.min(vr*.6,x)?(qt.l=0,qt.r=dt,Jt="y",sr.attr("d",ee(qt,Tt))):(Jt="xy",sr.attr("d",le(qt)));qt.w=qt.r-qt.l,qt.h=qt.b-qt.t,Jt&&(vt=!0),ie._dragged=vt,he(mr,sr,qt,yt,Zt,Sr),St(),ie.emit("plotly_relayouting",Me),Zt=!0}function St(){Me={},(Jt==="xy"||Jt==="x")&&(O(lt,qt.l/dt,qt.r/dt,Me,At.xaxes),dr("x",Me)),(Jt==="xy"||Jt==="y")&&(O(qe,(pt-qt.b)/pt,(pt-qt.t)/pt,Me,At.yaxes),dr("y",Me))}function Rt(){St(),Z(ie),It(),se(ie)}var Lt=[0,0,dt,pt],Ot=null,Nt=o.REDRAWDELAY,Xt=ce.mainplot?ie._fullLayout._plots[ce.mainplot]:ce;function ur(rr){if(!ie._context._scrollZoom.cartesian&&!ie._fullLayout._enablescrollzoom)return;if(jt(),ie._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}Ze(),clearTimeout(Ot);var Ft=-rr.deltaY;if(isFinite(Ft)||(Ft=rr.wheelDelta/10),!isFinite(Ft)){L.log("Did not find wheel motion attributes: ",rr);return}var hr=Math.exp(-Math.min(Math.max(Ft,-20),20)/200),br=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),yr=(rr.clientX-br.left)/br.width,vr=(br.bottom-rr.clientY)/br.height,Gr;function _r(Dr,pn,nn){if(Dr.fixedrange)return;var Un=L.simpleMap(Dr.range,Dr.r2l),Tn=Un[0]+(Un[1]-Un[0])*pn;function Cr(Lr){return Dr.l2r(Tn+(Lr-Tn)*nn)}Dr.range=Un.map(Cr)}if(_e){for(Ee||(yr=.5),Gr=0;Gr<lt.length;Gr++)_r(lt[Gr],yr,hr);dr("x"),Lt[2]*=hr,Lt[0]+=Lt[2]*yr*(1/hr-1)}if(Ne){for(ze||(vr=.5),Gr=0;Gr<qe.length;Gr++)_r(qe[Gr],vr,hr);dr("y"),Lt[3]*=hr,Lt[1]+=Lt[3]*(1-vr)*(1/hr-1)}Dt(Lt),Ye(),ie.emit("plotly_relayouting",Me),Ot=setTimeout(function(){ie._fullLayout&&(Lt=[0,0,dt,pt],It())},Nt),rr.preventDefault()}ze.length*Ee.length!==1&&K(ct,ur);function cr(rr,Ft){if(rr=rr*Se,Ft=Ft*Ve,ie._transitioningWithDuration)return;if(ie._fullLayout._replotting=!0,Ht==="ew"||Je==="ns"){var hr=Ht?-rr:0,br=Je?-Ft:0;if(Pt.isSubplotConstrained){if(Ht&&Je){var yr=(rr/dt-Ft/pt)/2;rr=yr*dt,Ft=-yr*pt,hr=-rr,br=-Ft}Je?hr=-br*dt/pt:br=-hr*pt/dt}Ht&&(H(lt,rr),dr("x")),Je&&(H(qe,Ft),dr("y")),Dt([hr,br,dt,pt]),Ye(),ie.emit("plotly_relayouting",Me);return}function vr(Cr,Lr,Zr){for(var Wr=1-Lr,sn,yn,bn=0;bn<Cr.length;bn++){var Pn=Cr[bn];if(!Pn.fixedrange){sn=Pn,yn=Pn._rl[Wr]+(Pn._rl[Lr]-Pn._rl[Wr])/Y(Zr/Pn._length);var Bn=Pn.l2r(yn);Bn!==!1&&Bn!==void 0&&(Pn.range[Lr]=Bn)}}return sn._length*(sn._rl[Lr]-yn)/(sn._rl[Lr]-sn._rl[Wr])}var Gr=Ht==="w"==(Je==="n")?1:-1;if(Ht&&Je&&(At.isSubplotConstrained||Pt.isSubplotConstrained)){var _r=(rr/dt+Gr*Ft/pt)/2;rr=_r*dt,Ft=Gr*_r*pt}var Dr,pn;if(Ht==="w"?rr=vr(lt,0,rr):Ht==="e"?rr=vr(lt,1,-rr):Ht||(rr=0),Je==="n"?Ft=vr(qe,1,Ft):Je==="s"?Ft=vr(qe,0,-Ft):Je||(Ft=0),Dr=Ht==="w"?rr:0,pn=Je==="n"?Ft:0,At.isSubplotConstrained&&!Pt.isSubplotConstrained||Pt.isSubplotConstrained&&Ht&&Je&&Gr>0){var nn;if(Pt.isSubplotConstrained||!Ht&&Je.length===1){for(nn=0;nn<lt.length;nn++)lt[nn].range=lt[nn]._r.slice(),b(lt[nn],1-Ft/pt);rr=Ft*dt/pt,Dr=rr/2}if(Pt.isSubplotConstrained||!Je&&Ht.length===1){for(nn=0;nn<qe.length;nn++)qe[nn].range=qe[nn]._r.slice(),b(qe[nn],1-rr/dt);Ft=rr*pt/dt,pn=Ft/2}}(!Pt.isSubplotConstrained||!Je)&&dr("x"),(!Pt.isSubplotConstrained||!Ht)&&dr("y");var Un=dt-rr,Tn=pt-Ft;Pt.isSubplotConstrained&&!(Ht&&Je)&&(Ht?(pn=Dr?0:rr*pt/dt,Tn=Un*pt/dt):(Dr=pn?0:Ft*dt/pt,Un=Tn*dt/pt)),Dt([Dr,pn,Un,Tn]),Ye(),ie.emit("plotly_relayouting",Me)}function dr(rr,Ft){for(var hr=Pt.isSubplotConstrained?{x:qe,y:lt}[rr]:Pt[rr+"axes"],br=Pt.isSubplotConstrained?{x:lt,y:qe}[rr]:[],yr=0;yr<hr.length;yr++){var vr=hr[yr],Gr=vr._id,_r=Pt.xLinks[Gr]||Pt.yLinks[Gr],Dr=br[0]||Ge[_r]||at[_r];Dr&&(Ft?(Ft[vr._name+".range[0]"]=Ft[Dr._name+".range[0]"],Ft[vr._name+".range[1]"]=Ft[Dr._name+".range[1]"]):vr.range=Dr.range.slice())}}function Ye(){var rr=[],Ft;function hr(Gr){for(Ft=0;Ft<Gr.length;Ft++)Gr[Ft].fixedrange||rr.push(Gr[Ft]._id)}function br(Gr,_r){for(Ft=0;Ft<Gr.length;Ft++){var Dr=Gr[Ft],pn=Dr[_r];!Dr.fixedrange&&pn.tickmode==="sync"&&rr.push(pn._id)}}for(_e&&(hr(lt),hr(At.xaxes),hr(Pt.xaxes),br(ce.overlays,"xaxis")),Ne&&(hr(qe),hr(At.yaxes),hr(Pt.yaxes),br(ce.overlays,"yaxis")),Me={},Ft=0;Ft<rr.length;Ft++){var yr=rr[Ft],vr=A(ie,yr);h.drawOne(ie,vr,{skipTitle:!0}),Me[vr._name+".range[0]"]=vr.range[0],Me[vr._name+".range[1]"]=vr.range[1]}h.redrawComponents(ie,rr)}function je(){if(!ie._transitioningWithDuration){var rr=ie._context.doubleClick,Ft=[];Ht&&(Ft=Ft.concat(lt)),Je&&(Ft=Ft.concat(qe)),Pt.xaxes&&(Ft=Ft.concat(Pt.xaxes)),Pt.yaxes&&(Ft=Ft.concat(Pt.yaxes));var hr={},br,yr;if(rr==="reset+autosize")for(rr="autosize",yr=0;yr<Ft.length;yr++){br=Ft[yr];var vr=br._rangeInitial0,Gr=br._rangeInitial1,_r=vr!==void 0||Gr!==void 0;if(_r&&(vr!==void 0&&vr!==br.range[0]||Gr!==void 0&&Gr!==br.range[1])||!_r&&br.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(yr=0;yr<Ft.length;yr++)br=Ft[yr],br.fixedrange||(hr[br._name+".autorange"]=!0);else if(rr==="reset"){for((Ht||At.isSubplotConstrained)&&(Ft=Ft.concat(At.xaxes)),Je&&!At.isSubplotConstrained&&(Ft=Ft.concat(At.yaxes)),At.isSubplotConstrained&&(Ht?Je||(Ft=Ft.concat(qe)):Ft=Ft.concat(lt)),yr=0;yr<Ft.length;yr++)if(br=Ft[yr],!br.fixedrange){var Dr=br._name,pn=br._autorangeInitial;br._rangeInitial0===void 0&&br._rangeInitial1===void 0?hr[Dr+".autorange"]=!0:br._rangeInitial0===void 0?(hr[Dr+".autorange"]=pn,hr[Dr+".range"]=[null,br._rangeInitial1]):br._rangeInitial1===void 0?(hr[Dr+".range"]=[br._rangeInitial0,null],hr[Dr+".autorange"]=pn):hr[Dr+".range"]=[br._rangeInitial0,br._rangeInitial1]}}ie.emit("plotly_doubleclick",null),d.call("_guiRelayout",ie,hr)}}function It(){Dt([0,0,dt,pt]),L.syncOrAsync([M.previousPromises,function(){ie._fullLayout._replotting=!1,d.call("_guiRelayout",ie,Me)}],ie)}function Dt(rr){var Ft=ie._fullLayout,hr=Ft._plots,br=Ft._subplots.cartesian,yr,vr,Gr,_r;if(we&&d.subplotsRegistry.splom.drag(ie),ke){for(yr=0;yr<br.length;yr++)if(vr=hr[br[yr]],Gr=vr.xaxis,_r=vr.yaxis,vr._scene){var Dr=L.simpleMap(Gr.range,Gr.r2l),pn=L.simpleMap(_r.range,_r.r2l);Gr.limitRange&&Gr.limitRange(),_r.limitRange&&_r.limitRange(),Dr=Gr.range,pn=_r.range,vr._scene.update({range:[Dr[0],pn[0],Dr[1],pn[1]]})}}if((we||ke)&&(l(ie),g(ie)),me){var nn=rr[2]/He._length,Un=rr[3]/Ie._length;for(yr=0;yr<br.length;yr++){vr=hr[br[yr]],Gr=vr.xaxis,_r=vr.yaxis;var Tn=(_e||Pt.isSubplotConstrained)&&!Gr.fixedrange&&Ge[Gr._id],Cr=(Ne||Pt.isSubplotConstrained)&&!_r.fixedrange&&at[_r._id],Lr,Zr,Wr,sn;if(Tn?(Lr=nn,Wr=Ee||Pt.isSubplotConstrained?rr[0]:fr(Gr,Lr)):Pt.xaHash[Gr._id]?(Lr=nn,Wr=rr[0]*Gr._length/He._length):Pt.yaHash[Gr._id]?(Lr=Un,Wr=Je==="ns"?-rr[1]*Gr._length/Ie._length:fr(Gr,Lr,{n:"top",s:"bottom"}[Je])):(Lr=Yt(Gr,nn,Un),Wr=tr(Gr,Lr)),Lr>1&&(Gr.maxallowed!==void 0&&_e===(Gr.range[0]<Gr.range[1]?"e":"w")||Gr.minallowed!==void 0&&_e===(Gr.range[0]<Gr.range[1]?"w":"e"))&&(Lr=1,Wr=0),Cr?(Zr=Un,sn=ze||Pt.isSubplotConstrained?rr[1]:fr(_r,Zr)):Pt.yaHash[_r._id]?(Zr=Un,sn=rr[1]*_r._length/Ie._length):Pt.xaHash[_r._id]?(Zr=nn,sn=Ht==="ew"?-rr[0]*_r._length/He._length:fr(_r,Zr,{e:"right",w:"left"}[Ht])):(Zr=Yt(_r,nn,Un),sn=tr(_r,Zr)),Zr>1&&(_r.maxallowed!==void 0&&Ne===(_r.range[0]<_r.range[1]?"n":"s")||_r.minallowed!==void 0&&Ne===(_r.range[0]<_r.range[1]?"s":"n"))&&(Zr=1,sn=0),!(!Lr&&!Zr)){Lr||(Lr=1),Zr||(Zr=1);var yn=Gr._offset-Wr/Lr,bn=_r._offset-sn/Zr;vr.clipRect.call(i.setTranslate,Wr,sn).call(i.setScale,Lr,Zr),vr.plot.call(i.setTranslate,yn,bn).call(i.setScale,1/Lr,1/Zr),(Lr!==vr.xScaleFactor||Zr!==vr.yScaleFactor)&&(i.setPointGroupScale(vr.zoomScalePts,Lr,Zr),i.setTextPointsScale(vr.zoomScaleTxt,Lr,Zr)),i.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Lr,vr.yScaleFactor=Zr}}}}function Yt(rr,Ft,hr){return rr.fixedrange?0:_e&&At.xaHash[rr._id]?Ft:Ne&&(At.isSubplotConstrained?At.xaHash:At.yaHash)[rr._id]?hr:0}function tr(rr,Ft){return Ft?(rr.range=rr._r.slice(),b(rr,Ft),fr(rr,Ft)):0}function fr(rr,Ft,hr){return rr._length*(1-Ft)*v[hr||rr.constraintoward||"middle"]}return ct}function G(ie,ce,xe,Le){var Ae=L.ensureSingle(ie.draglayer,ce,xe,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ie.id)});return Ae.call(u,Le),Ae.node()}function F(ie,ce,xe,Le,Ae,Oe,ze){var Ee=G(ie,"rect",ce,xe);return p.select(Ee).call(i.setRect,Le,Ae,Oe,ze),Ee}function N(ie,ce){for(var xe=0;xe<ie.length;xe++)if(!ie[xe].fixedrange)return ce;return""}function U(ie,ce){var xe=ie.range[ce],Le=Math.abs(xe-ie.range[1-ce]),Ae;return ie.type==="date"?xe:ie.type==="log"?(Ae=Math.ceil(Math.max(0,-Math.log(Le)/Math.LN10))+3,n("."+Ae+"g")(Math.pow(10,xe))):(Ae=Math.floor(Math.log(Math.abs(xe))/Math.LN10)-Math.floor(Math.log(Le)/Math.LN10)+4,n("."+String(Ae)+"g")(xe))}function O(ie,ce,xe,Le,Ae){for(var Oe=0;Oe<ie.length;Oe++){var ze=ie[Oe];if(!ze.fixedrange)if(ze.rangebreaks){var Ee=ze._id.charAt(0)==="y",be=Ee?1-ce:ce,Ce=Ee?1-xe:xe;Le[ze._name+".range[0]"]=ze.l2r(ze.p2l(be*ze._length)),Le[ze._name+".range[1]"]=ze.l2r(ze.p2l(Ce*ze._length))}else{var Ue=ze._rl[0],He=ze._rl[1]-Ue;Le[ze._name+".range[0]"]=ze.l2r(Ue+He*ce),Le[ze._name+".range[1]"]=ze.l2r(Ue+He*xe)}}if(Ae&&Ae.length){var Ie=(ce+(1-xe))/2;O(Ae,Ie,1-Ie,Le,[])}}function H(ie,ce){for(var xe=0;xe<ie.length;xe++){var Le=ie[xe];if(!Le.fixedrange){if(Le.rangebreaks){var Ae=0,Oe=Le._length,ze=Le.p2l(Ae+ce)-Le.p2l(Ae),Ee=Le.p2l(Oe+ce)-Le.p2l(Oe),be=(ze+Ee)/2;Le.range=[Le.l2r(Le._rl[0]-be),Le.l2r(Le._rl[1]-be)]}else Le.range=[Le.l2r(Le._rl[0]-ce/Le._m),Le.l2r(Le._rl[1]-ce/Le._m)];Le.limitRange&&Le.limitRange()}}}function Y(ie){return 1-(ie>=0?Math.min(ie,.9):1/(1/Math.max(ie,-.3)+3.222))}function q(ie,ce,xe){return ie?ie==="nsew"?xe?"":ce==="pan"?"move":"crosshair":ie.toLowerCase()+"-resize":"pointer"}function ne(ie,ce,xe,Le,Ae){return ie.append("path").attr("class","zoombox").style({fill:ce>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",y(xe,Le)).attr("d",Ae+"Z")}function oe(ie,ce,xe){return ie.append("path").attr("class","zoombox-corners").style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,opacity:0}).attr("transform",y(ce,xe)).attr("d","M0,0Z")}function he(ie,ce,xe,Le,Ae,Oe){ie.attr("d",Le+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),J(ie,ce,Ae,Oe)}function J(ie,ce,xe,Le){xe||(ie.transition().style("fill",Le>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ce.transition().style("opacity",1).duration(200))}function Z(ie){p.select(ie).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function se(ie){z&&ie.data&&ie._context.showTips&&(L.notifier(L._(ie,"Double-click to zoom back out"),"long"),z=!1)}function $(ie,ce){return"M"+(ie.l-.5)+","+(ce-x-.5)+"h-3v"+(2*x+1)+"h3ZM"+(ie.r+.5)+","+(ce-x-.5)+"h3v"+(2*x+1)+"h-3Z"}function ee(ie,ce){return"M"+(ce-x-.5)+","+(ie.t-.5)+"v-3h"+(2*x+1)+"v3ZM"+(ce-x-.5)+","+(ie.b+.5)+"v3h"+(2*x+1)+"v-3Z"}function le(ie){var ce=Math.floor(Math.min(ie.b-ie.t,ie.r-ie.l,x)/2);return"M"+(ie.l-3.5)+","+(ie.t-.5+ce)+"h3v"+-ce+"h"+ce+"v-3h-"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.t-.5+ce)+"h-3v"+-ce+"h"+-ce+"v-3h"+(ce+3)+"ZM"+(ie.r+3.5)+","+(ie.b+.5-ce)+"h-3v"+ce+"h"+-ce+"v3h"+(ce+3)+"ZM"+(ie.l-3.5)+","+(ie.b+.5-ce)+"h3v"+ce+"h"+ce+"v3h-"+(ce+3)+"Z"}function Q(ie,ce,xe,Le,Ae){for(var Oe=!1,ze={},Ee={},be,Ce,Ue,He,Ie=(Ae||{}).xaHash,Ge=(Ae||{}).yaHash,at=0;at<ce.length;at++){var lt=ce[at];for(be in xe)if(lt[be]){for(Ue in lt)!(Ae&&(Ie[Ue]||Ge[Ue]))&&!(Ue.charAt(0)==="x"?xe:Le)[Ue]&&(ze[Ue]=be);for(Ce in Le)!(Ae&&(Ie[Ce]||Ge[Ce]))&&lt[Ce]&&(Oe=!0)}for(Ce in Le)if(lt[Ce])for(He in lt)!(Ae&&(Ie[He]||Ge[He]))&&!(He.charAt(0)==="x"?xe:Le)[He]&&(Ee[He]=Ce)}Oe&&(L.extendFlat(ze,Ee),Ee={});var qe={},et=[];for(Ue in ze){var ft=A(ie,Ue);et.push(ft),qe[ft._id]=ft}var dt={},pt=[];for(He in Ee){var At=A(ie,He);pt.push(At),dt[At._id]=At}return{xaHash:qe,yaHash:dt,xaxes:et,yaxes:pt,xLinks:ze,yLinks:Ee,isSubplotConstrained:Oe}}function K(ie,ce){if(!T)ie.onwheel!==void 0?ie.onwheel=ce:ie.onmousewheel!==void 0?ie.onmousewheel=ce:ie.isAddedWheelEvent||(ie.isAddedWheelEvent=!0,ie.addEventListener("wheel",ce,{passive:!1}));else{var xe=ie.onwheel!==void 0?"wheel":"mousewheel";ie._onwheel&&ie.removeEventListener(xe,ie._onwheel),ie._onwheel=ce,ie.addEventListener(xe,ce,{passive:!1})}}function ue(ie){var ce=[];for(var xe in ie)ce.push(ie[xe]);return ce}V.exports={makeDragBox:_,makeDragger:G,makeRectDragger:F,makeZoombox:ne,makeCorners:oe,updateZoombox:he,xyCorners:le,transitionZoombox:J,removeZoombox:Z,showDoubleClickNotifier:se,attachWheelEventHandler:K}},4305:function(V,B,e){var p=e(39898),L=e(30211),n=e(28569),C=e(6964),T=e(29323).makeDragBox,d=e(85555).DRAGGERSIZE;B.initInteractions=function(r){var t=r._fullLayout;if(r._context.staticPlot){p.select(r).selectAll(".drag").remove();return}if(!(!t._has("cartesian")&&!t._has("splom"))){var i=Object.keys(t._plots||{}).sort(function(h,u){if((t._plots[h].mainplot&&!0)===(t._plots[u].mainplot&&!0)){var s=h.split("y"),m=u.split("y");return s[0]===m[0]?Number(s[1]||1)-Number(m[1]||1):Number(s[0]||1)-Number(m[0]||1)}return t._plots[h].mainplot?1:-1});i.forEach(function(h){var u=t._plots[h],s=u.xaxis,m=u.yaxis;if(!u.mainplot){var f=T(r,u,s._offset,m._offset,s._length,m._length,"ns","ew");f.onmousemove=function(l){r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===h&&r._fullLayout._plots[h]&&L.hover(r,l,h)},L.hover(r,l,h),r._fullLayout._lasthover=f,r._fullLayout._hoversubplot=h},f.onmouseout=function(l){r._dragging||(r._fullLayout._hoversubplot=null,n.unhover(r,l))},r._context.showAxisDragHandles&&(T(r,u,s._offset-d,m._offset-d,d,d,"n","w"),T(r,u,s._offset+s._length,m._offset-d,d,d,"n","e"),T(r,u,s._offset-d,m._offset+m._length,d,d,"s","w"),T(r,u,s._offset+s._length,m._offset+m._length,d,d,"s","e"))}if(r._context.showAxisDragHandles){if(h===s._mainSubplot){var S=s._mainLinePosition;s.side==="top"&&(S-=d),T(r,u,s._offset+s._length*.1,S,s._length*.8,d,"","ew"),T(r,u,s._offset,S,s._length*.1,d,"","w"),T(r,u,s._offset+s._length*.9,S,s._length*.1,d,"","e")}if(h===m._mainSubplot){var v=m._mainLinePosition;m.side!=="right"&&(v-=d),T(r,u,v,m._offset+m._length*.1,d,m._length*.8,"ns",""),T(r,u,v,m._offset+m._length*.9,d,m._length*.1,"s",""),T(r,u,v,m._offset,d,m._length*.1,"n","")}}});var a=t._hoverlayer.node();a.onmousemove=function(h){h.target=r._fullLayout._lasthover,L.hover(r,h,t._hoversubplot)},a.onclick=function(h){h.target=r._fullLayout._lasthover,L.click(r,h)},a.onmousedown=function(h){r._fullLayout._lasthover.onmousedown(h)},B.updateFx(r)}},B.updateFx=function(y){var r=y._fullLayout,t=r.dragmode==="pan"?"move":"crosshair";C(r._draggers,t)}},76325:function(V,B,e){var p=e(73972),L=e(71828),n=e(41675);V.exports=function(T){return function(y,r){var t=y[T];if(Array.isArray(t))for(var i=p.subplotsRegistry.cartesian,a=i.idRegex,h=r._subplots,u=h.xaxis,s=h.yaxis,m=h.cartesian,f=r._has("cartesian")||r._has("gl2d"),S=0;S<t.length;S++){var v=t[S];if(L.isPlainObject(v)){var l=n.cleanId(v.xref,"x",!1),g=n.cleanId(v.yref,"y",!1),M=a.x.test(l),A=a.y.test(g);if(M||A){f||L.pushUnique(r._basePlotModules,i);var k=!1;M&&u.indexOf(l)===-1&&(u.push(l),k=!0),A&&s.indexOf(g)===-1&&(s.push(g),k=!0),k&&M&&A&&m.push(l+g)}}}}}},93612:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=e(74875),T=e(91424),d=e(27659).a0,y=e(41675),r=e(85555),t=e(77922),i=n.ensureSingle;function a(S,v,l){return n.ensureSingle(S,v,l,function(g){g.datum(l)})}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=r.idRegex,B.attrRegex=r.attrRegex,B.attributes=e(89502),B.layoutAttributes=e(13838),B.supplyLayoutDefaults=e(86763),B.transitionAxes=e(66847),B.finalizeSubplots=function(S,v){var l=v._subplots,g=l.xaxis,M=l.yaxis,A=l.cartesian,k=A.concat(l.gl2d||[]),w={},E={},b,o,P;for(b=0;b<k.length;b++){var x=k[b].split("y");w[x[0]]=1,E["y"+x[1]]=1}for(b=0;b<g.length;b++)o=g[b],w[o]||(P=(S[y.id2name(o)]||{}).anchor,r.idRegex.y.test(P)||(P="y"),A.push(o+P),k.push(o+P),E[P]||(E[P]=1,n.pushUnique(M,P)));for(b=0;b<M.length;b++)P=M[b],E[P]||(o=(S[y.id2name(P)]||{}).anchor,r.idRegex.x.test(o)||(o="x"),A.push(o+P),k.push(o+P),w[o]||(w[o]=1,n.pushUnique(g,o)));if(!k.length){o="",P="";for(var z in S)if(r.attrRegex.test(z)){var _=z.charAt(0);_==="x"?(!o||+z.substr(5)<+o.substr(5))&&(o=z):(!P||+z.substr(5)<+P.substr(5))&&(P=z)}o=o?y.name2id(o):"x",P=P?y.name2id(P):"y",g.push(o),M.push(P),A.push(o+P)}},B.plot=function(S,v,l,g){var M=S._fullLayout,A=M._subplots.cartesian,k=S.calcdata,w;if(!Array.isArray(v))for(v=[],w=0;w<k.length;w++)v.push(w);for(w=0;w<A.length;w++){for(var E=A[w],b=M._plots[E],o=[],P,x=0;x<k.length;x++){var z=k[x],_=z[0].trace;_.xaxis+_.yaxis===E&&((v.indexOf(_.index)!==-1||_.carpet)&&(P&&P[0].trace.xaxis+P[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&o.indexOf(P)===-1&&o.push(P),o.push(z)),P=z)}h(S,b,o,l,g)}};function h(S,v,l,g,M){for(var A=r.traceLayerClasses,k=S._fullLayout,w=k._modules,E,b,o,P=[],x=[],z=0;z<w.length;z++){E=w[z];var _=E.name,G=L.modules[_].categories;if(G.svg){var F=E.layerName||_+"layer",N=E.plot;b=d(l,N),o=b[0],l=b[1],o.length&&P.push({i:A.indexOf(F),className:F,plotMethod:N,cdModule:o}),G.zoomScale&&x.push("."+F)}}P.sort(function(H,Y){return H.i-Y.i});var U=v.plot.selectAll("g.mlayer").data(P,function(H){return H.className});if(U.enter().append("g").attr("class",function(H){return H.className}).classed("mlayer",!0).classed("rangeplot",v.isRangePlot),U.exit().remove(),U.order(),U.each(function(H){var Y=p.select(this),q=H.className;H.plotMethod(S,v,H.cdModule,Y,g,M),r.clipOnAxisFalseQuery.indexOf("."+q)===-1&&T.setClipUrl(Y,v.layerClipId,S)}),k._has("scattergl")&&(E=L.getModule("scattergl"),o=d(l,E)[0],E.plot(S,v,o)),!S._context.staticPlot&&(v._hasClipOnAxisFalse&&(v.clipOnAxisFalseTraces=v.plot.selectAll(r.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),x.length)){var O=v.plot.selectAll(x.join(",")).selectAll(".trace");v.zoomScalePts=O.selectAll("path.point"),v.zoomScaleTxt=O.selectAll(".textpoint")}}B.clean=function(S,v,l,g){var M=g._plots||{},A=v._plots||{},k=g._subplots||{},w,E,b;if(g._hasOnlyLargeSploms&&!v._hasOnlyLargeSploms)for(b in M)w=M[b],w.plotgroup&&w.plotgroup.remove();var o=g._has&&g._has("gl"),P=v._has&&v._has("gl");if(o&&!P)for(b in M)w=M[b],w._scene&&w._scene.destroy();if(k.xaxis&&k.yaxis){var x=y.listIds({_fullLayout:g});for(E=0;E<x.length;E++){var z=x[E];v[y.id2name(z)]||g._infolayer.selectAll(".g-"+z+"title").remove()}}var _=g._has&&g._has("cartesian"),G=v._has&&v._has("cartesian");if(_&&!G)m(g._cartesianlayer.selectAll(".subplot"),g),g._defs.selectAll(".axesclip").remove(),delete g._axisConstraintGroups,delete g._axisMatchGroups;else if(k.cartesian)for(E=0;E<k.cartesian.length;E++){var F=k.cartesian[E];if(!A[F]){var N="."+F+",."+F+"-x,."+F+"-y";g._cartesianlayer.selectAll(N).remove(),f(F,g)}}},B.drawFramework=function(S){var v=S._fullLayout,l=u(S),g=v._cartesianlayer.selectAll(".subplot").data(l,String);g.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),g.order(),g.exit().call(m,v),g.each(function(M){var A=M[0],k=v._plots[A];k.plotgroup=p.select(this),s(S,k),k.draglayer=i(v._draggers,"g",A)})},B.rangePlot=function(S,v,l){s(S,v),h(S,v,l),C.style(S)};function u(S){var v=S._fullLayout,l=v._subplots.cartesian,g=l.length,M,A,k,w,E,b,o=[],P=[];for(M=0;M<g;M++){k=l[M],w=v._plots[k],E=w.xaxis,b=w.yaxis;var x=E._mainAxis,z=b._mainAxis,_=x._id+z._id,G=v._plots[_];w.overlays=[],_!==k&&G?(w.mainplot=_,w.mainplotinfo=G,P.push(k)):(w.mainplot=void 0,w.mainplotinfo=void 0,o.push(k))}for(M=0;M<P.length;M++)k=P[M],w=v._plots[k],w.mainplotinfo.overlays.push(w);var F=o.concat(P),N=new Array(g);for(M=0;M<g;M++){k=F[M],w=v._plots[k],E=w.xaxis,b=w.yaxis;var U=[k,E.layer,b.layer,E.overlaying||"",b.overlaying||""];for(A=0;A<w.overlays.length;A++)U.push(w.overlays[A].id);N[M]=U}return N}function s(S,v){var l=v.plotgroup,g=v.id,M=r.layerValue2layerClass[v.xaxis.layer],A=r.layerValue2layerClass[v.yaxis.layer],k=S._fullLayout._hasOnlyLargeSploms;if(v.mainplot){var E=v.mainplotinfo,b=E.plotgroup,o=g+"-x",P=g+"-y";v.minorGridlayer=E.minorGridlayer,v.gridlayer=E.gridlayer,v.zerolinelayer=E.zerolinelayer,i(E.overlinesBelow,"path",o),i(E.overlinesBelow,"path",P),i(E.overaxesBelow,"g",o),i(E.overaxesBelow,"g",P),v.plot=i(E.overplot,"g",g),i(E.overlinesAbove,"path",o),i(E.overlinesAbove,"path",P),i(E.overaxesAbove,"g",o),i(E.overaxesAbove,"g",P),v.xlines=b.select(".overlines-"+M).select("."+o),v.ylines=b.select(".overlines-"+A).select("."+P),v.xaxislayer=b.select(".overaxes-"+M).select("."+o),v.yaxislayer=b.select(".overaxes-"+A).select("."+P)}else if(k)v.xlines=i(l,"path","xlines-above"),v.ylines=i(l,"path","ylines-above"),v.xaxislayer=i(l,"g","xaxislayer-above"),v.yaxislayer=i(l,"g","yaxislayer-above");else{var w=i(l,"g","layer-subplot");v.shapelayer=i(w,"g","shapelayer"),v.imagelayer=i(w,"g","imagelayer"),v.minorGridlayer=i(l,"g","minor-gridlayer"),v.gridlayer=i(l,"g","gridlayer"),v.zerolinelayer=i(l,"g","zerolinelayer"),i(l,"path","xlines-below"),i(l,"path","ylines-below"),v.overlinesBelow=i(l,"g","overlines-below"),i(l,"g","xaxislayer-below"),i(l,"g","yaxislayer-below"),v.overaxesBelow=i(l,"g","overaxes-below"),v.plot=i(l,"g","plot"),v.overplot=i(l,"g","overplot"),v.xlines=i(l,"path","xlines-above"),v.ylines=i(l,"path","ylines-above"),v.overlinesAbove=i(l,"g","overlines-above"),i(l,"g","xaxislayer-above"),i(l,"g","yaxislayer-above"),v.overaxesAbove=i(l,"g","overaxes-above"),v.xlines=l.select(".xlines-"+M),v.ylines=l.select(".ylines-"+A),v.xaxislayer=l.select(".xaxislayer-"+M),v.yaxislayer=l.select(".yaxislayer-"+A)}k||(a(v.minorGridlayer,"g",v.xaxis._id),a(v.minorGridlayer,"g",v.yaxis._id),v.minorGridlayer.selectAll("g").map(function(x){return x[0]}).sort(y.idSort),a(v.gridlayer,"g",v.xaxis._id),a(v.gridlayer,"g",v.yaxis._id),v.gridlayer.selectAll("g").map(function(x){return x[0]}).sort(y.idSort)),v.xlines.style("fill","none").classed("crisp",!0),v.ylines.style("fill","none").classed("crisp",!0)}function m(S,v){if(S){var l={};S.each(function(E){var b=E[0],o=p.select(this);o.remove(),f(b,v),l[b]=!0});for(var g in v._plots)for(var M=v._plots[g],A=M.overlays||[],k=0;k<A.length;k++){var w=A[k];l[w.id]&&w.plot.selectAll(".trace").remove()}}}function f(S,v){v._draggers.selectAll("g."+S).remove(),v._defs.select("#clip"+v._uid+S+"plot").remove()}B.toSVG=function(S){var v=S._fullLayout._glimages,l=p.select(S).selectAll(".svg-container"),g=l.filter(function(A,k){return k===l.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function M(){var A=this,k=A.toDataURL("image/png"),w=v.append("svg:image");w.attr({xmlns:t.svg,"xlink:href":k,preserveAspectRatio:"none",x:0,y:0,width:A.style.width,height:A.style.height})}g.each(M)},B.updateFx=e(4305).updateFx},13838:function(V,B,e){var p=e(41940),L=e(22399),n=e(79952).P,C=e(1426).extendFlat,T=e(44467).templatedArray,d=e(12663).descriptionWithDates,y=e(50606).ONEDAY,r=e(85555),t=r.HOUR_PATTERN,i=r.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=C({},a,{values:a.values.slice().concat(["sync"])});function u(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var s={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},S={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function v(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=5),b}function l(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=1),b}var g={valType:"color",dflt:L.defaultLine,editType:"ticks"},M={valType:"color",dflt:L.lightLine,editType:"ticks"};function A(E){var b={valType:"number",min:0,editType:"ticks"};return E||(b.dflt=1),b}var k=C({},n,{editType:"ticks"}),w={valType:"boolean",editType:"ticks"};V.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[i,t,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:y},editType:"calc"}),tickmode:h,nticks:u(),tick0:s,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:S,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:v(),tickwidth:l(),tickcolor:g,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:w,gridcolor:M,gridwidth:A(),griddash:k,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",r.idRegex.x.toString(),r.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:u("minor"),tick0:s,dtick:m,tickvals:f,ticks:S,ticklen:v("minor"),tickwidth:l("minor"),tickcolor:g,gridcolor:M,gridwidth:A("minor"),griddash:k,showgrid:w,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},86763:function(V,B,e){var p=e(71828),L=e(7901),n=e(23469).isUnifiedHover,C=e(98212),T=e(44467),d=e(10820),y=e(13838),r=e(951),t=e(71453),i=e(99082),a=e(52830),h=e(41675),u=h.id2name,s=h.name2id,m=e(85555).AX_ID_PATTERN,f=e(73972),S=f.traceIs,v=f.getComponentMethod;function l(g,M,A){Array.isArray(g[M])?g[M].push(A):g[M]=[A]}V.exports=function(M,A,k){var w=A.autotypenumbers,E={},b={},o={},P={},x={},z={},_={},G={},F={},N={},U,O;for(U=0;U<k.length;U++){var H=k[U];if(!(!S(H,"cartesian")&&!S(H,"gl2d"))){var Y;if(H.xaxis)Y=u(H.xaxis),l(E,Y,H);else if(H.xaxes)for(O=0;O<H.xaxes.length;O++)l(E,u(H.xaxes[O]),H);var q;if(H.yaxis)q=u(H.yaxis),l(E,q,H);else if(H.yaxes)for(O=0;O<H.yaxes.length;O++)l(E,u(H.yaxes[O]),H);if(H.type==="funnel"?H.orientation==="h"?(Y&&(b[Y]=!0),q&&(_[q]=!0)):q&&(o[q]=!0):H.type==="image"?(q&&(G[q]=!0),Y&&(G[Y]=!0)):(q&&(x[q]=!0,z[q]=!0),(!S(H,"carpet")||H.type==="carpet"&&!H._cheater)&&Y&&(P[Y]=!0)),H.type==="carpet"&&H._cheater&&Y&&(b[Y]=!0),S(H,"2dMap")&&(F[Y]=!0,F[q]=!0),S(H,"oriented")){var ne=H.orientation==="h"?q:Y;N[ne]=!0}}}var oe=A._subplots,he=oe.xaxis,J=oe.yaxis,Z=p.simpleMap(he,u),se=p.simpleMap(J,u),$=Z.concat(se),ee=L.background;he.length&&J.length&&(ee=p.coerce(M,A,d,"plot_bgcolor"));var le=L.combine(ee,A.paper_bgcolor),Q,K,ue,ie,ce;function xe(){var Se=E[Q]||[];ce._traceIndices=Se.map(function(Ve){return Ve._expandedIndex}),ce._annIndices=[],ce._shapeIndices=[],ce._selectionIndices=[],ce._imgIndices=[],ce._subplotsWith=[],ce._counterAxes=[],ce._name=ce._attr=Q,ce._id=K}function Le(Se,Ve){return p.coerce(ie,ce,y,Se,Ve)}function Ae(Se,Ve){return p.coerce2(ie,ce,y,Se,Ve)}function Oe(Se){return Se==="x"?J:he}function ze(Se,Ve){for(var Ze=Se==="x"?Z:se,tt=[],ct=0;ct<Ze.length;ct++){var gt=Ze[ct];gt!==Ve&&!(M[gt]||{}).overlaying&&tt.push(s(gt))}return tt}var Ee={x:Oe("x"),y:Oe("y")},be=Ee.x.concat(Ee.y),Ce={},Ue=[];function He(){var Se=ie.matches;m.test(Se)&&be.indexOf(Se)===-1&&(Ce[Se]=ie.type,Ue=Object.keys(Ce))}var Ie=C(M,A),Ge=n(Ie);for(U=0;U<$.length;U++){Q=$[U],K=s(Q),ue=Q.charAt(0),p.isPlainObject(M[Q])||(M[Q]={}),ie=M[Q],ce=T.newContainer(A,Q,ue+"axis"),xe();var at=ue==="x"&&!P[Q]&&b[Q]||ue==="y"&&!x[Q]&&o[Q],lt=ue==="y"&&(!z[Q]&&_[Q]||G[Q]),qe={hasMinor:!0,letter:ue,font:A.font,outerTicks:F[Q],showGrid:!N[Q],data:E[Q]||[],bgColor:le,calendar:A.calendar,automargin:!0,visibleDflt:at,reverseDflt:lt,autotypenumbersDflt:w,splomStash:((A._splomAxes||{})[ue]||{})[K]};Le("uirevision",A.uirevision),r(ie,ce,Le,qe),t(ie,ce,Le,qe,A);var et=Ge&&ue===Ie.charAt(0),ft=Ae("spikecolor",Ge?ce.color:void 0),dt=Ae("spikethickness",Ge?1.5:void 0),pt=Ae("spikedash",Ge?"dot":void 0),At=Ae("spikemode",Ge?"across":void 0),Pt=Ae("spikesnap"),Ht=Le("showspikes",!!et||!!ft||!!dt||!!pt||!!At||!!Pt);Ht||(delete ce.spikecolor,delete ce.spikethickness,delete ce.spikedash,delete ce.spikemode,delete ce.spikesnap);var Je=u(ie.overlaying),We=[0,1];if(A[Je]!==void 0){var _e=u(A[Je].anchor);A[_e]!==void 0&&(We=A[_e].domain)}a(ie,ce,Le,{letter:ue,counterAxes:Ee[ue],overlayableAxes:ze(ue,Q),grid:A.grid,overlayingDomain:We}),Le("title.standoff"),He(),ce._input=ie}for(U=0;U<Ue.length;){K=Ue[U++],Q=u(K),ue=Q.charAt(0),p.isPlainObject(M[Q])||(M[Q]={}),ie=M[Q],ce=T.newContainer(A,Q,ue+"axis"),xe();var Ne={letter:ue,font:A.font,outerTicks:F[Q],showGrid:!N[Q],data:[],bgColor:le,calendar:A.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:w,splomStash:((A._splomAxes||{})[ue]||{})[K]};Le("uirevision",A.uirevision),ce.type=Ce[K]||"linear",t(ie,ce,Le,Ne,A),a(ie,ce,Le,{letter:ue,counterAxes:Ee[ue],overlayableAxes:ze(ue,Q),grid:A.grid}),Le("fixedrange"),He(),ce._input=ie}var ke=v("rangeslider","handleDefaults"),we=v("rangeselector","handleDefaults");for(U=0;U<Z.length;U++)Q=Z[U],ie=M[Q],ce=A[Q],ke(M,A,Q),ce.type==="date"&&we(ie,ce,A,se,ce.calendar),Le("fixedrange");for(U=0;U<se.length;U++){Q=se[U],ie=M[Q],ce=A[Q];var me=A[u(ce.anchor)],Me=v("rangeslider","isVisible")(me);Le("fixedrange",Me)}i.handleDefaults(M,A,{axIds:be.concat(Ue).sort(h.idSort),axHasImage:G})}},92128:function(V,B,e){var p=e(84267).mix,L=e(22399),n=e(71828);V.exports=function(T,d,y,r){r=r||{};var t=r.dfltColor;function i(o,P){return n.coerce2(T,d,r.attributes,o,P)}var a=i("linecolor",t),h=i("linewidth"),u=y("showline",r.showLine||!!a||!!h);u||(delete d.linecolor,delete d.linewidth);var s=p(t,r.bgColor,r.blend||L.lightFraction).toRgbString(),m=i("gridcolor",s),f=i("gridwidth"),S=i("griddash"),v=y("showgrid",r.showGrid||!!m||!!f||!!S);if(v||(delete d.gridcolor,delete d.gridwidth,delete d.griddash),r.hasMinor){var l=p(d.gridcolor,r.bgColor,67).toRgbString(),g=i("minor.gridcolor",l),M=i("minor.gridwidth",d.gridwidth||1),A=i("minor.griddash",d.griddash||"solid"),k=y("minor.showgrid",!!g||!!M||!!A);k||(delete d.minor.gridcolor,delete d.minor.gridwidth,delete d.minor.griddash)}if(!r.noZeroLine){var w=i("zerolinecolor",t),E=i("zerolinewidth"),b=y("zeroline",r.showGrid||!!w||!!E);b||(delete d.zerolinecolor,delete d.zerolinewidth)}}},52830:function(V,B,e){var p=e(92770),L=e(71828);V.exports=function(C,T,d,y){var r=y.counterAxes||[],t=y.overlayableAxes||[],i=y.letter,a=y.grid,h=y.overlayingDomain,u,s,m,f,S,v;a&&(s=a._domains[i][a._axisMap[T._id]],u=a._anchors[T._id],s&&(m=a[i+"side"].split(" ")[0],f=a.domain[i][m==="right"||m==="top"?1:0])),s=s||[0,1],u=u||(p(C.position)?"free":r[0]||"free"),m=m||(i==="x"?"bottom":"left"),f=f||0,S=0,v=!1;var l=L.coerce(C,T,{anchor:{valType:"enumerated",values:["free"].concat(r),dflt:u}},"anchor"),g=L.coerce(C,T,{side:{valType:"enumerated",values:i==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(l==="free"){if(i==="y"){var M=d("autoshift");M&&(f=g==="left"?h[0]:h[1],v=T.automargin?T.automargin:!0,S=g==="left"?-3:3),d("shift",S)}d("position",f)}d("automargin",v);var A=!1;if(t.length&&(A=L.coerce(C,T,{overlaying:{valType:"enumerated",values:[!1].concat(t),dflt:!1}},"overlaying")),!A){var k=d("domain",s);k[0]>k[1]-.000244140625&&(T.domain=s),L.noneOrAll(C.domain,T.domain,s),T.tickmode==="sync"&&(T.tickmode="auto")}return d("layer"),T}},89426:function(V,B,e){var p=e(59652);V.exports=function(n,C,T,d,y){y||(y={});var r=y.tickSuffixDflt,t=p(n),i=T("tickprefix");i&&T("showtickprefix",t);var a=T("ticksuffix",r);a&&T("showticksuffix",t)}},23608:function(V,B,e){var p=e(23074);V.exports=function(n,C,T,d){var y=C._template||{},r=C.type||y.type||"-";T("minallowed"),T("maxallowed");var t=T("range");if(!t){var i;!d.noInsiderange&&r!=="log"&&(i=T("insiderange"),i&&(i[0]===null||i[1]===null)&&(C.insiderange=!1,i=void 0),i&&(t=T("range",i)))}var a=C.getAutorangeDflt(t,d),h=T("autorange",a),u;t&&(t[0]===null&&t[1]===null||(t[0]===null||t[1]===null)&&(h==="reversed"||h===!0)||t[0]!==null&&(h==="min"||h==="max reversed")||t[1]!==null&&(h==="max"||h==="min reversed"))&&(t=void 0,delete C.range,C.autorange=!0,u=!0),u||(a=C.getAutorangeDflt(t,d),h=T("autorange",a)),h&&(p(T,h,t),(r==="linear"||r==="-")&&T("rangemode")),C.cleanRange()}},42449:function(V,B,e){var p=e(18783).FROM_BL;V.exports=function(n,C,T){T===void 0&&(T=p[n.constraintoward||"center"]);var d=[n.r2l(n.range[0]),n.r2l(n.range[1])],y=d[0]+(d[1]-d[0])*T;n.range=n._input.range=[n.l2r(y+(d[0]-y)*C),n.l2r(y+(d[1]-y)*C)],n.setScale()}},21994:function(V,B,e){var p=e(39898),L=e(84096).g0,n=e(71828),C=n.numberFormat,T=e(92770),d=n.cleanNumber,y=n.ms2DateTime,r=n.dateTime2ms,t=n.ensureNumber,i=n.isArrayOrTypedArray,a=e(50606),h=a.FP_SAFE,u=a.BADNUM,s=a.LOG_CLIP,m=a.ONEWEEK,f=a.ONEDAY,S=a.ONEHOUR,v=a.ONEMIN,l=a.ONESEC,g=e(41675),M=e(85555),A=M.HOUR_PATTERN,k=M.WEEKDAY_PATTERN;function w(b){return Math.pow(10,b)}function E(b){return b!=null}V.exports=function(o,P){P=P||{};var x=o._id||"x",z=x.charAt(0);function _($,ee){if($>0)return Math.log($)/Math.LN10;if($<=0&&ee&&o.range&&o.range.length===2){var le=o.range[0],Q=o.range[1];return .5*(le+Q-2*s*Math.abs(le-Q))}else return u}function G($,ee,le,Q){if((Q||{}).msUTC&&T($))return+$;var K=r($,le||o.calendar);if(K===u)if(T($)){$=+$;var ue=Math.floor(n.mod($+.05,1)*10),ie=Math.round($-ue/10);K=r(new Date(ie))+ue/10}else return u;return K}function F($,ee,le){return y($,ee,le||o.calendar)}function N($){return o._categories[Math.round($)]}function U($){if(E($)){if(o._categoriesMap===void 0&&(o._categoriesMap={}),o._categoriesMap[$]!==void 0)return o._categoriesMap[$];o._categories.push(typeof $=="number"?String($):$);var ee=o._categories.length-1;return o._categoriesMap[$]=ee,ee}return u}function O($,ee){for(var le=new Array(ee),Q=0;Q<ee;Q++){var K=($[0]||[])[Q],ue=($[1]||[])[Q];le[Q]=H([K,ue])}return le}function H($){if(o._categoriesMap)return o._categoriesMap[$]}function Y($){var ee=H($);if(ee!==void 0)return ee;if(T($))return+$}function q($){return T($)?+$:H($)}function ne($,ee,le){return p.round(le+ee*$,2)}function oe($,ee,le){return($-le)/ee}var he=function(ee){return T(ee)?ne(ee,o._m,o._b):u},J=function($){return oe($,o._m,o._b)};if(o.rangebreaks){var Z=z==="y";he=function($){if(!T($))return u;var ee=o._rangebreaks.length;if(!ee)return ne($,o._m,o._b);var le=Z;o.range[0]>o.range[1]&&(le=!le);for(var Q=le?-1:1,K=Q*$,ue=0,ie=0;ie<ee;ie++){var ce=Q*o._rangebreaks[ie].min,xe=Q*o._rangebreaks[ie].max;if(K<ce)break;if(K>xe)ue=ie+1;else{ue=K<(ce+xe)/2?ie:ie+1;break}}var Le=o._B[ue]||0;return isFinite(Le)?ne($,o._m2,Le):0},J=function($){var ee=o._rangebreaks.length;if(!ee)return oe($,o._m,o._b);for(var le=0,Q=0;Q<ee&&!($<o._rangebreaks[Q].pmin);Q++)$>o._rangebreaks[Q].pmax&&(le=Q+1);return oe($,o._m2,o._B[le])}}o.c2l=o.type==="log"?_:t,o.l2c=o.type==="log"?w:t,o.l2p=he,o.p2l=J,o.c2p=o.type==="log"?function($,ee){return he(_($,ee))}:he,o.p2c=o.type==="log"?function($){return w(J($))}:J,["linear","-"].indexOf(o.type)!==-1?(o.d2r=o.r2d=o.d2c=o.r2c=o.d2l=o.r2l=d,o.c2d=o.c2r=o.l2d=o.l2r=t,o.d2p=o.r2p=function($){return o.l2p(d($))},o.p2d=o.p2r=J,o.cleanPos=t):o.type==="log"?(o.d2r=o.d2l=function($,ee){return _(d($),ee)},o.r2d=o.r2c=function($){return w(d($))},o.d2c=o.r2l=d,o.c2d=o.l2r=t,o.c2r=_,o.l2d=w,o.d2p=function($,ee){return o.l2p(o.d2r($,ee))},o.p2d=function($){return w(J($))},o.r2p=function($){return o.l2p(d($))},o.p2r=J,o.cleanPos=t):o.type==="date"?(o.d2r=o.r2d=n.identity,o.d2c=o.r2c=o.d2l=o.r2l=G,o.c2d=o.c2r=o.l2d=o.l2r=F,o.d2p=o.r2p=function($,ee,le){return o.l2p(G($,0,le))},o.p2d=o.p2r=function($,ee,le){return F(J($),ee,le)},o.cleanPos=function($){return n.cleanDate($,u,o.calendar)}):o.type==="category"?(o.d2c=o.d2l=U,o.r2d=o.c2d=o.l2d=N,o.d2r=o.d2l_noadd=Y,o.r2c=function($){var ee=q($);return ee!==void 0?ee:o.fraction2r(.5)},o.l2r=o.c2r=t,o.r2l=q,o.d2p=function($){return o.l2p(o.r2c($))},o.p2d=function($){return N(J($))},o.r2p=o.d2p,o.p2r=J,o.cleanPos=function($){return typeof $=="string"&&$!==""?$:t($)}):o.type==="multicategory"&&(o.r2d=o.c2d=o.l2d=N,o.d2r=o.d2l_noadd=Y,o.r2c=function($){var ee=Y($);return ee!==void 0?ee:o.fraction2r(.5)},o.r2c_just_indices=H,o.l2r=o.c2r=t,o.r2l=Y,o.d2p=function($){return o.l2p(o.r2c($))},o.p2d=function($){return N(J($))},o.r2p=o.d2p,o.p2r=J,o.cleanPos=function($){return Array.isArray($)||typeof $=="string"&&$!==""?$:t($)},o.setupMultiCategory=function($){var ee=o._traceIndices,le,Q,K=o._matchGroup;if(K&&o._categories.length===0){for(var ue in K)if(ue!==x){var ie=P[g.id2name(ue)];ee=ee.concat(ie._traceIndices)}}var ce=[[0,{}],[0,{}]],xe=[];for(le=0;le<ee.length;le++){var Le=$[ee[le]];if(z in Le){var Ae=Le[z],Oe=Le._length||n.minRowLength(Ae);if(i(Ae[0])&&i(Ae[1]))for(Q=0;Q<Oe;Q++){var ze=Ae[0][Q],Ee=Ae[1][Q];E(ze)&&E(Ee)&&(xe.push([ze,Ee]),ze in ce[0][1]||(ce[0][1][ze]=ce[0][0]++),Ee in ce[1][1]||(ce[1][1][Ee]=ce[1][0]++))}}}for(xe.sort(function(be,Ce){var Ue=ce[0][1],He=Ue[be[0]]-Ue[Ce[0]];if(He)return He;var Ie=ce[1][1];return Ie[be[1]]-Ie[Ce[1]]}),le=0;le<xe.length;le++)U(xe[le])}),o.fraction2r=function($){var ee=o.r2l(o.range[0]),le=o.r2l(o.range[1]);return o.l2r(ee+$*(le-ee))},o.r2fraction=function($){var ee=o.r2l(o.range[0]),le=o.r2l(o.range[1]);return(o.r2l($)-ee)/(le-ee)},o.limitRange=function($){var ee=o.minallowed,le=o.maxallowed;if(!(ee===void 0&&le===void 0)){$||($="range");var Q=n.nestedProperty(o,$).get(),K=n.simpleMap(Q,o.r2l),ue=K[1]<K[0];ue&&K.reverse();var ie=n.simpleMap([ee,le],o.r2l);if(ee!==void 0&&K[0]<ie[0]&&(Q[ue?1:0]=ee),le!==void 0&&K[1]>ie[1]&&(Q[ue?0:1]=le),Q[0]===Q[1]){var ce=o.l2r(ee),xe=o.l2r(le);if(ee!==void 0){var Le=ce+1;le!==void 0&&(Le=Math.min(Le,xe)),Q[ue?1:0]=Le}if(le!==void 0){var Ae=xe+1;ee!==void 0&&(Ae=Math.max(Ae,ce)),Q[ue?0:1]=Ae}}}},o.cleanRange=function($,ee){o._cleanRange($,ee),o.limitRange($)},o._cleanRange=function($,ee){ee||(ee={}),$||($="range");var le=n.nestedProperty(o,$).get(),Q,K;if(o.type==="date"?K=n.dfltRange(o.calendar):z==="y"?K=M.DFLTRANGEY:o._name==="realaxis"?K=[0,1]:K=ee.dfltRange||M.DFLTRANGEX,K=K.slice(),(o.rangemode==="tozero"||o.rangemode==="nonnegative")&&(K[0]=0),!le||le.length!==2){n.nestedProperty(o,$).set(K);return}var ue=le[0]===null,ie=le[1]===null;for(o.type==="date"&&!o.autorange&&(le[0]=n.cleanDate(le[0],u,o.calendar),le[1]=n.cleanDate(le[1],u,o.calendar)),Q=0;Q<2;Q++)if(o.type==="date"){if(!n.isDateTime(le[Q],o.calendar)){o[$]=K;break}if(o.r2l(le[0])===o.r2l(le[1])){var ce=n.constrain(o.r2l(le[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);le[0]=o.l2r(ce-1e3),le[1]=o.l2r(ce+1e3);break}}else{if(!T(le[Q]))if(!(ue||ie)&&T(le[1-Q]))le[Q]=le[1-Q]*(Q?10:.1);else{o[$]=K;break}if(le[Q]<-h?le[Q]=-h:le[Q]>h&&(le[Q]=h),le[0]===le[1]){var xe=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=xe,le[1]+=xe}}},o.setScale=function($){var ee=P._size;if(o.overlaying){var le=g.getFromId({_fullLayout:P},o.overlaying);o.domain=le.domain}var Q=$&&o._r?"_r":"range",K=o.calendar;o.cleanRange(Q);var ue=o.r2l(o[Q][0],K),ie=o.r2l(o[Q][1],K),ce=z==="y";if(ce?(o._offset=ee.t+(1-o.domain[1])*ee.h,o._length=ee.h*(o.domain[1]-o.domain[0]),o._m=o._length/(ue-ie),o._b=-o._m*ie):(o._offset=ee.l+o.domain[0]*ee.w,o._length=ee.w*(o.domain[1]-o.domain[0]),o._m=o._length/(ie-ue),o._b=-o._m*ue),o._rangebreaks=[],o._lBreaks=0,o._m2=0,o._B=[],o.rangebreaks){var xe,Le;if(o._rangebreaks=o.locateBreaks(Math.min(ue,ie),Math.max(ue,ie)),o._rangebreaks.length){for(xe=0;xe<o._rangebreaks.length;xe++)Le=o._rangebreaks[xe],o._lBreaks+=Math.abs(Le.max-Le.min);var Ae=ce;ue>ie&&(Ae=!Ae),Ae&&o._rangebreaks.reverse();var Oe=Ae?-1:1;for(o._m2=Oe*o._length/(Math.abs(ie-ue)-o._lBreaks),o._B.push(-o._m2*(ce?ie:ue)),xe=0;xe<o._rangebreaks.length;xe++)Le=o._rangebreaks[xe],o._B.push(o._B[o._B.length-1]-Oe*o._m2*(Le.max-Le.min));for(xe=0;xe<o._rangebreaks.length;xe++)Le=o._rangebreaks[xe],Le.pmin=he(Le.min),Le.pmax=he(Le.max)}}if(!isFinite(o._m)||!isFinite(o._b)||o._length<0)throw P._replotting=!1,new Error("Something went wrong with axis scaling")},o.maskBreaks=function($){var ee=o.rangebreaks||[],le,Q,K,ue,ie;ee._cachedPatterns||(ee._cachedPatterns=ee.map(function(Ue){return Ue.enabled&&Ue.bounds?n.simpleMap(Ue.bounds,Ue.pattern?d:o.d2c):null})),ee._cachedValues||(ee._cachedValues=ee.map(function(Ue){return Ue.enabled&&Ue.values?n.simpleMap(Ue.values,o.d2c).sort(n.sorterAsc):null}));for(var ce=0;ce<ee.length;ce++){var xe=ee[ce];if(xe.enabled){if(xe.bounds){var Le=xe.pattern;switch(le=ee._cachedPatterns[ce],Q=le[0],K=le[1],Le){case k:ie=new Date($),ue=ie.getUTCDay(),Q>K&&(K+=7,ue<Q&&(ue+=7));break;case A:ie=new Date($);var Ae=ie.getUTCHours(),Oe=ie.getUTCMinutes(),ze=ie.getUTCSeconds(),Ee=ie.getUTCMilliseconds();ue=Ae+(Oe/60+ze/3600+Ee/36e5),Q>K&&(K+=24,ue<Q&&(ue+=24));break;case"":ue=$;break}if(ue>=Q&&ue<K)return u}else for(var be=ee._cachedValues[ce],Ce=0;Ce<be.length;Ce++)if(Q=be[Ce],K=Q+xe.dvalue,$>=Q&&$<K)return u}}return $},o.locateBreaks=function($,ee){var le,Q,K,ue,ie=[];if(!o.rangebreaks)return ie;var ce=o.rangebreaks.slice().sort(function(Ie,Ge){return Ie.pattern===k&&Ge.pattern===A?-1:Ge.pattern===k&&Ie.pattern===A?1:0}),xe=function(Ie,Ge){if(Ie=n.constrain(Ie,$,ee),Ge=n.constrain(Ge,$,ee),Ie!==Ge){for(var at=!0,lt=0;lt<ie.length;lt++){var qe=ie[lt];Ie<qe.max&&Ge>=qe.min&&(Ie<qe.min&&(qe.min=Ie),Ge>qe.max&&(qe.max=Ge),at=!1)}at&&ie.push({min:Ie,max:Ge})}};for(le=0;le<ce.length;le++){var Le=ce[le];if(Le.enabled)if(Le.bounds){var Ae=$,Oe=ee;Le.pattern&&(Ae=Math.floor(Ae)),Q=n.simpleMap(Le.bounds,Le.pattern?d:o.r2l),K=Q[0],ue=Q[1];var ze=new Date(Ae),Ee,be;switch(Le.pattern){case k:be=m,Ee=((ue<K?7:0)+(ue-K))*f,Ae+=K*f-(ze.getUTCDay()*f+ze.getUTCHours()*S+ze.getUTCMinutes()*v+ze.getUTCSeconds()*l+ze.getUTCMilliseconds());break;case A:be=f,Ee=((ue<K?24:0)+(ue-K))*S,Ae+=K*S-(ze.getUTCHours()*S+ze.getUTCMinutes()*v+ze.getUTCSeconds()*l+ze.getUTCMilliseconds());break;default:Ae=Math.min(Q[0],Q[1]),Oe=Math.max(Q[0],Q[1]),be=Oe-Ae,Ee=be}for(var Ce=Ae;Ce<Oe;Ce+=be)xe(Ce,Ce+Ee)}else for(var Ue=n.simpleMap(Le.values,o.d2c),He=0;He<Ue.length;He++)K=Ue[He],ue=K+Le.dvalue,xe(K,ue)}return ie.sort(function(Ie,Ge){return Ie.min-Ge.min}),ie},o.makeCalcdata=function($,ee,le){var Q,K,ue,ie,ce=o.type,xe=ce==="date"&&$[ee+"calendar"];if(ee in $){if(Q=$[ee],ie=$._length||n.minRowLength(Q),n.isTypedArray(Q)&&(ce==="linear"||ce==="log")){if(ie===Q.length)return Q;if(Q.subarray)return Q.subarray(0,ie)}if(ce==="multicategory")return O(Q,ie);for(K=new Array(ie),ue=0;ue<ie;ue++)K[ue]=o.d2c(Q[ue],0,xe,le)}else{var Le=ee+"0"in $?o.d2c($[ee+"0"],0,xe):0,Ae=$["d"+ee]?Number($["d"+ee]):1;for(Q=$[{x:"y",y:"x"}[ee]],ie=$._length||Q.length,K=new Array(ie),ue=0;ue<ie;ue++)K[ue]=Le+ue*Ae}if(o.rangebreaks)for(ue=0;ue<ie;ue++)K[ue]=o.maskBreaks(K[ue]);return K},o.isValidRange=function($,ee){return Array.isArray($)&&$.length===2&&(ee&&$[0]===null||T(o.r2l($[0])))&&(ee&&$[1]===null||T(o.r2l($[1])))},o.getAutorangeDflt=function($,ee){var le=!o.isValidRange($,"nullOk");return le&&ee&&ee.reverseDflt?le="reversed":$&&($[0]===null&&$[1]===null?le=!0:$[0]===null&&$[1]!==null?le="min":$[0]!==null&&$[1]===null&&(le="max")),le},o.isReversed=function(){var $=o.autorange;return $==="reversed"||$==="min reversed"||$==="max reversed"},o.isPtWithinRange=function($,ee){var le=o.c2l($[z],null,ee),Q=o.r2l(o.range[0]),K=o.r2l(o.range[1]);return Q<K?Q<=le&&le<=K:K<=le&&le<=Q},o._emptyCategories=function(){o._categories=[],o._categoriesMap={}},o.clearCalc=function(){var $=o._matchGroup;if($){var ee=null,le=null;for(var Q in $){var K=P[g.id2name(Q)];if(K._categories){ee=K._categories,le=K._categoriesMap;break}}ee&&le?(o._categories=ee,o._categoriesMap=le):o._emptyCategories()}else o._emptyCategories();if(o._initialCategories)for(var ue=0;ue<o._initialCategories.length;ue++)U(o._initialCategories[ue])},o.sortByInitialCategories=function(){var $=[];if(o._emptyCategories(),o._initialCategories)for(var ee=0;ee<o._initialCategories.length;ee++)U(o._initialCategories[ee]);$=$.concat(o._traceIndices);var le=o._matchGroup;for(var Q in le)if(x!==Q){var K=P[g.id2name(Q)];K._categories=o._categories,K._categoriesMap=o._categoriesMap,$=$.concat(K._traceIndices)}return $};var se=P._d3locale;o.type==="date"&&(o._dateFormat=se?se.timeFormat:L,o._extraFormat=P._extraFormat),o._separators=P.separators,o._numFormat=se?se.numberFormat:C,delete o._minDtick,delete o._forceTick0}},59652:function(V){V.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(C){return e[C]!==void 0}),n=function(C){return e[C]===e[L[0]]};if(L.every(n)||L.length===1)return e[L[0]]}},96115:function(V,B,e){var p=e(71828),L=e(7901).contrast,n=e(13838),C=e(59652),T=e(85501);V.exports=function(r,t,i,a,h){h||(h={});var u=i("labelalias");p.isPlainObject(u)||delete t.labelalias;var s=C(r),m=i("showticklabels");if(m){var f=h.font||{},S=t.color,v=t.ticklabelposition||"",l=v.indexOf("inside")!==-1?L(h.bgColor):S&&S!==n.color.dflt?S:f.color;if(p.coerceFont(i,"tickfont",{family:f.family,size:f.size,color:l}),!h.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&i("ticklabelstep"),h.noAng||i("tickangle"),a!=="category"){var g=i("tickformat");T(r,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),t.tickformatstops.length||delete t.tickformatstops,!h.noExp&&!g&&a!=="date"&&(i("showexponent",s),i("exponentformat"),i("minexponent"),i("separatethousands"))}}};function d(y,r){function t(a,h){return p.coerce(y,r,n.tickformatstops,a,h)}var i=t("enabled");i&&(t("dtickrange"),t("value"))}},38701:function(V,B,e){var p=e(71828),L=e(13838);V.exports=function(C,T,d,y){var r=y.isMinor,t=r?C.minor||{}:C,i=r?T.minor:T,a=r?L.minor:L,h=r?"minor.":"",u=p.coerce2(t,i,a,"ticklen",r?(T.ticklen||5)*.6:void 0),s=p.coerce2(t,i,a,"tickwidth",r?T.tickwidth||1:void 0),m=p.coerce2(t,i,a,"tickcolor",(r?T.tickcolor:void 0)||i.color),f=d(h+"ticks",!r&&y.outerTicks||u||s||m?"outside":"");f||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26218:function(V,B,e){var p=e(66287),L=e(71828).isArrayOrTypedArray,n=e(73627).isTypedArraySpec,C=e(73627).decodeTypedArraySpec;V.exports=function(d,y,r,t,i){i||(i={});var a=i.isMinor,h=a?d.minor||{}:d,u=a?y.minor:y,s=a?"minor.":"";function m(k){var w=h[k];return n(w)&&(w=C(w)),w!==void 0?w:(u._template||{})[k]}var f=m("tick0"),S=m("dtick"),v=m("tickvals"),l=L(v)?"array":S?"linear":"auto",g=r(s+"tickmode",l);if(g==="auto"||g==="sync")r(s+"nticks");else if(g==="linear"){var M=u.dtick=p.dtick(S,t);u.tick0=p.tick0(f,t,y.calendar,M)}else if(t!=="multicategory"){var A=r(s+"tickvals");A===void 0?u.tickmode="auto":a||r("ticktext")}}},66847:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=e(91424),T=e(89298);V.exports=function(y,r,t,i){var a=y._fullLayout;if(r.length===0){T.redrawComponents(y);return}function h(A){var k=A.xaxis,w=A.yaxis;a._defs.select("#"+A.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),A.plot.call(C.setTranslate,k._offset,w._offset).call(C.setScale,1,1);var E=A.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(C.setPointGroupScale,1,1),E.selectAll(".textpoint").call(C.setTextPointsScale,1,1),E.call(C.hideOutsideRangePoints,A)}function u(A,k){var w=A.plotinfo,E=w.xaxis,b=w.yaxis,o=E._length,P=b._length,x=!!A.xr1,z=!!A.yr1,_=[];if(x){var G=n.simpleMap(A.xr0,E.r2l),F=n.simpleMap(A.xr1,E.r2l),N=G[1]-G[0],U=F[1]-F[0];_[0]=(G[0]*(1-k)+k*F[0]-G[0])/(G[1]-G[0])*o,_[2]=o*(1-k+k*U/N),E.range[0]=E.l2r(G[0]*(1-k)+k*F[0]),E.range[1]=E.l2r(G[1]*(1-k)+k*F[1])}else _[0]=0,_[2]=o;if(z){var O=n.simpleMap(A.yr0,b.r2l),H=n.simpleMap(A.yr1,b.r2l),Y=O[1]-O[0],q=H[1]-H[0];_[1]=(O[1]*(1-k)+k*H[1]-O[1])/(O[0]-O[1])*P,_[3]=P*(1-k+k*q/Y),b.range[0]=E.l2r(O[0]*(1-k)+k*H[0]),b.range[1]=b.l2r(O[1]*(1-k)+k*H[1])}else _[1]=0,_[3]=P;T.drawOne(y,E,{skipTitle:!0}),T.drawOne(y,b,{skipTitle:!0}),T.redrawComponents(y,[E._id,b._id]);var ne=x?o/_[2]:1,oe=z?P/_[3]:1,he=x?_[0]:0,J=z?_[1]:0,Z=x?_[0]/_[2]*o:0,se=z?_[1]/_[3]*P:0,$=E._offset-Z,ee=b._offset-se;w.clipRect.call(C.setTranslate,he,J).call(C.setScale,1/ne,1/oe),w.plot.call(C.setTranslate,$,ee).call(C.setScale,ne,oe),C.setPointGroupScale(w.zoomScalePts,1/ne,1/oe),C.setTextPointsScale(w.zoomScaleTxt,1/ne,1/oe)}var s;i&&(s=i());function m(){for(var A={},k=0;k<r.length;k++){var w=r[k],E=w.plotinfo.xaxis,b=w.plotinfo.yaxis;w.xr1&&(A[E._name+".range"]=w.xr1.slice()),w.yr1&&(A[b._name+".range"]=w.yr1.slice())}return s&&s(),L.call("relayout",y,A).then(function(){for(var o=0;o<r.length;o++)h(r[o].plotinfo)})}function f(){for(var A={},k=0;k<r.length;k++){var w=r[k],E=w.plotinfo.xaxis,b=w.plotinfo.yaxis;w.xr0&&(A[E._name+".range"]=w.xr0.slice()),w.yr0&&(A[b._name+".range"]=w.yr0.slice())}return L.call("relayout",y,A).then(function(){for(var o=0;o<r.length;o++)h(r[o].plotinfo)})}var S,v,l,g=p.ease(t.easing);y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(l),l=null,f()});function M(){v=Date.now();for(var A=Math.min(1,(v-S)/t.duration),k=g(A),w=0;w<r.length;w++)u(r[w],k);v-S>t.duration?(m(),l=window.cancelAnimationFrame(M)):l=window.requestAnimationFrame(M)}return S=Date.now(),l=window.requestAnimationFrame(M),Promise.resolve()}},951:function(V,B,e){var p=e(73972).traceIs,L=e(4322);V.exports=function(r,t,i,a){i("autotypenumbers",a.autotypenumbersDflt);var h=i("type",(a.splomStash||{}).type);h==="-"&&(n(t,a.data),t.type==="-"?t.type="linear":r.type=t.type)};function n(y,r){if(y.type==="-"){var t=y._id,i=t.charAt(0),a;t.indexOf("scene")!==-1&&(t=i);var h=C(r,t,i);if(h){if(h.type==="histogram"&&i==={v:"y",h:"x"}[h.orientation||"v"]){y.type="linear";return}var u=i+"calendar",s=h[u],m={noMultiCategory:!p(h,"cartesian")||p(h,"noMultiCategory")};if(h.type==="box"&&h._hasPreCompStats&&i==={h:"x",v:"y"}[h.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=y.autotypenumbers,d(h,i)){var f=T(h),S=[];for(a=0;a<r.length;a++){var v=r[a];!p(v,"box-violin")||(v[i+"axis"]||i)!==t||(v[f]!==void 0?S.push(v[f][0]):v.name!==void 0?S.push(v.name):S.push("text"),v[u]!==s&&(s=void 0))}y.type=L(S,s,m)}else if(h.type==="splom"){var l=h.dimensions,g=l[h._axesDim[t]];g.visible&&(y.type=L(g.values,s,m))}else y.type=L(h[i]||[h[i+"0"]],s,m)}}}function C(y,r,t){for(var i=0;i<y.length;i++){var a=y[i];if(a.type==="splom"&&a._length>0&&(a["_"+t+"axes"]||{})[r])return a;if((a[t+"axis"]||t)===r){if(d(a,t))return a;if((a[t]||[]).length||a[t+"0"])return a}}}function T(y){return{v:"x",h:"y"}[y.orientation||"v"]}function d(y,r){var t=T(y),i=p(y,"box-violin"),a=p(y._fullInput||{},"candlestick");return i&&!a&&r===t&&y[t]===void 0&&y[t+"0"]===void 0}},31137:function(V,B,e){var p=e(73972),L=e(71828);B.manageCommandObserver=function(r,t,i,a){var h={},u=!0;t&&t._commandObserver&&(h=t._commandObserver),h.cache||(h.cache={}),h.lookupTable={};var s=B.hasSimpleAPICommandBindings(r,i,h.lookupTable);if(t&&t._commandObserver){if(s)return h;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,h}if(s){n(r,s,h.cache),h.check=function(){if(u){var v=n(r,s,h.cache);return v.changed&&a&&h.lookupTable[v.value]!==void 0&&(h.disable(),Promise.resolve(a({value:v.value,type:s.type,prop:s.prop,traces:s.traces,index:h.lookupTable[v.value]})).then(h.enable,h.enable)),v.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<m.length;f++)r._internalOn(m[f],h.check);h.remove=function(){for(var S=0;S<m.length;S++)r._removeInternalListener(m[S],h.check)}}else L.log("Unable to automatically bind plot updates to API command"),h.lookupTable={},h.remove=function(){};return h.disable=function(){u=!1},h.enable=function(){u=!0},t&&(t._commandObserver=h),h},B.hasSimpleAPICommandBindings=function(r,t,i){var a,h=t.length,u;for(a=0;a<h;a++){var s,m=t[a],f=m.method,S=m.args;if(Array.isArray(S)||(S=[]),!f)return!1;var v=B.computeAPICommandBindings(r,f,S);if(v.length!==1)return!1;if(!u)u=v[0],Array.isArray(u.traces)&&u.traces.sort();else{if(s=v[0],s.type!==u.type||s.prop!==u.prop)return!1;if(Array.isArray(u.traces))if(Array.isArray(s.traces)){s.traces.sort();for(var l=0;l<u.traces.length;l++)if(u.traces[l]!==s.traces[l])return!1}else return!1;else if(s.prop!==u.prop)return!1}s=v[0];var g=s.value;if(Array.isArray(g))if(g.length===1)g=g[0];else return!1;i&&(i[g]=a)}return u};function n(r,t,i){var a,h,u,s=!1;if(t.type==="data")a=r._fullData[t.traces!==null?t.traces[0]:0];else if(t.type==="layout")a=r._fullLayout;else return!1;return h=L.nestedProperty(a,t.prop).get(),u=i[t.type]=i[t.type]||{},u.hasOwnProperty(t.prop)&&u[t.prop]!==h&&(s=!0),u[t.prop]=h,{changed:s,value:h}}B.executeAPICommand=function(r,t,i){if(t==="skip")return Promise.resolve();var a=p.apiMethodRegistry[t],h=[r];Array.isArray(i)||(i=[]);for(var u=0;u<i.length;u++)h.push(i[u]);return a.apply(null,h).catch(function(s){return L.warn("API call to Plotly."+t+" rejected.",s),Promise.reject(s)})},B.computeAPICommandBindings=function(r,t,i){var a;switch(Array.isArray(i)||(i=[]),t){case"restyle":a=d(r,i);break;case"relayout":a=T(r,i);break;case"update":a=d(r,[i[0],i[2]]).concat(T(r,[i[1]]));break;case"animate":a=C(r,i);break;default:a=[]}return a};function C(r,t){return Array.isArray(t[0])&&t[0].length===1&&["string","number"].indexOf(typeof t[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function T(r,t){var i=[],a=t[0],h={};if(typeof a=="string")h[a]=t[1];else if(L.isPlainObject(a))h=a;else return i;return y(h,function(u,s,m){i.push({type:"layout",prop:u,value:m})},"",0),i}function d(r,t){var i,a,h,u,s=[];if(a=t[0],h=t[1],i=t[2],u={},typeof a=="string")u[a]=h;else if(L.isPlainObject(a))u=a,i===void 0&&(i=h);else return s;return i===void 0&&(i=null),y(u,function(m,f,S){var v,l;if(Array.isArray(S)){l=S.slice();var g=Math.min(l.length,r.data.length);i&&(g=Math.min(g,i.length)),v=[];for(var M=0;M<g;M++)v[M]=i?i[M]:M}else l=S,v=i?i.slice():null;if(v===null)Array.isArray(l)&&(l=l[0]);else if(Array.isArray(v)){if(!Array.isArray(l)){var A=l;l=[];for(var k=0;k<v.length;k++)l[k]=A}l.length=Math.min(v.length,l.length)}s.push({type:"data",prop:m,traces:v,value:l})},"",0),s}function y(r,t,i,a){Object.keys(r).forEach(function(h){var u=r[h];if(h[0]!=="_"){var s=i+(a>0?".":"")+h;L.isPlainObject(u)?y(u,t,s,a+1):t(s,h,u)}})}},27670:function(V,B,e){var p=e(1426).extendFlat;B.Y=function(L,n){L=L||{},n=n||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,n.description&&""+n.description;var T={x:p({},C,{}),y:p({},C,{}),editType:L.editType};return L.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:L.editType},T.column={valType:"integer",min:0,dflt:0,editType:L.editType}),T},B.c=function(L,n,C,T){var d=T&&T.x||[0,1],y=T&&T.y||[0,1],r=n.grid;if(r){var t=C("domain.column");t!==void 0&&(t<r.columns?d=r._domains.x[t]:delete L.domain.column);var i=C("domain.row");i!==void 0&&(i<r.rows?y=r._domains.y[i]:delete L.domain.row)}var a=C("domain.x",d),h=C("domain.y",y);a[0]<a[1]||(L.domain.x=d.slice()),h[0]<h[1]||(L.domain.y=y.slice())}},41940:function(V){V.exports=function(B){var e=B.editType,p=B.colorEditType;p===void 0&&(p=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:p},editType:e};return B.autoSize&&(L.size.dflt="auto"),B.autoColor&&(L.color.dflt="auto"),B.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},31391:function(V){V.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(V,B){B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(V,B,e){var p=e(39898),L=e(27362),n=L.geoPath,C=L.geoDistance,T=e(65704),d=e(73972),y=e(71828),r=y.strTranslate,t=e(7901),i=e(91424),a=e(30211),h=e(74875),u=e(89298),s=e(71739).getAutoRange,m=e(28569),f=e(47322).prepSelect,S=e(47322).clearOutline,v=e(47322).selectOnClick,l=e(74455),g=e(78776),M=e(41327),A=e(90973),k=e(96892).zL;function w(x){this.id=x.id,this.graphDiv=x.graphDiv,this.container=x.container,this.topojsonURL=x.topojsonURL,this.isStatic=x.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=w.prototype;V.exports=function(z){return new w(z)},E.plot=function(x,z,_,G){var F=this;if(G)return F.update(x,z,!0);F._geoCalcData=x,F._fullLayout=z;var N=z[this.id],U=[],O=!1;for(var H in g.layerNameToAdjective)if(H!=="frame"&&N["show"+H]){O=!0;break}for(var Y=!1,q=0;q<x.length;q++){var ne=x[0][0].trace;ne._geo=F,ne.locationmode&&(O=!0);var oe=ne.marker;if(oe){var he=oe.angle,J=oe.angleref;(he||J==="north"||J==="previous")&&(Y=!0)}}if(this._hasMarkerAngles=Y,O){var Z=A.getTopojsonName(N);(F.topojson===null||Z!==F.topojsonName)&&(F.topojsonName=Z,PlotlyGeoAssets.topojson[F.topojsonName]===void 0&&U.push(F.fetchTopojson()))}U=U.concat(M.fetchTraceGeoData(x)),_.push(new Promise(function(se,$){Promise.all(U).then(function(){F.topojson=PlotlyGeoAssets.topojson[F.topojsonName],F.update(x,z),se()}).catch($)}))},E.fetchTopojson=function(){var x=this,z=A.getTopojsonPath(x.topojsonURL,x.topojsonName);return new Promise(function(_,G){p.json(z,function(F,N){if(F)return F.status===404?G(new Error(["plotly.js could not find topojson file at",z+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):G(new Error(["unexpected error while fetching topojson file at",z].join(" ")));PlotlyGeoAssets.topojson[x.topojsonName]=N,_()})})},E.update=function(x,z,_){var G=z[this.id];this.hasChoropleth=!1;for(var F=0;F<x.length;F++){var N=x[F],U=N[0].trace;U.type==="choropleth"&&(this.hasChoropleth=!0),U.visible===!0&&U._length>0&&U._module.calcGeoJSON(N,z)}if(!_){var O=this.updateProjection(x,z);if(O)return;(!this.viewInitial||this.scope!==G.scope)&&this.saveViewInitial(G)}this.scope=G.scope,this.updateBaseLayers(z,G),this.updateDims(z,G),this.updateFx(z,G),h.generalUpdatePerTraceModule(this.graphDiv,this,x,G);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var Y=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Y.selectAll("path"),this._render()},E.updateProjection=function(x,z){var _=this.graphDiv,G=z[this.id],F=z._size,N=G.domain,U=G.projection,O=G.lonaxis,H=G.lataxis,Y=O._ax,q=H._ax,ne=this.projection=b(G),oe=[[F.l+F.w*N.x[0],F.t+F.h*(1-N.y[1])],[F.l+F.w*N.x[1],F.t+F.h*(1-N.y[0])]],he=G.center||{},J=U.rotation||{},Z=O.range||[],se=H.range||[];if(G.fitbounds){Y._length=oe[1][0]-oe[0][0],q._length=oe[1][1]-oe[0][1],Y.range=s(_,Y),q.range=s(_,q);var $=(Y.range[0]+Y.range[1])/2,ee=(q.range[0]+q.range[1])/2;if(G._isScoped)he={lon:$,lat:ee};else if(G._isClipped){he={lon:$,lat:ee},J={lon:$,lat:ee,roll:J.roll};var le=U.type,Q=g.lonaxisSpan[le]/2||180,K=g.lataxisSpan[le]/2||90;Z=[$-Q,$+Q],se=[ee-K,ee+K]}else he={lon:$,lat:ee},J={lon:$,lat:J.lat,roll:J.roll}}ne.center([he.lon-J.lon,he.lat-J.lat]).rotate([-J.lon,-J.lat,J.roll]).parallels(U.parallels);var ue=P(Z,se);ne.fitExtent(oe,ue);var ie=this.bounds=ne.getBounds(ue),ce=this.fitScale=ne.scale(),xe=ne.translate();if(G.fitbounds){var Le=ne.getBounds(P(Y.range,q.range)),Ae=Math.min((ie[1][0]-ie[0][0])/(Le[1][0]-Le[0][0]),(ie[1][1]-ie[0][1])/(Le[1][1]-Le[0][1]));isFinite(Ae)?ne.scale(Ae*ce):y.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ne.scale(U.scale*ce);var Oe=this.midPt=[(ie[0][0]+ie[1][0])/2,(ie[0][1]+ie[1][1])/2];if(ne.translate([xe[0]+(Oe[0]-xe[0]),xe[1]+(Oe[1]-xe[1])]).clipExtent(ie),G._isAlbersUsa){var ze=ne([he.lon,he.lat]),Ee=ne.translate();ne.translate([Ee[0]-(ze[0]-Ee[0]),Ee[1]-(ze[1]-Ee[1])])}},E.updateBaseLayers=function(x,z){var _=this,G=_.topojson,F=_.layers,N=_.basePaths;function U(oe){return oe==="lonaxis"||oe==="lataxis"}function O(oe){return!!g.lineLayers[oe]}function H(oe){return!!g.fillLayers[oe]}var Y=this.hasChoropleth?g.layersForChoropleth:g.layers,q=Y.filter(function(oe){return O(oe)||H(oe)?z["show"+oe]:U(oe)?z[oe].showgrid:!0}),ne=_.framework.selectAll(".layer").data(q,String);ne.exit().each(function(oe){delete F[oe],delete N[oe],p.select(this).remove()}),ne.enter().append("g").attr("class",function(oe){return"layer "+oe}).each(function(oe){var he=F[oe]=p.select(this);oe==="bg"?_.bgRect=he.append("rect").style("pointer-events","all"):U(oe)?N[oe]=he.append("path").style("fill","none"):oe==="backplot"?he.append("g").classed("choroplethlayer",!0):oe==="frontplot"?he.append("g").classed("scatterlayer",!0):O(oe)?N[oe]=he.append("path").style("fill","none").style("stroke-miterlimit",2):H(oe)&&(N[oe]=he.append("path").style("stroke","none"))}),ne.order(),ne.each(function(oe){var he=N[oe],J=g.layerNameToAdjective[oe];oe==="frame"?he.datum(g.sphereSVG):O(oe)||H(oe)?he.datum(k(G,G.objects[oe])):U(oe)&&he.datum(o(oe,z,x)).call(t.stroke,z[oe].gridcolor).call(i.dashLine,z[oe].griddash,z[oe].gridwidth),O(oe)?he.call(t.stroke,z[J+"color"]).call(i.dashLine,"",z[J+"width"]):H(oe)&&he.call(t.fill,z[J+"color"])})},E.updateDims=function(x,z){var _=this.bounds,G=(z.framewidth||0)/2,F=_[0][0]-G,N=_[0][1]-G,U=_[1][0]-F+G,O=_[1][1]-N+G;i.setRect(this.clipRect,F,N,U,O),this.bgRect.call(i.setRect,F,N,U,O).call(t.fill,z.bgcolor),this.xaxis._offset=F,this.xaxis._length=U,this.yaxis._offset=N,this.yaxis._length=O},E.updateFx=function(x,z){var _=this,G=_.graphDiv,F=_.bgRect,N=x.dragmode,U=x.clickmode;if(_.isStatic)return;function O(){var ne=_.viewInitial,oe={};for(var he in ne)oe[_.id+"."+he]=ne[he];d.call("_guiRelayout",G,oe),G.emit("plotly_doubleclick",null)}function H(ne){return _.projection.invert([ne[0]+_.xaxis._offset,ne[1]+_.yaxis._offset])}var Y=function(ne,oe){if(oe.isRect){var he=ne.range={};he[_.id]=[H([oe.xmin,oe.ymin]),H([oe.xmax,oe.ymax])]}else{var J=ne.lassoPoints={};J[_.id]=oe.map(H)}},q={element:_.bgRect.node(),gd:G,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:Y},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(ne){ne===2&&S(G)}};N==="pan"?(F.node().onmousedown=null,F.call(l(_,z)),F.on("dblclick.zoom",O),G._context._scrollZoom.geo||F.on("wheel.zoom",null)):(N==="select"||N==="lasso")&&(F.on(".zoom",null),q.prepFn=function(ne,oe,he){f(ne,oe,he,q,N)},m.init(q)),F.on("mousemove",function(){var ne=_.projection.invert(y.getPositionFromD3Event());if(!ne)return m.unhover(G,p.event);_.xaxis.p2c=function(){return ne[0]},_.yaxis.p2c=function(){return ne[1]},a.hover(G,p.event,_.id)}),F.on("mouseout",function(){G._dragging||m.unhover(G,p.event)}),F.on("click",function(){N!=="select"&&N!=="lasso"&&(U.indexOf("select")>-1&&v(p.event,G,[_.xaxis],[_.yaxis],_.id,q),U.indexOf("event")>-1&&a.click(G,p.event))})},E.makeFramework=function(){var x=this,z=x.graphDiv,_=z._fullLayout,G="clip"+_._uid+x.id;x.clipDef=_._clips.append("clipPath").attr("id",G),x.clipRect=x.clipDef.append("rect"),x.framework=p.select(x.container).append("g").attr("class","geo "+x.id).call(i.setClipUrl,G,z),x.project=function(F){var N=x.projection(F);return N?[N[0]-x.xaxis._offset,N[1]-x.yaxis._offset]:[null,null]},x.xaxis={_id:"x",c2p:function(F){return x.project(F)[0]}},x.yaxis={_id:"y",c2p:function(F){return x.project(F)[1]}},x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},u.setConvert(x.mockAxis,_)},E.saveViewInitial=function(x){var z=x.center||{},_=x.projection,G=_.rotation||{};this.viewInitial={fitbounds:x.fitbounds,"projection.scale":_.scale};var F;x._isScoped?F={"center.lon":z.lon,"center.lat":z.lat}:x._isClipped?F={"projection.rotation.lon":G.lon,"projection.rotation.lat":G.lat}:F={"center.lon":z.lon,"center.lat":z.lat,"projection.rotation.lon":G.lon},y.extendFlat(this.viewInitial,F)},E.render=function(x){this._hasMarkerAngles&&x?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var x=this.projection,z=x.getPath(),_;function G(N){var U=x(N.lonlat);return U?r(U[0],U[1]):null}function F(N){return x.isLonLatOverEdges(N.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",z);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(N){return z(N.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",F).attr("transform",G)};function b(x){var z=x.projection,_=z.type,G=g.projNames[_];G="geo"+y.titleCase(G);for(var F=L[G]||T[G],N=F(),U=x._isSatellite?Math.acos(1/z.distance)*180/Math.PI:x._isClipped?g.lonaxisSpan[_]/2:null,O=["center","rotate","parallels","clipExtent"],H=function(ne){return ne?N:[]},Y=0;Y<O.length;Y++){var q=O[Y];typeof N[q]!="function"&&(N[q]=H)}return N.isLonLatOverEdges=function(ne){if(N(ne)===null)return!0;if(U){var oe=N.rotate(),he=C(ne,[-oe[0],-oe[1]]),J=U*Math.PI/180;return he>J}else return!1},N.getPath=function(){return n().projection(N)},N.getBounds=function(ne){return N.getPath().bounds(ne)},N.precision(g.precision),x._isSatellite&&N.tilt(z.tilt).distance(z.distance),U&&N.clipAngle(U-g.clipPad),N}function o(x,z,_){var G=1e-6,F=2.5,N=z[x],U=g.scopeDefaults[z.scope],O,H,Y;x==="lonaxis"?(O=U.lonaxisRange,H=U.lataxisRange,Y=function(ee,le){return[ee,le]}):x==="lataxis"&&(O=U.lataxisRange,H=U.lonaxisRange,Y=function(ee,le){return[le,ee]});var q={type:"linear",range:[O[0],O[1]-G],tick0:N.tick0,dtick:N.dtick};u.setConvert(q,_);var ne=u.calcTicks(q);!z.isScoped&&x==="lonaxis"&&ne.pop();for(var oe=ne.length,he=new Array(oe),J=0;J<oe;J++)for(var Z=ne[J].x,se=he[J]=[],$=H[0];$<H[1]+F;$+=F)se.push(Y(Z,$));return{type:"MultiLineString",coordinates:he}}function P(x,z){var _=g.clipPad,G=x[0]+_,F=x[1]-_,N=z[0]+_,U=z[1]-_;G>0&&F<0&&(F+=360);var O=(F-G)/4;return{type:"Polygon",coordinates:[[[G,N],[G,U],[G+O,U],[G+2*O,U],[G+3*O,U],[F,U],[F,N],[F-O,N],[F-2*O,N],[F-3*O,N],[G,N]]]}}},44622:function(V,B,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(69082),C="geo",T=L(C),d={};d[C]={valType:"subplotid",dflt:C,editType:"calc"};function y(i){for(var a=i._fullLayout,h=i.calcdata,u=a._subplots[C],s=0;s<u.length;s++){var m=u[s],f=p(h,C,m),S=a[m],v=S._subplot;v||(v=n({id:m,graphDiv:i,container:a._geolayer.node(),topojsonURL:i._context.topojsonURL,staticPlot:i._context.staticPlot}),a[m]._subplot=v),v.plot(f,a,i._promises)}}function r(i,a,h,u){for(var s=u._subplots[C]||[],m=0;m<s.length;m++){var f=s[m],S=u[f]._subplot;!a[f]&&S&&(S.framework.remove(),S.clipDef.remove())}}function t(i){for(var a=i._fullLayout,h=a._subplots[C],u=0;u<h.length;u++){var s=a[h[u]],m=s._subplot;m.updateFx(a,s)}}V.exports={attr:C,name:C,idRoot:C,idRegex:T,attrRegex:T,attributes:d,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:y,updateFx:t,clean:r}},77519:function(V,B,e){var p=e(22399),L=e(27670).Y,n=e(79952).P,C=e(78776),T=e(30962).overrideAll,d=e(78607),y={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},r=V.exports=T({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:d(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:d(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:y,lataxis:y},"plot","from-root");r.uirevision={valType:"any",editType:"none"}},82161:function(V,B,e){var p=e(71828),L=e(49119),n=e(27659).NG,C=e(78776),T=e(77519),d=C.axesNames;V.exports=function(t,i,a){L(t,i,a,{type:"geo",attributes:T,handleDefaults:y,fullData:a,partition:"y"})};function y(r,t,i,a){var h=n(a.fullData,"geo",a.id),u=h.map(function(se){return se._expandedIndex}),s=i("resolution"),m=i("scope"),f=C.scopeDefaults[m],S=i("projection.type",f.projType),v=t._isAlbersUsa=S==="albers usa";v&&(m=t.scope="usa");var l=t._isScoped=m!=="world",g=t._isSatellite=S==="satellite",M=t._isConic=S.indexOf("conic")!==-1||S==="albers",A=t._isClipped=!!C.lonaxisSpan[S];if(r.visible===!1){var k=p.extendDeep({},t._template);k.showcoastlines=!1,k.showcountries=!1,k.showframe=!1,k.showlakes=!1,k.showland=!1,k.showocean=!1,k.showrivers=!1,k.showsubunits=!1,k.lonaxis&&(k.lonaxis.showgrid=!1),k.lataxis&&(k.lataxis.showgrid=!1),t._template=k}for(var w=i("visible"),E,b=0;b<d.length;b++){var o=d[b],P=[30,10][b],x;if(l)x=f[o+"Range"];else{var z=C[o+"Span"],_=(z[S]||z["*"])/2,G=i("projection.rotation."+o.substr(0,3),f.projRotate[b]);x=[G-_,G+_]}var F=i(o+".range",x);i(o+".tick0"),i(o+".dtick",P),E=i(o+".showgrid",w?void 0:!1),E&&(i(o+".gridcolor"),i(o+".gridwidth"),i(o+".griddash")),t[o]._ax={type:"linear",_id:o.slice(0,3),_traceIndices:u,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:F.slice(),_m:1,_input:{}}}var N=t.lonaxis.range,U=t.lataxis.range,O=N[0],H=N[1];O>0&&H<0&&(H+=360);var Y=(O+H)/2,q;if(!v){var ne=l?f.projRotate:[Y,0,0];q=i("projection.rotation.lon",ne[0]),i("projection.rotation.lat",ne[1]),i("projection.rotation.roll",ne[2]),E=i("showcoastlines",!l&&w),E&&(i("coastlinecolor"),i("coastlinewidth")),E=i("showocean",w?void 0:!1),E&&i("oceancolor")}var oe,he;if(v?(oe=-96.6,he=38.7):(oe=l?Y:q,he=(U[0]+U[1])/2),i("center.lon",oe),i("center.lat",he),g&&(i("projection.tilt"),i("projection.distance")),M){var J=f.projParallels||[0,60];i("projection.parallels",J)}i("projection.scale"),E=i("showland",w?void 0:!1),E&&i("landcolor"),E=i("showlakes",w?void 0:!1),E&&i("lakecolor"),E=i("showrivers",w?void 0:!1),E&&(i("rivercolor"),i("riverwidth")),E=i("showcountries",l&&m!=="usa"&&w),E&&(i("countrycolor"),i("countrywidth")),(m==="usa"||m==="north america"&&s===50)&&(i("showsubunits",w),i("subunitcolor"),i("subunitwidth")),l||(E=i("showframe",w),E&&(i("framecolor"),i("framewidth"))),i("bgcolor");var Z=i("fitbounds");Z&&(delete t.projection.scale,l?(delete t.center.lon,delete t.center.lat):A?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}},74455:function(V,B,e){var p=e(39898),L=e(71828),n=e(73972),C=Math.PI/180,T=180/Math.PI,d={cursor:"pointer"},y={cursor:"auto"};function r(o,P){var x=o.projection,z;return P._isScoped?z=a:P._isClipped?z=u:z=h,z(o,x)}V.exports=r;function t(o,P){return p.behavior.zoom().translate(P.translate()).scale(P.scale())}function i(o,P,x){var z=o.id,_=o.graphDiv,G=_.layout,F=G[z],N=_._fullLayout,U=N[z],O={},H={};function Y(q,ne){O[z+"."+q]=L.nestedProperty(F,q).get(),n.call("_storeDirectGUIEdit",G,N._preGUI,O);var oe=L.nestedProperty(U,q);oe.get()!==ne&&(oe.set(ne),L.nestedProperty(F,q).set(ne),H[z+"."+q]=ne)}x(Y),Y("projection.scale",P.scale()/o.fitScale),Y("fitbounds",!1),_.emit("plotly_relayout",H)}function a(o,P){var x=t(o,P);function z(){p.select(this).style(d)}function _(){P.scale(p.event.scale).translate(p.event.translate),o.render(!0);var N=P.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/o.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1]})}function G(N){var U=P.invert(o.midPt);N("center.lon",U[0]),N("center.lat",U[1])}function F(){p.select(this).style(y),i(o,P,G)}return x.on("zoomstart",z).on("zoom",_).on("zoomend",F),x}function h(o,P){var x=t(o,P),z=2,_,G,F,N,U,O,H,Y,q;function ne($){return P.invert($)}function oe($){var ee=ne($);if(!ee)return!0;var le=P(ee);return Math.abs(le[0]-$[0])>z||Math.abs(le[1]-$[1])>z}function he(){p.select(this).style(d),_=p.mouse(this),G=P.rotate(),F=P.translate(),N=G,U=ne(_)}function J(){if(O=p.mouse(this),oe(_)){x.scale(P.scale()),x.translate(P.translate());return}P.scale(p.event.scale),P.translate([F[0],p.event.translate[1]]),U?ne(O)&&(Y=ne(O),H=[N[0]+(Y[0]-U[0]),G[1],G[2]],P.rotate(H),N=H):(_=O,U=ne(_)),q=!0,o.render(!0);var $=P.rotate(),ee=P.invert(o.midPt);o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/o.fitScale,"geo.center.lon":ee[0],"geo.center.lat":ee[1],"geo.projection.rotation.lon":-$[0]})}function Z(){p.select(this).style(y),q&&i(o,P,se)}function se($){var ee=P.rotate(),le=P.invert(o.midPt);$("projection.rotation.lon",-ee[0]),$("center.lon",le[0]),$("center.lat",le[1])}return x.on("zoomstart",he).on("zoom",J).on("zoomend",Z),x}function u(o,P){P.rotate(),P.scale();var x=t(o,P),z=b(x,"zoomstart","zoom","zoomend"),_=0,G=x.on,F;x.on("zoomstart",function(){p.select(this).style(d);var Y=p.mouse(this),q=P.rotate(),ne=q,oe=P.translate(),he=m(q);F=s(P,Y),G.call(x,"zoom",function(){var J=p.mouse(this);if(P.scale(p.event.scale),!F)Y=J,F=s(P,Y);else if(s(P,J)){P.rotate(q).translate(oe);var Z=s(P,J),se=S(F,Z),$=A(f(he,se)),ee=v($,F,ne);(!isFinite(ee[0])||!isFinite(ee[1])||!isFinite(ee[2]))&&(ee=ne),P.rotate(ee),ne=ee}U(z.of(this,arguments))}),N(z.of(this,arguments))}).on("zoomend",function(){p.select(this).style(y),G.call(x,"zoom",null),O(z.of(this,arguments)),i(o,P,H)}).on("zoom.redraw",function(){o.render(!0);var Y=P.rotate();o.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":P.scale()/o.fitScale,"geo.projection.rotation.lon":-Y[0],"geo.projection.rotation.lat":-Y[1]})});function N(Y){_++||Y({type:"zoomstart"})}function U(Y){Y({type:"zoom"})}function O(Y){--_||Y({type:"zoomend"})}function H(Y){var q=P.rotate();Y("projection.rotation.lon",-q[0]),Y("projection.rotation.lat",-q[1])}return p.rebind(x,z,"on")}function s(o,P){var x=o.invert(P);return x&&isFinite(x[0])&&isFinite(x[1])&&k(x)}function m(o){var P=.5*o[0]*C,x=.5*o[1]*C,z=.5*o[2]*C,_=Math.sin(P),G=Math.cos(P),F=Math.sin(x),N=Math.cos(x),U=Math.sin(z),O=Math.cos(z);return[G*N*O+_*F*U,_*N*O-G*F*U,G*F*O+_*N*U,G*N*U-_*F*O]}function f(o,P){var x=o[0],z=o[1],_=o[2],G=o[3],F=P[0],N=P[1],U=P[2],O=P[3];return[x*F-z*N-_*U-G*O,x*N+z*F+_*O-G*U,x*U-z*O+_*F+G*N,x*O+z*U-_*N+G*F]}function S(o,P){if(!(!o||!P)){var x=E(o,P),z=Math.sqrt(w(x,x)),_=.5*Math.acos(Math.max(-1,Math.min(1,w(o,P)))),G=Math.sin(_)/z;return z&&[Math.cos(_),x[2]*G,-x[1]*G,x[0]*G]}}function v(o,P,x){var z=M(P,2,o[0]);z=M(z,1,o[1]),z=M(z,0,o[2]-x[2]);var _=P[0],G=P[1],F=P[2],N=z[0],U=z[1],O=z[2],H=Math.atan2(G,_)*T,Y=Math.sqrt(_*_+G*G),q,ne;Math.abs(U)>Y?(ne=(U>0?90:-90)-H,q=0):(ne=Math.asin(U/Y)*T-H,q=Math.sqrt(Y*Y-U*U));var oe=180-ne-2*H,he=(Math.atan2(O,N)-Math.atan2(F,q))*T,J=(Math.atan2(O,N)-Math.atan2(F,-q))*T,Z=l(x[0],x[1],ne,he),se=l(x[0],x[1],oe,J);return Z<=se?[ne,he,x[2]]:[oe,J,x[2]]}function l(o,P,x,z){var _=g(x-o),G=g(z-P);return Math.sqrt(_*_+G*G)}function g(o){return(o%360+540)%360-180}function M(o,P,x){var z=x*C,_=o.slice(),G=P===0?1:0,F=P===2?1:2,N=Math.cos(z),U=Math.sin(z);return _[G]=o[G]*N-o[F]*U,_[F]=o[F]*N+o[G]*U,_}function A(o){return[Math.atan2(2*(o[0]*o[1]+o[2]*o[3]),1-2*(o[1]*o[1]+o[2]*o[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(o[0]*o[2]-o[3]*o[1]))))*T,Math.atan2(2*(o[0]*o[3]+o[1]*o[2]),1-2*(o[2]*o[2]+o[3]*o[3]))*T]}function k(o){var P=o[0]*C,x=o[1]*C,z=Math.cos(x);return[z*Math.cos(P),z*Math.sin(P),Math.sin(x)]}function w(o,P){for(var x=0,z=0,_=o.length;z<_;++z)x+=o[z]*P[z];return x}function E(o,P){return[o[1]*P[2]-o[2]*P[1],o[2]*P[0]-o[0]*P[2],o[0]*P[1]-o[1]*P[0]]}function b(o){for(var P=0,x=arguments.length,z=[];++P<x;)z.push(arguments[P]);var _=p.dispatch.apply(null,z);return _.of=function(G,F){return function(N){var U;try{U=N.sourceEvent=p.event,N.target=o,p.event=N,_[N.type].apply(G,F)}finally{p.event=U}}},_}},27659:function(V,B,e){var p=e(73972),L=e(85555).SUBPLOT_PATTERN;B.AU=function(n,C,T){var d=p.subplotsRegistry[C];if(!d)return[];for(var y=d.attr,r=[],t=0;t<n.length;t++){var i=n[t],a=i[0].trace;a[y]===T&&r.push(i)}return r},B.a0=function(n,C){var T=[],d=[],y;if(typeof C=="string"?y=p.getModule(C).plot:typeof C=="function"?y=C:y=C.plot,!y)return[T,n];for(var r=0;r<n.length;r++){var t=n[r],i=t[0].trace;i.visible!==!0||i._length===0||(i._module&&i._module.plot===y?T.push(t):d.push(t))}return[T,d]},B.NG=function(C,T,d){if(!p.subplotsRegistry[T])return[];var y=p.subplotsRegistry[T].attr,r=[],t,i,a;if(T==="gl2d"){var h=d.match(L);i="x"+h[1],a="y"+h[2]}for(var u=0;u<C.length;u++)t=C[u],T==="gl2d"&&p.traceIs(t,"gl2d")?t[y[0]]===i&&t[y[1]]===a&&r.push(t):t[y]===d&&r.push(t);return r}},75071:function(V,B,e){var p=e(16825),L=e(1195),n=e(48956),C=e(85555),T=e(38520);V.exports=y;function d(r,t){this.element=r,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function y(r){var t=r.mouseContainer,i=r.glplot,a=new d(t,i);function h(){r.xaxis.autorange=!1,r.yaxis.autorange=!1}function u(){for(var m=r.graphDiv._fullLayout._axisConstraintGroups,f=r.xaxis._id,S=r.yaxis._id,v=0;v<m.length;v++)if(m[v][f]!==-1){if(m[v][S]!==-1)return!0;break}return!1}a.mouseListener=p(t,s),t.addEventListener("touchstart",function(m){var f=n(m.changedTouches[0],t);s(0,f[0],f[1]),s(1,f[0],f[1]),m.preventDefault()},T?{passive:!1}:!1),t.addEventListener("touchmove",function(m){m.preventDefault();var f=n(m.changedTouches[0],t);s(1,f[0],f[1]),m.preventDefault()},T?{passive:!1}:!1),t.addEventListener("touchend",function(m){s(0,a.lastPos[0],a.lastPos[1]),m.preventDefault()},T?{passive:!1}:!1);function s(m,f,S){var v=r.calcDataBox(),l=i.viewBox,g=a.lastPos[0],M=a.lastPos[1],A=C.MINDRAG*i.pixelRatio,k=C.MINZOOM*i.pixelRatio,w,E;f*=i.pixelRatio,S*=i.pixelRatio,S=l[3]-l[1]-S;function b(G,F,N){var U=Math.min(F,N),O=Math.max(F,N);U!==O?(v[G]=U,v[G+2]=O,a.dataBox=v,r.setRanges(v)):(r.selectBox.selectBox=[0,0,1,1],r.glplot.setDirty())}switch(r.fullLayout.dragmode){case"zoom":if(m){var o=f/(l[2]-l[0])*(v[2]-v[0])+v[0],P=S/(l[3]-l[1])*(v[3]-v[1])+v[1];a.boxInited||(a.boxStart[0]=o,a.boxStart[1]=P,a.dragStart[0]=f,a.dragStart[1]=S),a.boxEnd[0]=o,a.boxEnd[1]=P,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var x=Math.abs(a.dragStart[0]-f)<k,z=Math.abs(a.dragStart[1]-S)<k;if(u()&&!(x&&z)){w=a.boxEnd[0]-a.boxStart[0],E=a.boxEnd[1]-a.boxStart[1];var _=(v[3]-v[1])/(v[2]-v[0]);Math.abs(w*_)>Math.abs(E)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(w)*_*(E>=0?1:-1),a.boxEnd[1]<v[1]?(a.boxEnd[1]=v[1],a.boxEnd[0]=a.boxStart[0]+(v[1]-a.boxStart[1])/Math.abs(_)):a.boxEnd[1]>v[3]&&(a.boxEnd[1]=v[3],a.boxEnd[0]=a.boxStart[0]+(v[3]-a.boxStart[1])/Math.abs(_))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(E)/_*(w>=0?1:-1),a.boxEnd[0]<v[0]?(a.boxEnd[0]=v[0],a.boxEnd[1]=a.boxStart[1]+(v[0]-a.boxStart[0])*Math.abs(_)):a.boxEnd[0]>v[2]&&(a.boxEnd[0]=v[2],a.boxEnd[1]=a.boxStart[1]+(v[2]-a.boxStart[0])*Math.abs(_)))}else x&&(a.boxEnd[0]=a.boxStart[0]),z&&(a.boxEnd[1]=a.boxStart[1])}else a.boxEnabled?(w=a.boxStart[0]!==a.boxEnd[0],E=a.boxStart[1]!==a.boxEnd[1],w||E?(w&&(b(0,a.boxStart[0],a.boxEnd[0]),r.xaxis.autorange=!1),E&&(b(1,a.boxStart[1],a.boxEnd[1]),r.yaxis.autorange=!1),r.relayoutCallback()):r.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,m?(a.panning||(a.dragStart[0]=f,a.dragStart[1]=S),Math.abs(a.dragStart[0]-f)<A&&(f=a.dragStart[0]),Math.abs(a.dragStart[1]-S)<A&&(S=a.dragStart[1]),w=(g-f)*(v[2]-v[0])/(i.viewBox[2]-i.viewBox[0]),E=(M-S)*(v[3]-v[1])/(i.viewBox[3]-i.viewBox[1]),v[0]+=w,v[2]+=w,v[1]+=E,v[3]+=E,r.setRanges(v),a.panning=!0,a.lastInputTime=Date.now(),h(),r.cameraChanged(),r.handleAnnotations()):a.panning&&(a.panning=!1,r.relayoutCallback());break}a.lastPos[0]=f,a.lastPos[1]=S}return a.wheelListener=L(t,function(m,f){if(!r.scrollZoom)return!1;var S=r.calcDataBox(),v=i.viewBox,l=a.lastPos[0],g=a.lastPos[1],M=Math.exp(5*f/(v[3]-v[1])),A=l/(v[2]-v[0])*(S[2]-S[0])+S[0],k=g/(v[3]-v[1])*(S[3]-S[1])+S[1];return S[0]=(S[0]-A)*M+A,S[2]=(S[2]-A)*M+A,S[1]=(S[1]-k)*M+k,S[3]=(S[3]-k)*M+k,r.setRanges(S),a.lastInputTime=Date.now(),h(),r.cameraChanged(),r.handleAnnotations(),r.relayoutCallback(),!0},!0),a}},82961:function(V,B,e){var p=e(89298),L=e(78614);function n(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=n.prototype,T=["xaxis","yaxis"];C.merge=function(y){this.titleEnable=!1,this.backgroundColor=L(y.plot_bgcolor);var r,t,i,a,h,u,s,m,f,S,v;for(S=0;S<2;++S){r=T[S];var l=r.charAt(0);for(t=y[this.scene[r]._name],i=t.title.text===this.scene.fullLayout._dfltTitle[l]?"":t.title.text,v=0;v<=2;v+=2)this.labelEnable[S+v]=!1,this.labels[S+v]=i,this.labelColor[S+v]=L(t.title.font.color),this.labelFont[S+v]=t.title.font.family,this.labelSize[S+v]=t.title.font.size,this.labelPad[S+v]=this.getLabelPad(r,t),this.tickEnable[S+v]=!1,this.tickColor[S+v]=L((t.tickfont||{}).color),this.tickAngle[S+v]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[S+v]=this.getTickPad(t),this.tickMarkLength[S+v]=0,this.tickMarkWidth[S+v]=t.tickwidth||0,this.tickMarkColor[S+v]=L(t.tickcolor),this.borderLineEnable[S+v]=!1,this.borderLineColor[S+v]=L(t.linecolor),this.borderLineWidth[S+v]=t.linewidth||0;s=this.hasSharedAxis(t),h=this.hasAxisInDfltPos(r,t)&&!s,u=this.hasAxisInAltrPos(r,t)&&!s,a=t.mirror||!1,m=s?String(a).indexOf("all")!==-1:!!a,f=s?a==="allticks":String(a).indexOf("ticks")!==-1,h?this.labelEnable[S]=!0:u&&(this.labelEnable[S+2]=!0),h?this.tickEnable[S]=t.showticklabels:u&&(this.tickEnable[S+2]=t.showticklabels),(h||m)&&(this.borderLineEnable[S]=t.showline),(u||m)&&(this.borderLineEnable[S+2]=t.showline),(h||f)&&(this.tickMarkLength[S]=this.getTickMarkLength(t)),(u||f)&&(this.tickMarkLength[S+2]=this.getTickMarkLength(t)),this.gridLineEnable[S]=t.showgrid,this.gridLineColor[S]=L(t.gridcolor),this.gridLineWidth[S]=t.gridwidth,this.zeroLineEnable[S]=t.zeroline,this.zeroLineColor[S]=L(t.zerolinecolor),this.zeroLineWidth[S]=t.zerolinewidth}},C.hasSharedAxis=function(y){var r=this.scene,t=r.fullLayout._subplots.gl2d,i=p.findSubplotsWithAxis(t,y);return i.indexOf(r.id)!==0},C.hasAxisInDfltPos=function(y,r){var t=r.side;if(y==="xaxis")return t==="bottom";if(y==="yaxis")return t==="left"},C.hasAxisInAltrPos=function(y,r){var t=r.side;if(y==="xaxis")return t==="top";if(y==="yaxis")return t==="right"},C.getLabelPad=function(y,r){var t=1.5,i=r.title.font.size,a=r.showticklabels;if(y==="xaxis")return r.side==="top"?-10+i*(t+(a?1:0)):-10+i*(t+(a?.5:0));if(y==="yaxis")return r.side==="right"?10+i*(t+(a?1:.5)):10+i*(t+(a?.5:0))},C.getTickPad=function(y){return y.ticks==="outside"?10+y.ticklen:15},C.getTickMarkLength=function(y){if(!y.ticks)return 0;var r=y.ticklen;return y.ticks==="inside"?-r:r};function d(y){return new n(y)}V.exports=d},4796:function(V,B,e){var p=e(30962).overrideAll,L=e(92918),n=e(10820),C=e(77922),T=e(85555),d=e(93612),y=e(528),r=e(27659).NG;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=T.idRegex,B.attrRegex=T.attrRegex,B.attributes=e(89502),B.supplyLayoutDefaults=function(t,i,a){i._has("cartesian")||d.supplyLayoutDefaults(t,i,a)},B.layoutAttrOverrides=p(d.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=p({plot_bgcolor:n.plot_bgcolor,hoverlabel:y.hoverlabel},"plot","nested"),B.plot=function(i){for(var a=i._fullLayout,h=i._fullData,u=a._subplots.gl2d,s=0;s<u.length;s++){var m=u[s],f=a._plots[m],S=r(h,"gl2d",m),v=f._scene2d;v===void 0&&(v=new L({id:m,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},a),f._scene2d=v),v.plot(S,i.calcdata,a,i.layout)}},B.clean=function(t,i,a,h){for(var u=h._subplots.gl2d||[],s=0;s<u.length;s++){var m=u[s],f=h._plots[m];if(f._scene2d){var S=r(t,"gl2d",m);S.length===0&&(f._scene2d.destroy(),delete h._plots[m])}}d.clean.apply(this,arguments)},B.drawFramework=function(t){t._context.staticPlot||d.drawFramework(t)},B.toSVG=function(t){for(var i=t._fullLayout,a=i._subplots.gl2d,h=0;h<a.length;h++){var u=i._plots[a[h]],s=u._scene2d,m=s.toImage("png"),f=i._glimages.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),s.destroy()}},B.updateFx=function(t){for(var i=t._fullLayout,a=i._subplots.gl2d,h=0;h<a.length;h++){var u=i._plots[a[h]]._scene2d;u.updateFx(i.dragmode)}}},92918:function(V,B,e){var p=e(73972),L=e(89298),n=e(30211),C=e(9330).gl_plot2d,T=e(9330).gl_spikes2d,d=e(9330).gl_select_box,y=e(40372),r=e(82961),t=e(75071),i=e(58617),a=e(99082),h=a.enforce,u=a.clean,s=e(71739).doAutoRange,m=e(64505),f=m.drawMode,S=m.selectMode,v=["xaxis","yaxis"],l,g,M=e(85555).SUBPLOT_PATTERN;function A(E,b){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(b),this.makeFramework(),!this.stopped&&(this.glplotOptions=r(this),this.glplotOptions.merge(b),this.glplot=C(this.glplotOptions),this.camera=t(this),this.traces={},this.spikes=T(this.glplot),this.selectBox=d(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}V.exports=A;var k=A.prototype;k.makeFramework=function(){if(this.staticPlot){if(!g&&(l=document.createElement("canvas"),g=y({canvas:l,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!g))throw new Error("Error creating static canvas/context for image server");this.canvas=l,this.gl=g}else{var E=this.container.querySelector(".gl-canvas-focus"),b=y({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!b){i(this),this.stopped=!0;return}this.canvas=E,this.gl=b}var o=this.canvas;o.style.width="100%",o.style.height="100%",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style["pointer-events"]="none",this.updateSize(o);var P=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none";var x=this.mouseContainer=document.createElement("div");x.style.position="absolute",x.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var z=this.container;z.appendChild(P),z.appendChild(x);var _=this;x.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),x.addEventListener("mouseover",function(){_.isMouseOver=!0})},k.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(l),this.updateSize(this.canvas);var b=this.glplot.gl,o=b.drawingBufferWidth,P=b.drawingBufferHeight;b.clearColor(1,1,1,0),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),b.bindFramebuffer(b.FRAMEBUFFER,null);var x=new Uint8Array(o*P*4);b.readPixels(0,0,o,P,b.RGBA,b.UNSIGNED_BYTE,x);for(var z=0,_=P-1;z<_;++z,--_)for(var G=0;G<o;++G)for(var F=0;F<4;++F){var N=x[4*(o*z+G)+F];x[4*(o*z+G)+F]=x[4*(o*_+G)+F],x[4*(o*_+G)+F]=N}var U=document.createElement("canvas");U.width=o,U.height=P;var O=U.getContext("2d",{willReadFrequently:!0}),H=O.createImageData(o,P);H.data.set(x),O.putImageData(H,0,0);var Y;switch(E){case"jpeg":Y=U.toDataURL("image/jpeg");break;case"webp":Y=U.toDataURL("image/webp");break;default:Y=U.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(l),Y},k.updateSize=function(E){E||(E=this.canvas);var b=this.pixelRatio,o=this.fullLayout,P=o.width,x=o.height,z=Math.ceil(b*P)|0,_=Math.ceil(b*x)|0;return(E.width!==z||E.height!==_)&&(E.width=z,E.height=_),E},k.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],b=0;b<2;++b)for(var o=0;o<E[b].length;++o)E[b][o].text=E[b][o].text+"";return E};function w(E,b){for(var o=0;o<2;++o){var P=E[o],x=b[o];if(P.length!==x.length)return!0;for(var z=0;z<P.length;++z)if(P[z].x!==x[z].x)return!0}return!1}k.updateRefs=function(E){this.fullLayout=E;var b=this.id.match(M),o="xaxis"+b[1],P="yaxis"+b[2];this.xaxis=this.fullLayout[o],this.yaxis=this.fullLayout[P]},k.relayoutCallback=function(){var E=this.graphDiv,b=this.xaxis,o=this.yaxis,P=E.layout,x={},z=x[b._name+".range"]=b.range.slice(),_=x[o._name+".range"]=o.range.slice();x[b._name+".autorange"]=b.autorange,x[o._name+".autorange"]=o.autorange,p.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,x);var G=P[b._name];G.range=z,G.autorange=b.autorange;var F=P[o._name];F.range=_,F.autorange=o.autorange,x.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",x)},k.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var b=this.computeTickMarks(),o=this.glplotOptions.ticks;w(b,o)&&(this.glplotOptions.ticks=b,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},k.handleAnnotations=function(){for(var E=this.graphDiv,b=this.fullLayout.annotations,o=0;o<b.length;o++){var P=b[o];P.xref===this.xaxis._id&&P.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(E,o)}},k.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(b){E[b].dispose(),delete E[b]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},k.plot=function(E,b,o){var P=this.glplot;this.updateRefs(o),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,b),this.updateFx(o.dragmode);var x=o.width,z=o.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(o),_.screenBox=[0,0,x,z];var G={_fullLayout:{_axisConstraintGroups:o._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:o._size}};u(G,this.xaxis),u(G,this.yaxis);var F=o._size,N=this.xaxis.domain,U=this.yaxis.domain;_.viewBox=[F.l+N[0]*F.w,F.b+U[0]*F.h,x-F.r-(1-N[1])*F.w,z-F.t-(1-U[1])*F.h],this.mouseContainer.style.width=F.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=F.h*(U[1]-U[0])+"px",this.mouseContainer.height=F.h*(U[1]-U[0]),this.mouseContainer.style.left=F.l+N[0]*F.w+"px",this.mouseContainer.style.top=F.t+(1-U[1])*F.h+"px";var O,H;for(H=0;H<2;++H)O=this[v[H]],O._length=_.viewBox[H+2]-_.viewBox[H],s(this.graphDiv,O),O.setScale();h(G),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(o),P.update(_),this.glplot.draw()},k.calcDataBox=function(){var E=this.xaxis,b=this.yaxis,o=E.range,P=b.range,x=E.r2l,z=b.r2l;return[x(o[0]),z(P[0]),x(o[1]),z(P[1])]},k.setRanges=function(E){var b=this.xaxis,o=this.yaxis,P=b.l2r,x=o.l2r;b.range=[P(E[0]),P(E[2])],o.range=[x(E[1]),x(E[3])]},k.updateTraces=function(E,b){var o=Object.keys(this.traces),P,x,z;this.fullData=E;e:for(P=0;P<o.length;P++){var _=o[P],G=this.traces[_];for(x=0;x<E.length;x++)if(z=E[x],z.uid===_&&z.type===G.type)continue e;G.dispose(),delete this.traces[_]}for(P=0;P<E.length;P++){z=E[P];var F=b[P],N=this.traces[z.uid];N?N.update(z,F):(N=z._module.plot(this,z,F),this.traces[z.uid]=N)}this.glplot.objects.sort(function(U,O){return U._trace.index-O._trace.index})},k.updateFx=function(E){S(E)||f(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},k.emitPointAction=function(E,b){for(var o=E.trace.uid,P=E.pointIndex,x,z=0;z<this.fullData.length;z++)this.fullData[z].uid===o&&(x=this.fullData[z]);var _={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:x.index,pointNumber:P,data:x._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(_,x,P),this.graphDiv.emit(b,{points:[_]})},k.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,b=this.camera,o=b.mouseListener,P=this.lastButtonState===1&&o.buttons===0,x=this.fullLayout;this.lastButtonState=o.buttons,this.cameraChanged();var z=o.x*E.pixelRatio,_=this.canvas.height-E.pixelRatio*o.y,G;if(b.boxEnabled&&x.dragmode==="zoom"){this.selectBox.enabled=!0;for(var F=this.selectBox.selectBox=[Math.min(b.boxStart[0],b.boxEnd[0]),Math.min(b.boxStart[1],b.boxEnd[1]),Math.max(b.boxStart[0],b.boxEnd[0]),Math.max(b.boxStart[1],b.boxEnd[1])],N=0;N<2;N++)b.boxStart[N]===b.boxEnd[N]&&(F[N]=E.dataBox[N],F[N+2]=E.dataBox[N+2]);E.setDirty()}else if(!b.panning&&this.isMouseOver){this.selectBox.enabled=!1;var U=x._size,O=this.xaxis.domain,H=this.yaxis.domain;G=E.pick(z/E.pixelRatio+U.l+O[0]*U.w,_/E.pixelRatio-(U.t+(1-H[1])*U.h));var Y=G&&G.object._trace.handlePick(G);if(Y&&P&&this.emitPointAction(Y,"plotly_click"),G&&G.object._trace.hoverinfo!=="skip"&&x.hovermode&&Y&&(!this.lastPickResult||this.lastPickResult.traceUid!==Y.trace.uid||this.lastPickResult.dataCoord[0]!==Y.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Y.dataCoord[1])){var q=Y;this.lastPickResult={traceUid:Y.trace?Y.trace.uid:null,dataCoord:Y.dataCoord.slice()},this.spikes.update({center:G.dataCoord}),q.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(G.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(G.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(Y,"plotly_hover");var ne=this.fullData[q.trace.index]||{},oe=q.pointIndex,he=n.castHoverinfo(ne,x,oe);if(he&&he!=="all"){var J=he.split("+");J.indexOf("x")===-1&&(q.traceCoord[0]=void 0),J.indexOf("y")===-1&&(q.traceCoord[1]=void 0),J.indexOf("z")===-1&&(q.traceCoord[2]=void 0),J.indexOf("text")===-1&&(q.textLabel=void 0),J.indexOf("name")===-1&&(q.name=void 0)}n.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:n.castHoverOption(ne,oe,"bgcolor")||q.color,borderColor:n.castHoverOption(ne,oe,"bordercolor"),fontFamily:n.castHoverOption(ne,oe,"font.family"),fontSize:n.castHoverOption(ne,oe,"font.size"),fontColor:n.castHoverOption(ne,oe,"font.color"),nameLength:n.castHoverOption(ne,oe,"namelength"),textAlign:n.castHoverOption(ne,oe,"align")},{container:this.svgContainer,gd:this.graphDiv})}}G||this.unhover(),E.draw()}},k.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},k.hoverFormatter=function(E,b){if(b!==void 0){var o=this[E];return L.tickText(o,o.c2l(b),"hover").text}}},58547:function(V,B,e){var p=e(30962).overrideAll,L=e(528),n=e(33539),C=e(27659).NG,T=e(71828),d=e(77922),y="gl3d",r="scene";B.name=y,B.attr=r,B.idRoot=r,B.idRegex=B.attrRegex=T.counterRegex("scene"),B.attributes=e(59084),B.layoutAttributes=e(65500),B.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=e(24682),B.plot=function(i){for(var a=i._fullLayout,h=i._fullData,u=a._subplots[y],s=0;s<u.length;s++){var m=u[s],f=C(h,y,m),S=a[m],v=S.camera,l=S._scene;l||(l=new n({id:m,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:v},a),S._scene=l),l.viewInitial||(l.viewInitial={up:{x:v.up.x,y:v.up.y,z:v.up.z},eye:{x:v.eye.x,y:v.eye.y,z:v.eye.z},center:{x:v.center.x,y:v.center.y,z:v.center.z}}),l.plot(f,a,i.layout)}},B.clean=function(t,i,a,h){for(var u=h._subplots[y]||[],s=0;s<u.length;s++){var m=u[s];!i[m]&&h[m]._scene&&(h[m]._scene.destroy(),h._infolayer&&h._infolayer.selectAll(".annotation-"+m).remove())}},B.toSVG=function(t){for(var i=t._fullLayout,a=i._subplots[y],h=i._size,u=0;u<a.length;u++){var s=i[a[u]],m=s.domain,f=s._scene,S=f.toImage("png"),v=i._glimages.append("svg:image");v.attr({xmlns:d.svg,"xlink:href":S,x:h.l+h.w*m.x[0],y:h.t+h.h*(1-m.y[1]),width:h.w*(m.x[1]-m.x[0]),height:h.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),f.destroy()}},B.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var a=i.substr(5);return a==="1"&&(a=""),r+a}},B.updateFx=function(t){for(var i=t._fullLayout,a=i._subplots[y],h=0;h<a.length;h++){var u=i[a[h]]._scene;u.updateFx(i.dragmode,i.hovermode)}}},59084:function(V){V.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(V,B,e){var p=e(7901),L=e(13838),n=e(1426).extendFlat,C=e(30962).overrideAll;V.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:n({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},rangemode:L.rangemode,minallowed:L.minallowed,maxallowed:L.maxallowed,range:n({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:n({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},3277:function(V,B,e){var p=e(84267).mix,L=e(71828),n=e(44467),C=e(77894),T=e(951),d=e(71453),y=["xaxis","yaxis","zaxis"],r=100*136/187;V.exports=function(i,a,h){var u,s;function m(v,l){return L.coerce(u,s,C,v,l)}for(var f=0;f<y.length;f++){var S=y[f];u=i[S]||{},s=n.newContainer(a,S),s._id=S[0]+h.scene,s._name=S,T(u,s,m,h),d(u,s,m,{font:h.font,letter:S[0],data:h.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:h.bgColor,calendar:h.calendar},h.fullLayout),m("gridcolor",p(s.color,h.bgColor,r).toRgbString()),m("title.text",S[0]),s.setScale=L.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",s.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(V,B,e){var p=e(78614),L=e(71828),n=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var T=C.prototype;T.merge=function(y,r){for(var t=this,i=0;i<3;++i){var a=r[n[i]];if(!a.visible){t.tickEnable[i]=!1,t.labelEnable[i]=!1,t.lineEnable[i]=!1,t.lineTickEnable[i]=!1,t.gridEnable[i]=!1,t.zeroEnable[i]=!1,t.backgroundEnable[i]=!1;continue}t.labels[i]=y._meta?L.templateString(a.title.text,y._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(t.labelColor[i]=p(a.title.font.color)),a.title.font.family&&(t.labelFont[i]=a.title.font.family),a.title.font.size&&(t.labelSize[i]=a.title.font.size)),"showline"in a&&(t.lineEnable[i]=a.showline),"linecolor"in a&&(t.lineColor[i]=p(a.linecolor)),"linewidth"in a&&(t.lineWidth[i]=a.linewidth),"showgrid"in a&&(t.gridEnable[i]=a.showgrid),"gridcolor"in a&&(t.gridColor[i]=p(a.gridcolor)),"gridwidth"in a&&(t.gridWidth[i]=a.gridwidth),a.type==="log"?t.zeroEnable[i]=!1:"zeroline"in a&&(t.zeroEnable[i]=a.zeroline),"zerolinecolor"in a&&(t.zeroLineColor[i]=p(a.zerolinecolor)),"zerolinewidth"in a&&(t.zeroLineWidth[i]=a.zerolinewidth),"ticks"in a&&a.ticks?t.lineTickEnable[i]=!0:t.lineTickEnable[i]=!1,"ticklen"in a&&(t.lineTickLength[i]=t._defaultLineTickLength[i]=a.ticklen),"tickcolor"in a&&(t.lineTickColor[i]=p(a.tickcolor)),"tickwidth"in a&&(t.lineTickWidth[i]=a.tickwidth),"tickangle"in a&&(t.tickAngle[i]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(t.tickEnable[i]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(t.tickColor[i]=p(a.tickfont.color)),a.tickfont.family&&(t.tickFont[i]=a.tickfont.family),a.tickfont.size&&(t.tickSize[i]=a.tickfont.size)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(t.lineTickMirror[i]=!0,t.lineMirror[i]=!0):a.mirror===!0?(t.lineTickMirror[i]=!1,t.lineMirror[i]=!0):(t.lineTickMirror[i]=!1,t.lineMirror[i]=!1):t.lineMirror[i]=!1,"showbackground"in a&&a.showbackground!==!1?(t.backgroundEnable[i]=!0,t.backgroundColor[i]=p(a.backgroundcolor)):t.backgroundEnable[i]=!1}};function d(y,r){var t=new C;return t.merge(y,r),t}V.exports=d},24682:function(V,B,e){var p=e(71828),L=e(7901),n=e(73972),C=e(49119),T=e(3277),d=e(65500),y=e(27659).NG,r="gl3d";V.exports=function(a,h,u){var s=h._basePlotModules.length>1;function m(f){if(!s){var S=p.validate(a[f],d[f]);if(S)return a[f]}}C(a,h,u,{type:r,attributes:d,handleDefaults:t,fullLayout:h,font:h.font,fullData:u,getDfltFromLayout:m,autotypenumbersDflt:h.autotypenumbers,paper_bgcolor:h.paper_bgcolor,calendar:h.calendar})};function t(i,a,h,u){for(var s=h("bgcolor"),m=L.combine(s,u.paper_bgcolor),f=["up","center","eye"],S=0;S<f.length;S++)h("camera."+f[S]+".x"),h("camera."+f[S]+".y"),h("camera."+f[S]+".z");h("camera.projection.type");var v=!!h("aspectratio.x")&&!!h("aspectratio.y")&&!!h("aspectratio.z"),l=v?"manual":"auto",g=h("aspectmode",l);v||(i.aspectratio=a.aspectratio={x:1,y:1,z:1},g==="manual"&&(a.aspectmode="auto"),i.aspectmode=a.aspectmode);var M=y(u.fullData,r,u.id);T(i,a,{font:u.font,scene:u.id,data:M,bgColor:m,calendar:u.calendar,autotypenumbersDflt:u.autotypenumbersDflt,fullLayout:u.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(i,a,u);var A=u.getDfltFromLayout("dragmode");if(A!==!1&&!A)if(A="orbit",i.camera&&i.camera.up){var k=i.camera.up.x,w=i.camera.up.y,E=i.camera.up.z;E!==0&&(!k||!w||!E||E/Math.sqrt(k*k+w*w+E*E)>.999)&&(A="turntable")}else A="turntable";h("dragmode",A),h("hovermode",u.getDfltFromLayout("hovermode"))}},65500:function(V,B,e){var p=e(77894),L=e(27670).Y,n=e(1426).extendFlat,C=e(71828).counterRegex;function T(d,y,r){return{x:{valType:"number",dflt:d,editType:"camera"},y:{valType:"number",dflt:y,editType:"camera"},z:{valType:"number",dflt:r,editType:"camera"},editType:"camera"}}V.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(T(0,0,1),{}),center:n(T(0,0,0),{}),eye:n(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(V,B,e){var p=e(78614),L=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=n.prototype;C.merge=function(d){for(var y=0;y<3;++y){var r=d[L[y]];if(!r.visible){this.enabled[y]=!1,this.drawSides[y]=!1;continue}this.enabled[y]=r.showspikes,this.colors[y]=p(r.spikecolor),this.drawSides[y]=r.spikesides,this.lineWidth[y]=r.spikethickness}};function T(d){var y=new n;return y.merge(d),y}V.exports=T},96085:function(V,B,e){V.exports=T;var p=e(89298),L=e(71828),n=["xaxis","yaxis","zaxis"];function C(d){for(var y=new Array(3),r=0;r<3;++r){for(var t=d[r],i=new Array(t.length),a=0;a<t.length;++a)i[a]=t[a].x;y[r]=i}return y}function T(d){for(var y=d.axesOptions,r=d.glplot.axesPixels,t=d.fullSceneLayout,i=[[],[],[]],a=0;a<3;++a){var h=t[n[a]];if(h._length=(r[a].hi-r[a].lo)*r[a].pixelsPerDataUnit/d.dataScale[a],Math.abs(h._length)===1/0||isNaN(h._length))i[a]=[];else{h._input_range=h.range.slice(),h.range[0]=r[a].lo/d.dataScale[a],h.range[1]=r[a].hi/d.dataScale[a],h._m=1/(d.dataScale[a]*r[a].pixelsPerDataUnit),h.range[0]===h.range[1]&&(h.range[0]-=1,h.range[1]+=1);var u=h.tickmode;if(h.tickmode==="auto"){h.tickmode="linear";var s=h.nticks||L.constrain(h._length/40,4,9);p.autoTicks(h,Math.abs(h.range[1]-h.range[0])/s)}for(var m=p.calcTicks(h,{msUTC:!0}),f=0;f<m.length;++f)m[f].x=m[f].x*d.dataScale[a],h.type==="date"&&(m[f].text=m[f].text.replace(/\<br\>/g," "));i[a]=m,h.tickmode=u}}y.ticks=i;for(var a=0;a<3;++a){.5*(d.glplot.bounds[0][a]+d.glplot.bounds[1][a]);for(var f=0;f<2;++f)y.bounds[f][a]=d.glplot.bounds[f][a]}d.contourLevels=C(i)}},63538:function(V){function B(p,L){var n=[0,0,0,0],C,T;for(C=0;C<4;++C)for(T=0;T<4;++T)n[T]+=p[4*C+T]*L[C];return n}function e(p,L){var n=B(p.projection,B(p.view,B(p.model,[L[0],L[1],L[2],1])));return n}V.exports=e},33539:function(V,B,e){var p=e(9330).gl_plot3d,L=p.createCamera,n=p.createScene,C=e(40372),T=e(38520),d=e(73972),y=e(71828),r=y.preserveDrawingBuffer(),t=e(89298),i=e(30211),a=e(78614),h=e(58617),u=e(63538),s=e(30422),m=e(13133),f=e(96085),S=e(71739).applyAutorangeOptions,v,l,g=!1;function M(_,G){var F=document.createElement("div"),N=_.container;this.graphDiv=_.graphDiv;var U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.style.position="absolute",U.style.top=U.style.left="0px",U.style.width=U.style.height="100%",U.style["z-index"]=20,U.style["pointer-events"]="none",F.appendChild(U),this.svgContainer=U,F.id=_.id,F.style.position="absolute",F.style.top=F.style.left="0px",F.style.width=F.style.height="100%",N.appendChild(F),this.fullLayout=G,this.id=_.id||"scene",this.fullSceneLayout=G[this.id],this.plotArgs=[[],{},{}],this.axesOptions=s(G,G[this.id]),this.spikeOptions=m(G[this.id]),this.container=F,this.staticMode=!!_.staticPlot,this.pixelRatio=this.pixelRatio||_.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=d.getComponentMethod("annotations3d","convert"),this.drawAnnotations=d.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var A=M.prototype;A.prepareOptions=function(){var _=this,G={canvas:_.canvas,gl:_.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:_.container,axes:_.axesOptions,spikes:_.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:_.camera,pixelRatio:_.pixelRatio};if(_.staticMode){if(!l&&(v=document.createElement("canvas"),l=C({canvas:v,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!l))throw new Error("error creating static canvas/context for image server");G.gl=l,G.canvas=v}return G};var k=!0;A.tryCreatePlot=function(){var _=this,G=_.prepareOptions(),F=!0;try{_.glplot=n(G)}catch{if(_.staticMode||!k||r)F=!1;else{y.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=G.glOptions.preserveDrawingBuffer=!0,_.glplot=n(G)}catch{r=G.glOptions.preserveDrawingBuffer=!1,F=!1}}}return k=!1,F},A.initializeGLCamera=function(){var _=this,G=_.fullSceneLayout.camera,F=G.projection.type==="orthographic";_.camera=L(_.container,{center:[G.center.x,G.center.y,G.center.z],eye:[G.eye.x,G.eye.y,G.eye.z],up:[G.up.x,G.up.y,G.up.z],_ortho:F,zoomMin:.01,zoomMax:100,mode:"orbit"})},A.initializeGLPlot=function(){var _=this;_.initializeGLCamera();var G=_.tryCreatePlot();if(!G)return h(_);_.traces={},_.make4thDimension();var F=_.graphDiv,N=F.layout,U=function(){var H={};return _.isCameraChanged(N)&&(H[_.id+".camera"]=_.getCamera()),_.isAspectChanged(N)&&(H[_.id+".aspectratio"]=_.glplot.getAspectratio(),N[_.id].aspectmode!=="manual"&&(_.fullSceneLayout.aspectmode=N[_.id].aspectmode=H[_.id+".aspectmode"]="manual")),H},O=function(H){if(H.fullSceneLayout.dragmode!==!1){var Y=U();H.saveLayout(N),H.graphDiv.emit("plotly_relayout",Y)}};return _.glplot.canvas&&(_.glplot.canvas.addEventListener("mouseup",function(){O(_)}),_.glplot.canvas.addEventListener("touchstart",function(){g=!0}),_.glplot.canvas.addEventListener("wheel",function(H){if(F._context._scrollZoom.gl3d){if(_.camera._ortho){var Y=H.deltaX>H.deltaY?1.1:.9090909090909091,q=_.glplot.getAspectratio();_.glplot.setAspectratio({x:Y*q.x,y:Y*q.y,z:Y*q.z})}O(_)}},T?{passive:!1}:!1),_.glplot.canvas.addEventListener("mousemove",function(){if(_.fullSceneLayout.dragmode!==!1&&_.camera.mouseListener.buttons!==0){var H=U();_.graphDiv.emit("plotly_relayouting",H)}}),_.staticMode||_.glplot.canvas.addEventListener("webglcontextlost",function(H){F&&F.emit&&F.emit("plotly_webglcontextlost",{event:H,layer:_.id})},!1)),_.glplot.oncontextloss=function(){_.recoverContext()},_.glplot.onrender=function(){_.render()},!0},A.render=function(){var _=this,G=_.graphDiv,F,N=_.svgContainer,U=_.container.getBoundingClientRect();G._fullLayout._calcInverseTransform(G);var O=G._fullLayout._invScaleX,H=G._fullLayout._invScaleY,Y=U.width*O,q=U.height*H;N.setAttributeNS(null,"viewBox","0 0 "+Y+" "+q),N.setAttributeNS(null,"width",Y),N.setAttributeNS(null,"height",q),f(_),_.glplot.axes.update(_.axesOptions);for(var ne=Object.keys(_.traces),oe=null,he=_.glplot.selection,J=0;J<ne.length;++J)F=_.traces[ne[J]],F.data.hoverinfo!=="skip"&&F.handlePick(he)&&(oe=F),F.setContourLevels&&F.setContourLevels();function Z(Oe,ze,Ee){var be=_.fullSceneLayout[Oe+"axis"];return be.type!=="log"&&(ze=be.d2l(ze)),t.hoverLabelText(be,ze,Ee)}if(oe!==null){var se=u(_.glplot.cameraParams,he.dataCoordinate);F=oe.data;var $=G._fullData[F.index],ee=he.index,le={xLabel:Z("x",he.traceCoordinate[0],F.xhoverformat),yLabel:Z("y",he.traceCoordinate[1],F.yhoverformat),zLabel:Z("z",he.traceCoordinate[2],F.zhoverformat)},Q=i.castHoverinfo($,_.fullLayout,ee),K=(Q||"").split("+"),ue=Q&&Q==="all";!$.hovertemplate&&!ue&&(K.indexOf("x")===-1&&(le.xLabel=void 0),K.indexOf("y")===-1&&(le.yLabel=void 0),K.indexOf("z")===-1&&(le.zLabel=void 0),K.indexOf("text")===-1&&(he.textLabel=void 0),K.indexOf("name")===-1&&(oe.name=void 0));var ie,ce=[];F.type==="cone"||F.type==="streamtube"?(le.uLabel=Z("x",he.traceCoordinate[3],F.uhoverformat),(ue||K.indexOf("u")!==-1)&&ce.push("u: "+le.uLabel),le.vLabel=Z("y",he.traceCoordinate[4],F.vhoverformat),(ue||K.indexOf("v")!==-1)&&ce.push("v: "+le.vLabel),le.wLabel=Z("z",he.traceCoordinate[5],F.whoverformat),(ue||K.indexOf("w")!==-1)&&ce.push("w: "+le.wLabel),le.normLabel=he.traceCoordinate[6].toPrecision(3),(ue||K.indexOf("norm")!==-1)&&ce.push("norm: "+le.normLabel),F.type==="streamtube"&&(le.divergenceLabel=he.traceCoordinate[7].toPrecision(3),(ue||K.indexOf("divergence")!==-1)&&ce.push("divergence: "+le.divergenceLabel)),he.textLabel&&ce.push(he.textLabel),ie=ce.join("<br>")):F.type==="isosurface"||F.type==="volume"?(le.valueLabel=t.hoverLabelText(_._mockAxis,_._mockAxis.d2l(he.traceCoordinate[3]),F.valuehoverformat),ce.push("value: "+le.valueLabel),he.textLabel&&ce.push(he.textLabel),ie=ce.join("<br>")):ie=he.textLabel;var xe={x:he.traceCoordinate[0],y:he.traceCoordinate[1],z:he.traceCoordinate[2],data:$._input,fullData:$,curveNumber:$.index,pointNumber:ee};i.appendArrayPointValue(xe,$,ee),F._module.eventData&&(xe=$._module.eventData(xe,he,$,{},ee));var Le={points:[xe]};if(_.fullSceneLayout.hovermode){var Ae=[];i.loneHover({trace:$,x:(.5+.5*se[0]/se[3])*Y,y:(.5-.5*se[1]/se[3])*q,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:ie,name:oe.name,color:i.castHoverOption($,ee,"bgcolor")||oe.color,borderColor:i.castHoverOption($,ee,"bordercolor"),fontFamily:i.castHoverOption($,ee,"font.family"),fontSize:i.castHoverOption($,ee,"font.size"),fontColor:i.castHoverOption($,ee,"font.color"),nameLength:i.castHoverOption($,ee,"namelength"),textAlign:i.castHoverOption($,ee,"align"),hovertemplate:y.castOption($,ee,"hovertemplate"),hovertemplateLabels:y.extendFlat({},xe,le),eventData:[xe]},{container:N,gd:G,inOut_bbox:Ae}),xe.bbox=Ae[0]}he.distance<5&&(he.buttons||g)?G.emit("plotly_click",Le):G.emit("plotly_hover",Le),this.oldEventData=Le}else i.loneUnhover(N),this.oldEventData&&G.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;_.drawAnnotations(_)},A.recoverContext=function(){var _=this;_.glplot.dispose();var G=function(){if(_.glplot.gl.isContextLost()){requestAnimationFrame(G);return}if(!_.initializeGLPlot()){y.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}_.plot.apply(_,_.plotArgs)};requestAnimationFrame(G)};var w=["xaxis","yaxis","zaxis"];function E(_,G,F){for(var N=_.fullSceneLayout,U=0;U<3;U++){var O=w[U],H=O.charAt(0),Y=N[O],q=G[H],ne=G[H+"calendar"],oe=G["_"+H+"length"];if(!y.isArrayOrTypedArray(q))F[0][U]=Math.min(F[0][U],0),F[1][U]=Math.max(F[1][U],oe-1);else for(var he,J=0;J<(oe||q.length);J++)if(y.isArrayOrTypedArray(q[J]))for(var Z=0;Z<q[J].length;++Z)he=Y.d2l(q[J][Z],0,ne),!isNaN(he)&&isFinite(he)&&(F[0][U]=Math.min(F[0][U],he),F[1][U]=Math.max(F[1][U],he));else he=Y.d2l(q[J],0,ne),!isNaN(he)&&isFinite(he)&&(F[0][U]=Math.min(F[0][U],he),F[1][U]=Math.max(F[1][U],he))}}function b(_,G){for(var F=_.fullSceneLayout,N=F.annotations||[],U=0;U<3;U++)for(var O=w[U],H=O.charAt(0),Y=F[O],q=0;q<N.length;q++){var ne=N[q];if(ne.visible){var oe=Y.r2l(ne[H]);!isNaN(oe)&&isFinite(oe)&&(G[0][U]=Math.min(G[0][U],oe),G[1][U]=Math.max(G[1][U],oe))}}}A.plot=function(_,G,F){var N=this;if(N.plotArgs=[_,G,F],!N.glplot.contextLost){var U,O,H,Y,q,ne,oe=G[N.id],he=F[N.id];N.fullLayout=G,N.fullSceneLayout=oe,N.axesOptions.merge(G,oe),N.spikeOptions.merge(oe),N.setViewport(oe),N.updateFx(oe.dragmode,oe.hovermode),N.camera.enableWheel=N.graphDiv._context._scrollZoom.gl3d,N.glplot.setClearColor(a(oe.bgcolor)),N.setConvert(q),_?Array.isArray(_)||(_=[_]):_=[];var J=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(H=0;H<_.length;++H)U=_[H],!(U.visible!==!0||U._length===0)&&E(this,U,J);b(this,J);var Z=[1,1,1];for(Y=0;Y<3;++Y)J[1][Y]===J[0][Y]?Z[Y]=1:Z[Y]=1/(J[1][Y]-J[0][Y]);for(N.dataScale=Z,N.convertAnnotations(this),H=0;H<_.length;++H)U=_[H],!(U.visible!==!0||U._length===0)&&(O=N.traces[U.uid],O?O.data.type===U.type?O.update(U):(O.dispose(),O=U._module.plot(this,U),N.traces[U.uid]=O):(O=U._module.plot(this,U),N.traces[U.uid]=O),O.name=U.name);var se=Object.keys(N.traces);e:for(H=0;H<se.length;++H){for(Y=0;Y<_.length;++Y)if(_[Y].uid===se[H]&&_[Y].visible===!0&&_[Y]._length!==0)continue e;O=N.traces[se[H]],O.dispose(),delete N.traces[se[H]]}N.glplot.objects.sort(function(lt,qe){return lt._trace.data.index-qe._trace.data.index});var $=[[0,0,0],[0,0,0]],ee={};for(H=0;H<3;++H){q=oe[w[H]],ne=q.type,ne in ee?(ee[ne].acc*=Z[H],ee[ne].count+=1):ee[ne]={acc:Z[H],count:1};var le;if(q.autorange){$[0][H]=1/0,$[1][H]=-1/0;var Q=N.glplot.objects,K=N.fullSceneLayout.annotations||[],ue=q._name.charAt(0);for(Y=0;Y<Q.length;Y++){var ie=Q[Y],ce=ie.bounds,xe=ie._trace.data._pad||0;ie.constructor.name==="ErrorBars"&&q._lowerLogErrorBound?$[0][H]=Math.min($[0][H],q._lowerLogErrorBound):$[0][H]=Math.min($[0][H],ce[0][H]/Z[H]-xe),$[1][H]=Math.max($[1][H],ce[1][H]/Z[H]+xe)}for(Y=0;Y<K.length;Y++){var Le=K[Y];if(Le.visible){var Ae=q.r2l(Le[ue]);$[0][H]=Math.min($[0][H],Ae),$[1][H]=Math.max($[1][H],Ae)}}if("rangemode"in q&&q.rangemode==="tozero"&&($[0][H]=Math.min($[0][H],0),$[1][H]=Math.max($[1][H],0)),$[0][H]>$[1][H])$[0][H]=-1,$[1][H]=1;else{var Oe=$[1][H]-$[0][H];$[0][H]-=Oe/32,$[1][H]+=Oe/32}if(le=[$[0][H],$[1][H]],le=S(le,q),$[0][H]=le[0],$[1][H]=le[1],q.isReversed()){var ze=$[0][H];$[0][H]=$[1][H],$[1][H]=ze}}else le=q.range,$[0][H]=q.r2l(le[0]),$[1][H]=q.r2l(le[1]);$[0][H]===$[1][H]&&($[0][H]-=1,$[1][H]+=1),q.range=[$[0][H],$[1][H]],q.limitRange(),N.glplot.setBounds(H,{min:q.range[0]*Z[H],max:q.range[1]*Z[H]})}var Ee,be=oe.aspectmode;if(be==="cube")Ee=[1,1,1];else if(be==="manual"){var Ce=oe.aspectratio;Ee=[Ce.x,Ce.y,Ce.z]}else if(be==="auto"||be==="data"){var Ue=[1,1,1];for(H=0;H<3;++H){q=oe[w[H]],ne=q.type;var He=ee[ne];Ue[H]=Math.pow(He.acc,1/He.count)/Z[H]}be==="data"||Math.max.apply(null,Ue)/Math.min.apply(null,Ue)<=4?Ee=Ue:Ee=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");oe.aspectratio.x=he.aspectratio.x=Ee[0],oe.aspectratio.y=he.aspectratio.y=Ee[1],oe.aspectratio.z=he.aspectratio.z=Ee[2],N.glplot.setAspectratio(oe.aspectratio),N.viewInitial.aspectratio||(N.viewInitial.aspectratio={x:oe.aspectratio.x,y:oe.aspectratio.y,z:oe.aspectratio.z}),N.viewInitial.aspectmode||(N.viewInitial.aspectmode=oe.aspectmode);var Ie=oe.domain||null,Ge=G._size||null;if(Ie&&Ge){var at=N.container.style;at.position="absolute",at.left=Ge.l+Ie.x[0]*Ge.w+"px",at.top=Ge.t+(1-Ie.y[1])*Ge.h+"px",at.width=Ge.w*(Ie.x[1]-Ie.x[0])+"px",at.height=Ge.h*(Ie.y[1]-Ie.y[0])+"px"}N.glplot.redraw()}},A.destroy=function(){var _=this;_.glplot&&(_.camera.mouseListener.enabled=!1,_.container.removeEventListener("wheel",_.camera.wheelListener),_.camera=null,_.glplot.dispose(),_.container.parentNode.removeChild(_.container),_.glplot=null)};function o(_){return[[_.eye.x,_.eye.y,_.eye.z],[_.center.x,_.center.y,_.center.z],[_.up.x,_.up.y,_.up.z]]}function P(_){return{up:{x:_.up[0],y:_.up[1],z:_.up[2]},center:{x:_.center[0],y:_.center[1],z:_.center[2]},eye:{x:_.eye[0],y:_.eye[1],z:_.eye[2]},projection:{type:_._ortho===!0?"orthographic":"perspective"}}}A.getCamera=function(){var _=this;return _.camera.view.recalcMatrix(_.camera.view.lastT()),P(_.camera)},A.setViewport=function(_){var G=this,F=_.camera;G.camera.lookAt.apply(this,o(F)),G.glplot.setAspectratio(_.aspectratio);var N=F.projection.type==="orthographic",U=G.camera._ortho;N!==U&&(G.glplot.redraw(),G.glplot.clearRGBA(),G.glplot.dispose(),G.initializeGLPlot())},A.isCameraChanged=function(_){var G=this,F=G.getCamera(),N=y.nestedProperty(_,G.id+".camera"),U=N.get();function O(ne,oe,he,J){var Z=["up","center","eye"],se=["x","y","z"];return oe[Z[he]]&&ne[Z[he]][se[J]]===oe[Z[he]][se[J]]}var H=!1;if(U===void 0)H=!0;else{for(var Y=0;Y<3;Y++)for(var q=0;q<3;q++)if(!O(F,U,Y,q)){H=!0;break}(!U.projection||F.projection&&F.projection.type!==U.projection.type)&&(H=!0)}return H},A.isAspectChanged=function(_){var G=this,F=G.glplot.getAspectratio(),N=y.nestedProperty(_,G.id+".aspectratio"),U=N.get();return U===void 0||U.x!==F.x||U.y!==F.y||U.z!==F.z},A.saveLayout=function(_){var G=this,F=G.fullLayout,N,U,O,H,Y,q,ne=G.isCameraChanged(_),oe=G.isAspectChanged(_),he=ne||oe;if(he){var J={};if(ne&&(N=G.getCamera(),U=y.nestedProperty(_,G.id+".camera"),O=U.get(),J[G.id+".camera"]=O),oe&&(H=G.glplot.getAspectratio(),Y=y.nestedProperty(_,G.id+".aspectratio"),q=Y.get(),J[G.id+".aspectratio"]=q),d.call("_storeDirectGUIEdit",_,F._preGUI,J),ne){U.set(N);var Z=y.nestedProperty(F,G.id+".camera");Z.set(N)}if(oe){Y.set(H);var se=y.nestedProperty(F,G.id+".aspectratio");se.set(H),G.glplot.redraw()}}return he},A.updateFx=function(_,G){var F=this,N=F.camera;if(N)if(_==="orbit")N.mode="orbit",N.keyBindingMode="rotate";else if(_==="turntable"){N.up=[0,0,1],N.mode="turntable",N.keyBindingMode="rotate";var U=F.graphDiv,O=U._fullLayout,H=F.fullSceneLayout.camera,Y=H.up.x,q=H.up.y,ne=H.up.z;if(ne/Math.sqrt(Y*Y+q*q+ne*ne)<.999){var oe=F.id+".camera.up",he={x:0,y:0,z:1},J={};J[oe]=he;var Z=U.layout;d.call("_storeDirectGUIEdit",Z,O._preGUI,J),H.up=he,y.nestedProperty(Z,oe).set(he)}}else N.keyBindingMode=_;F.fullSceneLayout.hovermode=G};function x(_,G,F){for(var N=0,U=F-1;N<U;++N,--U)for(var O=0;O<G;++O)for(var H=0;H<4;++H){var Y=4*(G*N+O)+H,q=4*(G*U+O)+H,ne=_[Y];_[Y]=_[q],_[q]=ne}}function z(_,G,F){for(var N=0;N<F;++N)for(var U=0;U<G;++U){var O=4*(G*N+U),H=_[O+3];if(H>0)for(var Y=255/H,q=0;q<3;++q)_[O+q]=Math.min(Y*_[O+q],255)}}A.toImage=function(_){var G=this;_||(_="png"),G.staticMode&&G.container.appendChild(v),G.glplot.redraw();var F=G.glplot.gl,N=F.drawingBufferWidth,U=F.drawingBufferHeight;F.bindFramebuffer(F.FRAMEBUFFER,null);var O=new Uint8Array(N*U*4);F.readPixels(0,0,N,U,F.RGBA,F.UNSIGNED_BYTE,O),x(O,N,U),z(O,N,U);var H=document.createElement("canvas");H.width=N,H.height=U;var Y=H.getContext("2d",{willReadFrequently:!0}),q=Y.createImageData(N,U);q.data.set(O),Y.putImageData(q,0,0);var ne;switch(_){case"jpeg":ne=H.toDataURL("image/jpeg");break;case"webp":ne=H.toDataURL("image/webp");break;default:ne=H.toDataURL("image/png")}return G.staticMode&&G.container.removeChild(v),ne},A.setConvert=function(){for(var _=this,G=0;G<3;G++){var F=_.fullSceneLayout[w[G]];t.setConvert(F,_.fullLayout),F.setScale=y.noop}},A.make4thDimension=function(){var _=this,G=_.graphDiv,F=G._fullLayout;_._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},t.setConvert(_._mockAxis,F)},V.exports=M},90060:function(V){V.exports=function(e,p,L,n){n=n||e.length;for(var C=new Array(n),T=0;T<n;T++)C[T]=[e[T],p[T],L[T]];return C}},10820:function(V,B,e){var p=e(41940),L=e(85594),n=e(22399),C=e(29241),T=e(53777),d=e(35025),y=e(1426).extendFlat,r=p({editType:"calc"});r.family.dflt='"Open Sans", verdana, arial, sans-serif',r.size.dflt=12,r.color.dflt=n.defaultLine,V.exports={font:r,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:y(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:y({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},77734:function(V,B,e){var p=e(78607),L="1.13.4",n=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),d=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:d,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},r=p(y);V.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:r,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install @plotly/mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",r.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(V,B,e){var p=e(71828);V.exports=function(n,C){var T=n.split(" "),d=T[0],y=T[1],r=p.isArrayOrTypedArray(C)?p.mean(C):C,t=.5+r/100,i=1.5+r/100,a=["",""],h=[0,0];switch(d){case"top":a[0]="top",h[1]=-i;break;case"bottom":a[0]="bottom",h[1]=i;break}switch(y){case"left":a[1]="right",h[0]=-t;break;case"right":a[1]="left",h[0]=t;break}var u;return a[0]&&a[1]?u=a.join("-"):a[0]?u=a[0]:a[1]?u=a[1]:u="center",{anchor:u,offset:h}}},50101:function(V,B,e){var p=e(97433),L=e(71828),n=L.strTranslate,C=L.strScale,T=e(27659).AU,d=e(77922),y=e(39898),r=e(91424),t=e(63893),i=e(10481),a="mapbox",h=B.constants=e(77734);B.name=a,B.attr="subplot",B.idRoot=a,B.idRegex=B.attrRegex=L.counterRegex(a),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=e(23585),B.supplyLayoutDefaults=e(77882),B.plot=function(f){var S=f._fullLayout,v=f.calcdata,l=S._subplots[a];if(p.version!==h.requiredVersion)throw new Error(h.wrongVersionErrorMsg);var g=u(f,l);p.accessToken=g;for(var M=0;M<l.length;M++){var A=l[M],k=T(v,a,A),w=S[A],E=w._subplot;E||(E=new i(f,A),S[A]._subplot=E),E.viewInitial||(E.viewInitial={center:L.extendFlat({},w.center),zoom:w.zoom,bearing:w.bearing,pitch:w.pitch}),E.plot(k,S,f._promises)}},B.clean=function(m,f,S,v){for(var l=v._subplots[a]||[],g=0;g<l.length;g++){var M=l[g];!f[M]&&v[M]._subplot&&v[M]._subplot.destroy()}},B.toSVG=function(m){for(var f=m._fullLayout,S=f._subplots[a],v=f._size,l=0;l<S.length;l++){var g=f[S[l]],M=g.domain,A=g._subplot,k=A.toImage("png"),w=f._glimages.append("svg:image");w.attr({xmlns:d.svg,"xlink:href":k,x:v.l+v.w*M.x[0],y:v.t+v.h*(1-M.y[1]),width:v.w*(M.x[1]-M.x[0]),height:v.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var E=y.select(g._subplot.div),b=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!b){var o=f._glimages.append("g");o.attr("transform",n(v.l+v.w*M.x[0]+10,v.t+v.h*(1-M.y[0])-31)),o.append("path").attr("d",h.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),o.append("path").attr("d",h.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),o.append("path").attr("d",h.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),o.append("polygon").attr("points",h.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var P=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),x=f._glimages.append("g"),z=x.append("text");z.text(P).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":P});var _=r.bBox(z.node()),G=v.w*(M.x[1]-M.x[0]);if(_.width>G/2){var F=P.split("|").join("<br>");z.text(F).attr("data-unformatted",F).call(t.convertToTspans,m),_=r.bBox(z.node())}z.attr("transform",n(-3,-_.height+8)),x.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;_.width+6>G&&(N=G/(_.width+6));var U=[v.l+v.w*M.x[1],v.t+v.h*(1-M.y[0])];x.attr("transform",n(U[0],U[1])+C(N))}};function u(m,f){var S=m._fullLayout,v=m._context;if(v.mapboxAccessToken==="")return"";for(var l=[],g=[],M=!1,A=!1,k=0;k<f.length;k++){var w=S[f[k]],E=w.accesstoken;s(w.style)&&(E?L.pushUnique(l,E):(s(w._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),M=!0),A=!0)),E&&L.pushUnique(g,E)}if(A){var b=M?h.noAccessTokenErrorMsg:h.missingStyleErrorMsg;throw L.error(b),new Error(b)}return l.length?(l.length>1&&L.warn(h.multipleTokensErrorMsg),l[0]):(g.length&&L.log(["Listed mapbox access token(s)",g.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function s(m){return typeof m=="string"&&(h.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}B.updateFx=function(m){for(var f=m._fullLayout,S=f._subplots[a],v=0;v<S.length;v++){var l=f[S[v]]._subplot;l.updateFx(f)}}},67911:function(V,B,e){var p=e(71828),L=e(63893).sanitizeHTML,n=e(13056),C=e(77734);function T(i,a){this.subplot=i,this.uid=i.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var d=T.prototype;d.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=y(a)},d.needsNewImage=function(i){var a=this.subplot.map;return a.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},d.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},d.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},d.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},d.updateImage=function(i){var a=this.subplot.map;a.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var h=this.findFollowingMapboxLayerId(this.lookupBelow());h!==null&&this.subplot.map.moveLayer(this.idLayer,h)},d.updateSource=function(i){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,!!y(i)){var h=t(i);a.addSource(this.idSource,h)}},d.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var a=this.subplot.getMapLayers(),h=0;h<a.length;h++){var u=a[h].id;if(typeof u=="string"&&u.indexOf(C.traceLayerPrefix)===0){i=u;break}}return i},d.updateLayer=function(i){var a=this.subplot,h=r(i),u=this.lookupBelow(),s=this.findFollowingMapboxLayerId(u);this.removeLayer(),y(i)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:h.layout,paint:h.paint},s),this.layerType=i.type,this.below=u},d.updateStyle=function(i){if(y(i)){var a=r(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},d.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},d.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)};function y(i){if(!i.visible)return!1;var a=i.source;if(Array.isArray(a)&&a.length>0){for(var h=0;h<a.length;h++)if(typeof a[h]!="string"||a[h].length===0)return!1;return!0}return p.isPlainObject(a)||typeof a=="string"&&a.length>0}function r(i){var a={},h={};switch(i.type){case"circle":p.extendFlat(h,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":p.extendFlat(h,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":p.extendFlat(h,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var u=i.symbol,s=n(u.textposition,u.iconsize);p.extendFlat(a,{"icon-image":u.icon+"-15","icon-size":u.iconsize/10,"text-field":u.text,"text-size":u.textfont.size,"text-anchor":s.anchor,"text-offset":s.offset,"symbol-placement":u.placement}),p.extendFlat(h,{"icon-color":i.color,"text-color":u.textfont.color,"text-opacity":i.opacity});break;case"raster":p.extendFlat(h,{"raster-fade-duration":0,"raster-opacity":i.opacity});break}return{layout:a,paint:h}}function t(i){var a=i.sourcetype,h=i.source,u={type:a},s;return a==="geojson"?s="data":a==="vector"?s=typeof h=="string"?"url":"tiles":a==="raster"?(s="tiles",u.tileSize=256):a==="image"&&(s="url",u.coordinates=i.coordinates),u[s]=h,i.sourceattribution&&(u.attribution=L(i.sourceattribution)),u}V.exports=function(a,h,u){var s=new T(a,h);return s.update(u),s}},23585:function(V,B,e){var p=e(71828),L=e(7901).defaultLine,n=e(27670).Y,C=e(41940),T=e(82196).textposition,d=e(30962).overrideAll,y=e(44467).templatedArray,r=e(77734),t=C({});t.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var i=V.exports=d({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:r.styleValuesMapbox.concat(r.styleValuesNonMapbox),dflt:r.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:y("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:t,textposition:p.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root");i.uirevision={valType:"any",editType:"none"}},77882:function(V,B,e){var p=e(71828),L=e(49119),n=e(85501),C=e(23585);V.exports=function(r,t,i){L(r,t,i,{type:"mapbox",attributes:C,handleDefaults:T,partition:"y",accessToken:t._mapboxAccessToken})};function T(y,r,t,i){t("accesstoken",i.accessToken),t("style"),t("center.lon"),t("center.lat"),t("zoom"),t("bearing"),t("pitch");var a=t("bounds.west"),h=t("bounds.east"),u=t("bounds.south"),s=t("bounds.north");(a===void 0||h===void 0||u===void 0||s===void 0)&&delete r.bounds,n(y,r,{name:"layers",handleItemDefaults:d}),r._input=y}function d(y,r){function t(m,f){return p.coerce(y,r,C.layers,m,f)}var i=t("visible");if(i){var a=t("sourcetype"),h=a==="raster"||a==="image";t("source"),t("sourceattribution"),a==="vector"&&t("sourcelayer"),a==="image"&&t("coordinates");var u;h&&(u="raster");var s=t("type",u);h&&s!=="raster"&&(s=r.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),t("below"),t("color"),t("opacity"),t("minzoom"),t("maxzoom"),s==="circle"&&t("circle.radius"),s==="line"&&(t("line.width"),t("line.dash")),s==="fill"&&t("fill.outlinecolor"),s==="symbol"&&(t("symbol.icon"),t("symbol.iconsize"),t("symbol.text"),p.coerceFont(t,"symbol.textfont"),t("symbol.textposition"),t("symbol.placement"))}}},10481:function(V,B,e){var p=e(97433),L=e(71828),n=e(41327),C=e(73972),T=e(89298),d=e(28569),y=e(30211),r=e(64505),t=r.drawMode,i=r.selectMode,a=e(47322).prepSelect,h=e(47322).clearOutline,u=e(47322).clearSelectionsCache,s=e(47322).selectOnClick,m=e(77734),f=e(67911);function S(k,w){this.id=w,this.gd=k;var E=k._fullLayout,b=k._context;this.container=E._glcontainer.node(),this.isStatic=b.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var v=S.prototype;v.plot=function(k,w,E){var b=this,o=w[b.id];b.map&&o.accesstoken!==b.accessToken&&(b.map.remove(),b.map=null,b.styleObj=null,b.traceHash={},b.layerList=[]);var P;b.map?P=new Promise(function(x,z){b.updateMap(k,w,x,z)}):P=new Promise(function(x,z){b.createMap(k,w,x,z)}),E.push(P)},v.createMap=function(k,w,E,b){var o=this,P=w[o.id],x=o.styleObj=g(P.style,w);o.accessToken=P.accesstoken;var z=P.bounds,_=z?[[z.west,z.south],[z.east,z.north]]:null,G=o.map=new p.Map({container:o.div,style:x.style,center:A(P.center),zoom:P.zoom,bearing:P.bearing,pitch:P.pitch,maxBounds:_,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));G._canvas.style.left="0px",G._canvas.style.top="0px",o.rejectOnError(b),o.isStatic||o.initFx(k,w);var F=[];F.push(new Promise(function(N){G.once("load",N)})),F=F.concat(n.fetchTraceGeoData(k)),Promise.all(F).then(function(){o.fillBelowLookup(k,w),o.updateData(k),o.updateLayout(w),o.resolveOnRender(E)}).catch(b)},v.updateMap=function(k,w,E,b){var o=this,P=o.map,x=w[this.id];o.rejectOnError(b);var z=[],_=g(x.style,w);JSON.stringify(o.styleObj)!==JSON.stringify(_)&&(o.styleObj=_,P.setStyle(_.style),o.traceHash={},z.push(new Promise(function(G){P.once("styledata",G)}))),z=z.concat(n.fetchTraceGeoData(k)),Promise.all(z).then(function(){o.fillBelowLookup(k,w),o.updateData(k),o.updateLayout(w),o.resolveOnRender(E)}).catch(b)},v.fillBelowLookup=function(k,w){var E=w[this.id],b=E.layers,o,P,x=this.belowLookup={},z=!1;for(o=0;o<k.length;o++){var _=k[o][0].trace,G=_._module;typeof _.below=="string"?P=_.below:G.getBelow&&(P=G.getBelow(_,this)),P===""&&(z=!0),x["trace-"+_.uid]=P||""}for(o=0;o<b.length;o++){var F=b[o];typeof F.below=="string"?P=F.below:z?P="traces":P="",x["layout-"+o]=P}var N={},U,O;for(U in x)P=x[U],N[P]?N[P].push(U):N[P]=[U];for(P in N){var H=N[P];if(H.length>1)for(o=0;o<H.length;o++)U=H[o],U.indexOf("trace-")===0?(O=U.split("trace-")[1],this.traceHash[O]&&(this.traceHash[O].below=null)):U.indexOf("layout-")===0&&(O=U.split("layout-")[1],this.layerList[O]&&(this.layerList[O].below=null))}};var l={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};v.updateData=function(k){var w=this.traceHash,E,b,o,P,x=k.slice().sort(function(N,U){return l[N[0].trace.type]-l[U[0].trace.type]});for(o=0;o<x.length;o++){var z=x[o];b=z[0].trace,E=w[b.uid];var _=!1;E&&(E.type===b.type?(E.update(z),_=!0):E.dispose()),!_&&b._module&&(w[b.uid]=b._module.plot(this,z))}var G=Object.keys(w);e:for(o=0;o<G.length;o++){var F=G[o];for(P=0;P<k.length;P++)if(b=k[P][0].trace,F===b.uid)continue e;E=w[F],E.dispose(),delete w[F]}},v.updateLayout=function(k){var w=this.map,E=k[this.id];!this.dragging&&!this.wheeling&&(w.setCenter(A(E.center)),w.setZoom(E.zoom),w.setBearing(E.bearing),w.setPitch(E.pitch)),this.updateLayers(k),this.updateFramework(k),this.updateFx(k),this.map.resize(),this.gd._context._scrollZoom.mapbox?w.scrollZoom.enable():w.scrollZoom.disable()},v.resolveOnRender=function(k){var w=this.map;w.on("render",function E(){w.loaded()&&(w.off("render",E),setTimeout(k,10))})},v.rejectOnError=function(k){var w=this.map;function E(){k(new Error(m.mapOnErrorMsg))}w.once("error",E),w.once("style.error",E),w.once("source.error",E),w.once("tile.error",E),w.once("layer.error",E)},v.createFramework=function(k){var w=this,E=w.div=document.createElement("div");E.id=w.uid,E.style.position="absolute",w.container.appendChild(E),w.xaxis={_id:"x",c2p:function(b){return w.project(b).x}},w.yaxis={_id:"y",c2p:function(b){return w.project(b).y}},w.updateFramework(k),w.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(w.mockAxis,k)},v.initFx=function(k,w){var E=this,b=E.gd,o=E.map;o.on("moveend",function(z){if(E.map){var _=b._fullLayout;if(z.originalEvent||E.wheeling){var G=_[E.id];C.call("_storeDirectGUIEdit",b.layout,_._preGUI,E.getViewEdits(G));var F=E.getView();G._input.center=G.center=F.center,G._input.zoom=G.zoom=F.zoom,G._input.bearing=G.bearing=F.bearing,G._input.pitch=G.pitch=F.pitch,b.emit("plotly_relayout",E.getViewEditsWithDerived(F))}z.originalEvent&&z.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),_._rehover&&_._rehover()}}),o.on("wheel",function(){E.wheeling=!0}),o.on("mousemove",function(z){var _=E.div.getBoundingClientRect(),G=[z.originalEvent.offsetX,z.originalEvent.offsetY];z.target.getBoundingClientRect=function(){return _},E.xaxis.p2c=function(){return o.unproject(G).lng},E.yaxis.p2c=function(){return o.unproject(G).lat},b._fullLayout._rehover=function(){b._fullLayout._hoversubplot===E.id&&b._fullLayout[E.id]&&y.hover(b,z,E.id)},y.hover(b,z,E.id),b._fullLayout._hoversubplot=E.id});function P(){y.loneUnhover(w._hoverlayer)}o.on("dragstart",function(){E.dragging=!0,P()}),o.on("zoomstart",P),o.on("mouseout",function(){b._fullLayout._hoversubplot=null});function x(){var z=E.getView();b.emit("plotly_relayouting",E.getViewEditsWithDerived(z))}o.on("drag",x),o.on("zoom",x),o.on("dblclick",function(){var z=b._fullLayout[E.id];C.call("_storeDirectGUIEdit",b.layout,b._fullLayout._preGUI,E.getViewEdits(z));var _=E.viewInitial;o.setCenter(A(_.center)),o.setZoom(_.zoom),o.setBearing(_.bearing),o.setPitch(_.pitch);var G=E.getView();z._input.center=z.center=G.center,z._input.zoom=z.zoom=G.zoom,z._input.bearing=z.bearing=G.bearing,z._input.pitch=z.pitch=G.pitch,b.emit("plotly_doubleclick",null),b.emit("plotly_relayout",E.getViewEditsWithDerived(G))}),E.clearOutline=function(){u(E.dragOptions),h(E.dragOptions.gd)},E.onClickInPanFn=function(z){return function(_){var G=b._fullLayout.clickmode;G.indexOf("select")>-1&&s(_.originalEvent,b,[E.xaxis],[E.yaxis],E.id,z),G.indexOf("event")>-1&&y.click(b,_.originalEvent)}}},v.updateFx=function(k){var w=this,E=w.map,b=w.gd;if(w.isStatic)return;function o(_){var G=w.map.unproject(_);return[G.lng,G.lat]}var P=k.dragmode,x;x=function(_,G){if(G.isRect){var F=_.range={};F[w.id]=[o([G.xmin,G.ymin]),o([G.xmax,G.ymax])]}else{var N=_.lassoPoints={};N[w.id]=G.map(o)}};var z=w.dragOptions;w.dragOptions=L.extendDeep(z||{},{dragmode:k.dragmode,element:w.div,gd:b,plotinfo:{id:w.id,domain:k[w.id].domain,xaxis:w.xaxis,yaxis:w.yaxis,fillRangeItems:x},xaxes:[w.xaxis],yaxes:[w.yaxis],subplot:w.id}),E.off("click",w.onClickInPanHandler),i(P)||t(P)?(E.dragPan.disable(),E.on("zoomstart",w.clearOutline),w.dragOptions.prepFn=function(_,G,F){a(_,G,F,w.dragOptions,P)},d.init(w.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",w.clearOutline),w.div.onmousedown=null,w.div.ontouchstart=null,w.div.removeEventListener("touchstart",w.div._ontouchstart),w.onClickInPanHandler=w.onClickInPanFn(w.dragOptions),E.on("click",w.onClickInPanHandler))},v.updateFramework=function(k){var w=k[this.id].domain,E=k._size,b=this.div.style;b.width=E.w*(w.x[1]-w.x[0])+"px",b.height=E.h*(w.y[1]-w.y[0])+"px",b.left=E.l+w.x[0]*E.w+"px",b.top=E.t+(1-w.y[1])*E.h+"px",this.xaxis._offset=E.l+w.x[0]*E.w,this.xaxis._length=E.w*(w.x[1]-w.x[0]),this.yaxis._offset=E.t+(1-w.y[1])*E.h,this.yaxis._length=E.h*(w.y[1]-w.y[0])},v.updateLayers=function(k){var w=k[this.id],E=w.layers,b=this.layerList,o;if(E.length!==b.length){for(o=0;o<b.length;o++)b[o].dispose();for(b=this.layerList=[],o=0;o<E.length;o++)b.push(f(this,o,E[o]))}else for(o=0;o<E.length;o++)b[o].update(E[o])},v.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},v.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},v.setOptions=function(k,w,E){for(var b in E)this.map[w](k,b,E[b])},v.getMapLayers=function(){return this.map.getStyle().layers},v.addLayer=function(k,w){var E=this.map;if(typeof w=="string"){if(w===""){E.addLayer(k,w);return}for(var b=this.getMapLayers(),o=0;o<b.length;o++)if(w===b[o].id){E.addLayer(k,w);return}L.warn(["Trying to add layer with *below* value",w,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(k)},v.project=function(k){return this.map.project(new p.LngLat(k[0],k[1]))},v.getView=function(){var k=this.map,w=k.getCenter(),E=w.lng,b=w.lat,o={lon:E,lat:b},P=k.getCanvas(),x=parseInt(P.style.width),z=parseInt(P.style.height);return{center:o,zoom:k.getZoom(),bearing:k.getBearing(),pitch:k.getPitch(),_derived:{coordinates:[k.unproject([0,0]).toArray(),k.unproject([x,0]).toArray(),k.unproject([x,z]).toArray(),k.unproject([0,z]).toArray()]}}},v.getViewEdits=function(k){for(var w=this.id,E=["center","zoom","bearing","pitch"],b={},o=0;o<E.length;o++){var P=E[o];b[w+"."+P]=k[P]}return b},v.getViewEditsWithDerived=function(k){var w=this.id,E=this.getViewEdits(k);return E[w+"._derived"]=k._derived,E};function g(k,w){var E={};if(L.isPlainObject(k))E.id=k.id,E.style=k;else if(typeof k=="string")if(E.id=k,m.styleValuesMapbox.indexOf(k)!==-1)E.style=M(k);else if(m.stylesNonMapbox[k]){E.style=m.stylesNonMapbox[k];var b=E.style.sources["plotly-"+k],o=b?b.tiles:void 0;o&&o[0]&&o[0].slice(-9)==="?api_key="&&(o[0]+=w._mapboxAccessToken)}else E.style=k;else E.id=m.styleValueDflt,E.style=M(m.styleValueDflt);return E.transition={duration:0,delay:0},E}function M(k){return m.styleUrlPrefix+k+"-"+m.styleUrlSuffix}function A(k){return[k.lon,k.lat]}V.exports=S},35025:function(V){V.exports=function(B){var e=B.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(V,B,e){var p=e(39898),L=e(84096).Dq,n=e(60721).FF,C=e(92770),T=e(11631),d=e(73972),y=e(86281),r=e(44467),t=e(71828),i=e(7901),a=e(50606).BADNUM,h=e(41675),u=e(51873).clearOutline,s=e(21479),m=e(85594),f=e(31391),S=e(27659).a0,v=t.relinkPrivateKeys,l=t._,g=V.exports={};t.extendFlat(g,d),g.attributes=e(9012),g.attributes.type.values=g.allTypes,g.fontAttrs=e(41940),g.layoutAttributes=e(10820),g.fontWeight="normal";var M=g.transformsRegistry,A=e(31137);g.executeAPICommand=A.executeAPICommand,g.computeAPICommandBindings=A.computeAPICommandBindings,g.manageCommandObserver=A.manageCommandObserver,g.hasSimpleAPICommandBindings=A.hasSimpleAPICommandBindings,g.redrawText=function($){return $=t.getGraphDiv($),new Promise(function(ee){setTimeout(function(){$._fullLayout&&(d.getComponentMethod("annotations","draw")($),d.getComponentMethod("legend","draw")($),d.getComponentMethod("colorbar","draw")($),ee(g.previousPromises($)))},300)})},g.resize=function($){$=t.getGraphDiv($);var ee,le=new Promise(function(Q,K){(!$||t.isHidden($))&&K(new Error("Resize must be passed a displayed plot div element.")),$._redrawTimer&&clearTimeout($._redrawTimer),$._resolveResize&&(ee=$._resolveResize),$._resolveResize=Q,$._redrawTimer=setTimeout(function(){if(!$.layout||$.layout.width&&$.layout.height||t.isHidden($)){Q($);return}delete $.layout.width,delete $.layout.height;var ue=$.changed;$.autoplay=!0,d.call("relayout",$,{autosize:!0}).then(function(){$.changed=ue,$._resolveResize===Q&&(delete $._resolveResize,Q($))})},100)});return ee&&ee(le),le},g.previousPromises=function($){if(($._promises||[]).length)return Promise.all($._promises).then(function(){$._promises=[]})},g.addLinks=function($){if(!(!$._context.showLink&&!$._context.showSources)){var ee=$._fullLayout,le=t.ensureSingle(ee._paper,"text","js-plot-link-container",function(xe){xe.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var Le=p.select(this);Le.append("tspan").classed("js-link-to-tool",!0),Le.append("tspan").classed("js-link-spacer",!0),Le.append("tspan").classed("js-sourcelinks",!0)})}),Q=le.node(),K={y:ee._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=ee.width-20?(K["text-anchor"]="start",K.x=5):(K["text-anchor"]="end",K.x=ee._paper.attr("width")-7),le.attr(K);var ue=le.select(".js-link-to-tool"),ie=le.select(".js-link-spacer"),ce=le.select(".js-sourcelinks");$._context.showSources&&$._context.showSources($),$._context.showLink&&k($,ue),ie.text(ue.text()&&ce.text()?" - ":"")}};function k($,ee){ee.text("");var le=ee.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text($._context.linkText+" ");if($._context.sendData)le.on("click",function(){g.sendDataToCloud($)});else{var Q=window.location.pathname.split("/"),K=window.location.search;le.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Q[2].split(".")[0]+"/"+Q[1]+K})}}g.sendDataToCloud=function($){var ee=(window.PLOTLYENV||{}).BASE_URL||$._context.plotlyServerURL;if(ee){$.emit("plotly_beforeexport");var le=p.select($).append("div").attr("id","hiddenform").style("display","none"),Q=le.append("form").attr({action:ee+"/external",method:"post",target:"_blank"}),K=Q.append("input").attr({type:"text",name:"data"});return K.node().value=g.graphJson($,!1,"keepdata"),Q.node().submit(),le.remove(),$.emit("plotly_afterexport"),!1}};var w=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],E=["year","month","dayMonth","dayMonthYear"];g.supplyDefaults=function($,ee){var le=ee&&ee.skipUpdateCalc,Q=$._fullLayout||{};if(Q._skipDefaults){delete Q._skipDefaults;return}var K=$._fullLayout={},ue=$.layout||{},ie=$._fullData||[],ce=$._fullData=[],xe=$.data||[],Le=$.calcdata||[],Ae=$._context||{},Oe;$._transitionData||g.createTransitionData($),K._dfltTitle={plot:l($,"Click to enter Plot title"),x:l($,"Click to enter X axis title"),y:l($,"Click to enter Y axis title"),colorbar:l($,"Click to enter Colorscale title"),annotation:l($,"new text")},K._traceWord=l($,"trace");var ze=P($,w);if(K._mapboxAccessToken=Ae.mapboxAccessToken,Q._initialAutoSizeIsDone){var Ee=Q.width,be=Q.height;g.supplyLayoutGlobalDefaults(ue,K,ze),ue.width||(K.width=Ee),ue.height||(K.height=be),g.sanitizeMargins(K)}else{g.supplyLayoutGlobalDefaults(ue,K,ze);var Ce=!ue.width||!ue.height,Ue=K.autosize,He=Ae.autosizable,Ie=Ce&&(Ue||He);Ie?g.plotAutoSize($,ue,K):Ce&&g.sanitizeMargins(K),!Ue&&Ce&&(ue.width=K.width,ue.height=K.height)}K._d3locale=x(ze,K.separators),K._extraFormat=P($,E),K._initialAutoSizeIsDone=!0,K._dataLength=xe.length,K._modules=[],K._visibleModules=[],K._basePlotModules=[];var Ge=K._subplots=o(),at=K._splomAxes={x:{},y:{}},lt=K._splomSubplots={};K._splomGridDflt={},K._scatterStackOpts={},K._firstScatter={},K._alignmentOpts={},K._colorAxes={},K._requestRangeslider={},K._traceUids=b(ie,xe),K._globalTransforms=($._context||{}).globalTransforms,g.supplyDataDefaults(xe,ce,ue,K);var qe=Object.keys(at.x),et=Object.keys(at.y);if(qe.length>1&&et.length>1){for(d.getComponentMethod("grid","sizeDefaults")(ue,K),Oe=0;Oe<qe.length;Oe++)t.pushUnique(Ge.xaxis,qe[Oe]);for(Oe=0;Oe<et.length;Oe++)t.pushUnique(Ge.yaxis,et[Oe]);for(var ft in lt)t.pushUnique(Ge.cartesian,ft)}if(K._has=g._hasPlotType.bind(K),ie.length===ce.length)for(Oe=0;Oe<ce.length;Oe++)v(ce[Oe],ie[Oe]);g.supplyLayoutModuleDefaults(ue,K,ce,$._transitionData);var dt=K._visibleModules,pt=[];for(Oe=0;Oe<dt.length;Oe++){var At=dt[Oe].crossTraceDefaults;At&&t.pushUnique(pt,At)}for(Oe=0;Oe<pt.length;Oe++)pt[Oe](ce,K);K._hasOnlyLargeSploms=K._basePlotModules.length===1&&K._basePlotModules[0].name==="splom"&&qe.length>15&&et.length>15&&K.shapes.length===0&&K.images.length===0,g.linkSubplots(ce,K,ie,Q),g.cleanPlot(ce,K,ie,Q);var Pt=!!(Q._has&&Q._has("gl2d")),Ht=!!(K._has&&K._has("gl2d")),Je=!!(Q._has&&Q._has("cartesian")),We=!!(K._has&&K._has("cartesian")),_e=Je||Pt,Ne=We||Ht;_e&&!Ne?Q._bgLayer.remove():Ne&&!_e&&(K._shouldCreateBgLayer=!0),Q._zoomlayer&&!$._dragging&&u({_fullLayout:Q}),z(ce,K),v(K,Q),d.getComponentMethod("colorscale","crossTraceDefaults")(ce,K),K._preGUI||(K._preGUI={}),K._tracePreGUI||(K._tracePreGUI={});var ke=K._tracePreGUI,we={},me;for(me in ke)we[me]="old";for(Oe=0;Oe<ce.length;Oe++)me=ce[Oe]._fullInput.uid,we[me]||(ke[me]={}),we[me]="new";for(me in we)we[me]==="old"&&delete ke[me];U(K),d.getComponentMethod("rangeslider","makeData")(K),!le&&Le.length===ce.length&&g.supplyDefaultsUpdateCalc(Le,ce)},g.supplyDefaultsUpdateCalc=function($,ee){for(var le=0;le<ee.length;le++){var Q=ee[le],K=($[le]||[])[0];if(K&&K.trace){var ue=K.trace;if(ue._hasCalcTransform){var ie=ue._arrayAttrs,ce,xe,Le;for(ce=0;ce<ie.length;ce++)xe=ie[ce],Le=t.nestedProperty(ue,xe).get().slice(),t.nestedProperty(Q,xe).set(Le)}K.trace=Q}}};function b($,ee){var le=ee.length,Q=[],K,ue;for(K=0;K<$.length;K++){var ie=$[K]._fullInput;ie!==ue&&Q.push(ie),ue=ie}var ce=Q.length,xe=new Array(le),Le={};function Ae(Ee,be){xe[be]=Ee,Le[Ee]=1}function Oe(Ee,be){if(Ee&&typeof Ee=="string"&&!Le[Ee])return Ae(Ee,be),!0}for(K=0;K<le;K++){var ze=ee[K].uid;typeof ze=="number"&&(ze=String(ze)),!Oe(ze,K)&&(K<ce&&Oe(Q[K].uid,K)||Ae(t.randstr(Le),K))}return xe}function o(){var $=d.collectableSubplotTypes,ee={},le,Q;if(!$){$=[];var K=d.subplotsRegistry;for(var ue in K){var ie=K[ue],ce=ie.attr;if(ce&&($.push(ue),Array.isArray(ce)))for(Q=0;Q<ce.length;Q++)t.pushUnique($,ce[Q])}}for(le=0;le<$.length;le++)ee[$[le]]=[];return ee}function P($,ee){var le=$._context.locale;le||(le="en-US");var Q=!1,K={};function ue(Oe){for(var ze=!0,Ee=0;Ee<ee.length;Ee++){var be=ee[Ee];K[be]||(Oe[be]?K[be]=Oe[be]:ze=!1)}ze&&(Q=!0)}for(var ie=0;ie<2;ie++){for(var ce=$._context.locales,xe=0;xe<2;xe++){var Le=(ce[le]||{}).format;if(Le&&(ue(Le),Q))break;ce=d.localeRegistry}var Ae=le.split("-")[0];if(Q||Ae===le)break;le=Ae}return Q||ue(d.localeRegistry.en.format),K}function x($,ee){return $.decimal=ee.charAt(0),$.thousands=ee.charAt(1),{numberFormat:function(le){try{le=n($).format(t.adjustFormat(le))}catch{return t.warnBadFormat(le),t.noFormat}return le},timeFormat:L($).utcFormat}}function z($,ee){var le,Q=[];ee.meta&&(le=ee._meta={meta:ee.meta,layout:{meta:ee.meta}});for(var K=0;K<$.length;K++){var ue=$[K];ue.meta?Q[ue.index]=ue._meta={meta:ue.meta}:ee.meta&&(ue._meta={meta:ee.meta}),ee.meta&&(ue._meta.layout={meta:ee.meta})}Q.length&&(le||(le=ee._meta={}),le.data=Q)}g.createTransitionData=function($){$._transitionData||($._transitionData={}),$._transitionData._frames||($._transitionData._frames=[]),$._transitionData._frameHash||($._transitionData._frameHash={}),$._transitionData._counter||($._transitionData._counter=0),$._transitionData._interruptCallbacks||($._transitionData._interruptCallbacks=[])},g._hasPlotType=function($){var ee,le=this._basePlotModules||[];for(ee=0;ee<le.length;ee++)if(le[ee].name===$)return!0;var Q=this._modules||[];for(ee=0;ee<Q.length;ee++){var K=Q[ee].name;if(K===$)return!0;var ue=d.modules[K];if(ue&&ue.categories[$])return!0}return!1},g.cleanPlot=function($,ee,le,Q){var K,ue,ie=Q._basePlotModules||[];for(K=0;K<ie.length;K++){var ce=ie[K];ce.clean&&ce.clean($,ee,le,Q)}var xe=Q._has&&Q._has("gl"),Le=ee._has&&ee._has("gl");xe&&!Le&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var Ae=!!Q._infolayer;e:for(K=0;K<le.length;K++){var Oe=le[K],ze=Oe.uid;for(ue=0;ue<$.length;ue++){var Ee=$[ue];if(ze===Ee.uid)continue e}Ae&&Q._infolayer.select(".cb"+ze).remove()}},g.linkSubplots=function($,ee,le,Q){var K,ue,ie=Q._plots||{},ce=ee._plots={},xe=ee._subplots,Le={_fullData:$,_fullLayout:ee},Ae=xe.cartesian.concat(xe.gl2d||[]);for(K=0;K<Ae.length;K++){var Oe=Ae[K],ze=ie[Oe],Ee=h.getFromId(Le,Oe,"x"),be=h.getFromId(Le,Oe,"y"),Ce;for(ze?Ce=ce[Oe]=ze:(Ce=ce[Oe]={},Ce.id=Oe),Ee._counterAxes.push(be._id),be._counterAxes.push(Ee._id),Ee._subplotsWith.push(Oe),be._subplotsWith.push(Oe),Ce.xaxis=Ee,Ce.yaxis=be,Ce._hasClipOnAxisFalse=!1,ue=0;ue<$.length;ue++){var Ue=$[ue];if(Ue.xaxis===Ce.xaxis._id&&Ue.yaxis===Ce.yaxis._id&&Ue.cliponaxis===!1){Ce._hasClipOnAxisFalse=!0;break}}}var He=h.list(Le,null,!0),Ie;for(K=0;K<He.length;K++){Ie=He[K];var Ge=null;Ie.overlaying&&(Ge=h.getFromId(Le,Ie.overlaying),Ge&&Ge.overlaying&&(Ie.overlaying=!1,Ge=null)),Ie._mainAxis=Ge||Ie,Ge&&(Ie.domain=Ge.domain.slice()),Ie._anchorAxis=Ie.anchor==="free"?null:h.getFromId(Le,Ie.anchor)}for(K=0;K<He.length;K++)if(Ie=He[K],Ie._counterAxes.sort(h.idSort),Ie._subplotsWith.sort(t.subplotSort),Ie._mainSubplot=_(Ie,ee),Ie._counterAxes.length&&(Ie.spikemode&&Ie.spikemode.indexOf("across")!==-1||Ie.automargin&&Ie.mirror&&Ie.anchor!=="free"||d.getComponentMethod("rangeslider","isVisible")(Ie))){var at=1,lt=0;for(ue=0;ue<Ie._counterAxes.length;ue++){var qe=h.getFromId(Le,Ie._counterAxes[ue]);at=Math.min(at,qe.domain[0]),lt=Math.max(lt,qe.domain[1])}at<lt&&(Ie._counterDomainMin=at,Ie._counterDomainMax=lt)}};function _($,ee){var le={_fullLayout:ee},Q=$._id.charAt(0)==="x",K=$._mainAxis._anchorAxis,ue="",ie="",ce="";if(K&&(ce=K._mainAxis._id,ue=Q?$._id+ce:ce+$._id),!ue||!ee._plots[ue]){ue="";for(var xe=$._counterAxes,Le=0;Le<xe.length;Le++){var Ae=xe[Le],Oe=Q?$._id+Ae:Ae+$._id;ie||(ie=Oe);var ze=h.getFromId(le,Ae);if(ce&&ze.overlaying===ce){ue=Oe;break}}}return ue||ie}g.clearExpandedTraceDefaultColors=function($){var ee,le,Q;function K(ie,ce,xe,Le){le[Le]=ce,le.length=Le+1,ie.valType==="color"&&ie.dflt===void 0&&ee.push(le.join("."))}for(le=[],ee=$._module._colorAttrs,ee||($._module._colorAttrs=ee=[],y.crawl($._module.attributes,K)),Q=0;Q<ee.length;Q++){var ue=t.nestedProperty($,"_input."+ee[Q]);ue.get()||t.nestedProperty($,ee[Q]).set(null)}},g.supplyDataDefaults=function($,ee,le,Q){var K=Q._modules,ue=Q._visibleModules,ie=Q._basePlotModules,ce=0,xe=0,Le,Ae,Oe;Q._transformModules=[];function ze(et){ee.push(et);var ft=et._module;ft&&(t.pushUnique(K,ft),et.visible===!0&&t.pushUnique(ue,ft),t.pushUnique(ie,et._module.basePlotModule),ce++,et._input.visible!==!1&&xe++)}var Ee={},be=[],Ce=(le.template||{}).data||{},Ue=r.traceTemplater(Ce);for(Le=0;Le<$.length;Le++){if(Oe=$[Le],Ae=Ue.newTrace(Oe),Ae.uid=Q._traceUids[Le],g.supplyTraceDefaults(Oe,Ae,xe,Q,Le),Ae.index=Le,Ae._input=Oe,Ae._expandedIndex=ce,Ae.transforms&&Ae.transforms.length)for(var He=Oe.visible!==!1&&Ae.visible===!1,Ie=F(Ae,ee,le,Q),Ge=0;Ge<Ie.length;Ge++){var at=Ie[Ge],lt={_template:Ae._template,type:Ae.type,uid:Ae.uid+Ge};He&&at.visible===!1&&delete at.visible,g.supplyTraceDefaults(at,lt,ce,Q,Le),v(lt,at),lt.index=Le,lt._input=Oe,lt._fullInput=Ae,lt._expandedIndex=ce,lt._expandedInput=at,ze(lt)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,ze(Ae);d.traceIs(Ae,"carpetAxis")&&(Ee[Ae.carpet]=Ae),d.traceIs(Ae,"carpetDependent")&&be.push(Le)}for(Le=0;Le<be.length;Le++)if(Ae=ee[be[Le]],!!Ae.visible){var qe=Ee[Ae.carpet];if(Ae._carpet=qe,!qe||!qe.visible){Ae.visible=!1;continue}Ae.xaxis=qe.xaxis,Ae.yaxis=qe.yaxis}},g.supplyAnimationDefaults=function($){$=$||{};var ee,le={};function Q(K,ue){return t.coerce($||{},le,m,K,ue)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray($.frame))for(le.frame=[],ee=0;ee<$.frame.length;ee++)le.frame[ee]=g.supplyAnimationFrameDefaults($.frame[ee]||{});else le.frame=g.supplyAnimationFrameDefaults($.frame||{});if(Array.isArray($.transition))for(le.transition=[],ee=0;ee<$.transition.length;ee++)le.transition[ee]=g.supplyAnimationTransitionDefaults($.transition[ee]||{});else le.transition=g.supplyAnimationTransitionDefaults($.transition||{});return le},g.supplyAnimationFrameDefaults=function($){var ee={};function le(Q,K){return t.coerce($||{},ee,m.frame,Q,K)}return le("duration"),le("redraw"),ee},g.supplyAnimationTransitionDefaults=function($){var ee={};function le(Q,K){return t.coerce($||{},ee,m.transition,Q,K)}return le("duration"),le("easing"),ee},g.supplyFrameDefaults=function($){var ee={};function le(Q,K){return t.coerce($,ee,f,Q,K)}return le("group"),le("name"),le("traces"),le("baseframe"),le("data"),le("layout"),ee},g.supplyTraceDefaults=function($,ee,le,Q,K){var ue=Q.colorway||i.defaults,ie=ue[le%ue.length],ce;function xe(Ge,at){return t.coerce($,ee,g.attributes,Ge,at)}var Le=xe("visible");xe("type"),xe("name",Q._traceWord+" "+K),xe("uirevision",Q.uirevision);var Ae=g.getModule(ee);if(ee._module=Ae,Ae){var Oe=Ae.basePlotModule,ze=Oe.attr,Ee=Oe.attributes;if(ze&&Ee){var be=Q._subplots,Ce="";if(Le||Oe.name!=="gl2d"){if(Array.isArray(ze))for(ce=0;ce<ze.length;ce++){var Ue=ze[ce],He=t.coerce($,ee,Ee,Ue);be[Ue]&&t.pushUnique(be[Ue],He),Ce+=He}else Ce=t.coerce($,ee,Ee,ze);be[Oe.name]&&t.pushUnique(be[Oe.name],Ce)}}}if(Le){if(xe("customdata"),xe("ids"),xe("meta"),d.traceIs(ee,"showLegend")?(t.coerce($,ee,Ae.attributes.showlegend?Ae.attributes:g.attributes,"showlegend"),xe("legend"),xe("legendwidth"),xe("legendgroup"),xe("legendgrouptitle.text"),xe("legendrank"),ee._dfltShowLegend=!0):ee._dfltShowLegend=!1,Ae&&Ae.supplyDefaults($,ee,ie,Q),d.traceIs(ee,"noOpacity")||xe("opacity"),d.traceIs(ee,"notLegendIsolatable")&&(ee.visible=!!ee.visible),d.traceIs(ee,"noHover")||(ee.hovertemplate||t.coerceHoverinfo($,ee,Q),ee.type!=="parcats"&&d.getComponentMethod("fx","supplyDefaults")($,ee,ie,Q)),Ae&&Ae.selectPoints){var Ie=xe("selectedpoints");t.isTypedArray(Ie)&&(ee.selectedpoints=Array.from(Ie))}g.supplyTransformDefaults($,ee,Q)}return ee};function G($){var ee=$.transforms;if(Array.isArray(ee)&&ee.length)for(var le=0;le<ee.length;le++){var Q=ee[le],K=Q._module||M[Q.type];if(K&&K.makesData)return!0}return!1}g.hasMakesDataTransform=G,g.supplyTransformDefaults=function($,ee,le){if(ee._length||G($)){var Q=le._globalTransforms||[],K=le._transformModules||[];if(!(!Array.isArray($.transforms)&&Q.length===0))for(var ue=$.transforms||[],ie=Q.concat(ue),ce=ee.transforms=[],xe=0;xe<ie.length;xe++){var Le=ie[xe],Ae=Le.type,Oe=M[Ae],ze,Ee=!(Le._module&&Le._module===Oe),be=Oe&&typeof Oe.transform=="function";Oe||t.warn("Unrecognized transform type "+Ae+"."),Oe&&Oe.supplyDefaults&&(Ee||be)?(ze=Oe.supplyDefaults(Le,ee,le,$),ze.type=Ae,ze._module=Oe,t.pushUnique(K,Oe)):ze=t.extendFlat({},Le),ce.push(ze)}}};function F($,ee,le,Q){for(var K=$.transforms,ue=[$],ie=0;ie<K.length;ie++){var ce=K[ie],xe=M[ce.type];xe&&xe.transform&&(ue=xe.transform(ue,{transform:ce,fullTrace:$,fullData:ee,layout:le,fullLayout:Q,transformIndex:ie}))}return ue}g.supplyLayoutGlobalDefaults=function($,ee,le){function Q(Oe,ze){return t.coerce($,ee,g.layoutAttributes,Oe,ze)}var K=$.template;t.isPlainObject(K)&&(ee.template=K,ee._template=K.layout,ee._dataTemplate=K.data),Q("autotypenumbers");var ue=t.coerceFont(Q,"font"),ie=ue.size;t.coerceFont(Q,"title.font",t.extendFlat({},ue,{size:Math.round(ie*1.4)})),Q("title.text",ee._dfltTitle.plot),Q("title.xref");var ce=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var xe=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),xe&&(ce==="paper"&&(ee.title.y!==0&&(ee.title.y=1),ee.title.yanchor==="auto"&&(ee.title.yanchor=ee.title.y===0?"top":"bottom")),ce==="container"&&(ee.title.y==="auto"&&(ee.title.y=1),ee.title.yanchor==="auto"&&(ee.title.yanchor=ee.title.y<.5?"bottom":"top")));var Le=Q("uniformtext.mode");Le&&Q("uniformtext.minsize"),Q("autosize",!($.width&&$.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),$.width&&$.height&&g.sanitizeMargins(ee),d.getComponentMethod("grid","sizeDefaults")($,ee),Q("paper_bgcolor"),Q("separators",le.decimal+le.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var Ae=Q("uirevision");Q("editrevision",Ae),Q("selectionrevision",Ae),d.getComponentMethod("modebar","supplyLayoutDefaults")($,ee),d.getComponentMethod("shapes","supplyDrawNewShapeDefaults")($,ee,Q),d.getComponentMethod("selections","supplyDrawNewSelectionDefaults")($,ee,Q),Q("meta"),t.isPlainObject($.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),d.getComponentMethod("calendars","handleDefaults")($,ee,"calendar"),d.getComponentMethod("fx","supplyLayoutGlobalDefaults")($,ee,Q),t.coerce($,ee,s,"scattermode")};function N($){return typeof $=="string"&&$.substr($.length-2)==="px"&&parseFloat($)}g.plotAutoSize=function(ee,le,Q){var K=ee._context||{},ue=K.frameMargins,ie,ce,xe=t.isPlotDiv(ee);if(xe&&ee.emit("plotly_autosize"),K.fillFrame)ie=window.innerWidth,ce=window.innerHeight,document.body.style.overflow="hidden";else{var Le=xe?window.getComputedStyle(ee):{};if(ie=N(Le.width)||N(Le.maxWidth)||Q.width,ce=N(Le.height)||N(Le.maxHeight)||Q.height,C(ue)&&ue>0){var Ae=1-2*ue;ie=Math.round(Ae*ie),ce=Math.round(Ae*ce)}}var Oe=g.layoutAttributes.width.min,ze=g.layoutAttributes.height.min;ie<Oe&&(ie=Oe),ce<ze&&(ce=ze);var Ee=!le.width&&Math.abs(Q.width-ie)>1,be=!le.height&&Math.abs(Q.height-ce)>1;(be||Ee)&&(Ee&&(Q.width=ie),be&&(Q.height=ce)),ee._initialAutoSize||(ee._initialAutoSize={width:ie,height:ce}),g.sanitizeMargins(Q)},g.supplyLayoutModuleDefaults=function($,ee,le,Q){var K=d.componentsRegistry,ue=ee._basePlotModules,ie,ce,xe,Le=d.subplotsRegistry.cartesian;for(ie in K)xe=K[ie],xe.includeBasePlot&&xe.includeBasePlot($,ee);ue.length||ue.push(Le),ee._has("cartesian")&&(d.getComponentMethod("grid","contentDefaults")($,ee),Le.finalizeSubplots($,ee));for(var Ae in ee._subplots)ee._subplots[Ae].sort(t.subplotSort);for(ce=0;ce<ue.length;ce++)xe=ue[ce],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults($,ee,le);var Oe=ee._modules;for(ce=0;ce<Oe.length;ce++)xe=Oe[ce],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults($,ee,le);var ze=ee._transformModules;for(ce=0;ce<ze.length;ce++)xe=ze[ce],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults($,ee,le,Q);for(ie in K)xe=K[ie],xe.supplyLayoutDefaults&&xe.supplyLayoutDefaults($,ee,le)},g.purge=function($){var ee=$._fullLayout||{};ee._glcontainer!==void 0&&(ee._glcontainer.selectAll(".gl-canvas").remove(),ee._glcontainer.remove(),ee._glcanvas=null),ee._modeBar&&ee._modeBar.destroy(),$._transitionData&&($._transitionData._interruptCallbacks&&($._transitionData._interruptCallbacks.length=0),$._transitionData._animationRaf&&window.cancelAnimationFrame($._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive($),delete $.data,delete $.layout,delete $._fullData,delete $._fullLayout,delete $.calcdata,delete $.empty,delete $.fid,delete $.undoqueue,delete $.undonum,delete $.autoplay,delete $.changed,delete $._promises,delete $._redrawTimer,delete $._hmlumcount,delete $._hmpixcount,delete $._transitionData,delete $._transitioning,delete $._initialAutoSize,delete $._transitioningWithDuration,delete $._dragging,delete $._dragged,delete $._dragdata,delete $._hoverdata,delete $._snapshotInProgress,delete $._editing,delete $._mouseDownTime,delete $._legendMouseDownTime,$.removeAllListeners&&$.removeAllListeners()},g.style=function($){var ee=$._fullLayout._visibleModules,le=[],Q;for(Q=0;Q<ee.length;Q++){var K=ee[Q];K.style&&t.pushUnique(le,K.style)}for(Q=0;Q<le.length;Q++)le[Q]($)},g.sanitizeMargins=function($){if(!(!$||!$.margin)){var ee=$.width,le=$.height,Q=$.margin,K=ee-(Q.l+Q.r),ue=le-(Q.t+Q.b),ie;K<0&&(ie=(ee-1)/(Q.l+Q.r),Q.l=Math.floor(ie*Q.l),Q.r=Math.floor(ie*Q.r)),ue<0&&(ie=(le-1)/(Q.t+Q.b),Q.t=Math.floor(ie*Q.t),Q.b=Math.floor(ie*Q.b))}},g.clearAutoMarginIds=function($){$._fullLayout._pushmarginIds={}},g.allowAutoMargin=function($,ee){$._fullLayout._pushmarginIds[ee]=1};function U($){var ee=$.margin;if(!$._size){var le=$._size={l:Math.round(ee.l),r:Math.round(ee.r),t:Math.round(ee.t),b:Math.round(ee.b),p:Math.round(ee.pad)};le.w=Math.round($.width)-le.l-le.r,le.h=Math.round($.height)-le.t-le.b}$._pushmargin||($._pushmargin={}),$._pushmarginIds||($._pushmarginIds={}),$._reservedMargin||($._reservedMargin={})}var O=2,H=2;g.autoMargin=function($,ee,le){var Q=$._fullLayout,K=Q.width,ue=Q.height,ie=Q.margin,ce=Q.minreducedwidth,xe=Q.minreducedheight,Le=t.constrain(K-ie.l-ie.r,O,ce),Ae=t.constrain(ue-ie.t-ie.b,H,xe),Oe=Math.max(0,K-Le),ze=Math.max(0,ue-Ae),Ee=Q._pushmargin,be=Q._pushmarginIds;if(ie.autoexpand!==!1){if(!le)delete Ee[ee],delete be[ee];else{var Ce=le.pad;if(Ce===void 0&&(Ce=Math.min(12,ie.l,ie.r,ie.t,ie.b)),Oe){var Ue=(le.l+le.r)/Oe;Ue>1&&(le.l/=Ue,le.r/=Ue)}if(ze){var He=(le.t+le.b)/ze;He>1&&(le.t/=He,le.b/=He)}var Ie=le.xl!==void 0?le.xl:le.x,Ge=le.xr!==void 0?le.xr:le.x,at=le.yt!==void 0?le.yt:le.y,lt=le.yb!==void 0?le.yb:le.y;Ee[ee]={l:{val:Ie,size:le.l+Ce},r:{val:Ge,size:le.r+Ce},b:{val:lt,size:le.b+Ce},t:{val:at,size:le.t+Ce}},be[ee]=1}if(!Q._replotting)return g.doAutoMargin($)}};function Y($){if("_redrawFromAutoMarginCount"in $._fullLayout)return!1;var ee=h.list($,"",!0);for(var le in ee)if(ee[le].autoshift||ee[le].shift)return!0;return!1}g.doAutoMargin=function($){var ee=$._fullLayout,le=ee.width,Q=ee.height;ee._size||(ee._size={}),U(ee);var K=ee._size,ue=ee.margin,ie={t:0,b:0,l:0,r:0},ce=t.extendFlat({},K),xe=ue.l,Le=ue.r,Ae=ue.t,Oe=ue.b,ze=ee._pushmargin,Ee=ee._pushmarginIds,be=ee.minreducedwidth,Ce=ee.minreducedheight;if(ue.autoexpand!==!1){for(var Ue in ze)Ee[Ue]||delete ze[Ue];var He=$._fullLayout._reservedMargin;for(var Ie in He)for(var Ge in He[Ie]){var at=He[Ie][Ge];ie[Ge]=Math.max(ie[Ge],at)}ze.base={l:{val:0,size:xe},r:{val:1,size:Le},t:{val:1,size:Ae},b:{val:0,size:Oe}};for(var lt in ie){var qe=0;for(var et in ze)et!=="base"&&C(ze[et][lt].size)&&(qe=ze[et][lt].size>qe?ze[et][lt].size:qe);var ft=Math.max(0,ue[lt]-qe);ie[lt]=Math.max(0,ie[lt]-ft)}for(var dt in ze){var pt=ze[dt].l||{},At=ze[dt].b||{},Pt=pt.val,Ht=pt.size,Je=At.val,We=At.size,_e=le-ie.r-ie.l,Ne=Q-ie.t-ie.b;for(var ke in ze){if(C(Ht)&&ze[ke].r){var we=ze[ke].r.val,me=ze[ke].r.size;if(we>Pt){var Me=(Ht*we+(me-_e)*Pt)/(we-Pt),Se=(me*(1-Pt)+(Ht-_e)*(1-we))/(we-Pt);Me+Se>xe+Le&&(xe=Me,Le=Se)}}if(C(We)&&ze[ke].t){var Ve=ze[ke].t.val,Ze=ze[ke].t.size;if(Ve>Je){var tt=(We*Ve+(Ze-Ne)*Je)/(Ve-Je),ct=(Ze*(1-Je)+(We-Ne)*(1-Ve))/(Ve-Je);tt+ct>Oe+Ae&&(Oe=tt,Ae=ct)}}}}}var gt=t.constrain(le-ue.l-ue.r,O,be),jt=t.constrain(Q-ue.t-ue.b,H,Ce),Kt=Math.max(0,le-gt),Tt=Math.max(0,Q-jt);if(Kt){var zt=(xe+Le)/Kt;zt>1&&(xe/=zt,Le/=zt)}if(Tt){var qt=(Oe+Ae)/Tt;qt>1&&(Oe/=qt,Ae/=qt)}if(K.l=Math.round(xe)+ie.l,K.r=Math.round(Le)+ie.r,K.t=Math.round(Ae)+ie.t,K.b=Math.round(Oe)+ie.b,K.p=Math.round(ue.pad),K.w=Math.round(le)-K.l-K.r,K.h=Math.round(Q)-K.t-K.b,!ee._replotting&&(g.didMarginChange(ce,K)||Y($))){"_redrawFromAutoMarginCount"in ee?ee._redrawFromAutoMarginCount++:ee._redrawFromAutoMarginCount=1;var Sr=3*(1+Object.keys(Ee).length);if(ee._redrawFromAutoMarginCount<Sr)return d.call("_doPlot",$);ee._size=ce,t.warn("Too many auto-margin redraws.")}q($)};function q($){var ee=h.list($,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(le){for(var Q=0;Q<ee.length;Q++){var K=ee[Q][le];K&&K()}})}var ne=["l","r","t","b","p","w","h"];g.didMarginChange=function($,ee){for(var le=0;le<ne.length;le++){var Q=ne[le],K=$[Q],ue=ee[Q];if(!C(K)||Math.abs(ue-K)>1)return!0}return!1},g.graphJson=function($,ee,le,Q,K,ue){(K&&ee&&!$._fullData||K&&!ee&&!$._fullLayout)&&g.supplyDefaults($);var ie=K?$._fullData:$.data,ce=K?$._fullLayout:$.layout,xe=($._transitionData||{})._frames;function Le(ze,Ee){if(typeof ze=="function")return Ee?"_function_":null;if(t.isPlainObject(ze)){var be={},Ce;return Object.keys(ze).sort().forEach(function(Ge){if(["_","["].indexOf(Ge.charAt(0))===-1){if(typeof ze[Ge]=="function"){Ee&&(be[Ge]="_function");return}if(le==="keepdata"){if(Ge.substr(Ge.length-3)==="src")return}else if(le==="keepstream"){if(Ce=ze[Ge+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0&&!t.isPlainObject(ze.stream))return}else if(le!=="keepall"&&(Ce=ze[Ge+"src"],typeof Ce=="string"&&Ce.indexOf(":")>0))return;be[Ge]=Le(ze[Ge],Ee)}}),be}var Ue=Array.isArray(ze),He=t.isTypedArray(ze);if((Ue||He)&&ze.dtype&&ze.shape){var Ie=ze.bdata;return Le({dtype:ze.dtype,shape:ze.shape,bdata:t.isArrayBuffer(Ie)?T.encode(Ie):Ie},Ee)}return Ue?ze.map(function(Ge){return Le(Ge,Ee)}):He?t.simpleMap(ze,t.identity):t.isJSDate(ze)?t.ms2DateTimeLocal(+ze):ze}var Ae={data:(ie||[]).map(function(ze){var Ee=Le(ze);return ee&&delete Ee.fit,Ee})};if(!ee&&(Ae.layout=Le(ce),K)){var Oe=ce._size;Ae.layout.computed={margin:{b:Oe.b,l:Oe.l,r:Oe.r,t:Oe.t}}}return xe&&(Ae.frames=Le(xe)),ue&&(Ae.config=Le($._context,!0)),Q==="object"?Ae:JSON.stringify(Ae)},g.modifyFrames=function($,ee){var le,Q,K,ue=$._transitionData._frames,ie=$._transitionData._frameHash;for(le=0;le<ee.length;le++)switch(Q=ee[le],Q.type){case"replace":K=Q.value;var ce=(ue[Q.index]||{}).name,xe=K.name;ue[Q.index]=ie[xe]=K,xe!==ce&&(delete ie[ce],ie[xe]=K);break;case"insert":K=Q.value,ie[K.name]=K,ue.splice(Q.index,0,K);break;case"delete":K=ue[Q.index],delete ie[K.name],ue.splice(Q.index,1);break}return Promise.resolve()},g.computeFrame=function($,ee){var le=$._transitionData._frameHash,Q,K,ue,ie;if(!ee)throw new Error("computeFrame must be given a string frame name");var ce=le[ee.toString()];if(!ce)return!1;for(var xe=[ce],Le=[ce.name];ce.baseframe&&(ce=le[ce.baseframe.toString()])&&Le.indexOf(ce.name)===-1;)xe.push(ce),Le.push(ce.name);for(var Ae={};ce=xe.pop();)if(ce.layout&&(Ae.layout=g.extendLayout(Ae.layout,ce.layout)),ce.data){if(Ae.data||(Ae.data=[]),K=ce.traces,!K)for(K=[],Q=0;Q<ce.data.length;Q++)K[Q]=Q;for(Ae.traces||(Ae.traces=[]),Q=0;Q<ce.data.length;Q++)ue=K[Q],ue!=null&&(ie=Ae.traces.indexOf(ue),ie===-1&&(ie=Ae.data.length,Ae.traces[ie]=ue),Ae.data[ie]=g.extendTrace(Ae.data[ie],ce.data[Q]))}return Ae},g.recomputeFrameHash=function($){for(var ee=$._transitionData._frameHash={},le=$._transitionData._frames,Q=0;Q<le.length;Q++){var K=le[Q];K&&K.name&&(ee[K.name]=K)}},g.extendObjectWithContainers=function($,ee,le){var Q,K,ue,ie,ce,xe,Le,Ae,Oe=t.extendDeepNoArrays({},ee||{}),ze=t.expandObjectPaths(Oe),Ee={};if(le&&le.length)for(ue=0;ue<le.length;ue++)Q=t.nestedProperty(ze,le[ue]),K=Q.get(),K===void 0?t.nestedProperty(Ee,le[ue]).set(null):(Q.set(null),t.nestedProperty(Ee,le[ue]).set(K));if($=t.extendDeepNoArrays($||{},ze),le&&le.length){for(ue=0;ue<le.length;ue++)if(ce=t.nestedProperty(Ee,le[ue]),Le=ce.get(),!!Le){for(xe=t.nestedProperty($,le[ue]),Ae=xe.get(),Array.isArray(Ae)||(Ae=[],xe.set(Ae)),ie=0;ie<Le.length;ie++){var be=Le[ie];be===null?Ae[ie]=null:Ae[ie]=g.extendObjectWithContainers(Ae[ie],be)}xe.set(Ae)}}return $},g.dataArrayContainers=["transforms","dimensions"],g.layoutArrayContainers=d.layoutArrayContainers,g.extendTrace=function($,ee){return g.extendObjectWithContainers($,ee,g.dataArrayContainers)},g.extendLayout=function($,ee){return g.extendObjectWithContainers($,ee,g.layoutArrayContainers)},g.transition=function($,ee,le,Q,K,ue){var ie={redraw:K.redraw},ce={},xe=[];return ie.prepareFn=function(){for(var Le=Array.isArray(ee)?ee.length:0,Ae=Q.slice(0,Le),Oe=0;Oe<Ae.length;Oe++){var ze=Ae[Oe],Ee=$._fullData[ze],be=Ee._module;if(be){if(be.animatable){var Ce=be.basePlotModule.name;ce[Ce]||(ce[Ce]=[]),ce[Ce].push(ze)}$.data[Ae[Oe]]=g.extendTrace($.data[Ae[Oe]],ee[Oe])}}var Ue=t.expandObjectPaths(t.extendDeepNoArrays({},le)),He=/^[xy]axis[0-9]*$/;for(var Ie in Ue)He.test(Ie)&&delete Ue[Ie].range;g.extendLayout($.layout,Ue),delete $.calcdata,g.supplyDefaults($),g.doCalcdata($);var Ge=t.expandObjectPaths(le);if(Ge){var at=$._fullLayout._plots;for(var lt in at){var qe=at[lt],et=qe.xaxis,ft=qe.yaxis,dt=et.range.slice(),pt=ft.range.slice(),At=null,Pt=null,Ht=null,Je=null;Array.isArray(Ge[et._name+".range"])?At=Ge[et._name+".range"].slice():Array.isArray((Ge[et._name]||{}).range)&&(At=Ge[et._name].range.slice()),Array.isArray(Ge[ft._name+".range"])?Pt=Ge[ft._name+".range"].slice():Array.isArray((Ge[ft._name]||{}).range)&&(Pt=Ge[ft._name].range.slice()),dt&&At&&(et.r2l(dt[0])!==et.r2l(At[0])||et.r2l(dt[1])!==et.r2l(At[1]))&&(Ht={xr0:dt,xr1:At}),pt&&Pt&&(ft.r2l(pt[0])!==ft.r2l(Pt[0])||ft.r2l(pt[1])!==ft.r2l(Pt[1]))&&(Je={yr0:pt,yr1:Pt}),(Ht||Je)&&xe.push(t.extendFlat({plotinfo:qe},Ht,Je))}}return Promise.resolve()},ie.runFn=function(Le){var Ae,Oe=$._fullLayout._basePlotModules,ze=xe.length,Ee;if(le)for(Ee=0;Ee<Oe.length;Ee++)Oe[Ee].transitionAxes&&Oe[Ee].transitionAxes($,xe,ue,Le);ze?(Ae=t.extendFlat({},ue),Ae.duration=0,delete ce.cartesian):Ae=ue;for(var be in ce){var Ce=ce[be],Ue=$._fullData[Ce[0]]._module;Ue.basePlotModule.plot($,Ce,Ae,Le)}},oe($,ue,ie)},g.transitionFromReact=function($,ee,le,Q){var K=$._fullLayout,ue=K.transition,ie={},ce=[];return ie.prepareFn=function(){var xe=K._plots;ie.redraw=!1,ee.anim==="some"&&(ie.redraw=!0),le.anim==="some"&&(ie.redraw=!0);for(var Le in xe){var Ae=xe[Le],Oe=Ae.xaxis,ze=Ae.yaxis,Ee=Q[Oe._name].range.slice(),be=Q[ze._name].range.slice(),Ce=Oe.range.slice(),Ue=ze.range.slice();Oe.setScale(),ze.setScale();var He=null,Ie=null;(Oe.r2l(Ee[0])!==Oe.r2l(Ce[0])||Oe.r2l(Ee[1])!==Oe.r2l(Ce[1]))&&(He={xr0:Ee,xr1:Ce}),(ze.r2l(be[0])!==ze.r2l(Ue[0])||ze.r2l(be[1])!==ze.r2l(Ue[1]))&&(Ie={yr0:be,yr1:Ue}),(He||Ie)&&ce.push(t.extendFlat({plotinfo:Ae},He,Ie))}return Promise.resolve()},ie.runFn=function(xe){for(var Le=$._fullData,Ae=$._fullLayout,Oe=Ae._basePlotModules,ze,Ee,be,Ce=[],Ue=0;Ue<Le.length;Ue++)Ce.push(Ue);function He(){if($._fullLayout)for(var Ge=0;Ge<Oe.length;Ge++)Oe[Ge].transitionAxes&&Oe[Ge].transitionAxes($,ce,ze,xe)}function Ie(){if($._fullLayout)for(var Ge=0;Ge<Oe.length;Ge++)Oe[Ge].plot($,be,Ee,xe)}ce.length&&ee.anim?ue.ordering==="traces first"?(ze=t.extendFlat({},ue,{duration:0}),be=Ce,Ee=ue,setTimeout(He,ue.duration),Ie()):(ze=ue,be=null,Ee=t.extendFlat({},ue,{duration:0}),setTimeout(Ie,ze.duration),He()):ce.length?(ze=ue,He()):ee.anim&&(be=Ce,Ee=ue,Ie())},oe($,ue,ie)};function oe($,ee,le){var Q=!1;function K(Oe){var ze=Promise.resolve();if(!Oe)return ze;for(;Oe.length;)ze=ze.then(Oe.shift());return ze}function ue(Oe){if(Oe)for(;Oe.length;)Oe.shift()}function ie(){return $.emit("plotly_transitioning",[]),new Promise(function(Oe){$._transitioning=!0,ee.duration>0&&($._transitioningWithDuration=!0),$._transitionData._interruptCallbacks.push(function(){Q=!0}),le.redraw&&$._transitionData._interruptCallbacks.push(function(){return d.call("redraw",$)}),$._transitionData._interruptCallbacks.push(function(){$.emit("plotly_transitioninterrupted",[])});var ze=0,Ee=0;function be(){return ze++,function(){Ee++,!Q&&Ee===ze&&ce(Oe)}}le.runFn(be),setTimeout(be())})}function ce(Oe){if($._transitionData)return ue($._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(le.redraw)return d.call("redraw",$)}).then(function(){$._transitioning=!1,$._transitioningWithDuration=!1,$.emit("plotly_transitioned",[])}).then(Oe)}function xe(){if($._transitionData)return $._transitioning=!1,K($._transitionData._interruptCallbacks)}var Le=[g.previousPromises,xe,le.prepareFn,g.rehover,g.reselect,ie],Ae=t.syncOrAsync(Le,$);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return $})}g.doCalcdata=function($,ee){var le=h.list($),Q=$._fullData,K=$._fullLayout,ue,ie,ce,xe,Le=new Array(Q.length),Ae=($.calcdata||[]).slice();for($.calcdata=Le,K._numBoxes=0,K._numViolins=0,K._violinScaleGroupStats={},$._hmpixcount=0,$._hmlumcount=0,K._piecolormap={},K._sunburstcolormap={},K._treemapcolormap={},K._iciclecolormap={},K._funnelareacolormap={},ce=0;ce<Q.length;ce++)if(Array.isArray(ee)&&ee.indexOf(ce)===-1){Le[ce]=Ae[ce];continue}for(ce=0;ce<Q.length;ce++)ue=Q[ce],ue._arrayAttrs=y.findArrayAttributes(ue),ue._extremes={};var Oe=K._subplots.polar||[];for(ce=0;ce<Oe.length;ce++)le.push(K[Oe[ce]].radialaxis,K[Oe[ce]].angularaxis);for(var ze in K._colorAxes){var Ee=K[ze];Ee.cauto!==!1&&(delete Ee.cmin,delete Ee.cmax)}var be=!1;function Ce(Ie){if(ue=Q[Ie],ie=ue._module,ue.visible===!0&&ue.transforms){if(ie&&ie.calc){var Ge=ie.calc($,ue);Ge[0]&&Ge[0].t&&Ge[0].t._scene&&delete Ge[0].t._scene.dirty}for(xe=0;xe<ue.transforms.length;xe++){var at=ue.transforms[xe];ie=M[at.type],ie&&ie.calcTransform&&(ue._hasCalcTransform=!0,be=!0,ie.calcTransform($,ue,at))}}}function Ue(Ie,Ge){if(ue=Q[Ie],ie=ue._module,!!ie.isContainer===Ge){var at=[];if(ue.visible===!0&&ue._length!==0){delete ue._indexToPoints;var lt=ue.transforms||[];for(xe=lt.length-1;xe>=0;xe--)if(lt[xe].enabled){ue._indexToPoints=lt[xe]._indexToPoints;break}ie&&ie.calc&&(at=ie.calc($,ue))}(!Array.isArray(at)||!at[0])&&(at=[{x:a,y:a}]),at[0].t||(at[0].t={}),at[0].trace=ue,Le[Ie]=at}}for(Z(le,Q,K),ce=0;ce<Q.length;ce++)Ue(ce,!0);for(ce=0;ce<Q.length;ce++)Ce(ce);for(be&&Z(le,Q,K),ce=0;ce<Q.length;ce++)Ue(ce,!0);for(ce=0;ce<Q.length;ce++)Ue(ce,!1);se($);var He=J(le,$);if(He.length){for(K._numBoxes=0,K._numViolins=0,ce=0;ce<He.length;ce++)Ue(He[ce],!0);for(ce=0;ce<He.length;ce++)Ue(He[ce],!1);se($)}d.getComponentMethod("fx","calc")($),d.getComponentMethod("errorbars","calc")($)};var he=/(total|sum|min|max|mean|median) (ascending|descending)/;function J($,ee){var le=[],Q,K,ue,ie,ce;function xe(ke,we,me){var Me=we._id.charAt(0);if(ke==="histogram2dcontour"){var Se=we._counterAxes[0],Ve=h.getFromId(ee,Se),Ze=Me==="x"||Se==="x"&&Ve.type==="category",tt=Me==="y"||Se==="y"&&Ve.type==="category";return function(ct,gt){return ct===0||gt===0||Ze&&ct===me[gt].length-1||tt&&gt===me.length-1?-1:(Me==="y"?gt:ct)-1}}else return function(ct,gt){return Me==="y"?gt:ct}}var Le={min:function(ke){return t.aggNums(Math.min,null,ke)},max:function(ke){return t.aggNums(Math.max,null,ke)},sum:function(ke){return t.aggNums(function(we,me){return we+me},null,ke)},total:function(ke){return t.aggNums(function(we,me){return we+me},null,ke)},mean:function(ke){return t.mean(ke)},median:function(ke){return t.median(ke)}};function Ae(ke,we){return ke[1]-we[1]}function Oe(ke,we){return we[1]-ke[1]}for(Q=0;Q<$.length;Q++){var ze=$[Q];if(ze.type==="category"){var Ee=ze.categoryorder.match(he);if(Ee){var be=Ee[1],Ce=Ee[2],Ue=ze._id.charAt(0),He=Ue==="x",Ie=[];for(K=0;K<ze._categories.length;K++)Ie.push([ze._categories[K],[]]);for(K=0;K<ze._traceIndices.length;K++){var Ge=ze._traceIndices[K],at=ee._fullData[Ge];if(at.visible===!0){var lt=at.type;d.traceIs(at,"histogram")&&(delete at._xautoBinFinished,delete at._yautoBinFinished);var qe=lt==="splom",et=lt==="scattergl",ft=ee.calcdata[Ge];for(ue=0;ue<ft.length;ue++){var dt=ft[ue],pt,At;if(qe){var Pt=at._axesDim[ze._id];if(!He){var Ht=at._diag[Pt][0];Ht&&(ze=ee._fullLayout[h.id2name(Ht)])}var Je=dt.trace.dimensions[Pt].values;for(ie=0;ie<Je.length;ie++)for(pt=ze._categoriesMap[Je[ie]],ce=0;ce<dt.trace.dimensions.length;ce++)if(ce!==Pt){var We=dt.trace.dimensions[ce];Ie[pt][1].push(We.values[ie])}}else if(et){for(ie=0;ie<dt.t.x.length;ie++)He?(pt=dt.t.x[ie],At=dt.t.y[ie]):(pt=dt.t.y[ie],At=dt.t.x[ie]),Ie[pt][1].push(At);dt.t&&dt.t._scene&&delete dt.t._scene.dirty}else if(dt.hasOwnProperty("z")){At=dt.z;var _e=xe(at.type,ze,At);for(ie=0;ie<At.length;ie++)for(ce=0;ce<At[ie].length;ce++)pt=_e(ce,ie),pt+1&&Ie[pt][1].push(At[ie][ce])}else for(pt=dt.p,pt===void 0&&(pt=dt[Ue]),At=dt.s,At===void 0&&(At=dt.v),At===void 0&&(At=He?dt.y:dt.x),Array.isArray(At)||(At===void 0?At=[]:At=[At]),ie=0;ie<At.length;ie++)Ie[pt][1].push(At[ie])}}}ze._categoriesValue=Ie;var Ne=[];for(K=0;K<Ie.length;K++)Ne.push([Ie[K][0],Le[be](Ie[K][1])]);Ne.sort(Ce==="descending"?Oe:Ae),ze._categoriesAggregatedValue=Ne,ze._initialCategories=Ne.map(function(ke){return ke[0]}),le=le.concat(ze.sortByInitialCategories())}}}return le}function Z($,ee,le){var Q={};function K(xe){xe.clearCalc(),xe.type==="multicategory"&&xe.setupMultiCategory(ee),Q[xe._id]=1}t.simpleMap($,K);for(var ue=le._axisMatchGroups||[],ie=0;ie<ue.length;ie++)for(var ce in ue[ie])Q[ce]||K(le[h.id2name(ce)])}function se($){var ee=$._fullLayout,le=ee._visibleModules,Q={},K,ue,ie;for(ue=0;ue<le.length;ue++){var ce=le[ue],xe=ce.crossTraceCalc;if(xe){var Le=ce.basePlotModule.name;Q[Le]?t.pushUnique(Q[Le],xe):Q[Le]=[xe]}}for(ie in Q){var Ae=Q[ie],Oe=ee._subplots[ie];if(Array.isArray(Oe))for(K=0;K<Oe.length;K++){var ze=Oe[K],Ee=ie==="cartesian"?ee._plots[ze]:ee[ze];for(ue=0;ue<Ae.length;ue++)Ae[ue]($,Ee,ze)}else for(ue=0;ue<Ae.length;ue++)Ae[ue]($)}}g.rehover=function($){$._fullLayout._rehover&&$._fullLayout._rehover()},g.redrag=function($){$._fullLayout._redrag&&$._fullLayout._redrag()},g.reselect=function($){var ee=$._fullLayout,le=($.layout||{}).selections,Q=ee._previousSelections;ee._previousSelections=le;var K=ee._reselect||JSON.stringify(le)!==JSON.stringify(Q);d.getComponentMethod("selections","reselect")($,K)},g.generalUpdatePerTraceModule=function($,ee,le,Q){var K=ee.traceHash,ue={},ie;for(ie=0;ie<le.length;ie++){var ce=le[ie],xe=ce[0].trace;xe.visible&&(ue[xe.type]=ue[xe.type]||[],ue[xe.type].push(ce))}for(var Le in K)if(!ue[Le]){var Ae=K[Le][0],Oe=Ae[0].trace;Oe.visible=!1,ue[Le]=[Ae]}for(var ze in ue){var Ee=ue[ze],be=Ee[0][0].trace._module;be.plot($,ee,t.filterVisible(Ee),Q)}ee.traceHash=ue},g.plotBasePlot=function($,ee,le,Q,K){var ue=d.getModule($),ie=S(ee.calcdata,ue)[0];ue.plot(ee,ie,Q,K)},g.cleanBasePlot=function($,ee,le,Q,K){var ue=K._has&&K._has($),ie=le._has&&le._has($);ue&&!ie&&K["_"+$+"layer"].selectAll("g.trace").remove()}},9813:function(V){V.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(V,B,e){var p=e(71828),L=e(61082).tester,n=p.findIndexOfMin,C=p.isAngleInsideSector,T=p.angleDelta,d=p.angleDist;function y(l,g,M,A,k){if(!C(g,A))return!1;var w,E;M[0]<M[1]?(w=M[0],E=M[1]):(w=M[1],E=M[0]);var b=L(h(w,A[0],A[1],k)),o=L(h(E,A[0],A[1],k)),P=[l*Math.cos(g),l*Math.sin(g)];return o.contains(P)&&!b.contains(P)}function r(l,g,M,A){var k,w,E=A[0],b=A[1],o=m(Math.sin(g)-Math.sin(l)),P=m(Math.cos(g)-Math.cos(l)),x=Math.tan(M),z=m(1/x),_=o/P,G=b-_*E;return z?o&&P?(k=G/(x-_),w=x*k):P?(k=b*z,w=b):(k=E,w=E*x):o&&P?(k=0,w=G):P?(k=0,w=b):k=w=NaN,[k,w]}function t(l,g,M,A){var k=-g*M,w=g*g+1,E=2*(g*k-M),b=k*k+M*M-l*l,o=Math.sqrt(E*E-4*w*b),P=(-E+o)/(2*w),x=(-E-o)/(2*w);return[[P,g*P+k+A],[x,g*x+k+A]]}function i(l,g){var M=g.length,A=new Array(M+1),k;for(k=0;k<M;k++){var w=g[k];A[k]=[l*Math.cos(w),l*Math.sin(w)]}return A[k]=A[0].slice(),A}function a(l,g,M,A){var k=A.length,w=[],E,b;function o(O){return[l*Math.cos(O),l*Math.sin(O)]}function P(O,H,Y){return r(O,H,Y,o(O))}function x(O){return p.mod(O,k)}function z(O){return C(O,[g,M])}var _=n(A,function(O){return z(O)?d(O,g):1/0}),G=P(A[_],A[x(_-1)],g);for(w.push(G),E=_,b=0;b<k;E++,b++){var F=A[x(E)];if(!z(F))break;w.push(o(F))}var N=n(A,function(O){return z(O)?d(O,M):1/0}),U=P(A[N],A[x(N+1)],M);return w.push(U),w.push([0,0]),w.push(w[0].slice()),w}function h(l,g,M,A){return p.isFullCircle([g,M])?i(l,A):a(l,g,M,A)}function u(l,g,M,A){for(var k=1/0,w=1/0,E=h(l,g,M,A),b=0;b<E.length;b++){var o=E[b];k=Math.min(k,o[0]),w=Math.min(w,-o[1])}return[k,w]}function s(l,g){var M=function(w){var E=T(w,l);return E>0?E:1/0},A=n(g,M),k=p.mod(A+1,g.length);return[g[A],g[k]]}function m(l){return Math.abs(l)>1e-10?l:0}function f(l,g,M){g=g||0,M=M||0;for(var A=l.length,k=new Array(A),w=0;w<A;w++){var E=l[w];k[w]=[g+E[0],M-E[1]]}return k}function S(l,g,M,A,k,w){var E=h(l,g,M,A);return"M"+f(E,k,w).join("L")}function v(l,g,M,A,k,w,E){var b,o;l<g?(b=l,o=g):(b=g,o=l);var P=f(h(b,M,A,k),w,E),x=f(h(o,M,A,k),w,E);return"M"+x.reverse().join("L")+"M"+P.join("L")}V.exports={isPtInsidePolygon:y,findPolygonOffset:u,findEnclosingVertexAngles:s,findIntersectionXY:r,findXYatLength:t,clampTiny:m,pathPolygon:S,pathPolygonAnnulus:v}},23580:function(V,B,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(77997),C=e(9813),T=C.attr,d=C.name,y=L(d),r={};r[T]={valType:"subplotid",dflt:d,editType:"calc"};function t(a){for(var h=a._fullLayout,u=a.calcdata,s=h._subplots[d],m=0;m<s.length;m++){var f=s[m],S=p(u,d,f),v=h[f]._subplot;v||(v=n(a,f),h[f]._subplot=v),v.plot(S,h,a._promises)}}function i(a,h,u,s){for(var m=s._subplots[d]||[],f=s._has&&s._has("gl"),S=h._has&&h._has("gl"),v=f&&!S,l=0;l<m.length;l++){var g=m[l],M=s[g]._subplot;if(!h[g]&&M){M.framework.remove(),M.layers["radial-axis-title"].remove();for(var A in M.clipPaths)M.clipPaths[A].remove()}v&&M._scene&&(M._scene.destroy(),M._scene=null)}}V.exports={attr:T,name:d,idRoot:d,idRegex:y,attrRegex:y,attributes:r,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:t,clean:i,toSVG:e(93612).toSVG}},73812:function(V,B,e){var p=e(22399),L=e(13838),n=e(27670).Y,C=e(71828).extendFlat,T=e(30962).overrideAll,d=T({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),y=T({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),r={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorangeoptions:{minallowed:L.autorangeoptions.minallowed,maxallowed:L.autorangeoptions.maxallowed,clipmin:L.autorangeoptions.clipmin,clipmax:L.autorangeoptions.clipmax,include:L.autorangeoptions.include,editType:"plot"},autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},L.minallowed,{editType:"plot"}),maxallowed:C({},L.maxallowed,{editType:"plot"}),range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(r,d,y);var t={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(t,d,y),V.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:r,angularaxis:t,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(49119),T=e(27659).NG,d=e(26218),y=e(38701),r=e(96115),t=e(89426),i=e(15258),a=e(92128),h=e(23074),u=e(4322),s=e(73812),m=e(12101),f=e(9813),S=f.axisNames;function v(g,M,A,k){var w=A("bgcolor");k.bgColor=L.combine(w,k.paper_bgcolor);var E=A("sector");A("hole");var b=T(k.fullData,f.name,k.id),o=k.layoutOut,P;function x(ee,le){return A(P+"."+ee,le)}for(var z=0;z<S.length;z++){P=S[z],p.isPlainObject(g[P])||(g[P]={});var _=g[P],G=n.newContainer(M,P);G._id=G._name=P,G._attr=k.id+"."+P,G._traceIndices=b.map(function(ee){return ee._expandedIndex});var F=f.axisName2dataArray[P],N=l(_,G,x,b,F,k);i(_,G,x,{axData:b,dataAttr:F});var U=x("visible");switch(m(G,M,o),x("uirevision",M.uirevision),G._m=1,P){case"radialaxis":x("minallowed"),x("maxallowed");var O=x("range"),H=G.getAutorangeDflt(O),Y=x("autorange",H),q;O&&(O[0]===null&&O[1]===null||(O[0]===null||O[1]===null)&&(Y==="reversed"||Y===!0)||O[0]!==null&&(Y==="min"||Y==="max reversed")||O[1]!==null&&(Y==="max"||Y==="min reversed"))&&(O=void 0,delete G.range,G.autorange=!0,q=!0),q||(H=G.getAutorangeDflt(O),Y=x("autorange",H)),_.autorange=Y,Y&&(h(x,Y,O),(N==="linear"||N==="-")&&x("rangemode"),G.isReversed()&&(G._m=-1)),G.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(N==="date"){p.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<b.length;ne++)b[ne].visible=!1;N=_.type=G.type="linear"}x(N==="linear"?"thetaunit":"period");var oe=x("direction");x("rotation",{counterclockwise:0,clockwise:90}[oe]);break}if(t(_,G,x,G.type,{tickSuffixDflt:G.thetaunit==="degrees"?"":void 0}),U){var he,J,Z,se,$=k.font||{};he=x("color"),J=he===_.color?he:$.color,Z=$.size,se=$.family,d(_,G,x,G.type),r(_,G,x,G.type,{font:{color:J,size:Z,family:se}}),y(_,G,x,{outerTicks:!0}),a(_,G,x,{dfltColor:he,bgColor:k.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[P]}),x("layer"),P==="radialaxis"&&(x("side"),x("angle",E[0]),x("title.text"),p.coerceFont(x,"title.font",{color:J,size:p.bigFont(Z),family:se}))}N!=="category"&&x("hoverformat"),G._input=_}M.angularaxis.type==="category"&&A("gridshape")}function l(g,M,A,k,w,E){var b=A("autotypenumbers",E.autotypenumbersDflt),o=A("type");if(o==="-"){for(var P,x=0;x<k.length;x++)if(k[x].visible){P=k[x];break}P&&P[w]&&(M.type=u(P[w],"gregorian",{noMultiCategory:!0,autotypenumbers:b})),M.type==="-"?M.type="linear":g.type=M.type}return M.type}V.exports=function(M,A,k){C(M,A,k,{type:f.name,attributes:s,handleDefaults:v,font:A.font,autotypenumbersDflt:A.autotypenumbers,paper_bgcolor:A.paper_bgcolor,fullData:k,layoutOut:A})}},77997:function(V,B,e){var p=e(39898),L=e(84267),n=e(73972),C=e(71828),T=C.strRotate,d=C.strTranslate,y=e(7901),r=e(91424),t=e(74875),i=e(89298),a=e(21994),h=e(12101),u=e(71739).doAutoRange,s=e(29323),m=e(28569),f=e(30211),S=e(92998),v=e(47322).prepSelect,l=e(47322).selectOnClick,g=e(47322).clearOutline,M=e(6964),A=e(33306),k=e(61549).redrawReglTraces,w=e(18783).MID_SHIFT,E=e(9813),b=e(10869),o=e(23893),P=o.smith,x=o.reactanceArc,z=o.resistanceArc,_=o.smithTransform,G=C._,F=C.mod,N=C.deg2rad,U=C.rad2deg;function O(he,J,Z){this.isSmith=Z||!1,this.id=J,this.gd=he,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var se=he._fullLayout,$="clip"+se._uid+J;this.clipIds.forTraces=$+"-for-traces",this.clipPaths.forTraces=se._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=se["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",J),this.getHole=function(ee){return this.isSmith?0:ee.hole},this.getSector=function(ee){return this.isSmith?[0,360]:ee.sector},this.getRadial=function(ee){return this.isSmith?ee.realaxis:ee.radialaxis},this.getAngular=function(ee){return this.isSmith?ee.imaginaryaxis:ee.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var H=O.prototype;V.exports=function(J,Z,se){return new O(J,Z,se)},H.plot=function(he,J){for(var Z=this,se=J[Z.id],$=!1,ee=0;ee<he.length;ee++){var le=he[ee][0].trace;if(le.cliponaxis===!1){$=!0;break}}Z._hasClipOnAxisFalse=$,Z.updateLayers(J,se),Z.updateLayout(J,se),t.generalUpdatePerTraceModule(Z.gd,Z,he,se),Z.updateFx(J,se),Z.isSmith&&(delete se.realaxis.range,delete se.imaginaryaxis.range)},H.updateLayers=function(he,J){var Z=this,se=Z.isSmith,$=Z.layers,ee=Z.getRadial(J),le=Z.getAngular(J),Q=E.layerNames,K=Q.indexOf("frontplot"),ue=Q.slice(0,K),ie=le.layer==="below traces",ce=ee.layer==="below traces";ie&&ue.push("angular-line"),ce&&ue.push("radial-line"),ie&&ue.push("angular-axis"),ce&&ue.push("radial-axis"),ue.push("frontplot"),ie||ue.push("angular-line"),ce||ue.push("radial-line"),ie||ue.push("angular-axis"),ce||ue.push("radial-axis");var xe=(se?"smith":"polar")+"sublayer",Le=Z.framework.selectAll("."+xe).data(ue,String);Le.enter().append("g").attr("class",function(Ae){return xe+" "+Ae}).each(function(Ae){var Oe=$[Ae]=p.select(this);switch(Ae){case"frontplot":se||Oe.append("g").classed("barlayer",!0),Oe.append("g").classed("scatterlayer",!0);break;case"backplot":Oe.append("g").classed("maplayer",!0);break;case"plotbg":$.bg=Oe.append("path");break;case"radial-grid":Oe.style("fill","none");break;case"angular-grid":Oe.style("fill","none");break;case"radial-line":Oe.append("line").style("fill","none");break;case"angular-line":Oe.append("path").style("fill","none");break}}),Le.order()},H.updateLayout=function(he,J){var Z=this,se=Z.layers,$=he._size,ee=Z.getRadial(J),le=Z.getAngular(J),Q=J.domain.x,K=J.domain.y;Z.xOffset=$.l+$.w*Q[0],Z.yOffset=$.t+$.h*(1-K[1]);var ue=Z.xLength=$.w*(Q[1]-Q[0]),ie=Z.yLength=$.h*(K[1]-K[0]),ce=Z.getSector(J);Z.sectorInRad=ce.map(N);var xe=Z.sectorBBox=q(ce),Le=xe[2]-xe[0],Ae=xe[3]-xe[1],Oe=ie/ue,ze=Math.abs(Ae/Le),Ee,be,Ce,Ue,He;Oe>ze?(Ee=ue,be=ue*ze,He=(ie-be)/$.h/2,Ce=[Q[0],Q[1]],Ue=[K[0]+He,K[1]-He]):(Ee=ie/ze,be=ie,He=(ue-Ee)/$.w/2,Ce=[Q[0]+He,Q[1]-He],Ue=[K[0],K[1]]),Z.xLength2=Ee,Z.yLength2=be,Z.xDomain2=Ce,Z.yDomain2=Ue;var Ie=Z.xOffset2=$.l+$.w*Ce[0],Ge=Z.yOffset2=$.t+$.h*(1-Ue[1]),at=Z.radius=Ee/Le,lt=Z.innerRadius=Z.getHole(J)*at,qe=Z.cx=Ie-at*xe[0],et=Z.cy=Ge+at*xe[3],ft=Z.cxx=qe-Ie,dt=Z.cyy=et-Ge,pt=ee.side,At;pt==="counterclockwise"?(At=pt,pt="top"):pt==="clockwise"&&(At=pt,pt="bottom"),Z.radialAxis=Z.mockAxis(he,J,ee,{_id:"x",side:pt,_trueSide:At,domain:[lt/$.w,at/$.w]}),Z.angularAxis=Z.mockAxis(he,J,le,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(he,J),Z.updateAngularAxis(he,J),Z.updateRadialAxis(he,J),Z.updateRadialAxisTitle(he,J),Z.xaxis=Z.mockCartesianAxis(he,J,{_id:"x",domain:Ce}),Z.yaxis=Z.mockCartesianAxis(he,J,{_id:"y",domain:Ue});var Pt=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Pt).attr("transform",d(ft,dt)),se.frontplot.attr("transform",d(Ie,Ge)).call(r.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),se.bg.attr("d",Pt).attr("transform",d(qe,et)).call(y.fill,J.bgcolor)},H.mockAxis=function(he,J,Z,se){var $=C.extendFlat({},Z,se);return h($,J,he),$},H.mockCartesianAxis=function(he,J,Z){var se=this,$=se.isSmith,ee=Z._id,le=C.extendFlat({type:"linear"},Z);a(le,he);var Q={x:[0,2],y:[1,3]};return le.setRange=function(){var K=se.sectorBBox,ue=Q[ee],ie=se.radialAxis._rl,ce=(ie[1]-ie[0])/(1-se.getHole(J));le.range=[K[ue[0]]*ce,K[ue[1]]*ce]},le.isPtWithinRange=ee==="x"&&!$?function(K){return se.isPtInside(K)}:function(){return!0},le.setRange(),le.setScale(),le},H.doAutoRange=function(he,J){var Z=this,se=Z.gd,$=Z.radialAxis,ee=Z.getRadial(J);u(se,$);var le=$.range;if(ee.range=le.slice(),ee._input.range=le.slice(),$._rl=[$.r2l(le[0],null,"gregorian"),$.r2l(le[1],null,"gregorian")],$.minallowed!==void 0){var Q=$.r2l($.minallowed);$._rl[0]>$._rl[1]?$._rl[1]=Math.max($._rl[1],Q):$._rl[0]=Math.max($._rl[0],Q)}if($.maxallowed!==void 0){var K=$.r2l($.maxallowed);$._rl[0]<$._rl[1]?$._rl[1]=Math.min($._rl[1],K):$._rl[0]=Math.min($._rl[0],K)}},H.updateRadialAxis=function(he,J){var Z=this,se=Z.gd,$=Z.layers,ee=Z.radius,le=Z.innerRadius,Q=Z.cx,K=Z.cy,ue=Z.getRadial(J),ie=F(Z.getSector(J)[0],360),ce=Z.radialAxis,xe=le<ee,Le=Z.isSmith;Le||(Z.fillViewInitialKey("radialaxis.angle",ue.angle),Z.fillViewInitialKey("radialaxis.range",ce.range.slice()),ce.setGeometry()),ce.tickangle==="auto"&&ie>90&&ie<=270&&(ce.tickangle=180);var Ae=Le?function(at){var lt=_(Z,P([at.x,0]));return d(lt[0]-Q,lt[1]-K)}:function(at){return d(ce.l2p(at.x)+le,0)},Oe=Le?function(at){return z(Z,at.x,-1/0,1/0)}:function(at){return Z.pathArc(ce.r2p(at.x)+le)},ze=Y(ue);if(Z.radialTickLayout!==ze&&($["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=ze),xe){ce.setScale();var Ee=0,be=Le?(ce.tickvals||[]).filter(function(at){return at>=0}).map(function(at){return i.tickText(ce,at,!0,!1)}):i.calcTicks(ce),Ce=Le?be:i.clipEnds(ce,be),Ue=i.getTickSigns(ce)[2];Le&&((ce.ticks==="top"&&ce.side==="bottom"||ce.ticks==="bottom"&&ce.side==="top")&&(Ue=-Ue),ce.ticks==="top"&&ce.side==="top"&&(Ee=-ce.ticklen),ce.ticks==="bottom"&&ce.side==="bottom"&&(Ee=ce.ticklen)),i.drawTicks(se,ce,{vals:be,layer:$["radial-axis"],path:i.makeTickPath(ce,0,Ue),transFn:Ae,crisp:!1}),i.drawGrid(se,ce,{vals:Ce,layer:$["radial-grid"],path:Oe,transFn:C.noop,crisp:!1}),i.drawLabels(se,ce,{vals:be,layer:$["radial-axis"],transFn:Ae,labelFns:i.makeLabelFns(ce,Ee)})}var He=Z.radialAxisAngle=Z.vangles?U(ne(N(ue.angle),Z.vangles)):ue.angle,Ie=d(Q,K),Ge=Ie+T(-He);oe($["radial-axis"],xe&&(ue.showticklabels||ue.ticks),{transform:Ge}),oe($["radial-grid"],xe&&ue.showgrid,{transform:Le?"":Ie}),oe($["radial-line"].select("line"),xe&&ue.showline,{x1:Le?-ee:le,y1:0,x2:ee,y2:0,transform:Ge}).attr("stroke-width",ue.linewidth).call(y.stroke,ue.linecolor)},H.updateRadialAxisTitle=function(he,J,Z){if(!this.isSmith){var se=this,$=se.gd,ee=se.radius,le=se.cx,Q=se.cy,K=se.getRadial(J),ue=se.id+"title",ie=0;if(K.title){var ce=r.bBox(se.layers["radial-axis"].node()).height,xe=K.title.font.size,Le=K.side;ie=Le==="top"?xe:Le==="counterclockwise"?-(ce+xe*.4):ce+xe*.8}var Ae=Z!==void 0?Z:se.radialAxisAngle,Oe=N(Ae),ze=Math.cos(Oe),Ee=Math.sin(Oe),be=le+ee/2*ze+ie*Ee,Ce=Q-ee/2*Ee+ie*ze;se.layers["radial-axis-title"]=S.draw($,ue,{propContainer:K,propName:se.id+".radialaxis.title",placeholder:G($,"Click to enter radial axis title"),attributes:{x:be,y:Ce,"text-anchor":"middle"},transform:{rotate:-Ae}})}},H.updateAngularAxis=function(he,J){var Z=this,se=Z.gd,$=Z.layers,ee=Z.radius,le=Z.innerRadius,Q=Z.cx,K=Z.cy,ue=Z.getAngular(J),ie=Z.angularAxis,ce=Z.isSmith;ce||(Z.fillViewInitialKey("angularaxis.rotation",ue.rotation),ie.setGeometry(),ie.setScale());var xe=ce?function(lt){var qe=_(Z,P([0,lt.x]));return Math.atan2(qe[0]-Q,qe[1]-K)-Math.PI/2}:function(lt){return ie.t2g(lt.x)};ie.type==="linear"&&ie.thetaunit==="radians"&&(ie.tick0=U(ie.tick0),ie.dtick=U(ie.dtick));var Le=function(lt){return d(Q+ee*Math.cos(lt),K-ee*Math.sin(lt))},Ae=ce?function(lt){var qe=_(Z,P([0,lt.x]));return d(qe[0],qe[1])}:function(lt){return Le(xe(lt))},Oe=ce?function(lt){var qe=_(Z,P([0,lt.x])),et=Math.atan2(qe[0]-Q,qe[1]-K)-Math.PI/2;return d(qe[0],qe[1])+T(-U(et))}:function(lt){var qe=xe(lt);return Le(qe)+T(-U(qe))},ze=ce?function(lt){return x(Z,lt.x,0,1/0)}:function(lt){var qe=xe(lt),et=Math.cos(qe),ft=Math.sin(qe);return"M"+[Q+le*et,K-le*ft]+"L"+[Q+ee*et,K-ee*ft]},Ee=i.makeLabelFns(ie,0),be=Ee.labelStandoff,Ce={};Ce.xFn=function(lt){var qe=xe(lt);return Math.cos(qe)*be},Ce.yFn=function(lt){var qe=xe(lt),et=Math.sin(qe)>0?.2:1;return-Math.sin(qe)*(be+lt.fontSize*et)+Math.abs(Math.cos(qe))*(lt.fontSize*w)},Ce.anchorFn=function(lt){var qe=xe(lt),et=Math.cos(qe);return Math.abs(et)<.1?"middle":et>0?"start":"end"},Ce.heightFn=function(lt,qe,et){var ft=xe(lt);return-.5*(1+Math.sin(ft))*et};var Ue=Y(ue);Z.angularTickLayout!==Ue&&($["angular-axis"].selectAll("."+ie._id+"tick").remove(),Z.angularTickLayout=Ue);var He=ce?[1/0].concat(ie.tickvals||[]).map(function(lt){return i.tickText(ie,lt,!0,!1)}):i.calcTicks(ie);ce&&(He[0].text="",He[0].fontSize*=1.75);var Ie;if(J.gridshape==="linear"?(Ie=He.map(xe),C.angleDelta(Ie[0],Ie[1])<0&&(Ie=Ie.slice().reverse())):Ie=null,Z.vangles=Ie,ie.type==="category"&&(He=He.filter(function(lt){return C.isAngleInsideSector(xe(lt),Z.sectorInRad)})),ie.visible){var Ge=ie.ticks==="inside"?-1:1,at=(ie.linewidth||1)/2;i.drawTicks(se,ie,{vals:He,layer:$["angular-axis"],path:"M"+Ge*at+",0h"+Ge*ie.ticklen,transFn:Oe,crisp:!1}),i.drawGrid(se,ie,{vals:He,layer:$["angular-grid"],path:ze,transFn:C.noop,crisp:!1}),i.drawLabels(se,ie,{vals:He,layer:$["angular-axis"],repositionOnUpdate:!0,transFn:Ae,labelFns:Ce})}oe($["angular-line"].select("path"),ue.showline,{d:Z.pathSubplot(),transform:d(Q,K)}).attr("stroke-width",ue.linewidth).call(y.stroke,ue.linecolor)},H.updateFx=function(he,J){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(he),this.updateRadialDrag(he,J,0),this.updateRadialDrag(he,J,1)),this.updateHoverAndMainDrag(he)}},H.updateHoverAndMainDrag=function(he){var J=this,Z=J.isSmith,se=J.gd,$=J.layers,ee=he._zoomlayer,le=E.MINZOOM,Q=E.OFFEDGE,K=J.radius,ue=J.innerRadius,ie=J.cx,ce=J.cy,xe=J.cxx,Le=J.cyy,Ae=J.sectorInRad,Oe=J.vangles,ze=J.radialAxis,Ee=b.clampTiny,be=b.findXYatLength,Ce=b.findEnclosingVertexAngles,Ue=E.cornerHalfWidth,He=E.cornerLen/2,Ie,Ge,at=s.makeDragger($,"path","maindrag",he.dragmode===!1?"none":"crosshair");p.select(at).attr("d",J.pathSubplot()).attr("transform",d(ie,ce)),at.onmousemove=function(Tt){f.hover(se,Tt,J.id),se._fullLayout._lasthover=at,se._fullLayout._hoversubplot=J.id},at.onmouseout=function(Tt){se._dragging||m.unhover(se,Tt)};var lt={element:at,gd:se,subplot:J.id,plotinfo:{id:J.id,xaxis:J.xaxis,yaxis:J.yaxis},xaxes:[J.xaxis],yaxes:[J.yaxis]},qe,et,ft,dt,pt,At,Pt,Ht,Je;function We(Tt,zt){return Math.sqrt(Tt*Tt+zt*zt)}function _e(Tt,zt){return We(Tt-xe,zt-Le)}function Ne(Tt,zt){return Math.atan2(Le-zt,Tt-xe)}function ke(Tt,zt){return[Tt*Math.cos(zt),Tt*Math.sin(-zt)]}function we(Tt,zt){if(Tt===0)return J.pathSector(2*Ue);var qt=He/Tt,Sr=zt-qt,yt=zt+qt,Zt=Math.max(0,Math.min(Tt,K)),Jt=Zt-Ue,mr=Zt+Ue;return"M"+ke(Jt,Sr)+"A"+[Jt,Jt]+" 0,0,0 "+ke(Jt,yt)+"L"+ke(mr,yt)+"A"+[mr,mr]+" 0,0,1 "+ke(mr,Sr)+"Z"}function me(Tt,zt,qt){if(Tt===0)return J.pathSector(2*Ue);var Sr=ke(Tt,zt),yt=ke(Tt,qt),Zt=Ee((Sr[0]+yt[0])/2),Jt=Ee((Sr[1]+yt[1])/2),mr,sr;if(Zt&&Jt){var vt=Jt/Zt,it=-1/vt,xt=be(Ue,vt,Zt,Jt);mr=be(He,it,xt[0][0],xt[0][1]),sr=be(He,it,xt[1][0],xt[1][1])}else{var St,Rt;Jt?(St=He,Rt=Ue):(St=Ue,Rt=He),mr=[[Zt-St,Jt-Rt],[Zt+St,Jt-Rt]],sr=[[Zt-St,Jt+Rt],[Zt+St,Jt+Rt]]}return"M"+mr.join("L")+"L"+sr.reverse().join("L")+"Z"}function Me(){ft=null,dt=null,pt=J.pathSubplot(),At=!1;var Tt=se._fullLayout[J.id];Pt=L(Tt.bgcolor).getLuminance(),Ht=s.makeZoombox(ee,Pt,ie,ce,pt),Ht.attr("fill-rule","evenodd"),Je=s.makeCorners(ee,ie,ce),g(se)}function Se(Tt,zt){return zt=Math.max(Math.min(zt,K),ue),Tt<Q?Tt=0:K-Tt<Q?Tt=K:zt<Q?zt=0:K-zt<Q&&(zt=K),Math.abs(zt-Tt)>le?(Tt<zt?(ft=Tt,dt=zt):(ft=zt,dt=Tt),!0):(ft=null,dt=null,!1)}function Ve(Tt,zt){Tt=Tt||pt,zt=zt||"M0,0Z",Ht.attr("d",Tt),Je.attr("d",zt),s.transitionZoombox(Ht,Je,At,Pt),At=!0;var qt={};jt(qt),se.emit("plotly_relayouting",qt)}function Ze(Tt,zt){Tt=Tt*Ie,zt=zt*Ge;var qt=qe+Tt,Sr=et+zt,yt=_e(qe,et),Zt=Math.min(_e(qt,Sr),K),Jt=Ne(qe,et),mr,sr;Se(yt,Zt)&&(mr=pt+J.pathSector(dt),ft&&(mr+=J.pathSector(ft)),sr=we(ft,Jt)+we(dt,Jt)),Ve(mr,sr)}function tt(Tt,zt,qt,Sr){var yt=b.findIntersectionXY(qt,Sr,qt,[Tt-xe,Le-zt]);return We(yt[0],yt[1])}function ct(Tt,zt){var qt=qe+Tt,Sr=et+zt,yt=Ne(qe,et),Zt=Ne(qt,Sr),Jt=Ce(yt,Oe),mr=Ce(Zt,Oe),sr=tt(qe,et,Jt[0],Jt[1]),vt=Math.min(tt(qt,Sr,mr[0],mr[1]),K),it,xt;Se(sr,vt)&&(it=pt+J.pathSector(dt),ft&&(it+=J.pathSector(ft)),xt=[me(ft,Jt[0],Jt[1]),me(dt,Jt[0],Jt[1])].join(" ")),Ve(it,xt)}function gt(){if(s.removeZoombox(se),!(ft===null||dt===null)){var Tt={};jt(Tt),s.showDoubleClickNotifier(se),n.call("_guiRelayout",se,Tt)}}function jt(Tt){var zt=ze._rl,qt=(zt[1]-zt[0])/(1-ue/K)/K,Sr=[zt[0]+(ft-ue)*qt,zt[0]+(dt-ue)*qt];Tt[J.id+".radialaxis.range"]=Sr}function Kt(Tt,zt){var qt=se._fullLayout.clickmode;if(s.removeZoombox(se),Tt===2){var Sr={};for(var yt in J.viewInitial)Sr[J.id+"."+yt]=J.viewInitial[yt];se.emit("plotly_doubleclick",null),n.call("_guiRelayout",se,Sr)}qt.indexOf("select")>-1&&Tt===1&&l(zt,se,[J.xaxis],[J.yaxis],J.id,lt),qt.indexOf("event")>-1&&f.click(se,zt,J.id)}lt.prepFn=function(Tt,zt,qt){var Sr=se._fullLayout.dragmode,yt=at.getBoundingClientRect();se._fullLayout._calcInverseTransform(se);var Zt=se._fullLayout._invTransform;Ie=se._fullLayout._invScaleX,Ge=se._fullLayout._invScaleY;var Jt=C.apply3DTransform(Zt)(zt-yt.left,qt-yt.top);if(qe=Jt[0],et=Jt[1],Oe){var mr=b.findPolygonOffset(K,Ae[0],Ae[1],Oe);qe+=xe+mr[0],et+=Le+mr[1]}switch(Sr){case"zoom":lt.clickFn=Kt,Z||(Oe?lt.moveFn=ct:lt.moveFn=Ze,lt.doneFn=gt,Me());break;case"select":case"lasso":v(Tt,zt,qt,lt,Sr);break}},m.init(lt)},H.updateRadialDrag=function(he,J,Z){var se=this,$=se.gd,ee=se.layers,le=se.radius,Q=se.innerRadius,K=se.cx,ue=se.cy,ie=se.radialAxis,ce=E.radialDragBoxSize,xe=ce/2;if(!ie.visible)return;var Le=N(se.radialAxisAngle),Ae=ie._rl,Oe=Ae[0],ze=Ae[1],Ee=Ae[Z],be=.75*(Ae[1]-Ae[0])/(1-se.getHole(J))/le,Ce,Ue,He;Z?(Ce=K+(le+xe)*Math.cos(Le),Ue=ue-(le+xe)*Math.sin(Le),He="radialdrag"):(Ce=K+(Q-xe)*Math.cos(Le),Ue=ue-(Q-xe)*Math.sin(Le),He="radialdrag-inner");var Ie=s.makeRectDragger(ee,He,"crosshair",-xe,-xe,ce,ce),Ge={element:Ie,gd:$};he.dragmode===!1&&(Ge.dragmode=!1),oe(p.select(Ie),ie.visible&&Q<le,{transform:d(Ce,Ue)});var at,lt,qe;function et(Pt,Ht){if(at)at(Pt,Ht);else{var Je=[Pt,-Ht],We=[Math.cos(Le),Math.sin(Le)],_e=Math.abs(C.dot(Je,We)/Math.sqrt(C.dot(Je,Je)));isNaN(_e)||(at=_e<.5?pt:At)}var Ne={};ft(Ne),$.emit("plotly_relayouting",Ne)}function ft(Pt){lt!==null?Pt[se.id+".radialaxis.angle"]=lt:qe!==null&&(Pt[se.id+".radialaxis.range["+Z+"]"]=qe)}function dt(){lt!==null?n.call("_guiRelayout",$,se.id+".radialaxis.angle",lt):qe!==null&&n.call("_guiRelayout",$,se.id+".radialaxis.range["+Z+"]",qe)}function pt(Pt,Ht){if(Z!==0){var Je=Ce+Pt,We=Ue+Ht;lt=Math.atan2(ue-We,Je-K),se.vangles&&(lt=ne(lt,se.vangles)),lt=U(lt);var _e=d(K,ue)+T(-lt);ee["radial-axis"].attr("transform",_e),ee["radial-line"].select("line").attr("transform",_e);var Ne=se.gd._fullLayout,ke=Ne[se.id];se.updateRadialAxisTitle(Ne,ke,lt)}}function At(Pt,Ht){var Je=C.dot([Pt,-Ht],[Math.cos(Le),Math.sin(Le)]);if(qe=Ee-be*Je,be>0!=(Z?qe>Oe:qe<ze)){qe=null;return}var We=$._fullLayout,_e=We[se.id];ie.range[Z]=qe,ie._rl[Z]=qe,se.updateRadialAxis(We,_e),se.xaxis.setRange(),se.xaxis.setScale(),se.yaxis.setRange(),se.yaxis.setScale();var Ne=!1;for(var ke in se.traceHash){var we=se.traceHash[ke],me=C.filterVisible(we),Me=we[0][0].trace._module;Me.plot($,se,me,_e),n.traceIs(ke,"gl")&&me.length&&(Ne=!0)}Ne&&(A($),k($))}Ge.prepFn=function(){at=null,lt=null,qe=null,Ge.moveFn=et,Ge.doneFn=dt,g($)},Ge.clampFn=function(Pt,Ht){return Math.sqrt(Pt*Pt+Ht*Ht)<E.MINDRAG&&(Pt=0,Ht=0),[Pt,Ht]},m.init(Ge)},H.updateAngularDrag=function(he){var J=this,Z=J.gd,se=J.layers,$=J.radius,ee=J.angularAxis,le=J.cx,Q=J.cy,K=J.cxx,ue=J.cyy,ie=E.angularDragBoxSize,ce=s.makeDragger(se,"path","angulardrag",he.dragmode===!1?"none":"move"),xe={element:ce,gd:Z};he.dragmode===!1?xe.dragmode=!1:p.select(ce).attr("d",J.pathAnnulus($,$+ie)).attr("transform",d(le,Q)).call(M,"move");function Le(qe,et){return Math.atan2(ue+ie-et,qe-K-ie)}var Ae=se.frontplot.select(".scatterlayer").selectAll(".trace"),Oe=Ae.selectAll(".point"),ze=Ae.selectAll(".textpoint"),Ee,be,Ce,Ue,He,Ie;function Ge(qe,et){var ft=J.gd._fullLayout,dt=ft[J.id],pt=Ee+qe*he._invScaleX,At=be+et*he._invScaleY,Pt=Le(pt,At),Ht=U(Pt-Ie);if(Ue=Ce+Ht,se.frontplot.attr("transform",d(J.xOffset2,J.yOffset2)+T([-Ht,K,ue])),J.vangles){He=J.radialAxisAngle+Ht;var Je=d(le,Q)+T(-Ht),We=d(le,Q)+T(-He);se.bg.attr("transform",Je),se["radial-grid"].attr("transform",Je),se["radial-axis"].attr("transform",We),se["radial-line"].select("line").attr("transform",We),J.updateRadialAxisTitle(ft,dt,He)}else J.clipPaths.forTraces.select("path").attr("transform",d(K,ue)+T(Ht));Oe.each(function(){var Se=p.select(this),Ve=r.getTranslate(Se);Se.attr("transform",d(Ve.x,Ve.y)+T([Ht]))}),ze.each(function(){var Se=p.select(this),Ve=Se.select("text"),Ze=r.getTranslate(Se);Se.attr("transform",T([Ht,Ve.attr("x"),Ve.attr("y")])+d(Ze.x,Ze.y))}),ee.rotation=C.modHalf(Ue,360),J.updateAngularAxis(ft,dt),J._hasClipOnAxisFalse&&!C.isFullCircle(J.sectorInRad)&&Ae.call(r.hideOutsideRangePoints,J);var _e=!1;for(var Ne in J.traceHash)if(n.traceIs(Ne,"gl")){var ke=J.traceHash[Ne],we=C.filterVisible(ke),me=ke[0][0].trace._module;me.plot(Z,J,we,dt),we.length&&(_e=!0)}_e&&(A(Z),k(Z));var Me={};at(Me),Z.emit("plotly_relayouting",Me)}function at(qe){qe[J.id+".angularaxis.rotation"]=Ue,J.vangles&&(qe[J.id+".radialaxis.angle"]=He)}function lt(){ze.select("text").attr("transform",null);var qe={};at(qe),n.call("_guiRelayout",Z,qe)}xe.prepFn=function(qe,et,ft){var dt=he[J.id];Ce=dt.angularaxis.rotation;var pt=ce.getBoundingClientRect();Ee=et-pt.left,be=ft-pt.top,Z._fullLayout._calcInverseTransform(Z);var At=C.apply3DTransform(he._invTransform)(Ee,be);Ee=At[0],be=At[1],Ie=Le(Ee,be),xe.moveFn=Ge,xe.doneFn=lt,g(Z)},J.vangles&&!C.isFullCircle(J.sectorInRad)&&(xe.prepFn=C.noop,M(p.select(ce),null)),m.init(xe)},H.isPtInside=function(he){if(this.isSmith)return!0;var J=this.sectorInRad,Z=this.vangles,se=this.angularAxis.c2g(he.theta),$=this.radialAxis,ee=$.c2l(he.r),le=$._rl,Q=Z?b.isPtInsidePolygon:C.isPtInsideSector;return Q(ee,se,le,J,Z)},H.pathArc=function(he){var J=this.sectorInRad,Z=this.vangles,se=Z?b.pathPolygon:C.pathArc;return se(he,J[0],J[1],Z)},H.pathSector=function(he){var J=this.sectorInRad,Z=this.vangles,se=Z?b.pathPolygon:C.pathSector;return se(he,J[0],J[1],Z)},H.pathAnnulus=function(he,J){var Z=this.sectorInRad,se=this.vangles,$=se?b.pathPolygonAnnulus:C.pathAnnulus;return $(he,J,Z[0],Z[1],se)},H.pathSubplot=function(){var he=this.innerRadius,J=this.radius;return he?this.pathAnnulus(he,J):this.pathSector(J)},H.fillViewInitialKey=function(he,J){he in this.viewInitial||(this.viewInitial[he]=J)};function Y(he){var J=he.ticks+String(he.ticklen)+String(he.showticklabels);return"side"in he&&(J+=he.side),J}function q(he){var J=he[0],Z=he[1],se=Z-J,$=F(J,360),ee=$+se,le=Math.cos(N($)),Q=Math.sin(N($)),K=Math.cos(N(ee)),ue=Math.sin(N(ee)),ie,ce,xe,Le;return $<=90&&ee>=90||$>90&&ee>=450?Le=1:Q<=0&&ue<=0?Le=0:Le=Math.max(Q,ue),$<=180&&ee>=180||$>180&&ee>=540?ie=-1:le>=0&&K>=0?ie=0:ie=Math.min(le,K),$<=270&&ee>=270||$>270&&ee>=630?ce=-1:Q>=0&&ue>=0?ce=0:ce=Math.min(Q,ue),ee>=360?xe=1:le<=0&&K<=0?xe=0:xe=Math.max(le,K),[ie,ce,xe,Le]}function ne(he,J){var Z=function($){return C.angleDist(he,$)},se=C.findIndexOfMin(J,Z);return J[se]}function oe(he,J,Z){return J?(he.attr("display",null),he.attr(Z)):he&&he.attr("display","none"),he}},12101:function(V,B,e){var p=e(71828),L=e(21994),n=p.deg2rad,C=p.rad2deg;V.exports=function(i,a,h){switch(L(i,h),i._id){case"x":case"radialaxis":T(i,a);break;case"angularaxis":r(i,a);break}};function T(t,i){var a=i._subplot;t.setGeometry=function(){var h=t._rl[0],u=t._rl[1],s=a.innerRadius,m=(a.radius-s)/(u-h),f=s/m,S=h>u?function(v){return v<=0}:function(v){return v>=0};t.c2g=function(v){var l=t.c2l(v)-h;return(S(l)?l:0)+f},t.g2c=function(v){return t.l2c(v+h-f)},t.g2p=function(v){return v*m},t.c2p=function(v){return t.g2p(t.c2g(v))}}}function d(t,i){return i==="degrees"?n(t):t}function y(t,i){return i==="degrees"?C(t):t}function r(t,i){var a=t.type;if(a==="linear"){var h=t.d2c,u=t.c2d;t.d2c=function(s,m){return d(h(s),m)},t.c2d=function(s,m){return u(y(s,m))}}t.makeCalcdata=function(s,m){var f=s[m],S=s._length,v,l,g=function(E){return t.d2c(E,s.thetaunit)};if(f)for(v=new Array(S),l=0;l<S;l++)v[l]=g(f[l]);else{var M=m+"0",A="d"+m,k=M in s?g(s[M]):0,w=s[A]?g(s[A]):(t.period||2*Math.PI)/S;for(v=new Array(S),l=0;l<S;l++)v[l]=k+l*w}return v},t.setGeometry=function(){var s=i.sector,m=s.map(n),f={clockwise:-1,counterclockwise:1}[t.direction],S=n(t.rotation),v=function(b){return f*b+S},l=function(b){return(b-S)/f},g,M,A,k;switch(a){case"linear":M=g=p.identity,k=n,A=C,t.range=p.isFullCircle(m)?[s[0],s[0]+360]:m.map(l).map(C);break;case"category":var w=t._categories.length,E=t.period?Math.max(t.period,w):w;E===0&&(E=1),M=k=function(b){return b*2*Math.PI/E},g=A=function(b){return b*E/Math.PI/2},t.range=[0,E];break}t.c2g=function(b){return v(M(b))},t.g2c=function(b){return g(l(b))},t.t2g=function(b){return v(k(b))},t.g2t=function(b){return A(l(b))}}}},39779:function(V){V.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(V){function B(T){return T<0?-1:T>0?1:0}function e(T){var d=T[0],y=T[1];if(!isFinite(d)||!isFinite(y))return[1,0];var r=(d+1)*(d+1)+y*y;return[(d*d+y*y-1)/r,2*y/r]}function p(T,d){var y=d[0],r=d[1];return[y*T.radius+T.cx,-r*T.radius+T.cy]}function L(T,d){return d*T.radius}function n(T,d,y,r){var t=p(T,e([y,d])),i=t[0],a=t[1],h=p(T,e([r,d])),u=h[0],s=h[1];if(d===0)return["M"+i+","+a,"L"+u+","+s].join(" ");var m=L(T,1/Math.abs(d));return["M"+i+","+a,"A"+m+","+m+" 0 0,"+(d<0?1:0)+" "+u+","+s].join(" ")}function C(T,d,y,r){var t=L(T,1/(d+1)),i=p(T,e([d,y])),a=i[0],h=i[1],u=p(T,e([d,r])),s=u[0],m=u[1];if(B(y)!==B(r)){var f=p(T,e([d,0])),S=f[0],v=f[1];return["M"+a+","+h,"A"+t+","+t+" 0 0,"+(0<y?0:1)+" "+S+","+v,"A"+t+","+t+" 0 0,"+(r<0?0:1)+s+","+m].join(" ")}return["M"+a+","+h,"A"+t+","+t+" 0 0,"+(r<y?0:1)+" "+s+","+m].join(" ")}V.exports={smith:e,reactanceArc:n,resistanceArc:C,smithTransform:p}},7504:function(V,B,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(77997),C=e(39779),T=C.attr,d=C.name,y=L(d),r={};r[T]={valType:"subplotid",dflt:d,editType:"calc"};function t(a){for(var h=a._fullLayout,u=a.calcdata,s=h._subplots[d],m=0;m<s.length;m++){var f=s[m],S=p(u,d,f),v=h[f]._subplot;v||(v=n(a,f,!0),h[f]._subplot=v),v.plot(S,h,a._promises)}}function i(a,h,u,s){for(var m=s._subplots[d]||[],f=0;f<m.length;f++){var S=m[f],v=s[S]._subplot;if(!h[S]&&v){v.framework.remove();for(var l in v.clipPaths)v.clipPaths[l].remove()}}}V.exports={attr:T,name:d,idRoot:d,idRegex:y,attrRegex:y,attributes:r,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:t,clean:i,toSVG:e(93612).toSVG}},33419:function(V,B,e){var p=e(22399),L=e(13838),n=e(27670).Y,C=e(71828).extendFlat,T=e(30962).overrideAll,d=T({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),y=T({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},d,y),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},d,y);V.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:r,imaginaryaxis:t,editType:"calc"}},9558:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(49119),T=e(27659).NG,d=e(89426),y=e(96115),r=e(92128),t=e(21994),i=e(33419),a=e(39779),h=a.axisNames,u=m(function(f){return p.isTypedArray(f)&&(f=Array.from(f)),f.slice().reverse().map(function(S){return-S}).concat([0]).concat(f)},String);function s(f,S,v,l){var g=v("bgcolor");l.bgColor=L.combine(g,l.paper_bgcolor);var M=T(l.fullData,a.name,l.id),A=l.layoutOut,k;function w(H,Y){return v(k+"."+H,Y)}for(var E=0;E<h.length;E++){k=h[E],p.isPlainObject(f[k])||(f[k]={});var b=f[k],o=n.newContainer(S,k);o._id=o._name=k,o._attr=l.id+"."+k,o._traceIndices=M.map(function(H){return H._expandedIndex});var P=w("visible");if(o.type="linear",t(o,A),d(b,o,w,o.type),P){var x=k==="realaxis";if(x&&w("side"),x)w("tickvals");else{var z=u(S.realaxis.tickvals||i.realaxis.tickvals.dflt);w("tickvals",z)}p.isTypedArray(o.tickvals)&&(o.tickvals=Array.from(o.tickvals));var _,G,F,N,U=l.font||{};P&&(_=w("color"),G=_===b.color?_:U.color,F=U.size,N=U.family),y(b,o,w,o.type,{noTicklabelstep:!0,noAng:!x,noExp:!0,font:{color:G,size:F,family:N}}),p.coerce2(f,S,i,k+".ticklen"),p.coerce2(f,S,i,k+".tickwidth"),p.coerce2(f,S,i,k+".tickcolor",S.color);var O=w("ticks");O||(delete S[k].ticklen,delete S[k].tickwidth,delete S[k].tickcolor),r(b,o,w,{dfltColor:_,bgColor:l.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i[k]}),w("layer")}w("hoverformat"),delete o.type,o._input=b}}V.exports=function(S,v,l){C(S,v,l,{noUirevision:!0,type:a.name,attributes:i,handleDefaults:s,font:v.font,paper_bgcolor:v.paper_bgcolor,fullData:l,layoutOut:v})};function m(f,S){var v={};return function(l){var g=S?S(l):l;if(g in v)return v[g];var M=f(l);return v[g]=M,M}}},49119:function(V,B,e){var p=e(71828),L=e(44467),n=e(27670).c;V.exports=function(T,d,y,r){var t=r.type,i=r.attributes,a=r.handleDefaults,h=r.partition||"x",u=d._subplots[t],s=u.length,m=s&&u[0].replace(/\d+$/,""),f,S;function v(A,k){return p.coerce(f,S,i,A,k)}for(var l=0;l<s;l++){var g=u[l];T[g]?f=T[g]:f=T[g]={},S=L.newContainer(d,g,m),r.noUirevision||v("uirevision",d.uirevision);var M={};M[h]=[l/s,(l+1)/s],n(S,d,v,M),r.id=g,a(f,S,v,r)}}},5386:function(V,B,e){var p=e(31562);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(n){var C=n.description?" "+n.description:"",T=n.keys||[];if(T.length>0){for(var d=[],y=0;y<T.length;y++)d[y]="`"+T[y]+"`";C=C+"Finally, the template string has access to ",T.length===1?C=C+"variable "+d[0]:C=C+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return C}B.fF=function(n,C){n=n||{},C=C||{},L(C);var T={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(T.arrayOk=!0),T},B.si=function(n,C){n=n||{},C=C||{},L(C);var T={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(T.arrayOk=!0),T},B.R=function(n,C){n=n||{},C=C||{},n.newshape,L(C);var T={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return T}},61639:function(V,B,e){var p=e(64380),L=e(27659).AU,n=e(71828).counterRegex,C="ternary";B.name=C;var T=B.attr="subplot";B.idRoot=C,B.idRegex=B.attrRegex=n(C);var d=B.attributes={};d[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=e(81367),B.supplyLayoutDefaults=e(25369),B.plot=function(r){for(var t=r._fullLayout,i=r.calcdata,a=t._subplots[C],h=0;h<a.length;h++){var u=a[h],s=L(i,C,u),m=t[u]._subplot;m||(m=new p({id:u,graphDiv:r,container:t._ternarylayer.node()},t),t[u]._subplot=m),m.plot(s,t,r._promises)}},B.clean=function(y,r,t,i){for(var a=i._subplots[C]||[],h=0;h<a.length;h++){var u=a[h],s=i[u]._subplot;!r[u]&&s&&(s.plotContainer.remove(),s.clipDef.remove(),s.clipDefRelative.remove(),s.layers["a-title"].remove(),s.layers["b-title"].remove(),s.layers["c-title"].remove())}}},81367:function(V,B,e){var p=e(22399),L=e(27670).Y,n=e(13838),C=e(30962).overrideAll,T=e(1426).extendFlat,d={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:T({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:T({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:T({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},y=V.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:d,baxis:d,caxis:d},"plot","from-root");y.uirevision={valType:"any",editType:"none"},y.aaxis.uirevision=y.baxis.uirevision=y.caxis.uirevision={valType:"any",editType:"none"}},25369:function(V,B,e){var p=e(7901),L=e(44467),n=e(71828),C=e(49119),T=e(96115),d=e(89426),y=e(38701),r=e(26218),t=e(92128),i=e(81367),a=["aaxis","baxis","caxis"];V.exports=function(m,f,S){C(m,f,S,{type:"ternary",attributes:i,handleDefaults:h,font:f.font,paper_bgcolor:f.paper_bgcolor})};function h(s,m,f,S){var v=f("bgcolor"),l=f("sum");S.bgColor=p.combine(v,S.paper_bgcolor);for(var g,M,A,k=0;k<a.length;k++)g=a[k],M=s[g]||{},A=L.newContainer(m,g),A._name=g,u(M,A,S,m);var w=m.aaxis,E=m.baxis,b=m.caxis;w.min+E.min+b.min>=l&&(w.min=0,E.min=0,b.min=0,s.aaxis&&delete s.aaxis.min,s.baxis&&delete s.baxis.min,s.caxis&&delete s.caxis.min)}function u(s,m,f,S){var v=i[m._name];function l(o,P){return n.coerce(s,m,v,o,P)}l("uirevision",S.uirevision),m.type="linear";var g=l("color"),M=g!==v.color.dflt?g:f.font.color,A=m._name,k=A.charAt(0).toUpperCase(),w="Component "+k,E=l("title.text",w);m._hovertitle=E===w?E:k,n.coerceFont(l,"title.font",{family:f.font.family,size:n.bigFont(f.font.size),color:M}),l("min"),r(s,m,l,"linear"),d(s,m,l,"linear"),T(s,m,l,"linear"),y(s,m,l,{outerTicks:!0});var b=l("showticklabels");b&&(n.coerceFont(l,"tickfont",{family:f.font.family,size:f.font.size,color:M}),l("tickangle"),l("tickformat")),t(s,m,l,{dfltColor:g,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:v}),l("hoverformat"),l("layer")}},64380:function(V,B,e){var p=e(39898),L=e(84267),n=e(73972),C=e(71828),T=C.strTranslate,d=C._,y=e(7901),r=e(91424),t=e(21994),i=e(1426).extendFlat,a=e(74875),h=e(89298),u=e(28569),s=e(30211),m=e(64505),f=m.freeMode,S=m.rectMode,v=e(92998),l=e(47322).prepSelect,g=e(47322).selectOnClick,M=e(47322).clearOutline,A=e(47322).clearSelectionsCache,k=e(85555);function w(U,O){this.id=U.id,this.graphDiv=U.graphDiv,this.init(O),this.makeFramework(O),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}V.exports=w;var E=w.prototype;E.init=function(U){this.container=U._ternarylayer,this.defs=U._defs,this.layoutId=U._uid,this.traceHash={},this.layers={}},E.plot=function(U,O){var H=this,Y=O[H.id],q=O._size;H._hasClipOnAxisFalse=!1;for(var ne=0;ne<U.length;ne++){var oe=U[ne][0].trace;if(oe.cliponaxis===!1){H._hasClipOnAxisFalse=!0;break}}H.updateLayers(Y),H.adjustLayout(Y,q),a.generalUpdatePerTraceModule(H.graphDiv,H,U,Y),H.layers.plotbg.select("path").call(y.fill,Y.bgcolor)},E.makeFramework=function(U){var O=this,H=O.graphDiv,Y=U[O.id],q=O.clipId="clip"+O.layoutId+O.id,ne=O.clipIdRelative="clip-relative"+O.layoutId+O.id;O.clipDef=C.ensureSingleById(U._clips,"clipPath",q,function(oe){oe.append("path").attr("d","M0,0Z")}),O.clipDefRelative=C.ensureSingleById(U._clips,"clipPath",ne,function(oe){oe.append("path").attr("d","M0,0Z")}),O.plotContainer=C.ensureSingle(O.container,"g",O.id),O.updateLayers(Y),r.setClipUrl(O.layers.backplot,q,H),r.setClipUrl(O.layers.grids,q,H)},E.updateLayers=function(U){var O=this,H=O.layers,Y=["draglayer","plotbg","backplot","grids"];U.aaxis.layer==="below traces"&&Y.push("aaxis","aline"),U.baxis.layer==="below traces"&&Y.push("baxis","bline"),U.caxis.layer==="below traces"&&Y.push("caxis","cline"),Y.push("frontplot"),U.aaxis.layer==="above traces"&&Y.push("aaxis","aline"),U.baxis.layer==="above traces"&&Y.push("baxis","bline"),U.caxis.layer==="above traces"&&Y.push("caxis","cline");var q=O.plotContainer.selectAll("g.toplevel").data(Y,String),ne=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(oe){return"toplevel "+oe}).each(function(oe){var he=p.select(this);H[oe]=he,oe==="frontplot"?he.append("g").classed("scatterlayer",!0):oe==="backplot"?he.append("g").classed("maplayer",!0):oe==="plotbg"?he.append("path").attr("d","M0,0Z"):oe==="aline"||oe==="bline"||oe==="cline"?he.append("path"):oe==="grids"&&ne.forEach(function(J){H[J]=he.append("g").classed("grid "+J,!0)})}),q.order()};var b=Math.sqrt(4/3);E.adjustLayout=function(U,O){var H=this,Y=U.domain,q=(Y.x[0]+Y.x[1])/2,ne=(Y.y[0]+Y.y[1])/2,oe=Y.x[1]-Y.x[0],he=Y.y[1]-Y.y[0],J=oe*O.w,Z=he*O.h,se=U.sum,$=U.aaxis.min,ee=U.baxis.min,le=U.caxis.min,Q,K,ue,ie,ce,xe;J>b*Z?(ie=Z,ue=ie*b):(ue=J,ie=ue/b),ce=oe*ue/J,xe=he*ie/Z,Q=O.l+O.w*q-ue/2,K=O.t+O.h*(1-ne)-ie/2,H.x0=Q,H.y0=K,H.w=ue,H.h=ie,H.sum=se,H.xaxis={type:"linear",range:[$+2*le-se,se-$-2*ee],domain:[q-ce/2,q+ce/2],_id:"x"},t(H.xaxis,H.graphDiv._fullLayout),H.xaxis.setScale(),H.xaxis.isPtWithinRange=function(Ge){return Ge.a>=H.aaxis.range[0]&&Ge.a<=H.aaxis.range[1]&&Ge.b>=H.baxis.range[1]&&Ge.b<=H.baxis.range[0]&&Ge.c>=H.caxis.range[1]&&Ge.c<=H.caxis.range[0]},H.yaxis={type:"linear",range:[$,se-ee-le],domain:[ne-xe/2,ne+xe/2],_id:"y"},t(H.yaxis,H.graphDiv._fullLayout),H.yaxis.setScale(),H.yaxis.isPtWithinRange=function(){return!0};var Le=H.yaxis.domain[0],Ae=H.aaxis=i({},U.aaxis,{range:[$,se-ee-le],side:"left",tickangle:(+U.aaxis.tickangle||0)-30,domain:[Le,Le+xe*b],anchor:"free",position:0,_id:"y",_length:ue});t(Ae,H.graphDiv._fullLayout),Ae.setScale();var Oe=H.baxis=i({},U.baxis,{range:[se-$-le,ee],side:"bottom",domain:H.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ue});t(Oe,H.graphDiv._fullLayout),Oe.setScale();var ze=H.caxis=i({},U.caxis,{range:[se-$-ee,le],side:"right",tickangle:(+U.caxis.tickangle||0)+30,domain:[Le,Le+xe*b],anchor:"free",position:0,_id:"y",_length:ue});t(ze,H.graphDiv._fullLayout),ze.setScale();var Ee="M"+Q+","+(K+ie)+"h"+ue+"l-"+ue/2+",-"+ie+"Z";H.clipDef.select("path").attr("d",Ee),H.layers.plotbg.select("path").attr("d",Ee);var be="M0,"+ie+"h"+ue+"l-"+ue/2+",-"+ie+"Z";H.clipDefRelative.select("path").attr("d",be);var Ce=T(Q,K);H.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ce),H.clipDefRelative.select("path").attr("transform",null);var Ue=T(Q-Oe._offset,K+ie);H.layers.baxis.attr("transform",Ue),H.layers.bgrid.attr("transform",Ue);var He=T(Q+ue/2,K)+"rotate(30)"+T(0,-Ae._offset);H.layers.aaxis.attr("transform",He),H.layers.agrid.attr("transform",He);var Ie=T(Q+ue/2,K)+"rotate(-30)"+T(0,-ze._offset);H.layers.caxis.attr("transform",Ie),H.layers.cgrid.attr("transform",Ie),H.drawAxes(!0),H.layers.aline.select("path").attr("d",Ae.showline?"M"+Q+","+(K+ie)+"l"+ue/2+",-"+ie:"M0,0").call(y.stroke,Ae.linecolor||"#000").style("stroke-width",(Ae.linewidth||0)+"px"),H.layers.bline.select("path").attr("d",Oe.showline?"M"+Q+","+(K+ie)+"h"+ue:"M0,0").call(y.stroke,Oe.linecolor||"#000").style("stroke-width",(Oe.linewidth||0)+"px"),H.layers.cline.select("path").attr("d",ze.showline?"M"+(Q+ue/2)+","+K+"l"+ue/2+","+ie:"M0,0").call(y.stroke,ze.linecolor||"#000").style("stroke-width",(ze.linewidth||0)+"px"),H.graphDiv._context.staticPlot||H.initInteractions(),r.setClipUrl(H.layers.frontplot,H._hasClipOnAxisFalse?null:H.clipId,H.graphDiv)},E.drawAxes=function(U){var O=this,H=O.graphDiv,Y=O.id.substr(7)+"title",q=O.layers,ne=O.aaxis,oe=O.baxis,he=O.caxis;if(O.drawAx(ne),O.drawAx(oe),O.drawAx(he),U){var J=Math.max(ne.showticklabels?ne.tickfont.size/2:0,(he.showticklabels?he.tickfont.size*.75:0)+(he.ticks==="outside"?he.ticklen*.87:0)),Z=(oe.showticklabels?oe.tickfont.size:0)+(oe.ticks==="outside"?oe.ticklen:0)+3;q["a-title"]=v.draw(H,"a"+Y,{propContainer:ne,propName:O.id+".aaxis.title",placeholder:d(H,"Click to enter Component A title"),attributes:{x:O.x0+O.w/2,y:O.y0-ne.title.font.size/3-J,"text-anchor":"middle"}}),q["b-title"]=v.draw(H,"b"+Y,{propContainer:oe,propName:O.id+".baxis.title",placeholder:d(H,"Click to enter Component B title"),attributes:{x:O.x0-Z,y:O.y0+O.h+oe.title.font.size*.83+Z,"text-anchor":"middle"}}),q["c-title"]=v.draw(H,"c"+Y,{propContainer:he,propName:O.id+".caxis.title",placeholder:d(H,"Click to enter Component C title"),attributes:{x:O.x0+O.w+Z,y:O.y0+O.h+he.title.font.size*.83+Z,"text-anchor":"middle"}})}},E.drawAx=function(U){var O=this,H=O.graphDiv,Y=U._name,q=Y.charAt(0),ne=U._id,oe=O.layers[Y],he=30,J=q+"tickLayout",Z=o(U);O[J]!==Z&&(oe.selectAll("."+ne+"tick").remove(),O[J]=Z),U.setScale();var se=h.calcTicks(U),$=h.clipEnds(U,se),ee=h.makeTransTickFn(U),le=h.getTickSigns(U)[2],Q=C.deg2rad(he),K=le*(U.linewidth||1)/2,ue=le*U.ticklen,ie=O.w,ce=O.h,xe=q==="b"?"M0,"+K+"l"+Math.sin(Q)*ue+","+Math.cos(Q)*ue:"M"+K+",0l"+Math.cos(Q)*ue+","+-Math.sin(Q)*ue,Le={a:"M0,0l"+ce+",-"+ie/2,b:"M0,0l-"+ie/2+",-"+ce,c:"M0,0l-"+ce+","+ie/2}[q];h.drawTicks(H,U,{vals:U.ticks==="inside"?$:se,layer:oe,path:xe,transFn:ee,crisp:!1}),h.drawGrid(H,U,{vals:$,layer:O.layers[q+"grid"],path:Le,transFn:ee,crisp:!1}),h.drawLabels(H,U,{vals:se,layer:oe,transFn:ee,labelFns:h.makeLabelFns(U,0,he)})};function o(U){return U.ticks+String(U.ticklen)+String(U.showticklabels)}var P=k.MINZOOM/2+.87,x="m-0.87,.5h"+P+"v3h-"+(P+5.2)+"l"+(P/2+2.6)+",-"+(P*.87+4.5)+"l2.6,1.5l-"+P/2+","+P*.87+"Z",z="m0.87,.5h-"+P+"v3h"+(P+5.2)+"l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-2.6,1.5l"+P/2+","+P*.87+"Z",_="m0,1l"+P/2+","+P*.87+"l2.6,-1.5l-"+(P/2+2.6)+",-"+(P*.87+4.5)+"l-"+(P/2+2.6)+","+(P*.87+4.5)+"l2.6,1.5l"+P/2+",-"+P*.87+"Z",G="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",F=!0;E.clearOutline=function(){A(this.dragOptions),M(this.dragOptions.gd)},E.initInteractions=function(){var U=this,O=U.layers.plotbg.select("path").node(),H=U.graphDiv,Y=H._fullLayout._zoomlayer,q,ne;this.dragOptions={element:O,gd:H,plotinfo:{id:U.id,domain:H._fullLayout[U.id].domain,xaxis:U.xaxis,yaxis:U.yaxis},subplot:U.id,prepFn:function(Ue,He,Ie){U.dragOptions.xaxes=[U.xaxis],U.dragOptions.yaxes=[U.yaxis],q=H._fullLayout._invScaleX,ne=H._fullLayout._invScaleY;var Ge=U.dragOptions.dragmode=H._fullLayout.dragmode;f(Ge)?U.dragOptions.minDrag=1:U.dragOptions.minDrag=void 0,Ge==="zoom"?(U.dragOptions.moveFn=Oe,U.dragOptions.clickFn=ie,U.dragOptions.doneFn=ze,ce(Ue,He,Ie)):Ge==="pan"?(U.dragOptions.moveFn=be,U.dragOptions.clickFn=ie,U.dragOptions.doneFn=Ce,Ee(),U.clearOutline(H)):(S(Ge)||f(Ge))&&l(Ue,He,Ie,U.dragOptions,Ge)}};var oe,he,J,Z,se,$,ee,le,Q,K;function ue(Ue){var He={};return He[U.id+".aaxis.min"]=Ue.a,He[U.id+".baxis.min"]=Ue.b,He[U.id+".caxis.min"]=Ue.c,He}function ie(Ue,He){var Ie=H._fullLayout.clickmode;N(H),Ue===2&&(H.emit("plotly_doubleclick",null),n.call("_guiRelayout",H,ue({a:0,b:0,c:0}))),Ie.indexOf("select")>-1&&Ue===1&&g(He,H,[U.xaxis],[U.yaxis],U.id,U.dragOptions),Ie.indexOf("event")>-1&&s.click(H,He,U.id)}function ce(Ue,He,Ie){var Ge=O.getBoundingClientRect();oe=He-Ge.left,he=Ie-Ge.top,H._fullLayout._calcInverseTransform(H);var at=H._fullLayout._invTransform,lt=C.apply3DTransform(at)(oe,he);oe=lt[0],he=lt[1],J={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},se=J,Z=U.aaxis.range[1]-J.a,$=L(U.graphDiv._fullLayout[U.id].bgcolor).getLuminance(),ee="M0,"+U.h+"L"+U.w/2+", 0L"+U.w+","+U.h+"Z",le=!1,Q=Y.append("path").attr("class","zoombox").attr("transform",T(U.x0,U.y0)).style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",ee),K=Y.append("path").attr("class","zoombox-corners").attr("transform",T(U.x0,U.y0)).style({fill:y.background,stroke:y.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),U.clearOutline(H)}function xe(Ue,He){return 1-He/U.h}function Le(Ue,He){return 1-(Ue+(U.h-He)/Math.sqrt(3))/U.w}function Ae(Ue,He){return(Ue-(U.h-He)/Math.sqrt(3))/U.w}function Oe(Ue,He){var Ie=oe+Ue*q,Ge=he+He*ne,at=Math.max(0,Math.min(1,xe(oe,he),xe(Ie,Ge))),lt=Math.max(0,Math.min(1,Le(oe,he),Le(Ie,Ge))),qe=Math.max(0,Math.min(1,Ae(oe,he),Ae(Ie,Ge))),et=(at/2+qe)*U.w,ft=(1-at/2-lt)*U.w,dt=(et+ft)/2,pt=ft-et,At=(1-at)*U.h,Pt=At-pt/b;pt<k.MINZOOM?(se=J,Q.attr("d",ee),K.attr("d","M0,0Z")):(se={a:J.a+at*Z,b:J.b+lt*Z,c:J.c+qe*Z},Q.attr("d",ee+"M"+et+","+At+"H"+ft+"L"+dt+","+Pt+"L"+et+","+At+"Z"),K.attr("d","M"+oe+","+he+G+"M"+et+","+At+x+"M"+ft+","+At+z+"M"+dt+","+Pt+_)),le||(Q.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),K.transition().style("opacity",1).duration(200),le=!0),H.emit("plotly_relayouting",ue(se))}function ze(){N(H),se!==J&&(n.call("_guiRelayout",H,ue(se)),F&&H.data&&H._context.showTips&&(C.notifier(d(H,"Double-click to zoom back out"),"long"),F=!1))}function Ee(){J={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},se=J}function be(Ue,He){var Ie=Ue/U.xaxis._m,Ge=He/U.yaxis._m;se={a:J.a-Ge,b:J.b+(Ie+Ge)/2,c:J.c-(Ie-Ge)/2};var at=[se.a,se.b,se.c].sort(C.sorterAsc),lt={a:at.indexOf(se.a),b:at.indexOf(se.b),c:at.indexOf(se.c)};at[0]<0&&(at[1]+at[0]/2<0?(at[2]+=at[0]+at[1],at[0]=at[1]=0):(at[2]+=at[0]/2,at[1]+=at[0]/2,at[0]=0),se={a:at[lt.a],b:at[lt.b],c:at[lt.c]},He=(J.a-se.a)*U.yaxis._m,Ue=(J.c-se.c-J.b+se.b)*U.xaxis._m);var qe=T(U.x0+Ue,U.y0+He);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",qe);var et=T(-Ue,-He);U.clipDefRelative.select("path").attr("transform",et),U.aaxis.range=[se.a,U.sum-se.b-se.c],U.baxis.range=[U.sum-se.a-se.c,se.b],U.caxis.range=[U.sum-se.a-se.b,se.c],U.drawAxes(!1),U._hasClipOnAxisFalse&&U.plotContainer.select(".scatterlayer").selectAll(".trace").call(r.hideOutsideRangePoints,U),H.emit("plotly_relayouting",ue(se))}function Ce(){n.call("_guiRelayout",H,ue(se))}O.onmousemove=function(Ue){s.hover(H,Ue,U.id),H._fullLayout._lasthover=O,H._fullLayout._hoversubplot=U.id},O.onmouseout=function(Ue){H._dragging||u.unhover(H,Ue)},u.init(this.dragOptions)};function N(U){p.select(U).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(V,B,e){var p=e(47769),L=e(64213),n=e(75138),C=e(41965),T=e(24401).addStyleRule,d=e(1426),y=e(9012),r=e(10820),t=d.extendFlat,i=d.extendDeepAll;B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(A){if(B.collectableSubplotTypes=null,A)A&&!Array.isArray(A)&&(A=[A]);else throw new Error("No argument passed to Plotly.register.");for(var k=0;k<A.length;k++){var w=A[k];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":a(w);break;case"transform":s(w);break;case"component":u(w);break;case"locale":m(w);break;case"apiMethod":var E=w.name;B.apiMethodRegistry[E]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(M){var A=B.modules[g(M)];return A?A._module:!1},B.traceIs=function(M,A){if(M=g(M),M==="various")return!1;var k=B.modules[M];return k||(M&&p.log("Unrecognized trace type "+M+"."),k=B.modules[y.type.dflt]),!!k.categories[A]},B.getTransformIndices=function(M,A){for(var k=[],w=M.transforms||[],E=0;E<w.length;E++)w[E].type===A&&k.push(E);return k},B.hasTransform=function(M,A){for(var k=M.transforms||[],w=0;w<k.length;w++)if(k[w].type===A)return!0;return!1},B.getComponentMethod=function(M,A){var k=B.componentsRegistry[M];return k&&k[A]||L},B.call=function(){var M=arguments[0],A=[].slice.call(arguments,1);return B.apiMethodRegistry[M].apply(null,A)};function a(M){var A=M.name,k=M.categories,w=M.meta;if(B.modules[A]){p.log("Type "+A+" already registered");return}B.subplotsRegistry[M.basePlotModule.name]||h(M.basePlotModule);for(var E={},b=0;b<k.length;b++)E[k[b]]=!0,B.allCategories[k[b]]=!0;B.modules[A]={_module:M,categories:E},w&&Object.keys(w).length&&(B.modules[A].meta=w),B.allTypes.push(A);for(var o in B.componentsRegistry)S(o,A);M.layoutAttributes&&t(B.traceLayoutAttributes,M.layoutAttributes);var P=M.basePlotModule,x=P.name;if(x==="mapbox"){var z=P.constants.styleRules;for(var _ in z)T(".js-plotly-plot .plotly .mapboxgl-"+_,z[_])}(x==="geo"||x==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function h(M){var A=M.name;if(B.subplotsRegistry[A]){p.log("Plot type "+A+" already registered.");return}f(M),B.subplotsRegistry[A]=M;for(var k in B.componentsRegistry)l(k,M.name)}function u(M){if(typeof M.name!="string")throw new Error("Component module *name* must be a string.");var A=M.name;B.componentsRegistry[A]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&n(B.layoutArrayContainers,A),f(M));for(var k in B.modules)S(A,k);for(var w in B.subplotsRegistry)l(A,w);for(var E in B.transformsRegistry)v(A,E);M.schema&&M.schema.layout&&i(r,M.schema.layout)}function s(M){if(typeof M.name!="string")throw new Error("Transform module *name* must be a string.");var A="Transform module "+M.name,k=typeof M.transform=="function",w=typeof M.calcTransform=="function";if(!k&&!w)throw new Error(A+" is missing a *transform* or *calcTransform* method.");k&&w&&p.log([A+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(M.attributes)||p.log(A+" registered without an *attributes* object."),typeof M.supplyDefaults!="function"&&p.log(A+" registered without a *supplyDefaults* method."),B.transformsRegistry[M.name]=M;for(var E in B.componentsRegistry)v(E,M.name)}function m(M){var A=M.name,k=A.split("-")[0],w=M.dictionary,E=M.format,b=w&&Object.keys(w).length,o=E&&Object.keys(E).length,P=B.localeRegistry,x=P[A];if(x||(P[A]=x={}),k!==A){var z=P[k];z||(P[k]=z={}),b&&z.dictionary===x.dictionary&&(z.dictionary=w),o&&z.format===x.format&&(z.format=E)}b&&(x.dictionary=w),o&&(x.format=E)}function f(M){if(M.layoutAttributes){var A=M.layoutAttributes._arrayAttrRegexps;if(A)for(var k=0;k<A.length;k++)n(B.layoutArrayRegexes,A[k])}}function S(M,A){var k=B.componentsRegistry[M].schema;if(!(!k||!k.traces)){var w=k.traces[A];w&&i(B.modules[A]._module.attributes,w)}}function v(M,A){var k=B.componentsRegistry[M].schema;if(!(!k||!k.transforms)){var w=k.transforms[A];w&&i(B.transformsRegistry[A].attributes,w)}}function l(M,A){var k=B.componentsRegistry[M].schema;if(!(!k||!k.subplots)){var w=B.subplotsRegistry[A],E=w.layoutAttributes,b=w.attr==="subplot"?w.name:w.attr;Array.isArray(b)&&(b=b[0]);var o=k.subplots[b];E&&o&&i(E,o)}}function g(M){return typeof M=="object"&&(M=M.type),M}},61914:function(V,B,e){var p=e(73972),L=e(71828),n=L.extendFlat,C=L.extendDeep;function T(y){var r;switch(y){case"themes__thumb":r={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":r={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:r={}}return r}function d(y){var r=["xaxis","yaxis","zaxis"];return r.indexOf(y.slice(0,5))>-1}V.exports=function(r,t){var i,a=r.data,h=r.layout,u=C([],a),s=C({},h,T(t.tileClass)),m=r._context||{};if(t.width&&(s.width=t.width),t.height&&(s.height=t.height),t.tileClass==="thumbnail"||t.tileClass==="themes__thumb"){s.annotations=[];var f=Object.keys(s);for(i=0;i<f.length;i++)d(f[i])&&(s[f[i]].title={text:""});for(i=0;i<u.length;i++){var S=u[i];S.showscale=!1,S.marker&&(S.marker.showscale=!1),p.traceIs(S,"pie-like")&&(S.textposition="none")}}if(Array.isArray(t.annotations))for(i=0;i<t.annotations.length;i++)s.annotations.push(t.annotations[i]);var v=Object.keys(s).filter(function(k){return k.match(/^scene\d*$/)});if(v.length){var l={};for(t.tileClass==="thumbnail"&&(l={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),i=0;i<v.length;i++){var g=s[v[i]];g.xaxis||(g.xaxis={}),g.yaxis||(g.yaxis={}),g.zaxis||(g.zaxis={}),n(g.xaxis,l),n(g.yaxis,l),n(g.zaxis,l),g._scene=null}}var M=document.createElement("div");t.tileClass&&(M.className=t.tileClass);var A={gd:M,td:M,layout:s,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return t.setBackground!=="transparent"&&(A.config.setBackground=t.setBackground||"opaque"),A.gd.defaultLayout=T(t.tileClass),A}},7239:function(V,B,e){var p=e(71828),L=e(403),n=e(22435),C=e(25095);function T(d,y){var r;return p.isPlainObject(d)||(r=p.getGraphDiv(d)),y=y||{},y.format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(t,i){r&&r._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),p.isIE()&&y.format!=="svg"&&i(new Error(C.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var a=L(d,y),h=y.filename||d.fn||"newplot";h+="."+y.format.replace("-","."),a.then(function(u){return r&&(r._snapshotInProgress=!1),n(u,h,y.format)}).then(function(u){t(u)}).catch(function(u){r&&(r._snapshotInProgress=!1),i(u)})})}V.exports=T},22435:function(V,B,e){var p=e(71828),L=e(25095);function n(C,T,d){var y=document.createElement("a"),r="download"in y,t=new Promise(function(i,a){var h,u;if(p.isIE())return h=L.createBlob(C,"svg"),window.navigator.msSaveBlob(h,T),h=null,i(T);if(r)return h=L.createBlob(C,d),u=L.createObjectURL(h),y.href=u,y.download=T,document.body.appendChild(y),y.click(),document.body.removeChild(y),L.revokeObjectURL(u),h=null,i(T);if(p.isSafari()){var s=d==="svg"?",":";base64,";return L.octetStream(s+encodeURIComponent(C)),i(T)}a(new Error("download error"))});return t}V.exports=n},25095:function(V,B,e){var p=e(73972);B.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},B.getRedrawFunc=function(C){return function(){p.getComponentMethod("colorbar","draw")(C)}},B.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},B.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;B.createObjectURL=function(C){return L.createObjectURL(C)},B.revokeObjectURL=function(C){return L.revokeObjectURL(C)},B.createBlob=function(C,T){if(T==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var d=n(window.atob(C));return new window.Blob([d],{type:"image/"+T})},B.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function n(C){for(var T=C.length,d=new ArrayBuffer(T),y=new Uint8Array(d),r=0;r<T;r++)y[r]=C.charCodeAt(r);return d}B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(V,B,e){var p=e(25095),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};V.exports=L},70942:function(V,B,e){var p=e(71828),L=e(15398).EventEmitter,n=e(25095);function C(T){var d=T.emitter||new L,y=new Promise(function(r,t){var i=window.Image,a=T.svg,h=T.format||"png";if(p.isIE()&&h!=="svg"){var u=new Error(n.MSG_IE_BAD_FORMAT);return t(u),T.promise?y:d.emit("error",u)}var s=T.canvas,m=T.scale||1,f=T.width||300,S=T.height||150,v=m*f,l=m*S,g=s.getContext("2d",{willReadFrequently:!0}),M=new i,A,k;h==="svg"||p.isSafari()?k=n.encodeSVG(a):(A=n.createBlob(a,"svg"),k=n.createObjectURL(A)),s.width=v,s.height=l,M.onload=function(){var w;switch(A=null,n.revokeObjectURL(k),h!=="svg"&&g.drawImage(M,0,0,v,l),h){case"jpeg":w=s.toDataURL("image/jpeg");break;case"png":w=s.toDataURL("image/png");break;case"webp":w=s.toDataURL("image/webp");break;case"svg":w=k;break;default:var E="Image format is not jpeg, png, svg or webp.";if(t(new Error(E)),!T.promise)return d.emit("error",E)}r(w),T.promise||d.emit("success",w)},M.onerror=function(w){if(A=null,n.revokeObjectURL(k),t(w),!T.promise)return d.emit("error",w)},M.src=k});return T.promise?y:d}V.exports=C},56395:function(V,B,e){var p=e(15398).EventEmitter,L=e(73972),n=e(71828),C=e(25095),T=e(61914),d=e(5900),y=e(70942);function r(t,i){var a=new p,h=T(t,{format:"png"}),u=h.gd;u.style.position="absolute",u.style.left="-5000px",document.body.appendChild(u);function s(){var f=C.getDelay(u._fullLayout);setTimeout(function(){var S=d(u),v=document.createElement("canvas");v.id=n.randstr(),a=y({format:i.format,width:u._fullLayout.width,height:u._fullLayout.height,canvas:v,emitter:a,svg:S}),a.clean=function(){u&&document.body.removeChild(u)}},f)}var m=C.getRedrawFunc(u);return L.call("_doPlot",u,h.data,h.layout,h.config).then(m).then(s).catch(function(f){a.emit("error",f)}),a}V.exports=r},5900:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(7901),T=e(77922),d=/"/g,y="TOBESTRIPPED",r=new RegExp('("'+y+")|("+y+'")',"g");function t(a){var h=p.select("body").append("div").style({display:"none"}).html(""),u=a.replace(/(&[^;]*;)/gi,function(s){return s==="&lt;"?"&#60;":s==="&rt;"?"&#62;":s.indexOf("<")!==-1||s.indexOf(">")!==-1?"":h.html(s).text()});return h.remove(),u}function i(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}V.exports=function(h,u,s){var m=h._fullLayout,f=m._paper,S=m._toppaper,v=m.width,l=m.height,g;f.insert("rect",":first-child").call(n.setRect,0,0,v,l).call(C.fill,m.paper_bgcolor);var M=m._basePlotModules||[];for(g=0;g<M.length;g++){var A=M[g];A.toSVG&&A.toSVG(h)}if(S){var k=S.node().childNodes,w=Array.prototype.slice.call(k);for(g=0;g<w.length;g++){var E=w[g];E.childNodes.length&&f.node().appendChild(E)}}m._draggers&&m._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var o=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){o.remove();return}else o.style({visibility:null,display:null});var P=this.style.fontFamily;P&&P.indexOf('"')!==-1&&o.style("font-family",P.replace(d,y))}),f.selectAll(".gradient_filled,.pattern_filled").each(function(){var o=p.select(this),P=this.style.fill;P&&P.indexOf("url(")!==-1&&o.style("fill",P.replace(d,y));var x=this.style.stroke;x&&x.indexOf("url(")!==-1&&o.style("stroke",x.replace(d,y))}),(u==="pdf"||u==="eps")&&f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(T.xmlns,"xmlns",T.svg),f.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),u==="svg"&&s&&(f.attr("width",s*v),f.attr("height",s*l),f.attr("viewBox","0 0 "+v+" "+l));var b=new window.XMLSerializer().serializeToString(f.node());return b=t(b),b=i(b),b=b.replace(r,"'"),L.isIE()&&(b=b.replace(/"/gi,"'"),b=b.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),b=b.replace(/(\\')/gi,'"')),b}},75341:function(V,B,e){var p=e(71828);V.exports=function(n,C){for(var T=0;T<n.length;T++)n[T].i=T;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var d=C.marker;if(d){p.mergeArray(d.opacity,n,"mo",!0),p.mergeArray(d.color,n,"mc");var y=d.line;y&&(p.mergeArray(y.color,n,"mlc"),p.mergeArrayCastPositive(y.width,n,"mlw"))}}},1486:function(V,B,e){var p=e(82196),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(5386).si,T=e(50693),d=e(41940),y=e(97313),r=e(79952).u,t=e(1426).extendFlat,i=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),a=p.marker,h=a.line,u=t({},h.width,{dflt:0}),s=t({width:u,editType:"calc"},T("marker.line")),m=t({line:s,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:r});V.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:C({editType:"plot"},{keys:y.eventDataKeys}),hovertext:p.hovertext,hovertemplate:n({},{keys:y.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:t({},i,{}),insidetextfont:t({},i,{}),outsidetextfont:t({},i,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:t({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(V,B,e){var p=e(89298),L=e(42973),n=e(52075).hasColorscale,C=e(78803),T=e(75341),d=e(66279);V.exports=function(r,t){var i=p.getFromId(r,t.xaxis||"x"),a=p.getFromId(r,t.yaxis||"y"),h,u,s,m,f,S,v={msUTC:!!(t.base||t.base===0)};t.orientation==="h"?(h=i.makeCalcdata(t,"x",v),s=a.makeCalcdata(t,"y"),m=L(t,a,"y",s),f=!!t.yperiodalignment,S="y"):(h=a.makeCalcdata(t,"y",v),s=i.makeCalcdata(t,"x"),m=L(t,i,"x",s),f=!!t.xperiodalignment,S="x"),u=m.vals;for(var l=Math.min(u.length,h.length),g=new Array(l),M=0;M<l;M++)g[M]={p:u[M],s:h[M]},f&&(g[M].orig_p=s[M],g[M][S+"End"]=m.ends[M],g[M][S+"Start"]=m.starts[M]),t.ids&&(g[M].id=String(t.ids[M]));return n(t,"marker")&&C(r,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),n(t,"marker.line")&&C(r,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(g,t),d(g,t),g}},97313:function(V){V.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(V,B,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,C=e(73972),T=e(89298),d=e(99082).getAxisGroup,y=e(61546);function r(b,o){for(var P=o.xaxis,x=o.yaxis,z=b._fullLayout,_=b._fullData,G=b.calcdata,F=[],N=[],U=0;U<_.length;U++){var O=_[U];if(O.visible===!0&&C.traceIs(O,"bar")&&O.xaxis===P._id&&O.yaxis===x._id&&(O.orientation==="h"?F.push(G[U]):N.push(G[U]),O._computePh))for(var H=b.calcdata[U],Y=0;Y<H.length;Y++)typeof H[Y].ph0=="function"&&(H[Y].ph0=H[Y].ph0()),typeof H[Y].ph1=="function"&&(H[Y].ph1=H[Y].ph1())}var q={xCat:P.type==="category"||P.type==="multicategory",yCat:x.type==="category"||x.type==="multicategory",mode:z.barmode,norm:z.barnorm,gap:z.bargap,groupgap:z.bargroupgap};t(b,P,x,N,q),t(b,x,P,F,q)}function t(b,o,P,x,z){if(x.length){var _,G,F,N,U;switch(i(P,x),z.mode){case"overlay":a(o,P,x,z);break;case"group":for(_=[],G=[],F=0;F<x.length;F++)N=x[F],U=N[0].trace,U.offset===void 0?G.push(N):_.push(N);G.length&&h(b,o,P,G,z),_.length&&a(o,P,_,z);break;case"stack":case"relative":for(_=[],G=[],F=0;F<x.length;F++)N=x[F],U=N[0].trace,U.base===void 0?G.push(N):_.push(N);G.length&&u(b,o,P,G,z),_.length&&a(o,P,_,z);break}w(x,o)}}function i(b,o){var P,x;for(P=0;P<o.length;P++){var z=o[P],_=z[0].trace,G=_.type==="funnel"?_._base:_.base,F,N=_.orientation==="h"?_.xcalendar:_.ycalendar,U=b.type==="category"||b.type==="multicategory"?function(){return null}:b.d2c;if(L(G)){for(x=0;x<Math.min(G.length,z.length);x++)F=U(G[x],0,N),p(F)?(z[x].b=+F,z[x].hasB=1):z[x].b=0;for(;x<z.length;x++)z[x].b=0}else{F=U(G,0,N);var O=p(F);for(F=O?F:0,x=0;x<z.length;x++)z[x].b=F,O&&(z[x].hasB=1)}}}function a(b,o,P,x){for(var z=0;z<P.length;z++){var _=P[z],G=new y([_],{posAxis:b,sepNegVal:!1,overlapNoMerge:!x.norm});s(b,G,x),x.norm?(M(G),k(o,G,x)):l(o,G)}}function h(b,o,P,x,z){var _=new y(x,{posAxis:o,sepNegVal:!1,overlapNoMerge:!z.norm});m(b,o,_,z),A(_,o),z.norm?(M(_),k(P,_,z)):l(P,_)}function u(b,o,P,x,z){var _=new y(x,{posAxis:o,sepNegVal:z.mode==="relative",overlapNoMerge:!(z.norm||z.mode==="stack"||z.mode==="relative")});s(o,_,z),g(P,_,z);for(var G=0;G<x.length;G++)for(var F=x[G],N=0;N<F.length;N++){var U=F[N];if(U.s!==n){var O=U.b+U.s===_.get(U.p,U.s);O&&(U._outmost=!0)}}z.norm&&k(P,_,z)}function s(b,o,P){for(var x=o.minDiff,z=o.traces,_=x*(1-P.gap),G=_,F=G*(1-(P.groupgap||0)),N=-F/2,U=0;U<z.length;U++){var O=z[U],H=O[0].t;H.barwidth=F,H.poffset=N,H.bargroupwidth=_,H.bardelta=x}o.binWidth=z[0][0].t.barwidth/100,f(o),S(b,o),v(b,o)}function m(b,o,P,x){for(var z=b._fullLayout,_=P.positions,G=P.distinctPositions,F=P.minDiff,N=P.traces,U=N.length,O=_.length!==G.length,H=F*(1-x.gap),Y=d(z,o._id)+N[0][0].trace.orientation,q=z._alignmentOpts[Y]||{},ne=0;ne<U;ne++){var oe=N[ne],he=oe[0].trace,J=q[he.alignmentgroup]||{},Z=Object.keys(J.offsetGroups||{}).length,se;Z?se=H/Z:se=O?H/U:H;var $=se*(1-(x.groupgap||0)),ee;Z?ee=((2*he._offsetIndex+1-Z)*se-$)/2:ee=O?((2*ne+1-U)*se-$)/2:-$/2;var le=oe[0].t;le.barwidth=$,le.poffset=ee,le.bargroupwidth=H,le.bardelta=F}P.binWidth=N[0][0].t.barwidth/100,f(P),S(o,P),v(o,P,O)}function f(b){var o=b.traces,P,x;for(P=0;P<o.length;P++){var z=o[P],_=z[0],G=_.trace,F=_.t,N=G._offset||G.offset,U=F.poffset,O;if(L(N)){for(O=Array.prototype.slice.call(N,0,z.length),x=0;x<O.length;x++)p(O[x])||(O[x]=U);for(x=O.length;x<z.length;x++)O.push(U);F.poffset=O}else N!==void 0&&(F.poffset=N);var H=G._width||G.width,Y=F.barwidth;if(L(H)){var q=Array.prototype.slice.call(H,0,z.length);for(x=0;x<q.length;x++)p(q[x])||(q[x]=Y);for(x=q.length;x<z.length;x++)q.push(Y);if(F.barwidth=q,N===void 0){for(O=[],x=0;x<z.length;x++)O.push(U+(Y-q[x])/2);F.poffset=O}}else H!==void 0&&(F.barwidth=H,N===void 0&&(F.poffset=U+(Y-H)/2))}}function S(b,o){for(var P=o.traces,x=E(b),z=0;z<P.length;z++)for(var _=P[z],G=_[0].t,F=G.poffset,N=L(F),U=G.barwidth,O=L(U),H=0;H<_.length;H++){var Y=_[H],q=Y.w=O?U[H]:U;Y.p===void 0&&(Y.p=Y[x],Y["orig_"+x]=Y[x]);var ne=(N?F[H]:F)+q/2;Y[x]=Y.p+ne}}function v(b,o,P){var x=o.traces,z=o.minDiff,_=z/2;T.minDtick(b,o.minDiff,o.distinctPositions[0],P);for(var G=0;G<x.length;G++){var F=x[G],N=F[0],U=N.trace,O=[],H,Y,q,ne;for(ne=0;ne<F.length;ne++)H=F[ne],Y=H.p-_,q=H.p+_,O.push(Y,q);if(U.width||U.offset){var oe=N.t,he=oe.poffset,J=oe.barwidth,Z=L(he),se=L(J);for(ne=0;ne<F.length;ne++){H=F[ne];var $=Z?he[ne]:he,ee=se?J[ne]:J;Y=H.p+$,q=Y+ee,O.push(Y,q)}}U._extremes[b._id]=T.findExtremes(b,O,{padded:!1})}}function l(b,o){for(var P=o.traces,x=E(b),z=0;z<P.length;z++){for(var _=P[z],G=_[0].trace,F=G.type==="scatter",N=G.orientation==="v",U=[],O=!1,H=0;H<_.length;H++){var Y=_[H],q=F?0:Y.b,ne=F?N?Y.y:Y.x:q+Y.s;Y[x]=ne,U.push(ne),Y.hasB&&U.push(q),(!Y.hasB||!Y.b)&&(O=!0)}G._extremes[b._id]=T.findExtremes(b,U,{tozero:O,padded:!0})}}function g(b,o,P){var x=E(b),z=o.traces,_,G,F,N,U,O;for(N=0;N<z.length;N++)if(_=z[N],G=_[0].trace,G.type==="funnel")for(U=0;U<_.length;U++)O=_[U],O.s!==n&&o.put(O.p,-.5*O.s);for(N=0;N<z.length;N++){_=z[N],G=_[0].trace,F=G.type==="funnel";var H=[];for(U=0;U<_.length;U++)if(O=_[U],O.s!==n){var Y;F?Y=O.s:Y=O.s+O.b;var q=o.put(O.p,Y),ne=q+Y;O.b=q,O[x]=ne,P.norm||(H.push(ne),O.hasB&&H.push(q))}P.norm||(G._extremes[b._id]=T.findExtremes(b,H,{tozero:!0,padded:!0}))}}function M(b){for(var o=b.traces,P=0;P<o.length;P++)for(var x=o[P],z=0;z<x.length;z++){var _=x[z];_.s!==n&&b.put(_.p,_.b+_.s)}}function A(b,o){for(var P=b.traces,x=0;x<P.length;x++){var z=P[x],_=z[0].trace;if(_.base===void 0)for(var G=new y([z],{posAxis:o,sepNegVal:!0,overlapNoMerge:!0}),F=0;F<z.length;F++){var N=z[F];if(N.p!==n){var U=G.put(N.p,N.b+N.s);U&&(N.b=U)}}}}function k(b,o,P){var x=o.traces,z=E(b),_=P.norm==="fraction"?1:100,G=_/1e9,F=b.l2c(b.c2l(0)),N=P.mode==="stack"?_:F;function U(ee){return p(b.c2l(ee))&&(ee<F-G||ee>N+G||!p(F))}for(var O=0;O<x.length;O++){for(var H=x[O],Y=H[0].trace,q=[],ne=!1,oe=!1,he=0;he<H.length;he++){var J=H[he];if(J.s!==n){var Z=Math.abs(_/o.get(J.p,J.s));J.b*=Z,J.s*=Z;var se=J.b,$=se+J.s;J[z]=$,q.push($),oe=oe||U($),J.hasB&&(q.push(se),oe=oe||U(se)),(!J.hasB||!J.b)&&(ne=!0)}}Y._extremes[b._id]=T.findExtremes(b,q,{tozero:ne,padded:oe})}}function w(b,o){var P=E(o),x={},z,_,G,F=1/0,N=-1/0;for(z=0;z<b.length;z++)for(G=b[z],_=0;_<G.length;_++){var U=G[_].p;p(U)&&(F=Math.min(F,U),N=Math.max(N,U))}var O=1e4/(N-F),H=x.round=function(Z){return String(Math.round(O*(Z-F)))};for(z=0;z<b.length;z++){G=b[z],G[0].t.extents=x;var Y=G[0].t.poffset,q=L(Y);for(_=0;_<G.length;_++){var ne=G[_],oe=ne[P]-ne.w/2;if(p(oe)){var he=ne[P]+ne.w/2,J=H(ne.p);x[J]?x[J]=[Math.min(oe,x[J][0]),Math.max(he,x[J][1])]:x[J]=[oe,he]}ne.p0=ne.p+(q?Y[_]:Y),ne.p1=ne.p0+ne.w,ne.s0=ne.b,ne.s1=ne.s0+ne.s}}}function E(b){return b._id.charAt(0)}V.exports={crossTraceCalc:r,setGroupPositions:t}},90769:function(V,B,e){var p=e(71828),L=e(7901),n=e(73972),C=e(67513),T=e(73927),d=e(98340),y=e(26125),r=e(1486),t=p.coerceFont;function i(u,s,m,f){function S(A,k){return p.coerce(u,s,r,A,k)}var v=C(u,s,f,S);if(!v){s.visible=!1;return}T(u,s,f,S),S("xhoverformat"),S("yhoverformat"),S("orientation",s.x&&!s.y?"h":"v"),S("base"),S("offset"),S("width"),S("text"),S("hovertext"),S("hovertemplate");var l=S("textposition");h(u,s,f,S,l,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(u,s,S,m,f);var g=(s.marker.line||{}).color,M=n.getComponentMethod("errorbars","supplyDefaults");M(u,s,g||L.defaultLine,{axis:"y"}),M(u,s,g||L.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(s,S)}function a(u,s){var m,f;function S(l){return p.coerce(f._input,f,r,l)}if(s.barmode==="group")for(var v=0;v<u.length;v++)f=u[v],f.type==="bar"&&(m=f._input,y(m,f,s,S))}function h(u,s,m,f,S,v){v=v||{};var l=v.moduleHasSelected!==!1,g=v.moduleHasUnselected!==!1,M=v.moduleHasConstrain!==!1,A=v.moduleHasCliponaxis!==!1,k=v.moduleHasTextangle!==!1,w=v.moduleHasInsideanchor!==!1,E=!!v.hasPathbar,b=Array.isArray(S)||S==="auto",o=b||S==="inside",P=b||S==="outside";if(o||P){var x=t(f,"textfont",m.font),z=p.extendFlat({},x),_=u.textfont&&u.textfont.color,G=!_;if(G&&delete z.color,t(f,"insidetextfont",z),E){var F=p.extendFlat({},x);G&&delete F.color,t(f,"pathbar.textfont",F)}P&&t(f,"outsidetextfont",x),l&&f("selected.textfont.color"),g&&f("unselected.textfont.color"),M&&f("constraintext"),A&&f("cliponaxis"),k&&f("textangle"),f("texttemplate")}o&&w&&f("insidetextanchor")}V.exports={supplyDefaults:i,crossTraceDefaults:a,handleText:h}},58065:function(V){V.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(V,B,e){var p=e(92770),L=e(84267),n=e(71828).isArrayOrTypedArray;B.coerceString=function(C,T,d){if(typeof T=="string"){if(T||!C.noBlank)return T}else if((typeof T=="number"||T===!0)&&!C.strict)return String(T);return d!==void 0?d:C.dflt},B.coerceNumber=function(C,T,d){if(p(T)){T=+T;var y=C.min,r=C.max,t=y!==void 0&&T<y||r!==void 0&&T>r;if(!t)return T}return d!==void 0?d:C.dflt},B.coerceColor=function(C,T,d){return L(T).isValid()?T:d!==void 0?d:C.dflt},B.coerceEnumerated=function(C,T,d){return C.coerceNumber&&(T=+T),C.values.indexOf(T)!==-1?T:d!==void 0?d:C.dflt},B.getValue=function(C,T){var d;return n(C)?T<C.length&&(d=C[T]):d=C,d},B.getLineWidth=function(C,T){var d=0<T.mlw?T.mlw:n(C.marker.line.width)?0:C.marker.line.width;return d}},95423:function(V,B,e){var p=e(30211),L=e(73972),n=e(7901),C=e(71828).fillText,T=e(69383).getLineWidth,d=e(89298).hoverLabelText,y=e(50606).BADNUM;function r(a,h,u,s,m){var f=t(a,h,u,s,m);if(f){var S=f.cd,v=S[0].trace,l=S[f.index];return f.color=i(v,l),L.getComponentMethod("errorbars","hoverInfo")(l,v,f),[f]}}function t(a,h,u,s,m){var f=a.cd,S=f[0].trace,v=f[0].t,l=s==="closest",g=S.type==="waterfall",M=a.maxHoverDistance,A=a.maxSpikeDistance,k,w,E,b,o,P,x;S.orientation==="h"?(k=u,w=h,E="y",b="x",o=he,P=q):(k=h,w=u,E="x",b="y",P=he,o=q);var z=S[E+"period"],_=l||z;function G(ce){return N(ce,-1)}function F(ce){return N(ce,1)}function N(ce,xe){var Le=ce.w;return ce[E]+xe*Le/2}function U(ce){return ce[E+"End"]-ce[E+"Start"]}var O=l?G:z?function(ce){return ce.p-U(ce)/2}:function(ce){return Math.min(G(ce),ce.p-v.bardelta/2)},H=l?F:z?function(ce){return ce.p+U(ce)/2}:function(ce){return Math.max(F(ce),ce.p+v.bardelta/2)};function Y(ce,xe,Le){return m.finiteRange&&(Le=0),p.inbox(ce-k,xe-k,Le+Math.min(1,Math.abs(xe-ce)/x)-1)}function q(ce){return Y(O(ce),H(ce),M)}function ne(ce){return Y(G(ce),F(ce),A)}function oe(ce){var xe=ce[b];if(g){var Le=Math.abs(ce.rawS)||0;w>0?xe+=Le:w<0&&(xe-=Le)}return xe}function he(ce){var xe=w,Le=ce.b,Ae=oe(ce);return p.inbox(Le-xe,Ae-xe,M+(Ae-xe)/(Ae-Le)-1)}function J(ce){var xe=w,Le=ce.b,Ae=oe(ce);return p.inbox(Le-xe,Ae-xe,A+(Ae-xe)/(Ae-Le)-1)}var Z=a[E+"a"],se=a[b+"a"];x=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function $(ce){return(o(ce)+P(ce))/2}var ee=p.getDistanceFunction(s,o,P,$);if(p.getClosest(f,ee,a),a.index!==!1&&f[a.index].p!==y){_||(O=function(ce){return Math.min(G(ce),ce.p-v.bargroupwidth/2)},H=function(ce){return Math.max(F(ce),ce.p+v.bargroupwidth/2)});var le=a.index,Q=f[le],K=S.base?Q.b+Q.s:Q.s;a[b+"0"]=a[b+"1"]=se.c2p(Q[b],!0),a[b+"LabelVal"]=K;var ue=v.extents[v.extents.round(Q.p)];a[E+"0"]=Z.c2p(l?O(Q):ue[0],!0),a[E+"1"]=Z.c2p(l?H(Q):ue[1],!0);var ie=Q.orig_p!==void 0;return a[E+"LabelVal"]=ie?Q.orig_p:Q.p,a.labelLabel=d(Z,a[E+"LabelVal"],S[E+"hoverformat"]),a.valueLabel=d(se,a[b+"LabelVal"],S[b+"hoverformat"]),a.baseLabel=d(se,Q.b,S[b+"hoverformat"]),a.spikeDistance=(J(Q)+ne(Q))/2,a[E+"Spike"]=Z.c2p(Q.p,!0),C(Q,S,a),a.hovertemplate=S.hovertemplate,a}}function i(a,h){var u=h.mcc||a.marker.color,s=h.mlcc||a.marker.line.color,m=T(a,h);if(n.opacity(u))return u;if(n.opacity(s)&&m)return s}V.exports={hoverPoints:r,hoverOnBars:t,getTraceColor:i}},60822:function(V,B,e){V.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(V){V.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(V,B,e){var p=e(73972),L=e(89298),n=e(71828),C=e(43641);V.exports=function(T,d,y){function r(v,l){return n.coerce(T,d,C,v,l)}for(var t=!1,i=!1,a=!1,h={},u=r("barmode"),s=0;s<y.length;s++){var m=y[s];if(p.traceIs(m,"bar")&&m.visible)t=!0;else continue;if(u==="group"){var f=m.xaxis+m.yaxis;h[f]&&(a=!0),h[f]=!0}if(m.visible&&m.type==="histogram"){var S=L.getFromId({_fullLayout:d},m[m.orientation==="v"?"xaxis":"yaxis"]);S.type!=="category"&&(i=!0)}}if(!t){delete d.barmode;return}u!=="overlay"&&r("barnorm"),r("bargap",i&&!a?0:.2),r("bargroupgap")}},17295:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(63893),T=e(7901),d=e(91424),y=e(73972),r=e(89298).tickText,t=e(72597),i=t.recordMinTextSize,a=t.clearMinTextSize,h=e(16688),u=e(69383),s=e(97313),m=e(1486),f=m.text,S=m.textposition,v=e(23469).appendArrayPointValue,l=s.TEXTPAD;function g(O){return O.id}function M(O){if(O.ids)return g}function A(O,H){return O<H?1:-1}function k(O,H,Y,q){var ne=[],oe=[],he=q?H:Y,J=q?Y:H;return ne[0]=he.c2p(O.s0,!0),oe[0]=J.c2p(O.p0,!0),ne[1]=he.c2p(O.s1,!0),oe[1]=J.c2p(O.p1,!0),q?[ne,oe]:[oe,ne]}function w(O,H,Y,q){if(!H.uniformtext.mode&&E(Y)){var ne;return q&&(ne=q()),O.transition().duration(Y.duration).ease(Y.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()})}else return O}function E(O){return O&&O.duration>0}function b(O,H,Y,q,ne,oe){var he=H.xaxis,J=H.yaxis,Z=O._fullLayout,se=O._context.staticPlot;ne||(ne={mode:Z.barmode,norm:Z.barmode,gap:Z.bargap,groupgap:Z.bargroupgap},a("bar",Z));var $=n.makeTraceGroups(q,Y,"trace bars").each(function(ee){var le=p.select(this),Q=ee[0].trace,K=Q.type==="waterfall",ue=Q.type==="funnel",ie=Q.type==="bar",ce=ie||ue,xe=0;K&&Q.connector.visible&&Q.connector.mode==="between"&&(xe=Q.connector.line.width/2);var Le=Q.orientation==="h",Ae=E(ne),Oe=n.ensureSingle(le,"g","points"),ze=M(Q),Ee=Oe.selectAll("g.point").data(n.identity,ze);Ee.enter().append("g").classed("point",!0),Ee.exit().remove(),Ee.each(function(Ce,Ue){var He=p.select(this),Ie=k(Ce,he,J,Le),Ge=Ie[0][0],at=Ie[0][1],lt=Ie[1][0],qe=Ie[1][1],et=(Le?at-Ge:qe-lt)===0;et&&ce&&u.getLineWidth(Q,Ce)&&(et=!1),et||(et=!L(Ge)||!L(at)||!L(lt)||!L(qe)),Ce.isBlank=et,et&&(Le?at=Ge:qe=lt),xe&&!et&&(Le?(Ge-=A(Ge,at)*xe,at+=A(Ge,at)*xe):(lt-=A(lt,qe)*xe,qe+=A(lt,qe)*xe));var ft,dt;if(Q.type==="waterfall"){if(!et){var pt=Q[Ce.dir].marker;ft=pt.line.width,dt=pt.color}}else ft=u.getLineWidth(Q,Ce),dt=Ce.mc||Q.marker.color;function At(Ne){var ke=p.round(ft/2%1,2);return ne.gap===0&&ne.groupgap===0?p.round(Math.round(Ne)-ke,2):Ne}function Pt(Ne,ke,we){return we&&Ne===ke?Ne:Math.abs(Ne-ke)>=2?At(Ne):Ne>ke?Math.ceil(Ne):Math.floor(Ne)}if(!O._context.staticPlot){var Ht=T.opacity(dt),Je=Ht<1||ft>.01?At:Pt;Ge=Je(Ge,at,Le),at=Je(at,Ge,Le),lt=Je(lt,qe,!Le),qe=Je(qe,lt,!Le)}var We=w(n.ensureSingle(He,"path"),Z,ne,oe);if(We.style("vector-effect",se?"none":"non-scaling-stroke").attr("d",isNaN((at-Ge)*(qe-lt))||et&&O._context.staticPlot?"M0,0Z":"M"+Ge+","+lt+"V"+qe+"H"+at+"V"+lt+"Z").call(d.setClipUrl,H.layerClipId,O),!Z.uniformtext.mode&&Ae){var _e=d.makePointStyleFns(Q);d.singlePointStyle(Ce,We,Q,_e,O)}o(O,H,He,ee,Ue,Ge,at,lt,qe,ne,oe),H.layerClipId&&d.hideOutsideRangePoint(Ce,He.select("text"),he,J,Q.xcalendar,Q.ycalendar)});var be=Q.cliponaxis===!1;d.setClipUrl(le,be?null:H.layerClipId,O)});y.getComponentMethod("errorbars","plot")(O,$,H,ne)}function o(O,H,Y,q,ne,oe,he,J,Z,se,$){var ee=H.xaxis,le=H.yaxis,Q=O._fullLayout,K;function ue(Ne,ke,we){var me=n.ensureSingle(Ne,"text").text(ke).attr({class:"bartext bartext-"+K,"text-anchor":"middle","data-notex":1}).call(d.font,we).call(C.convertToTspans,O);return me}var ie=q[0].trace,ce=ie.orientation==="h",xe=G(Q,q,ne,ee,le);K=F(ie,ne);var Le=se.mode==="stack"||se.mode==="relative",Ae=q[ne],Oe=!Le||Ae._outmost;if(!xe||K==="none"||(Ae.isBlank||oe===he||J===Z)&&(K==="auto"||K==="inside")){Y.select("text").remove();return}var ze=Q.font,Ee=h.getBarColor(q[ne],ie),be=h.getInsideTextFont(ie,ne,ze,Ee),Ce=h.getOutsideTextFont(ie,ne,ze),Ue=Y.datum();ce?ee.type==="log"&&Ue.s0<=0&&(ee.range[0]<ee.range[1]?oe=0:oe=ee._length):le.type==="log"&&Ue.s0<=0&&(le.range[0]<le.range[1]?J=le._length:J=0);var He=Math.abs(he-oe)-2*l,Ie=Math.abs(Z-J)-2*l,Ge,at,lt,qe,et;if(K==="outside"&&!Oe&&!Ae.hasB&&(K="inside"),K==="auto")if(Oe){K="inside",et=n.ensureUniformFontSize(O,be),Ge=ue(Y,xe,et),at=d.bBox(Ge.node()),lt=at.width,qe=at.height;var ft=lt>0&&qe>0,dt=lt<=He&&qe<=Ie,pt=lt<=Ie&&qe<=He,At=ce?He>=lt*(Ie/qe):Ie>=qe*(He/lt);ft&&(dt||pt||At)?K="inside":(K="outside",Ge.remove(),Ge=null)}else K="inside";if(!Ge){et=n.ensureUniformFontSize(O,K==="outside"?Ce:be),Ge=ue(Y,xe,et);var Pt=Ge.attr("transform");if(Ge.attr("transform",""),at=d.bBox(Ge.node()),lt=at.width,qe=at.height,Ge.attr("transform",Pt),lt<=0||qe<=0){Ge.remove();return}}var Ht=ie.textangle,Je,We;K==="outside"?(We=ie.constraintext==="both"||ie.constraintext==="outside",Je=_(oe,he,J,Z,at,{isHorizontal:ce,constrained:We,angle:Ht})):(We=ie.constraintext==="both"||ie.constraintext==="inside",Je=z(oe,he,J,Z,at,{isHorizontal:ce,constrained:We,angle:Ht,anchor:ie.insidetextanchor})),Je.fontSize=et.size,i(ie.type==="histogram"?"bar":ie.type,Je,Q),Ae.transform=Je;var _e=w(Ge,Q,se,$);n.setTransormAndDisplay(_e,Je)}function P(O){return O==="auto"?0:O}function x(O,H){var Y=Math.PI/180*H,q=Math.abs(Math.sin(Y)),ne=Math.abs(Math.cos(Y));return{x:O.width*ne+O.height*q,y:O.width*q+O.height*ne}}function z(O,H,Y,q,ne,oe){var he=!!oe.isHorizontal,J=!!oe.constrained,Z=oe.angle||0,se=oe.anchor||"end",$=se==="end",ee=se==="start",le=oe.leftToRight||0,Q=(le+1)/2,K=1-Q,ue=ne.width,ie=ne.height,ce=Math.abs(H-O),xe=Math.abs(q-Y),Le=ce>2*l&&xe>2*l?l:0;ce-=2*Le,xe-=2*Le;var Ae=P(Z);Z==="auto"&&!(ue<=ce&&ie<=xe)&&(ue>ce||ie>xe)&&(!(ue>xe||ie>ce)||ue<ie!=ce<xe)&&(Ae+=90);var Oe=x(ne,Ae),ze=1;J&&(ze=Math.min(1,ce/Oe.x,xe/Oe.y));var Ee=ne.left*K+ne.right*Q,be=(ne.top+ne.bottom)/2,Ce=(O+l)*K+(H-l)*Q,Ue=(Y+q)/2,He=0,Ie=0;if(ee||$){var Ge=(he?Oe.x:Oe.y)/2,at=he?A(O,H):A(Y,q);he?ee?(Ce=O+at*Le,He=-at*Ge):(Ce=H-at*Le,He=at*Ge):ee?(Ue=Y+at*Le,Ie=-at*Ge):(Ue=q-at*Le,Ie=at*Ge)}return{textX:Ee,textY:be,targetX:Ce,targetY:Ue,anchorX:He,anchorY:Ie,scale:ze,rotate:Ae}}function _(O,H,Y,q,ne,oe){var he=!!oe.isHorizontal,J=!!oe.constrained,Z=oe.angle||0,se=ne.width,$=ne.height,ee=Math.abs(H-O),le=Math.abs(q-Y),Q;he?Q=le>2*l?l:0:Q=ee>2*l?l:0;var K=1;J&&(K=he?Math.min(1,le/$):Math.min(1,ee/se));var ue=P(Z),ie=x(ne,ue),ce=(he?ie.x:ie.y)/2,xe=(ne.left+ne.right)/2,Le=(ne.top+ne.bottom)/2,Ae=(O+H)/2,Oe=(Y+q)/2,ze=0,Ee=0,be=he?A(H,O):A(Y,q);return he?(Ae=H-be*Q,ze=be*ce):(Oe=q+be*Q,Ee=-be*ce),{textX:xe,textY:Le,targetX:Ae,targetY:Oe,anchorX:ze,anchorY:Ee,scale:K,rotate:ue}}function G(O,H,Y,q,ne){var oe=H[0].trace,he=oe.texttemplate,J;return he?J=N(O,H,Y,q,ne):oe.textinfo?J=U(H,Y,q,ne):J=u.getValue(oe.text,Y),u.coerceString(f,J)}function F(O,H){var Y=u.getValue(O.textposition,H);return u.coerceEnumerated(S,Y)}function N(O,H,Y,q,ne){var oe=H[0].trace,he=n.castOption(oe,Y,"texttemplate");if(!he)return"";var J=oe.type==="histogram",Z=oe.type==="waterfall",se=oe.type==="funnel",$=oe.orientation==="h",ee,le,Q,K;$?(ee="y",le=ne,Q="x",K=q):(ee="x",le=q,Q="y",K=ne);function ue(ze){return r(le,le.c2l(ze),!0).text}function ie(ze){return r(K,K.c2l(ze),!0).text}var ce=H[Y],xe={};xe.label=ce.p,xe.labelLabel=xe[ee+"Label"]=ue(ce.p);var Le=n.castOption(oe,ce.i,"text");(Le===0||Le)&&(xe.text=Le),xe.value=ce.s,xe.valueLabel=xe[Q+"Label"]=ie(ce.s);var Ae={};v(Ae,oe,ce.i),(J||Ae.x===void 0)&&(Ae.x=$?xe.value:xe.label),(J||Ae.y===void 0)&&(Ae.y=$?xe.label:xe.value),(J||Ae.xLabel===void 0)&&(Ae.xLabel=$?xe.valueLabel:xe.labelLabel),(J||Ae.yLabel===void 0)&&(Ae.yLabel=$?xe.labelLabel:xe.valueLabel),Z&&(xe.delta=+ce.rawS||ce.s,xe.deltaLabel=ie(xe.delta),xe.final=ce.v,xe.finalLabel=ie(xe.final),xe.initial=xe.final-xe.delta,xe.initialLabel=ie(xe.initial)),se&&(xe.value=ce.s,xe.valueLabel=ie(xe.value),xe.percentInitial=ce.begR,xe.percentInitialLabel=n.formatPercent(ce.begR),xe.percentPrevious=ce.difR,xe.percentPreviousLabel=n.formatPercent(ce.difR),xe.percentTotal=ce.sumR,xe.percenTotalLabel=n.formatPercent(ce.sumR));var Oe=n.castOption(oe,ce.i,"customdata");return Oe&&(xe.customdata=Oe),n.texttemplateString(he,xe,O._d3locale,Ae,xe,oe._meta||{})}function U(O,H,Y,q){var ne=O[0].trace,oe=ne.orientation==="h",he=ne.type==="waterfall",J=ne.type==="funnel";function Z(Oe){var ze=oe?q:Y;return r(ze,Oe,!0).text}function se(Oe){var ze=oe?Y:q;return r(ze,+Oe,!0).text}var $=ne.textinfo,ee=O[H],le=$.split("+"),Q=[],K,ue=function(Oe){return le.indexOf(Oe)!==-1};if(ue("label")&&Q.push(Z(O[H].p)),ue("text")&&(K=n.castOption(ne,ee.i,"text"),(K===0||K)&&Q.push(K)),he){var ie=+ee.rawS||ee.s,ce=ee.v,xe=ce-ie;ue("initial")&&Q.push(se(xe)),ue("delta")&&Q.push(se(ie)),ue("final")&&Q.push(se(ce))}if(J){ue("value")&&Q.push(se(ee.s));var Le=0;ue("percent initial")&&Le++,ue("percent previous")&&Le++,ue("percent total")&&Le++;var Ae=Le>1;ue("percent initial")&&(K=n.formatPercent(ee.begR),Ae&&(K+=" of initial"),Q.push(K)),ue("percent previous")&&(K=n.formatPercent(ee.difR),Ae&&(K+=" of previous"),Q.push(K)),ue("percent total")&&(K=n.formatPercent(ee.sumR),Ae&&(K+=" of total"),Q.push(K))}return Q.join("<br>")}V.exports={plot:b,toMoveInsideBar:z}},81974:function(V){V.exports=function(p,L){var n=p.cd,C=p.xaxis,T=p.yaxis,d=n[0].trace,y=d.type==="funnel",r=d.orientation==="h",t=[],i;if(L===!1)for(i=0;i<n.length;i++)n[i].selected=0;else for(i=0;i<n.length;i++){var a=n[i],h="ct"in a?a.ct:B(a,C,T,r,y);L.contains(h,!1,i,p)?(t.push({pointNumber:i,x:C.c2d(a.x),y:T.c2d(a.y)}),a.selected=1):a.selected=0}return t};function B(e,p,L,n,C){var T=p.c2p(n?e.s0:e.p0,!0),d=p.c2p(n?e.s1:e.p1,!0),y=L.c2p(n?e.p0:e.s0,!0),r=L.c2p(n?e.p1:e.s1,!0);return C?[(T+d)/2,(y+r)/2]:n?[d,(y+r)/2]:[(T+d)/2,r]}},61546:function(V,B,e){V.exports=L;var p=e(71828).distinctVals;function L(n,C){this.traces=n,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var T=1/0,d=C.posAxis._id.charAt(0),y=[],r=0;r<n.length;r++){for(var t=n[r],i=0;i<t.length;i++){var a=t[i],h=a.p;h===void 0&&(h=a[d]),h!==void 0&&y.push(h)}t[0]&&t[0].width1&&(T=Math.min(t[0].width1,T))}this.positions=y;var u=p(y);this.distinctPositions=u.vals,u.vals.length===1&&T!==1/0?this.minDiff=T:this.minDiff=Math.min(u.minDiff,T);var s=(C.posAxis||{}).type;(s==="category"||s==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,T){var d=this.getLabel(C,T),y=this.bins[d]||0;return this.bins[d]=y+T,y},L.prototype.get=function(C,T){var d=this.getLabel(C,T);return this.bins[d]||0},L.prototype.getLabel=function(C,T){var d=T<0&&this.sepNegVal?"v":"^",y=this.overlapNoMerge?C:Math.round(C/this.binWidth);return d+y}},16688:function(V,B,e){var p=e(39898),L=e(7901),n=e(91424),C=e(71828),T=e(73972),d=e(72597).resizeText,y=e(1486),r=y.textfont,t=y.insidetextfont,i=y.outsidetextfont,a=e(69383);function h(w){var E=p.select(w).selectAll("g.barlayer").selectAll("g.trace");d(w,E,"bar");var b=E.size(),o=w._fullLayout;E.style("opacity",function(P){return P[0].trace.opacity}).each(function(P){(o.barmode==="stack"&&b>1||o.bargap===0&&o.bargroupgap===0&&!P[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(P){var x=p.select(this),z=P[0].trace;u(x,z,w)}),T.getComponentMethod("errorbars","style")(E)}function u(w,E,b){n.pointStyle(w.selectAll("path"),E,b),s(w,E,b)}function s(w,E,b){w.selectAll("text").each(function(o){var P=p.select(this),x=C.ensureUniformFontSize(b,v(P,o,E,b));n.font(P,x)})}function m(w,E,b){var o=E[0].trace;o.selectedpoints?f(b,o,w):(u(b,o,w),T.getComponentMethod("errorbars","style")(b))}function f(w,E,b){n.selectedPointStyle(w.selectAll("path"),E),S(w.selectAll("text"),E,b)}function S(w,E,b){w.each(function(o){var P=p.select(this),x;if(o.selected){x=C.ensureUniformFontSize(b,v(P,o,E,b));var z=E.selected.textfont&&E.selected.textfont.color;z&&(x.color=z),n.font(P,x)}else n.selectedTextStyle(P,E)})}function v(w,E,b,o){var P=o._fullLayout.font,x=b.textfont;if(w.classed("bartext-inside")){var z=k(E,b);x=g(b,E.i,P,z)}else w.classed("bartext-outside")&&(x=M(b,E.i,P));return x}function l(w,E,b){return A(r,w.textfont,E,b)}function g(w,E,b,o){var P=l(w,E,b),x=w._input.textfont===void 0||w._input.textfont.color===void 0||Array.isArray(w.textfont.color)&&w.textfont.color[E]===void 0;return x&&(P={color:L.contrast(o),family:P.family,size:P.size}),A(t,w.insidetextfont,E,P)}function M(w,E,b){var o=l(w,E,b);return A(i,w.outsidetextfont,E,o)}function A(w,E,b,o){E=E||{};var P=a.getValue(E.family,b),x=a.getValue(E.size,b),z=a.getValue(E.color,b);return{family:a.coerceString(w.family,P,o.family),size:a.coerceNumber(w.size,x,o.size),color:a.coerceColor(w.color,z,o.color)}}function k(w,E){return E.type==="waterfall"?E[w.dir].marker.color:w.mcc||w.mc||E.marker.color}V.exports={style:h,styleTextPoints:s,styleOnSelect:m,getInsideTextFont:g,getOutsideTextFont:M,getBarColor:k,resizeText:d}},98340:function(V,B,e){var p=e(7901),L=e(52075).hasColorscale,n=e(1586),C=e(71828).coercePattern;V.exports=function(d,y,r,t,i){var a=r("marker.color",t),h=L(d,"marker");h&&n(d,y,i,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",p.defaultLine),L(d,"marker.line")&&n(d,y,i,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),C(r,"marker.pattern",a,h),r("selected.marker.color"),r("unselected.marker.color")}},72597:function(V,B,e){var p=e(39898),L=e(71828);function n(y,r,t){var i=y._fullLayout,a=i["_"+t+"Text_minsize"];if(a){var h=i.uniformtext.mode==="hide",u;switch(t){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(s){var m=s.transform;if(m){m.scale=h&&m.hide?0:a/m.fontSize;var f=p.select(this).select("text");L.setTransormAndDisplay(f,m)}})}}function C(y,r,t){if(t.uniformtext.mode){var i=d(y),a=t.uniformtext.minsize,h=r.scale*r.fontSize;r.hide=h<a,t[i]=t[i]||1/0,r.hide||(t[i]=Math.min(t[i],Math.max(h,a)))}}function T(y,r){var t=d(y);r[t]=void 0}function d(y){return"_"+y+"Text_minsize"}V.exports={recordMinTextSize:C,clearMinTextSize:T,resizeText:n}},55023:function(V,B,e){var p=e(5386).fF,L=e(1426).extendFlat,n=e(81245),C=e(1486);V.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:C.marker,hoverinfo:n.hoverinfo,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},74692:function(V,B,e){var p=e(52075).hasColorscale,L=e(78803),n=e(71828).isArrayOrTypedArray,C=e(75341),T=e(11661).setGroupPositions,d=e(66279),y=e(73972).traceIs,r=e(71828).extendFlat;function t(a,h){for(var u=a._fullLayout,s=h.subplot,m=u[s].radialaxis,f=u[s].angularaxis,S=m.makeCalcdata(h,"r"),v=f.makeCalcdata(h,"theta"),l=h._length,g=new Array(l),M=S,A=v,k=0;k<l;k++)g[k]={p:A[k],s:M[k]};function w(E){var b=h[E];b!==void 0&&(h["_"+E]=n(b)?f.makeCalcdata(h,E):f.d2c(b,h.thetaunit))}return f.type==="linear"&&(w("width"),w("offset")),p(h,"marker")&&L(a,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&L(a,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}),C(g,h),d(g,h),g}function i(a,h,u){for(var s=a.calcdata,m=[],f=0;f<s.length;f++){var S=s[f],v=S[0].trace;v.visible===!0&&y(v,"bar")&&v.subplot===u&&m.push(S)}var l=r({},h.radialaxis,{_id:"x"}),g=h.angularaxis;T(a,g,l,m,{mode:h.barmode,norm:h.barnorm,gap:h.bargap,groupgap:h.bargroupgap})}V.exports={calc:t,crossTraceCalc:i}},6135:function(V,B,e){var p=e(71828),L=e(22184).handleRThetaDefaults,n=e(98340),C=e(55023);V.exports=function(d,y,r,t){function i(h,u){return p.coerce(d,y,C,h,u)}var a=L(d,y,t,i);if(!a){y.visible=!1;return}i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),n(d,y,i,r,t),p.coerceSelectionMarkerOpacity(y,i)}},27379:function(V,B,e){var p=e(30211),L=e(71828),n=e(95423).getTraceColor,C=L.fillText,T=e(59150).makeHoverPointText,d=e(10869).isPtInsidePolygon;V.exports=function(r,t,i){var a=r.cd,h=a[0].trace,u=r.subplot,s=u.radialAxis,m=u.angularAxis,f=u.vangles,S=f?d:L.isPtInsideSector,v=r.maxHoverDistance,l=m._period||2*Math.PI,g=Math.abs(s.g2p(Math.sqrt(t*t+i*i))),M=Math.atan2(i,t);s.range[0]>s.range[1]&&(M+=Math.PI);var A=function(b){return S(g,M,[b.rp0,b.rp1],[b.thetag0,b.thetag1],f)?v+Math.min(1,Math.abs(b.thetag1-b.thetag0)/l)-1+(b.rp1-g)/(b.rp1-b.rp0)-1:1/0};if(p.getClosest(a,A,r),r.index!==!1){var k=r.index,w=a[k];r.x0=r.x1=w.ct[0],r.y0=r.y1=w.ct[1];var E=L.extendFlat({},w,{r:w.s,theta:w.p});return C(w,h,r),T(E,h,u,r),r.hovertemplate=h.hovertemplate,r.color=n(h,w),r.xLabelVal=r.yLabelVal=void 0,w.s<0&&(r.idealAlign="left"),[r]}}},23381:function(V,B,e){V.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(V){V.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(V,B,e){var p=e(71828),L=e(40151);V.exports=function(n,C,T){var d={},y;function r(a,h){return p.coerce(n[y]||{},C[y],L,a,h)}for(var t=0;t<T.length;t++){var i=T[t];i.type==="barpolar"&&i.visible===!0&&(y=i.subplot,d[y]||(r("barmode"),r("bargap"),d[y]=1))}}},60173:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(91424),T=e(10869);V.exports=function(r,t,i){var a=r._context.staticPlot,h=t.xaxis,u=t.yaxis,s=t.radialAxis,m=t.angularAxis,f=d(t),S=t.layers.frontplot.select("g.barlayer");n.makeTraceGroups(S,i,"trace bars").each(function(){var v=p.select(this),l=n.ensureSingle(v,"g","points"),g=l.selectAll("g.point").data(n.identity);g.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),g.exit().remove(),g.each(function(M){var A=p.select(this),k=M.rp0=s.c2p(M.s0),w=M.rp1=s.c2p(M.s1),E=M.thetag0=m.c2g(M.p0),b=M.thetag1=m.c2g(M.p1),o;if(!L(k)||!L(w)||!L(E)||!L(b)||k===w||E===b)o="M0,0Z";else{var P=s.c2g(M.s1),x=(E+b)/2;M.ct=[h.c2p(P*Math.cos(x)),u.c2p(P*Math.sin(x))],o=f(k,w,E,b)}n.ensureSingle(A,"path").attr("d",o)}),C.setClipUrl(v,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,r)})};function d(y){var r=y.cxx,t=y.cyy;return y.vangles?function(i,a,h,u){var s,m;n.angleDelta(h,u)>0?(s=h,m=u):(s=u,m=h);var f=T.findEnclosingVertexAngles(s,y.vangles)[0],S=T.findEnclosingVertexAngles(m,y.vangles)[1],v=[f,(s+m)/2,S];return T.pathPolygonAnnulus(i,a,s,m,v,r,t)}:function(i,a,h,u){return n.pathAnnulus(i,a,h,u,r,t)}}},53522:function(V,B,e){var p=e(82196),L=e(1486),n=e(22399),C=e(12663).axisHoverFormat,T=e(5386).fF,d=e(1426).extendFlat,y=p.marker,r=y.line;V.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:d({},y.symbol,{arrayOk:!1,editType:"plot"}),opacity:d({},y.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:d({},y.angle,{arrayOk:!1,editType:"calc"}),size:d({},y.size,{arrayOk:!1,editType:"calc"}),color:d({},y.color,{arrayOk:!1,editType:"style"}),line:{color:d({},r.color,{arrayOk:!1,dflt:n.defaultLine,editType:"style"}),width:d({},r.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:L.offsetgroup,alignmentgroup:L.alignmentgroup,selected:{marker:p.selected.marker,editType:"style"},unselected:{marker:p.unselected.marker,editType:"style"},text:d({},p.text,{}),hovertext:d({},p.hovertext,{}),hovertemplate:T({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(V,B,e){var p=e(92770),L=e(89298),n=e(42973),C=e(71828),T=e(50606).BADNUM,d=C._;V.exports=function(M,A){var k=M._fullLayout,w=L.getFromId(M,A.xaxis||"x"),E=L.getFromId(M,A.yaxis||"y"),b=[],o=A.type==="violin"?"_numViolins":"_numBoxes",P,x,z,_,G,F,N;A.orientation==="h"?(z=w,_="x",G=E,F="y",N=!!A.yperiodalignment):(z=E,_="y",G=w,F="x",N=!!A.xperiodalignment);var U=y(A,F,G,k[o]),O=U[0],H=U[1],Y=C.distinctVals(O,G),q=Y.vals,ne=Y.minDiff/2,oe,he,J,Z,se,$,ee=(A.boxpoints||A.points)==="all"?C.identity:function(Pt){return Pt.v<oe.lf||Pt.v>oe.uf};if(A._hasPreCompStats){var le=A[_],Q=function(Pt){return z.d2c((A[Pt]||[])[P])},K=1/0,ue=-1/0;for(P=0;P<A._length;P++){var ie=O[P];if(p(ie)){if(oe={},oe.pos=oe[F]=ie,N&&H&&(oe.orig_p=H[P]),oe.q1=Q("q1"),oe.med=Q("median"),oe.q3=Q("q3"),he=[],le&&C.isArrayOrTypedArray(le[P]))for(x=0;x<le[P].length;x++)$=z.d2c(le[P][x]),$!==T&&(se={v:$,i:[P,x]},a(se,A,[P,x]),he.push(se));if(oe.pts=he.sort(u),J=oe[_]=he.map(s),Z=J.length,oe.med!==T&&oe.q1!==T&&oe.q3!==T&&oe.med>=oe.q1&&oe.q3>=oe.med){var ce=Q("lowerfence");oe.lf=ce!==T&&ce<=oe.q1?ce:m(oe,J,Z);var xe=Q("upperfence");oe.uf=xe!==T&&xe>=oe.q3?xe:f(oe,J,Z);var Le=Q("mean");oe.mean=Le!==T?Le:Z?C.mean(J,Z):(oe.q1+oe.q3)/2;var Ae=Q("sd");oe.sd=Le!==T&&Ae>=0?Ae:Z?C.stdev(J,Z,oe.mean):oe.q3-oe.q1,oe.lo=S(oe),oe.uo=v(oe);var Oe=Q("notchspan");Oe=Oe!==T&&Oe>0?Oe:l(oe,Z),oe.ln=oe.med-Oe,oe.un=oe.med+Oe;var ze=oe.lf,Ee=oe.uf;A.boxpoints&&J.length&&(ze=Math.min(ze,J[0]),Ee=Math.max(Ee,J[Z-1])),A.notched&&(ze=Math.min(ze,oe.ln),Ee=Math.max(Ee,oe.un)),oe.min=ze,oe.max=Ee}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+oe.q1,"median = "+oe.med,"q3 = "+oe.q3].join(`
`));var be;oe.med!==T?be=oe.med:oe.q1!==T?oe.q3!==T?be=(oe.q1+oe.q3)/2:be=oe.q1:oe.q3!==T?be=oe.q3:be=0,oe.med=be,oe.q1=oe.q3=be,oe.lf=oe.uf=be,oe.mean=oe.sd=be,oe.ln=oe.un=be,oe.min=oe.max=be}K=Math.min(K,oe.min),ue=Math.max(ue,oe.max),oe.pts2=he.filter(ee),b.push(oe)}}A._extremes[z._id]=L.findExtremes(z,[K,ue],{padded:!0})}else{var Ce=z.makeCalcdata(A,_),Ue=r(q,ne),He=q.length,Ie=t(He);for(P=0;P<A._length;P++)if($=Ce[P],!!p($)){var Ge=C.findBin(O[P],Ue);Ge>=0&&Ge<He&&(se={v:$,i:P},a(se,A,P),Ie[Ge].push(se))}var at=1/0,lt=-1/0,qe=A.quartilemethod,et=qe==="exclusive",ft=qe==="inclusive";for(P=0;P<He;P++)if(Ie[P].length>0){if(oe={},oe.pos=oe[F]=q[P],he=oe.pts=Ie[P].sort(u),J=oe[_]=he.map(s),Z=J.length,oe.min=J[0],oe.max=J[Z-1],oe.mean=C.mean(J,Z),oe.sd=C.stdev(J,Z,oe.mean)*A.sdmultiple,oe.med=C.interp(J,.5),Z%2&&(et||ft)){var dt,pt;et?(dt=J.slice(0,Z/2),pt=J.slice(Z/2+1)):ft&&(dt=J.slice(0,Z/2+1),pt=J.slice(Z/2)),oe.q1=C.interp(dt,.5),oe.q3=C.interp(pt,.5)}else oe.q1=C.interp(J,.25),oe.q3=C.interp(J,.75);oe.lf=m(oe,J,Z),oe.uf=f(oe,J,Z),oe.lo=S(oe),oe.uo=v(oe);var At=l(oe,Z);oe.ln=oe.med-At,oe.un=oe.med+At,at=Math.min(at,oe.ln),lt=Math.max(lt,oe.un),oe.pts2=he.filter(ee),b.push(oe)}A.notched&&C.isTypedArray(Ce)&&(Ce=Array.from(Ce)),A._extremes[z._id]=L.findExtremes(z,A.notched?Ce.concat([at,lt]):Ce,{padded:!0})}return h(b,A),b.length>0?(b[0].t={num:k[o],dPos:ne,posLetter:F,valLetter:_,labels:{med:d(M,"median:"),min:d(M,"min:"),q1:d(M,"q1:"),q3:d(M,"q3:"),max:d(M,"max:"),mean:A.boxmean==="sd"||A.sizemode==="sd"?d(M,"mean  :").replace("",A.sdmultiple===1?"":A.sdmultiple+""):d(M,"mean:"),lf:d(M,"lower fence:"),uf:d(M,"upper fence:")}},k[o]++,b):[{t:{empty:!0}}]};function y(g,M,A,k){var w=M in g,E=M+"0"in g,b="d"+M in g;if(w||E&&b){var o=A.makeCalcdata(g,M),P=n(g,A,M,o).vals;return[P,o]}var x;E?x=g[M+"0"]:"name"in g&&(A.type==="category"||p(g.name)&&["linear","log"].indexOf(A.type)!==-1||C.isDateTime(g.name)&&A.type==="date")?x=g.name:x=k;for(var z=A.type==="multicategory"?A.r2c_just_indices(x):A.d2c(x,0,g[M+"calendar"]),_=g._length,G=new Array(_),F=0;F<_;F++)G[F]=z;return[G]}function r(g,M){for(var A=g.length,k=new Array(A+1),w=0;w<A;w++)k[w]=g[w]-M;return k[A]=g[A-1]+M,k}function t(g){for(var M=new Array(g),A=0;A<g;A++)M[A]=[];return M}var i={text:"tx",hovertext:"htx"};function a(g,M,A){for(var k in i)C.isArrayOrTypedArray(M[k])&&(Array.isArray(A)?C.isArrayOrTypedArray(M[k][A[0]])&&(g[i[k]]=M[k][A[0]][A[1]]):g[i[k]]=M[k][A])}function h(g,M){if(C.isArrayOrTypedArray(M.selectedpoints))for(var A=0;A<g.length;A++){for(var k=g[A].pts||[],w={},E=0;E<k.length;E++)w[k[E].i]=E;C.tagSelected(k,M,w)}}function u(g,M){return g.v-M.v}function s(g){return g.v}function m(g,M,A){return A===0?g.q1:Math.min(g.q1,M[Math.min(C.findBin(2.5*g.q1-1.5*g.q3,M,!0)+1,A-1)])}function f(g,M,A){return A===0?g.q3:Math.max(g.q3,M[Math.max(C.findBin(2.5*g.q3-1.5*g.q1,M),0)])}function S(g){return 4*g.q1-3*g.q3}function v(g){return 4*g.q3-3*g.q1}function l(g,M){return M===0?0:1.57*(g.q3-g.q1)/Math.sqrt(M)}},37188:function(V,B,e){var p=e(89298),L=e(71828),n=e(99082).getAxisGroup,C=["v","h"];function T(y,r){for(var t=y.calcdata,i=r.xaxis,a=r.yaxis,h=0;h<C.length;h++){for(var u=C[h],s=u==="h"?a:i,m=[],f=0;f<t.length;f++){var S=t[f],v=S[0].t,l=S[0].trace;l.visible===!0&&(l.type==="box"||l.type==="candlestick")&&!v.empty&&(l.orientation||"v")===u&&l.xaxis===i._id&&l.yaxis===a._id&&m.push(f)}d("box",y,m,s)}}function d(y,r,t,i){var a=r.calcdata,h=r._fullLayout,u=i._id,s=u.charAt(0),m,f,S,v=[],l=0;for(m=0;m<t.length;m++)for(S=a[t[m]],f=0;f<S.length;f++)v.push(i.c2l(S[f].pos,!0)),l+=(S[f].pts2||[]).length;if(v.length){var g=L.distinctVals(v);(i.type==="category"||i.type==="multicategory")&&(g.minDiff=1);var M=g.minDiff/2;p.minDtick(i,g.minDiff,g.vals[0],!0);var A=y==="violin"?"_numViolins":"_numBoxes",k=h[A],w=h[y+"mode"]==="group"&&k>1,E=1-h[y+"gap"],b=1-h[y+"groupgap"];for(m=0;m<t.length;m++){S=a[t[m]];var o=S[0].trace,P=S[0].t,x=o.width,z=o.side,_,G,F,N;if(x)_=G=N=x/2,F=0;else if(_=M,w){var U=n(h,i._id)+o.orientation,O=h._alignmentOpts[U]||{},H=O[o.alignmentgroup]||{},Y=Object.keys(H.offsetGroups||{}).length,q=Y||k,ne=Y?o._offsetIndex:P.num;G=_*E*b/q,F=2*_*(-.5+(ne+.5)/q)*E,N=_*E/q}else G=_*E*b,F=0,N=_;P.dPos=_,P.bPos=F,P.bdPos=G,P.wHover=N;var oe,he,J=F+G,Z,se,$,ee,le,Q,K=!!x,ue=(o.boxpoints||o.points)&&l>0;if(z==="positive"?(oe=_*(x?1:.5),Z=J,he=Z=F):z==="negative"?(oe=Z=F,he=_*(x?1:.5),se=J):(oe=he=_,Z=se=J),ue){var ie=o.pointpos,ce=o.jitter,xe=o.marker.size/2,Le=0;ie+ce>=0&&(Le=J*(ie+ce),Le>oe?(K=!0,le=xe,$=Le):Le>Z&&(le=xe,$=oe)),Le<=oe&&($=oe);var Ae=0;ie-ce<=0&&(Ae=-J*(ie-ce),Ae>he?(K=!0,Q=xe,ee=Ae):Ae>se&&(Q=xe,ee=he)),Ae<=he&&(ee=he)}else $=oe,ee=he;var Oe=new Array(S.length);for(f=0;f<S.length;f++)Oe[f]=S[f].pos;o._extremes[u]=p.findExtremes(i,Oe,{padded:K,vpadminus:ee,vpadplus:$,vpadLinearized:!0,ppadminus:{x:Q,y:le}[s],ppadplus:{x:le,y:Q}[s]})}}}V.exports={crossTraceCalc:T,setPositionOffset:d}},36411:function(V,B,e){var p=e(71828),L=e(73972),n=e(7901),C=e(73927),T=e(26125),d=e(4322),y=e(53522);function r(h,u,s,m){function f(b,o){return p.coerce(h,u,y,b,o)}if(t(h,u,f,m),u.visible!==!1){C(h,u,m,f),f("xhoverformat"),f("yhoverformat");var S=u._hasPreCompStats;S&&(f("lowerfence"),f("upperfence")),f("line.color",(h.marker||{}).color||s),f("line.width"),f("fillcolor",n.addOpacity(u.line.color,.5));var v=!1;if(S){var l=f("mean"),g=f("sd");l&&l.length&&(v=!0,g&&g.length&&(v="sd"))}f("whiskerwidth");var M=f("sizemode"),A;M==="quartiles"&&(A=f("boxmean",v)),f("showwhiskers",M==="quartiles"),(M==="sd"||A==="sd")&&f("sdmultiple"),f("width"),f("quartilemethod");var k=!1;if(S){var w=f("notchspan");w&&w.length&&(k=!0)}else p.validate(h.notchwidth,y.notchwidth)&&(k=!0);var E=f("notched",k);E&&f("notchwidth"),i(h,u,f,{prefix:"box"})}}function t(h,u,s,m){function f(Y){var q=0;return Y&&Y.length&&(q+=1,p.isArrayOrTypedArray(Y[0])&&Y[0].length&&(q+=1)),q}function S(Y){return p.validate(h[Y],y[Y])}var v=s("y"),l=s("x"),g;if(u.type==="box"){var M=s("q1"),A=s("median"),k=s("q3");u._hasPreCompStats=M&&M.length&&A&&A.length&&k&&k.length,g=Math.min(p.minRowLength(M),p.minRowLength(A),p.minRowLength(k))}var w=f(v),E=f(l),b=w&&p.minRowLength(v),o=E&&p.minRowLength(l),P=m.calendar,x={autotypenumbers:m.autotypenumbers},z,_;if(u._hasPreCompStats)switch(String(E)+String(w)){case"00":var G=S("x0")||S("dx"),F=S("y0")||S("dy");F&&!G?z="h":z="v",_=g;break;case"10":z="v",_=Math.min(g,o);break;case"20":z="h",_=Math.min(g,l.length);break;case"01":z="h",_=Math.min(g,b);break;case"02":z="v",_=Math.min(g,v.length);break;case"12":z="v",_=Math.min(g,o,v.length);break;case"21":z="h",_=Math.min(g,l.length,b);break;case"11":_=0;break;case"22":var N=!1,U;for(U=0;U<l.length;U++)if(d(l[U],P,x)==="category"){N=!0;break}if(N)z="v",_=Math.min(g,o,v.length);else{for(U=0;U<v.length;U++)if(d(v[U],P,x)==="category"){N=!0;break}N?(z="h",_=Math.min(g,l.length,b)):(z="v",_=Math.min(g,o,v.length))}break}else w>0?(z="v",E>0?_=Math.min(o,b):_=Math.min(b)):E>0?(z="h",_=Math.min(o)):_=0;if(!_){u.visible=!1;return}u._length=_;var O=s("orientation",z);u._hasPreCompStats?O==="v"&&E===0?(s("x0",0),s("dx",1)):O==="h"&&w===0&&(s("y0",0),s("dy",1)):O==="v"&&E===0?s("x0"):O==="h"&&w===0&&s("y0");var H=L.getComponentMethod("calendars","handleTraceDefaults");H(h,u,["x","y"],m)}function i(h,u,s,m){var f=m.prefix,S=p.coerce2(h,u,y,"marker.outliercolor"),v=s("marker.line.outliercolor"),l="outliers";u._hasPreCompStats?l="all":(S||v)&&(l="suspectedoutliers");var g=s(f+"points",l);g?(s("jitter",g==="all"?.3:0),s("pointpos",g==="all"?-1.5:0),s("marker.symbol"),s("marker.opacity"),s("marker.size"),s("marker.angle"),s("marker.color",u.line.color),s("marker.line.color"),s("marker.line.width"),g==="suspectedoutliers"&&(s("marker.line.outliercolor",u.marker.color),s("marker.line.outlierwidth")),s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size"),s("text"),s("hovertext")):delete u.marker;var M=s("hoveron");(M==="all"||M.indexOf("points")!==-1)&&s("hovertemplate"),p.coerceSelectionMarkerOpacity(u,s)}function a(h,u){var s,m;function f(l){return p.coerce(m._input,m,y,l)}for(var S=0;S<h.length;S++){m=h[S];var v=m.type;(v==="box"||v==="violin")&&(s=m._input,u[v+"mode"]==="group"&&T(s,m,u,f))}}V.exports={supplyDefaults:r,crossTraceDefaults:a,handleSampleDefaults:t,handlePointsDefaults:i}},74907:function(V){V.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},41868:function(V,B,e){var p=e(89298),L=e(71828),n=e(30211),C=e(7901),T=L.fillText;function d(t,i,a,h){var u=t.cd,s=u[0].trace,m=s.hoveron,f=[],S;return m.indexOf("boxes")!==-1&&(f=f.concat(y(t,i,a,h))),m.indexOf("points")!==-1&&(S=r(t,i,a)),h==="closest"?S?[S]:f:(S&&f.push(S),f)}function y(t,i,a,h){var u=t.cd,s=t.xa,m=t.ya,f=u[0].trace,S=u[0].t,v=f.type==="violin",l,g,M,A,k,w,E,b,o,P,x,z=S.bdPos,_,G,F=S.wHover,N=function(Ae){return M.c2l(Ae.pos)+S.bPos-M.c2l(w)};v&&f.side!=="both"?(f.side==="positive"&&(o=function(Ae){var Oe=N(Ae);return n.inbox(Oe,Oe+F,P)},_=z,G=0),f.side==="negative"&&(o=function(Ae){var Oe=N(Ae);return n.inbox(Oe-F,Oe,P)},_=0,G=z)):(o=function(Ae){var Oe=N(Ae);return n.inbox(Oe-F,Oe+F,P)},_=G=z);var U;v?U=function(Ae){return n.inbox(Ae.span[0]-k,Ae.span[1]-k,P)}:U=function(Ae){return n.inbox(Ae.min-k,Ae.max-k,P)},f.orientation==="h"?(k=i,w=a,E=U,b=o,l="y",M=m,g="x",A=s):(k=a,w=i,E=o,b=U,l="x",M=s,g="y",A=m);var O=Math.min(1,z/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));P=t.maxHoverDistance-O,x=t.maxSpikeDistance-O;function H(Ae){return(E(Ae)+b(Ae))/2}var Y=n.getDistanceFunction(h,E,b,H);if(n.getClosest(u,Y,t),t.index===!1)return[];var q=u[t.index],ne=f.line.color,oe=(f.marker||{}).color;C.opacity(ne)&&f.line.width?t.color=ne:C.opacity(oe)&&f.boxpoints?t.color=oe:t.color=f.fillcolor,t[l+"0"]=M.c2p(q.pos+S.bPos-G,!0),t[l+"1"]=M.c2p(q.pos+S.bPos+_,!0),t[l+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var he=l+"Spike";t.spikeDistance=H(q)*x/P,t[he]=M.c2p(q.pos,!0);var J=f.boxmean||f.sizemode==="sd"||(f.meanline||{}).visible,Z=f.boxpoints||f.points,se=Z&&J?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!J?["max","uf","q3","med","q1","lf","min"]:!Z&&J?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],$=A.range[1]<A.range[0];f.orientation===($?"v":"h")&&se.reverse();for(var ee=t.spikeDistance,le=t[he],Q=[],K=0;K<se.length;K++){var ue=se[K];if(ue in q){var ie=q[ue],ce=A.c2p(ie,!0),xe=L.extendFlat({},t);xe.attr=ue,xe[g+"0"]=xe[g+"1"]=ce,xe[g+"LabelVal"]=ie,xe[g+"Label"]=(S.labels?S.labels[ue]+" ":"")+p.hoverLabelText(A,ie,f[g+"hoverformat"]),xe.hoverOnBox=!0,ue==="mean"&&"sd"in q&&(f.boxmean==="sd"||f.sizemode==="sd")&&(xe[g+"err"]=q.sd),xe.hovertemplate=!1,Q.push(xe)}}t.name="",t.spikeDistance=void 0,t[he]=void 0;for(var Le=0;Le<Q.length;Le++)Q[Le].attr!=="med"?(Q[Le].name="",Q[Le].spikeDistance=void 0,Q[Le][he]=void 0):(Q[Le].spikeDistance=ee,Q[Le][he]=le);return Q}function r(t,i,a){for(var h=t.cd,u=t.xa,s=t.ya,m=h[0].trace,f=u.c2p(i),S=s.c2p(a),v,l=function(U){var O=Math.max(3,U.mrc||0);return Math.max(Math.abs(u.c2p(U.x)-f)-O,1-3/O)},g=function(U){var O=Math.max(3,U.mrc||0);return Math.max(Math.abs(s.c2p(U.y)-S)-O,1-3/O)},M=n.quadrature(l,g),A=!1,k,w,E=0;E<h.length;E++){k=h[E];for(var b=0;b<(k.pts||[]).length;b++){w=k.pts[b];var o=M(w);o<=t.distance&&(t.distance=o,A=[E,b])}}if(!A)return!1;k=h[A[0]],w=k.pts[A[1]];var P=u.c2p(w.x,!0),x=s.c2p(w.y,!0),z=w.mrc||1;v=L.extendFlat({},t,{index:w.i,color:(m.marker||{}).color,name:m.name,x0:P-z,x1:P+z,y0:x-z,y1:x+z,spikeDistance:t.distance,hovertemplate:m.hovertemplate});var _=k.orig_p,G=_!==void 0?_:k.pos,F;m.orientation==="h"?(F=s,v.xLabelVal=w.x,v.yLabelVal=G):(F=u,v.xLabelVal=G,v.yLabelVal=w.y);var N=F._id.charAt(0);return v[N+"Spike"]=F.c2p(k.pos,!0),T(w,m,v),v}V.exports={hoverPoints:d,hoverOnBoxes:y,hoverOnPoints:r}},83832:function(V,B,e){V.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(V){V.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(V,B,e){var p=e(73972),L=e(71828),n=e(40094);function C(d,y,r,t,i){for(var a=i+"Layout",h=!1,u=0;u<r.length;u++){var s=r[u];if(p.traceIs(s,a)){h=!0;break}}h&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}function T(d,y,r){function t(i,a){return L.coerce(d,y,n,i,a)}C(d,y,r,t,"box")}V.exports={supplyLayoutDefaults:T,_supply:C}},86047:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=5,T=.01;function d(i,a,h,u){var s=i._context.staticPlot,m=a.xaxis,f=a.yaxis;L.makeTraceGroups(u,h,"trace boxes").each(function(S){var v=p.select(this),l=S[0],g=l.t,M=l.trace;if(g.wdPos=g.bdPos*M.whiskerwidth,M.visible!==!0||g.empty){v.remove();return}var A,k;M.orientation==="h"?(A=f,k=m):(A=m,k=f),y(v,{pos:A,val:k},M,g,s),r(v,{x:m,y:f},M,g),t(v,{pos:A,val:k},M,g)})}function y(i,a,h,u,s){var m=h.orientation==="h",f=a.val,S=a.pos,v=!!S.rangebreaks,l=u.bPos,g=u.wdPos||0,M=u.bPosPxOffset||0,A=h.whiskerwidth||0,k=h.showwhiskers!==!1,w=h.notched||!1,E=w?1-2*h.notchwidth:1,b,o;Array.isArray(u.bdPos)?(b=u.bdPos[0],o=u.bdPos[1]):(b=u.bdPos,o=u.bdPos);var P=i.selectAll("path.box").data(h.type!=="violin"||h.box.visible?L.identity:[]);P.enter().append("path").style("vector-effect",s?"none":"non-scaling-stroke").attr("class","box"),P.exit().remove(),P.each(function(x){if(x.empty)return p.select(this).attr("d","M0,0Z");var z=S.c2l(x.pos+l,!0),_=S.l2p(z-b)+M,G=S.l2p(z+o)+M,F=v?(_+G)/2:S.l2p(z)+M,N=h.whiskerwidth,U=v?_*N+(1-N)*F:S.l2p(z-g)+M,O=v?G*N+(1-N)*F:S.l2p(z+g)+M,H=S.l2p(z-b*E)+M,Y=S.l2p(z+o*E)+M,q=h.sizemode==="sd",ne=f.c2p(q?x.mean-x.sd:x.q1,!0),oe=q?f.c2p(x.mean+x.sd,!0):f.c2p(x.q3,!0),he=L.constrain(q?f.c2p(x.mean,!0):f.c2p(x.med,!0),Math.min(ne,oe)+1,Math.max(ne,oe)-1),J=x.lf===void 0||h.boxpoints===!1||q,Z=f.c2p(J?x.min:x.lf,!0),se=f.c2p(J?x.max:x.uf,!0),$=f.c2p(x.ln,!0),ee=f.c2p(x.un,!0);m?p.select(this).attr("d","M"+he+","+H+"V"+Y+"M"+ne+","+_+"V"+G+(w?"H"+$+"L"+he+","+Y+"L"+ee+","+G:"")+"H"+oe+"V"+_+(w?"H"+ee+"L"+he+","+H+"L"+$+","+_:"")+"Z"+(k?"M"+ne+","+F+"H"+Z+"M"+oe+","+F+"H"+se+(A===0?"":"M"+Z+","+U+"V"+O+"M"+se+","+U+"V"+O):"")):p.select(this).attr("d","M"+H+","+he+"H"+Y+"M"+_+","+ne+"H"+G+(w?"V"+$+"L"+Y+","+he+"L"+G+","+ee:"")+"V"+oe+"H"+_+(w?"V"+ee+"L"+H+","+he+"L"+_+","+$:"")+"Z"+(k?"M"+F+","+ne+"V"+Z+"M"+F+","+oe+"V"+se+(A===0?"":"M"+U+","+Z+"H"+O+"M"+U+","+se+"H"+O):""))})}function r(i,a,h,u){var s=a.x,m=a.y,f=u.bdPos,S=u.bPos,v=h.boxpoints||h.points;L.seedPseudoRandom();var l=function(A){return A.forEach(function(k){k.t=u,k.trace=h}),A},g=i.selectAll("g.points").data(v?l:[]);g.enter().append("g").attr("class","points"),g.exit().remove();var M=g.selectAll("path").data(function(A){var k,w=A.pts2,E=Math.max((A.max-A.min)/10,A.q3-A.q1),b=E*1e-9,o=E*T,P=[],x=0,z;if(h.jitter){if(E===0)for(x=1,P=new Array(w.length),k=0;k<w.length;k++)P[k]=1;else for(k=0;k<w.length;k++){var _=Math.max(0,k-C),G=w[_].v,F=Math.min(w.length-1,k+C),N=w[F].v;v!=="all"&&(w[k].v<A.lf?N=Math.min(N,A.lf):G=Math.max(G,A.uf));var U=Math.sqrt(o*(F-_)/(N-G+b))||0;U=L.constrain(Math.abs(U),0,1),P.push(U),x=Math.max(U,x)}z=h.jitter*2/(x||1)}for(k=0;k<w.length;k++){var O=w[k],H=O.v,Y=h.jitter?z*P[k]*(L.pseudoRandom()-.5):0,q=A.pos+S+f*(h.pointpos+Y);h.orientation==="h"?(O.y=q,O.x=H):(O.x=q,O.y=H),v==="suspectedoutliers"&&H<A.uo&&H>A.lo&&(O.so=!0)}return w});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(n.translatePoints,s,m)}function t(i,a,h,u){var s=a.val,m=a.pos,f=!!m.rangebreaks,S=u.bPos,v=u.bPosPxOffset||0,l=h.boxmean||(h.meanline||{}).visible,g,M;Array.isArray(u.bdPos)?(g=u.bdPos[0],M=u.bdPos[1]):(g=u.bdPos,M=u.bdPos);var A=i.selectAll("path.mean").data(h.type==="box"&&h.boxmean||h.type==="violin"&&h.box.visible&&h.meanline.visible?L.identity:[]);A.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),A.exit().remove(),A.each(function(k){var w=m.c2l(k.pos+S,!0),E=m.l2p(w-g)+v,b=m.l2p(w+M)+v,o=f?(E+b)/2:m.l2p(w)+v,P=s.c2p(k.mean,!0),x=s.c2p(k.mean-k.sd,!0),z=s.c2p(k.mean+k.sd,!0);h.orientation==="h"?p.select(this).attr("d","M"+P+","+E+"V"+b+(l==="sd"?"m0,0L"+x+","+o+"L"+P+","+E+"L"+z+","+o+"Z":"")):p.select(this).attr("d","M"+E+","+P+"H"+b+(l==="sd"?"m0,0L"+o+","+x+"L"+E+","+P+"L"+o+","+z+"Z":""))})}V.exports={plot:d,plotBoxAndWhiskers:y,plotPoints:r,plotBoxMean:t}},24626:function(V){V.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,T=[],d,y;if(p===!1)for(d=0;d<L.length;d++)for(y=0;y<(L[d].pts||[]).length;y++)L[d].pts[y].selected=0;else for(d=0;d<L.length;d++)for(y=0;y<(L[d].pts||[]).length;y++){var r=L[d].pts[y],t=n.c2p(r.x),i=C.c2p(r.y);p.contains([t,i],null,r.i,e)?(T.push({pointNumber:r.i,x:n.c2d(r.x),y:C.c2d(r.y)}),r.selected=1):r.selected=0}return T}},58063:function(V,B,e){var p=e(39898),L=e(7901),n=e(91424);function C(d,y,r){var t=r||p.select(d).selectAll("g.trace.boxes");t.style("opacity",function(i){return i[0].trace.opacity}),t.each(function(i){var a=p.select(this),h=i[0].trace,u=h.line.width;function s(S,v,l,g){S.style("stroke-width",v+"px").call(L.stroke,l).call(L.fill,g)}var m=a.selectAll("path.box");if(h.type==="candlestick")m.each(function(S){if(!S.empty){var v=p.select(this),l=h[S.dir];s(v,l.line.width,l.line.color,l.fillcolor),v.style("opacity",h.selectedpoints&&!S.selected?.3:1)}});else{s(m,u,h.line.color,h.fillcolor),a.selectAll("path.mean").style({"stroke-width":u,"stroke-dasharray":2*u+"px,"+u+"px"}).call(L.stroke,h.line.color);var f=a.selectAll("path.point");n.pointStyle(f,h,d)}})}function T(d,y,r){var t=y[0].trace,i=r.selectAll("path.point");t.selectedpoints?n.selectedPointStyle(i,t):n.pointStyle(i,t,d)}V.exports={style:C,styleOnSelect:T}},75343:function(V,B,e){var p=e(71828).extendFlat,L=e(12663).axisHoverFormat,n=e(2522),C=e(53522);function T(d){return{line:{color:p({},C.line.color,{dflt:d}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}V.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:p({},C.line.width,{}),editType:"style"},increasing:T(n.increasing.line.color.dflt),decreasing:T(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:p({},C.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel}},41197:function(V,B,e){var p=e(71828),L=e(89298),n=e(42973),C=e(3485).calcCommon;V.exports=function(d,y){var r=d._fullLayout,t=L.getFromId(d,y.xaxis),i=L.getFromId(d,y.yaxis),a=t.makeCalcdata(y,"x"),h=n(y,t,"x",a).vals,u=C(d,y,a,h,i,T);return u.length?(p.extendFlat(u[0].t,{num:r._numBoxes,dPos:p.distinctVals(h).minDiff/2,posLetter:"x",valLetter:"y"}),r._numBoxes++,u):[{t:{empty:!0}}]};function T(d,y,r,t){return{min:r,q1:Math.min(d,t),med:t,q3:Math.max(d,t),max:y}}},1026:function(V,B,e){var p=e(71828),L=e(7901),n=e(14555),C=e(73927),T=e(75343);V.exports=function(r,t,i,a){function h(s,m){return p.coerce(r,t,T,s,m)}var u=n(r,t,h,a);if(!u){t.visible=!1;return}C(r,t,a,h,{x:!0}),h("xhoverformat"),h("yhoverformat"),h("line.width"),d(r,t,h,"increasing"),d(r,t,h,"decreasing"),h("text"),h("hovertext"),h("whiskerwidth"),a._requestRangeslider[t.xaxis]=!0};function d(y,r,t,i){var a=t(i+".line.color");t(i+".line.width",r.line.width),t(i+".fillcolor",L.addOpacity(a,.5))}},91815:function(V,B,e){V.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(V,B,e){var p=e(11500),L=e(44467);V.exports=function(T,d,y,r,t){var i=r("a");i||(r("da"),r("a0"));var a=r("b");a||(r("db"),r("b0")),n(T,d,y,t)};function n(C,T,d,y){var r=["aaxis","baxis"];r.forEach(function(t){var i=t.charAt(0),a=C[t]||{},h=L.newContainer(T,t),u={noTicklabelstep:!0,tickfont:"x",id:i+"axis",letter:i,font:T.font,name:t,data:C[i],calendar:T.calendar,dfltColor:y,bgColor:d.paper_bgcolor,autotypenumbersDflt:d.autotypenumbers,fullLayout:d};p(a,h,u),h._categories=h._categories||[],!C[t]&&a.type!=="-"&&(C[t]={type:a.type})})}},402:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(n){return L(n,0)};function L(n,C){if(!p(n)||C>=10)return null;for(var T=1/0,d=-1/0,y=n.length,r=0;r<y;r++){var t=n[r];if(p(t)){var i=L(t,C+1);i&&(T=Math.min(i[0],T),d=Math.max(i[1],d))}else T=Math.min(t,T),d=Math.max(t,d)}return[T,d]}},99798:function(V,B,e){var p=e(41940),L=e(1928),n=e(22399),C=p({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=n.defaultLine,V.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0}},4536:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(L,n,C,T){var d,y,r,t,i,a,h,u,s,m,f,S,v,l=p(C)?"a":"b",g=l==="a"?L.aaxis:L.baxis,M=g.smoothing,A=l==="a"?L.a2i:L.b2j,k=l==="a"?C:T,w=l==="a"?T:C,E=l==="a"?n.a.length:n.b.length,b=l==="a"?n.b.length:n.a.length,o=Math.floor(l==="a"?L.b2j(w):L.a2i(w)),P=l==="a"?function(ne){return L.evalxy([],ne,o)}:function(ne){return L.evalxy([],o,ne)};M&&(r=Math.max(0,Math.min(b-2,o)),t=o-r,y=l==="a"?function(ne,oe){return L.dxydi([],ne,r,oe,t)}:function(ne,oe){return L.dxydj([],r,ne,t,oe)});var x=A(k[0]),z=A(k[1]),_=x<z?1:-1,G=(z-x)*1e-8,F=_>0?Math.floor:Math.ceil,N=_>0?Math.ceil:Math.floor,U=_>0?Math.min:Math.max,O=_>0?Math.max:Math.min,H=F(x+G),Y=N(z-G);h=P(x);var q=[[h]];for(d=H;d*_<Y*_;d+=_)i=[],f=O(x,d),S=U(z,d+_),v=S-f,a=Math.max(0,Math.min(E-2,Math.floor(.5*(f+S)))),u=P(S),M&&(s=y(a,f-a),m=y(a,S-a),i.push([h[0]+s[0]/3*v,h[1]+s[1]/3*v]),i.push([u[0]-m[0]/3*v,u[1]-m[1]/3*v])),i.push(u),q.push(i),h=u;return q}},1928:function(V,B,e){var p=e(41940),L=e(22399),n=e(13838),C=e(12663).descriptionWithDates,T=e(30962).overrideAll,d=e(79952).P,y=e(1426).extendFlat;V.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:y({},n.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:T(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:y({},d,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:y({},d,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(V,B,e){var p=e(99798),L=e(7901).addOpacity,n=e(73972),C=e(71828),T=e(26218),d=e(96115),y=e(89426),r=e(15258),t=e(21994),i=e(4322);V.exports=function(u,s,m){var f=m.letter,S=m.font||{},v=p[f+"axis"];function l(H,Y){return C.coerce(u,s,v,H,Y)}function g(H,Y){return C.coerce2(u,s,v,H,Y)}m.name&&(s._name=m.name,s._id=m.name),l("autotypenumbers",m.autotypenumbersDflt);var M=l("type");if(M==="-"&&(m.data&&a(s,m.data),s.type==="-"?s.type="linear":M=u.type=s.type),l("smoothing"),l("cheatertype"),l("showticklabels"),l("labelprefix",f+" = "),l("labelsuffix"),l("showtickprefix"),l("showticksuffix"),l("separatethousands"),l("tickformat"),l("exponentformat"),l("minexponent"),l("showexponent"),l("categoryorder"),l("tickmode"),l("tickvals"),l("ticktext"),l("tick0"),l("dtick"),s.tickmode==="array"&&(l("arraytick0"),l("arraydtick")),l("labelpadding"),s._hovertitle=f,M==="date"){var A=n.getComponentMethod("calendars","handleDefaults");A(u,s,"calendar",m.calendar)}t(s,m.fullLayout),s.c2p=C.identity;var k=l("color",m.dfltColor),w=k===u.color?k:S.color,E=l("title.text");E&&(C.coerceFont(l,"title.font",{family:S.family,size:C.bigFont(S.size),color:w}),l("title.offset")),l("tickangle");var b=l("autorange",!s.isValidRange(u.range));b&&l("rangemode"),l("range"),s.cleanRange(),l("fixedrange"),T(u,s,l,M),y(u,s,l,M,m),d(u,s,l,M,m),r(u,s,l,{data:m.data,dataAttr:f});var o=g("gridcolor",L(k,.3)),P=g("gridwidth"),x=g("griddash"),z=l("showgrid");z||(delete s.gridcolor,delete s.gridwidth,delete s.griddash);var _=g("startlinecolor",k),G=g("startlinewidth",P),F=l("startline",s.showgrid||!!_||!!G);F||(delete s.startlinecolor,delete s.startlinewidth);var N=g("endlinecolor",k),U=g("endlinewidth",P),O=l("endline",s.showgrid||!!N||!!U);return O||(delete s.endlinecolor,delete s.endlinewidth),z?(l("minorgridcount"),l("minorgridwidth",P),l("minorgriddash",x),l("minorgridcolor",L(o,.06)),s.minorgridcount||(delete s.minorgridwidth,delete s.minorgriddash,delete s.minorgridcolor)):(delete s.gridcolor,delete s.gridwidth,delete s.griddash),s.showticklabels==="none"&&(delete s.tickfont,delete s.tickangle,delete s.showexponent,delete s.exponentformat,delete s.minexponent,delete s.tickformat,delete s.showticksuffix,delete s.showtickprefix),s.showticksuffix||delete s.ticksuffix,s.showtickprefix||delete s.tickprefix,l("tickmode"),s};function a(h,u){if(h.type==="-"){var s=h._id,m=s.charAt(0),f=m+"calendar",S=h[f];h.type=i(u,S,{autotypenumbers:h.autotypenumbers})}}},25281:function(V,B,e){var p=e(89298),L=e(71828).isArray1D,n=e(53824),C=e(402),T=e(20347),d=e(83311),y=e(44807),r=e(4742),t=e(72505),i=e(68296),a=e(11435);V.exports=function(u,s){var m=p.getFromId(u,s.xaxis),f=p.getFromId(u,s.yaxis),S=s.aaxis,v=s.baxis,l=s.x,g=s.y,M=[];l&&L(l)&&M.push("x"),g&&L(g)&&M.push("y"),M.length&&i(s,S,v,"a","b",M);var A=s._a=s._a||s.a,k=s._b=s._b||s.b;l=s._x||s.x,g=s._y||s.y;var w={};if(s._cheater){var E=S.cheatertype==="index"?A.length:A,b=v.cheatertype==="index"?k.length:k;l=n(E,b,s.cheaterslope)}s._x=l=r(l),s._y=g=r(g),t(l,A,k),t(g,A,k),a(s),s.setScale();var o=C(l),P=C(g),x=.5*(o[1]-o[0]),z=.5*(o[1]+o[0]),_=.5*(P[1]-P[0]),G=.5*(P[1]+P[0]),F=1.3;return o=[z-x*F,z+x*F],P=[G-_*F,G+_*F],s._extremes[m._id]=p.findExtremes(m,o,{padded:!0}),s._extremes[f._id]=p.findExtremes(f,P,{padded:!0}),T(s,"a","b"),T(s,"b","a"),d(s,S),d(s,v),w.clipsegments=y(s._xctrl,s._yctrl,S,v),w.x=l,w.y=g,w.a=A,w.b=k,[w]}},44807:function(V){V.exports=function(e,p,L,n){var C,T,d,y=[],r=!!L.smoothing,t=!!n.smoothing,i=e[0].length-1,a=e.length-1;for(C=0,T=[],d=[];C<=i;C++)T[C]=e[0][C],d[C]=p[0][C];for(y.push({x:T,y:d,bicubic:r}),C=0,T=[],d=[];C<=a;C++)T[C]=e[C][i],d[C]=p[C][i];for(y.push({x:T,y:d,bicubic:t}),C=i,T=[],d=[];C>=0;C--)T[i-C]=e[a][C],d[i-C]=p[a][C];for(y.push({x:T,y:d,bicubic:r}),C=a,T=[],d=[];C>=0;C--)T[a-C]=e[C][0],d[a-C]=p[C][0];return y.push({x:T,y:d,bicubic:t}),y}},20347:function(V,B,e){var p=e(89298),L=e(1426).extendFlat;V.exports=function(C,T,d){var y,r,t,i,a,h,u,s,m,f,S,v,l,g,M=C["_"+T],A=C[T+"axis"],k=A._gridlines=[],w=A._minorgridlines=[],E=A._boundarylines=[],b=C["_"+d],o=C[d+"axis"];A.tickmode==="array"&&(A.tickvals=M.slice());var P=C._xctrl,x=C._yctrl,z=P[0].length,_=P.length,G=C._a.length,F=C._b.length;p.prepTicks(A),A.tickmode==="array"&&delete A.tickvals;var N=A.smoothing?3:1;function U(H){var Y,q,ne,oe,he,J,Z,se,$,ee,le,Q,K=[],ue=[],ie={};if(T==="b")for(q=C.b2j(H),ne=Math.floor(Math.max(0,Math.min(F-2,q))),oe=q-ne,ie.length=F,ie.crossLength=G,ie.xy=function(ce){return C.evalxy([],ce,q)},ie.dxy=function(ce,xe){return C.dxydi([],ce,ne,xe,oe)},Y=0;Y<G;Y++)J=Math.min(G-2,Y),Z=Y-J,se=C.evalxy([],Y,q),o.smoothing&&Y>0&&($=C.dxydi([],Y-1,ne,0,oe),K.push(he[0]+$[0]/3),ue.push(he[1]+$[1]/3),ee=C.dxydi([],Y-1,ne,1,oe),K.push(se[0]-ee[0]/3),ue.push(se[1]-ee[1]/3)),K.push(se[0]),ue.push(se[1]),he=se;else for(Y=C.a2i(H),J=Math.floor(Math.max(0,Math.min(G-2,Y))),Z=Y-J,ie.length=G,ie.crossLength=F,ie.xy=function(ce){return C.evalxy([],Y,ce)},ie.dxy=function(ce,xe){return C.dxydj([],J,ce,Z,xe)},q=0;q<F;q++)ne=Math.min(F-2,q),oe=q-ne,se=C.evalxy([],Y,q),o.smoothing&&q>0&&(le=C.dxydj([],J,q-1,Z,0),K.push(he[0]+le[0]/3),ue.push(he[1]+le[1]/3),Q=C.dxydj([],J,q-1,Z,1),K.push(se[0]-Q[0]/3),ue.push(se[1]-Q[1]/3)),K.push(se[0]),ue.push(se[1]),he=se;return ie.axisLetter=T,ie.axis=A,ie.crossAxis=o,ie.value=H,ie.constvar=d,ie.index=s,ie.x=K,ie.y=ue,ie.smoothing=o.smoothing,ie}function O(H){var Y,q,ne,oe,he,J=[],Z=[],se={};if(se.length=M.length,se.crossLength=b.length,T==="b")for(ne=Math.max(0,Math.min(F-2,H)),he=Math.min(1,Math.max(0,H-ne)),se.xy=function($){return C.evalxy([],$,H)},se.dxy=function($,ee){return C.dxydi([],$,ne,ee,he)},Y=0;Y<z;Y++)J[Y]=P[H*N][Y],Z[Y]=x[H*N][Y];else for(q=Math.max(0,Math.min(G-2,H)),oe=Math.min(1,Math.max(0,H-q)),se.xy=function($){return C.evalxy([],H,$)},se.dxy=function($,ee){return C.dxydj([],q,$,oe,ee)},Y=0;Y<_;Y++)J[Y]=P[Y][H*N],Z[Y]=x[Y][H*N];return se.axisLetter=T,se.axis=A,se.crossAxis=o,se.value=M[H],se.constvar=d,se.index=H,se.x=J,se.y=Z,se.smoothing=o.smoothing,se}if(A.tickmode==="array"){for(i=5e-15,a=[Math.floor((M.length-1-A.arraytick0)/A.arraydtick*(1+i)),Math.ceil(-A.arraytick0/A.arraydtick/(1+i))].sort(function(H,Y){return H-Y}),h=a[0]-1,u=a[1]+1,s=h;s<u;s++)r=A.arraytick0+A.arraydtick*s,!(r<0||r>M.length-1)&&k.push(L(O(r),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(s=h;s<u;s++)if(t=A.arraytick0+A.arraydtick*s,S=Math.min(t+A.arraydtick,M.length-1),!(t<0||t>M.length-1)&&!(S<0||S>M.length-1))for(v=M[t],l=M[S],y=0;y<A.minorgridcount;y++)g=S-t,!(g<=0)&&(f=v+(l-v)*(y+1)/(A.minorgridcount+1)*(A.arraydtick/g),!(f<M[0]||f>M[M.length-1])&&w.push(L(U(f),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash})));A.startline&&E.push(L(O(0),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(L(O(M.length-1),{color:A.endlinecolor,width:A.endlinewidth}))}else{for(i=5e-15,a=[Math.floor((M[M.length-1]-A.tick0)/A.dtick*(1+i)),Math.ceil((M[0]-A.tick0)/A.dtick/(1+i))].sort(function(H,Y){return H-Y}),h=a[0],u=a[1],s=h;s<=u;s++)m=A.tick0+A.dtick*s,k.push(L(U(m),{color:A.gridcolor,width:A.gridwidth,dash:A.griddash}));for(s=h-1;s<u+1;s++)for(m=A.tick0+A.dtick*s,y=0;y<A.minorgridcount;y++)f=m+A.dtick*(y+1)/(A.minorgridcount+1),!(f<M[0]||f>M[M.length-1])&&w.push(L(U(f),{color:A.minorgridcolor,width:A.minorgridwidth,dash:A.minorgriddash}));A.startline&&E.push(L(U(M[0]),{color:A.startlinecolor,width:A.startlinewidth})),A.endline&&E.push(L(U(M[M.length-1]),{color:A.endlinecolor,width:A.endlinewidth}))}}},83311:function(V,B,e){var p=e(89298),L=e(1426).extendFlat;V.exports=function(C,T){var d,y,r,t,i,a=T._labels=[],h=T._gridlines;for(d=0;d<h.length;d++)i=h[d],["start","both"].indexOf(T.showticklabels)!==-1&&(y=p.tickText(T,i.value),L(y,{prefix:r,suffix:t,endAnchor:!0,xy:i.xy(0),dxy:i.dxy(0,0),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:d===0,isLast:d===h.length-1}),a.push(y)),["end","both"].indexOf(T.showticklabels)!==-1&&(y=p.tickText(T,i.value),L(y,{endAnchor:!1,xy:i.xy(i.crossLength-1),dxy:i.dxy(i.crossLength-2,1),axis:i.axis,length:i.crossAxis.length,font:i.axis.tickfont,isFirst:d===0,isLast:d===h.length-1}),a.push(y))}},42048:function(V){var B=.5;V.exports=function(p,L,n,C){var T=p[0]-L[0],d=p[1]-L[1],y=n[0]-L[0],r=n[1]-L[1],t=Math.pow(T*T+d*d,B/2),i=Math.pow(y*y+r*r,B/2),a=(i*i*T-t*t*y)*C,h=(i*i*d-t*t*r)*C,u=i*(t+i)*3,s=t*(t+i)*3;return[[L[0]+(u&&a/u),L[1]+(u&&h/u)],[L[0]-(s&&a/s),L[1]-(s&&h/s)]]}},53824:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(L,n,C){var T,d,y,r,t,i,a=[],h=p(L)?L.length:L,u=p(n)?n.length:n,s=p(L)?L:null,m=p(n)?n:null;s&&(y=(s.length-1)/(s[s.length-1]-s[0])/(h-1)),m&&(r=(m.length-1)/(m[m.length-1]-m[0])/(u-1));var f,S=1/0,v=-1/0;for(d=0;d<u;d++)for(a[d]=[],i=m?(m[d]-m[0])*r:d/(u-1),T=0;T<h;T++)t=s?(s[T]-s[0])*y:T/(h-1),f=t-i*C,S=Math.min(f,S),v=Math.max(f,v),a[d][T]=f;var l=1/(v-S),g=-S*l;for(d=0;d<u;d++)for(T=0;T<h;T++)a[d][T]=l*a[d][T]+g;return a}},45664:function(V,B,e){var p=e(42048),L=e(71828).ensureArray;function n(C,T,d){var y=-.5*d[0]+1.5*T[0],r=-.5*d[1]+1.5*T[1];return[(2*y+C[0])/3,(2*r+C[1])/3]}V.exports=function(T,d,y,r,t,i){var a,h,u,s,m,f,S,v,l,g,M=y[0].length,A=y.length,k=t?3*M-2:M,w=i?3*A-2:A;for(T=L(T,w),d=L(d,w),u=0;u<w;u++)T[u]=L(T[u],k),d[u]=L(d[u],k);for(h=0,s=0;h<A;h++,s+=i?3:1)for(m=T[s],f=d[s],S=y[h],v=r[h],a=0,u=0;a<M;a++,u+=t?3:1)m[u]=S[a],f[u]=v[a];if(t)for(h=0,s=0;h<A;h++,s+=i?3:1){for(a=1,u=3;a<M-1;a++,u+=3)l=p([y[h][a-1],r[h][a-1]],[y[h][a],r[h][a]],[y[h][a+1],r[h][a+1]],t),T[s][u-1]=l[0][0],d[s][u-1]=l[0][1],T[s][u+1]=l[1][0],d[s][u+1]=l[1][1];g=n([T[s][0],d[s][0]],[T[s][2],d[s][2]],[T[s][3],d[s][3]]),T[s][1]=g[0],d[s][1]=g[1],g=n([T[s][k-1],d[s][k-1]],[T[s][k-3],d[s][k-3]],[T[s][k-4],d[s][k-4]]),T[s][k-2]=g[0],d[s][k-2]=g[1]}if(i)for(u=0;u<k;u++){for(s=3;s<w-3;s+=3)l=p([T[s-3][u],d[s-3][u]],[T[s][u],d[s][u]],[T[s+3][u],d[s+3][u]],i),T[s-1][u]=l[0][0],d[s-1][u]=l[0][1],T[s+1][u]=l[1][0],d[s+1][u]=l[1][1];g=n([T[0][u],d[0][u]],[T[2][u],d[2][u]],[T[3][u],d[3][u]]),T[1][u]=g[0],d[1][u]=g[1],g=n([T[w-1][u],d[w-1][u]],[T[w-3][u],d[w-3][u]],[T[w-4][u],d[w-4][u]]),T[w-2][u]=g[0],d[w-2][u]=g[1]}if(t&&i)for(s=1;s<w;s+=(s+1)%3===0?2:1){for(u=3;u<k-3;u+=3)l=p([T[s][u-3],d[s][u-3]],[T[s][u],d[s][u]],[T[s][u+3],d[s][u+3]],t),T[s][u-1]=.5*(T[s][u-1]+l[0][0]),d[s][u-1]=.5*(d[s][u-1]+l[0][1]),T[s][u+1]=.5*(T[s][u+1]+l[1][0]),d[s][u+1]=.5*(d[s][u+1]+l[1][1]);g=n([T[s][0],d[s][0]],[T[s][2],d[s][2]],[T[s][3],d[s][3]]),T[s][1]=.5*(T[s][1]+g[0]),d[s][1]=.5*(d[s][1]+g[1]),g=n([T[s][k-1],d[s][k-1]],[T[s][k-3],d[s][k-3]],[T[s][k-4],d[s][k-4]]),T[s][k-2]=.5*(T[s][k-2]+g[0]),d[s][k-2]=.5*(d[s][k-2]+g[1])}return[T,d]}},35509:function(V){V.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(V){V.exports=function(B,e,p){return e&&p?function(L,n,C,T,d){L||(L=[]);var y,r,t,i,a,h;n*=3,C*=3;var u=T*T,s=1-T,m=s*s,f=s*T*2,S=-3*m,v=3*(m-f),l=3*(f-u),g=3*u,M=d*d,A=M*d,k=1-d,w=k*k,E=w*k;for(h=0;h<B.length;h++)a=B[h],y=S*a[C][n]+v*a[C][n+1]+l*a[C][n+2]+g*a[C][n+3],r=S*a[C+1][n]+v*a[C+1][n+1]+l*a[C+1][n+2]+g*a[C+1][n+3],t=S*a[C+2][n]+v*a[C+2][n+1]+l*a[C+2][n+2]+g*a[C+2][n+3],i=S*a[C+3][n]+v*a[C+3][n+1]+l*a[C+3][n+2]+g*a[C+3][n+3],L[h]=E*y+3*(w*d*r+k*M*t)+A*i;return L}:e?function(L,n,C,T,d){L||(L=[]);var y,r,t,i;n*=3;var a=T*T,h=1-T,u=h*h,s=h*T*2,m=-3*u,f=3*(u-s),S=3*(s-a),v=3*a,l=1-d;for(t=0;t<B.length;t++)i=B[t],y=m*i[C][n]+f*i[C][n+1]+S*i[C][n+2]+v*i[C][n+3],r=m*i[C+1][n]+f*i[C+1][n+1]+S*i[C+1][n+2]+v*i[C+1][n+3],L[t]=l*y+d*r;return L}:p?function(L,n,C,T,d){L||(L=[]);var y,r,t,i,a,h;C*=3;var u=d*d,s=u*d,m=1-d,f=m*m,S=f*m;for(a=0;a<B.length;a++)h=B[a],y=h[C][n+1]-h[C][n],r=h[C+1][n+1]-h[C+1][n],t=h[C+2][n+1]-h[C+2][n],i=h[C+3][n+1]-h[C+3][n],L[a]=S*y+3*(f*d*r+m*u*t)+s*i;return L}:function(L,n,C,T,d){L||(L=[]);var y,r,t,i,a=1-d;for(t=0;t<B.length;t++)i=B[t],y=i[C][n+1]-i[C][n],r=i[C+1][n+1]-i[C+1][n],L[t]=a*y+d*r;return L}}},73057:function(V){V.exports=function(B,e,p){return e&&p?function(L,n,C,T,d){L||(L=[]);var y,r,t,i,a,h;n*=3,C*=3;var u=T*T,s=u*T,m=1-T,f=m*m,S=f*m,v=d*d,l=1-d,g=l*l,M=l*d*2,A=-3*g,k=3*(g-M),w=3*(M-v),E=3*v;for(h=0;h<B.length;h++)a=B[h],y=A*a[C][n]+k*a[C+1][n]+w*a[C+2][n]+E*a[C+3][n],r=A*a[C][n+1]+k*a[C+1][n+1]+w*a[C+2][n+1]+E*a[C+3][n+1],t=A*a[C][n+2]+k*a[C+1][n+2]+w*a[C+2][n+2]+E*a[C+3][n+2],i=A*a[C][n+3]+k*a[C+1][n+3]+w*a[C+2][n+3]+E*a[C+3][n+3],L[h]=S*y+3*(f*T*r+m*u*t)+s*i;return L}:e?function(L,n,C,T,d){L||(L=[]);var y,r,t,i,a,h;n*=3;var u=d*d,s=u*d,m=1-d,f=m*m,S=f*m;for(a=0;a<B.length;a++)h=B[a],y=h[C+1][n]-h[C][n],r=h[C+1][n+1]-h[C][n+1],t=h[C+1][n+2]-h[C][n+2],i=h[C+1][n+3]-h[C][n+3],L[a]=S*y+3*(f*d*r+m*u*t)+s*i;return L}:p?function(L,n,C,T,d){L||(L=[]);var y,r,t,i;C*=3;var a=1-T,h=d*d,u=1-d,s=u*u,m=u*d*2,f=-3*s,S=3*(s-m),v=3*(m-h),l=3*h;for(t=0;t<B.length;t++)i=B[t],y=f*i[C][n]+S*i[C+1][n]+v*i[C+2][n]+l*i[C+3][n],r=f*i[C][n+1]+S*i[C+1][n+1]+v*i[C+2][n+1]+l*i[C+3][n+1],L[t]=a*y+T*r;return L}:function(L,n,C,T,d){L||(L=[]);var y,r,t,i,a=1-T;for(t=0;t<B.length;t++)i=B[t],y=i[C+1][n]-i[C][n],r=i[C+1][n+1]-i[C][n+1],L[t]=a*y+T*r;return L}}},20349:function(V){V.exports=function(B,e,p,L,n){var C=e-2,T=p-2;return L&&n?function(d,y,r){d||(d=[]);var t,i,a,h,u,s,m=Math.max(0,Math.min(Math.floor(y),C)),f=Math.max(0,Math.min(Math.floor(r),T)),S=Math.max(0,Math.min(1,y-m)),v=Math.max(0,Math.min(1,r-f));m*=3,f*=3;var l=S*S,g=l*S,M=1-S,A=M*M,k=A*M,w=v*v,E=w*v,b=1-v,o=b*b,P=o*b;for(s=0;s<B.length;s++)u=B[s],t=k*u[f][m]+3*(A*S*u[f][m+1]+M*l*u[f][m+2])+g*u[f][m+3],i=k*u[f+1][m]+3*(A*S*u[f+1][m+1]+M*l*u[f+1][m+2])+g*u[f+1][m+3],a=k*u[f+2][m]+3*(A*S*u[f+2][m+1]+M*l*u[f+2][m+2])+g*u[f+2][m+3],h=k*u[f+3][m]+3*(A*S*u[f+3][m+1]+M*l*u[f+3][m+2])+g*u[f+3][m+3],d[s]=P*t+3*(o*v*i+b*w*a)+E*h;return d}:L?function(d,y,r){d||(d=[]);var t=Math.max(0,Math.min(Math.floor(y),C)),i=Math.max(0,Math.min(Math.floor(r),T)),a=Math.max(0,Math.min(1,y-t)),h=Math.max(0,Math.min(1,r-i)),u,s,m,f,S,v;t*=3;var l=a*a,g=l*a,M=1-a,A=M*M,k=A*M,w=1-h;for(S=0;S<B.length;S++)v=B[S],u=w*v[i][t]+h*v[i+1][t],s=w*v[i][t+1]+h*v[i+1][t+1],m=w*v[i][t+2]+h*v[i+1][t+1],f=w*v[i][t+3]+h*v[i+1][t+1],d[S]=k*u+3*(A*a*s+M*l*m)+g*f;return d}:n?function(d,y,r){d||(d=[]);var t=Math.max(0,Math.min(Math.floor(y),C)),i=Math.max(0,Math.min(Math.floor(r),T)),a=Math.max(0,Math.min(1,y-t)),h=Math.max(0,Math.min(1,r-i)),u,s,m,f,S,v;i*=3;var l=h*h,g=l*h,M=1-h,A=M*M,k=A*M,w=1-a;for(S=0;S<B.length;S++)v=B[S],u=w*v[i][t]+a*v[i][t+1],s=w*v[i+1][t]+a*v[i+1][t+1],m=w*v[i+2][t]+a*v[i+2][t+1],f=w*v[i+3][t]+a*v[i+3][t+1],d[S]=k*u+3*(A*h*s+M*l*m)+g*f;return d}:function(d,y,r){d||(d=[]);var t=Math.max(0,Math.min(Math.floor(y),C)),i=Math.max(0,Math.min(Math.floor(r),T)),a=Math.max(0,Math.min(1,y-t)),h=Math.max(0,Math.min(1,r-i)),u,s,m,f,S=1-h,v=1-a;for(m=0;m<B.length;m++)f=B[m],u=v*f[i][t]+a*f[i][t+1],s=v*f[i+1][t]+a*f[i+1][t+1],d[m]=S*u+h*s;return d}}},92087:function(V,B,e){var p=e(71828),L=e(19237),n=e(13145),C=e(99798),T=e(22399);V.exports=function(y,r,t,i){function a(s,m){return p.coerce(y,r,C,s,m)}r._clipPathId="clip"+r.uid+"carpet";var h=a("color",T.defaultLine);if(p.coerceFont(a,"font"),a("carpet"),n(y,r,i,a,h),!r.a||!r.b){r.visible=!1;return}r.a.length<3&&(r.aaxis.smoothing=0),r.b.length<3&&(r.baxis.smoothing=0);var u=L(y,r,a);u||(r.visible=!1),r._cheater&&a("cheaterslope")}},21462:function(V,B,e){V.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(V){V.exports=function(B,e){for(var p=B._fullData.length,L,n=0;n<p;n++){var C=B._fullData[n];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},67961:function(V){V.exports=function(e,p,L){if(e.length===0)return"";var n,C=[],T=L?3:1;for(n=0;n<e.length;n+=T)C.push(e[n]+","+p[n]),L&&n<e.length-T&&(C.push("C"),C.push([e[n+1]+","+p[n+1],e[n+2]+","+p[n+2]+" "].join(" ")));return C.join(L?"":"L")}},27669:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(n,C,T){var d;for(p(n)?n.length>C.length&&(n=n.slice(0,C.length)):n=[],d=0;d<C.length;d++)n[d]=T(C[d]);return n}},11651:function(V){V.exports=function(e,p,L,n,C,T){var d=C[0]*e.dpdx(p),y=C[1]*e.dpdy(L),r=1,t=1;if(T){var i=Math.sqrt(C[0]*C[0]+C[1]*C[1]),a=Math.sqrt(T[0]*T[0]+T[1]*T[1]),h=(C[0]*T[0]+C[1]*T[1])/i/a;t=Math.max(0,h)}var u=Math.atan2(y,d)*180/Math.PI;return u<-90?(u+=180,r=-r):u>90&&(u-=180,r=-r),{angle:u,flip:r,p:e.c2p(n,p,L),offsetMultplier:t}}},89740:function(V,B,e){var p=e(39898),L=e(91424),n=e(27669),C=e(67961),T=e(11651),d=e(63893),y=e(71828),r=y.strRotate,t=y.strTranslate,i=e(18783);V.exports=function(l,g,M,A){var k=l._context.staticPlot,w=g.xaxis,E=g.yaxis,b=l._fullLayout,o=b._clips;y.makeTraceGroups(A,M,"trace").each(function(P){var x=p.select(this),z=P[0],_=z.trace,G=_.aaxis,F=_.baxis,N=y.ensureSingle(x,"g","minorlayer"),U=y.ensureSingle(x,"g","majorlayer"),O=y.ensureSingle(x,"g","boundarylayer"),H=y.ensureSingle(x,"g","labellayer");x.style("opacity",_.opacity),h(w,E,U,G,"a",G._gridlines,!0),h(w,E,U,F,"b",F._gridlines,!0),h(w,E,N,G,"a",G._minorgridlines,!0),h(w,E,N,F,"b",F._minorgridlines,!0),h(w,E,O,G,"a-boundary",G._boundarylines,k),h(w,E,O,F,"b-boundary",F._boundarylines,k);var Y=u(l,w,E,_,z,H,G._labels,"a-label"),q=u(l,w,E,_,z,H,F._labels,"b-label");s(l,H,_,z,w,E,Y,q),a(_,z,o,w,E)})};function a(v,l,g,M,A){var k,w,E,b,o=g.select("#"+v._clipPathId);o.size()||(o=g.append("clipPath").classed("carpetclip",!0));var P=y.ensureSingle(o,"path","carpetboundary"),x=l.clipsegments,z=[];for(b=0;b<x.length;b++)k=x[b],w=n([],k.x,M.c2p),E=n([],k.y,A.c2p),z.push(C(w,E,k.bicubic));var _="M"+z.join("L")+"Z";o.attr("id",v._clipPathId),P.attr("d",_)}function h(v,l,g,M,A,k,w){var E="const-"+A+"-lines",b=g.selectAll("."+E).data(k);b.enter().append("path").classed(E,!0).style("vector-effect",w?"none":"non-scaling-stroke"),b.each(function(o){var P=o,x=P.x,z=P.y,_=n([],x,v.c2p),G=n([],z,l.c2p),F="M"+C(_,G,P.smoothing),N=p.select(this);N.attr("d",F).style("stroke-width",P.width).style("stroke",P.color).style("stroke-dasharray",L.dashStyle(P.dash,P.width)).style("fill","none")}),b.exit().remove()}function u(v,l,g,M,A,k,w,E){var b=k.selectAll("text."+E).data(w);b.enter().append("text").classed(E,!0);var o=0,P={};return b.each(function(x,z){var _;if(x.axis.tickangle==="auto")_=T(M,l,g,x.xy,x.dxy);else{var G=(x.axis.tickangle+180)*Math.PI/180;_=T(M,l,g,x.xy,[Math.cos(G),Math.sin(G)])}z||(P={angle:_.angle,flip:_.flip});var F=(x.endAnchor?-1:1)*_.flip,N=p.select(this).attr({"text-anchor":F>0?"start":"end","data-notex":1}).call(L.font,x.font).text(x.text).call(d.convertToTspans,v),U=L.bBox(this);N.attr("transform",t(_.p[0],_.p[1])+r(_.angle)+t(x.axis.labelpadding*F,U.height*.3)),o=Math.max(o,U.width+x.axis.labelpadding)}),b.exit().remove(),P.maxExtent=o,P}function s(v,l,g,M,A,k,w,E){var b,o,P,x,z=y.aggNums(Math.min,null,g.a),_=y.aggNums(Math.max,null,g.a),G=y.aggNums(Math.min,null,g.b),F=y.aggNums(Math.max,null,g.b);b=.5*(z+_),o=G,P=g.ab2xy(b,o,!0),x=g.dxyda_rough(b,o),w.angle===void 0&&y.extendFlat(w,T(g,A,k,P,g.dxydb_rough(b,o))),S(v,l,g,M,P,x,g.aaxis,A,k,w,"a-title"),b=z,o=.5*(G+F),P=g.ab2xy(b,o,!0),x=g.dxydb_rough(b,o),E.angle===void 0&&y.extendFlat(E,T(g,A,k,P,g.dxyda_rough(b,o))),S(v,l,g,M,P,x,g.baxis,A,k,E,"b-title")}var m=i.LINE_SPACING,f=(1-i.MID_SHIFT)/m+1;function S(v,l,g,M,A,k,w,E,b,o,P){var x=[];w.title.text&&x.push(w.title.text);var z=l.selectAll("text."+P).data(x),_=o.maxExtent;z.enter().append("text").classed(P,!0),z.each(function(){var G=T(g,E,b,A,k);["start","both"].indexOf(w.showticklabels)===-1&&(_=0);var F=w.title.font.size;_+=F+w.title.offset;var N=o.angle+(o.flip<0?180:0),U=(N-G.angle+450)%360,O=U>90&&U<270,H=p.select(this);H.text(w.title.text).call(d.convertToTspans,v),O&&(_=(-d.lineCount(H)+f)*m*F-_),H.attr("transform",t(G.p[0],G.p[1])+r(G.angle)+t(0,_)).attr("text-anchor","middle").call(L.font,w.title.font)}),z.exit().remove()}},11435:function(V,B,e){var p=e(35509),L=e(65888).findBin,n=e(45664),C=e(20349),T=e(54495),d=e(73057);V.exports=function(r){var t=r._a,i=r._b,a=t.length,h=i.length,u=r.aaxis,s=r.baxis,m=t[0],f=t[a-1],S=i[0],v=i[h-1],l=t[t.length-1]-t[0],g=i[i.length-1]-i[0],M=l*p.RELATIVE_CULL_TOLERANCE,A=g*p.RELATIVE_CULL_TOLERANCE;m-=M,f+=M,S-=A,v+=A,r.isVisible=function(k,w){return k>m&&k<f&&w>S&&w<v},r.isOccluded=function(k,w){return k<m||k>f||w<S||w>v},r.setScale=function(){var k=r._x,w=r._y,E=n(r._xctrl,r._yctrl,k,w,u.smoothing,s.smoothing);r._xctrl=E[0],r._yctrl=E[1],r.evalxy=C([r._xctrl,r._yctrl],a,h,u.smoothing,s.smoothing),r.dxydi=T([r._xctrl,r._yctrl],u.smoothing,s.smoothing),r.dxydj=d([r._xctrl,r._yctrl],u.smoothing,s.smoothing)},r.i2a=function(k){var w=Math.max(0,Math.floor(k[0]),a-2),E=k[0]-w;return(1-E)*t[w]+E*t[w+1]},r.j2b=function(k){var w=Math.max(0,Math.floor(k[1]),a-2),E=k[1]-w;return(1-E)*i[w]+E*i[w+1]},r.ij2ab=function(k){return[r.i2a(k[0]),r.j2b(k[1])]},r.a2i=function(k){var w=Math.max(0,Math.min(L(k,t),a-2)),E=t[w],b=t[w+1];return Math.max(0,Math.min(a-1,w+(k-E)/(b-E)))},r.b2j=function(k){var w=Math.max(0,Math.min(L(k,i),h-2)),E=i[w],b=i[w+1];return Math.max(0,Math.min(h-1,w+(k-E)/(b-E)))},r.ab2ij=function(k){return[r.a2i(k[0]),r.b2j(k[1])]},r.i2c=function(k,w){return r.evalxy([],k,w)},r.ab2xy=function(k,w,E){if(!E&&(k<t[0]||k>t[a-1]|w<i[0]||w>i[h-1]))return[!1,!1];var b=r.a2i(k),o=r.b2j(w),P=r.evalxy([],b,o);if(E){var x=0,z=0,_=[],G,F,N,U;k<t[0]?(G=0,F=0,x=(k-t[0])/(t[1]-t[0])):k>t[a-1]?(G=a-2,F=1,x=(k-t[a-1])/(t[a-1]-t[a-2])):(G=Math.max(0,Math.min(a-2,Math.floor(b))),F=b-G),w<i[0]?(N=0,U=0,z=(w-i[0])/(i[1]-i[0])):w>i[h-1]?(N=h-2,U=1,z=(w-i[h-1])/(i[h-1]-i[h-2])):(N=Math.max(0,Math.min(h-2,Math.floor(o))),U=o-N),x&&(r.dxydi(_,G,N,F,U),P[0]+=_[0]*x,P[1]+=_[1]*x),z&&(r.dxydj(_,G,N,F,U),P[0]+=_[0]*z,P[1]+=_[1]*z)}return P},r.c2p=function(k,w,E){return[w.c2p(k[0]),E.c2p(k[1])]},r.p2x=function(k,w,E){return[w.p2c(k[0]),E.p2c(k[1])]},r.dadi=function(k){var w=Math.max(0,Math.min(t.length-2,k));return t[w+1]-t[w]},r.dbdj=function(k){var w=Math.max(0,Math.min(i.length-2,k));return i[w+1]-i[w]},r.dxyda=function(k,w,E,b){var o=r.dxydi(null,k,w,E,b),P=r.dadi(k,E);return[o[0]/P,o[1]/P]},r.dxydb=function(k,w,E,b){var o=r.dxydj(null,k,w,E,b),P=r.dbdj(w,b);return[o[0]/P,o[1]/P]},r.dxyda_rough=function(k,w,E){var b=l*(E||.1),o=r.ab2xy(k+b,w,!0),P=r.ab2xy(k-b,w,!0);return[(o[0]-P[0])*.5/b,(o[1]-P[1])*.5/b]},r.dxydb_rough=function(k,w,E){var b=g*(E||.1),o=r.ab2xy(k,w+b,!0),P=r.ab2xy(k,w-b,!0);return[(o[0]-P[0])*.5/b,(o[1]-P[1])*.5/b]},r.dpdx=function(k){return k._m},r.dpdy=function(k){return k._m}}},72505:function(V,B,e){var p=e(71828);V.exports=function(n,C,T){var d,y,r,t=[],i=[],a=n[0].length,h=n.length;function u(q,ne){var oe=0,he,J=0;return q>0&&(he=n[ne][q-1])!==void 0&&(J++,oe+=he),q<a-1&&(he=n[ne][q+1])!==void 0&&(J++,oe+=he),ne>0&&(he=n[ne-1][q])!==void 0&&(J++,oe+=he),ne<h-1&&(he=n[ne+1][q])!==void 0&&(J++,oe+=he),oe/Math.max(1,J)}var s=0;for(d=0;d<a;d++)for(y=0;y<h;y++)n[y][d]===void 0&&(t.push(d),i.push(y),n[y][d]=u(d,y)),s=Math.max(s,Math.abs(n[y][d]));if(!t.length)return n;var m,f,S,v,l,g,M,A,k,w,E,b=1e-5,o=0,P=100,x=0,z=t.length;do{for(o=0,r=0;r<z;r++){d=t[r],y=i[r];var _=0,G=0,F,N,U,O,H,Y;d===0?(H=Math.min(a-1,2),U=C[H],O=C[1],F=n[y][H],N=n[y][1],G+=N+(N-F)*(C[0]-O)/(O-U),_++):d===a-1&&(H=Math.max(0,a-3),U=C[H],O=C[a-2],F=n[y][H],N=n[y][a-2],G+=N+(N-F)*(C[a-1]-O)/(O-U),_++),(d===0||d===a-1)&&y>0&&y<h-1&&(m=T[y+1]-T[y],f=T[y]-T[y-1],G+=(f*n[y+1][d]+m*n[y-1][d])/(f+m),_++),y===0?(Y=Math.min(h-1,2),U=T[Y],O=T[1],F=n[Y][d],N=n[1][d],G+=N+(N-F)*(T[0]-O)/(O-U),_++):y===h-1&&(Y=Math.max(0,h-3),U=T[Y],O=T[h-2],F=n[Y][d],N=n[h-2][d],G+=N+(N-F)*(T[h-1]-O)/(O-U),_++),(y===0||y===h-1)&&d>0&&d<a-1&&(m=C[d+1]-C[d],f=C[d]-C[d-1],G+=(f*n[y][d+1]+m*n[y][d-1])/(f+m),_++),_?G/=_:(S=C[d+1]-C[d],v=C[d]-C[d-1],l=T[y+1]-T[y],g=T[y]-T[y-1],M=S*v*(S+v),A=l*g*(l+g),G=(M*(g*n[y+1][d]+l*n[y-1][d])+A*(v*n[y][d+1]+S*n[y][d-1]))/(A*(v+S)+M*(g+l))),k=G-n[y][d],w=k/s,o+=w*w,E=_?0:.85,n[y][d]+=k*(1+E)}o=Math.sqrt(o)}while(x++<P&&o>b);return p.log("Smoother converged to",o,"after",x,"iterations"),n}},19237:function(V,B,e){var p=e(71828).isArray1D;V.exports=function(n,C,T){var d=T("x"),y=d&&d.length,r=T("y"),t=r&&r.length;if(!y&&!t)return!1;if(C._cheater=!d,(!y||p(d))&&(!t||p(r))){var i=y?d.length:1/0;t&&(i=Math.min(i,r.length)),C.a&&C.a.length&&(i=Math.min(i,C.a.length)),C.b&&C.b.length&&(i=Math.min(i,C.b.length)),C._length=i}else C._length=null;return!0}},69568:function(V,B,e){var p=e(5386).fF,L=e(19316),n=e(50693),C=e(9012),T=e(22399).defaultLine,d=e(1426).extendFlat,y=L.marker.line;V.exports=d({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:d({},L.geojson,{}),featureidkey:L.featureidkey,text:d({},L.text,{}),hovertext:d({},L.hovertext,{}),marker:{line:{color:d({},y.color,{dflt:T}),width:d({},y.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:d({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:d({},C.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(78803),C=e(75225),T=e(66279);function d(y){return y&&typeof y=="string"}V.exports=function(r,t){var i=t._length,a=new Array(i),h;t.geojson?h=function(S){return d(S)||p(S)}:h=d;for(var u=0;u<i;u++){var s=a[u]={},m=t.locations[u],f=t.z[u];h(m)&&p(f)?(s.loc=m,s.z=f):(s.loc=null,s.z=L),s.index=u}return C(a,t),n(r,t,{vals:t.z,containerStr:"",cLetter:"z"}),T(a,t),a}},61869:function(V,B,e){var p=e(71828),L=e(1586),n=e(69568);V.exports=function(T,d,y,r){function t(f,S){return p.coerce(T,d,n,f,S)}var i=t("locations"),a=t("z");if(!(i&&i.length&&p.isArrayOrTypedArray(a)&&a.length)){d.visible=!1;return}d._length=Math.min(i.length,a.length);var h=t("geojson"),u;(typeof h=="string"&&h!==""||p.isPlainObject(h))&&(u="geojson-id");var s=t("locationmode",u);s==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate");var m=t("marker.line.width");m&&t("marker.line.color"),t("marker.opacity"),L(T,d,r,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(d,t)}},92069:function(V){V.exports=function(e,p,L,n,C){e.location=p.location,e.z=p.z;var T=n[C];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e.ct=T.ct,e}},42300:function(V,B,e){var p=e(89298),L=e(69568),n=e(71828).fillText;V.exports=function(d,y,r){var t=d.cd,i=t[0].trace,a=d.subplot,h,u,s,m,f=[y,r],S=[y+360,r];for(u=0;u<t.length;u++)if(h=t[u],m=!1,h._polygons){for(s=0;s<h._polygons.length;s++)h._polygons[s].contains(f)&&(m=!m),h._polygons[s].contains(S)&&(m=!m);if(m)break}if(!(!m||!h))return d.x0=d.x1=d.xa.c2p(h.ct),d.y0=d.y1=d.ya.c2p(h.ct),d.index=h.index,d.location=h.loc,d.z=h.z,d.zLabel=p.tickText(a.mockAxis,a.mockAxis.c2l(h.z),"hover").text,d.hovertemplate=h.hovertemplate,C(d,i,h),[d]};function C(T,d,y){if(!d.hovertemplate){var r=y.hi||d.hoverinfo,t=String(y.loc),i=r==="all"?L.hoverinfo.flags:r.split("+"),a=i.indexOf("name")!==-1,h=i.indexOf("location")!==-1,u=i.indexOf("z")!==-1,s=i.indexOf("text")!==-1,m=!a&&h,f=[];m?T.nameOverride=t:(a&&(T.nameOverride=d.name),h&&f.push(t)),u&&f.push(T.zLabel),s&&n(y,d,f),T.extraText=f.join("<br>")}}},51319:function(V,B,e){V.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(V,B,e){var p=e(39898),L=e(71828),n=e(41327),C=e(90973).getTopojsonFeatures,T=e(71739).findExtremes,d=e(99636).style;function y(t,i,a){var h=i.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(h,a,"trace choropleth").each(function(u){var s=p.select(this),m=s.selectAll("path.choroplethlocation").data(L.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),d(t,u)})}function r(t,i){for(var a=t[0].trace,h=i[a.geo],u=h._subplot,s=a.locationmode,m=a._length,f=s==="geojson-id"?n.extractTraceFeature(t):C(a,u.topojson),S=[],v=[],l=0;l<m;l++){var g=t[l],M=s==="geojson-id"?g.fOut:n.locationToFeature(s,g.loc,f);if(M){g.geojson=M,g.ct=M.properties.ct,g._polygons=n.feature2polygons(M);var A=n.computeBbox(M);S.push(A[0],A[2]),v.push(A[1],A[3])}else g.geojson=null}if(h.fitbounds==="geojson"&&s==="geojson-id"){var k=n.computeBbox(n.getTraceGeojson(a));S=[k[0],k[2]],v=[k[1],k[3]]}var w={padded:!0};a._extremes.lon=T(h.lonaxis._ax,S,w),a._extremes.lat=T(h.lataxis._ax,v,w)}V.exports={calcGeoJSON:r,plot:y}},81253:function(V){V.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,T=[],d,y,r,t,i;if(p===!1)for(d=0;d<L.length;d++)L[d].selected=0;else for(d=0;d<L.length;d++)y=L[d],r=y.ct,r&&(t=n.c2p(r),i=C.c2p(r),p.contains([t,i],null,d,e)?(T.push({pointNumber:d,lon:r[0],lat:r[1]}),y.selected=1):y.selected=0);return T}},99636:function(V,B,e){var p=e(39898),L=e(7901),n=e(91424),C=e(21081);function T(r,t){t&&d(r,t)}function d(r,t){var i=t[0].trace,a=t[0].node3,h=a.selectAll(".choroplethlocation"),u=i.marker||{},s=u.line||{},m=C.makeColorScaleFuncFromTrace(i);h.each(function(f){p.select(this).attr("fill",m(f.z)).call(L.stroke,f.mlc||s.color).call(n.dashLine,"",f.mlw||s.width||0).style("opacity",u.opacity)}),n.selectedPointStyle(h,i)}function y(r,t){var i=t[0].node3,a=t[0].trace;a.selectedpoints?n.selectedPointStyle(i.selectAll(".choroplethlocation"),a):d(r,t)}V.exports={style:T,styleOnSelect:y}},64496:function(V,B,e){var p=e(69568),L=e(50693),n=e(5386).fF,C=e(9012),T=e(1426).extendFlat;V.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:T({},p.marker.line.color,{editType:"plot"}),width:T({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:T({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(V,B,e){var p=e(92770),L=e(71828),n=e(21081),C=e(91424),T=e(18214).makeBlank,d=e(41327);function y(t){var i=t[0].trace,a=i.visible===!0&&i._length!==0,h={layout:{visibility:"none"},paint:{}},u={layout:{visibility:"none"},paint:{}},s=i._opts={fill:h,line:u,geojson:T()};if(!a)return s;var m=d.extractTraceFeature(t);if(!m)return s;var f=n.makeColorScaleFuncFromTrace(i),S=i.marker,v=S.line||{},l;L.isArrayOrTypedArray(S.opacity)&&(l=function(o){var P=o.mo;return p(P)?+L.constrain(P,0,1):0});var g;L.isArrayOrTypedArray(v.color)&&(g=function(o){return o.mlc});var M;L.isArrayOrTypedArray(v.width)&&(M=function(o){return o.mlw});for(var A=0;A<t.length;A++){var k=t[A],w=k.fOut;if(w){var E=w.properties;E.fc=f(k.z),l&&(E.mo=l(k)),g&&(E.mlc=g(k)),M&&(E.mlw=M(k)),k.ct=E.ct,k._polygons=d.feature2polygons(w)}}var b=l?{type:"identity",property:"mo"}:S.opacity;return L.extendFlat(h.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":b}),L.extendFlat(u.paint,{"line-color":g?{type:"identity",property:"mlc"}:v.color,"line-width":M?{type:"identity",property:"mlw"}:v.width,"line-opacity":b}),h.layout.visibility="visible",u.layout.visibility="visible",s.geojson={type:"FeatureCollection",features:m},r(t),s}function r(t){var i=t[0].trace,a=i._opts,h;if(i.selectedpoints){for(var u=C.makeSelectedPointStyleFns(i),s=0;s<t.length;s++){var m=t[s];m.fOut&&(m.fOut.properties.mo2=u.selectedOpacityFn(m))}h={type:"identity",property:"mo2"}}else h=L.isArrayOrTypedArray(i.marker.opacity)?{type:"identity",property:"mo"}:i.marker.opacity;return L.extendFlat(a.fill.paint,{"fill-opacity":h}),L.extendFlat(a.line.paint,{"line-opacity":h}),a}V.exports={convert:y,convertOnSelect:r}},22654:function(V,B,e){var p=e(71828),L=e(1586),n=e(64496);V.exports=function(T,d,y,r){function t(s,m){return p.coerce(T,d,n,s,m)}var i=t("locations"),a=t("z"),h=t("geojson");if(!p.isArrayOrTypedArray(i)||!i.length||!p.isArrayOrTypedArray(a)||!a.length||!(typeof h=="string"&&h!==""||p.isPlainObject(h))){d.visible=!1;return}t("featureidkey"),d._length=Math.min(i.length,a.length),t("below"),t("text"),t("hovertext"),t("hovertemplate");var u=t("marker.line.width");u&&t("marker.line.color"),t("marker.opacity"),L(T,d,r,t,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(d,t)}},57516:function(V,B,e){V.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var n=L.getMapLayers(),C=n.length-2;C>=0;C--){var T=n[C].id;if(typeof T=="string"&&T.indexOf("water")===0){for(var d=C+1;d<n.length;d++)if(T=n[d].id,typeof T=="string"&&T.indexOf("plotly-")===-1)return T}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(V,B,e){var p=e(82004).convert,L=e(82004).convertOnSelect,n=e(77734).traceLayerPrefix;function C(d,y){this.type="choroplethmapbox",this.subplot=d,this.uid=y,this.sourceId="source-"+y,this.layerList=[["fill",n+y+"-fill"],["line",n+y+"-line"]],this.below=null}var T=C.prototype;T.update=function(d){this._update(p(d)),d[0].trace._glTrace=this},T.updateOnSelect=function(d){this._update(L(d))},T._update=function(d){var y=this.subplot,r=this.layerList,t=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(d.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(d,t),this.below=t);for(var i=0;i<r.length;i++){var a=r[i],h=a[0],u=a[1],s=d[h];y.setOptions(u,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&y.setOptions(u,"setPaintProperty",s.paint)}},T._addLayers=function(d,y){for(var r=this.subplot,t=this.layerList,i=this.sourceId,a=0;a<t.length;a++){var h=t[a],u=h[0],s=d[u];r.addLayer({type:u,id:h[1],source:i,layout:s.layout,paint:s.paint},y)}},T._removeLayers=function(){for(var d=this.subplot.map,y=this.layerList,r=y.length-1;r>=0;r--)d.removeLayer(y[r][1])},T.dispose=function(){var d=this.subplot.map;this._removeLayers(),d.removeSource(this.sourceId)},V.exports=function(y,r){var t=r[0].trace,i=new C(y,t.uid),a=i.sourceId,h=p(r),u=i.below=y.belowLookup["trace-"+t.uid];return y.map.addSource(a,{type:"geojson",data:h.geojson}),i._addLayers(h,u),r[0].trace._glTrace=i,i}},12674:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(2418),T=e(9012),d=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:d({},T.showlegend,{dflt:!1})};d(y,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){y[t]=C[t]}),y.hoverinfo=d({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,V.exports=y},31371:function(V,B,e){var p=e(78803);V.exports=function(n,C){for(var T=C.u,d=C.v,y=C.w,r=Math.min(C.x.length,C.y.length,C.z.length,T.length,d.length,y.length),t=-1/0,i=1/0,a=0;a<r;a++){var h=T[a],u=d[a],s=y[a],m=Math.sqrt(h*h+u*u+s*s);t=Math.max(t,m),i=Math.min(i,m)}C._len=r,C._normMax=t,p(n,C,{vals:[i,t],containerStr:"",cLetter:"c"})}},5453:function(V,B,e){var p=e(9330).gl_cone3d,L=e(9330).gl_cone3d.createConeMesh,n=e(71828).simpleMap,C=e(81697).parseColorScale,T=e(21081).extractOpts,d=e(71828).isArrayOrTypedArray,y=e(90060);function r(m,f){this.scene=m,this.uid=f,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(m){if(m.object===this.mesh){var f=m.index=m.data.index,S=this.data.x[f],v=this.data.y[f],l=this.data.z[f],g=this.data.u[f],M=this.data.v[f],A=this.data.w[f];m.traceCoordinate=[S,v,l,g,M,A,Math.sqrt(g*g+M*M+A*A)];var k=this.data.hovertext||this.data.text;return d(k)&&k[f]!==void 0?m.textLabel=k[f]:k&&(m.textLabel=k),!0}};var i={xaxis:0,yaxis:1,zaxis:2},a={tip:1,tail:0,cm:.25,center:.5},h={tip:1,tail:1,cm:.75,center:.5};function u(m,f){var S=m.fullSceneLayout,v=m.dataScale,l={};function g(w,E){var b=S[E],o=v[i[E]];return n(w,function(P){return b.d2l(P)*o})}l.vectors=y(g(f.u,"xaxis"),g(f.v,"yaxis"),g(f.w,"zaxis"),f._len),l.positions=y(g(f.x,"xaxis"),g(f.y,"yaxis"),g(f.z,"zaxis"),f._len);var M=T(f);l.colormap=C(f),l.vertexIntensityBounds=[M.min/f._normMax,M.max/f._normMax],l.coneOffset=a[f.anchor],f.sizemode==="scaled"?l.coneSize=f.sizeref||.5:l.coneSize=f.sizeref&&f._normMax?f.sizeref/f._normMax:.5;var A=p(l),k=f.lightposition;return A.lightPosition=[k.x,k.y,k.z],A.ambient=f.lighting.ambient,A.diffuse=f.lighting.diffuse,A.specular=f.lighting.specular,A.roughness=f.lighting.roughness,A.fresnel=f.lighting.fresnel,A.opacity=f.opacity,f._pad=h[f.anchor]*A.vectorScale*A.coneScale*f._normMax,A}t.update=function(m){this.data=m;var f=u(this.scene,m);this.mesh.update(f)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(m,f){var S=m.glplot.gl,v=u(m,f),l=L(S,v),g=new r(m,f.uid);return g.mesh=l,g.data=f,l._trace=g,m.glplot.add(l),g}V.exports=s},91750:function(V,B,e){var p=e(71828),L=e(1586),n=e(12674);V.exports=function(T,d,y,r){function t(f,S){return p.coerce(T,d,n,f,S)}var i=t("u"),a=t("v"),h=t("w"),u=t("x"),s=t("y"),m=t("z");if(!i||!i.length||!a||!a.length||!h||!h.length||!u||!u.length||!s||!s.length||!m||!m.length){d.visible=!1;return}t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(T,d,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),d._length=null}},98128:function(V,B,e){V.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},70600:function(V,B,e){var p=e(21606),L=e(82196),n=e(12663),C=n.axisHoverFormat,T=n.descriptionOnlyNumbers,d=e(50693),y=e(79952).P,r=e(41940),t=e(1426).extendFlat,i=e(74808),a=i.COMPARISON_OPS2,h=i.INTERVAL_OPS,u=L.line;V.exports=t({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:t({},p.texttemplate,{}),textfont:t({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:t({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:r({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:t({},u.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:y,smoothing:t({},u.smoothing,{}),editType:"plot"}},d("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(V,B,e){var p=e(21081),L=e(90757),n=e(18670),C=e(53572);V.exports=function(d,y){var r=L(d,y),t=r[0].z;n(y,t);var i=y.contours,a=p.extractOpts(y),h;if(i.coloring==="heatmap"&&a.auto&&y.autocontour===!1){var u=i.start,s=C(i),m=i.size||1,f=Math.floor((s-u)/m)+1;isFinite(m)||(m=1,f=1);var S=u-m/2,v=S+f*m;h=[S,v]}else h=t;return p.calc(d,y,{vals:h,cLetter:"z"}),r}},20083:function(V){V.exports=function(B,e){var p=B[0],L=p.z,n;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(n=0;n<B.length;n++){var T=B[n];T.prefixBoundary=!T.edgepaths.length&&(C>T.level||T.starts.length&&C===T.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var d=p.x.length,y=p.y.length,r=-1/0,t=1/0;for(n=0;n<y;n++)t=Math.min(t,L[n][0]),t=Math.min(t,L[n][d-1]),r=Math.max(r,L[n][0]),r=Math.max(r,L[n][d-1]);for(n=1;n<d-1;n++)t=Math.min(t,L[0][n]),t=Math.min(t,L[y-1][n]),r=Math.max(r,L[0][n]),r=Math.max(r,L[y-1][n]);var i=e.value,a,h;switch(e._operation){case">":i>r&&(p.prefixBoundary=!0);break;case"<":(i<t||p.starts.length&&i===t)&&(p.prefixBoundary=!0);break;case"[]":a=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),(h<t||a>r||p.starts.length&&h===t)&&(p.prefixBoundary=!0);break;case"][":a=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),a<t&&h>r&&(p.prefixBoundary=!0);break}break}}},90654:function(V,B,e){var p=e(21081),L=e(86068),n=e(53572);function C(T,d,y){var r=d.contours,t=d.line,i=r.size||1,a=r.coloring,h=L(d,{isColorbar:!0});if(a==="heatmap"){var u=p.extractOpts(d);y._fillgradient=u.reversescale?p.flipScale(u.colorscale):u.colorscale,y._zrange=[u.min,u.max]}else a==="fill"&&(y._fillcolor=h);y._line={color:a==="lines"?h:t.color,width:r.showlines!==!1?t.width:0,dash:t.dash},y._levels={start:r.start,end:n(r),size:i}}V.exports={min:"zmin",max:"zmax",calc:C}},36914:function(V){V.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(V,B,e){var p=e(92770),L=e(14523),n=e(7901),C=n.addOpacity,T=n.opacity,d=e(74808),y=e(71828).isArrayOrTypedArray,r=d.CONSTRAINT_REDUCTION,t=d.COMPARISON_OPS2;V.exports=function(h,u,s,m,f,S){var v=u.contours,l,g,M,A=s("contours.operation");if(v._operation=r[A],i(s,v),A==="="?l=v.showlines=!0:(l=s("contours.showlines"),M=s("fillcolor",C((h.line||{}).color||f,.5))),l){var k=M&&T(M)?C(u.fillcolor,1):f;g=s("line.color",k),s("line.width",2),s("line.dash")}s("line.smoothing"),L(s,m,g,S)};function i(a,h){var u;t.indexOf(h.operation)===-1?(a("contours.value",[0,1]),y(h.value)?h.value.length>2?h.value=h.value.slice(2):h.length===0?h.value=[0,1]:h.length<2?(u=parseFloat(h.value[0]),h.value=[u,u+1]):h.value=[parseFloat(h.value[0]),parseFloat(h.value[1])]:p(h.value)&&(u=parseFloat(h.value),h.value=[u,u+1])):(a("contours.value",0),p(h.value)||(y(h.value)?h.value=parseFloat(h.value[0]):h.value=0))}},64237:function(V,B,e){var p=e(74808),L=e(92770);V.exports={"[]":C("[]"),"][":C("]["),">":T(">"),"<":T("<"),"=":T("=")};function n(d,y){var r=Array.isArray(y),t;function i(a){return L(a)?+a:null}return p.COMPARISON_OPS2.indexOf(d)!==-1?t=i(r?y[0]:y):p.INTERVAL_OPS.indexOf(d)!==-1?t=r?[i(y[0]),i(y[1])]:[i(y),i(y)]:p.SET_OPS.indexOf(d)!==-1&&(t=r?y.map(i):[i(y)]),t}function C(d){return function(y){y=n(d,y);var r=Math.min(y[0],y[1]),t=Math.max(y[0],y[1]);return{start:r,end:t,size:t-r}}}function T(d){return function(y){return y=n(d,y),{start:y,end:1/0,size:1/0}}}},67217:function(V){V.exports=function(e,p,L,n){var C=n("contours.start"),T=n("contours.end"),d=C===!1||T===!1,y=L("contours.size"),r;d?r=p.autocontour=!0:r=L("autocontour",!1),(r||!y)&&L("ncontours")}},84857:function(V,B,e){var p=e(71828);V.exports=function(n,C){var T,d,y,r=function(a){return a.reverse()},t=function(a){return a};switch(C){case"=":case"<":return n;case">":for(n.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),d=n[0],T=0;T<d.edgepaths.length;T++)d.edgepaths[T]=r(d.edgepaths[T]);for(T=0;T<d.paths.length;T++)d.paths[T]=r(d.paths[T]);for(T=0;T<d.starts.length;T++)d.starts[T]=r(d.starts[T]);return n;case"][":var i=r;r=t,t=i;case"[]":for(n.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),d=L(n[0]),y=L(n[1]),T=0;T<d.edgepaths.length;T++)d.edgepaths[T]=r(d.edgepaths[T]);for(T=0;T<d.paths.length;T++)d.paths[T]=r(d.paths[T]);for(T=0;T<d.starts.length;T++)d.starts[T]=r(d.starts[T]);for(;y.edgepaths.length;)d.edgepaths.push(t(y.edgepaths.shift()));for(;y.paths.length;)d.paths.push(t(y.paths.shift()));for(;y.starts.length;)d.starts.push(t(y.starts.shift()));return[d]}};function L(n){return p.extendFlat({},n,{edgepaths:p.extendDeep([],n.edgepaths),paths:p.extendDeep([],n.paths),starts:p.extendDeep([],n.starts)})}},13031:function(V,B,e){var p=e(71828),L=e(67684),n=e(73927),C=e(83179),T=e(67217),d=e(8724),y=e(58623),r=e(70600);V.exports=function(i,a,h,u){function s(v,l){return p.coerce(i,a,r,v,l)}function m(v){return p.coerce2(i,a,r,v)}var f=L(i,a,s,u);if(!f){a.visible=!1;return}n(i,a,u,s),s("xhoverformat"),s("yhoverformat"),s("text"),s("hovertext"),s("hoverongaps"),s("hovertemplate");var S=s("contours.type")==="constraint";s("connectgaps",p.isArray1D(a.z)),S?C(i,a,s,u,h):(T(i,a,s,m),d(i,a,s,u)),a.contours&&a.contours.coloring==="heatmap"&&y(s,u)}},87558:function(V,B,e){var p=e(71828),L=e(64237),n=e(53572);V.exports=function(T,d,y){for(var r=T.type==="constraint"?L[T._operation](T.value):T,t=r.size,i=[],a=n(r),h=y.trace._carpetTrace,u=h?{xaxis:h.aaxis,yaxis:h.baxis,x:y.a,y:y.b}:{xaxis:d.xaxis,yaxis:d.yaxis,x:y.x,y:y.y},s=r.start;s<a;s+=t)if(i.push(p.extendFlat({level:s,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},u)),i.length>1e3){p.warn("Too many contours, clipping at 1000",T);break}return i}},53572:function(V){V.exports=function(e){return e.end+e.size/1e6}},81696:function(V,B,e){var p=e(71828),L=e(36914);V.exports=function(t,i,a){var h,u,s,m,f;for(i=i||.01,a=a||.01,s=0;s<t.length;s++){for(m=t[s],f=0;f<m.starts.length;f++)u=m.starts[f],T(m,u,"edge",i,a);for(h=0;Object.keys(m.crossings).length&&h<1e4;)h++,u=Object.keys(m.crossings)[0].split(",").map(Number),T(m,u,void 0,i,a);h===1e4&&p.log("Infinite loop in contour?")}};function n(r,t,i,a){return Math.abs(r[0]-t[0])<i&&Math.abs(r[1]-t[1])<a}function C(r,t){var i=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(i*i+a*a)}function T(r,t,i,a,h){var u=t.join(","),s=r.crossings[u],m=d(s,i,t),f=[y(r,t,[-m[0],-m[1]])],S=r.z.length,v=r.z[0].length,l=t.slice(),g=m.slice(),M;for(M=0;M<1e4;M++){if(s>20?(s=L.CHOOSESADDLE[s][(m[0]||m[1])<0?0:1],r.crossings[u]=L.SADDLEREMAINDER[s]):delete r.crossings[u],m=L.NEWDELTA[s],!m){p.log("Found bad marching index:",s,t,r.level);break}f.push(y(r,t,m)),t[0]+=m[0],t[1]+=m[1],u=t.join(","),n(f[f.length-1],f[f.length-2],a,h)&&f.pop();var A=m[0]&&(t[0]<0||t[0]>v-2)||m[1]&&(t[1]<0||t[1]>S-2),k=t[0]===l[0]&&t[1]===l[1]&&m[0]===g[0]&&m[1]===g[1];if(k||i&&A)break;s=r.crossings[u]}M===1e4&&p.log("Infinite loop in contour?");var w=n(f[0],f[f.length-1],a,h),E=0,b=.2*r.smoothing,o=[],P=0,x,z,_,G,F,N,U,O,H,Y,q;for(M=1;M<f.length;M++)U=C(f[M],f[M-1]),E+=U,o.push(U);var ne=E/o.length*b;function oe(Z){return f[Z%f.length]}for(M=f.length-2;M>=P;M--)if(x=o[M],x<ne){for(_=0,z=M-1;z>=P&&x+o[z]<ne;z--)x+=o[z];if(w&&M===f.length-2)for(_=0;_<z&&x+o[_]<ne;_++)x+=o[_];F=M-z+_+1,N=Math.floor((M+z+_+2)/2),!w&&M===f.length-2?G=f[f.length-1]:!w&&z===-1?G=f[0]:F%2?G=oe(N):G=[(oe(N)[0]+oe(N+1)[0])/2,(oe(N)[1]+oe(N+1)[1])/2],f.splice(z+1,M-z+1,G),M=z+1,_&&(P=_),w&&(M===f.length-2?f[_]=f[f.length-1]:M===0&&(f[f.length-1]=f[0]))}for(f.splice(0,P),M=0;M<f.length;M++)f[M].length=2;if(!(f.length<2))if(w)f.pop(),r.paths.push(f);else{i||p.log("Unclosed interior contour?",r.level,l.join(","),f.join("L"));var he=!1;for(O=0;O<r.edgepaths.length;O++)if(Y=r.edgepaths[O],!he&&n(Y[0],f[f.length-1],a,h)){f.pop(),he=!0;var J=!1;for(H=0;H<r.edgepaths.length;H++)if(q=r.edgepaths[H],n(q[q.length-1],f[0],a,h)){J=!0,f.shift(),r.edgepaths.splice(O,1),H===O?r.paths.push(f.concat(q)):(H>O&&H--,r.edgepaths[H]=q.concat(f,Y));break}J||(r.edgepaths[O]=f.concat(Y))}for(O=0;O<r.edgepaths.length&&!he;O++)Y=r.edgepaths[O],n(Y[Y.length-1],f[0],a,h)&&(f.shift(),r.edgepaths[O]=Y.concat(f),he=!0);he||r.edgepaths.push(f)}}function d(r,t,i){var a=0,h=0;return r>20&&t?r===208||r===1114?a=i[0]===0?1:-1:h=i[1]===0?1:-1:L.BOTTOMSTART.indexOf(r)!==-1?h=1:L.LEFTSTART.indexOf(r)!==-1?a=1:L.TOPSTART.indexOf(r)!==-1?h=-1:a=-1,[a,h]}function y(r,t,i){var a=t[0]+Math.max(i[0],0),h=t[1]+Math.max(i[1],0),u=r.z[h][a],s=r.xaxis,m=r.yaxis;if(i[1]){var f=(r.level-u)/(r.z[h][a+1]-u),S=(f!==1?(1-f)*s.c2l(r.x[a]):0)+(f!==0?f*s.c2l(r.x[a+1]):0);return[s.c2p(s.l2c(S),!0),m.c2p(r.y[h],!0),a+f,h]}else{var v=(r.level-u)/(r.z[h+1][a]-u),l=(v!==1?(1-v)*m.c2l(r.y[h]):0)+(v!==0?v*m.c2l(r.y[h+1]):0);return[s.c2p(r.x[a],!0),m.c2p(m.l2c(l),!0),a,h+v]}}},52421:function(V,B,e){var p=e(7901),L=e(46248);V.exports=function(C,T,d,y,r){r||(r={}),r.isContour=!0;var t=L(C,T,d,y,r);return t&&t.forEach(function(i){var a=i.trace;a.contours.type==="constraint"&&(a.fillcolor&&p.opacity(a.fillcolor)?i.color=p.addOpacity(a.fillcolor,1):a.contours.showlines&&p.opacity(a.line.color)&&(i.color=p.addOpacity(a.line.color,1)))}),t}},99442:function(V,B,e){V.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(V,B,e){var p=e(71828);V.exports=function(n,C,T,d){d||(d={});var y=n("contours.showlabels");if(y){var r=C.font;p.coerceFont(n,"contours.labelfont",{family:r.family,size:r.size,color:T}),n("contours.labelformat")}d.hasHover!==!1&&n("zhoverformat")}},86068:function(V,B,e){var p=e(39898),L=e(21081),n=e(53572);V.exports=function(T){var d=T.contours,y=d.start,r=n(d),t=d.size||1,i=Math.floor((r-y)/t)+1,a=d.coloring==="lines"?0:1,h=L.extractOpts(T);isFinite(t)||(t=1,i=1);var u=h.reversescale?L.flipScale(h.colorscale):h.colorscale,s=u.length,m=new Array(s),f=new Array(s),S,v,l=h.min,g=h.max;if(d.coloring==="heatmap"){for(v=0;v<s;v++)S=u[v],m[v]=S[0]*(g-l)+l,f[v]=S[1];var M=p.extent([l,g,d.start,d.start+t*(i-1)]),A=M[l<g?0:1],k=M[l<g?1:0];A!==l&&(m.splice(0,0,A),f.splice(0,0,f[0])),k!==g&&(m.push(k),f.push(f[f.length-1]))}else{var w=T._input&&typeof T._input.zmin=="number"&&typeof T._input.zmax=="number";for(w&&(y<=l||r>=g)&&(y<=l&&(y=l),r>=g&&(r=g),i=Math.floor((r-y)/t)+1,a=0),v=0;v<s;v++)S=u[v],m[v]=(S[0]*(i+a-1)-a/2)*t+y,f[v]=S[1];(w||T.autocontour)&&(m[0]>l&&(m.unshift(l),f.unshift(f[0])),m[m.length-1]<g&&(m.push(g),f.push(f[f.length-1])))}return L.makeColorScaleFunc({domain:m,range:f},{noNumericCheck:!0})}},87678:function(V,B,e){var p=e(36914);V.exports=function(C){var T=C[0].z,d=T.length,y=T[0].length,r=d===2||y===2,t,i,a,h,u,s,m,f,S;for(i=0;i<d-1;i++)for(h=[],i===0&&(h=h.concat(p.BOTTOMSTART)),i===d-2&&(h=h.concat(p.TOPSTART)),t=0;t<y-1;t++)for(a=h.slice(),t===0&&(a=a.concat(p.LEFTSTART)),t===y-2&&(a=a.concat(p.RIGHTSTART)),u=t+","+i,s=[[T[i][t],T[i][t+1]],[T[i+1][t],T[i+1][t+1]]],S=0;S<C.length;S++)f=C[S],m=L(f.level,s),m&&(f.crossings[u]=m,a.indexOf(m)!==-1&&(f.starts.push([t,i]),r&&a.indexOf(m,a.indexOf(m)+1)!==-1&&f.starts.push([t,i])))};function L(n,C){var T=(C[0][0]>n?0:1)+(C[0][1]>n?0:2)+(C[1][1]>n?0:4)+(C[1][0]>n?0:8);if(T===5||T===10){var d=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return n>d?T===5?713:1114:T===5?104:208}return T===15?0:T}},29854:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(21081),T=e(63893),d=e(89298),y=e(21994),r=e(50347),t=e(87678),i=e(81696),a=e(87558),h=e(84857),u=e(20083),s=e(36914),m=s.LABELOPTIMIZER;B.plot=function(w,E,b,o){var P=E.xaxis,x=E.yaxis;L.makeTraceGroups(o,b,"contour").each(function(z){var _=p.select(this),G=z[0],F=G.trace,N=G.x,U=G.y,O=F.contours,H=a(O,E,G),Y=L.ensureSingle(_,"g","heatmapcoloring"),q=[];O.coloring==="heatmap"&&(q=[z]),r(w,E,q,Y),t(H),i(H);var ne=P.c2p(N[0],!0),oe=P.c2p(N[N.length-1],!0),he=x.c2p(U[0],!0),J=x.c2p(U[U.length-1],!0),Z=[[ne,J],[oe,J],[oe,he],[ne,he]],se=H;O.type==="constraint"&&(se=h(H,O._operation)),f(_,Z,O),S(_,se,Z,O),l(_,H,w,G,O),M(_,E,w,G,Z)})};function f(k,w,E){var b=L.ensureSingle(k,"g","contourbg"),o=b.selectAll("path").data(E.coloring==="fill"?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+w.join("L")+"Z").style("stroke","none")}function S(k,w,E,b){var o=b.coloring==="fill"||b.type==="constraint"&&b._operation!=="=",P="M"+E.join("L")+"Z";o&&u(w,b);var x=L.ensureSingle(k,"g","contourfill"),z=x.selectAll("path").data(o?w:[]);z.enter().append("path"),z.exit().remove(),z.each(function(_){var G=(_.prefixBoundary?P:"")+v(_,E);G?p.select(this).attr("d",G).style("stroke","none"):p.select(this).remove()})}function v(k,w){var E="",b=0,o=k.edgepaths.map(function(ne,oe){return oe}),P=!0,x,z,_,G,F,N;function U(ne){return Math.abs(ne[1]-w[0][1])<.01}function O(ne){return Math.abs(ne[1]-w[2][1])<.01}function H(ne){return Math.abs(ne[0]-w[0][0])<.01}function Y(ne){return Math.abs(ne[0]-w[2][0])<.01}for(;o.length;){for(N=n.smoothopen(k.edgepaths[b],k.smoothing),E+=P?N:N.replace(/^M/,"L"),o.splice(o.indexOf(b),1),x=k.edgepaths[b][k.edgepaths[b].length-1],G=-1,_=0;_<4;_++){if(!x){L.log("Missing end?",b,k);break}for(U(x)&&!Y(x)?z=w[1]:H(x)?z=w[0]:O(x)?z=w[3]:Y(x)&&(z=w[2]),F=0;F<k.edgepaths.length;F++){var q=k.edgepaths[F][0];Math.abs(x[0]-z[0])<.01?Math.abs(x[0]-q[0])<.01&&(q[1]-x[1])*(z[1]-q[1])>=0&&(z=q,G=F):Math.abs(x[1]-z[1])<.01?Math.abs(x[1]-q[1])<.01&&(q[0]-x[0])*(z[0]-q[0])>=0&&(z=q,G=F):L.log("endpt to newendpt is not vert. or horz.",x,z,q)}if(x=z,G>=0)break;E+="L"+z}if(G===k.edgepaths.length){L.log("unclosed perimeter path");break}b=G,P=o.indexOf(b)===-1,P&&(b=o[0],E+="Z")}for(b=0;b<k.paths.length;b++)E+=n.smoothclosed(k.paths[b],k.smoothing);return E}function l(k,w,E,b,o){var P=E._context.staticPlot,x=L.ensureSingle(k,"g","contourlines"),z=o.showlines!==!1,_=o.showlabels,G=z&&_,F=B.createLines(x,z||_,w,P),N=B.createLineClip(x,G,E,b.trace.uid),U=k.selectAll("g.contourlabels").data(_?[0]:[]);if(U.exit().remove(),U.enter().append("g").classed("contourlabels",!0),_){var O=[],H=[];L.clearLocationCache();var Y=B.labelFormatter(E,b),q=n.tester.append("text").attr("data-notex",1).call(n.font,o.labelfont),ne=w[0].xaxis,oe=w[0].yaxis,he=ne._length,J=oe._length,Z=ne.range,se=oe.range,$=L.aggNums(Math.min,null,b.x),ee=L.aggNums(Math.max,null,b.x),le=L.aggNums(Math.min,null,b.y),Q=L.aggNums(Math.max,null,b.y),K=Math.max(ne.c2p($,!0),0),ue=Math.min(ne.c2p(ee,!0),he),ie=Math.max(oe.c2p(Q,!0),0),ce=Math.min(oe.c2p(le,!0),J),xe={};Z[0]<Z[1]?(xe.left=K,xe.right=ue):(xe.left=ue,xe.right=K),se[0]<se[1]?(xe.top=ie,xe.bottom=ce):(xe.top=ce,xe.bottom=ie),xe.middle=(xe.top+xe.bottom)/2,xe.center=(xe.left+xe.right)/2,O.push([[xe.left,xe.top],[xe.right,xe.top],[xe.right,xe.bottom],[xe.left,xe.bottom]]);var Le=Math.sqrt(he*he+J*J),Ae=s.LABELDISTANCE*Le/Math.max(1,w.length/s.LABELINCREASE);F.each(function(Oe){var ze=B.calcTextOpts(Oe.level,Y,q,E);p.select(this).selectAll("path").each(function(){var Ee=this,be=L.getVisibleSegment(Ee,xe,ze.height/2);if(be&&!(be.len<(ze.width+ze.height)*s.LABELMIN))for(var Ce=Math.min(Math.ceil(be.len/Ae),s.LABELMAX),Ue=0;Ue<Ce;Ue++){var He=B.findBestTextLocation(Ee,be,ze,H,xe);if(!He)break;B.addLabelData(He,ze,H,O)}})}),q.remove(),B.drawLabels(U,H,E,N,G?O:null)}_&&!z&&F.remove()}B.createLines=function(k,w,E,b){var o=E[0].smoothing,P=k.selectAll("g.contourlevel").data(w?E:[]);if(P.exit().remove(),P.enter().append("g").classed("contourlevel",!0),w){var x=P.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});x.exit().remove(),x.enter().append("path").classed("openline",!0),x.attr("d",function(_){return n.smoothopen(_,o)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke");var z=P.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});z.exit().remove(),z.enter().append("path").classed("closedline",!0),z.attr("d",function(_){return n.smoothclosed(_,o)}).style("stroke-miterlimit",1).style("vector-effect",b?"none":"non-scaling-stroke")}return P},B.createLineClip=function(k,w,E,b){var o=E._fullLayout._clips,P=w?"clipline"+b:null,x=o.selectAll("#"+P).data(w?[0]:[]);return x.exit().remove(),x.enter().append("clipPath").classed("contourlineclip",!0).attr("id",P),n.setClipUrl(k,P,E),x},B.labelFormatter=function(k,w){var E=k._fullLayout,b=w.trace,o=b.contours,P={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(o.labelformat)P.tickformat=o.labelformat,y(P,E);else{var x=C.extractOpts(b);if(x&&x.colorbar&&x.colorbar._axis)P=x.colorbar._axis;else{if(o.type==="constraint"){var z=o.value;L.isArrayOrTypedArray(z)?P.range=[z[0],z[z.length-1]]:P.range=[z,z]}else P.range=[o.start,o.end],P.nticks=(o.end-o.start)/o.size;P.range[0]===P.range[1]&&(P.range[1]+=P.range[0]||1),P.nticks||(P.nticks=1e3),y(P,E),d.prepTicks(P),P._tmin=null,P._tmax=null}}return function(_){return d.tickText(P,_).text}},B.calcTextOpts=function(k,w,E,b){var o=w(k);E.text(o).call(T.convertToTspans,b);var P=E.node(),x=n.bBox(P,!0);return{text:o,width:x.width,height:x.height,fontSize:+P.style["font-size"].replace("px",""),level:k,dy:(x.top+x.bottom)/2}},B.findBestTextLocation=function(k,w,E,b,o){var P=E.width,x,z,_,G,F;w.isClosed?(z=w.len/m.INITIALSEARCHPOINTS,x=w.min+z/2,_=w.max):(z=(w.len-P)/(m.INITIALSEARCHPOINTS+1),x=w.min+z+P/2,_=w.max-(z+P)/2);for(var N=1/0,U=0;U<m.ITERATIONS;U++){for(var O=x;O<_;O+=z){var H=L.getTextLocation(k,w.total,O,P),Y=g(H,E,b,o);Y<N&&(N=Y,F=H,G=O)}if(N>m.MAXCOST*2)break;U&&(z/=2),x=G-z/2,_=x+z*1.5}if(N<=m.MAXCOST)return F};function g(k,w,E,b){var o=w.width/2,P=w.height/2,x=k.x,z=k.y,_=k.theta,G=Math.cos(_)*o,F=Math.sin(_)*o,N=(x>b.center?b.right-x:x-b.left)/(G+Math.abs(Math.sin(_)*P)),U=(z>b.middle?b.bottom-z:z-b.top)/(Math.abs(F)+Math.cos(_)*P);if(N<1||U<1)return 1/0;var O=m.EDGECOST*(1/(N-1)+1/(U-1));O+=m.ANGLECOST*_*_;for(var H=x-G,Y=z-F,q=x+G,ne=z+F,oe=0;oe<E.length;oe++){var he=E[oe],J=Math.cos(he.theta)*he.width/2,Z=Math.sin(he.theta)*he.width/2,se=L.segmentDistance(H,Y,q,ne,he.x-J,he.y-Z,he.x+J,he.y+Z)*2/(w.height+he.height),$=he.level===w.level,ee=$?m.SAMELEVELDISTANCE:1;if(se<=ee)return 1/0;var le=m.NEIGHBORCOST*($?m.SAMELEVELFACTOR:1);O+=le/(se-ee)}return O}B.addLabelData=function(k,w,E,b){var o=w.fontSize,P=w.width+o/3,x=Math.max(0,w.height-o/3),z=k.x,_=k.y,G=k.theta,F=Math.sin(G),N=Math.cos(G),U=function(H,Y){return[z+H*N-Y*F,_+H*F+Y*N]},O=[U(-P/2,-x/2),U(-P/2,x/2),U(P/2,x/2),U(P/2,-x/2)];E.push({text:w.text,x:z,y:_,dy:w.dy,theta:G,level:w.level,width:P,height:x}),b.push(O)},B.drawLabels=function(k,w,E,b,o){var P=k.selectAll("text").data(w,function(G){return G.text+","+G.x+","+G.y+","+G.theta});if(P.exit().remove(),P.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(G){var F=G.x+Math.sin(G.theta)*G.dy,N=G.y-Math.cos(G.theta)*G.dy;p.select(this).text(G.text).attr({x:F,y:N,transform:"rotate("+180*G.theta/Math.PI+" "+F+" "+N+")"}).call(T.convertToTspans,E)}),o){for(var x="",z=0;z<o.length;z++)x+="M"+o[z].join("L")+"Z";var _=L.ensureSingle(b,"path","");_.attr("d",x)}};function M(k,w,E,b,o){var P=b.trace,x=E._fullLayout._clips,z="clip"+P.uid,_=x.selectAll("#"+z).data(P.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",z),_.exit().remove(),P.connectgaps===!1){var G={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:w.xaxis,yaxis:w.yaxis,x:b.x,y:b.y,z:A(b),smoothing:0};t([G]),i([G]),u([G],{type:"levels"});var F=L.ensureSingle(_,"path","");F.attr("d",(G.prefixBoundary?"M"+o.join("L")+"Z":"")+v(G,o))}else z=null;n.setClipUrl(k,z,E)}function A(k){var w=k.trace._emptypoints,E=[],b=k.z.length,o=k.z[0].length,P,x=[],z;for(P=0;P<o;P++)x.push(1);for(P=0;P<b;P++)E.push(x.slice());for(P=0;P<w.length;P++)z=w[P],E[z[0]][z[1]]=0;return k.zmask=E,E}},18670:function(V,B,e){var p=e(89298),L=e(71828);V.exports=function(T,d){var y=T.contours;if(T.autocontour){var r=T.zmin,t=T.zmax;(T.zauto||r===void 0)&&(r=L.aggNums(Math.min,null,d)),(T.zauto||t===void 0)&&(t=L.aggNums(Math.max,null,d));var i=n(r,t,T.ncontours);y.size=i.dtick,y.start=p.tickFirst(i),i.range.reverse(),y.end=p.tickFirst(i),y.start===r&&(y.start+=y.size),y.end===t&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),T._input.contours||(T._input.contours={}),L.extendFlat(T._input.contours,{start:y.start,end:y.end,size:y.size}),T._input.autocontour=!0}else if(y.type!=="constraint"){var a=y.start,h=y.end,u=T._input.contours;if(a>h&&(y.start=u.start=h,h=y.end=u.end=a,a=y.start),!(y.size>0)){var s;a===h?s=1:s=n(a,h,T.ncontours).dtick,u.size=y.size=s}}};function n(C,T,d){var y={type:"linear",range:[C,T]};return p.autoTicks(y,(T-C)/(d||15)),y}},84426:function(V,B,e){var p=e(39898),L=e(91424),n=e(70035),C=e(86068);V.exports=function(d){var y=p.select(d).selectAll("g.contour");y.style("opacity",function(r){return r[0].trace.opacity}),y.each(function(r){var t=p.select(this),i=r[0].trace,a=i.contours,h=i.line,u=a.size||1,s=a.start,m=a.type==="constraint",f=!m&&a.coloring==="lines",S=!m&&a.coloring==="fill",v=f||S?C(i):null;t.selectAll("g.contourlevel").each(function(M){p.select(this).selectAll("path").call(L.lineGroupStyle,h.width,f?v(M.level):h.color,h.dash)});var l=a.labelfont;if(t.selectAll("g.contourlabels text").each(function(M){L.font(p.select(this),{family:l.family,size:l.size,color:l.color||(f?v(M.level):h.color)})}),m)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(S){var g;t.selectAll("g.contourfill path").style("fill",function(M){return g===void 0&&(g=M.level),v(M.level+.5*u)}),g===void 0&&(g=s),t.selectAll("g.contourbg path").style("fill",v(g-.5*u))}}),n(d)}},8724:function(V,B,e){var p=e(1586),L=e(14523);V.exports=function(C,T,d,y,r){var t=d("contours.coloring"),i,a="";t==="fill"&&(i=d("contours.showlines")),i!==!1&&(t!=="lines"&&(a=d("line.color","#000")),d("line.width",.5),d("line.dash")),t!=="none"&&(C.showlegend!==!0&&(T.showlegend=!1),T._dfltShowLegend=!1,p(C,T,y,d,{prefix:"",cLetter:"z"})),d("line.smoothing"),L(d,y,a,r)}},88085:function(V,B,e){var p=e(21606),L=e(70600),n=e(50693),C=e(1426).extendFlat,T=L.contours;V.exports=C({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},59885:function(V,B,e){var p=e(78803),L=e(71828),n=e(68296),C=e(4742),T=e(824),d=e(43907),y=e(70769),r=e(75005),t=e(22882),i=e(18670);V.exports=function(u,s){var m=s._carpetTrace=t(u,s);if(!(!m||!m.visible||m.visible==="legendonly")){if(!s.a||!s.b){var f=u.data[m.index],S=u.data[s.index];S.a||(S.a=f.a),S.b||(S.b=f.b),r(S,s,s._defaultColor,u._fullLayout)}var v=a(u,s);return i(s,s._z),v}};function a(h,u){var s=u._carpetTrace,m=s.aaxis,f=s.baxis,S,v,l,g,M,A,k;m._minDtick=0,f._minDtick=0,L.isArray1D(u.z)&&n(u,m,f,"a","b",["z"]),S=u._a=u._a||u.a,g=u._b=u._b||u.b,S=S?m.makeCalcdata(u,"_a"):[],g=g?f.makeCalcdata(u,"_b"):[],v=u.a0||0,l=u.da||1,M=u.b0||0,A=u.db||1,k=u._z=C(u._z||u.z,u.transpose),u._emptypoints=d(k),T(k,u._emptypoints);var w=L.maxRowLength(k),E=u.xtype==="scaled"?"":S,b=y(u,E,v,l,w,m),o=u.ytype==="scaled"?"":g,P=y(u,o,M,A,k.length,f),x={a:b,b:P,z:k};return u.contours.type==="levels"&&u.contours.coloring!=="none"&&p(h,u,{vals:k,containerStr:"",cLetter:"z"}),[x]}},75005:function(V,B,e){var p=e(71828),L=e(67684),n=e(88085),C=e(83179),T=e(67217),d=e(8724);V.exports=function(r,t,i,a){function h(f,S){return p.coerce(r,t,n,f,S)}function u(f){return p.coerce2(r,t,n,f)}if(h("carpet"),r.a&&r.b){var s=L(r,t,h,a,"a","b");if(!s){t.visible=!1;return}h("text");var m=h("contours.type")==="constraint";m?C(r,t,h,a,i,{hasHover:!1}):(T(r,t,h,u),d(r,t,h,a,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},93740:function(V,B,e){V.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(V,B,e){var p=e(39898),L=e(27669),n=e(67961),C=e(91424),T=e(71828),d=e(87678),y=e(81696),r=e(29854),t=e(36914),i=e(84857),a=e(87558),h=e(20083),u=e(22882),s=e(4536);V.exports=function(E,b,o,P){var x=b.xaxis,z=b.yaxis;T.makeTraceGroups(P,o,"contour").each(function(_){var G=p.select(this),F=_[0],N=F.trace,U=N._carpetTrace=u(E,N),O=E.calcdata[U.index][0];if(!U.visible||U.visible==="legendonly")return;var H=F.a,Y=F.b,q=N.contours,ne=a(q,b,F),oe=q.type==="constraint",he=q._operation,J=oe?he==="="?"lines":"fill":q.coloring;function Z(Le){var Ae=U.ab2xy(Le[0],Le[1],!0);return[x.c2p(Ae[0]),z.c2p(Ae[1])]}var se=[[H[0],Y[Y.length-1]],[H[H.length-1],Y[Y.length-1]],[H[H.length-1],Y[0]],[H[0],Y[0]]];d(ne);var $=(H[H.length-1]-H[0])*1e-8,ee=(Y[Y.length-1]-Y[0])*1e-8;y(ne,$,ee);var le=ne;q.type==="constraint"&&(le=i(ne,he)),m(ne,Z);var Q,K,ue,ie,ce=[];for(ie=O.clipsegments.length-1;ie>=0;ie--)Q=O.clipsegments[ie],K=L([],Q.x,x.c2p),ue=L([],Q.y,z.c2p),K.reverse(),ue.reverse(),ce.push(n(K,ue,Q.bicubic));var xe="M"+ce.join("L")+"Z";M(G,O.clipsegments,x,z,oe,J),A(N,G,x,z,le,se,Z,U,O,J,xe),f(G,ne,E,F,q,b,U),C.setClipUrl(G,U._clipPathId,E)})};function m(w,E){var b,o,P,x,z,_,G,F,N;for(b=0;b<w.length;b++){for(x=w[b],z=x.pedgepaths=[],_=x.ppaths=[],o=0;o<x.edgepaths.length;o++){for(N=x.edgepaths[o],G=[],P=0;P<N.length;P++)G[P]=E(N[P]);z.push(G)}for(o=0;o<x.paths.length;o++){for(N=x.paths[o],F=[],P=0;P<N.length;P++)F[P]=E(N[P]);_.push(F)}}}function f(w,E,b,o,P,x,z){var _=b._context.staticPlot,G=T.ensureSingle(w,"g","contourlines"),F=P.showlines!==!1,N=P.showlabels,U=F&&N,O=r.createLines(G,F||N,E,_),H=r.createLineClip(G,U,b,o.trace.uid),Y=w.selectAll("g.contourlabels").data(N?[0]:[]);if(Y.exit().remove(),Y.enter().append("g").classed("contourlabels",!0),N){var q=x.xaxis,ne=x.yaxis,oe=q._length,he=ne._length,J=[[[0,0],[oe,0],[oe,he],[0,he]]],Z=[];T.clearLocationCache();var se=r.labelFormatter(b,o),$=C.tester.append("text").attr("data-notex",1).call(C.font,P.labelfont),ee={left:0,right:oe,center:oe/2,top:0,bottom:he,middle:he/2},le=Math.sqrt(oe*oe+he*he),Q=t.LABELDISTANCE*le/Math.max(1,E.length/t.LABELINCREASE);O.each(function(K){var ue=r.calcTextOpts(K.level,se,$,b);p.select(this).selectAll("path").each(function(ie){var ce=this,xe=T.getVisibleSegment(ce,ee,ue.height/2);if(xe&&(S(ce,ie,K,xe,z,ue.height),!(xe.len<(ue.width+ue.height)*t.LABELMIN)))for(var Le=Math.min(Math.ceil(xe.len/Q),t.LABELMAX),Ae=0;Ae<Le;Ae++){var Oe=r.findBestTextLocation(ce,xe,ue,Z,ee);if(!Oe)break;r.addLabelData(Oe,ue,Z,J)}})}),$.remove(),r.drawLabels(Y,Z,b,H,U?J:null)}N&&!F&&O.remove()}function S(w,E,b,o,P,x){for(var z,_=0;_<b.pedgepaths.length;_++)E===b.pedgepaths[_]&&(z=b.edgepaths[_]);if(!z)return;var G=P.a[0],F=P.a[P.a.length-1],N=P.b[0],U=P.b[P.b.length-1];function O(oe,he){var J=0,Z,se=.1;return(Math.abs(oe[0]-G)<se||Math.abs(oe[0]-F)<se)&&(Z=l(P.dxydb_rough(oe[0],oe[1],se)),J=Math.max(J,x*g(he,Z)/2)),(Math.abs(oe[1]-N)<se||Math.abs(oe[1]-U)<se)&&(Z=l(P.dxyda_rough(oe[0],oe[1],se)),J=Math.max(J,x*g(he,Z)/2)),J}var H=v(w,0,1),Y=v(w,o.total,o.total-1),q=O(z[0],H),ne=o.total-O(z[z.length-1],Y);o.min<q&&(o.min=q),o.max>ne&&(o.max=ne),o.len=o.max-o.min}function v(w,E,b){var o=w.getPointAtLength(E),P=w.getPointAtLength(b),x=P.x-o.x,z=P.y-o.y,_=Math.sqrt(x*x+z*z);return[x/_,z/_]}function l(w){var E=Math.sqrt(w[0]*w[0]+w[1]*w[1]);return[w[0]/E,w[1]/E]}function g(w,E){var b=Math.abs(w[0]*E[0]+w[1]*E[1]),o=Math.sqrt(1-b*b);return o/b}function M(w,E,b,o,P,x){var z,_,G,F,N=T.ensureSingle(w,"g","contourbg"),U=N.selectAll("path").data(x==="fill"&&!P?[0]:[]);U.enter().append("path"),U.exit().remove();var O=[];for(F=0;F<E.length;F++)z=E[F],_=L([],z.x,b.c2p),G=L([],z.y,o.c2p),O.push(n(_,G,z.bicubic));U.attr("d","M"+O.join("L")+"Z").style("stroke","none")}function A(w,E,b,o,P,x,z,_,G,F,N){var U=F==="fill";U&&h(P,w.contours);var O=T.ensureSingle(E,"g","contourfill"),H=O.selectAll("path").data(U?P:[]);H.enter().append("path"),H.exit().remove(),H.each(function(Y){var q=(Y.prefixBoundary?N:"")+k(w,Y,x,z,_,G,b,o);q?p.select(this).attr("d",q).style("stroke","none"):p.select(this).remove()})}function k(w,E,b,o,P,x,z,_){var G,F="",N=E.edgepaths.map(function(ue,ie){return ie}),U=!0,O,H,Y,q,ne,oe,he=Math.abs(b[0][0]-b[2][0])*1e-4,J=Math.abs(b[0][1]-b[2][1])*1e-4;function Z(ue){return Math.abs(ue[1]-b[0][1])<J}function se(ue){return Math.abs(ue[1]-b[2][1])<J}function $(ue){return Math.abs(ue[0]-b[0][0])<he}function ee(ue){return Math.abs(ue[0]-b[2][0])<he}function le(ue,ie){var ce,xe,Le,Ae,Oe="";for(Z(ue)&&!ee(ue)||se(ue)&&!$(ue)?(Ae=P.aaxis,Le=s(P,x,[ue[0],ie[0]],.5*(ue[1]+ie[1]))):(Ae=P.baxis,Le=s(P,x,.5*(ue[0]+ie[0]),[ue[1],ie[1]])),ce=1;ce<Le.length;ce++)for(Oe+=Ae.smoothing?"C":"L",xe=0;xe<Le[ce].length;xe++){var ze=Le[ce][xe];Oe+=[z.c2p(ze[0]),_.c2p(ze[1])]+" "}return Oe}for(G=0,O=null;N.length;){var Q=E.edgepaths[G][0];for(O&&(F+=le(O,Q)),oe=C.smoothopen(E.edgepaths[G].map(o),E.smoothing),F+=U?oe:oe.replace(/^M/,"L"),N.splice(N.indexOf(G),1),O=E.edgepaths[G][E.edgepaths[G].length-1],q=-1,Y=0;Y<4;Y++){if(!O){T.log("Missing end?",G,E);break}for(Z(O)&&!ee(O)?H=b[1]:$(O)?H=b[0]:se(O)?H=b[3]:ee(O)&&(H=b[2]),ne=0;ne<E.edgepaths.length;ne++){var K=E.edgepaths[ne][0];Math.abs(O[0]-H[0])<he?Math.abs(O[0]-K[0])<he&&(K[1]-O[1])*(H[1]-K[1])>=0&&(H=K,q=ne):Math.abs(O[1]-H[1])<J?Math.abs(O[1]-K[1])<J&&(K[0]-O[0])*(H[0]-K[0])>=0&&(H=K,q=ne):T.log("endpt to newendpt is not vert. or horz.",O,H,K)}if(q>=0)break;F+=le(O,H),O=H}if(q===E.edgepaths.length){T.log("unclosed perimeter path");break}G=q,U=N.indexOf(G)===-1,U&&(G=N[0],F+=le(O,H)+"Z",O=null)}for(G=0;G<E.paths.length;G++)F+=C.smoothclosed(E.paths[G].map(o),E.smoothing);return F}},64096:function(V,B,e){var p=e(50693),L=e(5386).fF,n=e(9012),C=e(99181),T=e(1426).extendFlat;V.exports=T({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:T({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:T({},n.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(V,B,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,C=e(78803),T=e(71828)._;V.exports=function(y,r){for(var t=r._length,i=new Array(t),a=r.z,h=L(a)&&a.length,u=0;u<t;u++){var s=i[u]={},m=r.lon[u],f=r.lat[u];if(s.lonlat=p(m)&&p(f)?[+m,+f]:[n,n],h){var S=a[u];s.z=p(S)?S:n}}return C(y,r,{vals:h?a:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:T(y,"lat:")+" ",lon:T(y,"lon:")+" "}}),i}},52414:function(V,B,e){var p=e(92770),L=e(71828),n=e(7901),C=e(21081),T=e(50606).BADNUM,d=e(18214).makeBlank;V.exports=function(r){var t=r[0].trace,i=t.visible===!0&&t._length!==0,a={layout:{visibility:"none"},paint:{}},h=t._opts={heatmap:a,geojson:d()};if(!i)return h;var u=[],s,m=t.z,f=t.radius,S=L.isArrayOrTypedArray(m)&&m.length,v=L.isArrayOrTypedArray(f);for(s=0;s<r.length;s++){var l=r[s],g=l.lonlat;if(g[0]!==T){var M={};if(S){var A=l.z;M.z=A!==T?A:0}v&&(M.r=p(f[s])&&f[s]>0?+f[s]:0),u.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:M})}}var k=C.extractOpts(t),w=k.reversescale?C.flipScale(k.colorscale):k.colorscale,E=w[0][1],b=n.opacity(E)<1?E:n.addOpacity(E,0),o=["interpolate",["linear"],["heatmap-density"],0,b];for(s=1;s<w.length;s++)o.push(w[s][0],w[s][1]);var P=["interpolate",["linear"],["get","z"],k.min,0,k.max,1];return L.extendFlat(h.heatmap.paint,{"heatmap-weight":S?P:1/(k.max-k.min),"heatmap-color":o,"heatmap-radius":v?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),h.geojson={type:"FeatureCollection",features:u},h.heatmap.layout.visibility="visible",h}},79429:function(V,B,e){var p=e(71828),L=e(1586),n=e(64096);V.exports=function(T,d,y,r){function t(u,s){return p.coerce(T,d,n,u,s)}var i=t("lon")||[],a=t("lat")||[],h=Math.min(i.length,a.length);if(!h){d.visible=!1;return}d._length=h,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),L(T,d,r,t,{prefix:"",cLetter:"z"})}},62474:function(V){V.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},84684:function(V,B,e){var p=e(89298),L=e(28178).hoverPoints,n=e(28178).getExtraText;V.exports=function(T,d,y){var r=L(T,d,y);if(r){var t=r[0],i=t.cd,a=i[0].trace,h=i[t.index];if(delete t.color,"z"in h){var u=t.subplot.mockAxis;t.z=h.z,t.zLabel=p.tickText(u,u.c2l(h.z),"hover").text}return t.extraText=n(a,h,i[0].t.labels),[t]}}},93814:function(V,B,e){V.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(p,L){for(var n=L.getMapLayers(),C=0;C<n.length;C++){var T=n[C],d=T.id;if(T.type==="symbol"&&typeof d=="string"&&d.indexOf("plotly-")===-1)return d}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(V,B,e){var p=e(52414),L=e(77734).traceLayerPrefix;function n(T,d){this.type="densitymapbox",this.subplot=T,this.uid=d,this.sourceId="source-"+d,this.layerList=[["heatmap",L+d+"-heatmap"]],this.below=null}var C=n.prototype;C.update=function(T){var d=this.subplot,y=this.layerList,r=p(T),t=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(r.geojson),t!==this.below&&(this._removeLayers(),this._addLayers(r,t),this.below=t);for(var i=0;i<y.length;i++){var a=y[i],h=a[0],u=a[1],s=r[h];d.setOptions(u,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&d.setOptions(u,"setPaintProperty",s.paint)}},C._addLayers=function(T,d){for(var y=this.subplot,r=this.layerList,t=this.sourceId,i=0;i<r.length;i++){var a=r[i],h=a[0],u=T[h];y.addLayer({type:h,id:a[1],source:t,layout:u.layout,paint:u.paint},d)}},C._removeLayers=function(){for(var T=this.subplot.map,d=this.layerList,y=d.length-1;y>=0;y--)T.removeLayer(d[y][1])},C.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},V.exports=function(d,y){var r=y[0].trace,t=new n(d,r.uid),i=t.sourceId,a=p(y),h=t.below=d.belowLookup["trace-"+r.uid];return d.map.addSource(i,{type:"geojson",data:a.geojson}),t._addLayers(a,h),t}},49789:function(V,B,e){var p=e(71828);V.exports=function(n,C){for(var T=0;T<n.length;T++)n[T].i=T;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var d=C.marker;if(d){p.mergeArray(d.opacity,n,"mo"),p.mergeArray(d.color,n,"mc");var y=d.line;y&&(p.mergeArray(y.color,n,"mlc"),p.mergeArrayCastPositive(y.width,n,"mlw"))}}},1285:function(V,B,e){var p=e(1486),L=e(82196).line,n=e(9012),C=e(12663).axisHoverFormat,T=e(5386).fF,d=e(5386).si,y=e(18517),r=e(1426).extendFlat,t=e(7901);V.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:T({},{keys:y.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:r({},p.insidetextanchor,{dflt:"middle"}),textangle:r({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:r({},p.orientation,{}),offset:r({},p.offset,{arrayOk:!1}),width:r({},p.width,{arrayOk:!1}),marker:i(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup};function i(){var a=r({},p.marker);return delete a.pattern,a}},9532:function(V,B,e){var p=e(89298),L=e(42973),n=e(49789),C=e(66279),T=e(50606).BADNUM;V.exports=function(r,t){var i=p.getFromId(r,t.xaxis||"x"),a=p.getFromId(r,t.yaxis||"y"),h,u,s,m,f,S,v,l;t.orientation==="h"?(h=i.makeCalcdata(t,"x"),s=a.makeCalcdata(t,"y"),m=L(t,a,"y",s),f=!!t.yperiodalignment,S="y"):(h=a.makeCalcdata(t,"y"),s=i.makeCalcdata(t,"x"),m=L(t,i,"x",s),f=!!t.xperiodalignment,S="x"),u=m.vals;var g=Math.min(u.length,h.length),M=new Array(g);for(t._base=[],v=0;v<g;v++){h[v]<0&&(h[v]=T);var A=!1;h[v]!==T&&v+1<g&&h[v+1]!==T&&(A=!0),l=M[v]={p:u[v],s:h[v],cNext:A},t._base[v]=-.5*l.s,f&&(M[v].orig_p=s[v],M[v][S+"End"]=m.ends[v],M[v][S+"Start"]=m.starts[v]),t.ids&&(l.id=String(t.ids[v])),v===0&&(M[0].vTotal=0),M[0].vTotal+=d(l.s),l.begR=d(l.s)/d(M[0].s)}var k;for(v=0;v<g;v++)l=M[v],l.s!==T&&(l.sumR=l.s/M[0].vTotal,l.difR=k!==void 0?l.s/k:1,k=l.s);return n(M,t),C(M,t),M};function d(y){return y===T?0:y}},18517:function(V){V.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(V,B,e){var p=e(11661).setGroupPositions;V.exports=function(n,C){var T=n._fullLayout,d=n._fullData,y=n.calcdata,r=C.xaxis,t=C.yaxis,i=[],a=[],h=[],u,s;for(s=0;s<d.length;s++){var m=d[s],f=m.orientation==="h";m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="funnel"&&(u=y[s],f?h.push(u):a.push(u),i.push(u))}var S={mode:T.funnelmode,norm:T.funnelnorm,gap:T.funnelgap,groupgap:T.funnelgroupgap};for(p(n,r,t,a,S),p(n,t,r,h,S),s=0;s<i.length;s++){u=i[s];for(var v=0;v<u.length;v++)v+1<u.length&&(u[v].nextP0=u[v+1].p0,u[v].nextS0=u[v+1].s0,u[v].nextP1=u[v+1].p1,u[v].nextS1=u[v+1].s1)}}},26199:function(V,B,e){var p=e(71828),L=e(26125),n=e(90769).handleText,C=e(67513),T=e(73927),d=e(1285),y=e(7901);function r(a,h,u,s){function m(A,k){return p.coerce(a,h,d,A,k)}var f=C(a,h,s,m);if(!f){h.visible=!1;return}T(a,h,s,m),m("xhoverformat"),m("yhoverformat"),m("orientation",h.y&&!h.x?"v":"h"),m("offset"),m("width");var S=m("text");m("hovertext"),m("hovertemplate");var v=m("textposition");n(a,h,s,m,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h.textposition!=="none"&&!h.texttemplate&&m("textinfo",p.isArrayOrTypedArray(S)?"text+value":"value");var l=m("marker.color",u);m("marker.line.color",y.defaultLine),m("marker.line.width");var g=m("connector.visible");if(g){m("connector.fillcolor",t(l));var M=m("connector.line.width");M&&(m("connector.line.color"),m("connector.line.dash"))}}function t(a){var h=p.isArrayOrTypedArray(a)?"#000":a;return y.addOpacity(h,.5*y.opacity(h))}function i(a,h){var u,s;function m(S){return p.coerce(s._input,s,d,S)}if(h.funnelmode==="group")for(var f=0;f<a.length;f++)s=a[f],u=s._input,L(u,s,h,m)}V.exports={supplyDefaults:r,crossTraceDefaults:i}},34598:function(V){V.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},63341:function(V,B,e){var p=e(7901).opacity,L=e(95423).hoverOnBars,n=e(71828).formatPercent;V.exports=function(d,y,r,t,i){var a=L(d,y,r,t,i);if(a){var h=a.cd,u=h[0].trace,s=u.orientation==="h",m=a.index,f=h[m],S=s?"x":"y";a[S+"LabelVal"]=f.s,a.percentInitial=f.begR,a.percentInitialLabel=n(f.begR,1),a.percentPrevious=f.difR,a.percentPreviousLabel=n(f.difR,1),a.percentTotal=f.sumR,a.percentTotalLabel=n(f.sumR,1);var v=f.hi||u.hoverinfo,l=[];if(v&&v!=="none"&&v!=="skip"){var g=v==="all",M=v.split("+"),A=function(k){return g||M.indexOf(k)!==-1};A("percent initial")&&l.push(a.percentInitialLabel+" of initial"),A("percent previous")&&l.push(a.percentPreviousLabel+" of previous"),A("percent total")&&l.push(a.percentTotalLabel+" of total")}return a.extraText=l.join("<br>"),a.color=C(u,f),[a]}};function C(T,d){var y=T.marker,r=d.mc||y.color,t=d.mlc||y.line.color,i=d.mlw||y.line.width;if(p(r))return r;if(p(t)&&i)return t}},51759:function(V,B,e){V.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(V){V.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(V,B,e){var p=e(71828),L=e(10440);V.exports=function(n,C,T){var d=!1;function y(i,a){return p.coerce(n,C,L,i,a)}for(var r=0;r<T.length;r++){var t=T[r];if(t.visible&&t.type==="funnel"){d=!0;break}}d&&(y("funnelmode"),y("funnelgap",.2),y("funnelgroupgap"))}},80461:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(50606).BADNUM,T=e(17295),d=e(72597).clearMinTextSize;V.exports=function(a,h,u,s){var m=a._fullLayout;d("funnel",m),y(a,h,u,s),r(a,h,u,s),T.plot(a,h,u,s,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function y(i,a,h,u){var s=a.xaxis,m=a.yaxis;L.makeTraceGroups(u,h,"trace bars").each(function(f){var S=p.select(this),v=f[0].trace,l=L.ensureSingle(S,"g","regions");if(!v.connector||!v.connector.visible){l.remove();return}var g=v.orientation==="h",M=l.selectAll("g.region").data(L.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var A=M.size();M.each(function(k,w){if(!(w!==A-1&&!k.cNext)){var E=t(k,s,m,g),b=E[0],o=E[1],P="";b[0]!==C&&o[0]!==C&&b[1]!==C&&o[1]!==C&&b[2]!==C&&o[2]!==C&&b[3]!==C&&o[3]!==C&&(g?P+="M"+b[0]+","+o[1]+"L"+b[2]+","+o[2]+"H"+b[3]+"L"+b[1]+","+o[1]+"Z":P+="M"+b[1]+","+o[1]+"L"+b[2]+","+o[3]+"V"+o[2]+"L"+b[1]+","+o[0]+"Z"),P===""&&(P="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",P).call(n.setClipUrl,a.layerClipId,i)}})})}function r(i,a,h,u){var s=a.xaxis,m=a.yaxis;L.makeTraceGroups(u,h,"trace bars").each(function(f){var S=p.select(this),v=f[0].trace,l=L.ensureSingle(S,"g","lines");if(!v.connector||!v.connector.visible||!v.connector.line.width){l.remove();return}var g=v.orientation==="h",M=l.selectAll("g.line").data(L.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var A=M.size();M.each(function(k,w){if(!(w!==A-1&&!k.cNext)){var E=t(k,s,m,g),b=E[0],o=E[1],P="";b[3]!==void 0&&o[3]!==void 0&&(g?(P+="M"+b[0]+","+o[1]+"L"+b[2]+","+o[2],P+="M"+b[1]+","+o[1]+"L"+b[3]+","+o[2]):(P+="M"+b[1]+","+o[1]+"L"+b[2]+","+o[3],P+="M"+b[1]+","+o[0]+"L"+b[2]+","+o[2])),P===""&&(P="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",P).call(n.setClipUrl,a.layerClipId,i)}})})}function t(i,a,h,u){var s=[],m=[],f=u?a:h,S=u?h:a;return s[0]=f.c2p(i.s0,!0),m[0]=S.c2p(i.p0,!0),s[1]=f.c2p(i.s1,!0),m[1]=S.c2p(i.p1,!0),s[2]=f.c2p(i.nextS0,!0),m[2]=S.c2p(i.nextP0,!0),s[3]=f.c2p(i.nextS1,!0),m[3]=S.c2p(i.nextP1,!0),u?[s,m]:[m,s]}},68266:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901),C=e(37822).DESELECTDIM,T=e(16688),d=e(72597).resizeText,y=T.styleTextPoints;function r(t,i,a){var h=a||p.select(t).selectAll("g.funnellayer").selectAll("g.trace");d(t,h,"funnel"),h.style("opacity",function(u){return u[0].trace.opacity}),h.each(function(u){var s=p.select(this),m=u[0].trace;s.selectAll(".point > path").each(function(f){if(!f.isBlank){var S=m.marker;p.select(this).call(n.fill,f.mc||S.color).call(n.stroke,f.mlc||S.line.color).call(L.dashLine,S.line.dash,f.mlw||S.line.width).style("opacity",m.selectedpoints&&!f.selected?C:1)}}),y(s,m,t),s.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(n.fill,m.connector.fillcolor)}),s.selectAll(".lines").each(function(){var f=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),f.width,f.color,f.dash)})})}V.exports={style:r}},86807:function(V,B,e){var p=e(34e3),L=e(9012),n=e(27670).Y,C=e(5386).fF,T=e(5386).si,d=e(1426).extendFlat;V.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:d({},p.marker.line.color,{dflt:null}),width:d({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:p.marker.pattern,editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:d({},p.scalegroup,{}),textinfo:d({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:d({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:d({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:d({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(V,B,e){var p=e(74875);B.name="funnelarea",B.plot=function(L,n,C,T){p.plotBasePlot(B.name,L,n,C,T)},B.clean=function(L,n,C,T){p.cleanBasePlot(B.name,L,n,C,T)}},89574:function(V,B,e){var p=e(32354);function L(C,T){return p.calc(C,T)}function n(C){p.crossTraceCalc(C,{type:"funnelarea"})}V.exports={calc:L,crossTraceCalc:n}},86282:function(V,B,e){var p=e(71828),L=e(86807),n=e(27670).c,C=e(90769).handleText,T=e(37434).handleLabelsAndValues,d=e(37434).handleMarkerDefaults;V.exports=function(r,t,i,a){function h(A,k){return p.coerce(r,t,L,A,k)}var u=h("labels"),s=h("values"),m=T(u,s),f=m.len;if(t._hasLabels=m.hasLabels,t._hasValues=m.hasValues,!t._hasLabels&&t._hasValues&&(h("label0"),h("dlabel")),!f){t.visible=!1;return}t._length=f,d(r,t,a,h),h("scalegroup");var S=h("text"),v=h("texttemplate"),l;if(v||(l=h("textinfo",Array.isArray(S)?"text+percent":"percent")),h("hovertext"),h("hovertemplate"),v||l&&l!=="none"){var g=h("textposition");C(r,t,a,h,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}n(t,a,h);var M=h("title.text");M&&(h("title.position"),p.coerceFont(h,"title.font",a.font)),h("aspectratio"),h("baseratio")}},10421:function(V,B,e){V.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(V,B,e){var p=e(92774).hiddenlabels;V.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(V,B,e){var p=e(71828),L=e(80097);V.exports=function(C,T){function d(y,r){return p.coerce(C,T,L,y,r)}d("hiddenlabels"),d("funnelareacolorway",T.colorway),d("extendfunnelareacolors")}},79187:function(V,B,e){var p=e(39898),L=e(91424),n=e(71828),C=n.strScale,T=n.strTranslate,d=e(63893),y=e(17295),r=y.toMoveInsideBar,t=e(72597),i=t.recordMinTextSize,a=t.clearMinTextSize,h=e(53581),u=e(14575),s=u.attachFxHandlers,m=u.determineInsideTextFont,f=u.layoutAreas,S=u.prerenderTitles,v=u.positionTitleOutside,l=u.formatSliceLabel;V.exports=function(w,E){var b=w._context.staticPlot,o=w._fullLayout;a("funnelarea",o),S(E,w),f(E,o._size),n.makeTraceGroups(o._funnelarealayer,E,"trace").each(function(P){var x=p.select(this),z=P[0],_=z.trace;A(P),x.each(function(){var G=p.select(this).selectAll("g.slice").data(P);G.enter().append("g").classed("slice",!0),G.exit().remove(),G.each(function(N,U){if(N.hidden){p.select(this).selectAll("path,g").remove();return}N.pointNumber=N.i,N.curveNumber=_.index;var O=z.cx,H=z.cy,Y=p.select(this),q=Y.selectAll("path.surface").data([N]);q.enter().append("path").classed("surface",!0).style({"pointer-events":b?"none":"all"}),Y.call(s,w,P);var ne="M"+(O+N.TR[0])+","+(H+N.TR[1])+g(N.TR,N.BR)+g(N.BR,N.BL)+g(N.BL,N.TL)+"Z";q.attr("d",ne),l(w,N,z);var oe=h.castOption(_.textposition,N.pts),he=Y.selectAll("g.slicetext").data(N.text&&oe!=="none"?[0]:[]);he.enter().append("g").classed("slicetext",!0),he.exit().remove(),he.each(function(){var J=n.ensureSingle(p.select(this),"text","",function(ue){ue.attr("data-notex",1)}),Z=n.ensureUniformFontSize(w,m(_,N,o.font));J.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Z).call(d.convertToTspans,w);var se=L.bBox(J.node()),$,ee,le,Q=Math.min(N.BL[1],N.BR[1])+H,K=Math.max(N.TL[1],N.TR[1])+H;ee=Math.max(N.TL[0],N.BL[0])+O,le=Math.min(N.TR[0],N.BR[0])+O,$=r(ee,le,Q,K,se,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),$.fontSize=Z.size,i(_.type,$,o),P[U].transform=$,n.setTransormAndDisplay(J,$)})});var F=p.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);F.enter().append("g").classed("titletext",!0),F.exit().remove(),F.each(function(){var N=n.ensureSingle(p.select(this),"text","",function(H){H.attr("data-notex",1)}),U=_.title.text;_._meta&&(U=n.templateString(U,_._meta)),N.text(U).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,_.title.font).call(d.convertToTspans,w);var O=v(z,o._size);N.attr("transform",T(O.x,O.y)+C(Math.min(1,O.scale))+T(O.tx,O.ty))})})})};function g(k,w){var E=w[0]-k[0],b=w[1]-k[1];return"l"+E+","+b}function M(k,w){return[.5*(k[0]+w[0]),.5*(k[1]+w[1])]}function A(k){if(!k.length)return;var w=k[0],E=w.trace,b=E.aspectratio,o=E.baseratio;o>.999&&(o=.999);var P=Math.pow(o,2),x=w.vTotal,z=x*P/(1-P),_=x,G=z/x;function F(){var ie=Math.sqrt(G);return{x:ie,y:-ie}}function N(){var ie=F();return[ie.x,ie.y]}var U,O=[];O.push(N());var H,Y;for(H=k.length-1;H>-1;H--)if(Y=k[H],!Y.hidden){var q=Y.v/_;G+=q,O.push(N())}var ne=1/0,oe=-1/0;for(H=0;H<O.length;H++)U=O[H],ne=Math.min(ne,U[1]),oe=Math.max(oe,U[1]);for(H=0;H<O.length;H++)O[H][1]-=(oe+ne)/2;var he=O[O.length-1][0],J=w.r,Z=(oe-ne)/2,se=J/he,$=J/Z*b;for(w.r=$*Z,H=0;H<O.length;H++)O[H][0]*=se,O[H][1]*=$;U=O[0];var ee=[-U[0],U[1]],le=[U[0],U[1]],Q=0;for(H=k.length-1;H>-1;H--)if(Y=k[H],!Y.hidden){Q+=1;var K=O[Q][0],ue=O[Q][1];Y.TL=[-K,ue],Y.TR=[K,ue],Y.BL=ee,Y.BR=le,Y.pxmid=M(Y.TR,Y.BR),ee=Y.TL,le=Y.TR}}},71858:function(V,B,e){var p=e(39898),L=e(63463),n=e(72597).resizeText;V.exports=function(T){var d=T._fullLayout._funnelarealayer.selectAll(".trace");n(T,d,"funnelarea"),d.each(function(y){var r=y[0],t=r.trace,i=p.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(a){p.select(this).call(L,a,t,T)})})}},21606:function(V,B,e){var p=e(82196),L=e(9012),n=e(41940),C=e(12663).axisHoverFormat,T=e(5386).fF,d=e(5386).si,y=e(50693),r=e(1426).extendFlat;V.exports=r({z:{valType:"data_array",editType:"calc"},x:r({},p.x,{impliedEdits:{xtype:"array"}}),x0:r({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:r({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:r({},p.y,{impliedEdits:{ytype:"array"}}),y0:r({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:r({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:r({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:r({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:r({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:r({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:r({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:r({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:T(),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:r({},L.showlegend,{dflt:!1})},{transforms:void 0},y("",{cLetter:"z",autoColorDflt:!1}))},90757:function(V,B,e){var p=e(73972),L=e(71828),n=e(89298),C=e(42973),T=e(17562),d=e(78803),y=e(68296),r=e(4742),t=e(824),i=e(43907),a=e(70769),h=e(50606).BADNUM;V.exports=function(f,S){var v=n.getFromId(f,S.xaxis||"x"),l=n.getFromId(f,S.yaxis||"y"),g=p.traceIs(S,"contour"),M=p.traceIs(S,"histogram"),A=p.traceIs(S,"gl2d"),k=g?"best":S.zsmooth,w,E,b,o,P,x,z,_,G,F,N;if(v._minDtick=0,l._minDtick=0,M)N=T(f,S),o=N.orig_x,w=N.x,E=N.x0,b=N.dx,_=N.orig_y,P=N.y,x=N.y0,z=N.dy,G=N.z;else{var U=S.z;L.isArray1D(U)?(y(S,v,l,"x","y",["z"]),w=S._x,P=S._y,U=S._z):(o=S.x?v.makeCalcdata(S,"x"):[],_=S.y?l.makeCalcdata(S,"y"):[],w=C(S,v,"x",o).vals,P=C(S,l,"y",_).vals,S._x=w,S._y=P),E=S.x0,b=S.dx,x=S.y0,z=S.dy,G=r(U,S,v,l)}(v.rangebreaks||l.rangebreaks)&&(G=s(w,P,G),M||(w=u(w),P=u(P),S._x=w,S._y=P)),!M&&(g||S.connectgaps)&&(S._emptypoints=i(G),t(G,S._emptypoints));function O(se){k=S._input.zsmooth=S.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+se)}function H(se){if(se.length>1){var $=(se[se.length-1]-se[0])/(se.length-1),ee=Math.abs($/100);for(F=0;F<se.length-1;F++)if(Math.abs(se[F+1]-se[F]-$)>ee)return!1}return!0}S._islinear=!1,v.type==="log"||l.type==="log"?k==="fast"&&O("log axis found"):H(w)?H(P)?S._islinear=!0:k==="fast"&&O("y scale is not linear"):k==="fast"&&O("x scale is not linear");var Y=L.maxRowLength(G),q=S.xtype==="scaled"?"":w,ne=a(S,q,E,b,Y,v),oe=S.ytype==="scaled"?"":P,he=a(S,oe,x,z,G.length,l);A||(S._extremes[v._id]=n.findExtremes(v,ne),S._extremes[l._id]=n.findExtremes(l,he));var J={x:ne,y:he,z:G,text:S._text||S.text,hovertext:S._hovertext||S.hovertext};if(S.xperiodalignment&&o&&(J.orig_x=o),S.yperiodalignment&&_&&(J.orig_y=_),q&&q.length===ne.length-1&&(J.xCenter=q),oe&&oe.length===he.length-1&&(J.yCenter=oe),M&&(J.xRanges=N.xRanges,J.yRanges=N.yRanges,J.pts=N.pts),g||d(f,S,{vals:G,cLetter:"z"}),g&&S.contours&&S.contours.coloring==="heatmap"){var Z={type:S.type==="contour"?"heatmap":"histogram2d",xcalendar:S.xcalendar,ycalendar:S.ycalendar};J.xfill=a(Z,q,E,b,Y,v),J.yfill=a(Z,oe,x,z,G.length,l)}return[J]};function u(m){for(var f=[],S=m.length,v=0;v<S;v++){var l=m[v];l!==h&&f.push(l)}return f}function s(m,f,S){for(var v=[],l=-1,g=0;g<S.length;g++)if(f[g]!==h){l++,v[l]=[];for(var M=0;M<S[g].length;M++)m[M]!==h&&v[l].push(S[g][M])}return v}},4742:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM;V.exports=function(T,d,y,r){var t,i,a,h,u,s;function m(M){if(p(M))return+M}if(d&&d.transpose){for(t=0,u=0;u<T.length;u++)t=Math.max(t,T[u].length);if(t===0)return!1;a=function(M){return M.length},h=function(M,A,k){return(M[k]||[])[A]}}else t=T.length,a=function(M,A){return M[A].length},h=function(M,A,k){return(M[A]||[])[k]};var f=function(M,A,k){return A===n||k===n?n:h(M,A,k)};function S(M){if(d&&d.type!=="carpet"&&d.type!=="contourcarpet"&&M&&M.type==="category"&&d["_"+M._id.charAt(0)].length){var A=M._id.charAt(0),k={},w=d["_"+A+"CategoryMap"]||d[A];for(u=0;u<w.length;u++)k[w[u]]=u;return function(E){var b=k[M._categories[E]];return b+1?b:n}}else return L.identity}var v=S(y),l=S(r);r&&r.type==="category"&&(t=r._categories.length);var g=new Array(t);for(u=0;u<t;u++)for(y&&y.type==="category"?i=y._categories.length:i=a(T,u),g[u]=new Array(i),s=0;s<i;s++)g[u][s]=m(f(T,l(u),v(s)));return g}},61243:function(V){V.exports={min:"zmin",max:"zmax"}},68296:function(V,B,e){var p=e(71828),L=e(50606).BADNUM,n=e(42973);V.exports=function(T,d,y,r,t,i){var a=T._length,h=d.makeCalcdata(T,r),u=y.makeCalcdata(T,t);h=n(T,d,r,h).vals,u=n(T,y,t,u).vals;var s=T.text,m=s!==void 0&&p.isArray1D(s),f=T.hovertext,S=f!==void 0&&p.isArray1D(f),v,l,g=p.distinctVals(h),M=g.vals,A=p.distinctVals(u),k=A.vals,w=[],E,b,o=k.length,P=M.length;for(v=0;v<i.length;v++)w[v]=p.init2dArray(o,P);m&&(E=p.init2dArray(o,P)),S&&(b=p.init2dArray(o,P));var x=p.init2dArray(o,P);for(v=0;v<a;v++)if(h[v]!==L&&u[v]!==L){var z=p.findBin(h[v]+g.minDiff/2,M),_=p.findBin(u[v]+A.minDiff/2,k);for(l=0;l<i.length;l++){var G=i[l],F=T[G],N=w[l];N[_][z]=F[v],x[_][z]=v}m&&(E[_][z]=s[v]),S&&(b[_][z]=f[v])}for(T["_"+r]=M,T["_"+t]=k,l=0;l<i.length;l++)T["_"+i[l]]=w[l];m&&(T._text=E),S&&(T._hovertext=b),d&&d.type==="category"&&(T["_"+r+"CategoryMap"]=M.map(function(U){return d._categories[U]})),y&&y.type==="category"&&(T["_"+t+"CategoryMap"]=k.map(function(U){return y._categories[U]})),T._after2before=x}},76382:function(V,B,e){var p=e(71828),L=e(67684),n=e(58623),C=e(73927),T=e(49901),d=e(1586),y=e(21606);V.exports=function(t,i,a,h){function u(m,f){return p.coerce(t,i,y,m,f)}var s=L(t,i,u,h);if(!s){i.visible=!1;return}C(t,i,h,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hovertemplate"),n(u,h),T(t,i,u,h),u("hoverongaps"),u("connectgaps",p.isArray1D(i.z)&&i.zsmooth!==!1),d(t,i,h,u,{prefix:"",cLetter:"z"})}},43907:function(V,B,e){var p=e(71828).maxRowLength;V.exports=function(n){var C=[],T={},d=[],y=n[0],r=[],t=[0,0,0],i=p(n),a,h,u,s,m,f,S,v;for(h=0;h<n.length;h++)for(a=r,r=y,y=n[h+1]||[],u=0;u<i;u++)r[u]===void 0&&(f=(r[u-1]!==void 0?1:0)+(r[u+1]!==void 0?1:0)+(a[u]!==void 0?1:0)+(y[u]!==void 0?1:0),f?(h===0&&f++,u===0&&f++,h===n.length-1&&f++,u===r.length-1&&f++,f<4&&(T[[h,u]]=[h,u,f]),C.push([h,u,f])):d.push([h,u]));for(;d.length;){for(S={},v=!1,m=d.length-1;m>=0;m--)s=d[m],h=s[0],u=s[1],f=((T[[h-1,u]]||t)[2]+(T[[h+1,u]]||t)[2]+(T[[h,u-1]]||t)[2]+(T[[h,u+1]]||t)[2])/20,f&&(S[s]=[h,u,f],d.splice(m,1),v=!0);if(!v)throw"findEmpties iterated with no new neighbors";for(s in S)T[s]=S[s],C.push(S[s])}return C.sort(function(l,g){return g[2]-l[2]})}},46248:function(V,B,e){var p=e(30211),L=e(71828),n=L.isArrayOrTypedArray,C=e(89298),T=e(21081).extractOpts;V.exports=function(y,r,t,i,a){a||(a={});var h=a.isContour,u=y.cd[0],s=u.trace,m=y.xa,f=y.ya,S=u.x,v=u.y,l=u.z,g=u.xCenter,M=u.yCenter,A=u.zmask,k=s.zhoverformat,w=S,E=v,b,o,P,x;if(y.index!==!1){try{P=Math.round(y.index[1]),x=Math.round(y.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",y.index);return}if(P<0||P>=l[0].length||x<0||x>l.length)return}else{if(p.inbox(r-S[0],r-S[S.length-1],0)>0||p.inbox(t-v[0],t-v[v.length-1],0)>0)return;if(h){var z;for(w=[2*S[0]-S[1]],z=1;z<S.length;z++)w.push((S[z]+S[z-1])/2);for(w.push([2*S[S.length-1]-S[S.length-2]]),E=[2*v[0]-v[1]],z=1;z<v.length;z++)E.push((v[z]+v[z-1])/2);E.push([2*v[v.length-1]-v[v.length-2]])}P=Math.max(0,Math.min(w.length-2,L.findBin(r,w))),x=Math.max(0,Math.min(E.length-2,L.findBin(t,E)))}var _=m.c2p(S[P]),G=m.c2p(S[P+1]),F=f.c2p(v[x]),N=f.c2p(v[x+1]),U,O;h?(U=u.orig_x||S,O=u.orig_y||v,G=_,b=U[P],N=F,o=O[x]):(U=u.orig_x||g||S,O=u.orig_y||M||v,b=g?U[P]:(U[P]+U[P+1])/2,o=M?O[x]:(O[x]+O[x+1])/2,m&&m.type==="category"&&(b=S[P]),f&&f.type==="category"&&(o=v[x]),s.zsmooth&&(_=G=m.c2p(b),F=N=f.c2p(o)));var H=l[x][P];if(A&&!A[x][P]&&(H=void 0),!(H===void 0&&!s.hoverongaps)){var Y;n(u.hovertext)&&n(u.hovertext[x])?Y=u.hovertext[x][P]:n(u.text)&&n(u.text[x])&&(Y=u.text[x][P]);var q=T(s),ne={type:"linear",range:[q.min,q.max],hoverformat:k,_separators:m._separators,_numFormat:m._numFormat},oe=C.tickText(ne,H,"hover").text;return[L.extendFlat(y,{index:s._after2before?s._after2before[x][P]:[x,P],distance:y.maxHoverDistance,spikeDistance:y.maxSpikeDistance,x0:_,x1:G,y0:F,y1:N,xLabelVal:b,yLabelVal:o,zLabelVal:H,zLabel:oe,text:Y})]}}},92165:function(V,B,e){V.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(V,B,e){var p=e(71828),L=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function C(d){return .5-.25*Math.min(1,d*.5)}V.exports=function(y,r){var t=1,i;for(T(y,r),i=0;i<r.length&&!(r[i][2]<4);i++);for(r=r.slice(i),i=0;i<100&&t>L;i++)t=T(y,r,C(t));return t>L&&p.log("interp2d didn't converge quickly",t),y};function T(d,y,r){var t=0,i,a,h,u,s,m,f,S,v,l,g,M,A;for(u=0;u<y.length;u++){for(i=y[u],a=i[0],h=i[1],g=d[a][h],l=0,v=0,s=0;s<4;s++)m=n[s],f=d[a+m[0]],f&&(S=f[h+m[1]],S!==void 0&&(l===0?M=A=S:(M=Math.min(M,S),A=Math.max(A,S)),v++,l+=S));if(v===0)throw"iterateInterp2d order is wrong: no defined neighbors";d[a][h]=l/v,g===void 0?v<4&&(t=1):(d[a][h]=(1+r)*d[a][h]-r*g,A>M&&(t=Math.max(t,Math.abs(d[a][h]-g)/(A-M))))}return t}},58623:function(V,B,e){var p=e(71828);V.exports=function(n,C){n("texttemplate");var T=p.extendFlat({},C.font,{color:"auto",size:"auto"});p.coerceFont(n,"textfont",T)}},70769:function(V,B,e){var p=e(73972),L=e(71828).isArrayOrTypedArray;V.exports=function(C,T,d,y,r,t){var i=[],a=p.traceIs(C,"contour"),h=p.traceIs(C,"histogram"),u=p.traceIs(C,"gl2d"),s,m,f,S=L(T)&&T.length>1;if(S&&!h&&t.type!=="category"){var v=T.length;if(v<=r){if(a||u)i=Array.from(T).slice(0,r);else if(r===1)i=[T[0]-.5,T[0]+.5];else{for(i=[1.5*T[0]-.5*T[1]],f=1;f<v;f++)i.push((T[f-1]+T[f])*.5);i.push(1.5*T[v-1]-.5*T[v-2])}if(v<r){var l=i[i.length-1],g=l-i[i.length-2];for(f=v;f<r;f++)l+=g,i.push(l)}}else return a?T.slice(0,r):T.slice(0,r+1)}else{var M=C[t._id.charAt(0)+"calendar"];if(h)s=t.r2c(d,0,M);else if(L(T)&&T.length===1)s=T[0];else if(d===void 0)s=0;else{var A=t.type==="log"?t.d2c:t.r2c;s=A(d,0,M)}for(m=y||1,f=a||u?0:-.5;f<r;f++)i.push(s+m*f)}return i}},50347:function(V,B,e){var p=e(39898),L=e(84267),n=e(73972),C=e(91424),T=e(89298),d=e(71828),y=e(63893),r=e(8225),t=e(7901),i=e(21081).extractOpts,a=e(21081).makeColorScaleFuncFromTrace,h=e(77922),u=e(18783),s=u.LINE_SPACING,m=e(3883),f=e(32396).STYLE,S="heatmap-label";function v(k){return k.selectAll("g."+S)}function l(k){v(k).remove()}V.exports=function(k,w,E,b){var o=w.xaxis,P=w.yaxis;d.makeTraceGroups(b,E,"hm").each(function(x){var z=p.select(this),_=x[0],G=_.trace,F=G.xgap||0,N=G.ygap||0,U=_.z,O=_.x,H=_.y,Y=_.xCenter,q=_.yCenter,ne=n.traceIs(G,"contour"),oe=ne?"best":G.zsmooth,he=U.length,J=d.maxRowLength(U),Z=!1,se=!1,$,ee,le,Q,K,ue,ie,ce;for(ue=0;$===void 0&&ue<O.length-1;)$=o.c2p(O[ue]),ue++;for(ue=O.length-1;ee===void 0&&ue>0;)ee=o.c2p(O[ue]),ue--;for(ee<$&&(le=ee,ee=$,$=le,Z=!0),ue=0;Q===void 0&&ue<H.length-1;)Q=P.c2p(H[ue]),ue++;for(ue=H.length-1;K===void 0&&ue>0;)K=P.c2p(H[ue]),ue--;K<Q&&(le=Q,Q=K,K=le,se=!0),ne&&(Y=O,q=H,O=_.xfill,H=_.yfill);var xe="default";if(oe?xe=oe==="best"?"smooth":"fast":G._islinear&&F===0&&N===0&&m()&&(xe="fast"),xe!=="fast"){var Le=oe==="best"?0:.5;$=Math.max(-Le*o._length,$),ee=Math.min((1+Le)*o._length,ee),Q=Math.max(-Le*P._length,Q),K=Math.min((1+Le)*P._length,K)}var Ae=Math.round(ee-$),Oe=Math.round(K-Q),ze=$>=o._length||ee<=0||Q>=P._length||K<=0;if(ze){var Ee=z.selectAll("image").data([]);Ee.exit().remove(),l(z);return}var be,Ce;xe==="fast"?(be=J,Ce=he):(be=Ae,Ce=Oe);var Ue=document.createElement("canvas");Ue.width=be,Ue.height=Ce;var He=Ue.getContext("2d",{willReadFrequently:!0}),Ie=a(G,{noNumericCheck:!0,returnArray:!0}),Ge,at;xe==="fast"?(Ge=Z?function(sn){return J-1-sn}:d.identity,at=se?function(sn){return he-1-sn}:d.identity):(Ge=function(sn){return d.constrain(Math.round(o.c2p(O[sn])-$),0,Ae)},at=function(sn){return d.constrain(Math.round(P.c2p(H[sn])-Q),0,Oe)});var lt=at(0),qe=[lt,lt],et=Z?0:1,ft=se?0:1,dt=0,pt=0,At=0,Pt=0,Ht,Je,We,_e,Ne;function ke(sn,yn){if(sn!==void 0){var bn=Ie(sn);return bn[0]=Math.round(bn[0]),bn[1]=Math.round(bn[1]),bn[2]=Math.round(bn[2]),dt+=yn,pt+=bn[0]*yn,At+=bn[1]*yn,Pt+=bn[2]*yn,bn}return[0,0,0,0]}function we(sn,yn,bn,Pn){var Bn=sn[bn.bin0];if(Bn===void 0)return ke(void 0,1);var sa=sn[bn.bin1],Kn=yn[bn.bin0],ra=yn[bn.bin1],$n=sa-Bn||0,ta=Kn-Bn||0,Mr;return sa===void 0?ra===void 0?Mr=0:Kn===void 0?Mr=2*(ra-Bn):Mr=(2*ra-Kn-Bn)*2/3:ra===void 0?Kn===void 0?Mr=0:Mr=(2*Bn-sa-Kn)*2/3:Kn===void 0?Mr=(2*ra-sa-Bn)*2/3:Mr=ra+Bn-sa-Kn,ke(Bn+bn.frac*$n+Pn.frac*(ta+bn.frac*Mr))}if(xe!=="default"){var me=0,Me;try{Me=new Uint8Array(be*Ce*4)}catch{Me=new Array(be*Ce*4)}if(xe==="smooth"){var Se=Y||O,Ve=q||H,Ze=new Array(Se.length),tt=new Array(Ve.length),ct=new Array(Ae),gt=Y?M:g,jt=q?M:g,Kt,Tt,zt;for(ue=0;ue<Se.length;ue++)Ze[ue]=Math.round(o.c2p(Se[ue])-$);for(ue=0;ue<Ve.length;ue++)tt[ue]=Math.round(P.c2p(Ve[ue])-Q);for(ue=0;ue<Ae;ue++)ct[ue]=gt(ue,Ze);for(ie=0;ie<Oe;ie++)for(Kt=jt(ie,tt),Tt=U[Kt.bin0],zt=U[Kt.bin1],ue=0;ue<Ae;ue++,me+=4)Ne=we(Tt,zt,ct[ue],Kt),A(Me,me,Ne)}else for(ie=0;ie<he;ie++)for(_e=U[ie],qe=at(ie),ue=0;ue<J;ue++)Ne=ke(_e[ue],1),me=(qe*J+Ge(ue))*4,A(Me,me,Ne);var qt=He.createImageData(be,Ce);try{qt.data.set(Me)}catch{var Sr=qt.data,yt=Sr.length;for(ie=0;ie<yt;ie++)Sr[ie]=Me[ie]}He.putImageData(qt,0,0)}else{var Zt=Math.floor(F/2),Jt=Math.floor(N/2);for(ie=0;ie<he;ie++)if(_e=U[ie],qe.reverse(),qe[ft]=at(ie+1),!(qe[0]===qe[1]||qe[0]===void 0||qe[1]===void 0))for(Je=Ge(0),Ht=[Je,Je],ue=0;ue<J;ue++)Ht.reverse(),Ht[et]=Ge(ue+1),!(Ht[0]===Ht[1]||Ht[0]===void 0||Ht[1]===void 0)&&(We=_e[ue],Ne=ke(We,(Ht[1]-Ht[0])*(qe[1]-qe[0])),He.fillStyle="rgba("+Ne.join(",")+")",He.fillRect(Ht[0]+Zt,qe[0]+Jt,Ht[1]-Ht[0]-F,qe[1]-qe[0]-N))}pt=Math.round(pt/dt),At=Math.round(At/dt),Pt=Math.round(Pt/dt);var mr=L("rgb("+pt+","+At+","+Pt+")");k._hmpixcount=(k._hmpixcount||0)+dt,k._hmlumcount=(k._hmlumcount||0)+dt*mr.getLuminance();var sr=z.selectAll("image").data(x);sr.enter().append("svg:image").attr({xmlns:h.svg,preserveAspectRatio:"none"}),sr.attr({height:Oe,width:Ae,x:$,y:Q,"xlink:href":Ue.toDataURL("image/png")}),xe==="fast"&&!oe&&sr.attr("style",f),l(z);var vt=G.texttemplate;if(vt){var it=i(G),xt={type:"linear",range:[it.min,it.max],_separators:o._separators,_numFormat:o._numFormat},St=G.type==="histogram2dcontour",Rt=G.type==="contour",Lt=Rt?1:0,Ot=Rt?he-1:he,Nt=Rt?1:0,Xt=Rt?J-1:J,ur=[];for(ue=Lt;ue<Ot;ue++){var cr;if(Rt)cr=_.y[ue];else if(St){if(ue===0||ue===he-1)continue;cr=_.y[ue]}else if(_.yCenter)cr=_.yCenter[ue];else{if(ue+1===he&&_.y[ue+1]===void 0)continue;cr=(_.y[ue]+_.y[ue+1])/2}var dr=Math.round(P.c2p(cr));if(!(0>dr||dr>P._length))for(ie=Nt;ie<Xt;ie++){var Ye;if(Rt)Ye=_.x[ie];else if(St){if(ie===0||ie===J-1)continue;Ye=_.x[ie]}else if(_.xCenter)Ye=_.xCenter[ie];else{if(ie+1===J&&_.x[ie+1]===void 0)continue;Ye=(_.x[ie]+_.x[ie+1])/2}var je=Math.round(o.c2p(Ye));if(!(0>je||je>o._length)){var It=r({x:Ye,y:cr},G,k._fullLayout);It.x=Ye,It.y=cr;var Dt=_.z[ue][ie];Dt===void 0?(It.z="",It.zLabel=""):(It.z=Dt,It.zLabel=T.tickText(xt,Dt,"hover").text);var Yt=_.text&&_.text[ue]&&_.text[ue][ie];(Yt===void 0||Yt===!1)&&(Yt=""),It.text=Yt;var tr=d.texttemplateString(vt,It,k._fullLayout._d3locale,It,G._meta||{});if(tr){var fr=tr.split("<br>"),rr=fr.length,Ft=0;for(ce=0;ce<rr;ce++)Ft=Math.max(Ft,fr[ce].length);ur.push({l:rr,c:Ft,t:tr,x:je,y:dr,z:Dt})}}}}var hr=G.textfont,br=hr.family,yr=hr.size,vr=k._fullLayout.font.size;if(!yr||yr==="auto"){var Gr=1/0,_r=1/0,Dr=0,pn=0;for(ce=0;ce<ur.length;ce++){var nn=ur[ce];if(Dr=Math.max(Dr,nn.l),pn=Math.max(pn,nn.c),ce<ur.length-1){var Un=ur[ce+1],Tn=Math.abs(Un.x-nn.x),Cr=Math.abs(Un.y-nn.y);Tn&&(Gr=Math.min(Gr,Tn)),Cr&&(_r=Math.min(_r,Cr))}}!isFinite(Gr)||!isFinite(_r)?yr=vr:(Gr-=F,_r-=N,Gr/=pn,_r/=Dr,Gr/=s/2,_r/=s,yr=Math.min(Math.floor(Gr),Math.floor(_r),vr))}if(yr<=0||!isFinite(yr))return;var Lr=function(sn){return sn.x},Zr=function(sn){return sn.y-yr*(sn.l*s/2-1)},Wr=v(z).data(ur);Wr.enter().append("g").classed(S,1).append("text").attr("text-anchor","middle").each(function(sn){var yn=p.select(this),bn=hr.color;(!bn||bn==="auto")&&(bn=t.contrast("rgba("+Ie(sn.z).join()+")")),yn.attr("data-notex",1).call(y.positionText,Lr(sn),Zr(sn)).call(C.font,br,yr,bn).text(sn.t).call(y.convertToTspans,k)})}})};function g(k,w){var E=w.length-2,b=d.constrain(d.findBin(k,w),0,E),o=w[b],P=w[b+1],x=d.constrain(b+(k-o)/(P-o)-.5,0,E),z=Math.round(x),_=Math.abs(x-z);return!x||x===E||!_?{bin0:z,bin1:z,frac:0}:{bin0:z,frac:_,bin1:Math.round(z+_/(x-z))}}function M(k,w){var E=w.length-1,b=d.constrain(d.findBin(k,w),0,E),o=w[b],P=w[b+1],x=(k-o)/(P-o)||0;return x<=0?{bin0:b,bin1:b,frac:0}:x<.5?{bin0:b,bin1:b+1,frac:x}:{bin0:b+1,bin1:b,frac:1-x}}function A(k,w,E){k[w]=E[0],k[w+1]=E[1],k[w+2]=E[2],k[w+3]=Math.round(E[3]*255)}},70035:function(V,B,e){var p=e(39898);V.exports=function(n){p.select(n).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},49901:function(V){V.exports=function(e,p,L){var n=L("zsmooth");n===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},67684:function(V,B,e){var p=e(92770),L=e(71828),n=e(73972);V.exports=function(y,r,t,i,a,h){var u=t("z");a=a||"x",h=h||"y";var s,m;if(u===void 0||!u.length)return 0;if(L.isArray1D(u)){s=t(a),m=t(h);var f=L.minRowLength(s),S=L.minRowLength(m);if(f===0||S===0)return 0;r._length=Math.min(f,S,u.length)}else{if(s=C(a,t),m=C(h,t),!T(u))return 0;t("transpose"),r._length=null}if(y.type==="heatmapgl")return!0;var v=n.getComponentMethod("calendars","handleTraceDefaults");return v(y,r,[a,h],i),!0};function C(d,y){var r=y(d),t=r?y(d+"type","array"):"scaled";return t==="scaled"&&(y(d+"0"),y("d"+d)),r}function T(d){for(var y=!0,r=!1,t=!1,i,a=0;a<d.length;a++){if(i=d[a],!L.isArrayOrTypedArray(i)){y=!1;break}i.length>0&&(r=!0);for(var h=0;h<i.length;h++)if(p(i[h])){t=!0;break}}return y&&r&&t}},16063:function(V,B,e){for(var p=e(21606),L=e(50693),n=e(1426).extendFlat,C=e(30962).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],d={},y=0;y<T.length;y++){var r=T[y];d[r]=p[r]}d.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(d,L("",{cLetter:"z",autoColorDflt:!1})),V.exports=C(d,"calc","nested")},59560:function(V,B,e){var p=e(9330).gl_heatmap2d,L=e(89298),n=e(78614);function C(r,t){this.scene=r,this.uid=t,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(r.glplot,this.options),this.heatmap._trace=this}var T=C.prototype;T.handlePick=function(r){var t=this.options,i=t.shape,a=r.pointId,h=a%i[0],u=Math.floor(a/i[0]),s=a;return{trace:this,dataCoord:r.dataCoord,traceCoord:[t.x[h],t.y[u],t.z[s]],textLabel:this.textLabels[a],name:this.name,pointIndex:[u,h],hoverinfo:this.hoverinfo}},T.update=function(r,t){var i=t[0];this.index=r.index,this.name=r.name,this.hoverinfo=r.hoverinfo;var a=i.z;this.options.z=[].concat.apply([],a);var h=a[0].length,u=a.length;this.options.shape=[h,u],this.options.x=i.x,this.options.y=i.y,this.options.zsmooth=r.zsmooth;var s=d(r);this.options.colorLevels=s.colorLevels,this.options.colorValues=s.colorValues,this.textLabels=[].concat.apply([],r.text),this.heatmap.update(this.options);var m=this.scene.xaxis,f=this.scene.yaxis,S,v;r.zsmooth===!1&&(S={ppad:i.x[1]-i.x[0]},v={ppad:i.y[1]-i.y[0]}),r._extremes[m._id]=L.findExtremes(m,i.x,S),r._extremes[f._id]=L.findExtremes(f,i.y,v)},T.dispose=function(){this.heatmap.dispose()};function d(r){for(var t=r.colorscale,i=r.zmin,a=r.zmax,h=t.length,u=new Array(h),s=new Array(4*h),m=0;m<h;m++){var f=t[m],S=n(f[1]);u[m]=i+f[0]*(a-i);for(var v=0;v<4;v++)s[4*m+v]=S[v]}return{colorLevels:u,colorValues:s}}function y(r,t,i){var a=new C(r,t.uid);return a.update(t,i),a}V.exports=y},19600:function(V,B,e){var p=e(71828),L=e(67684),n=e(1586),C=e(16063);V.exports=function(d,y,r,t){function i(h,u){return p.coerce(d,y,C,h,u)}var a=L(d,y,i,t);if(!a){y.visible=!1;return}i("text"),i("zsmooth"),n(d,y,t,i,{prefix:"",cLetter:"z"})}},3325:function(V,B,e){V.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(V,B,e){var p=e(1486),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(5386).si,T=e(41940),d=e(17656),y=e(72406),r=e(1426).extendFlat;V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:r({},p.text,{}),hovertext:r({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:d("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:d("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:y.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:r({},p.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir}}},42174:function(V){V.exports=function(e,p){for(var L=e.length,n=0,C=0;C<L;C++)p[C]?(e[C]/=p[C],n+=e[C]):e[C]=null;return n}},17656:function(V){V.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(V,B,e){var p=e(92770);V.exports={count:function(L,n,C){return C[L]++,1},sum:function(L,n,C,T){var d=T[n];return p(d)?(d=Number(d),C[L]+=d,d):0},avg:function(L,n,C,T,d){var y=T[n];return p(y)&&(y=Number(y),C[L]+=y,d[L]++),0},min:function(L,n,C,T){var d=T[n];if(p(d))if(d=Number(d),p(C[L])){if(C[L]>d){var y=d-C[L];return C[L]=d,y}}else return C[L]=d,d;return 0},max:function(L,n,C,T){var d=T[n];if(p(d))if(d=Number(d),p(C[L])){if(C[L]<d){var y=d-C[L];return C[L]=d,y}}else return C[L]=d,d;return 0}}},40965:function(V,B,e){var p=e(50606),L=p.ONEAVGYEAR,n=p.ONEAVGMONTH,C=p.ONEDAY,T=p.ONEHOUR,d=p.ONEMIN,y=p.ONESEC,r=e(89298).tickIncrement;V.exports=function(s,m,f,S,v){var l=-1.1*m,g=-.1*m,M=s-g,A=f[0],k=f[1],w=Math.min(t(A+g,A+M,S,v),t(k+g,k+M,S,v)),E=Math.min(t(A+l,A+g,S,v),t(k+l,k+g,S,v)),b,o;if(w>E&&E<Math.abs(k-A)/4e3?(b=w,o=!1):(b=Math.min(w,E),o=!0),S.type==="date"&&b>C){var P=b===L?1:6,x=b===L?"M12":"M1";return function(z,_){var G=S.c2d(z,L,v),F=G.indexOf("-",P);F>0&&(G=G.substr(0,F));var N=S.d2c(G,0,v);if(N<z){var U=r(N,x,!1,v);(N+U)/2<z+s&&(N=U)}return _&&o?r(N,x,!0,v):N}}return function(z,_){var G=b*Math.round(z/b);return G+b/10<z&&G+b*.9<z+s&&(G+=b),_&&o&&(G-=b),G}};function t(u,s,m,f){if(u*s<=0)return 1/0;for(var S=Math.abs(s-u),v=m.type==="date",l=i(S,v),g=0;g<10;g++){var M=i(l*80,v);if(l===M)break;if(a(M,u,s,v,m,f))l=M;else break}return l}function i(u,s){return s&&u>y?u>C?u>L*1.1?L:u>n*1.1?n:C:u>T?T:u>d?d:y:Math.pow(10,Math.floor(Math.log(u)/Math.LN10))}function a(u,s,m,f,S,v){if(f&&u>C){var l=h(s,S,v),g=h(m,S,v),M=u===L?0:1;return l[M]!==g[M]}return Math.floor(m/u)-Math.floor(s/u)>.1}function h(u,s,m){var f=s.c2d(u,L,m).split("-");return f[0]===""&&(f.unshift(),f[0]="-"+f[0]),f}},72138:function(V,B,e){var p=e(92770),L=e(71828),n=e(73972),C=e(89298),T=e(75341),d=e(59575),y=e(36362),r=e(42174),t=e(40965);function i(m,f){var S=[],v=[],l=f.orientation==="h",g=C.getFromId(m,l?f.yaxis:f.xaxis),M=l?"y":"x",A={x:"y",y:"x"}[M],k=f[M+"calendar"],w=f.cumulative,E,b=a(m,f,g,M),o=b[0],P=b[1],x=typeof o.size=="string",z=[],_=x?z:o,G=[],F=[],N=[],U=0,O=f.histnorm,H=f.histfunc,Y=O.indexOf("density")!==-1,q,ne,oe;w.enabled&&Y&&(O=O.replace(/ ?density$/,""),Y=!1);var he=H==="max"||H==="min",J=he?null:0,Z=d.count,se=y[O],$=!1,ee=function(He){return g.r2c(He,0,k)},le;for(L.isArrayOrTypedArray(f[A])&&H!=="count"&&(le=f[A],$=H==="avg",Z=d[H]),E=ee(o.start),ne=ee(o.end)+(E-C.tickIncrement(E,o.size,!1,k))/1e6;E<ne&&S.length<1e6&&(q=C.tickIncrement(E,o.size,!1,k),S.push((E+q)/2),v.push(J),N.push([]),z.push(E),Y&&G.push(1/(q-E)),$&&F.push(0),!(q<=E));)E=q;z.push(E),!x&&g.type==="date"&&(_={start:ee(_.start),end:ee(_.end),size:_.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var Q=f["_"+M+"bingroup"],K={leftGap:1/0,rightGap:1/0};Q&&(m._fullLayout._roundFnOpts[Q]||(m._fullLayout._roundFnOpts[Q]=K),K=m._fullLayout._roundFnOpts[Q]);var ue=v.length,ie=!0,ce=K.leftGap,xe=K.rightGap,Le={};for(E=0;E<P.length;E++){var Ae=P[E];oe=L.findBin(Ae,_),oe>=0&&oe<ue&&(U+=Z(oe,E,v,le,F),ie&&N[oe].length&&Ae!==P[N[oe][0]]&&(ie=!1),N[oe].push(E),Le[E]=oe,ce=Math.min(ce,Ae-z[oe]),xe=Math.min(xe,z[oe+1]-Ae))}K.leftGap=ce,K.rightGap=xe;var Oe;ie||(Oe=function(He,Ie){return function(){var Ge=m._fullLayout._roundFnOpts[Q];return t(Ge.leftGap,Ge.rightGap,z,g,k)(He,Ie)}}),$&&(U=r(v,F)),se&&se(v,U,G),w.enabled&&s(v,w.direction,w.currentbin);var ze=Math.min(S.length,v.length),Ee=[],be=0,Ce=ze-1;for(E=0;E<ze;E++)if(v[E]){be=E;break}for(E=ze-1;E>=be;E--)if(v[E]){Ce=E;break}for(E=be;E<=Ce;E++)if(p(S[E])&&p(v[E])){var Ue={p:S[E],s:v[E],b:0};w.enabled||(Ue.pts=N[E],ie?Ue.ph0=Ue.ph1=N[E].length?P[N[E][0]]:S[E]:(f._computePh=!0,Ue.ph0=Oe(z[E]),Ue.ph1=Oe(z[E+1],!0))),Ee.push(Ue)}return Ee.length===1&&(Ee[0].width1=C.tickIncrement(Ee[0].p,o.size,!1,k)-Ee[0].p),T(Ee,f),L.isArrayOrTypedArray(f.selectedpoints)&&L.tagSelected(Ee,f,Le),Ee}function a(m,f,S,v,l){var g=v+"bins",M=m._fullLayout,A=f["_"+v+"bingroup"],k=M._histogramBinOpts[A],w=M.barmode==="overlay",E,b,o,P,x,z,_,G=function(Ae){return S.r2c(Ae,0,P)},F=function(Ae){return S.c2r(Ae,0,P)},N=S.type==="date"?function(Ae){return Ae||Ae===0?L.cleanDate(Ae,null,P):null}:function(Ae){return p(Ae)?Number(Ae):null};function U(Ae,Oe,ze){Oe[Ae+"Found"]?(Oe[Ae]=N(Oe[Ae]),Oe[Ae]===null&&(Oe[Ae]=ze[Ae])):(z[Ae]=Oe[Ae]=ze[Ae],L.nestedProperty(b[0],g+"."+Ae).set(ze[Ae]))}if(f["_"+v+"autoBinFinished"])delete f["_"+v+"autoBinFinished"];else{b=k.traces;var O=[],H=!0,Y=!1,q=!1;for(E=0;E<b.length;E++)if(o=b[E],o.visible){var ne=k.dirs[E];x=o["_"+ne+"pos0"]=S.makeCalcdata(o,ne),O=L.concat(O,x),delete o["_"+v+"autoBinFinished"],f.visible===!0&&(H?H=!1:(delete o._autoBin,o["_"+v+"autoBinFinished"]=1),n.traceIs(o,"2dMap")&&(Y=!0),o.type==="histogram2dcontour"&&(q=!0))}P=b[0][v+"calendar"];var oe=C.autoBin(O,S,k.nbins,Y,P,k.sizeFound&&k.size),he=b[0]._autoBin={};if(z=he[k.dirs[0]]={},q&&(k.size||(oe.start=F(C.tickIncrement(G(oe.start),oe.size,!0,P))),k.end===void 0&&(oe.end=F(C.tickIncrement(G(oe.end),oe.size,!1,P)))),w&&!n.traceIs(f,"2dMap")&&oe._dataSpan===0&&S.type!=="category"&&S.type!=="multicategory"&&f.bingroup===""&&typeof f.xbins>"u"){if(l)return[oe,x,!0];oe=h(m,f,S,v,g)}_=o.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?oe.start=F(C.tickIncrement(G(oe.start),oe.size,!0,P)):oe.end=F(C.tickIncrement(G(oe.end),oe.size,!1,P))),k.size=oe.size,k.sizeFound||(z.size=oe.size,L.nestedProperty(b[0],g+".size").set(oe.size)),U("start",k,oe),U("end",k,oe)}x=f["_"+v+"pos0"],delete f["_"+v+"pos0"];var J=f._input[g]||{},Z=L.extendFlat({},k),se=k.start,$=S.r2l(J.start),ee=$!==void 0;if((k.startFound||ee)&&$!==S.r2l(se)){var le=ee?$:L.aggNums(Math.min,null,x),Q={type:S.type==="category"||S.type==="multicategory"?"linear":S.type,r2l:S.r2l,dtick:k.size,tick0:se,calendar:P,range:[le,C.tickIncrement(le,k.size,!1,P)].map(S.l2r)},K=C.tickFirst(Q);K>S.r2l(le)&&(K=C.tickIncrement(K,k.size,!0,P)),Z.start=S.l2r(K),ee||L.nestedProperty(f,g+".start").set(Z.start)}var ue=k.end,ie=S.r2l(J.end),ce=ie!==void 0;if((k.endFound||ce)&&ie!==S.r2l(ue)){var xe=ce?ie:L.aggNums(Math.max,null,x);Z.end=S.l2r(xe),ce||L.nestedProperty(f,g+".start").set(Z.end)}var Le="autobin"+v;return f._input[Le]===!1&&(f._input[g]=L.extendFlat({},f[g]||{}),delete f._input[Le],delete f[Le]),[Z,x]}function h(m,f,S,v,l){var g=m._fullLayout,M=u(m,f),A=!1,k=1/0,w=[f],E,b,o;for(E=0;E<M.length;E++)if(b=M[E],b===f)A=!0;else if(!A)o=g._histogramBinOpts[b["_"+v+"bingroup"]],k=Math.min(k,o.size||b[l].size);else{var P=a(m,b,S,v,!0),x=P[0],z=P[2];b["_"+v+"autoBinFinished"]=1,b["_"+v+"pos0"]=P[1],z?w.push(b):k=Math.min(k,x.size)}var _=new Array(w.length);for(E=0;E<w.length;E++)for(var G=w[E]["_"+v+"pos0"],F=0;F<G.length;F++)if(G[F]!==void 0){_[E]=G[F];break}for(isFinite(k)||(k=L.distinctVals(_).minDiff),E=0;E<w.length;E++){b=w[E];var N=b[v+"calendar"],U={start:S.c2r(_[E]-k/2,0,N),end:S.c2r(_[E]+k/2,0,N),size:k};b._input[l]=b[l]=U,o=g._histogramBinOpts[b["_"+v+"bingroup"]],o&&L.extendFlat(o,U)}return f[l]}function u(m,f){for(var S=f.xaxis,v=f.yaxis,l=f.orientation,g=[],M=m._fullData,A=0;A<M.length;A++){var k=M[A];k.type==="histogram"&&k.visible===!0&&k.orientation===l&&k.xaxis===S&&k.yaxis===v&&g.push(k)}return g}function s(m,f,S){var v,l,g;function M(k){g=m[k],m[k]/=2}function A(k){l=m[k],m[k]=g+l/2,g+=l}if(S==="half")if(f==="increasing")for(M(0),v=1;v<m.length;v++)A(v);else for(M(m.length-1),v=m.length-2;v>=0;v--)A(v);else if(f==="increasing"){for(v=1;v<m.length;v++)m[v]+=m[v-1];S==="exclude"&&(m.unshift(0),m.pop())}else{for(v=m.length-2;v>=0;v--)m[v]+=m[v+1];S==="exclude"&&(m.push(0),m.shift())}}V.exports={calc:i,calcAllAutoBins:a}},72406:function(V){V.exports={eventDataKeys:["binNumber"]}},82222:function(V,B,e){var p=e(71828),L=e(41675),n=e(73972).traceIs,C=e(26125),T=p.nestedProperty,d=e(99082).getAxisGroup,y=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],r=["x","y"];V.exports=function(i,a){var h=a._histogramBinOpts={},u=[],s={},m=[],f,S,v,l,g,M,A;function k(q,ne){return p.coerce(f._input,f,f._module.attributes,q,ne)}function w(q){return q.orientation==="v"?"x":"y"}function E(q,ne){var oe=L.getFromTrace({_fullLayout:a},q,ne);return oe.type}function b(q,ne,oe){var he=q.uid+"__"+oe;ne||(ne=he);var J=E(q,oe),Z=q[oe+"calendar"]||"",se=h[ne],$=!0;se&&(J===se.axType&&Z===se.calendar?($=!1,se.traces.push(q),se.dirs.push(oe)):(ne=he,J!==se.axType&&p.warn(["Attempted to group the bins of trace",q.index,"set on a","type:"+J,"axis","with bins on","type:"+se.axType,"axis."].join(" ")),Z!==se.calendar&&p.warn(["Attempted to group the bins of trace",q.index,"set with a",Z,"calendar","with bins",se.calendar?"on a "+se.calendar+" calendar":"w/o a set calendar"].join(" ")))),$&&(h[ne]={traces:[q],dirs:[oe],axType:J,calendar:q[oe+"calendar"]||""}),q["_"+oe+"bingroup"]=ne}for(g=0;g<i.length;g++)f=i[g],n(f,"histogram")&&(u.push(f),delete f._xautoBinFinished,delete f._yautoBinFinished,n(f,"2dMap")||C(f._input,f,a,k));var o=a._alignmentOpts||{};for(g=0;g<u.length;g++){if(f=u[g],v="",!n(f,"2dMap")){if(l=w(f),a.barmode==="group"&&f.alignmentgroup){var P=f[l+"axis"],x=d(a,P)+f.orientation;(o[x]||{})[f.alignmentgroup]&&(v=x)}!v&&a.barmode!=="overlay"&&(v=d(a,f.xaxis)+d(a,f.yaxis)+w(f))}v?(s[v]||(s[v]=[]),s[v].push(f)):m.push(f)}for(v in s){if(S=s[v],S.length===1){m.push(S[0]);continue}var z=!1;for(S.length&&(f=S[0],z=k("bingroup")),v=z||v,g=0;g<S.length;g++){f=S[g];var _=f._input.bingroup;_&&_!==v&&p.warn(["Trace",f.index,"must match","within bingroup",v+".","Ignoring its bingroup:",_,"setting."].join(" ")),f.bingroup=v,b(f,v,w(f))}}for(g=0;g<m.length;g++){f=m[g];var G=k("bingroup");if(n(f,"2dMap"))for(A=0;A<2;A++){l=r[A];var F=k(l+"bingroup",G?G+"__"+l:null);b(f,F,l)}else b(f,G,w(f))}for(v in h){var N=h[v];for(S=N.traces,M=0;M<y.length;M++){var U=y[M],O=U.name,H,Y;if(!(O==="nbins"&&N.sizeFound)){for(g=0;g<S.length;g++){if(f=S[g],l=N.dirs[g],H=U.aStr[l],T(f._input,H).get()!==void 0){N[O]=k(H),N[O+"Found"]=!0;break}Y=(f._autoBin||{})[l]||{},Y[O]&&T(f,H).set(Y[O])}if(O==="start"||O==="end")for(;g<S.length;g++)f=S[g],f["_"+l+"bingroup"]&&(Y=(f._autoBin||{})[l]||{},k(H,Y[O]));O==="nbins"&&!N.sizeFound&&!N.nbinsFound&&(f=S[0],N[O]=k(H))}}}}},11385:function(V,B,e){var p=e(73972),L=e(71828),n=e(7901),C=e(90769).handleText,T=e(98340),d=e(7745);V.exports=function(r,t,i,a){function h(E,b){return L.coerce(r,t,d,E,b)}var u=h("x"),s=h("y"),m=h("cumulative.enabled");m&&(h("cumulative.direction"),h("cumulative.currentbin")),h("text");var f=h("textposition");C(r,t,a,h,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h("hovertext"),h("hovertemplate"),h("xhoverformat"),h("yhoverformat");var S=h("orientation",s&&!u?"h":"v"),v=S==="v"?"x":"y",l=S==="v"?"y":"x",g=u&&s?Math.min(L.minRowLength(u)&&L.minRowLength(s)):L.minRowLength(t[v]||[]);if(!g){t.visible=!1;return}t._length=g;var M=p.getComponentMethod("calendars","handleTraceDefaults");M(r,t,["x","y"],a);var A=t[l];A&&h("histfunc"),h("histnorm"),h("autobin"+v),T(r,t,h,i,a),L.coerceSelectionMarkerOpacity(t,h);var k=(t.marker.line||{}).color,w=p.getComponentMethod("errorbars","supplyDefaults");w(r,t,k||n.defaultLine,{axis:"y"}),w(r,t,k||n.defaultLine,{axis:"x",inherit:"y"})}},84402:function(V){V.exports=function(e,p,L,n,C){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var T=Array.isArray(C)?n[0].pts[C[0]][C[1]]:n[C].pts;e.pointNumbers=T,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var d;if(L._indexToPoints){d=[];for(var y=0;y<T.length;y++)d=d.concat(L._indexToPoints[T[y]])}else d=T;e.pointIndices=d}return e}},76440:function(V,B,e){var p=e(95423).hoverPoints,L=e(89298).hoverLabelText;V.exports=function(C,T,d,y,r){var t=p(C,T,d,y,r);if(t){C=t[0];var i=C.cd[C.index],a=C.cd[0].trace;if(!a.cumulative.enabled){var h=a.orientation==="h"?"y":"x";C[h+"Label"]=L(C[h+"a"],[i.ph0,i.ph1],a[h+"hoverformat"])}return t}}},36071:function(V,B,e){V.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(V){V.exports={percent:function(B,e){for(var p=B.length,L=100/e,n=0;n<p;n++)B[n]*=L},probability:function(B,e){for(var p=B.length,L=0;L<p;L++)B[L]/=e},density:function(B,e,p,L){var n=B.length;L=L||1;for(var C=0;C<n;C++)B[C]*=p[C]*L},"probability density":function(B,e,p,L){var n=B.length;L&&(e/=L);for(var C=0;C<n;C++)B[C]*=p[C]/e}}},35361:function(V,B,e){var p=e(7745),L=e(17656),n=e(21606),C=e(9012),T=e(12663).axisHoverFormat,d=e(5386).fF,y=e(5386).si,r=e(50693),t=e(1426).extendFlat;V.exports=t({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:t({},p.bingroup,{}),xbingroup:t({},p.bingroup,{}),ybingroup:t({},p.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:d({},{keys:"z"}),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:t({},C.showlegend,{dflt:!1})},r("",{cLetter:"z",autoColorDflt:!1}))},17562:function(V,B,e){var p=e(71828),L=e(89298),n=e(59575),C=e(36362),T=e(42174),d=e(40965),y=e(72138).calcAllAutoBins;V.exports=function(h,u){var s=L.getFromId(h,u.xaxis),m=L.getFromId(h,u.yaxis),f=u.xcalendar,S=u.ycalendar,v=function(Ne){return s.r2c(Ne,0,f)},l=function(Ne){return m.r2c(Ne,0,S)},g=function(Ne){return s.c2r(Ne,0,f)},M=function(Ne){return m.c2r(Ne,0,S)},A,k,w,E,b=y(h,u,s,"x"),o=b[0],P=b[1],x=y(h,u,m,"y"),z=x[0],_=x[1],G=u._length;P.length>G&&P.splice(G,P.length-G),_.length>G&&_.splice(G,_.length-G);var F=[],N=[],U=[],O=typeof o.size=="string",H=typeof z.size=="string",Y=[],q=[],ne=O?Y:o,oe=H?q:z,he=0,J=[],Z=[],se=u.histnorm,$=u.histfunc,ee=se.indexOf("density")!==-1,le=$==="max"||$==="min",Q=le?null:0,K=n.count,ue=C[se],ie=!1,ce=[],xe=[],Le="z"in u?u.z:"marker"in u&&Array.isArray(u.marker.color)?u.marker.color:"";Le&&$!=="count"&&(ie=$==="avg",K=n[$]);var Ae=o.size,Oe=v(o.start),ze=v(o.end)+(Oe-L.tickIncrement(Oe,Ae,!1,f))/1e6;for(A=Oe;A<ze;A=L.tickIncrement(A,Ae,!1,f))N.push(Q),Y.push(A),ie&&U.push(0);Y.push(A);var Ee=N.length,be=(A-Oe)/Ee,Ce=g(Oe+be/2),Ue=z.size,He=l(z.start),Ie=l(z.end)+(He-L.tickIncrement(He,Ue,!1,S))/1e6;for(A=He;A<Ie;A=L.tickIncrement(A,Ue,!1,S)){F.push(N.slice()),q.push(A);var Ge=new Array(Ee);for(k=0;k<Ee;k++)Ge[k]=[];Z.push(Ge),ie&&J.push(U.slice())}q.push(A);var at=F.length,lt=(A-He)/at,qe=M(He+lt/2);ee&&(ce=r(N.length,ne,be,O),xe=r(F.length,oe,lt,H)),!O&&s.type==="date"&&(ne=t(v,ne)),!H&&m.type==="date"&&(oe=t(l,oe));var et=!0,ft=!0,dt=new Array(Ee),pt=new Array(at),At=1/0,Pt=1/0,Ht=1/0,Je=1/0;for(A=0;A<G;A++){var We=P[A],_e=_[A];w=p.findBin(We,ne),E=p.findBin(_e,oe),w>=0&&w<Ee&&E>=0&&E<at&&(he+=K(w,A,F[E],Le,J[E]),Z[E][w].push(A),et&&(dt[w]===void 0?dt[w]=We:dt[w]!==We&&(et=!1)),ft&&(pt[E]===void 0?pt[E]=_e:pt[E]!==_e&&(ft=!1)),At=Math.min(At,We-Y[w]),Pt=Math.min(Pt,Y[w+1]-We),Ht=Math.min(Ht,_e-q[E]),Je=Math.min(Je,q[E+1]-_e))}if(ie)for(E=0;E<at;E++)he+=T(F[E],J[E]);if(ue)for(E=0;E<at;E++)ue(F[E],he,ce,xe[E]);return{x:P,xRanges:i(Y,et&&dt,At,Pt,s,f),x0:Ce,dx:be,y:_,yRanges:i(q,ft&&pt,Ht,Je,m,S),y0:qe,dy:lt,z:F,pts:Z}};function r(a,h,u,s){var m=new Array(a),f;if(s)for(f=0;f<a;f++)m[f]=1/(h[f+1]-h[f]);else{var S=1/u;for(f=0;f<a;f++)m[f]=S}return m}function t(a,h){return{start:a(h.start),end:a(h.end),size:h.size}}function i(a,h,u,s,m,f){var S,v=a.length-1,l=new Array(v),g=d(u,s,a,m,f);for(S=0;S<v;S++){var M=(h||[])[S];l[S]=M===void 0?[g(a[S]),g(a[S+1],!0)]:[M,M]}return l}},93888:function(V,B,e){var p=e(71828),L=e(75238),n=e(49901),C=e(1586),T=e(58623),d=e(35361);V.exports=function(r,t,i,a){function h(u,s){return p.coerce(r,t,d,u,s)}L(r,t,h,a),t.visible!==!1&&(n(r,t,h,a),C(r,t,a,h,{prefix:"",cLetter:"z"}),h("hovertemplate"),T(h,a),h("xhoverformat"),h("yhoverformat"))}},76128:function(V,B,e){var p=e(46248),L=e(89298).hoverLabelText;V.exports=function(C,T,d,y,r){var t=p(C,T,d,y,r);if(t){C=t[0];var i=C.index,a=i[0],h=i[1],u=C.cd[0],s=u.trace,m=u.xRanges[h],f=u.yRanges[a];return C.xLabel=L(C.xa,[m[0],m[1]],s.xhoverformat),C.yLabel=L(C.ya,[f[0],f[1]],s.yhoverformat),t}}},43905:function(V,B,e){V.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(V,B,e){var p=e(73972),L=e(71828);V.exports=function(C,T,d,y){var r=d("x"),t=d("y"),i=L.minRowLength(r),a=L.minRowLength(t);if(!i||!a){T.visible=!1;return}T._length=Math.min(i,a);var h=p.getComponentMethod("calendars","handleTraceDefaults");h(C,T,["x","y"],y);var u=d("z")||d("marker.color");u&&d("histfunc"),d("histnorm"),d("autobinx"),d("autobiny")}},99066:function(V,B,e){var p=e(35361),L=e(70600),n=e(50693),C=e(12663).axisHoverFormat,T=e(1426).extendFlat;V.exports=T({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:T({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(V,B,e){var p=e(71828),L=e(75238),n=e(67217),C=e(8724),T=e(58623),d=e(99066);V.exports=function(r,t,i,a){function h(s,m){return p.coerce(r,t,d,s,m)}function u(s){return p.coerce2(r,t,d,s)}L(r,t,h,a),t.visible!==!1&&(n(r,t,h,u),C(r,t,h,a),h("xhoverformat"),h("yhoverformat"),h("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&T(h,a))}},35902:function(V,B,e){V.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(50693),C=e(27670).Y,T=e(34e3),d=e(57564),y=e(45802),r=e(43473),t=e(1426).extendFlat,i=e(79952).u;V.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:y.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:t({colors:d.marker.colors,line:d.marker.line,pattern:i,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:d.leaf,pathbar:y.pathbar,text:T.text,textinfo:d.textinfo,texttemplate:L({editType:"plot"},{keys:r.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:d.hoverinfo,hovertemplate:p({},{keys:r.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:y.outsidetextfont,textposition:y.textposition,sort:T.sort,root:d.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},96346:function(V,B,e){var p=e(74875);B.name="icicle",B.plot=function(L,n,C,T){p.plotBasePlot(B.name,L,n,C,T)},B.clean=function(L,n,C,T){p.cleanBasePlot(B.name,L,n,C,T)}},46584:function(V,B,e){var p=e(52147);B.y=function(L,n){return p.calc(L,n)},B.T=function(L){return p._runCrossTraceCalc("icicle",L)}},56524:function(V,B,e){var p=e(71828),L=e(46291),n=e(7901),C=e(27670).c,T=e(90769).handleText,d=e(97313).TEXTPAD,y=e(37434).handleMarkerDefaults,r=e(21081),t=r.hasColorscale,i=r.handleDefaults;V.exports=function(h,u,s,m){function f(w,E){return p.coerce(h,u,L,w,E)}var S=f("labels"),v=f("parents");if(!S||!S.length||!v||!v.length){u.visible=!1;return}var l=f("values");l&&l.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),f("tiling.orientation"),f("tiling.flip"),f("tiling.pad");var g=f("text");f("texttemplate"),u.texttemplate||f("textinfo",p.isArrayOrTypedArray(g)?"text+label":"label"),f("hovertext"),f("hovertemplate");var M=f("pathbar.visible"),A="auto";T(h,u,m,f,A,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition"),y(h,u,m,f);var k=u._hasColorscale=t(h,"marker","colors")||(h.marker||{}).coloraxis;k&&i(h,u,m,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",k?1:.7),u._hovered={marker:{line:{width:2,color:n.contrast(m.paper_bgcolor)}}},M&&(f("pathbar.thickness",u.pathbar.textfont.size+2*d),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),C(u,m,f),u._length=null}},90666:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),T=e(21538),d=e(82454).styleOne,y=e(43473),r=e(2791),t=e(83523),i=e(24714).formatSliceLabel,a=!1;V.exports=function(u,s,m,f,S){var v=S.width,l=S.height,g=S.viewX,M=S.viewY,A=S.pathSlice,k=S.toMoveInsideSlice,w=S.strTransform,E=S.hasTransition,b=S.handleSlicesExit,o=S.makeUpdateSliceInterpolator,P=S.makeUpdateTextInterpolator,x=S.prevEntry,z={},_=u._context.staticPlot,G=u._fullLayout,F=s[0],N=F.trace,U=N.textposition.indexOf("left")!==-1,O=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,Y=T(m,[v,l],{flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,orientation:N.tiling.orientation,pad:{inner:N.tiling.pad},maxDepth:N._maxDepth}),q=Y.descendants(),ne=1/0,oe=-1/0;q.forEach(function($){var ee=$.depth;ee>=N._maxDepth?($.x0=$.x1=($.x0+$.x1)/2,$.y0=$.y1=($.y0+$.y1)/2):(ne=Math.min(ne,ee),oe=Math.max(oe,ee))}),f=f.data(q,r.getPtId),N._maxVisibleLayers=isFinite(oe)?oe-ne+1:0,f.enter().append("g").classed("slice",!0),b(f,a,z,[v,l],A),f.order();var he=null;if(E&&x){var J=r.getPtId(x);f.each(function($){he===null&&r.getPtId($)===J&&(he={x0:$.x0,x1:$.x1,y0:$.y0,y1:$.y1})})}var Z=function(){return he||{x0:0,x1:v,y0:0,y1:l}},se=f;return E&&(se=se.transition().each("end",function(){var $=p.select(this);r.setSliceCursor($,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),se.each(function($){$._x0=g($.x0),$._x1=g($.x1),$._y0=M($.y0),$._y1=M($.y1),$._hoverX=g($.x1-N.tiling.pad),$._hoverY=M(H?$.y1-N.tiling.pad/2:$.y0+N.tiling.pad/2);var ee=p.select(this),le=L.ensureSingle(ee,"path","surface",function(ie){ie.style("pointer-events",_?"none":"all")});E?le.transition().attrTween("d",function(ie){var ce=o(ie,a,Z(),[v,l],{orientation:N.tiling.orientation,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1});return function(xe){return A(ce(xe))}}):le.attr("d",A),ee.call(t,m,u,s,{styleOne:d,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),le.call(d,$,N,u,{hovered:!1}),$.x0===$.x1||$.y0===$.y1?$._text="":$._text=i($,m,N,s,G)||"";var Q=L.ensureSingle(ee,"g","slicetext"),K=L.ensureSingle(Q,"text","",function(ie){ie.attr("data-notex",1)}),ue=L.ensureUniformFontSize(u,r.determineTextFont(N,$,G.font));K.text($._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":U?"start":"middle").call(n.font,ue).call(C.convertToTspans,u),$.textBB=n.bBox(K.node()),$.transform=k($,{fontSize:ue.size}),$.transform.fontSize=ue.size,E?K.transition().attrTween("transform",function(ie){var ce=P(ie,a,Z(),[v,l]);return function(xe){return w(ce(xe))}}):K.attr("transform",w($))}),he}},69816:function(V,B,e){V.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(V){V.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(V,B,e){var p=e(71828),L=e(92894);V.exports=function(C,T){function d(y,r){return p.coerce(C,T,L,y,r)}d("iciclecolorway",T.colorway),d("extendiciclecolors")}},21538:function(V,B,e){var p=e(674),L=e(14102);V.exports=function(C,T,d){var y=d.flipX,r=d.flipY,t=d.orientation==="h",i=d.maxDepth,a=T[0],h=T[1];i&&(a=(C.height+1)*T[0]/Math.min(C.height+1,i),h=(C.height+1)*T[1]/Math.min(C.height+1,i));var u=p.partition().padding(d.pad.inner).size(t?[T[1],a]:[T[0],h])(C);return(t||y||r)&&L(u,T,{swapXY:t,flipX:y,flipY:r}),u}},85596:function(V,B,e){var p=e(80694),L=e(90666);V.exports=function(C,T,d,y){return p(C,T,d,y,{type:"icicle",drawDescendants:L})}},82454:function(V,B,e){var p=e(39898),L=e(7901),n=e(71828),C=e(72597).resizeText,T=e(43467);function d(r){var t=r._fullLayout._iciclelayer.selectAll(".trace");C(r,t,"icicle"),t.each(function(i){var a=p.select(this),h=i[0],u=h.trace;a.style("opacity",u.opacity),a.selectAll("path.surface").each(function(s){p.select(this).call(y,s,u,r)})})}function y(r,t,i,a){var h=t.data.data,u=!t.children,s=h.i,m=n.castOption(i,s,"marker.line.color")||L.defaultLine,f=n.castOption(i,s,"marker.line.width")||0;r.call(T,t,i,a).style("stroke-width",f).call(L.stroke,m).style("opacity",u?i.leaf.opacity:null)}V.exports={style:d,styleOne:y}},17230:function(V,B,e){for(var p=e(9012),L=e(5386).fF,n=e(1426).extendFlat,C=e(51877).colormodel,T=["rgb","rgba","rgba256","hsl","hsla"],d=[],y=[],r=0;r<T.length;r++){var t=C[T[r]];d.push("For the `"+T[r]+"` colormodel, it is ["+(t.zminDflt||t.min).join(", ")+"]."),y.push("For the `"+T[r]+"` colormodel, it is ["+(t.zmaxDflt||t.max).join(", ")+"].")}V.exports=n({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:T,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:n({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(V,B,e){var p=e(71828),L=e(51877),n=e(92770),C=e(89298),T=e(71828).maxRowLength,d=e(67395).A;V.exports=function(a,h){var u,s;if(h._hasZ)u=h.z.length,s=T(h.z);else if(h._hasSource){var m=d(h.source);u=m.height,s=m.width}var f=C.getFromId(a,h.xaxis||"x"),S=C.getFromId(a,h.yaxis||"y"),v=f.d2c(h.x0)-h.dx/2,l=S.d2c(h.y0)-h.dy/2,g,M=[v,v+s*h.dx],A=[l,l+u*h.dy];if(f&&f.type==="log")for(g=0;g<s;g++)M.push(v+g*h.dx);if(S&&S.type==="log")for(g=0;g<u;g++)A.push(l+g*h.dy);h._extremes[f._id]=C.findExtremes(f,M),h._extremes[S._id]=C.findExtremes(S,A),h._scaler=t(h);var k={x0:v,y0:l,z:h.z,w:s,h:u};return[k]};function y(i,a,h,u){return function(s){return p.constrain((s-i)*a,h,u)}}function r(i,a){return function(h){return p.constrain(h,i,a)}}function t(i){var a=L.colormodel[i.colormodel],h=a.colormodel||i.colormodel,u=h.length;i._sArray=[];for(var s=0;s<u;s++)a.min[s]!==i.zmin[s]||a.max[s]!==i.zmax[s]?i._sArray.push(y(i.zmin[s],(a.max[s]-a.min[s])/(i.zmax[s]-i.zmin[s]),a.min[s],a.max[s])):i._sArray.push(r(a.min[s],a.max[s]));return function(m){for(var f=m.slice(0,u),S=0;S<u;S++){var v=f[S];if(!n(v))return!1;f[S]=i._sArray[S](v)}return f}}},51877:function(V){V.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var e=B.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var e=B.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(V,B,e){var p=e(71828),L=e(17230),n=e(51877),C=e(25095).IMAGE_URL_PREFIX;V.exports=function(d,y){function r(a,h){return p.coerce(d,y,L,a,h)}r("source"),y.source&&!y.source.match(C)&&delete y.source,y._hasSource=!!y.source;var t=r("z");if(y._hasZ=!(t===void 0||!t.length||!t[0]||!t[0].length),!y._hasZ&&!y._hasSource){y.visible=!1;return}r("x0"),r("y0"),r("dx"),r("dy");var i;y._hasZ?(r("colormodel","rgb"),i=n.colormodel[y.colormodel],r("zmin",i.zminDflt||i.min),r("zmax",i.zmaxDflt||i.max)):y._hasSource&&(y.colormodel="rgba256",i=n.colormodel[y.colormodel],y.zmin=i.zminDflt,y.zmax=i.zmaxDflt),r("zsmooth"),r("text"),r("hovertext"),r("hovertemplate"),y._length=null}},30835:function(V){V.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},67395:function(V,B,e){var p=e(33575),L=e(25095).IMAGE_URL_PREFIX,n=e(12856).Buffer;B.A=function(C){var T=C.replace(L,""),d=new n(T,"base64");return p(d)}},28749:function(V,B,e){var p=e(30211),L=e(71828),n=L.isArrayOrTypedArray,C=e(51877);V.exports=function(d,y,r){var t=d.cd[0],i=t.trace,a=d.xa,h=d.ya;if(!(p.inbox(y-t.x0,y-(t.x0+t.w*i.dx),0)>0||p.inbox(r-t.y0,r-(t.y0+t.h*i.dy),0)>0)){var u=Math.floor((y-t.x0)/i.dx),s=Math.floor(Math.abs(r-t.y0)/i.dy),m;if(i._hasZ?m=t.z[s][u]:i._hasSource&&(m=i._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(u,s,1,1).data),!!m){var f=t.hi||i.hoverinfo,S;if(f){var v=f.split("+");v.indexOf("all")!==-1&&(v=["color"]),v.indexOf("color")!==-1&&(S=!0)}var l=C.colormodel[i.colormodel],g=l.colormodel||i.colormodel,M=g.length,A=i._scaler(m),k=l.suffix,w=[];(i.hovertemplate||S)&&(w.push("["+[A[0]+k[0],A[1]+k[1],A[2]+k[2]].join(", ")),M===4&&w.push(", "+A[3]+k[3]),w.push("]"),w=w.join(""),d.extraText=g.toUpperCase()+": "+w);var E;n(i.hovertext)&&n(i.hovertext[s])?E=i.hovertext[s][u]:n(i.text)&&n(i.text[s])&&(E=i.text[s][u]);var b=h.c2p(t.y0+(s+.5)*i.dy),o=t.x0+(u+.5)*i.dx,P=t.y0+(s+.5)*i.dy,x="["+m.slice(0,i.colormodel.length).join(", ")+"]";return[L.extendFlat(d,{index:[s,u],x0:a.c2p(t.x0+u*i.dx),x1:a.c2p(t.x0+(u+1)*i.dx),y0:b,y1:b,color:A,xVal:o,xLabelVal:o,yVal:P,yLabelVal:P,zLabelVal:x,text:E,hovertemplateLabels:{zLabel:x,colorLabel:w,"color[0]Label":A[0]+k[0],"color[1]Label":A[1]+k[1],"color[2]Label":A[2]+k[2],"color[3]Label":A[3]+k[3]}})]}}}},94507:function(V,B,e){V.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(V,B,e){var p=e(39898),L=e(71828),n=L.strTranslate,C=e(77922),T=e(51877),d=e(3883),y=e(32396).STYLE;V.exports=function(t,i,a,h){var u=i.xaxis,s=i.yaxis,m=!t._context._exportedPlot&&d();L.makeTraceGroups(h,a,"im").each(function(f){var S=p.select(this),v=f[0],l=v.trace,g=(l.zsmooth==="fast"||l.zsmooth===!1&&m)&&!l._hasZ&&l._hasSource&&u.type==="linear"&&s.type==="linear";l._realImage=g;var M=v.z,A=v.x0,k=v.y0,w=v.w,E=v.h,b=l.dx,o=l.dy,P,x,z,_,G,F;for(F=0;P===void 0&&F<w;)P=u.c2p(A+F*b),F++;for(F=w;x===void 0&&F>0;)x=u.c2p(A+F*b),F--;for(F=0;_===void 0&&F<E;)_=s.c2p(k+F*o),F++;for(F=E;G===void 0&&F>0;)G=s.c2p(k+F*o),F--;if(x<P&&(z=x,x=P,P=z),G<_&&(z=_,_=G,G=z),!g){var N=.5;P=Math.max(-N*u._length,P),x=Math.min((1+N)*u._length,x),_=Math.max(-N*s._length,_),G=Math.min((1+N)*s._length,G)}var U=Math.round(x-P),O=Math.round(G-_),H=U<=0||O<=0;if(H){var Y=S.selectAll("image").data([]);Y.exit().remove();return}function q(Q){var K=document.createElement("canvas");K.width=U,K.height=O;var ue=K.getContext("2d",{willReadFrequently:!0}),ie=function(He){return L.constrain(Math.round(u.c2p(A+He*b)-P),0,U)},ce=function(He){return L.constrain(Math.round(s.c2p(k+He*o)-_),0,O)},xe=T.colormodel[l.colormodel],Le=xe.colormodel||l.colormodel,Ae=xe.fmt,Oe;for(F=0;F<v.w;F++){var ze=ie(F),Ee=ie(F+1);if(!(Ee===ze||isNaN(Ee)||isNaN(ze)))for(var be=0;be<v.h;be++){var Ce=ce(be),Ue=ce(be+1);Ue===Ce||isNaN(Ue)||isNaN(Ce)||!Q(F,be)||(Oe=l._scaler(Q(F,be)),Oe?ue.fillStyle=Le+"("+Ae(Oe).join(",")+")":ue.fillStyle="rgba(0,0,0,0)",ue.fillRect(ze,Ce,Ee-ze,Ue-Ce))}}return K}var ne=S.selectAll("image").data([f]);ne.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ne.exit().remove();var oe=l.zsmooth===!1?y:"";if(g){var he=L.simpleMap(u.range,u.r2l),J=L.simpleMap(s.range,s.r2l),Z=he[1]<he[0],se=J[1]>J[0];if(Z||se){var $=P+U/2,ee=_+O/2;oe+="transform:"+n($+"px",ee+"px")+"scale("+(Z?-1:1)+","+(se?-1:1)+")"+n(-$+"px",-ee+"px")+";"}}ne.attr("style",oe);var le=new Promise(function(Q){if(l._hasZ)Q();else if(l._hasSource)if(l._canvas&&l._canvas.el.width===w&&l._canvas.el.height===E&&l._canvas.source===l.source)Q();else{var K=document.createElement("canvas");K.width=w,K.height=E;var ue=K.getContext("2d",{willReadFrequently:!0});l._image=l._image||new Image;var ie=l._image;ie.onload=function(){ue.drawImage(ie,0,0),l._canvas={el:K,source:l.source},Q()},ie.setAttribute("src",l.source)}}).then(function(){var Q,K;if(l._hasZ)K=q(function(ce,xe){var Le=M[xe][ce];return L.isTypedArray(Le)&&(Le=Array.from(Le)),Le}),Q=K.toDataURL("image/png");else if(l._hasSource)if(g)Q=l.source;else{var ue=l._canvas.el.getContext("2d",{willReadFrequently:!0}),ie=ue.getImageData(0,0,w,E).data;K=q(function(ce,xe){var Le=4*(xe*w+ce);return[ie[Le],ie[Le+1],ie[Le+2],ie[Le+3]]}),Q=K.toDataURL("image/png")}ne.attr({"xlink:href":Q,height:O,width:U,x:P,y:_})});t._promises.push(le)})}},12826:function(V,B,e){var p=e(39898);V.exports=function(n){p.select(n).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},54846:function(V,B,e){var p=e(1426).extendFlat,L=e(1426).extendDeep,n=e(30962).overrideAll,C=e(41940),T=e(22399),d=e(27670).Y,y=e(13838),r=e(44467).templatedArray,t=e(22372),i=e(12663).descriptionOnlyNumbers,a=C({editType:"plot",colorEditType:"plot"}),h={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},u={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},s=r("step",L({},h,{range:u}));V.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:d({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:i("value")},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:i("value")},increasing:{symbol:{valType:"string",dflt:t.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:t.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:t.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},h,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:u,visible:p({},y.visible,{dflt:!0}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:p({},y.ticks,{dflt:"outside"}),ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:C({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,editType:"plot"},"plot"),steps:s,threshold:{line:{color:p({},h.line.color,{}),width:p({},h.line.width,{dflt:1}),editType:"plot"},thickness:p({},h.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(V,B,e){var p=e(74875);B.name="indicator",B.plot=function(L,n,C,T){p.plotBasePlot(B.name,L,n,C,T)},B.clean=function(L,n,C,T){p.cleanBasePlot(B.name,L,n,C,T)}},24667:function(V){function B(e,p){var L=[],n=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var C=p._lastValue,T=C;return p._hasDelta&&typeof p.delta.reference=="number"&&(T=p.delta.reference),L[0]={y:n,lastY:C,delta:n-T,relativeDelta:(n-T)/T},L}V.exports={calc:B}},84577:function(V){V.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(V,B,e){var p=e(71828),L=e(54846),n=e(27670).c,C=e(44467),T=e(85501),d=e(84577),y=e(26218),r=e(38701),t=e(96115),i=e(89426);function a(u,s,m,f){function S(G,F){return p.coerce(u,s,L,G,F)}n(s,f,S),S("mode"),s._hasNumber=s.mode.indexOf("number")!==-1,s._hasDelta=s.mode.indexOf("delta")!==-1,s._hasGauge=s.mode.indexOf("gauge")!==-1;var v=S("value");s._range=[0,typeof v=="number"?1.5*v:1];var l=new Array(2),g;s._hasNumber&&(S("number.valueformat"),S("number.font.color",f.font.color),S("number.font.family",f.font.family),S("number.font.size"),s.number.font.size===void 0&&(s.number.font.size=d.defaultNumberFontSize,l[0]=!0),S("number.prefix"),S("number.suffix"),g=s.number.font.size);var M;s._hasDelta&&(S("delta.font.color",f.font.color),S("delta.font.family",f.font.family),S("delta.font.size"),s.delta.font.size===void 0&&(s.delta.font.size=(s._hasNumber?.5:1)*(g||d.defaultNumberFontSize),l[1]=!0),S("delta.reference",s.value),S("delta.relative"),S("delta.valueformat",s.delta.relative?"2%":""),S("delta.increasing.symbol"),S("delta.increasing.color"),S("delta.decreasing.symbol"),S("delta.decreasing.color"),S("delta.position"),S("delta.prefix"),S("delta.suffix"),M=s.delta.font.size),s._scaleNumbers=(!s._hasNumber||l[0])&&(!s._hasDelta||l[1])||!1,S("title.font.color",f.font.color),S("title.font.family",f.font.family),S("title.font.size",.25*(g||M||d.defaultNumberFontSize)),S("title.text");var A,k,w,E;function b(G,F){return p.coerce(A,k,L.gauge,G,F)}function o(G,F){return p.coerce(w,E,L.gauge.axis,G,F)}if(s._hasGauge){A=u.gauge,A||(A={}),k=C.newContainer(s,"gauge"),b("shape");var P=s._isBullet=s.gauge.shape==="bullet";P||S("title.align","center");var x=s._isAngular=s.gauge.shape==="angular";x||S("align","center"),b("bgcolor",f.paper_bgcolor),b("borderwidth"),b("bordercolor"),b("bar.color"),b("bar.line.color"),b("bar.line.width");var z=d.valueThickness*(s.gauge.shape==="bullet"?.5:1);b("bar.thickness",z),T(A,k,{name:"steps",handleItemDefaults:h}),b("threshold.value"),b("threshold.thickness"),b("threshold.line.width"),b("threshold.line.color"),w={},A&&(w=A.axis||{}),E=C.newContainer(k,"axis"),o("visible"),s._range=o("range",s._range);var _={outerTicks:!0};y(w,E,o,"linear"),i(w,E,o,"linear",_),t(w,E,o,"linear",_),r(w,E,o,_)}else S("title.align","center"),S("align","center"),s._isAngular=s._isBullet=!1;s._length=null}function h(u,s){function m(f,S){return p.coerce(u,s,L.gauge.steps,f,S)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}V.exports={supplyDefaults:a}},15154:function(V,B,e){V.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(V,B,e){var p=e(39898),L=e(81684).sX,n=e(81684).k4,C=e(71828),T=C.strScale,d=C.strTranslate,y=C.rad2deg,r=e(18783).MID_SHIFT,t=e(91424),i=e(84577),a=e(63893),h=e(89298),u=e(71453),s=e(52830),m=e(13838),f=e(7901),S={left:"start",center:"middle",right:"end"},v={left:0,center:.5,right:1},l=/[yzafpnmkMGTPEZY]/;function g(_){return _&&_.duration>0}V.exports=function(G,F,N,U){var O=G._fullLayout,H;g(N)&&U&&(H=U()),C.makeTraceGroups(O._indicatorlayer,F,"trace").each(function(Y){var q=Y[0],ne=q.trace,oe=p.select(this),he=ne._hasGauge,J=ne._isAngular,Z=ne._isBullet,se=ne.domain,$={w:O._size.w*(se.x[1]-se.x[0]),h:O._size.h*(se.y[1]-se.y[0]),l:O._size.l+O._size.w*se.x[0],r:O._size.r+O._size.w*(1-se.x[1]),t:O._size.t+O._size.h*(1-se.y[1]),b:O._size.b+O._size.h*se.y[0]},ee=$.l+$.w/2,le=$.t+$.h/2,Q=Math.min($.w/2,$.h),K=i.innerRadius*Q,ue,ie,ce,xe=ne.align||"center";if(ie=le,!he)ue=$.l+v[xe]*$.w,ce=function(Ie){return o(Ie,$.w,$.h)};else if(J&&(ue=ee,ie=le+Q/2,ce=function(Ie){return P(Ie,.9*K)}),Z){var Le=i.bulletPadding,Ae=1-i.bulletNumberDomainSize+Le;ue=$.l+(Ae+(1-Ae)*v[xe])*$.w,ce=function(Ie){return o(Ie,(i.bulletNumberDomainSize-Le)*$.w,$.h)}}k(G,oe,Y,{numbersX:ue,numbersY:ie,numbersScaler:ce,transitionOpts:N,onComplete:H});var Oe,ze;he&&(Oe={range:ne.gauge.axis.range,color:ne.gauge.bgcolor,line:{color:ne.gauge.bordercolor,width:0},thickness:1},ze={range:ne.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ne.gauge.bordercolor,width:ne.gauge.borderwidth},thickness:1});var Ee=oe.selectAll("g.angular").data(J?Y:[]);Ee.exit().remove();var be=oe.selectAll("g.angularaxis").data(J?Y:[]);be.exit().remove(),J&&A(G,oe,Y,{radius:Q,innerRadius:K,gauge:Ee,layer:be,size:$,gaugeBg:Oe,gaugeOutline:ze,transitionOpts:N,onComplete:H});var Ce=oe.selectAll("g.bullet").data(Z?Y:[]);Ce.exit().remove();var Ue=oe.selectAll("g.bulletaxis").data(Z?Y:[]);Ue.exit().remove(),Z&&M(G,oe,Y,{gauge:Ce,layer:Ue,size:$,gaugeBg:Oe,gaugeOutline:ze,transitionOpts:N,onComplete:H});var He=oe.selectAll("text.title").data(Y);He.exit().remove(),He.enter().append("text").classed("title",!0),He.attr("text-anchor",function(){return Z?S.right:S[ne.title.align]}).text(ne.title.text).call(t.font,ne.title.font).call(a.convertToTspans,G),He.attr("transform",function(){var Ie=$.l+$.w*v[ne.title.align],Ge,at=i.titlePadding,lt=t.bBox(He.node());if(he){if(J)if(ne.gauge.axis.visible){var qe=t.bBox(be.node());Ge=qe.top-at-lt.bottom}else Ge=$.t+$.h/2-Q/2-lt.bottom-at;Z&&(Ge=ie-(lt.top+lt.bottom)/2,Ie=$.l-i.bulletPadding*$.w)}else Ge=ne._numbersTop-at-lt.bottom;return d(Ie,Ge)})})};function M(_,G,F,N){var U=F[0].trace,O=N.gauge,H=N.layer,Y=N.gaugeBg,q=N.gaugeOutline,ne=N.size,oe=U.domain,he=N.transitionOpts,J=N.onComplete,Z,se,$,ee,le;O.enter().append("g").classed("bullet",!0),O.attr("transform",d(ne.l,ne.t)),H.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),H.selectAll("g.xbulletaxistick,path,text").remove();var Q=ne.h,K=U.gauge.bar.thickness*Q,ue=oe.x[0],ie=oe.x[0]+(oe.x[1]-oe.x[0])*(U._hasNumber||U._hasDelta?1-i.bulletNumberDomainSize:1);Z=b(_,U.gauge.axis),Z._id="xbulletaxis",Z.domain=[ue,ie],Z.setScale(),se=h.calcTicks(Z),$=h.makeTransTickFn(Z),ee=h.getTickSigns(Z)[2],le=ne.t+ne.h,Z.visible&&(h.drawTicks(_,Z,{vals:Z.ticks==="inside"?h.clipEnds(Z,se):se,layer:H,path:h.makeTickPath(Z,le,ee),transFn:$}),h.drawLabels(_,Z,{vals:se,layer:H,transFn:$,labelFns:h.makeLabelFns(Z,le)}));function ce(be){be.attr("width",function(Ce){return Math.max(0,Z.c2p(Ce.range[1])-Z.c2p(Ce.range[0]))}).attr("x",function(Ce){return Z.c2p(Ce.range[0])}).attr("y",function(Ce){return .5*(1-Ce.thickness)*Q}).attr("height",function(Ce){return Ce.thickness*Q})}var xe=[Y].concat(U.gauge.steps),Le=O.selectAll("g.bg-bullet").data(xe);Le.enter().append("g").classed("bg-bullet",!0).append("rect"),Le.select("rect").call(ce).call(w),Le.exit().remove();var Ae=O.selectAll("g.value-bullet").data([U.gauge.bar]);Ae.enter().append("g").classed("value-bullet",!0).append("rect"),Ae.select("rect").attr("height",K).attr("y",(Q-K)/2).call(w),g(he)?Ae.select("rect").transition().duration(he.duration).ease(he.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()}).attr("width",Math.max(0,Z.c2p(Math.min(U.gauge.axis.range[1],F[0].y)))):Ae.select("rect").attr("width",typeof F[0].y=="number"?Math.max(0,Z.c2p(Math.min(U.gauge.axis.range[1],F[0].y))):0),Ae.exit().remove();var Oe=F.filter(function(){return U.gauge.threshold.value||U.gauge.threshold.value===0}),ze=O.selectAll("g.threshold-bullet").data(Oe);ze.enter().append("g").classed("threshold-bullet",!0).append("line"),ze.select("line").attr("x1",Z.c2p(U.gauge.threshold.value)).attr("x2",Z.c2p(U.gauge.threshold.value)).attr("y1",(1-U.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-U.gauge.threshold.thickness)/2)*Q).call(f.stroke,U.gauge.threshold.line.color).style("stroke-width",U.gauge.threshold.line.width),ze.exit().remove();var Ee=O.selectAll("g.gauge-outline").data([q]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(ce).call(w),Ee.exit().remove()}function A(_,G,F,N){var U=F[0].trace,O=N.size,H=N.radius,Y=N.innerRadius,q=N.gaugeBg,ne=N.gaugeOutline,oe=[O.l+O.w/2,O.t+O.h/2+H/2],he=N.gauge,J=N.layer,Z=N.transitionOpts,se=N.onComplete,$=Math.PI/2;function ee(et){var ft=U.gauge.axis.range[0],dt=U.gauge.axis.range[1],pt=(et-ft)/(dt-ft)*Math.PI-$;return pt<-$?-$:pt>$?$:pt}function le(et){return p.svg.arc().innerRadius((Y+H)/2-et/2*(H-Y)).outerRadius((Y+H)/2+et/2*(H-Y)).startAngle(-$)}function Q(et){et.attr("d",function(ft){return le(ft.thickness).startAngle(ee(ft.range[0])).endAngle(ee(ft.range[1]))()})}var K,ue,ie,ce;he.enter().append("g").classed("angular",!0),he.attr("transform",d(oe[0],oe[1])),J.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),J.selectAll("g.xangularaxistick,path,text").remove(),K=b(_,U.gauge.axis),K.type="linear",K.range=U.gauge.axis.range,K._id="xangularaxis",K.ticklabeloverflow="allow",K.setScale();var xe=function(et){return(K.range[0]-et.x)/(K.range[1]-K.range[0])*Math.PI+Math.PI},Le={},Ae=h.makeLabelFns(K,0),Oe=Ae.labelStandoff;Le.xFn=function(et){var ft=xe(et);return Math.cos(ft)*Oe},Le.yFn=function(et){var ft=xe(et),dt=Math.sin(ft)>0?.2:1;return-Math.sin(ft)*(Oe+et.fontSize*dt)+Math.abs(Math.cos(ft))*(et.fontSize*r)},Le.anchorFn=function(et){var ft=xe(et),dt=Math.cos(ft);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Le.heightFn=function(et,ft,dt){var pt=xe(et);return-.5*(1+Math.sin(pt))*dt};var ze=function(et){return d(oe[0]+H*Math.cos(et),oe[1]-H*Math.sin(et))};ie=function(et){return ze(xe(et))};var Ee=function(et){var ft=xe(et);return ze(ft)+"rotate("+-y(ft)+")"};if(ue=h.calcTicks(K),ce=h.getTickSigns(K)[2],K.visible){ce=K.ticks==="inside"?-1:1;var be=(K.linewidth||1)/2;h.drawTicks(_,K,{vals:ue,layer:J,path:"M"+ce*be+",0h"+ce*K.ticklen,transFn:Ee}),h.drawLabels(_,K,{vals:ue,layer:J,transFn:ie,labelFns:Le})}var Ce=[q].concat(U.gauge.steps),Ue=he.selectAll("g.bg-arc").data(Ce);Ue.enter().append("g").classed("bg-arc",!0).append("path"),Ue.select("path").call(Q).call(w),Ue.exit().remove();var He=le(U.gauge.bar.thickness),Ie=he.selectAll("g.value-arc").data([U.gauge.bar]);Ie.enter().append("g").classed("value-arc",!0).append("path");var Ge=Ie.select("path");g(Z)?(Ge.transition().duration(Z.duration).ease(Z.easing).each("end",function(){se&&se()}).each("interrupt",function(){se&&se()}).attrTween("d",E(He,ee(F[0].lastY),ee(F[0].y))),U._lastValue=F[0].y):Ge.attr("d",typeof F[0].y=="number"?He.endAngle(ee(F[0].y)):"M0,0Z"),Ge.call(w),Ie.exit().remove(),Ce=[];var at=U.gauge.threshold.value;(at||at===0)&&Ce.push({range:[at,at],color:U.gauge.threshold.color,line:{color:U.gauge.threshold.line.color,width:U.gauge.threshold.line.width},thickness:U.gauge.threshold.thickness});var lt=he.selectAll("g.threshold-arc").data(Ce);lt.enter().append("g").classed("threshold-arc",!0).append("path"),lt.select("path").call(Q).call(w),lt.exit().remove();var qe=he.selectAll("g.gauge-outline").data([ne]);qe.enter().append("g").classed("gauge-outline",!0).append("path"),qe.select("path").call(Q).call(w),qe.exit().remove()}function k(_,G,F,N){var U=F[0].trace,O=N.numbersX,H=N.numbersY,Y=U.align||"center",q=S[Y],ne=N.transitionOpts,oe=N.onComplete,he=C.ensureSingle(G,"g","numbers"),J,Z,se,$=[];U._hasNumber&&$.push("number"),U._hasDelta&&($.push("delta"),U.delta.position==="left"&&$.reverse());var ee=he.selectAll("text").data($);ee.enter().append("text"),ee.attr("text-anchor",function(){return q}).attr("class",function(ze){return ze}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),ee.exit().remove();function le(ze,Ee,be,Ce){if(ze.match("s")&&be>=0!=Ce>=0&&!Ee(be).slice(-1).match(l)&&!Ee(Ce).slice(-1).match(l)){var Ue=ze.slice().replace("s","f").replace(/\d+/,function(Ie){return parseInt(Ie)-1}),He=b(_,{tickformat:Ue});return function(Ie){return Math.abs(Ie)<1?h.tickText(He,Ie).text:Ee(Ie)}}else return Ee}function Q(){var ze=b(_,{tickformat:U.number.valueformat},U._range);ze.setScale(),h.prepTicks(ze);var Ee=function(Ie){return h.tickText(ze,Ie).text},be=U.number.suffix,Ce=U.number.prefix,Ue=he.select("text.number");function He(){var Ie=typeof F[0].y=="number"?Ce+Ee(F[0].y)+be:"-";Ue.text(Ie).call(t.font,U.number.font).call(a.convertToTspans,_)}return g(ne)?Ue.transition().duration(ne.duration).ease(ne.easing).each("end",function(){He(),oe&&oe()}).each("interrupt",function(){He(),oe&&oe()}).attrTween("text",function(){var Ie=p.select(this),Ge=n(F[0].lastY,F[0].y);U._lastValue=F[0].y;var at=le(U.number.valueformat,Ee,F[0].lastY,F[0].y);return function(lt){Ie.text(Ce+at(Ge(lt))+be)}}):He(),J=x(Ce+Ee(F[0].y)+be,U.number.font,q,_),Ue}function K(){var ze=b(_,{tickformat:U.delta.valueformat},U._range);ze.setScale(),h.prepTicks(ze);var Ee=function(lt){return h.tickText(ze,lt).text},be=U.delta.suffix,Ce=U.delta.prefix,Ue=function(lt){var qe=U.delta.relative?lt.relativeDelta:lt.delta;return qe},He=function(lt,qe){return lt===0||typeof lt!="number"||isNaN(lt)?"-":(lt>0?U.delta.increasing.symbol:U.delta.decreasing.symbol)+Ce+qe(lt)+be},Ie=function(lt){return lt.delta>=0?U.delta.increasing.color:U.delta.decreasing.color};U._deltaLastValue===void 0&&(U._deltaLastValue=Ue(F[0]));var Ge=he.select("text.delta");Ge.call(t.font,U.delta.font).call(f.fill,Ie({delta:U._deltaLastValue}));function at(){Ge.text(He(Ue(F[0]),Ee)).call(f.fill,Ie(F[0])).call(a.convertToTspans,_)}return g(ne)?Ge.transition().duration(ne.duration).ease(ne.easing).tween("text",function(){var lt=p.select(this),qe=Ue(F[0]),et=U._deltaLastValue,ft=le(U.delta.valueformat,Ee,et,qe),dt=n(et,qe);return U._deltaLastValue=qe,function(pt){lt.text(He(dt(pt),ft)),lt.call(f.fill,Ie({delta:dt(pt)}))}}).each("end",function(){at(),oe&&oe()}).each("interrupt",function(){at(),oe&&oe()}):at(),Z=x(He(Ue(F[0]),Ee),U.delta.font,q,_),Ge}var ue=U.mode+U.align,ie;if(U._hasDelta&&(ie=K(),ue+=U.delta.position+U.delta.font.size+U.delta.font.family+U.delta.valueformat,ue+=U.delta.increasing.symbol+U.delta.decreasing.symbol,se=Z),U._hasNumber&&(Q(),ue+=U.number.font.size+U.number.font.family+U.number.valueformat+U.number.suffix+U.number.prefix,se=J),U._hasDelta&&U._hasNumber){var ce=[(J.left+J.right)/2,(J.top+J.bottom)/2],xe=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],Le,Ae,Oe=.75*U.delta.font.size;U.delta.position==="left"&&(Le=z(U,"deltaPos",0,-1*(J.width*v[U.align]+Z.width*(1-v[U.align])+Oe),ue,Math.min),Ae=ce[1]-xe[1],se={width:J.width+Z.width+Oe,height:Math.max(J.height,Z.height),left:Z.left+Le,right:J.right,top:Math.min(J.top,Z.top+Ae),bottom:Math.max(J.bottom,Z.bottom+Ae)}),U.delta.position==="right"&&(Le=z(U,"deltaPos",0,J.width*(1-v[U.align])+Z.width*v[U.align]+Oe,ue,Math.max),Ae=ce[1]-xe[1],se={width:J.width+Z.width+Oe,height:Math.max(J.height,Z.height),left:J.left,right:Z.right+Le,top:Math.min(J.top,Z.top+Ae),bottom:Math.max(J.bottom,Z.bottom+Ae)}),U.delta.position==="bottom"&&(Le=null,Ae=Z.height,se={width:Math.max(J.width,Z.width),height:J.height+Z.height,left:Math.min(J.left,Z.left),right:Math.max(J.right,Z.right),top:J.bottom-J.height,bottom:J.bottom+Z.height}),U.delta.position==="top"&&(Le=null,Ae=J.top,se={width:Math.max(J.width,Z.width),height:J.height+Z.height,left:Math.min(J.left,Z.left),right:Math.max(J.right,Z.right),top:J.bottom-J.height-Z.height,bottom:J.bottom}),ie.attr({dx:Le,dy:Ae})}(U._hasNumber||U._hasDelta)&&he.attr("transform",function(){var ze=N.numbersScaler(se);ue+=ze[2];var Ee=z(U,"numbersScale",1,ze[0],ue,Math.min),be;U._scaleNumbers||(Ee=1),U._isAngular?be=H-Ee*se.bottom:be=H-Ee*(se.top+se.bottom)/2,U._numbersTop=Ee*se.top+be;var Ce=se[Y];Y==="center"&&(Ce=(se.left+se.right)/2);var Ue=O-Ee*Ce;return Ue=z(U,"numbersTranslate",0,Ue,ue,Math.max),d(Ue,be)+T(Ee)})}function w(_){_.each(function(G){f.stroke(p.select(this),G.line.color)}).each(function(G){f.fill(p.select(this),G.color)}).style("stroke-width",function(G){return G.line.width})}function E(_,G,F){return function(){var N=L(G,F);return function(U){return _.endAngle(N(U))()}}}function b(_,G,F){var N=_._fullLayout,U=C.extendFlat({type:"linear",ticks:"outside",range:F,showline:!0},G),O={type:"linear",_id:"x"+G._id},H={letter:"x",font:N.font,noHover:!0,noTickson:!0};function Y(q,ne){return C.coerce(U,O,m,q,ne)}return u(U,O,Y,H,N),s(U,O,Y,H),O}function o(_,G,F){var N=Math.min(G/_.width,F/_.height);return[N,_,G+"x"+F]}function P(_,G){var F=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),N=G/F;return[N,_,G]}function x(_,G,F,N){var U=document.createElementNS("http://www.w3.org/2000/svg","text"),O=p.select(U);return O.text(_).attr("x",0).attr("y",0).attr("text-anchor",F).attr("data-unformatted",_).call(a.convertToTspans,N).call(t.font,G),t.bBox(O.node())}function z(_,G,F,N,U,O){var H="_cache"+G;_[H]&&_[H].key===U||(_[H]={key:U,value:F});var Y=C.aggNums(O,null,[_[H].value,N],2);return _[H].value=Y,Y}},16249:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(2418),T=e(9012),d=e(1426).extendFlat,y=e(30962).overrideAll;function r(a){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function t(a){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var i=V.exports=y(d({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:r(),y:r(),z:r()},caps:{x:t(),y:t(),z:t()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:d({},T.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:d({},T.hoverinfo)}),"calc","nested");i.flatshading.dflt=!0,i.lighting.facenormalsepsilon.dflt=0,i.x.editType=i.y.editType=i.z.editType=i.value.editType="calc+clearAxisTypes",i.transforms=void 0},56959:function(V,B,e){var p=e(78803),L=e(88489).processGrid,n=e(88489).filter;V.exports=function(T,d){d._len=Math.min(d.x.length,d.y.length,d.z.length,d.value.length),d._x=n(d.x,d._len),d._y=n(d.y,d._len),d._z=n(d.z,d._len),d._value=n(d.value,d._len);var y=L(d);d._gridFill=y.fill,d._Xs=y.Xs,d._Ys=y.Ys,d._Zs=y.Zs,d._len=y.len;for(var r=1/0,t=-1/0,i=0;i<d._len;i++){var a=d._value[i];r=Math.min(r,a),t=Math.max(t,a)}d._minValues=r,d._maxValues=t,d._vMin=d.isomin===void 0||d.isomin===null?r:d.isomin,d._vMax=d.isomax===void 0||d.isomin===null?t:d.isomax,p(T,d,{vals:[d._vMin,d._vMax],containerStr:"",cLetter:"c"})}},22674:function(V,B,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,n=e(71828).isArrayOrTypedArray,C=e(78614),T=e(21081).extractOpts,d=e(90060),y=function(u,s){for(var m=s.length-1;m>0;m--){var f=Math.min(s[m],s[m-1]),S=Math.max(s[m],s[m-1]);if(S>f&&f<u&&u<=S)return{id:m,distRatio:(S-u)/(S-f)}}return{id:0,distRatio:0}};function r(u,s,m){this.scene=u,this.uid=m,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var t=r.prototype;t.handlePick=function(u){if(u.object===this.mesh){var s=u.data.index,m=this.data._meshX[s],f=this.data._meshY[s],S=this.data._meshZ[s],v=this.data._Ys.length,l=this.data._Zs.length,g=y(m,this.data._Xs).id,M=y(f,this.data._Ys).id,A=y(S,this.data._Zs).id,k=u.index=A+l*M+l*v*g;u.traceCoordinate=[this.data._meshX[k],this.data._meshY[k],this.data._meshZ[k],this.data._value[k]];var w=this.data.hovertext||this.data.text;return n(w)&&w[k]!==void 0?u.textLabel=w[k]:w&&(u.textLabel=w),!0}},t.update=function(u){var s=this.scene,m=s.fullSceneLayout;this.data=a(u);function f(M,A,k,w){return A.map(function(E){return M.d2l(E,0,w)*k})}var S=d(f(m.xaxis,u._meshX,s.dataScale[0],u.xcalendar),f(m.yaxis,u._meshY,s.dataScale[1],u.ycalendar),f(m.zaxis,u._meshZ,s.dataScale[2],u.zcalendar)),v=d(u._meshI,u._meshJ,u._meshK),l={positions:S,cells:v,lightPosition:[u.lightposition.x,u.lightposition.y,u.lightposition.z],ambient:u.lighting.ambient,diffuse:u.lighting.diffuse,specular:u.lighting.specular,roughness:u.lighting.roughness,fresnel:u.lighting.fresnel,vertexNormalsEpsilon:u.lighting.vertexnormalsepsilon,faceNormalsEpsilon:u.lighting.facenormalsepsilon,opacity:u.opacity,contourEnable:u.contour.show,contourColor:C(u.contour.color).slice(0,3),contourWidth:u.contour.width,useFacetNormals:u.flatshading},g=T(u);l.vertexIntensity=u._meshIntensity,l.vertexIntensityBounds=[g.min,g.max],l.colormap=L(u),this.mesh.update(l)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function a(u){u._meshI=[],u._meshJ=[],u._meshK=[];var s=u.surface.show,m=u.spaceframe.show,f=u.surface.fill,S=u.spaceframe.fill,v=!1,l=!1,g=0,M,A,k=u._Xs,w=u._Ys,E=u._Zs,b=k.length,o=w.length,P=E.length,x=i.indexOf(u._gridFill.replace(/-/g,"").replace(/\+/g,"")),z=function(_e,Ne,ke){switch(x){case 5:return ke+P*Ne+P*o*_e;case 4:return ke+P*_e+P*b*Ne;case 3:return Ne+o*ke+o*P*_e;case 2:return Ne+o*_e+o*b*ke;case 1:return _e+b*ke+b*P*Ne;default:return _e+b*Ne+b*o*ke}},_=u._minValues,G=u._maxValues,F=u._vMin,N=u._vMax,U,O,H,Y;function q(_e,Ne,ke){for(var we=Y.length,me=A;me<we;me++)if(_e===U[me]&&Ne===O[me]&&ke===H[me])return me;return-1}function ne(){A=M}function oe(){U=[],O=[],H=[],Y=[],M=0,ne()}function he(_e,Ne,ke,we){return U.push(_e),O.push(Ne),H.push(ke),Y.push(we),M++,M-1}function J(_e,Ne,ke){return u._meshI.push(_e),u._meshJ.push(Ne),u._meshK.push(ke),g++,g-1}function Z(_e,Ne,ke){for(var we=[],me=0;me<_e.length;me++)we[me]=(_e[me]+Ne[me]+ke[me])/3;return we}function se(_e,Ne,ke){for(var we=[],me=0;me<_e.length;me++)we[me]=_e[me]*(1-ke)+ke*Ne[me];return we}var $;function ee(_e){$=_e}function le(_e,Ne){var ke=_e[0],we=_e[1],me=_e[2],Me=Z(ke,we,me),Se=Math.sqrt(1-$),Ve=se(Me,ke,Se),Ze=se(Me,we,Se),tt=se(Me,me,Se),ct=Ne[0],gt=Ne[1],jt=Ne[2];return{xyzv:[[ke,we,Ze],[Ze,Ve,ke],[we,me,tt],[tt,Ze,we],[me,ke,Ve],[Ve,tt,me]],abc:[[ct,gt,-1],[-1,-1,ct],[gt,jt,-1],[-1,-1,gt],[jt,ct,-1],[-1,-1,jt]]}}function Q(_e,Ne){return _e==="all"||_e===null?!0:_e.indexOf(Ne)>-1}function K(_e,Ne){return _e===null?Ne:_e}function ue(_e,Ne,ke){ne();var we=[Ne],me=[ke];if($>=1)we=[Ne],me=[ke];else if($>0){var Me=le(Ne,ke);we=Me.xyzv,me=Me.abc}for(var Se=0;Se<we.length;Se++){Ne=we[Se],ke=me[Se];for(var Ve=[],Ze=0;Ze<3;Ze++){var tt=Ne[Ze][0],ct=Ne[Ze][1],gt=Ne[Ze][2],jt=Ne[Ze][3],Kt=ke[Ze]>-1?ke[Ze]:q(tt,ct,gt);Kt>-1?Ve[Ze]=Kt:Ve[Ze]=he(tt,ct,gt,K(_e,jt))}J(Ve[0],Ve[1],Ve[2])}}function ie(_e,Ne,ke){var we=function(me,Me,Se){ue(_e,[Ne[me],Ne[Me],Ne[Se]],[ke[me],ke[Me],ke[Se]])};we(0,1,2),we(2,3,0)}function ce(_e,Ne,ke){var we=function(me,Me,Se){ue(_e,[Ne[me],Ne[Me],Ne[Se]],[ke[me],ke[Me],ke[Se]])};we(0,1,2),we(3,0,1),we(2,3,0),we(1,2,3)}function xe(_e,Ne,ke,we){var me=_e[3];me<ke&&(me=ke),me>we&&(me=we);for(var Me=(_e[3]-me)/(_e[3]-Ne[3]+1e-9),Se=[],Ve=0;Ve<4;Ve++)Se[Ve]=(1-Me)*_e[Ve]+Me*Ne[Ve];return Se}function Le(_e,Ne,ke){return _e>=Ne&&_e<=ke}function Ae(_e){var Ne=.001*(N-F);return _e>=F-Ne&&_e<=N+Ne}function Oe(_e){for(var Ne=[],ke=0;ke<4;ke++){var we=_e[ke];Ne.push([u._x[we],u._y[we],u._z[we],u._value[we]])}return Ne}var ze=3;function Ee(_e,Ne,ke,we,me,Me){Me||(Me=1),ke=[-1,-1,-1];var Se=!1,Ve=[Le(Ne[0][3],we,me),Le(Ne[1][3],we,me),Le(Ne[2][3],we,me)];if(!Ve[0]&&!Ve[1]&&!Ve[2])return!1;var Ze=function(ct,gt,jt){return Ae(gt[0][3])&&Ae(gt[1][3])&&Ae(gt[2][3])?(ue(ct,gt,jt),!0):Me<ze?Ee(ct,gt,jt,F,N,++Me):!1};if(Ve[0]&&Ve[1]&&Ve[2])return Ze(_e,Ne,ke)||Se;var tt=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ct){if(Ve[ct[0]]&&Ve[ct[1]]&&!Ve[ct[2]]){var gt=Ne[ct[0]],jt=Ne[ct[1]],Kt=Ne[ct[2]],Tt=xe(Kt,gt,we,me),zt=xe(Kt,jt,we,me);Se=Ze(_e,[zt,Tt,gt],[-1,-1,ke[ct[0]]])||Se,Se=Ze(_e,[gt,jt,zt],[ke[ct[0]],ke[ct[1]],-1])||Se,tt=!0}}),tt||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ct){if(Ve[ct[0]]&&!Ve[ct[1]]&&!Ve[ct[2]]){var gt=Ne[ct[0]],jt=Ne[ct[1]],Kt=Ne[ct[2]],Tt=xe(jt,gt,we,me),zt=xe(Kt,gt,we,me);Se=Ze(_e,[zt,Tt,gt],[-1,-1,ke[ct[0]]])||Se,tt=!0}}),Se}function be(_e,Ne,ke,we){var me=!1,Me=Oe(Ne),Se=[Le(Me[0][3],ke,we),Le(Me[1][3],ke,we),Le(Me[2][3],ke,we),Le(Me[3][3],ke,we)];if(!Se[0]&&!Se[1]&&!Se[2]&&!Se[3])return me;if(Se[0]&&Se[1]&&Se[2]&&Se[3])return l&&(me=ce(_e,Me,Ne)||me),me;var Ve=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ze){if(Se[Ze[0]]&&Se[Ze[1]]&&Se[Ze[2]]&&!Se[Ze[3]]){var tt=Me[Ze[0]],ct=Me[Ze[1]],gt=Me[Ze[2]],jt=Me[Ze[3]];if(l)me=ue(_e,[tt,ct,gt],[Ne[Ze[0]],Ne[Ze[1]],Ne[Ze[2]]])||me;else{var Kt=xe(jt,tt,ke,we),Tt=xe(jt,ct,ke,we),zt=xe(jt,gt,ke,we);me=ue(null,[Kt,Tt,zt],[-1,-1,-1])||me}Ve=!0}}),Ve||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ze){if(Se[Ze[0]]&&Se[Ze[1]]&&!Se[Ze[2]]&&!Se[Ze[3]]){var tt=Me[Ze[0]],ct=Me[Ze[1]],gt=Me[Ze[2]],jt=Me[Ze[3]],Kt=xe(gt,tt,ke,we),Tt=xe(gt,ct,ke,we),zt=xe(jt,ct,ke,we),qt=xe(jt,tt,ke,we);l?(me=ue(_e,[tt,qt,Kt],[Ne[Ze[0]],-1,-1])||me,me=ue(_e,[ct,Tt,zt],[Ne[Ze[1]],-1,-1])||me):me=ie(null,[Kt,Tt,zt,qt],[-1,-1,-1,-1])||me,Ve=!0}}),Ve)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ze){if(Se[Ze[0]]&&!Se[Ze[1]]&&!Se[Ze[2]]&&!Se[Ze[3]]){var tt=Me[Ze[0]],ct=Me[Ze[1]],gt=Me[Ze[2]],jt=Me[Ze[3]],Kt=xe(ct,tt,ke,we),Tt=xe(gt,tt,ke,we),zt=xe(jt,tt,ke,we);l?(me=ue(_e,[tt,Kt,Tt],[Ne[Ze[0]],-1,-1])||me,me=ue(_e,[tt,Tt,zt],[Ne[Ze[0]],-1,-1])||me,me=ue(_e,[tt,zt,Kt],[Ne[Ze[0]],-1,-1])||me):me=ue(null,[Kt,Tt,zt],[-1,-1,-1])||me,Ve=!0}}),me}function Ce(_e,Ne,ke,we,me,Me,Se,Ve,Ze,tt,ct){var gt=!1;return v&&(Q(_e,"A")&&(gt=be(null,[Ne,ke,we,Me],tt,ct)||gt),Q(_e,"B")&&(gt=be(null,[ke,we,me,Ze],tt,ct)||gt),Q(_e,"C")&&(gt=be(null,[ke,Me,Se,Ze],tt,ct)||gt),Q(_e,"D")&&(gt=be(null,[we,Me,Ve,Ze],tt,ct)||gt),Q(_e,"E")&&(gt=be(null,[ke,we,Me,Ze],tt,ct)||gt)),l&&(gt=be(_e,[ke,we,Me,Ze],tt,ct)||gt),gt}function Ue(_e,Ne,ke,we,me,Me,Se,Ve){return[Ve[0]===!0?!0:Ee(_e,Oe([Ne,ke,we]),[Ne,ke,we],Me,Se),Ve[1]===!0?!0:Ee(_e,Oe([we,me,Ne]),[we,me,Ne],Me,Se)]}function He(_e,Ne,ke,we,me,Me,Se,Ve,Ze){return Ve?Ue(_e,Ne,ke,me,we,Me,Se,Ze):Ue(_e,ke,me,we,Ne,Me,Se,Ze)}function Ie(_e,Ne,ke,we,me,Me,Se){var Ve=!1,Ze,tt,ct,gt,jt=function(){Ve=Ee(_e,[Ze,tt,ct],[-1,-1,-1],me,Me)||Ve,Ve=Ee(_e,[ct,gt,Ze],[-1,-1,-1],me,Me)||Ve},Kt=Se[0],Tt=Se[1],zt=Se[2];return Kt&&(Ze=se(Oe([z(Ne,ke-0,we-0)])[0],Oe([z(Ne-1,ke-0,we-0)])[0],Kt),tt=se(Oe([z(Ne,ke-0,we-1)])[0],Oe([z(Ne-1,ke-0,we-1)])[0],Kt),ct=se(Oe([z(Ne,ke-1,we-1)])[0],Oe([z(Ne-1,ke-1,we-1)])[0],Kt),gt=se(Oe([z(Ne,ke-1,we-0)])[0],Oe([z(Ne-1,ke-1,we-0)])[0],Kt),jt()),Tt&&(Ze=se(Oe([z(Ne-0,ke,we-0)])[0],Oe([z(Ne-0,ke-1,we-0)])[0],Tt),tt=se(Oe([z(Ne-0,ke,we-1)])[0],Oe([z(Ne-0,ke-1,we-1)])[0],Tt),ct=se(Oe([z(Ne-1,ke,we-1)])[0],Oe([z(Ne-1,ke-1,we-1)])[0],Tt),gt=se(Oe([z(Ne-1,ke,we-0)])[0],Oe([z(Ne-1,ke-1,we-0)])[0],Tt),jt()),zt&&(Ze=se(Oe([z(Ne-0,ke-0,we)])[0],Oe([z(Ne-0,ke-0,we-1)])[0],zt),tt=se(Oe([z(Ne-0,ke-1,we)])[0],Oe([z(Ne-0,ke-1,we-1)])[0],zt),ct=se(Oe([z(Ne-1,ke-1,we)])[0],Oe([z(Ne-1,ke-1,we-1)])[0],zt),gt=se(Oe([z(Ne-1,ke-0,we)])[0],Oe([z(Ne-1,ke-0,we-1)])[0],zt),jt()),Ve}function Ge(_e,Ne,ke,we,me,Me,Se,Ve,Ze,tt,ct,gt){var jt=_e;return gt?(v&&_e==="even"&&(jt=null),Ce(jt,Ne,ke,we,me,Me,Se,Ve,Ze,tt,ct)):(v&&_e==="odd"&&(jt=null),Ce(jt,Ze,Ve,Se,Me,me,we,ke,Ne,tt,ct))}function at(_e,Ne,ke,we,me){for(var Me=[],Se=0,Ve=0;Ve<Ne.length;Ve++)for(var Ze=Ne[Ve],tt=1;tt<P;tt++)for(var ct=1;ct<o;ct++)Me.push(He(_e,z(Ze,ct-1,tt-1),z(Ze,ct-1,tt),z(Ze,ct,tt-1),z(Ze,ct,tt),ke,we,(Ze+ct+tt)%2,me&&me[Se]?me[Se]:[])),Se++;return Me}function lt(_e,Ne,ke,we,me){for(var Me=[],Se=0,Ve=0;Ve<Ne.length;Ve++)for(var Ze=Ne[Ve],tt=1;tt<b;tt++)for(var ct=1;ct<P;ct++)Me.push(He(_e,z(tt-1,Ze,ct-1),z(tt,Ze,ct-1),z(tt-1,Ze,ct),z(tt,Ze,ct),ke,we,(tt+Ze+ct)%2,me&&me[Se]?me[Se]:[])),Se++;return Me}function qe(_e,Ne,ke,we,me){for(var Me=[],Se=0,Ve=0;Ve<Ne.length;Ve++)for(var Ze=Ne[Ve],tt=1;tt<o;tt++)for(var ct=1;ct<b;ct++)Me.push(He(_e,z(ct-1,tt-1,Ze),z(ct-1,tt,Ze),z(ct,tt-1,Ze),z(ct,tt,Ze),ke,we,(ct+tt+Ze)%2,me&&me[Se]?me[Se]:[])),Se++;return Me}function et(_e,Ne,ke){for(var we=1;we<P;we++)for(var me=1;me<o;me++)for(var Me=1;Me<b;Me++)Ge(_e,z(Me-1,me-1,we-1),z(Me-1,me-1,we),z(Me-1,me,we-1),z(Me-1,me,we),z(Me,me-1,we-1),z(Me,me-1,we),z(Me,me,we-1),z(Me,me,we),Ne,ke,(Me+me+we)%2)}function ft(_e,Ne,ke){l=!0,et(_e,Ne,ke),l=!1}function dt(_e,Ne,ke){v=!0,et(_e,Ne,ke),v=!1}function pt(_e,Ne,ke,we,me,Me){for(var Se=[],Ve=0,Ze=0;Ze<Ne.length;Ze++)for(var tt=Ne[Ze],ct=1;ct<P;ct++)for(var gt=1;gt<o;gt++)Se.push(Ie(_e,tt,gt,ct,ke,we,me[Ze],Me&&Me[Ve]?Me[Ve]:[])),Ve++;return Se}function At(_e,Ne,ke,we,me,Me){for(var Se=[],Ve=0,Ze=0;Ze<Ne.length;Ze++)for(var tt=Ne[Ze],ct=1;ct<b;ct++)for(var gt=1;gt<P;gt++)Se.push(Ie(_e,ct,tt,gt,ke,we,me[Ze],Me&&Me[Ve]?Me[Ve]:[])),Ve++;return Se}function Pt(_e,Ne,ke,we,me,Me){for(var Se=[],Ve=0,Ze=0;Ze<Ne.length;Ze++)for(var tt=Ne[Ze],ct=1;ct<o;ct++)for(var gt=1;gt<b;gt++)Se.push(Ie(_e,gt,ct,tt,ke,we,me[Ze],Me&&Me[Ve]?Me[Ve]:[])),Ve++;return Se}function Ht(_e,Ne){for(var ke=[],we=_e;we<Ne;we++)ke.push(we);return ke}function Je(){for(var _e=0;_e<b;_e++)for(var Ne=0;Ne<o;Ne++)for(var ke=0;ke<P;ke++){var we=z(_e,Ne,ke);he(u._x[we],u._y[we],u._z[we],u._value[we])}}function We(){oe(),Je();var _e=null;if(m&&S&&(ee(S),ft(_e,F,N)),s&&f){ee(f);for(var Ne=u.surface.pattern,ke=u.surface.count,we=0;we<ke;we++){var me=ke===1?.5:we/(ke-1),Me=(1-me)*F+me*N,Se=Math.abs(Me-_),Ve=Math.abs(Me-G),Ze=Se>Ve?[_,Me]:[Me,G];dt(Ne,Ze[0],Ze[1])}}var tt=[[Math.min(F,G),Math.max(F,G)],[Math.min(_,N),Math.max(_,N)]];["x","y","z"].forEach(function(ct){for(var gt=[],jt=0;jt<tt.length;jt++){var Kt=0,Tt=tt[jt][0],zt=tt[jt][1],qt=u.slices[ct];if(qt.show&&qt.fill){ee(qt.fill);var Sr=[],yt=[],Zt=[];if(qt.locations.length)for(var Jt=0;Jt<qt.locations.length;Jt++){var mr=y(qt.locations[Jt],ct==="x"?k:ct==="y"?w:E);mr.distRatio===0?Sr.push(mr.id):mr.id>0&&(yt.push(mr.id),ct==="x"?Zt.push([mr.distRatio,0,0]):ct==="y"?Zt.push([0,mr.distRatio,0]):Zt.push([0,0,mr.distRatio]))}else ct==="x"?Sr=Ht(1,b-1):ct==="y"?Sr=Ht(1,o-1):Sr=Ht(1,P-1);yt.length>0&&(ct==="x"?gt[Kt]=pt(_e,yt,Tt,zt,Zt,gt[Kt]):ct==="y"?gt[Kt]=At(_e,yt,Tt,zt,Zt,gt[Kt]):gt[Kt]=Pt(_e,yt,Tt,zt,Zt,gt[Kt]),Kt++),Sr.length>0&&(ct==="x"?gt[Kt]=at(_e,Sr,Tt,zt,gt[Kt]):ct==="y"?gt[Kt]=lt(_e,Sr,Tt,zt,gt[Kt]):gt[Kt]=qe(_e,Sr,Tt,zt,gt[Kt]),Kt++)}var sr=u.caps[ct];sr.show&&sr.fill&&(ee(sr.fill),ct==="x"?gt[Kt]=at(_e,[0,b-1],Tt,zt,gt[Kt]):ct==="y"?gt[Kt]=lt(_e,[0,o-1],Tt,zt,gt[Kt]):gt[Kt]=qe(_e,[0,P-1],Tt,zt,gt[Kt]),Kt++)}}),g===0&&oe(),u._meshX=U,u._meshY=O,u._meshZ=H,u._meshIntensity=Y,u._Xs=k,u._Ys=w,u._Zs=E}return We(),u}function h(u,s){var m=u.glplot.gl,f=p({gl:m}),S=new r(u,f,s.uid);return f._trace=S,S.update(s),u.glplot.add(f),S}V.exports={findNearestOnAxis:y,generateIsoMeshes:a,createIsosurfaceTrace:h}},82738:function(V,B,e){var p=e(71828),L=e(73972),n=e(16249),C=e(1586);function T(y,r,t,i){function a(h,u){return p.coerce(y,r,n,h,u)}d(y,r,t,i,a)}function d(y,r,t,i,a){var h=a("isomin"),u=a("isomax");u!=null&&h!==void 0&&h!==null&&h>u&&(r.isomin=null,r.isomax=null);var s=a("x"),m=a("y"),f=a("z"),S=a("value");if(!s||!s.length||!m||!m.length||!f||!f.length||!S||!S.length){r.visible=!1;return}var v=L.getComponentMethod("calendars","handleTraceDefaults");v(y,r,["x","y","z"],i),a("valuehoverformat"),["x","y","z"].forEach(function(A){a(A+"hoverformat");var k="caps."+A,w=a(k+".show");w&&a(k+".fill");var E="slices."+A,b=a(E+".show");b&&(a(E+".fill"),a(E+".locations"))});var l=a("spaceframe.show");l&&a("spaceframe.fill");var g=a("surface.show");g&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var M=a("contour.show");M&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(A){a(A)}),C(y,r,i,a,{prefix:"",cLetter:"c"}),r._length=null}V.exports={supplyDefaults:T,supplyIsoDefaults:d}},64943:function(V,B,e){V.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(54532),T=e(9012),d=e(1426).extendFlat;V.exports=d({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:d({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:d({},C.lightposition.x,{dflt:1e5}),y:d({},C.lightposition.y,{dflt:1e5}),z:d({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:d({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:d({},T.hoverinfo,{editType:"calc"}),showlegend:d({},T.showlegend,{dflt:!1})})},82932:function(V,B,e){var p=e(78803);V.exports=function(n,C){C.intensity&&p(n,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},91134:function(V,B,e){var p=e(9330).gl_mesh3d,L=e(9330).delaunay_triangulate,n=e(9330).alpha_shape,C=e(9330).convex_hull,T=e(81697).parseColorScale,d=e(71828).isArrayOrTypedArray,y=e(78614),r=e(21081).extractOpts,t=e(90060);function i(v,l,g){this.scene=v,this.uid=g,this.mesh=l,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var a=i.prototype;a.handlePick=function(v){if(v.object===this.mesh){var l=v.index=v.data.index;v.data._cellCenter?v.traceCoordinate=v.data.dataCoordinate:v.traceCoordinate=[this.data.x[l],this.data.y[l],this.data.z[l]];var g=this.data.hovertext||this.data.text;return d(g)&&g[l]!==void 0?v.textLabel=g[l]:g&&(v.textLabel=g),!0}};function h(v){for(var l=[],g=v.length,M=0;M<g;M++)l[M]=y(v[M]);return l}function u(v,l,g,M){for(var A=[],k=l.length,w=0;w<k;w++)A[w]=v.d2l(l[w],0,M)*g;return A}function s(v){for(var l=[],g=v.length,M=0;M<g;M++)l[M]=Math.round(v[M]);return l}function m(v,l){for(var g=["x","y","z"].indexOf(v),M=[],A=l.length,k=0;k<A;k++)M[k]=[l[k][(g+1)%3],l[k][(g+2)%3]];return L(M)}function f(v,l){for(var g=v.length,M=0;M<g;M++)if(v[M]<=-.5||v[M]>=l-.5)return!1;return!0}a.update=function(v){var l=this.scene,g=l.fullSceneLayout;this.data=v;var M=v.x.length,A=t(u(g.xaxis,v.x,l.dataScale[0],v.xcalendar),u(g.yaxis,v.y,l.dataScale[1],v.ycalendar),u(g.zaxis,v.z,l.dataScale[2],v.zcalendar)),k;if(v.i&&v.j&&v.k){if(v.i.length!==v.j.length||v.j.length!==v.k.length||!f(v.i,M)||!f(v.j,M)||!f(v.k,M))return;k=t(s(v.i),s(v.j),s(v.k))}else v.alphahull===0?k=C(A):v.alphahull>0?k=n(v.alphahull,A):k=m(v.delaunayaxis,A);var w={positions:A,cells:k,lightPosition:[v.lightposition.x,v.lightposition.y,v.lightposition.z],ambient:v.lighting.ambient,diffuse:v.lighting.diffuse,specular:v.lighting.specular,roughness:v.lighting.roughness,fresnel:v.lighting.fresnel,vertexNormalsEpsilon:v.lighting.vertexnormalsepsilon,faceNormalsEpsilon:v.lighting.facenormalsepsilon,opacity:v.opacity,contourEnable:v.contour.show,contourColor:y(v.contour.color).slice(0,3),contourWidth:v.contour.width,useFacetNormals:v.flatshading};if(v.intensity){var E=r(v);this.color="#fff";var b=v.intensitymode;w[b+"Intensity"]=v.intensity,w[b+"IntensityBounds"]=[E.min,E.max],w.colormap=T(v)}else v.vertexcolor?(this.color=v.vertexcolor[0],w.vertexColors=h(v.vertexcolor)):v.facecolor?(this.color=v.facecolor[0],w.cellColors=h(v.facecolor)):(this.color=v.color,w.meshColor=y(v.color));this.mesh.update(w)},a.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function S(v,l){var g=v.glplot.gl,M=p({gl:g}),A=new i(v,M,l.uid);return M._trace=A,A.update(l),v.glplot.add(M),A}V.exports=S},58669:function(V,B,e){var p=e(73972),L=e(71828),n=e(1586),C=e(2418);V.exports=function(d,y,r,t){function i(m,f){return L.coerce(d,y,C,m,f)}function a(m){var f=m.map(function(S){var v=i(S);return v&&L.isArrayOrTypedArray(v)?v:null});return f.every(function(S){return S&&S.length===f[0].length})&&f}var h=a(["x","y","z"]);if(!h){y.visible=!1;return}if(a(["i","j","k"]),y.i&&(!y.j||!y.k)||y.j&&(!y.k||!y.i)||y.k&&(!y.i||!y.j)){y.visible=!1;return}var u=p.getComponentMethod("calendars","handleTraceDefaults");u(d,y,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){i(m)});var s=i("contour.show");s&&(i("contour.color"),i("contour.width")),"intensity"in d?(i("intensity"),i("intensitymode"),n(d,y,t,i,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in d?i("facecolor"):"vertexcolor"in d?i("vertexcolor"):i("color",r)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),y._length=null}},21164:function(V,B,e){V.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(V,B,e){var p=e(71828).extendFlat,L=e(82196),n=e(12663).axisHoverFormat,C=e(79952).P,T=e(77914),d=e(22372),y=d.INCREASING.COLOR,r=d.DECREASING.COLOR,t=L.line;function i(a){return{line:{color:p({},t.color,{dflt:a}),width:t.width,dash:C,editType:"style"},editType:"style"}}V.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},t.width,{}),dash:p({},C,{}),editType:"style"},increasing:i(y),decreasing:i(r),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(V,B,e){var p=e(71828),L=p._,n=e(89298),C=e(42973),T=e(50606).BADNUM;function d(i,a){var h=n.getFromId(i,a.xaxis),u=n.getFromId(i,a.yaxis),s=t(i,h,a),m=a._minDiff;a._minDiff=null;var f=a._origX;a._origX=null;var S=a._xcalc;a._xcalc=null;var v=r(i,a,f,S,u,y);return a._extremes[h._id]=n.findExtremes(h,S,{vpad:m/2}),v.length?(p.extendFlat(v[0].t,{wHover:m/2,tickLen:s}),v):[{t:{empty:!0}}]}function y(i,a,h,u){return{o:i,h:a,l:h,c:u}}function r(i,a,h,u,s,m){for(var f=s.makeCalcdata(a,"open"),S=s.makeCalcdata(a,"high"),v=s.makeCalcdata(a,"low"),l=s.makeCalcdata(a,"close"),g=p.isArrayOrTypedArray(a.text),M=p.isArrayOrTypedArray(a.hovertext),A=!0,k=null,w=!!a.xperiodalignment,E=[],b=0;b<u.length;b++){var o=u[b],P=f[b],x=S[b],z=v[b],_=l[b];if(o!==T&&P!==T&&x!==T&&z!==T&&_!==T){_===P?k!==null&&_!==k&&(A=_>k):A=_>P,k=_;var G=m(P,x,z,_);G.pos=o,G.yc=(P+_)/2,G.i=b,G.dir=A?"increasing":"decreasing",G.x=G.pos,G.y=[z,x],w&&(G.orig_p=h[b]),g&&(G.tx=a.text[b]),M&&(G.htx=a.hovertext[b]),E.push(G)}else E.push({pos:o,empty:!0})}return a._extremes[s._id]=n.findExtremes(s,p.concat(v,S),{padded:!0}),E.length&&(E[0].t={labels:{open:L(i,"open:")+" ",high:L(i,"high:")+" ",low:L(i,"low:")+" ",close:L(i,"close:")+" "}}),E}function t(i,a,h){var u=h._minDiff;if(!u){var s=i._fullData,m=[];u=1/0;var f;for(f=0;f<s.length;f++){var S=s[f];if(S.type==="ohlc"&&S.visible===!0&&S.xaxis===a._id){m.push(S);var v=a.makeCalcdata(S,"x");S._origX=v;var l=C(h,a,"x",v).vals;S._xcalc=l;var g=p.distinctVals(l).minDiff;g&&isFinite(g)&&(u=Math.min(u,g))}}for(u===1/0&&(u=1),f=0;f<m.length;f++)m[f]._minDiff=u}return u*h.tickwidth}V.exports={calc:d,calcCommon:r}},16169:function(V,B,e){var p=e(71828),L=e(14555),n=e(73927),C=e(2522);V.exports=function(y,r,t,i){function a(u,s){return p.coerce(y,r,C,u,s)}var h=L(y,r,a,i);if(!h){r.visible=!1;return}n(y,r,i,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),T(y,r,a,"increasing"),T(y,r,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),i._requestRangeslider[r.xaxis]=!0};function T(d,y,r,t){r(t+".line.color"),r(t+".line.width",y.line.width),r(t+".line.dash",y.line.dash)}},66449:function(V,B,e){var p=e(89298),L=e(71828),n=e(30211),C=e(7901),T=e(71828).fillText,d=e(22372),y={increasing:d.INCREASING.SYMBOL,decreasing:d.DECREASING.SYMBOL};function r(h,u,s,m){var f=h.cd,S=f[0].trace;return S.hoverlabel.split?i(h,u,s,m):a(h,u,s,m)}function t(h,u,s,m){var f=h.cd,S=h.xa,v=f[0].trace,l=f[0].t,g=v.type,M=g==="ohlc"?"l":"min",A=g==="ohlc"?"h":"max",k,w,E=l.bPos||0,b=function(Y){return Y.pos+E-u},o=l.bdPos||l.tickLen,P=l.wHover,x=Math.min(1,o/Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0])));k=h.maxHoverDistance-x,w=h.maxSpikeDistance-x;function z(Y){var q=b(Y);return n.inbox(q-P,q+P,k)}function _(Y){var q=Y[M],ne=Y[A];return q===ne||n.inbox(q-s,ne-s,k)}function G(Y){return(z(Y)+_(Y))/2}var F=n.getDistanceFunction(m,z,_,G);if(n.getClosest(f,F,h),h.index===!1)return null;var N=f[h.index];if(N.empty)return null;var U=N.dir,O=v[U],H=O.line.color;return C.opacity(H)&&O.line.width?h.color=H:h.color=O.fillcolor,h.x0=S.c2p(N.pos+E-o,!0),h.x1=S.c2p(N.pos+E+o,!0),h.xLabelVal=N.orig_p!==void 0?N.orig_p:N.pos,h.spikeDistance=G(N)*w/k,h.xSpike=S.c2p(N.pos,!0),h}function i(h,u,s,m){var f=h.cd,S=h.ya,v=f[0].trace,l=f[0].t,g=[],M=t(h,u,s,m);if(!M)return[];var A=M.index,k=f[A],w=k.hi||v.hoverinfo,E=w.split("+"),b=w==="all",o=b||E.indexOf("y")!==-1;if(!o)return[];for(var P=["high","open","close","low"],x={},z=0;z<P.length;z++){var _=P[z],G=v[_][M.index],F=S.c2p(G,!0),N;G in x?(N=x[G],N.yLabel+="<br>"+l.labels[_]+p.hoverLabelText(S,G,v.yhoverformat)):(N=L.extendFlat({},M),N.y0=N.y1=F,N.yLabelVal=G,N.yLabel=l.labels[_]+p.hoverLabelText(S,G,v.yhoverformat),N.name="",g.push(N),x[G]=N)}return g}function a(h,u,s,m){var f=h.cd,S=h.ya,v=f[0].trace,l=f[0].t,g=t(h,u,s,m);if(!g)return[];var M=g.index,A=f[M],k=g.index=A.i,w=A.dir;function E(G){return l.labels[G]+p.hoverLabelText(S,v[G][k],v.yhoverformat)}var b=A.hi||v.hoverinfo,o=b.split("+"),P=b==="all",x=P||o.indexOf("y")!==-1,z=P||o.indexOf("text")!==-1,_=x?[E("open"),E("high"),E("low"),E("close")+"  "+y[w]]:[];return z&&T(A,v,_),g.extraText=_.join("<br>"),g.y0=g.y1=S.c2p(A.yc,!0),[g]}V.exports={hoverPoints:r,hoverSplit:i,hoverOnPoints:a}},54186:function(V,B,e){V.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(V,B,e){var p=e(73972),L=e(71828);V.exports=function(C,T,d,y){var r=d("x"),t=d("open"),i=d("high"),a=d("low"),h=d("close");d("hoverlabel.split");var u=p.getComponentMethod("calendars","handleTraceDefaults");if(u(C,T,["x"],y),!!(t&&i&&a&&h)){var s=Math.min(t.length,i.length,a.length,h.length);return r&&(s=Math.min(s,L.minRowLength(r))),T._length=s,s}}},72314:function(V,B,e){var p=e(39898),L=e(71828);V.exports=function(C,T,d,y){var r=T.yaxis,t=T.xaxis,i=!!t.rangebreaks;L.makeTraceGroups(y,d,"trace ohlc").each(function(a){var h=p.select(this),u=a[0],s=u.t,m=u.trace;if(m.visible!==!0||s.empty){h.remove();return}var f=s.tickLen,S=h.selectAll("path").data(L.identity);S.enter().append("path"),S.exit().remove(),S.attr("d",function(v){if(v.empty)return"M0,0Z";var l=t.c2p(v.pos-f,!0),g=t.c2p(v.pos+f,!0),M=i?(l+g)/2:t.c2p(v.pos,!0),A=r.c2p(v.o,!0),k=r.c2p(v.h,!0),w=r.c2p(v.l,!0),E=r.c2p(v.c,!0);return"M"+l+","+A+"H"+M+"M"+M+","+k+"V"+w+"M"+g+","+E+"H"+M})})}},67324:function(V){V.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,T=[],d,y=L[0].t.bPos||0;if(p===!1)for(d=0;d<L.length;d++)L[d].selected=0;else for(d=0;d<L.length;d++){var r=L[d];p.contains([n.c2p(r.pos+y),C.c2p(r.yc)],null,r.i,e)?(T.push({pointNumber:r.i,x:n.c2d(r.pos),y:C.c2d(r.yc)}),r.selected=1):r.selected=0}return T}},53101:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901);V.exports=function(T,d,y){var r=y||p.select(T).selectAll("g.ohlclayer").selectAll("g.trace");r.style("opacity",function(t){return t[0].trace.opacity}),r.each(function(t){var i=t[0].trace;p.select(this).selectAll("path").each(function(a){if(!a.empty){var h=i[a.dir].line;p.select(this).style("fill","none").call(n.stroke,h.color).call(L.dashLine,h.dash,h.width).style("opacity",i.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(V,B,e){var p=e(1426).extendFlat,L=e(9012),n=e(41940),C=e(50693),T=e(5386).fF,d=e(27670).Y,y=p({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});V.exports={domain:d({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:y,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(V,B,e){var p=e(27659).a0,L=e(45784),n="parcats";B.name=n,B.plot=function(C,T,d,y){var r=p(C.calcdata,n);if(r.length){var t=r[0];L(C,t,d,y)}},B.clean=function(C,T,d,y){var r=y._has&&y._has("parcats"),t=T._has&&T._has("parcats");r&&!t&&y._paperdiv.selectAll(".parcats").remove()}},28699:function(V,B,e){var p=e(28984).wrap,L=e(52075).hasColorscale,n=e(78803),C=e(75744),T=e(91424),d=e(71828),y=e(92770);V.exports=function(l,g){var M=d.filterVisible(g.dimensions);if(M.length===0)return[];var A=M.map(function(J){var Z;if(J.categoryorder==="trace")Z=null;else if(J.categoryorder==="array")Z=J.categoryarray;else{Z=C(J.values);for(var se=!0,$=0;$<Z.length;$++)if(!y(Z[$])){se=!1;break}Z.sort(se?d.sorterAsc:void 0),J.categoryorder==="category descending"&&(Z=Z.reverse())}return s(J.values,Z)}),k,w,E;d.isArrayOrTypedArray(g.counts)?k=g.counts:k=[g.counts],m(M),M.forEach(function(J,Z){f(J,A[Z])});var b=g.line,o;b?(L(g,"line")&&n(l,g,{vals:g.line.color,containerStr:"line",cLetter:"c"}),o=T.tryColorscale(b)):o=d.identity;function P(J){var Z,se;return d.isArrayOrTypedArray(b.color)?(Z=b.color[J%b.color.length],se=Z):Z=b.color,{color:o(Z),rawColor:se}}var x=M[0].values.length,z={},_=A.map(function(J){return J.inds});E=0;var G,F;for(G=0;G<x;G++){var N=[];for(F=0;F<_.length;F++)N.push(_[F][G]);w=k[G%k.length],E+=w;var U=P(G),O=N+"-"+U.rawColor;z[O]===void 0&&(z[O]=h(N,U.color,U.rawColor)),u(z[O],G,w)}var H=M.map(function(J,Z){return t(Z,J._index,J._displayindex,J.label,E)});for(G=0;G<x;G++)for(w=k[G%k.length],F=0;F<H.length;F++){var Y=H[F].containerInd,q=A[F].inds[G],ne=H[F].categories;if(ne[q]===void 0){var oe=g.dimensions[Y]._categoryarray[q],he=g.dimensions[Y]._ticktext[q];ne[q]=i(F,q,oe,he)}a(ne[q],G,w)}return p(r(H,z,E))};function r(v,l,g){var M=v.map(function(A){return A.categories.length}).reduce(function(A,k){return Math.max(A,k)});return{dimensions:v,paths:l,trace:void 0,maxCats:M,count:g}}function t(v,l,g,M,A){return{dimensionInd:v,containerInd:l,displayInd:g,dimensionLabel:M,count:A,categories:[],dragX:null}}function i(v,l,g,M){return{dimensionInd:v,categoryInd:l,categoryValue:g,displayInd:l,categoryLabel:M,valueInds:[],count:0,dragY:null}}function a(v,l,g){v.valueInds.push(l),v.count+=g}function h(v,l,g){return{categoryInds:v,color:l,rawColor:g,valueInds:[],count:0}}function u(v,l,g){v.valueInds.push(l),v.count+=g}function s(v,l){l==null?l=[]:l=l.map(function(o){return o});var g={},M={},A=[];l.forEach(function(o,P){g[o]=0,M[o]=P});for(var k=0;k<v.length;k++){var w=v[k],E;g[w]===void 0?(g[w]=1,E=l.push(w)-1,M[w]=E):(g[w]++,E=M[w]),A.push(E)}var b=l.map(function(o){return g[o]});return{uniqueValues:l,uniqueCounts:b,inds:A}}function m(v){var l=v.map(function(M){return M.displayindex}),g;if(S(l))for(g=0;g<v.length;g++)v[g]._displayindex=v[g].displayindex;else for(g=0;g<v.length;g++)v[g]._displayindex=g}function f(v,l){v._categoryarray=l.uniqueValues,v.ticktext===null||v.ticktext===void 0?v._ticktext=[]:v._ticktext=v.ticktext.slice();for(var g=v._ticktext.length;g<l.uniqueValues.length;g++)v._ticktext.push(l.uniqueValues[g])}function S(v){for(var l=new Array(v.length),g=0;g<v.length;g++){if(v[g]<0||v[g]>=v.length||l[v[g]]!==void 0)return!1;l[v[g]]=!0}return!0}},14647:function(V,B,e){var p=e(71828),L=e(52075).hasColorscale,n=e(1586),C=e(27670).c,T=e(85501),d=e(99506),y=e(94397),r=e(73627).isTypedArraySpec;function t(a,h,u,s,m){m("line.shape"),m("line.hovertemplate");var f=m("line.color",s.colorway[0]);if(L(a,"line")&&p.isArrayOrTypedArray(f)){if(f.length)return m("line.colorscale"),n(a,h,s,m,{prefix:"line.",cLetter:"c"}),f.length;h.line.color=u}return 1/0}function i(a,h){function u(g,M){return p.coerce(a,h,d.dimensions,g,M)}var s=u("values"),m=u("visible");if(s&&s.length||(m=h.visible=!1),m){u("label"),u("displayindex",h._index);var f=a.categoryarray,S=p.isArrayOrTypedArray(f)&&f.length>0||r(f),v;S&&(v="array");var l=u("categoryorder",v);l==="array"?(u("categoryarray"),u("ticktext")):(delete a.categoryarray,delete a.ticktext),!S&&l==="array"&&(h.categoryorder="trace")}}V.exports=function(h,u,s,m){function f(M,A){return p.coerce(h,u,d,M,A)}var S=T(h,u,{name:"dimensions",handleItemDefaults:i}),v=t(h,u,s,m,f);C(u,m,f),(!Array.isArray(S)||!S.length)&&(u.visible=!1),y(u,S,"values",v),f("hoveron"),f("hovertemplate"),f("arrangement"),f("bundlecolors"),f("sortpaths"),f("counts");var l={family:m.font.family,size:Math.round(m.font.size),color:m.font.color};p.coerceFont(f,"labelfont",l);var g={family:m.font.family,size:Math.round(m.font.size/1.2),color:m.font.color};p.coerceFont(f,"tickfont",g)}},94873:function(V,B,e){V.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(V,B,e){var p=e(39898),L=e(81684).k4,n=e(72391),C=e(30211),T=e(71828),d=T.strTranslate,y=e(91424),r=e(84267),t=e(63893);function i($,ee,le,Q){var K=ee._context.staticPlot,ue=$.map(oe.bind(0,ee,le)),ie=Q.selectAll("g.parcatslayer").data([null]);ie.enter().append("g").attr("class","parcatslayer").style("pointer-events",K?"none":"all");var ce=ie.selectAll("g.trace.parcats").data(ue,a),xe=ce.enter().append("g").attr("class","trace parcats");ce.attr("transform",function(Ge){return d(Ge.x,Ge.y)}),xe.append("g").attr("class","paths");var Le=ce.select("g.paths"),Ae=Le.selectAll("path.path").data(function(Ge){return Ge.paths},a);Ae.attr("fill",function(Ge){return Ge.model.color});var Oe=Ae.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.model.color}).attr("fill-opacity",0);l(Oe),Ae.attr("d",function(Ge){return Ge.svgD}),Oe.empty()||Ae.sort(u),Ae.exit().remove(),Ae.on("mouseover",s).on("mouseout",m).on("click",v),xe.append("g").attr("class","dimensions");var ze=ce.select("g.dimensions"),Ee=ze.selectAll("g.dimension").data(function(Ge){return Ge.dimensions},a);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(Ge){return d(Ge.x,0)}),Ee.exit().remove();var be=Ee.selectAll("g.category").data(function(Ge){return Ge.categories},a),Ce=be.enter().append("g").attr("class","category");be.attr("transform",function(Ge){return d(0,Ge.y)}),Ce.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}),A(Ce);var Ue=be.selectAll("rect.bandrect").data(function(Ge){return Ge.bands},a);Ue.each(function(){T.raiseToTop(this)}),Ue.attr("fill",function(Ge){return Ge.color});var He=Ue.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.color}).attr("fill-opacity",0);Ue.attr("fill",function(Ge){return Ge.color}).attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}).attr("y",function(Ge){return Ge.y}).attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":Ge.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),w(He),Ue.exit().remove(),Ce.append("text").attr("class","catlabel").attr("pointer-events","none");var Ie=ee._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(Ge){return h(Ge)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",t.makeTextShadow(Ie)).style("fill","rgb(0, 0, 0)").attr("x",function(Ge){return h(Ge)?Ge.width+5:-5}).attr("y",function(Ge){return Ge.height/2}).text(function(Ge){return Ge.model.categoryLabel}).each(function(Ge){y.font(p.select(this),Ge.parcatsViewModel.categorylabelfont),t.convertToTspans(p.select(this),ee)}),Ce.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ge){return Ge.width/2}).attr("y",-5).text(function(Ge,at){return at===0?Ge.parcatsViewModel.model.dimensions[Ge.model.dimensionInd].dimensionLabel:null}).each(function(Ge){y.font(p.select(this),Ge.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",F).on("mouseout",N),be.exit().remove(),Ee.call(p.behavior.drag().origin(function(Ge){return{x:Ge.x,y:0}}).on("dragstart",U).on("drag",O).on("dragend",H)),ce.each(function(Ge){Ge.traceSelection=p.select(this),Ge.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),Ge.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ce.exit().remove()}V.exports=function($,ee,le,Q){i(le,$,Q,ee)};function a($){return $.key}function h($){var ee=$.parcatsViewModel.dimensions.length,le=$.parcatsViewModel.dimensions[ee-1].model.dimensionInd;return $.model.dimensionInd===le}function u($,ee){return $.model.rawColor>ee.model.rawColor?1:$.model.rawColor<ee.model.rawColor?-1:0}function s($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){T.raiseToTop(this),g(p.select(this));var ee=f($),le=S($);if($.parcatsViewModel.graphDiv.emit("plotly_hover",{points:ee,event:p.event,constraints:le}),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=p.mouse(this)[0],K=$.parcatsViewModel.graphDiv,ue=$.parcatsViewModel.trace,ie=K._fullLayout,ce=ie._paperdiv.node().getBoundingClientRect(),xe=$.parcatsViewModel.graphDiv.getBoundingClientRect(),Le,Ae,Oe;for(Oe=0;Oe<$.leftXs.length-1;Oe++)if($.leftXs[Oe]+$.dimWidths[Oe]-2<=Q&&Q<=$.leftXs[Oe+1]+2){var ze=$.parcatsViewModel.dimensions[Oe],Ee=$.parcatsViewModel.dimensions[Oe+1];Le=(ze.x+ze.width+Ee.x)/2,Ae=($.topYs[Oe]+$.topYs[Oe+1]+$.height)/2;break}var be=$.parcatsViewModel.x+Le,Ce=$.parcatsViewModel.y+Ae,Ue=r.mostReadable($.model.color,["black","white"]),He=$.model.count,Ie=He/$.parcatsViewModel.model.count,Ge={countLabel:He,probabilityLabel:Ie.toFixed(3)},at=[];$.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&at.push(["Count:",Ge.countLabel].join(" ")),$.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&at.push(["P:",Ge.probabilityLabel].join(" "));var lt=at.join("<br>"),qe=p.mouse(K)[0];C.loneHover({trace:ue,x:be-ce.left+xe.left,y:Ce-ce.top+xe.top,text:lt,color:$.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ue,idealAlign:qe<be?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:Ge,eventData:[{data:ue._input,fullData:ue,count:He,probability:Ie}]},{container:ie._hoverlayer.node(),outerContainer:ie._paper.node(),gd:K})}}}function m($){if(!$.parcatsViewModel.dragDimension&&(l(p.select(this)),C.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),$.parcatsViewModel.pathSelection.sort(u),$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var ee=f($),le=S($);$.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:ee,event:p.event,constraints:le})}}function f($){for(var ee=[],le=Y($.parcatsViewModel),Q=0;Q<$.model.valueInds.length;Q++){var K=$.model.valueInds[Q];ee.push({curveNumber:le,pointNumber:K})}return ee}function S($){for(var ee={},le=$.parcatsViewModel.model.dimensions,Q=0;Q<le.length;Q++){var K=le[Q],ue=K.categories[$.model.categoryInds[Q]];ee[K.containerInd]=ue.categoryValue}return $.model.rawColor!==void 0&&(ee.color=$.model.rawColor),ee}function v($){if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ee=f($),le=S($);$.parcatsViewModel.graphDiv.emit("plotly_click",{points:ee,event:p.event,constraints:le})}}function l($){$.attr("fill",function(ee){return ee.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function g($){$.attr("fill-opacity",.8).attr("stroke",function(ee){return r.mostReadable(ee.model.color,["black","white"])}).attr("stroke-width",.3)}function M($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function A($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function k($){$.attr("stroke","black").attr("stroke-width",1.5)}function w($){$.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E($){var ee=$.parcatsViewModel.pathSelection,le=$.categoryViewModel.model.dimensionInd,Q=$.categoryViewModel.model.categoryInd;return ee.filter(function(K){return K.model.categoryInds[le]===Q&&K.model.color===$.color})}function b($){var ee=p.select($.parentNode).selectAll("rect.bandrect");ee.each(function(le){var Q=E(le);g(Q),Q.each(function(){T.raiseToTop(this)})}),M(p.select($.parentNode))}function o($){var ee=p.select($).datum(),le=E(ee);g(le),le.each(function(){T.raiseToTop(this)}),p.select($.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===ee.color}).each(function(){T.raiseToTop(this),k(p.select(this))})}function P($,ee,le){var Q=p.select($).datum(),K=Q.categoryViewModel.model,ue=Q.parcatsViewModel.graphDiv,ie=p.select($.parentNode).selectAll("rect.bandrect"),ce=[];ie.each(function(Le){var Ae=E(Le);Ae.each(function(Oe){Array.prototype.push.apply(ce,f(Oe))})});var xe={};xe[K.dimensionInd]=K.categoryValue,ue.emit(ee,{points:ce,event:le,constraints:xe})}function x($,ee,le){var Q=p.select($).datum(),K=Q.categoryViewModel.model,ue=Q.parcatsViewModel.graphDiv,ie=E(Q),ce=[];ie.each(function(Le){Array.prototype.push.apply(ce,f(Le))});var xe={};xe[K.dimensionInd]=K.categoryValue,Q.rawColor!==void 0&&(xe.color=Q.rawColor),ue.emit(ee,{points:ce,event:le,constraints:xe})}function z($,ee,le){$._fullLayout._calcInverseTransform($);var Q=$._fullLayout._invScaleX,K=$._fullLayout._invScaleY,ue=p.select(le.parentNode).select("rect.catrect"),ie=ue.node().getBoundingClientRect(),ce=ue.datum(),xe=ce.parcatsViewModel,Le=xe.model.dimensions[ce.model.dimensionInd],Ae=xe.trace,Oe=ie.top+ie.height/2,ze,Ee;xe.dimensions.length>1&&Le.displayInd===xe.dimensions.length-1?(ze=ie.left,Ee="left"):(ze=ie.left+ie.width,Ee="right");var be=ce.model.count,Ce=ce.model.categoryLabel,Ue=be/ce.parcatsViewModel.model.count,He={countLabel:be,categoryLabel:Ce,probabilityLabel:Ue.toFixed(3)},Ie=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Ie.push(["Count:",He.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Ie.push(["P("+He.categoryLabel+"):",He.probabilityLabel].join(" "));var Ge=Ie.join("<br>");return{trace:Ae,x:Q*(ze-ee.left),y:K*(Oe-ee.top),text:Ge,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:He,eventData:[{data:Ae._input,fullData:Ae,count:be,category:Ce,probability:Ue}]}}function _($,ee,le){var Q=[];return p.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var K=this;Q.push(z($,ee,K))}),Q}function G($,ee,le){$._fullLayout._calcInverseTransform($);var Q=$._fullLayout._invScaleX,K=$._fullLayout._invScaleY,ue=le.getBoundingClientRect(),ie=p.select(le).datum(),ce=ie.categoryViewModel,xe=ce.parcatsViewModel,Le=xe.model.dimensions[ce.model.dimensionInd],Ae=xe.trace,Oe=ue.y+ue.height/2,ze,Ee;xe.dimensions.length>1&&Le.displayInd===xe.dimensions.length-1?(ze=ue.left,Ee="left"):(ze=ue.left+ue.width,Ee="right");var be=ce.model.categoryLabel,Ce=ie.parcatsViewModel.model.count,Ue=0;ie.categoryViewModel.bands.forEach(function(pt){pt.color===ie.color&&(Ue+=pt.count)});var He=ce.model.count,Ie=0;xe.pathSelection.each(function(pt){pt.model.color===ie.color&&(Ie+=pt.model.count)});var Ge=Ue/Ce,at=Ue/Ie,lt=Ue/He,qe={countLabel:Ce,categoryLabel:be,probabilityLabel:Ge.toFixed(3)},et=[];ce.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&et.push(["Count:",qe.countLabel].join(" ")),ce.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(et.push("P(color  "+be+"): "+qe.probabilityLabel),et.push("P("+be+" | color): "+at.toFixed(3)),et.push("P(color | "+be+"): "+lt.toFixed(3)));var ft=et.join("<br>"),dt=r.mostReadable(ie.color,["black","white"]);return{trace:Ae,x:Q*(ze-ee.left),y:K*(Oe-ee.top),text:ft,color:ie.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:dt,fontSize:10,idealAlign:Ee,hovertemplate:Ae.hovertemplate,hovertemplateLabels:qe,eventData:[{data:Ae._input,fullData:Ae,category:be,count:Ce,probability:Ge,categorycount:He,colorcount:Ie,bandcolorcount:Ue}]}}function F($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var ee=p.mouse(this)[1];if(ee<-1)return;var le=$.parcatsViewModel.graphDiv,Q=le._fullLayout,K=Q._paperdiv.node().getBoundingClientRect(),ue=$.parcatsViewModel.hoveron,ie=this;if(ue==="color"?(o(ie),x(ie,"plotly_hover",p.event)):(b(ie),P(ie,"plotly_hover",p.event)),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var ce;ue==="category"?ce=z(le,K,ie):ue==="color"?ce=G(le,K,ie):ue==="dimension"&&(ce=_(le,K,ie)),ce&&C.loneHover(ce,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:le})}}}function N($){var ee=$.parcatsViewModel;if(!ee.dragDimension&&(l(ee.pathSelection),A(ee.dimensionSelection.selectAll("g.category")),w(ee.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(ee.graphDiv._fullLayout._hoverlayer.node()),ee.pathSelection.sort(u),ee.hoverinfoItems.indexOf("skip")===-1)){var le=$.parcatsViewModel.hoveron,Q=this;le==="color"?x(Q,"plotly_unhover",p.event):P(Q,"plotly_unhover",p.event)}}function U($){$.parcatsViewModel.arrangement!=="fixed"&&($.dragDimensionDisplayInd=$.model.displayInd,$.initialDragDimensionDisplayInds=$.parcatsViewModel.model.dimensions.map(function(ee){return ee.displayInd}),$.dragHasMoved=!1,$.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(ee){var le=p.mouse(this)[0],Q=p.mouse(this)[1];-2<=le&&le<=ee.width+2&&-2<=Q&&Q<=ee.height+2&&($.dragCategoryDisplayInd=ee.model.displayInd,$.initialDragCategoryDisplayInds=$.model.categories.map(function(K){return K.displayInd}),ee.model.dragY=ee.y,T.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(K){K.y<Q&&Q<=K.y+K.height&&($.potentialClickBand=this)}))}),$.parcatsViewModel.dragDimension=$,C.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function O($){if($.parcatsViewModel.arrangement!=="fixed"&&($.dragHasMoved=!0,$.dragDimensionDisplayInd!==null)){var ee=$.dragDimensionDisplayInd,le=ee-1,Q=ee+1,K=$.parcatsViewModel.dimensions[ee];if($.dragCategoryDisplayInd!==null){var ue=K.categories[$.dragCategoryDisplayInd];ue.model.dragY+=p.event.dy;var ie=ue.model.dragY,ce=ue.model.displayInd,xe=K.categories,Le=xe[ce-1],Ae=xe[ce+1];Le!==void 0&&ie<Le.y+Le.height/2&&(ue.model.displayInd=Le.model.displayInd,Le.model.displayInd=ce),Ae!==void 0&&ie+ue.height>Ae.y+Ae.height/2&&(ue.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=ce),$.dragCategoryDisplayInd=ue.model.displayInd}if($.dragCategoryDisplayInd===null||$.parcatsViewModel.arrangement==="freeform"){K.model.dragX=p.event.x;var Oe=$.parcatsViewModel.dimensions[le],ze=$.parcatsViewModel.dimensions[Q];Oe!==void 0&&K.model.dragX<Oe.x+Oe.width&&(K.model.displayInd=Oe.model.displayInd,Oe.model.displayInd=ee),ze!==void 0&&K.model.dragX+K.width>ze.x&&(K.model.displayInd=ze.model.displayInd,ze.model.displayInd=$.dragDimensionDisplayInd),$.dragDimensionDisplayInd=K.model.displayInd}Z($.parcatsViewModel),J($.parcatsViewModel),ne($.parcatsViewModel),q($.parcatsViewModel)}}function H($){if($.parcatsViewModel.arrangement!=="fixed"&&$.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var ee={},le=Y($.parcatsViewModel),Q=$.parcatsViewModel.model.dimensions.map(function(ze){return ze.displayInd}),K=$.initialDragDimensionDisplayInds.some(function(ze,Ee){return ze!==Q[Ee]});K&&Q.forEach(function(ze,Ee){var be=$.parcatsViewModel.model.dimensions[Ee].containerInd;ee["dimensions["+be+"].displayindex"]=ze});var ue=!1;if($.dragCategoryDisplayInd!==null){var ie=$.model.categories.map(function(ze){return ze.displayInd});if(ue=$.initialDragCategoryDisplayInds.some(function(ze,Ee){return ze!==ie[Ee]}),ue){var ce=$.model.categories.slice().sort(function(ze,Ee){return ze.displayInd-Ee.displayInd}),xe=ce.map(function(ze){return ze.categoryValue}),Le=ce.map(function(ze){return ze.categoryLabel});ee["dimensions["+$.model.containerInd+"].categoryarray"]=[xe],ee["dimensions["+$.model.containerInd+"].ticktext"]=[Le],ee["dimensions["+$.model.containerInd+"].categoryorder"]="array"}}if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!$.dragHasMoved&&$.potentialClickBand&&($.parcatsViewModel.hoveron==="color"?x($.potentialClickBand,"plotly_click",p.event.sourceEvent):P($.potentialClickBand,"plotly_click",p.event.sourceEvent)),$.model.dragX=null,$.dragCategoryDisplayInd!==null){var Ae=$.parcatsViewModel.dimensions[$.dragDimensionDisplayInd].categories[$.dragCategoryDisplayInd];Ae.model.dragY=null,$.dragCategoryDisplayInd=null}$.dragDimensionDisplayInd=null,$.parcatsViewModel.dragDimension=null,$.dragHasMoved=null,$.potentialClickBand=null,Z($.parcatsViewModel),J($.parcatsViewModel);var Oe=p.transition().duration(300).ease("cubic-in-out");Oe.each(function(){ne($.parcatsViewModel,!0),q($.parcatsViewModel,!0)}).each("end",function(){(K||ue)&&n.restyle($.parcatsViewModel.graphDiv,ee,[le])})}}function Y($){for(var ee,le=$.graphDiv._fullData,Q=0;Q<le.length;Q++)if($.key===le[Q].uid){ee=Q;break}return ee}function q($,ee){ee===void 0&&(ee=!1);function le(Q){return ee?Q.transition():Q}$.pathSelection.data(function(Q){return Q.paths},a),le($.pathSelection).attr("d",function(Q){return Q.svgD})}function ne($,ee){ee===void 0&&(ee=!1);function le(xe){return ee?xe.transition():xe}$.dimensionSelection.data(function(xe){return xe.dimensions},a);var Q=$.dimensionSelection.selectAll("g.category").data(function(xe){return xe.categories},a);le($.dimensionSelection).attr("transform",function(xe){return d(xe.x,0)}),le(Q).attr("transform",function(xe){return d(0,xe.y)});var K=Q.select(".dimlabel");K.text(function(xe,Le){return Le===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null});var ue=Q.select(".catlabel");ue.attr("text-anchor",function(xe){return h(xe)?"start":"end"}).attr("x",function(xe){return h(xe)?xe.width+5:-5}).each(function(xe){var Le,Ae;h(xe)?(Le=xe.width+5,Ae="start"):(Le=-5,Ae="end"),p.select(this).selectAll("tspan").attr("x",Le).attr("text-anchor",Ae)});var ie=Q.selectAll("rect.bandrect").data(function(xe){return xe.bands},a),ce=ie.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);ie.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}),w(ce),ie.each(function(){T.raiseToTop(this)}),ie.exit().remove()}function oe($,ee,le){var Q=le[0],K=ee.margin||{l:80,r:80,t:100,b:80},ue=Q.trace,ie=ue.domain,ce=ee.width,xe=ee.height,Le=Math.floor(ce*(ie.x[1]-ie.x[0])),Ae=Math.floor(xe*(ie.y[1]-ie.y[0])),Oe=ie.x[0]*ce+K.l,ze=ee.height-ie.y[1]*ee.height+K.t,Ee=ue.line.shape,be;ue.hoverinfo==="all"?be=["count","probability"]:be=(ue.hoverinfo||"").split("+");var Ce={trace:ue,key:ue.uid,model:Q,x:Oe,y:ze,width:Le,height:Ae,hoveron:ue.hoveron,hoverinfoItems:be,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Ee,dragDimension:null,margin:K,paths:[],dimensions:[],graphDiv:$,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(Z(Ce),J(Ce)),Ce}function he($,ee,le,Q,K){var ue=[],ie=[],ce,xe;for(xe=0;xe<le.length-1;xe++)ce=L(le[xe]+$[xe],$[xe+1]),ue.push(ce(K)),ie.push(ce(1-K));var Le="M "+$[0]+","+ee[0];for(Le+="l"+le[0]+",0 ",xe=1;xe<le.length;xe++)Le+="C"+ue[xe-1]+","+ee[xe-1]+" "+ie[xe-1]+","+ee[xe]+" "+$[xe]+","+ee[xe],Le+="l"+le[xe]+",0 ";for(Le+="l0,"+Q+" ",Le+="l -"+le[le.length-1]+",0 ",xe=le.length-2;xe>=0;xe--)Le+="C"+ie[xe]+","+(ee[xe+1]+Q)+" "+ue[xe]+","+(ee[xe]+Q)+" "+($[xe]+le[xe])+","+(ee[xe]+Q),Le+="l-"+le[xe]+",0 ";return Le+="Z",Le}function J($){var ee=$.dimensions,le=$.model,Q=ee.map(function(Ht){return Ht.categories.map(function(Je){return Je.y})}),K=$.model.dimensions.map(function(Ht){return Ht.categories.map(function(Je){return Je.displayInd})}),ue=$.model.dimensions.map(function(Ht){return Ht.displayInd}),ie=$.dimensions.map(function(Ht){return Ht.model.dimensionInd}),ce=ee.map(function(Ht){return Ht.x}),xe=ee.map(function(Ht){return Ht.width}),Le=[];for(var Ae in le.paths)le.paths.hasOwnProperty(Ae)&&Le.push(le.paths[Ae]);function Oe(Ht){var Je=Ht.categoryInds.map(function(_e,Ne){return K[Ne][_e]}),We=ie.map(function(_e){return Je[_e]});return We}Le.sort(function(Ht,Je){var We=Oe(Ht),_e=Oe(Je);return $.sortpaths==="backward"&&(We.reverse(),_e.reverse()),We.push(Ht.valueInds[0]),_e.push(Je.valueInds[0]),$.bundlecolors&&(We.unshift(Ht.rawColor),_e.unshift(Je.rawColor)),We<_e?-1:We>_e?1:0});for(var ze=new Array(Le.length),Ee=ee[0].model.count,be=ee[0].categories.map(function(Ht){return Ht.height}).reduce(function(Ht,Je){return Ht+Je}),Ce=0;Ce<Le.length;Ce++){var Ue=Le[Ce],He;Ee>0?He=be*(Ue.count/Ee):He=0;for(var Ie=new Array(Q.length),Ge=0;Ge<Ue.categoryInds.length;Ge++){var at=Ue.categoryInds[Ge],lt=K[Ge][at],qe=ue[Ge];Ie[qe]=Q[qe][lt],Q[qe][lt]+=He;var et=$.dimensions[qe].categories[lt],ft=et.bands.length,dt=et.bands[ft-1];if(dt===void 0||Ue.rawColor!==dt.rawColor){var pt=dt===void 0?0:dt.y+dt.height;et.bands.push({key:pt,color:Ue.color,rawColor:Ue.rawColor,height:He,width:et.width,count:Ue.count,y:pt,categoryViewModel:et,parcatsViewModel:$})}else{var At=et.bands[ft-1];At.height+=He,At.count+=Ue.count}}var Pt;$.pathShape==="hspline"?Pt=he(ce,Ie,xe,He,.5):Pt=he(ce,Ie,xe,He,0),ze[Ce]={key:Ue.valueInds[0],model:Ue,height:He,leftXs:ce,topYs:Ie,dimWidths:xe,svgD:Pt,parcatsViewModel:$}}$.paths=ze}function Z($){var ee=$.model.dimensions.map(function(ie){return{displayInd:ie.displayInd,dimensionInd:ie.dimensionInd}});ee.sort(function(ie,ce){return ie.displayInd-ce.displayInd});var le=[];for(var Q in ee){var K=ee[Q].dimensionInd,ue=$.model.dimensions[K];le.push(se($,ue))}$.dimensions=le}function se($,ee){var le=40,Q=16,K=$.model.dimensions.length,ue=ee.displayInd,ie,ce,xe;K>1?ie=($.width-2*le-Q)/(K-1):ie=0,ce=le,xe=ce+ie*ue;var Le=[],Ae=$.model.maxCats,Oe=ee.categories.length,ze=8,Ee=ee.count,be=$.height-ze*(Ae-1),Ce,Ue,He,Ie,Ge,at=(Ae-Oe)*ze/2,lt=ee.categories.map(function(qe){return{displayInd:qe.displayInd,categoryInd:qe.categoryInd}});for(lt.sort(function(qe,et){return qe.displayInd-et.displayInd}),Ge=0;Ge<Oe;Ge++)Ie=lt[Ge].categoryInd,Ue=ee.categories[Ie],Ee>0?Ce=Ue.count/Ee*be:Ce=0,He={key:Ue.valueInds[0],model:Ue,width:Q,height:Ce,y:Ue.dragY!==null?Ue.dragY:at,bands:[],parcatsViewModel:$},at=at+Ce+ze,Le.push(He);return{key:ee.dimensionInd,x:ee.dragX!==null?ee.dragX:xe,y:0,width:Q,model:ee,categories:Le,parcatsViewModel:$,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(V,B,e){var p=e(45460);V.exports=function(n,C,T,d){var y=n._fullLayout,r=y._paper,t=y._size;p(n,r,C,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},T,d)}},73362:function(V,B,e){var p=e(50693),L=e(13838),n=e(41940),C=e(27670).Y,T=e(1426).extendFlat,d=e(44467).templatedArray;V.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:d("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},L.tickvals,{editType:"plot"}),ticktext:T({},L.ticktext,{editType:"plot"}),tickformat:T({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(V,B,e){var p=e(25706),L=e(39898),n=e(28984).keyFun,C=e(28984).repeat,T=e(71828).sorterAsc,d=e(71828).strTranslate,y=p.bar.snapRatio;function r(H,Y){return H*(1-y)+Y*y}var t=p.bar.snapClose;function i(H,Y){return H*(1-t)+Y*t}function a(H,Y,q,ne){if(h(q,ne))return q;var oe=H?-1:1,he=0,J=Y.length-1;if(oe<0){var Z=he;he=J,J=Z}for(var se=Y[he],$=se,ee=he;oe*ee<oe*J;ee+=oe){var le=ee+oe,Q=Y[le];if(oe*q<oe*i(se,Q))return r(se,$);if(oe*q<oe*Q||le===J)return r(Q,se);$=se,se=Q}}function h(H,Y){for(var q=0;q<Y.length;q++)if(H>=Y[q][0]&&H<=Y[q][1])return!0;return!1}function u(H){H.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function s(H){H.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(H){if(!H.brush.filterSpecified)return"0,"+H.height;for(var Y=f(H.brush.filter.getConsolidated(),H.height),q=[0],ne,oe,he,J=Y.length?Y[0][0]:null,Z=0;Z<Y.length;Z++)ne=Y[Z],oe=ne[1]-ne[0],q.push(J),q.push(oe),he=Z+1,he<Y.length&&(J=Y[he][0]-ne[1]);return q.push(H.height),q}function f(H,Y){return H.map(function(q){return q.map(function(ne){return Math.max(0,ne*Y)}).sort(T)})}function S(H,Y){var q=p.bar.handleHeight;if(!(Y>H[1]+q||Y<H[0]-q))return Y>=.9*H[1]+.1*H[0]?"n":Y<=.9*H[0]+.1*H[1]?"s":"ns"}function v(){L.select(document.body).style("cursor",null)}function l(H){H.attr("stroke-dasharray",m)}function g(H,Y){var q=L.select(H).selectAll(".highlight, .highlight-shadow"),ne=Y?q.transition().duration(p.bar.snapDuration).each("end",Y):q;l(ne)}function M(H,Y){var q=H.brush,ne=q.filterSpecified,oe=NaN,he={},J;if(ne){var Z=H.height,se=q.filter.getConsolidated(),$=f(se,Z),ee=NaN,le=NaN,Q=NaN;for(J=0;J<=$.length;J++){var K=$[J];if(K&&K[0]<=Y&&Y<=K[1]){ee=J;break}else if(le=J?J-1:NaN,K&&K[0]>Y){Q=J;break}}if(oe=ee,isNaN(oe)&&(isNaN(le)||isNaN(Q)?oe=isNaN(le)?Q:le:oe=Y-$[le][1]<$[Q][0]-Y?le:Q),!isNaN(oe)){var ue=$[oe],ie=S(ue,Y);ie&&(he.interval=se[oe],he.intervalPix=ue,he.region=ie)}}if(H.ordinal&&!he.region){var ce=H.unitTickvals,xe=H.unitToPaddedPx.invert(Y);for(J=0;J<ce.length;J++){var Le=[ce[Math.max(J-1,0)]*.25+ce[J]*.75,ce[Math.min(J+1,ce.length-1)]*.25+ce[J]*.75];if(xe>=Le[0]&&xe<=Le[1]){he.clickableOrdinalRange=Le;break}}}return he}function A(H,Y){L.event.sourceEvent.stopPropagation();var q=Y.height-L.mouse(H)[1]-2*p.verticalPadding,ne=Y.unitToPaddedPx.invert(q),oe=Y.brush,he=M(Y,q),J=he.interval,Z=oe.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=he.region==="ns",Z.grabbingBar){var se=J.map(Y.unitToPaddedPx);Z.grabPoint=q-se[0]-p.verticalPadding,Z.barLength=se[1]-se[0]}Z.clickableOrdinalRange=he.clickableOrdinalRange,Z.stayingIntervals=Y.multiselect&&oe.filterSpecified?oe.filter.getConsolidated():[],J&&(Z.stayingIntervals=Z.stayingIntervals.filter(function($){return $[0]!==J[0]&&$[1]!==J[1]})),Z.startExtent=he.region?J[he.region==="s"?1:0]:ne,Y.parent.inBrushDrag=!0,Z.brushStartCallback()}function k(H,Y){L.event.sourceEvent.stopPropagation();var q=Y.height-L.mouse(H)[1]-2*p.verticalPadding,ne=Y.brush.svgBrush;ne.wasDragged=!0,ne._dragging=!0,ne.grabbingBar?ne.newExtent=[q-ne.grabPoint,q+ne.barLength-ne.grabPoint].map(Y.unitToPaddedPx.invert):ne.newExtent=[ne.startExtent,Y.unitToPaddedPx.invert(q)].sort(T),Y.brush.filterSpecified=!0,ne.extent=ne.stayingIntervals.concat([ne.newExtent]),ne.brushCallback(Y),g(H.parentNode)}function w(H,Y){var q=Y.brush,ne=q.filter,oe=q.svgBrush;oe._dragging||(E(H,Y),k(H,Y),Y.brush.svgBrush.wasDragged=!1),oe._dragging=!1;var he=L.event;he.sourceEvent.stopPropagation();var J=oe.grabbingBar;if(oe.grabbingBar=!1,oe.grabLocation=void 0,Y.parent.inBrushDrag=!1,v(),!oe.wasDragged){oe.wasDragged=void 0,oe.clickableOrdinalRange?q.filterSpecified&&Y.multiselect?oe.extent.push(oe.clickableOrdinalRange):(oe.extent=[oe.clickableOrdinalRange],q.filterSpecified=!0):J?(oe.extent=oe.stayingIntervals,oe.extent.length===0&&_(q)):_(q),oe.brushCallback(Y),g(H.parentNode),oe.brushEndCallback(q.filterSpecified?ne.getConsolidated():[]);return}var Z=function(){ne.set(ne.getConsolidated())};if(Y.ordinal){var se=Y.unitTickvals;se[se.length-1]<se[0]&&se.reverse(),oe.newExtent=[a(0,se,oe.newExtent[0],oe.stayingIntervals),a(1,se,oe.newExtent[1],oe.stayingIntervals)];var $=oe.newExtent[1]>oe.newExtent[0];oe.extent=oe.stayingIntervals.concat($?[oe.newExtent]:[]),oe.extent.length||_(q),oe.brushCallback(Y),$?g(H.parentNode,Z):(Z(),g(H.parentNode))}else Z();oe.brushEndCallback(q.filterSpecified?ne.getConsolidated():[])}function E(H,Y){var q=Y.height-L.mouse(H)[1]-2*p.verticalPadding,ne=M(Y,q),oe="crosshair";ne.clickableOrdinalRange?oe="pointer":ne.region&&(oe=ne.region+"-resize"),L.select(document.body).style("cursor",oe)}function b(H){H.on("mousemove",function(Y){L.event.preventDefault(),Y.parent.inBrushDrag||E(this,Y)}).on("mouseleave",function(Y){Y.parent.inBrushDrag||v()}).call(L.behavior.drag().on("dragstart",function(Y){A(this,Y)}).on("drag",function(Y){k(this,Y)}).on("dragend",function(Y){w(this,Y)}))}function o(H,Y){return H[0]-Y[0]}function P(H,Y,q){var ne=q._context.staticPlot,oe=H.selectAll(".background").data(C);oe.enter().append("rect").classed("background",!0).call(u).call(s).style("pointer-events",ne?"none":"auto").attr("transform",d(0,p.verticalPadding)),oe.call(b).attr("height",function(Z){return Z.height-p.verticalPadding});var he=H.selectAll(".highlight-shadow").data(C);he.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",Y).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),he.attr("y1",function(Z){return Z.height}).call(l);var J=H.selectAll(".highlight").data(C);J.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),J.attr("y1",function(Z){return Z.height}).call(l)}function x(H,Y,q){var ne=H.selectAll("."+p.cn.axisBrush).data(C,n);ne.enter().append("g").classed(p.cn.axisBrush,!0),P(ne,Y,q)}function z(H){return H.svgBrush.extent.map(function(Y){return Y.slice()})}function _(H){H.filterSpecified=!1,H.svgBrush.extent=[[-1/0,1/0]]}function G(H){return function(q){var ne=q.brush,oe=z(ne),he=oe.slice();ne.filter.set(he),H()}}function F(H){for(var Y=H.slice(),q=[],ne,oe=Y.shift();oe;){for(ne=oe.slice();(oe=Y.shift())&&oe[0]<=ne[1];)ne[1]=Math.max(ne[1],oe[1]);q.push(ne)}return q.length===1&&q[0][0]>q[0][1]&&(q=[]),q}function N(){var H=[],Y,q;return{set:function(ne){H=ne.map(function(oe){return oe.slice().sort(T)}).sort(o),H.length===1&&H[0][0]===-1/0&&H[0][1]===1/0&&(H=[[0,-1]]),Y=F(H),q=H.reduce(function(oe,he){return[Math.min(oe[0],he[0]),Math.max(oe[1],he[1])]},[1/0,-1/0])},get:function(){return H.slice()},getConsolidated:function(){return Y},getBounds:function(){return q}}}function U(H,Y,q,ne,oe,he){var J=N();return J.set(q),{filter:J,filterSpecified:Y,svgBrush:{extent:[],brushStartCallback:ne,brushCallback:G(oe),brushEndCallback:he}}}function O(H,Y){if(Array.isArray(H[0])?(H=H.map(function(ne){return ne.sort(T)}),Y.multiselect?H=F(H.sort(o)):H=[H[0]]):H=[H.sort(T)],Y.tickvals){var q=Y.tickvals.slice().sort(T);if(H=H.map(function(ne){var oe=[a(0,q,ne[0],[]),a(1,q,ne[1],[])];if(oe[1]>oe[0])return oe}).filter(function(ne){return ne}),!H.length)return}return H.length>1?H:H[0]}V.exports={makeBrush:U,ensureAxisBrush:x,cleanRanges:O}},71791:function(V,B,e){V.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(V,B,e){var p=e(39898),L=e(27659).a0,n=e(21341),C=e(77922);B.name="parcoords",B.plot=function(T){var d=L(T.calcdata,"parcoords")[0];d.length&&n(T,d)},B.clean=function(T,d,y,r){var t=r._has&&r._has("parcoords"),i=d._has&&d._has("parcoords");t&&!i&&(r._paperdiv.selectAll(".parcoords").remove(),r._glimages.selectAll("*").remove())},B.toSVG=function(T){var d=T._fullLayout._glimages,y=p.select(T).selectAll(".svg-container"),r=y.filter(function(i,a){return a===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function t(){var i=this,a=i.toDataURL("image/png"),h=d.append("svg:image");h.attr({xmlns:C.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:i.style.width,height:i.style.height})}r.each(t),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(V,B,e){var p=e(71828).isArrayOrTypedArray,L=e(21081),n=e(28984).wrap;V.exports=function(d,y){var r,t;return L.hasColorscale(y,"line")&&p(y.line.color)?(r=y.line.color,t=L.extractOpts(y.line).colorscale,L.calc(d,y,{vals:r,containerStr:"line",cLetter:"c"})):(r=C(y._length),t=[[0,y.line.color],[1,y.line.color]]),n({lineColor:r,cscale:t})};function C(T){for(var d=new Array(T),y=0;y<T;y++)d[y]=.5;return d}},25706:function(V){V.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(V,B,e){var p=e(71828),L=e(52075).hasColorscale,n=e(1586),C=e(27670).c,T=e(85501),d=e(89298),y=e(73362),r=e(57920),t=e(25706).maxDimensionCount,i=e(94397);function a(u,s,m,f,S){var v=S("line.color",m);if(L(u,"line")&&p.isArrayOrTypedArray(v)){if(v.length)return S("line.colorscale"),n(u,s,f,S,{prefix:"line.",cLetter:"c"}),v.length;s.line.color=m}return 1/0}function h(u,s,m,f){function S(A,k){return p.coerce(u,s,y.dimensions,A,k)}var v=S("values"),l=S("visible");if(v&&v.length||(l=s.visible=!1),l){S("label"),S("tickvals"),S("ticktext"),S("tickformat");var g=S("range");s._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:g},d.setConvert(s._ax,f.layout),S("multiselect");var M=S("constraintrange");M&&(s.constraintrange=r.cleanRanges(M,s))}}V.exports=function(s,m,f,S){function v(k,w){return p.coerce(s,m,y,k,w)}var l=s.dimensions;Array.isArray(l)&&l.length>t&&(p.log("parcoords traces support up to "+t+" dimensions at the moment"),l.splice(t));var g=T(s,m,{name:"dimensions",layout:S,handleItemDefaults:h}),M=a(s,m,f,S,v);C(m,S,v),(!Array.isArray(g)||!g.length)&&(m.visible=!1),i(m,g,"values",M);var A={family:S.font.family,size:Math.round(S.font.size/1.2),color:S.font.color};p.coerceFont(v,"labelfont",A),p.coerceFont(v,"tickfont",A),p.coerceFont(v,"rangefont",A),v("labelangle"),v("labelside"),v("unselected.line.color"),v("unselected.line.opacity")}},1602:function(V,B,e){var p=e(71828).isTypedArray;B.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},B.isOrdinal=function(L){return!!L.tickvals},B.isVisible=function(L){return L.visible||!("visible"in L)}},67618:function(V,B,e){var p=e(71791);p.plot=e(21341),V.exports=p},83398:function(V,B,e){var p=e(56068),L=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),n=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),C=e(25706).maxDimensionCount,T=e(71828),d=1e-6,y=2048,r=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(E){E.read({x:0,y:0,width:1,height:1,data:r})}function h(E,b,o,P,x){var z=E._gl;z.enable(z.SCISSOR_TEST),z.scissor(b,o,P,x),E.clear({color:[0,0,0,0],depth:1})}function u(E,b,o,P,x,z){var _=z.key;function G(F){var N=Math.min(P,x-F*P);F===0&&(window.cancelAnimationFrame(o.currentRafs[_]),delete o.currentRafs[_],h(E,z.scissorX,z.scissorY,z.scissorWidth,z.viewBoxSize[1])),!o.clearOnly&&(z.count=2*N,z.offset=2*F*P,b(z),F*P+N<x&&(o.currentRafs[_]=window.requestAnimationFrame(function(){G(F+1)})),o.drawCompleted=!1)}o.drawCompleted||(a(E),o.drawCompleted=!0),G(0)}function s(E){return Math.max(d,Math.min(1-d,E))}function m(E,b){for(var o=new Array(256),P=0;P<256;P++)o[P]=E(P/255).concat(b);return o}function f(E,b){return(E>>>8*b)%256/255}function S(E,b,o){for(var P=new Array(E*(C+4)),x=0,z=0;z<E;z++){for(var _=0;_<C;_++)P[x++]=_<b.length?b[_].paddedUnitValues[z]:.5;P[x++]=f(z,2),P[x++]=f(z,1),P[x++]=f(z,0),P[x++]=s(o[z])}return P}function v(E,b,o){for(var P=new Array(b*8),x=0,z=0;z<b;z++)for(var _=0;_<2;_++)for(var G=0;G<4;G++){var F=E*4+G,N=o[z*64+F];F===63&&_===0&&(N*=-1),P[x++]=N}return P}function l(E){var b="0"+E;return b.substr(b.length-2)}function g(E){return E<C?"p"+l(E+1)+"_"+l(E+4):"colors"}function M(E,b,o){for(var P=0;P<=C;P+=4)E[g(P)](v(P/4,b,o))}function A(E){for(var b={},o=0;o<=C;o+=4)b[g(o)]=E.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return b}function k(E,b,o,P,x,z,_,G,F,N,U,O,H,Y){for(var q=[[],[]],ne=0;ne<64;ne++)q[0][ne]=ne===x?1:0,q[1][ne]=ne===z?1:0;_*=Y,G*=Y,F*=Y,N*=Y;var oe=E.lines.canvasOverdrag*Y,he=E.domain,J=E.canvasWidth*Y,Z=E.canvasHeight*Y,se=E.pad.l*Y,$=E.pad.b*Y,ee=E.layoutHeight*Y,le=E.layoutWidth*Y,Q=E.deselectedLines.color,K=E.deselectedLines.opacity,ue=T.extendFlat({key:U,resolution:[J,Z],viewBoxPos:[_+oe,G],viewBoxSize:[F,N],i0:x,i1:z,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:O,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,K!=="auto"?Q[3]*K:Math.max(1/255,Math.pow(1/E.lines.color.length,1/3))],scissorX:(P===b?0:_+oe)+(se-oe)+le*he.x[0],scissorWidth:(P===o?J-_+oe:F+.5)+(P===b?_+oe:0),scissorY:G+$+ee*he.y[0],scissorHeight:N,viewportX:se-oe+le*he.x[0],viewportY:$+ee*he.y[0],viewportWidth:J,viewportHeight:Z},H);return ue}function w(E){var b=y-1,o=Math.max(0,Math.floor(E[0]*b),0),P=Math.min(b,Math.ceil(E[1]*b),b);return[Math.min(o,P),Math.max(o,P)]}V.exports=function(E,b){var o=b.context,P=b.pick,x=b.regl,z=x._gl,_=z.getParameter(z.ALIASED_LINE_WIDTH_RANGE),G=Math.max(_[0],Math.min(_[1],b.viewModel.plotGlPixelRatio)),F={currentRafs:{},drawCompleted:!0,clearOnly:!1},N,U,O,H,Y=A(x),q,ne=x.texture(i),oe=[];J(b);var he=x({profile:!1,blend:{enable:o,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!o,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:x.prop("scissorX"),y:x.prop("scissorY"),width:x.prop("scissorWidth"),height:x.prop("scissorHeight")}},viewport:{x:x.prop("viewportX"),y:x.prop("viewportY"),width:x.prop("viewportWidth"),height:x.prop("viewportHeight")},dither:!1,vert:L,frag:n,primitive:"lines",lineWidth:G,attributes:Y,uniforms:{resolution:x.prop("resolution"),viewBoxPos:x.prop("viewBoxPos"),viewBoxSize:x.prop("viewBoxSize"),dim0A:x.prop("dim0A"),dim1A:x.prop("dim1A"),dim0B:x.prop("dim0B"),dim1B:x.prop("dim1B"),dim0C:x.prop("dim0C"),dim1C:x.prop("dim1C"),dim0D:x.prop("dim0D"),dim1D:x.prop("dim1D"),loA:x.prop("loA"),hiA:x.prop("hiA"),loB:x.prop("loB"),hiB:x.prop("hiB"),loC:x.prop("loC"),hiC:x.prop("hiC"),loD:x.prop("loD"),hiD:x.prop("hiD"),palette:ne,contextColor:x.prop("contextColor"),maskTexture:x.prop("maskTexture"),drwLayer:x.prop("drwLayer"),maskHeight:x.prop("maskHeight")},offset:x.prop("offset"),count:x.prop("count")});function J(Q){N=Q.model,U=Q.viewModel,O=U.dimensions.slice(),H=O[0]?O[0].values.length:0;var K=N.lines,ue=P?K.color.map(function(ce,xe){return xe/K.color.length}):K.color,ie=S(H,O,ue);M(Y,H,ie),!o&&!P&&(ne=x.texture(T.extendFlat({data:m(N.unitToColor,255)},i)))}function Z(Q){var K,ue,ie,ce=[[],[]];for(ie=0;ie<64;ie++){var xe=!Q&&ie<O.length?O[ie].brush.filter.getBounds():[-1/0,1/0];ce[0][ie]=xe[0],ce[1][ie]=xe[1]}var Le=y*8,Ae=new Array(Le);for(K=0;K<Le;K++)Ae[K]=255;if(!Q)for(K=0;K<O.length;K++){var Oe=K%8,ze=(K-Oe)/8,Ee=Math.pow(2,Oe),be=O[K],Ce=be.brush.filter.get();if(!(Ce.length<2)){var Ue=w(Ce[0])[1];for(ue=1;ue<Ce.length;ue++){var He=w(Ce[ue]);for(ie=Ue+1;ie<He[0];ie++)Ae[ie*8+ze]&=~Ee;Ue=Math.max(Ue,He[1])}}}var Ie={shape:[8,y],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Ae};return q?q(Ie):q=x.texture(Ie),{maskTexture:q,maskHeight:y,loA:ce[0].slice(0,16),loB:ce[0].slice(16,32),loC:ce[0].slice(32,48),loD:ce[0].slice(48,64),hiA:ce[1].slice(0,16),hiB:ce[1].slice(16,32),hiC:ce[1].slice(32,48),hiD:ce[1].slice(48,64)}}function se(Q,K,ue){var ie=Q.length,ce,xe,Le,Ae=1/0,Oe=-1/0;for(ce=0;ce<ie;ce++)Q[ce].dim0.canvasX<Ae&&(Ae=Q[ce].dim0.canvasX,xe=ce),Q[ce].dim1.canvasX>Oe&&(Oe=Q[ce].dim1.canvasX,Le=ce);ie===0&&h(x,0,0,N.canvasWidth,N.canvasHeight);var ze=Z(o);for(ce=0;ce<ie;ce++){var Ee=Q[ce],be=Ee.dim0.crossfilterDimensionIndex,Ce=Ee.dim1.crossfilterDimensionIndex,Ue=Ee.canvasX,He=Ee.canvasY,Ie=Ue+Ee.panelSizeX,Ge=Ee.plotGlPixelRatio;if(K||!oe[be]||oe[be][0]!==Ue||oe[be][1]!==Ie){oe[be]=[Ue,Ie];var at=k(N,xe,Le,ce,be,Ce,Ue,He,Ee.panelSizeX,Ee.panelSizeY,Ee.dim0.crossfilterDimensionIndex,o?0:P?2:1,ze,Ge);F.clearOnly=ue;var lt=K?N.lines.blockLineCount:H;u(x,he,F,lt,H,at)}}}function $(Q,K){return x.read({x:Q,y:K,width:1,height:1,data:t}),t}function ee(Q,K,ue,ie){var ce=new Uint8Array(4*ue*ie);return x.read({x:Q,y:K,width:ue,height:ie,data:ce}),ce}function le(){E.style["pointer-events"]="none",ne.destroy(),q&&q.destroy();for(var Q in Y)Y[Q].destroy()}return{render:se,readPixel:$,readPixels:ee,destroy:le,update:J}}},94397:function(V){V.exports=function(B,e,p,L){L||(L=1/0);var n,C;for(n=0;n<e.length;n++)C=e[n],C.visible&&(L=Math.min(L,C[p].length));for(L===1/0&&(L=0),B._length=L,n=0;n<e.length;n++)C=e[n],C.visible&&(C._length=L);return L}},17171:function(V,B,e){var p=e(39898),L=e(71828),n=L.isArrayOrTypedArray,C=L.numberFormat,T=e(36652),d=e(89298),y=L.strRotate,r=L.strTranslate,t=e(63893),i=e(91424),a=e(21081),h=e(28984),u=h.keyFun,s=h.repeat,m=h.unwrap,f=e(1602),S=e(25706),v=e(57920),l=e(83398);function g(ne,oe,he){return L.aggNums(ne,null,oe,he)}function M(ne,oe){return k(g(Math.min,ne,oe),g(Math.max,ne,oe))}function A(ne){var oe=ne.range;return oe?k(oe[0],oe[1]):M(ne.values,ne._length)}function k(ne,oe){return(isNaN(ne)||!isFinite(ne))&&(ne=0),(isNaN(oe)||!isFinite(oe))&&(oe=0),ne===oe&&(ne===0?(ne-=1,oe+=1):(ne*=.9,oe*=1.1)),[ne,oe]}function w(ne,oe){return oe?function(he,J){var Z=oe[J];return Z??ne(he)}:ne}function E(ne,oe,he,J,Z){var se=A(he);return J?p.scale.ordinal().domain(J.map(w(C(he.tickformat),Z))).range(J.map(function($){var ee=($-se[0])/(se[1]-se[0]);return ne-oe+ee*(2*oe-ne)})):p.scale.linear().domain(se).range([ne-oe,oe])}function b(ne,oe){return p.scale.linear().range([oe,ne-oe])}function o(ne,oe){return p.scale.linear().domain(A(ne)).range([oe,1-oe])}function P(ne){if(ne.tickvals){var oe=A(ne);return p.scale.ordinal().domain(ne.tickvals).range(ne.tickvals.map(function(he){return(he-oe[0])/(oe[1]-oe[0])}))}}function x(ne){var oe=ne.map(function(se){return se[0]}),he=ne.map(function(se){var $=T(se[1]);return p.rgb("rgb("+$[0]+","+$[1]+","+$[2]+")")}),J=function(se){return function($){return $[se]}},Z="rgb".split("").map(function(se){return p.scale.linear().clamp(!0).domain(oe).range(he.map(J(se)))});return function(se){return Z.map(function($){return $(se)})}}function z(ne){return ne.dimensions.some(function(oe){return oe.brush.filterSpecified})}function _(ne,oe,he){var J=m(oe),Z=J.trace,se=f.convertTypedArray(J.lineColor),$=Z.line,ee={color:T(Z.unselected.line.color),opacity:Z.unselected.line.opacity},le=a.extractOpts($),Q=le.reversescale?a.flipScale(J.cscale):J.cscale,K=Z.domain,ue=Z.dimensions,ie=ne.width,ce=Z.labelangle,xe=Z.labelside,Le=Z.labelfont,Ae=Z.tickfont,Oe=Z.rangefont,ze=L.extendDeepNoArrays({},$,{color:se.map(p.scale.linear().domain(A({values:se,range:[le.min,le.max],_length:Z._length}))),blockLineCount:S.blockLineCount,canvasOverdrag:S.overdrag*S.canvasPixelRatio}),Ee=Math.floor(ie*(K.x[1]-K.x[0])),be=Math.floor(ne.height*(K.y[1]-K.y[0])),Ce=ne.margin||{l:80,r:80,t:100,b:80},Ue=Ee,He=be;return{key:he,colCount:ue.filter(f.isVisible).length,dimensions:ue,tickDistance:S.tickDistance,unitToColor:x(Q),lines:ze,deselectedLines:ee,labelAngle:ce,labelSide:xe,labelFont:Le,tickFont:Ae,rangeFont:Oe,layoutWidth:ie,layoutHeight:ne.height,domain:K,translateX:K.x[0]*ie,translateY:ne.height-K.y[1]*ne.height,pad:Ce,canvasWidth:Ue*S.canvasPixelRatio+2*ze.canvasOverdrag,canvasHeight:He*S.canvasPixelRatio,width:Ue,height:He,canvasPixelRatio:S.canvasPixelRatio}}function G(ne,oe,he){var J=he.width,Z=he.height,se=he.dimensions,$=he.canvasPixelRatio,ee=function(ie){return J*ie/Math.max(1,he.colCount-1)},le=S.verticalPadding/Z,Q=b(Z,S.verticalPadding),K={key:he.key,xScale:ee,model:he,inBrushDrag:!1},ue={};return K.dimensions=se.filter(f.isVisible).map(function(ie,ce){var xe=o(ie,le),Le=ue[ie.label];ue[ie.label]=(Le||0)+1;var Ae=ie.label+(Le?"__"+Le:""),Oe=ie.constraintrange,ze=Oe&&Oe.length;ze&&!n(Oe[0])&&(Oe=[Oe]);var Ee=ze?Oe.map(function(et){return et.map(xe)}):[[-1/0,1/0]],be=function(){var et=K;et.focusLayer&&et.focusLayer.render(et.panels,!0);var ft=z(et);!ne.contextShown()&&ft?(et.contextLayer&&et.contextLayer.render(et.panels,!0),ne.contextShown(!0)):ne.contextShown()&&!ft&&(et.contextLayer&&et.contextLayer.render(et.panels,!0,!0),ne.contextShown(!1))},Ce=ie.values;Ce.length>ie._length&&(Ce=Ce.slice(0,ie._length));var Ue=ie.tickvals,He;function Ie(et,ft){return{val:et,text:He[ft]}}function Ge(et,ft){return et.val-ft.val}if(n(Ue)&&Ue.length){L.isTypedArray(Ue)&&(Ue=Array.from(Ue)),He=ie.ticktext,!n(He)||!He.length?He=Ue.map(C(ie.tickformat)):He.length>Ue.length?He=He.slice(0,Ue.length):Ue.length>He.length&&(Ue=Ue.slice(0,He.length));for(var at=1;at<Ue.length;at++)if(Ue[at]<Ue[at-1]){for(var lt=Ue.map(Ie).sort(Ge),qe=0;qe<Ue.length;qe++)Ue[qe]=lt[qe].val,He[qe]=lt[qe].text;break}}else Ue=void 0;return Ce=f.convertTypedArray(Ce),{key:Ae,label:ie.label,tickFormat:ie.tickformat,tickvals:Ue,ticktext:He,ordinal:f.isOrdinal(ie),multiselect:ie.multiselect,xIndex:ce,crossfilterDimensionIndex:ce,visibleIndex:ie._index,height:Z,values:Ce,paddedUnitValues:Ce.map(xe),unitTickvals:Ue&&Ue.map(xe),xScale:ee,x:ee(ce),canvasX:ee(ce)*$,unitToPaddedPx:Q,domainScale:E(Z,S.verticalPadding,ie,Ue,He),ordinalScale:P(ie),parent:K,model:he,brush:v.makeBrush(ne,ze,Ee,function(){ne.linePickActive(!1)},be,function(et){if(K.focusLayer.render(K.panels,!0),K.pickLayer&&K.pickLayer.render(K.panels,!0),ne.linePickActive(!0),oe&&oe.filterChanged){var ft=xe.invert,dt=et.map(function(pt){return pt.map(ft).sort(L.sorterAsc)}).sort(function(pt,At){return pt[0]-At[0]});oe.filterChanged(K.key,ie._index,dt)}})}}),K}function F(ne){ne.classed(S.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function N(){var ne=!0,oe=!1;return{linePickActive:function(he){return arguments.length?ne=!!he:ne},contextShown:function(he){return arguments.length?oe=!!he:oe}}}function U(ne,oe){var he=oe==="top"?1:-1,J=ne*Math.PI/180,Z=Math.sin(J),se=Math.cos(J);return{dir:he,dx:Z,dy:se,degrees:ne}}function O(ne,oe,he){for(var J=oe.panels||(oe.panels=[]),Z=ne.data(),se=0;se<Z.length-1;se++){var $=J[se]||(J[se]={}),ee=Z[se],le=Z[se+1];$.dim0=ee,$.dim1=le,$.canvasX=ee.canvasX,$.panelSizeX=le.canvasX-ee.canvasX,$.panelSizeY=oe.model.canvasHeight,$.y=0,$.canvasY=0,$.plotGlPixelRatio=he}}function H(ne){for(var oe=0;oe<ne.length;oe++)for(var he=0;he<ne[oe].length;he++)for(var J=ne[oe][he].trace,Z=J.dimensions,se=0;se<Z.length;se++){var $=Z[se].values,ee=Z[se]._ax;ee&&(ee.range?ee.range=k(ee.range[0],ee.range[1]):ee.range=M($,J._length),ee.dtick||(ee.dtick=.01*(Math.abs(ee.range[1]-ee.range[0])||1)),ee.tickformat=Z[se].tickformat,d.calcTicks(ee),ee.cleanRange())}}function Y(ne,oe){return d.tickText(ne._ax,oe,!1).text}function q(ne,oe){if(ne.ordinal)return"";var he=ne.domainScale.domain(),J=he[oe?he.length-1:0];return Y(ne.model.dimensions[ne.visibleIndex],J)}V.exports=function(oe,he,J,Z){var se=oe._context.staticPlot,$=oe._fullLayout,ee=$._toppaper,le=$._glcontainer,Q=oe._context.plotGlPixelRatio,K=oe._fullLayout.paper_bgcolor;H(he);var ue=N(),ie=he.filter(function(qe){return m(qe).trace.visible}).map(_.bind(0,J)).map(G.bind(0,ue,Z));le.each(function(qe,et){return L.extendFlat(qe,ie[et])});var ce=le.selectAll(".gl-canvas").each(function(qe){qe.viewModel=ie[0],qe.viewModel.plotGlPixelRatio=Q,qe.viewModel.paperColor=K,qe.model=qe.viewModel?qe.viewModel.model:null}),xe=null,Le=ce.filter(function(qe){return qe.pick});Le.style("pointer-events",se?"none":"auto").on("mousemove",function(qe){if(ue.linePickActive()&&qe.lineLayer&&Z&&Z.hover){var et=p.event,ft=this.width,dt=this.height,pt=p.mouse(this),At=pt[0],Pt=pt[1];if(At<0||Pt<0||At>=ft||Pt>=dt)return;var Ht=qe.lineLayer.readPixel(At,dt-1-Pt),Je=Ht[3]!==0,We=Je?Ht[2]+256*(Ht[1]+256*Ht[0]):null,_e={x:At,y:Pt,clientX:et.clientX,clientY:et.clientY,dataIndex:qe.model.key,curveNumber:We};We!==xe&&(Je?Z.hover(_e):Z.unhover&&Z.unhover(_e),xe=We)}}),ce.style("opacity",function(qe){return qe.pick?0:1}),ee.style("background","rgba(255, 255, 255, 0)");var Ae=ee.selectAll("."+S.cn.parcoords).data(ie,u);Ae.exit().remove(),Ae.enter().append("g").classed(S.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(qe){return r(qe.model.translateX,qe.model.translateY)});var Oe=Ae.selectAll("."+S.cn.parcoordsControlView).data(s,u);Oe.enter().append("g").classed(S.cn.parcoordsControlView,!0),Oe.attr("transform",function(qe){return r(qe.model.pad.l,qe.model.pad.t)});var ze=Oe.selectAll("."+S.cn.yAxis).data(function(qe){return qe.dimensions},u);ze.enter().append("g").classed(S.cn.yAxis,!0),Oe.each(function(qe){O(ze,qe,Q)}),ce.each(function(qe){if(qe.viewModel){!qe.lineLayer||Z?qe.lineLayer=l(this,qe):qe.lineLayer.update(qe),(qe.key||qe.key===0)&&(qe.viewModel[qe.key]=qe.lineLayer);var et=!qe.context||Z;qe.lineLayer.render(qe.viewModel.panels,et)}}),ze.attr("transform",function(qe){return r(qe.xScale(qe.xIndex),0)}),ze.call(p.behavior.drag().origin(function(qe){return qe}).on("drag",function(qe){var et=qe.parent;ue.linePickActive(!1),qe.x=Math.max(-S.overdrag,Math.min(qe.model.width+S.overdrag,p.event.x)),qe.canvasX=qe.x*qe.model.canvasPixelRatio,ze.sort(function(ft,dt){return ft.x-dt.x}).each(function(ft,dt){ft.xIndex=dt,ft.x=qe===ft?ft.x:ft.xScale(ft.xIndex),ft.canvasX=ft.x*ft.model.canvasPixelRatio}),O(ze,et,Q),ze.filter(function(ft){return Math.abs(qe.xIndex-ft.xIndex)!==0}).attr("transform",function(ft){return r(ft.xScale(ft.xIndex),0)}),p.select(this).attr("transform",r(qe.x,0)),ze.each(function(ft,dt,pt){pt===qe.parent.key&&(et.dimensions[dt]=ft)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!z(et)),et.focusLayer.render&&et.focusLayer.render(et.panels)}).on("dragend",function(qe){var et=qe.parent;qe.x=qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio,O(ze,et,Q),p.select(this).attr("transform",function(ft){return r(ft.x,0)}),et.contextLayer&&et.contextLayer.render(et.panels,!1,!z(et)),et.focusLayer&&et.focusLayer.render(et.panels),et.pickLayer&&et.pickLayer.render(et.panels,!0),ue.linePickActive(!0),Z&&Z.axesMoved&&Z.axesMoved(et.key,et.dimensions.map(function(ft){return ft.crossfilterDimensionIndex}))})),ze.exit().remove();var Ee=ze.selectAll("."+S.cn.axisOverlays).data(s,u);Ee.enter().append("g").classed(S.cn.axisOverlays,!0),Ee.selectAll("."+S.cn.axis).remove();var be=Ee.selectAll("."+S.cn.axis).data(s,u);be.enter().append("g").classed(S.cn.axis,!0),be.each(function(qe){var et=qe.model.height/qe.model.tickDistance,ft=qe.domainScale,dt=ft.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(et,qe.tickFormat).tickValues(qe.ordinal?dt:null).tickFormat(function(pt){return f.isOrdinal(qe)?pt:Y(qe.model.dimensions[qe.visibleIndex],pt)}).scale(ft)),i.font(be.selectAll("text"),qe.model.tickFont)}),be.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),be.selectAll("text").style("text-shadow",t.makeTextShadow(K)).style("cursor","default");var Ce=Ee.selectAll("."+S.cn.axisHeading).data(s,u);Ce.enter().append("g").classed(S.cn.axisHeading,!0);var Ue=Ce.selectAll("."+S.cn.axisTitle).data(s,u);Ue.enter().append("text").classed(S.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",se?"none":"auto"),Ue.text(function(qe){return qe.label}).each(function(qe){var et=p.select(this);i.font(et,qe.model.labelFont),t.convertToTspans(et,oe)}).attr("transform",function(qe){var et=U(qe.model.labelAngle,qe.model.labelSide),ft=S.axisTitleOffset;return(et.dir>0?"":r(0,2*ft+qe.model.height))+y(et.degrees)+r(-ft*et.dx,-ft*et.dy)}).attr("text-anchor",function(qe){var et=U(qe.model.labelAngle,qe.model.labelSide),ft=Math.abs(et.dx),dt=Math.abs(et.dy);return 2*ft>dt?et.dir*et.dx<0?"start":"end":"middle"});var He=Ee.selectAll("."+S.cn.axisExtent).data(s,u);He.enter().append("g").classed(S.cn.axisExtent,!0);var Ie=He.selectAll("."+S.cn.axisExtentTop).data(s,u);Ie.enter().append("g").classed(S.cn.axisExtentTop,!0),Ie.attr("transform",r(0,-S.axisExtentOffset));var Ge=Ie.selectAll("."+S.cn.axisExtentTopText).data(s,u);Ge.enter().append("text").classed(S.cn.axisExtentTopText,!0).call(F),Ge.text(function(qe){return q(qe,!0)}).each(function(qe){i.font(p.select(this),qe.model.rangeFont)});var at=He.selectAll("."+S.cn.axisExtentBottom).data(s,u);at.enter().append("g").classed(S.cn.axisExtentBottom,!0),at.attr("transform",function(qe){return r(0,qe.model.height+S.axisExtentOffset)});var lt=at.selectAll("."+S.cn.axisExtentBottomText).data(s,u);lt.enter().append("text").classed(S.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(F),lt.text(function(qe){return q(qe,!1)}).each(function(qe){i.font(p.select(this),qe.model.rangeFont)}),v.ensureAxisBrush(Ee,K,oe)}},21341:function(V,B,e){var p=e(17171),L=e(79749),n=e(1602).isVisible,C={};function T(r,t,i){var a=t.indexOf(i),h=r.indexOf(a);return h===-1&&(h+=t.length),h}function d(r,t){return function(a,h){return T(r,t,a)-T(r,t,h)}}var y=V.exports=function(t,i){var a=t._fullLayout,h=L(t,[],C);if(h){var u={},s={},m={},f={},S=a._size;i.forEach(function(A,k){var w=A[0].trace;m[k]=w.index;var E=f[k]=w._fullInput.index;u[k]=t.data[E].dimensions,s[k]=t.data[E].dimensions.slice()});var v=function(A,k,w){var E=s[A][k],b=w.map(function(G){return G.slice()}),o="dimensions["+k+"].constraintrange",P=a._tracePreGUI[t._fullData[m[A]]._fullInput.uid];if(P[o]===void 0){var x=E.constraintrange;P[o]=x||null}var z=t._fullData[m[A]].dimensions[k];b.length?(b.length===1&&(b=b[0]),E.constraintrange=b,z.constraintrange=b.slice(),b=[b]):(delete E.constraintrange,delete z.constraintrange,b=null);var _={};_[o]=b,t.emit("plotly_restyle",[_,[f[A]]])},l=function(A){t.emit("plotly_hover",A)},g=function(A){t.emit("plotly_unhover",A)},M=function(A,k){var w=d(k,s[A].filter(n));u[A].sort(w),s[A].filter(function(E){return!n(E)}).sort(function(E){return s[A].indexOf(E)}).forEach(function(E){u[A].splice(u[A].indexOf(E),1),u[A].splice(s[A].indexOf(E),0,E)}),t.emit("plotly_restyle",[{dimensions:[u[A]]},[f[A]]])};p(t,i,{width:S.w,height:S.h,margin:{t:S.t,r:S.r,b:S.b,l:S.l}},{filterChanged:v,hover:l,unhover:g,axesMoved:M})}};y.reglPrecompiled=C},34e3:function(V,B,e){var p=e(9012),L=e(27670).Y,n=e(41940),C=e(22399),T=e(5386).fF,d=e(5386).si,y=e(1426).extendFlat,r=e(79952).u,t=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});V.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:r,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:y({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:y({},t,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:y({},t,{}),outsidetextfont:y({},t,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:y({},t,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:y({},t,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(V,B,e){var p=e(74875);B.name="pie",B.plot=function(L,n,C,T){p.plotBasePlot(B.name,L,n,C,T)},B.clean=function(L,n,C,T){p.cleanBasePlot(B.name,L,n,C,T)}},32354:function(V,B,e){var p=e(92770),L=e(84267),n=e(7901),C={};function T(t,i){var a=[],h=t._fullLayout,u=h.hiddenlabels||[],s=i.labels,m=i.marker.colors||[],f=i.values,S=i._length,v=i._hasValues&&S,l,g;if(i.dlabel)for(s=new Array(S),l=0;l<S;l++)s[l]=String(i.label0+l*i.dlabel);var M={},A=d(h["_"+i.type+"colormap"]),k=0,w=!1;for(l=0;l<S;l++){var E,b,o;if(v){if(E=f[l],!p(E))continue;E=+E}else E=1;b=s[l],(b===void 0||b==="")&&(b=l),b=String(b);var P=M[b];P===void 0?(M[b]=a.length,o=u.indexOf(b)!==-1,o||(k+=E),a.push({v:E,label:b,color:A(m[l],b),i:l,pts:[l],hidden:o})):(w=!0,g=a[P],g.v+=E,g.pts.push(l),g.hidden||(k+=E),g.color===!1&&m[l]&&(g.color=A(m[l],b)))}a=a.filter(function(z){return z.v>=0});var x=i.type==="funnelarea"?w:i.sort;return x&&a.sort(function(z,_){return _.v-z.v}),a[0]&&(a[0].vTotal=k),a}function d(t){return function(a,h){return!a||(a=L(a),!a.isValid())?!1:(a=n.addOpacity(a,a.getAlpha()),t[h]||(t[h]=a),a)}}function y(t,i){var a=(i||{}).type;a||(a="pie");var h=t._fullLayout,u=t.calcdata,s=h[a+"colorway"],m=h["_"+a+"colormap"];h["extend"+a+"colors"]&&(s=r(s,C));for(var f=0,S=0;S<u.length;S++){var v=u[S],l=v[0].trace.type;if(l===a)for(var g=0;g<v.length;g++){var M=v[g];M.color===!1&&(m[M.label]?M.color=m[M.label]:(m[M.label]=M.color=s[f%s.length],f++))}}}function r(t,i){var a,h=JSON.stringify(t),u=i[h];if(!u){for(u=t.slice(),a=0;a<t.length;a++)u.push(L(t[a]).lighten(20).toHexString());for(a=0;a<t.length;a++)u.push(L(t[a]).darken(20).toHexString());i[h]=u}return u}V.exports={calc:T,crossTraceCalc:y,makePullColorFn:d,generateExtendedColors:r}},37434:function(V,B,e){var p=e(92770),L=e(71828),n=e(34e3),C=e(27670).c,T=e(90769).handleText,d=e(71828).coercePattern;function y(i,a){var h=L.isArrayOrTypedArray(i),u=L.isArrayOrTypedArray(a),s=Math.min(h?i.length:1/0,u?a.length:1/0);if(isFinite(s)||(s=0),s&&u){for(var m,f=0;f<s;f++){var S=a[f];if(p(S)&&S>0){m=!0;break}}m||(s=0)}return{hasLabels:h,hasValues:u,len:s}}function r(i,a,h,u,s){var m=u("marker.line.width");m&&u("marker.line.color",s?void 0:h.paper_bgcolor);var f=u("marker.colors");d(u,"marker.pattern",f),i.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=i.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=h.paper_bgcolor)}function t(i,a,h,u){function s(P,x){return L.coerce(i,a,n,P,x)}var m=s("labels"),f=s("values"),S=y(m,f),v=S.len;if(a._hasLabels=S.hasLabels,a._hasValues=S.hasValues,!a._hasLabels&&a._hasValues&&(s("label0"),s("dlabel")),!v){a.visible=!1;return}a._length=v,r(i,a,u,s,!0),s("scalegroup");var l=s("text"),g=s("texttemplate"),M;if(g||(M=s("textinfo",L.isArrayOrTypedArray(l)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),g||M&&M!=="none"){var A=s("textposition");T(i,a,u,s,A,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var k=Array.isArray(A)||A==="auto",w=k||A==="outside";w&&s("automargin"),(A==="inside"||A==="auto"||Array.isArray(A))&&s("insidetextorientation")}C(a,u,s);var E=s("hole"),b=s("title.text");if(b){var o=s("title.position",E?"middle center":"top center");!E&&o==="middle center"&&(a.title.position="top center"),L.coerceFont(s,"title.font",u.font)}s("sort"),s("direction"),s("rotation"),s("pull")}V.exports={handleLabelsAndValues:y,handleMarkerDefaults:r,supplyDefaults:t}},20007:function(V,B,e){var p=e(23469).appendArrayMultiPointValues;V.exports=function(n,C){var T={curveNumber:C.index,pointNumbers:n.pts,data:C._input,fullData:C,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(T.pointNumber=T.i=n.pts[0]),p(T,C,n.pts),C.type==="funnelarea"&&(delete T.v,delete T.i),T}},22209:function(V,B,e){var p=e(91424),L=e(7901);V.exports=function(C,T,d,y){var r=d.marker.pattern;r&&r.shape?p.pointStyle(C,d,y,T):L.fill(C,T.color)}},53581:function(V,B,e){var p=e(71828);function L(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}B.formatPiePercent=function(C,T){var d=L((C*100).toPrecision(3));return p.numSeparate(d,T)+"%"},B.formatPieValue=function(C,T){var d=L(C.toPrecision(10));return p.numSeparate(d,T)},B.getFirstFilled=function(C,T){if(p.isArrayOrTypedArray(C))for(var d=0;d<T.length;d++){var y=C[T[d]];if(y||y===0||y==="")return y}},B.castOption=function(C,T){if(p.isArrayOrTypedArray(C))return B.getFirstFilled(C,T);if(C)return C},B.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},58810:function(V,B,e){V.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(V){V.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(V,B,e){var p=e(71828),L=e(92774);V.exports=function(C,T){function d(y,r){return p.coerce(C,T,L,y,r)}d("hiddenlabels"),d("piecolorway",T.colorway),d("extendpiecolors")}},14575:function(V,B,e){var p=e(39898),L=e(74875),n=e(30211),C=e(7901),T=e(91424),d=e(71828),y=d.strScale,r=d.strTranslate,t=e(63893),i=e(72597),a=i.recordMinTextSize,h=i.clearMinTextSize,u=e(97313).TEXTPAD,s=e(53581),m=e(20007),f=e(71828).isValidTextValue;function S(Z,se){var $=Z._context.staticPlot,ee=Z._fullLayout,le=ee._size;h("pie",ee),A(se,Z),Y(se,le);var Q=d.makeTraceGroups(ee._pielayer,se,"trace").each(function(K){var ue=p.select(this),ie=K[0],ce=ie.trace;ne(K),ue.attr("stroke-linejoin","round"),ue.each(function(){var xe=p.select(this).selectAll("g.slice").data(K);xe.enter().append("g").classed("slice",!0),xe.exit().remove();var Le=[[[],[]],[[],[]]],Ae=!1;xe.each(function(Ie,Ge){if(Ie.hidden){p.select(this).selectAll("path,g").remove();return}Ie.pointNumber=Ie.i,Ie.curveNumber=ce.index,Le[Ie.pxmid[1]<0?0:1][Ie.pxmid[0]<0?0:1].push(Ie);var at=ie.cx,lt=ie.cy,qe=p.select(this),et=qe.selectAll("path.surface").data([Ie]);if(et.enter().append("path").classed("surface",!0).style({"pointer-events":$?"none":"all"}),qe.call(l,Z,K),ce.pull){var ft=+s.castOption(ce.pull,Ie.pts)||0;ft>0&&(at+=ft*Ie.pxmid[0],lt+=ft*Ie.pxmid[1])}Ie.cxFinal=at,Ie.cyFinal=lt;function dt(_e,Ne,ke,we){var me=we*(Ne[0]-_e[0]),Me=we*(Ne[1]-_e[1]);return"a"+we*ie.r+","+we*ie.r+" 0 "+Ie.largeArc+(ke?" 1 ":" 0 ")+me+","+Me}var pt=ce.hole;if(Ie.v===ie.vTotal){var At="M"+(at+Ie.px0[0])+","+(lt+Ie.px0[1])+dt(Ie.px0,Ie.pxmid,!0,1)+dt(Ie.pxmid,Ie.px0,!0,1)+"Z";pt?et.attr("d","M"+(at+pt*Ie.px0[0])+","+(lt+pt*Ie.px0[1])+dt(Ie.px0,Ie.pxmid,!1,pt)+dt(Ie.pxmid,Ie.px0,!1,pt)+"Z"+At):et.attr("d",At)}else{var Pt=dt(Ie.px0,Ie.px1,!0,1);if(pt){var Ht=1-pt;et.attr("d","M"+(at+pt*Ie.px1[0])+","+(lt+pt*Ie.px1[1])+dt(Ie.px1,Ie.px0,!1,pt)+"l"+Ht*Ie.px0[0]+","+Ht*Ie.px0[1]+Pt+"Z")}else et.attr("d","M"+at+","+lt+"l"+Ie.px0[0]+","+Ie.px0[1]+Pt+"Z")}he(Z,Ie,ie);var Je=s.castOption(ce.textposition,Ie.pts),We=qe.selectAll("g.slicetext").data(Ie.text&&Je!=="none"?[0]:[]);We.enter().append("g").classed("slicetext",!0),We.exit().remove(),We.each(function(){var _e=d.ensureSingle(p.select(this),"text","",function(Ze){Ze.attr("data-notex",1)}),Ne=d.ensureUniformFontSize(Z,Je==="outside"?g(ce,Ie,ee.font):M(ce,Ie,ee.font));_e.text(Ie.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,Ne).call(t.convertToTspans,Z);var ke=T.bBox(_e.node()),we;if(Je==="outside")we=_(ke,Ie);else if(we=k(ke,Ie,ie),Je==="auto"&&we.scale<1){var me=d.ensureUniformFontSize(Z,ce.outsidetextfont);_e.call(T.font,me),ke=T.bBox(_e.node()),we=_(ke,Ie)}var Me=we.textPosAngle,Se=Me===void 0?Ie.pxmid:oe(ie.r,Me);if(we.targetX=at+Se[0]*we.rCenter+(we.x||0),we.targetY=lt+Se[1]*we.rCenter+(we.y||0),J(we,ke),we.outside){var Ve=we.targetY;Ie.yLabelMin=Ve-ke.height/2,Ie.yLabelMid=Ve,Ie.yLabelMax=Ve+ke.height/2,Ie.labelExtraX=0,Ie.labelExtraY=0,Ae=!0}we.fontSize=Ne.size,a(ce.type,we,ee),K[Ge].transform=we,d.setTransormAndDisplay(_e,we)})});var Oe=p.select(this).selectAll("g.titletext").data(ce.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var Ie=d.ensureSingle(p.select(this),"text","",function(lt){lt.attr("data-notex",1)}),Ge=ce.title.text;ce._meta&&(Ge=d.templateString(Ge,ce._meta)),Ie.text(Ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,ce.title.font).call(t.convertToTspans,Z);var at;ce.title.position==="middle center"?at=G(ie):at=F(ie,le),Ie.attr("transform",r(at.x,at.y)+y(Math.min(1,at.scale))+r(at.tx,at.ty))}),Ae&&H(Le,ce),v(xe,ce),Ae&&ce.automargin){var ze=T.bBox(ue.node()),Ee=ce.domain,be=le.w*(Ee.x[1]-Ee.x[0]),Ce=le.h*(Ee.y[1]-Ee.y[0]),Ue=(.5*be-ie.r)/le.w,He=(.5*Ce-ie.r)/le.h;L.autoMargin(Z,"pie."+ce.uid+".automargin",{xl:Ee.x[0]-Ue,xr:Ee.x[1]+Ue,yb:Ee.y[0]-He,yt:Ee.y[1]+He,l:Math.max(ie.cx-ie.r-ze.left,0),r:Math.max(ze.right-(ie.cx+ie.r),0),b:Math.max(ze.bottom-(ie.cy+ie.r),0),t:Math.max(ie.cy-ie.r-ze.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var K=p.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)}function v(Z,se){Z.each(function($){var ee=p.select(this);if(!$.labelExtraX&&!$.labelExtraY){ee.select("path.textline").remove();return}var le=ee.select("g.slicetext text");$.transform.targetX+=$.labelExtraX,$.transform.targetY+=$.labelExtraY,d.setTransormAndDisplay(le,$.transform);var Q=$.cxFinal+$.pxmid[0],K=$.cyFinal+$.pxmid[1],ue="M"+Q+","+K,ie=($.yLabelMax-$.yLabelMin)*($.pxmid[0]<0?-1:1)/4;if($.labelExtraX){var ce=$.labelExtraX*$.pxmid[1]/$.pxmid[0],xe=$.yLabelMid+$.labelExtraY-($.cyFinal+$.pxmid[1]);Math.abs(ce)>Math.abs(xe)?ue+="l"+xe*$.pxmid[0]/$.pxmid[1]+","+xe+"H"+(Q+$.labelExtraX+ie):ue+="l"+$.labelExtraX+","+ce+"v"+(xe-ce)+"h"+ie}else ue+="V"+($.yLabelMid+$.labelExtraY)+"h"+ie;d.ensureSingle(ee,"path","textline").call(C.stroke,se.outsidetextfont.color).attr({"stroke-width":Math.min(2,se.outsidetextfont.size/8),d:ue,fill:"none"})})}function l(Z,se,$){var ee=$[0],le=ee.cx,Q=ee.cy,K=ee.trace,ue=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),Z.on("mouseover",function(ie){var ce=se._fullLayout,xe=se._fullData[K.index];if(!(se._dragging||ce.hovermode===!1)){var Le=xe.hoverinfo;if(Array.isArray(Le)&&(Le=n.castHoverinfo({hoverinfo:[s.castOption(Le,ie.pts)],_module:K._module},ce,0)),Le==="all"&&(Le="label+text+value+percent+name"),xe.hovertemplate||Le!=="none"&&Le!=="skip"&&Le){var Ae=ie.rInscribed||0,Oe=le+ie.pxmid[0]*(1-Ae),ze=Q+ie.pxmid[1]*(1-Ae),Ee=ce.separators,be=[];if(Le&&Le.indexOf("label")!==-1&&be.push(ie.label),ie.text=s.castOption(xe.hovertext||xe.text,ie.pts),Le&&Le.indexOf("text")!==-1){var Ce=ie.text;d.isValidTextValue(Ce)&&be.push(Ce)}ie.value=ie.v,ie.valueLabel=s.formatPieValue(ie.v,Ee),Le&&Le.indexOf("value")!==-1&&be.push(ie.valueLabel),ie.percent=ie.v/ee.vTotal,ie.percentLabel=s.formatPiePercent(ie.percent,Ee),Le&&Le.indexOf("percent")!==-1&&be.push(ie.percentLabel);var Ue=xe.hoverlabel,He=Ue.font,Ie=[];n.loneHover({trace:K,x0:Oe-Ae*ee.r,x1:Oe+Ae*ee.r,y:ze,_x0:ue?le+ie.TL[0]:Oe-Ae*ee.r,_x1:ue?le+ie.TR[0]:Oe+Ae*ee.r,_y0:ue?Q+ie.TL[1]:ze-Ae*ee.r,_y1:ue?Q+ie.BL[1]:ze+Ae*ee.r,text:be.join("<br>"),name:xe.hovertemplate||Le.indexOf("name")!==-1?xe.name:void 0,idealAlign:ie.pxmid[0]<0?"left":"right",color:s.castOption(Ue.bgcolor,ie.pts)||ie.color,borderColor:s.castOption(Ue.bordercolor,ie.pts),fontFamily:s.castOption(He.family,ie.pts),fontSize:s.castOption(He.size,ie.pts),fontColor:s.castOption(He.color,ie.pts),nameLength:s.castOption(Ue.namelength,ie.pts),textAlign:s.castOption(Ue.align,ie.pts),hovertemplate:s.castOption(xe.hovertemplate,ie.pts),hovertemplateLabels:ie,eventData:[m(ie,xe)]},{container:ce._hoverlayer.node(),outerContainer:ce._paper.node(),gd:se,inOut_bbox:Ie}),ie.bbox=Ie[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,se.emit("plotly_hover",{points:[m(ie,xe)],event:p.event})}}),Z.on("mouseout",function(ie){var ce=se._fullLayout,xe=se._fullData[K.index],Le=p.select(this).datum();K._hasHoverEvent&&(ie.originalEvent=p.event,se.emit("plotly_unhover",{points:[m(Le,xe)],event:p.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(n.loneUnhover(ce._hoverlayer.node()),K._hasHoverLabel=!1)}),Z.on("click",function(ie){var ce=se._fullLayout,xe=se._fullData[K.index];se._dragging||ce.hovermode===!1||(se._hoverdata=[m(ie,xe)],n.click(se,p.event))})}function g(Z,se,$){var ee=s.castOption(Z.outsidetextfont.color,se.pts)||s.castOption(Z.textfont.color,se.pts)||$.color,le=s.castOption(Z.outsidetextfont.family,se.pts)||s.castOption(Z.textfont.family,se.pts)||$.family,Q=s.castOption(Z.outsidetextfont.size,se.pts)||s.castOption(Z.textfont.size,se.pts)||$.size;return{color:ee,family:le,size:Q}}function M(Z,se,$){var ee=s.castOption(Z.insidetextfont.color,se.pts);!ee&&Z._input.textfont&&(ee=s.castOption(Z._input.textfont.color,se.pts));var le=s.castOption(Z.insidetextfont.family,se.pts)||s.castOption(Z.textfont.family,se.pts)||$.family,Q=s.castOption(Z.insidetextfont.size,se.pts)||s.castOption(Z.textfont.size,se.pts)||$.size;return{color:ee||C.contrast(se.color),family:le,size:Q}}function A(Z,se){for(var $,ee,le=0;le<Z.length;le++)if($=Z[le][0],ee=$.trace,ee.title.text){var Q=ee.title.text;ee._meta&&(Q=d.templateString(Q,ee._meta));var K=T.tester.append("text").attr("data-notex",1).text(Q).call(T.font,ee.title.font).call(t.convertToTspans,se),ue=T.bBox(K.node(),!0);$.titleBox={width:ue.width,height:ue.height},K.remove()}}function k(Z,se,$){var ee=$.r||se.rpx1,le=se.rInscribed,Q=se.startangle===se.stopangle;if(Q)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var K=se.ring,ue=K===1&&Math.abs(se.startangle-se.stopangle)===Math.PI*2,ie=se.halfangle,ce=se.midangle,xe=$.trace.insidetextorientation,Le=xe==="horizontal",Ae=xe==="tangential",Oe=xe==="radial",ze=xe==="auto",Ee=[],be;if(!ze){var Ce=function(qe,et){if(w(se,qe)){var ft=Math.abs(qe-se.startangle),dt=Math.abs(qe-se.stopangle),pt=ft<dt?ft:dt;et==="tan"?be=b(Z,ee,K,pt,0):be=E(Z,ee,K,pt,Math.PI/2),be.textPosAngle=qe,Ee.push(be)}},Ue;if(Le||Ae){for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*Ue,"tan");for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*(Ue+1),"tan")}if(Le||Oe){for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*(Ue+1.5),"rad");for(Ue=4;Ue>=-4;Ue-=2)Ce(Math.PI*(Ue+.5),"rad")}}if(ue||ze||Le){var He=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(be={scale:le*ee*2/He,rCenter:1-le,rotate:0},be.textPosAngle=(se.startangle+se.stopangle)/2,be.scale>=1)return be;Ee.push(be)}(ze||Oe)&&(be=E(Z,ee,K,ie,ce),be.textPosAngle=(se.startangle+se.stopangle)/2,Ee.push(be)),(ze||Ae)&&(be=b(Z,ee,K,ie,ce),be.textPosAngle=(se.startangle+se.stopangle)/2,Ee.push(be));for(var Ie=0,Ge=0,at=0;at<Ee.length;at++){var lt=Ee[at].scale;if(Ge<lt&&(Ge=lt,Ie=at),!ze&&Ge>=1)break}return Ee[Ie]}function w(Z,se){var $=Z.startangle,ee=Z.stopangle;return $>se&&se>ee||$<se&&se<ee}function E(Z,se,$,ee,le){se=Math.max(0,se-2*u);var Q=Z.width/Z.height,K=x(Q,ee,se,$);return{scale:K*2/Z.height,rCenter:o(Q,K/se),rotate:P(le)}}function b(Z,se,$,ee,le){se=Math.max(0,se-2*u);var Q=Z.height/Z.width,K=x(Q,ee,se,$);return{scale:K*2/Z.width,rCenter:o(Q,K/se),rotate:P(le+Math.PI/2)}}function o(Z,se){return Math.cos(se)-Z*se}function P(Z){return(180/Math.PI*Z+720)%180-90}function x(Z,se,$,ee){var le=Z+1/(2*Math.tan(se));return $*Math.min(1/(Math.sqrt(le*le+.5)+le),ee/(Math.sqrt(Z*Z+ee/2)+Z))}function z(Z,se){return Z.v===se.vTotal&&!se.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function _(Z,se){var $=se.pxmid[0],ee=se.pxmid[1],le=Z.width/2,Q=Z.height/2;return $<0&&(le*=-1),ee<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs(Q)*(le>0?1:-1)/2,y:Q/(1+$*$/(ee*ee)),outside:!0}}function G(Z){var se=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/se,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function F(Z,se){var $=1,ee=1,le,Q=Z.trace,K={x:Z.cx,y:Z.cy},ue={tx:0,ty:0};ue.ty+=Q.title.font.size,le=O(Q),Q.title.position.indexOf("top")!==-1?(K.y-=(1+le)*Z.r,ue.ty-=Z.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(K.y+=(1+le)*Z.r);var ie=N(Z.r,Z.trace.aspectratio),ce=se.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(ce=ce+ie,K.x-=(1+le)*ie,ue.tx+=Z.titleBox.width/2):Q.title.position.indexOf("center")!==-1?ce*=2:Q.title.position.indexOf("right")!==-1&&(ce=ce+ie,K.x+=(1+le)*ie,ue.tx-=Z.titleBox.width/2),$=ce/Z.titleBox.width,ee=U(Z,se)/Z.titleBox.height,{x:K.x,y:K.y,scale:Math.min($,ee),tx:ue.tx,ty:ue.ty}}function N(Z,se){return Z/(se===void 0?1:se)}function U(Z,se){var $=Z.trace,ee=se.h*($.domain.y[1]-$.domain.y[0]);return Math.min(Z.titleBox.height,ee/2)}function O(Z){var se=Z.pull;if(!se)return 0;var $;if(d.isArrayOrTypedArray(se))for(se=0,$=0;$<Z.pull.length;$++)Z.pull[$]>se&&(se=Z.pull[$]);return se}function H(Z,se){var $,ee,le,Q,K,ue,ie,ce,xe,Le,Ae,Oe,ze;function Ee(He,Ie){return He.pxmid[1]-Ie.pxmid[1]}function be(He,Ie){return Ie.pxmid[1]-He.pxmid[1]}function Ce(He,Ie){Ie||(Ie={});var Ge=Ie.labelExtraY+(ee?Ie.yLabelMax:Ie.yLabelMin),at=ee?He.yLabelMin:He.yLabelMax,lt=ee?He.yLabelMax:He.yLabelMin,qe=He.cyFinal+K(He.px0[1],He.px1[1]),et=Ge-at,ft,dt,pt,At,Pt,Ht;if(et*ie>0&&(He.labelExtraY=et),!!d.isArrayOrTypedArray(se.pull))for(dt=0;dt<Le.length;dt++)pt=Le[dt],!(pt===He||(s.castOption(se.pull,He.pts)||0)>=(s.castOption(se.pull,pt.pts)||0))&&((He.pxmid[1]-pt.pxmid[1])*ie>0?(At=pt.cyFinal+K(pt.px0[1],pt.px1[1]),et=At-at-He.labelExtraY,et*ie>0&&(He.labelExtraY+=et)):(lt+He.labelExtraY-qe)*ie>0&&(ft=3*ue*Math.abs(dt-Le.indexOf(He)),Pt=pt.cxFinal+Q(pt.px0[0],pt.px1[0]),Ht=Pt+ft-(He.cxFinal+He.pxmid[0])-He.labelExtraX,Ht*ue>0&&(He.labelExtraX+=Ht)))}for(ee=0;ee<2;ee++)for(le=ee?Ee:be,K=ee?Math.max:Math.min,ie=ee?1:-1,$=0;$<2;$++){for(Q=$?Math.max:Math.min,ue=$?1:-1,ce=Z[ee][$],ce.sort(le),xe=Z[1-ee][$],Le=xe.concat(ce),Oe=[],Ae=0;Ae<ce.length;Ae++)ce[Ae].yLabelMid!==void 0&&Oe.push(ce[Ae]);for(ze=!1,Ae=0;ee&&Ae<xe.length;Ae++)if(xe[Ae].yLabelMid!==void 0){ze=xe[Ae];break}for(Ae=0;Ae<Oe.length;Ae++){var Ue=Ae&&Oe[Ae-1];ze&&!Ae&&(Ue=ze),Ce(Oe[Ae],Ue)}}}function Y(Z,se){for(var $=[],ee=0;ee<Z.length;ee++){var le=Z[ee][0],Q=le.trace,K=Q.domain,ue=se.w*(K.x[1]-K.x[0]),ie=se.h*(K.y[1]-K.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(ie-=U(le,se));var ce=ue/2,xe=ie/2;Q.type==="funnelarea"&&!Q.scalegroup&&(xe/=Q.aspectratio),le.r=Math.min(ce,xe)/(1+O(Q)),le.cx=se.l+se.w*(Q.domain.x[1]+Q.domain.x[0])/2,le.cy=se.t+se.h*(1-Q.domain.y[0])-ie/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(le.cy-=U(le,se)),Q.scalegroup&&$.indexOf(Q.scalegroup)===-1&&$.push(Q.scalegroup)}q(Z,$)}function q(Z,se){for(var $,ee,le,Q=0;Q<se.length;Q++){var K=1/0,ue=se[Q];for(ee=0;ee<Z.length;ee++)if($=Z[ee][0],le=$.trace,le.scalegroup===ue){var ie;if(le.type==="pie")ie=$.r*$.r;else if(le.type==="funnelarea"){var ce,xe;le.aspectratio>1?(ce=$.r,xe=ce/le.aspectratio):(xe=$.r,ce=xe*le.aspectratio),ce*=(1+le.baseratio)/2,ie=ce*xe}K=Math.min(K,ie/$.vTotal)}for(ee=0;ee<Z.length;ee++)if($=Z[ee][0],le=$.trace,le.scalegroup===ue){var Le=K*$.vTotal;le.type==="funnelarea"&&(Le/=(1+le.baseratio)/2,Le/=le.aspectratio),$.r=Math.sqrt(Le)}}}function ne(Z){var se=Z[0],$=se.r,ee=se.trace,le=s.getRotationAngle(ee.rotation),Q=2*Math.PI/se.vTotal,K="px0",ue="px1",ie,ce,xe;if(ee.direction==="counterclockwise"){for(ie=0;ie<Z.length&&Z[ie].hidden;ie++);if(ie===Z.length)return;le+=Q*Z[ie].v,Q*=-1,K="px1",ue="px0"}for(xe=oe($,le),ie=0;ie<Z.length;ie++)ce=Z[ie],!ce.hidden&&(ce[K]=xe,ce.startangle=le,le+=Q*ce.v/2,ce.pxmid=oe($,le),ce.midangle=le,le+=Q*ce.v/2,xe=oe($,le),ce.stopangle=le,ce[ue]=xe,ce.largeArc=ce.v>se.vTotal/2?1:0,ce.halfangle=Math.PI*Math.min(ce.v/se.vTotal,.5),ce.ring=1-ee.hole,ce.rInscribed=z(ce,se))}function oe(Z,se){return[Z*Math.sin(se),-Z*Math.cos(se)]}function he(Z,se,$){var ee=Z._fullLayout,le=$.trace,Q=le.texttemplate,K=le.textinfo;if(!Q&&K&&K!=="none"){var ue=K.split("+"),ie=function(Ie){return ue.indexOf(Ie)!==-1},ce=ie("label"),xe=ie("text"),Le=ie("value"),Ae=ie("percent"),Oe=ee.separators,ze;if(ze=ce?[se.label]:[],xe){var Ee=s.getFirstFilled(le.text,se.pts);f(Ee)&&ze.push(Ee)}Le&&ze.push(s.formatPieValue(se.v,Oe)),Ae&&ze.push(s.formatPiePercent(se.v/$.vTotal,Oe)),se.text=ze.join("<br>")}function be(Ie){return{label:Ie.label,value:Ie.v,valueLabel:s.formatPieValue(Ie.v,ee.separators),percent:Ie.v/$.vTotal,percentLabel:s.formatPiePercent(Ie.v/$.vTotal,ee.separators),color:Ie.color,text:Ie.text,customdata:d.castOption(le,Ie.i,"customdata")}}if(Q){var Ce=d.castOption(le,se.i,"texttemplate");if(!Ce)se.text="";else{var Ue=be(se),He=s.getFirstFilled(le.text,se.pts);(f(He)||He==="")&&(Ue.text=He),se.text=d.texttemplateString(Ce,Ue,Z._fullLayout._d3locale,Ue,le._meta||{})}}}function J(Z,se){var $=Z.rotate*Math.PI/180,ee=Math.cos($),le=Math.sin($),Q=(se.left+se.right)/2,K=(se.top+se.bottom)/2;Z.textX=Q*ee-K*le,Z.textY=Q*le+K*ee,Z.noCenter=!0}V.exports={plot:S,formatSliceLabel:he,transformInsideText:k,determineInsideTextFont:M,positionTitleOutside:F,prerenderTitles:A,layoutAreas:Y,attachFxHandlers:l,computeTransform:J}},68357:function(V,B,e){var p=e(39898),L=e(63463),n=e(72597).resizeText;V.exports=function(T){var d=T._fullLayout._pielayer.selectAll(".trace");n(T,d,"pie"),d.each(function(y){var r=y[0],t=r.trace,i=p.select(this);i.style({opacity:t.opacity}),i.selectAll("path.surface").each(function(a){p.select(this).call(L,a,t,T)})})}},63463:function(V,B,e){var p=e(7901),L=e(53581).castOption,n=e(22209);V.exports=function(T,d,y,r){var t=y.marker.line,i=L(t.color,d.pts)||p.defaultLine,a=L(t.width,d.pts)||0;T.call(n,d,y,r).style("stroke-width",a).call(p.stroke,i)}},10959:function(V,B,e){var p=e(82196);V.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(V,B,e){var p=e(9330).gl_pointcloud2d,L=e(71828).isArrayOrTypedArray,n=e(78614),C=e(71739).findExtremes,T=e(34603);function d(t,i){this.scene=t,this.uid=i,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var y=d.prototype;y.handlePick=function(t){var i=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[i*2],this.pickXYData[i*2+1]]:[this.pickXData[i],this.pickYData[i]],textLabel:L(this.textLabels)?this.textLabels[i]:this.textLabels,color:this.color,name:this.name,pointIndex:i,hoverinfo:this.hoverinfo}},y.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=T(t,{})},y.updateFast=function(t){var i=this.xData=this.pickXData=t.x,a=this.yData=this.pickYData=t.y,h=this.pickXYData=t.xy,u=t.xbounds&&t.ybounds,s=t.indices,m,f,S,v=this.bounds,l,g,M;if(h){if(S=h,m=h.length>>>1,u)v[0]=t.xbounds[0],v[2]=t.xbounds[1],v[1]=t.ybounds[0],v[3]=t.ybounds[1];else for(M=0;M<m;M++)l=S[M*2],g=S[M*2+1],l<v[0]&&(v[0]=l),l>v[2]&&(v[2]=l),g<v[1]&&(v[1]=g),g>v[3]&&(v[3]=g);if(s)f=s;else for(f=new Int32Array(m),M=0;M<m;M++)f[M]=M}else for(m=i.length,S=new Float32Array(2*m),f=new Int32Array(m),M=0;M<m;M++)l=i[M],g=a[M],f[M]=M,S[M*2]=l,S[M*2+1]=g,l<v[0]&&(v[0]=l),l>v[2]&&(v[2]=l),g<v[1]&&(v[1]=g),g>v[3]&&(v[3]=g);this.idToIndex=f,this.pointcloudOptions.idToIndex=f,this.pointcloudOptions.positions=S;var A=n(t.marker.color),k=n(t.marker.border.color),w=t.opacity*t.marker.opacity;A[3]*=w,this.pointcloudOptions.color=A;var E=t.marker.blend;if(E===null){var b=100;E=i.length<b||a.length<b}this.pointcloudOptions.blend=E,k[3]*=w,this.pointcloudOptions.borderColor=k;var o=t.marker.sizemin,P=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=o,this.pointcloudOptions.sizeMax=P,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var x=this.scene.xaxis,z=this.scene.yaxis,_=P/2||.5;t._extremes[x._id]=C(x,[v[0],v[2]],{ppad:_}),t._extremes[z._id]=C(z,[v[1],v[3]],{ppad:_})},y.dispose=function(){this.pointcloud.dispose()};function r(t,i){var a=new d(t,i.uid);return a.update(i),a}V.exports=r},33876:function(V,B,e){var p=e(71828),L=e(10959);V.exports=function(C,T,d){function y(r,t){return p.coerce(C,T,L,r,t)}y("x"),y("y"),y("xbounds"),y("ybounds"),C.xy&&C.xy instanceof Float32Array&&(T.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(T.indices=C.indices),y("text"),y("marker.color",d),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",d),y("marker.border.arearatio"),T._length=null}},20593:function(V,B,e){V.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(V,B,e){var p=e(41940),L=e(9012),n=e(22399),C=e(77914),T=e(27670).Y,d=e(5386).fF,y=e(50693),r=e(44467).templatedArray,t=e(12663).descriptionOnlyNumbers,i=e(1426).extendFlat,a=e(30962).overrideAll,h=V.exports=a({hoverinfo:i({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:t("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),align:{valType:"enumerated",values:["justify","left","right","center"],dflt:"justify"}},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),colorscales:r("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:i(y().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");h.transforms=void 0},75536:function(V,B,e){var p=e(30962).overrideAll,L=e(27659).a0,n=e(60436),C=e(528),T=e(6964),d=e(28569),y=e(47322).prepSelect,r=e(71828),t=e(73972),i="sankey";B.name=i,B.baseLayoutAttrOverrides=p({hoverlabel:C.hoverlabel},"plot","nested"),B.plot=function(h){var u=L(h.calcdata,i)[0];n(h,u),B.updateFx(h)},B.clean=function(h,u,s,m){var f=m._has&&m._has(i),S=u._has&&u._has(i);f&&!S&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(h){for(var u=0;u<h._fullData.length;u++)a(h,u)};function a(h,u){var s=h._fullData[u],m=h._fullLayout,f=m.dragmode,S=m.dragmode==="pan"?"move":"crosshair",v=s._bgRect;if(v&&!(f==="pan"||f==="zoom")){T(v,S);var l={_id:"x",c2p:r.identity,_offset:s._sankey.translateX,_length:s._sankey.width},g={_id:"y",c2p:r.identity,_offset:s._sankey.translateY,_length:s._sankey.height},M={gd:h,element:v.node(),plotinfo:{id:u,xaxis:l,yaxis:g,fillRangeItems:r.noop},subplot:u,xaxes:[l],yaxes:[g],doneFnCompleted:function(A){var k=h._fullData[u],w,E=k.node.groups.slice(),b=[];function o(_){for(var G=k._sankey.graph.nodes,F=0;F<G.length;F++)if(G[F].pointNumber===_)return G[F]}for(var P=0;P<A.length;P++){var x=o(A[P].pointNumber);if(x)if(x.group){for(var z=0;z<x.childrenNodes.length;z++)b.push(x.childrenNodes[z].pointNumber);E[x.pointNumber-k.node._count]=!1}else b.push(x.pointNumber)}w=E.filter(Boolean).concat([b]),t.call("_guiRestyle",h,{"node.groups":[w]},u)}};M.prepFn=function(A,k,w){y(A,k,w,M,f)},d.init(M)}}},92930:function(V,B,e){var p=e(68664),L=e(71828),n=e(28984).wrap,C=L.isArrayOrTypedArray,T=L.isIndex,d=e(21081);function y(t){var i=t.node,a=t.link,h=[],u=C(a.color),s=C(a.customdata),m={},f={},S=a.colorscales.length,v;for(v=0;v<S;v++){var l=a.colorscales[v],g=d.extractScale(l,{cLetter:"c"}),M=d.makeColorScaleFunc(g);f[l.label]=M}var A=0;for(v=0;v<a.value.length;v++)a.source[v]>A&&(A=a.source[v]),a.target[v]>A&&(A=a.target[v]);var k=A+1;t.node._count=k;var w,E=t.node.groups,b={};for(v=0;v<E.length;v++){var o=E[v];for(w=0;w<o.length;w++){var P=o[w],x=k+v;b.hasOwnProperty(P)?L.warn("Node "+P+" is already part of a group."):b[P]=x}}var z={source:[],target:[]};for(v=0;v<a.value.length;v++){var _=a.value[v],G=a.source[v],F=a.target[v];if(_>0&&T(G,k)&&T(F,k)&&!(b.hasOwnProperty(G)&&b.hasOwnProperty(F)&&b[G]===b[F])){b.hasOwnProperty(F)&&(F=b[F]),b.hasOwnProperty(G)&&(G=b[G]),G=+G,F=+F,m[G]=m[F]=!0;var N="";a.label&&a.label[v]&&(N=a.label[v]);var U=null;N&&f.hasOwnProperty(N)&&(U=f[N]),h.push({pointNumber:v,label:N,color:u?a.color[v]:a.color,customdata:s?a.customdata[v]:a.customdata,concentrationscale:U,source:G,target:F,value:+_}),z.source.push(G),z.target.push(F)}}var O=k+E.length,H=C(i.color),Y=C(i.customdata),q=[];for(v=0;v<O;v++)if(m[v]){var ne=i.label[v];q.push({group:v>k-1,childrenNodes:[],pointNumber:v,label:ne,color:H?i.color[v]:i.color,customdata:Y?i.customdata[v]:i.customdata})}var oe=!1;return r(O,z.source,z.target)&&(oe=!0),{circular:oe,links:h,nodes:q,groups:E,groupLookup:b}}function r(t,i,a){for(var h=L.init2dArray(t,0),u=0;u<Math.min(i.length,a.length);u++)if(L.isIndex(i[u],t)&&L.isIndex(a[u],t)){if(i[u]===a[u])return!0;h[i[u]].push(a[u])}var s=p(h);return s.components.some(function(m){return m.length>1})}V.exports=function(i,a){var h=y(a);return n({circular:h.circular,_nodes:h.nodes,_links:h.links,_groups:h.groups,_groupLookup:h.groupLookup})}},85247:function(V){V.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(V,B,e){var p=e(71828),L=e(39953),n=e(7901),C=e(84267),T=e(27670).c,d=e(38048),y=e(44467),r=e(85501);V.exports=function(a,h,u,s){function m(o,P){return p.coerce(a,h,L,o,P)}var f=p.extendDeep(s.hoverlabel,a.hoverlabel),S=a.node,v=y.newContainer(h,"node");function l(o,P){return p.coerce(S,v,L.node,o,P)}l("label"),l("groups"),l("x"),l("y"),l("pad"),l("thickness"),l("line.color"),l("line.width"),l("hoverinfo",a.hoverinfo),d(S,v,l,f),l("hovertemplate"),l("align");var g=s.colorway,M=function(o){return g[o%g.length]};l("color",v.label.map(function(o,P){return n.addOpacity(M(P),.8)})),l("customdata");var A=a.link||{},k=y.newContainer(h,"link");function w(o,P){return p.coerce(A,k,L.link,o,P)}w("label"),w("arrowlen"),w("source"),w("target"),w("value"),w("line.color"),w("line.width"),w("hoverinfo",a.hoverinfo),d(A,k,w,f),w("hovertemplate");var E=C(s.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";w("color",p.repeat(E,k.value.length)),w("customdata"),r(A,k,{name:"colorscales",handleItemDefaults:t}),T(h,s,m),m("orientation"),m("valueformat"),m("valuesuffix");var b;v.x.length&&v.y.length&&(b="freeform"),m("arrangement",b),p.coerceFont(m,"textfont",p.extendFlat({},s.font)),h._length=null};function t(i,a){function h(u,s){return p.coerce(i,a,L.link.colorscales,u,s)}h("label"),h("cmin"),h("cmax"),h("colorscale")}},29396:function(V,B,e){V.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(3393),T=e(30211),d=e(7901),y=e(85247).cn,r=L._;function t(g){return g!==""}function i(g,M){return g.filter(function(A){return A.key===M.traceId})}function a(g,M){p.select(g).select("path").style("fill-opacity",M),p.select(g).select("rect").style("fill-opacity",M)}function h(g){p.select(g).select("text.name").style("fill","black")}function u(g){return function(M){return g.node.sourceLinks.indexOf(M.link)!==-1||g.node.targetLinks.indexOf(M.link)!==-1}}function s(g){return function(M){return M.node.sourceLinks.indexOf(g.link)!==-1||M.node.targetLinks.indexOf(g.link)!==-1}}function m(g,M,A){M&&A&&i(A,M).selectAll("."+y.sankeyLink).filter(u(M)).call(S.bind(0,M,A,!1))}function f(g,M,A){M&&A&&i(A,M).selectAll("."+y.sankeyLink).filter(u(M)).call(v.bind(0,M,A,!1))}function S(g,M,A,k){k.style("fill-opacity",function(w){if(!w.link.concentrationscale)return .4}),k.each(function(w){var E=w.link.label;E!==""&&i(M,g).selectAll("."+y.sankeyLink).filter(function(b){return b.link.label===E}).style("fill-opacity",function(b){if(!b.link.concentrationscale)return .4})}),A&&i(M,g).selectAll("."+y.sankeyNode).filter(s(g)).call(m)}function v(g,M,A,k){k.style("fill-opacity",function(w){return w.tinyColorAlpha}),k.each(function(w){var E=w.link.label;E!==""&&i(M,g).selectAll("."+y.sankeyLink).filter(function(b){return b.link.label===E}).style("fill-opacity",function(b){return b.tinyColorAlpha})}),A&&i(M,g).selectAll(y.sankeyNode).filter(s(g)).call(f)}function l(g,M){var A=g.hoverlabel||{},k=L.nestedProperty(A,M).get();return Array.isArray(k)?!1:k}V.exports=function(M,A){for(var k=M._fullLayout,w=k._paper,E=k._size,b=0;b<M._fullData.length;b++)if(M._fullData[b].visible&&M._fullData[b].type===y.sankey&&!M._fullData[b]._viewInitial){var o=M._fullData[b].node;M._fullData[b]._viewInitial={node:{groups:o.groups.slice(),x:o.x.slice(),y:o.y.slice()}}}var P=function(oe,he){var J=he.link;J.originalEvent=p.event,M._hoverdata=[J],T.click(M,{target:!0})},x=function(oe,he,J){M._fullLayout.hovermode!==!1&&(p.select(oe).call(S.bind(0,he,J,!0)),he.link.trace.link.hoverinfo!=="skip"&&(he.link.fullData=he.link.trace,M.emit("plotly_hover",{event:p.event,points:[he.link]})))},z=r(M,"source:")+" ",_=r(M,"target:")+" ",G=r(M,"concentration:")+" ",F=r(M,"incoming flow count:")+" ",N=r(M,"outgoing flow count:")+" ",U=function(oe,he){if(M._fullLayout.hovermode===!1)return;var J=he.link.trace.link;if(J.hoverinfo==="none"||J.hoverinfo==="skip")return;var Z=[];function se(ie){var ce,xe;ie.circular?(ce=(ie.circularPathData.leftInnerExtent+ie.circularPathData.rightInnerExtent)/2,xe=ie.circularPathData.verticalFullExtent):(ce=(ie.source.x1+ie.target.x0)/2,xe=(ie.y0+ie.y1)/2);var Le=[ce,xe];return ie.trace.orientation==="v"&&Le.reverse(),Le[0]+=he.parent.translateX,Le[1]+=he.parent.translateY,Le}for(var $=0,ee=0;ee<he.flow.links.length;ee++){var le=he.flow.links[ee];if(!(M._fullLayout.hovermode==="closest"&&he.link.pointNumber!==le.pointNumber)){he.link.pointNumber===le.pointNumber&&($=ee),le.fullData=le.trace,J=he.link.trace.link;var Q=se(le),K={valueLabel:n(he.valueFormat)(le.value)+he.valueSuffix};Z.push({x:Q[0],y:Q[1],name:K.valueLabel,text:[le.label||"",z+le.source.label,_+le.target.label,le.concentrationscale?G+n("%0.2f")(le.flow.labelConcentration):""].filter(t).join("<br>"),color:l(J,"bgcolor")||d.addOpacity(le.color,1),borderColor:l(J,"bordercolor"),fontFamily:l(J,"font.family"),fontSize:l(J,"font.size"),fontColor:l(J,"font.color"),nameLength:l(J,"namelength"),textAlign:l(J,"align"),idealAlign:p.event.x<Q[0]?"right":"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[le]})}}var ue=T.loneHover(Z,{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:M,anchorIndex:$});ue.each(function(){var ie=this;he.link.concentrationscale||a(ie,.65),h(ie)})},O=function(oe,he,J){M._fullLayout.hovermode!==!1&&(p.select(oe).call(v.bind(0,he,J,!0)),he.link.trace.link.hoverinfo!=="skip"&&(he.link.fullData=he.link.trace,M.emit("plotly_unhover",{event:p.event,points:[he.link]})),T.loneUnhover(k._hoverlayer.node()))},H=function(oe,he,J){var Z=he.node;Z.originalEvent=p.event,M._hoverdata=[Z],p.select(oe).call(f,he,J),T.click(M,{target:!0})},Y=function(oe,he,J){M._fullLayout.hovermode!==!1&&(p.select(oe).call(m,he,J),he.node.trace.node.hoverinfo!=="skip"&&(he.node.fullData=he.node.trace,M.emit("plotly_hover",{event:p.event,points:[he.node]})))},q=function(oe,he){if(M._fullLayout.hovermode!==!1){var J=he.node.trace.node;if(!(J.hoverinfo==="none"||J.hoverinfo==="skip")){var Z=p.select(oe).select("."+y.nodeRect),se=M._fullLayout._paperdiv.node().getBoundingClientRect(),$=Z.node().getBoundingClientRect(),ee=$.left-2-se.left,le=$.right+2-se.left,Q=$.top+$.height/4-se.top,K={valueLabel:n(he.valueFormat)(he.node.value)+he.valueSuffix};he.node.fullData=he.node.trace,M._fullLayout._calcInverseTransform(M);var ue=M._fullLayout._invScaleX,ie=M._fullLayout._invScaleY,ce=T.loneHover({x0:ue*ee,x1:ue*le,y:ie*Q,name:n(he.valueFormat)(he.node.value)+he.valueSuffix,text:[he.node.label,F+he.node.targetLinks.length,N+he.node.sourceLinks.length].filter(t).join("<br>"),color:l(J,"bgcolor")||he.tinyColorHue,borderColor:l(J,"bordercolor"),fontFamily:l(J,"font.family"),fontSize:l(J,"font.size"),fontColor:l(J,"font.color"),nameLength:l(J,"namelength"),textAlign:l(J,"align"),idealAlign:"left",hovertemplate:J.hovertemplate,hovertemplateLabels:K,eventData:[he.node]},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:M});a(ce,.85),h(ce)}}},ne=function(oe,he,J){M._fullLayout.hovermode!==!1&&(p.select(oe).call(f,he,J),he.node.trace.node.hoverinfo!=="skip"&&(he.node.fullData=he.node.trace,M.emit("plotly_unhover",{event:p.event,points:[he.node]})),T.loneUnhover(k._hoverlayer.node()))};C(M,w,A,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:x,follow:U,unhover:O,select:P},nodeEvents:{hover:Y,follow:q,unhover:ne,select:H}})}},3393:function(V,B,e){var p=e(49887),L=e(81684).k4,n=e(39898),C=e(30838),T=e(86781),d=e(85247),y=e(84267),r=e(7901),t=e(91424),i=e(71828),a=i.strTranslate,h=i.strRotate,u=e(28984),s=u.keyFun,m=u.repeat,f=u.unwrap,S=e(63893),v=e(73972),l=e(18783),g=l.CAP_SHIFT,M=l.LINE_SPACING,A=3;function k(se,$,ee){var le=f($),Q=le.trace,K=Q.domain,ue=Q.orientation==="h",ie=Q.node.pad,ce=Q.node.thickness,xe={justify:C.sankeyJustify,left:C.sankeyLeft,right:C.sankeyRight,center:C.sankeyCenter}[Q.node.align],Le=se.width*(K.x[1]-K.x[0]),Ae=se.height*(K.y[1]-K.y[0]),Oe=le._nodes,ze=le._links,Ee=le.circular,be;Ee?be=T.sankeyCircular().circularLinkGap(0):be=C.sankey(),be.iterations(d.sankeyIterations).size(ue?[Le,Ae]:[Ae,Le]).nodeWidth(ce).nodePadding(ie).nodeId(function(Ht){return Ht.pointNumber}).nodeAlign(xe).nodes(Oe).links(ze);var Ce=be();be.nodePadding()<ie&&i.warn("node.pad was reduced to ",be.nodePadding()," to fit within the figure.");var Ue,He,Ie;for(var Ge in le._groupLookup){var at=parseInt(le._groupLookup[Ge]),lt;for(Ue=0;Ue<Ce.nodes.length;Ue++)if(Ce.nodes[Ue].pointNumber===at){lt=Ce.nodes[Ue];break}if(lt){var qe={pointNumber:parseInt(Ge),x0:lt.x0,x1:lt.x1,y0:lt.y0,y1:lt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Ce.nodes.unshift(qe),lt.childrenNodes.unshift(qe)}}function et(){for(Ue=0;Ue<Ce.nodes.length;Ue++){var Ht=Ce.nodes[Ue],Je={},We,_e;for(He=0;He<Ht.targetLinks.length;He++)_e=Ht.targetLinks[He],We=_e.source.pointNumber+":"+_e.target.pointNumber,Je.hasOwnProperty(We)||(Je[We]=[]),Je[We].push(_e);var Ne=Object.keys(Je);for(He=0;He<Ne.length;He++){We=Ne[He];var ke=Je[We],we=0,me={};for(Ie=0;Ie<ke.length;Ie++)_e=ke[Ie],me[_e.label]||(me[_e.label]=0),me[_e.label]+=_e.value,we+=_e.value;for(Ie=0;Ie<ke.length;Ie++)_e=ke[Ie],_e.flow={value:we,labelConcentration:me[_e.label]/we,concentration:_e.value/we,links:ke},_e.concentrationscale&&(_e.color=y(_e.concentrationscale(_e.flow.labelConcentration)))}var Me=0;for(He=0;He<Ht.sourceLinks.length;He++)Me+=Ht.sourceLinks[He].value;for(He=0;He<Ht.sourceLinks.length;He++)_e=Ht.sourceLinks[He],_e.concentrationOut=_e.value/Me;var Se=0;for(He=0;He<Ht.targetLinks.length;He++)Se+=Ht.targetLinks[He].value;for(He=0;He<Ht.targetLinks.length;He++)_e=Ht.targetLinks[He],_e.concenrationIn=_e.value/Se}}et();function ft(Ht){Ht.forEach(function(Je){var We,_e,Ne=0,ke=Je.length,we;for(Je.sort(function(me,Me){return me.y0-Me.y0}),we=0;we<ke;++we)We=Je[we],We.y0>=Ne||(_e=Ne-We.y0,_e>1e-6&&(We.y0+=_e,We.y1+=_e)),Ne=We.y1+ie})}function dt(Ht){var Je=Ht.map(function(Me,Se){return{x0:Me.x0,index:Se}}).sort(function(Me,Se){return Me.x0-Se.x0}),We=[],_e=-1,Ne,ke=-1/0,we;for(Ue=0;Ue<Je.length;Ue++){var me=Ht[Je[Ue].index];me.x0>ke+ce&&(_e+=1,Ne=me.x0),ke=me.x0,We[_e]||(We[_e]=[]),We[_e].push(me),we=Ne-me.x0,me.x0+=we,me.x1+=we}return We}if(Q.node.x.length&&Q.node.y.length){for(Ue=0;Ue<Math.min(Q.node.x.length,Q.node.y.length,Ce.nodes.length);Ue++)if(Q.node.x[Ue]&&Q.node.y[Ue]){var pt=[Q.node.x[Ue]*Le,Q.node.y[Ue]*Ae];Ce.nodes[Ue].x0=pt[0]-ce/2,Ce.nodes[Ue].x1=pt[0]+ce/2;var At=Ce.nodes[Ue].y1-Ce.nodes[Ue].y0;Ce.nodes[Ue].y0=pt[1]-At/2,Ce.nodes[Ue].y1=pt[1]+At/2}if(Q.arrangement==="snap"){Oe=Ce.nodes;var Pt=dt(Oe);ft(Pt)}be.update(Ce)}return{circular:Ee,key:ee,trace:Q,guid:i.randstr(),horizontal:ue,width:Le,height:Ae,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:K.x[0]*se.width+se.margin.l,translateY:se.height-K.y[1]*se.height+se.margin.t,dragParallel:ue?Ae:Le,dragPerpendicular:ue?Le:Ae,arrangement:Q.arrangement,sankey:be,graph:Ce,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function w(se,$,ee){var le=y($.color),Q=$.source.label+"|"+$.target.label,K=Q+"__"+ee;return $.trace=se.trace,$.curveNumber=se.trace.index,{circular:se.circular,key:K,traceId:se.key,pointNumber:$.pointNumber,link:$,tinyColorHue:r.tinyRGB(le),tinyColorAlpha:le.getAlpha(),linkPath:b,linkLineColor:se.linkLineColor,linkLineWidth:se.linkLineWidth,linkArrowLength:se.linkArrowLength,valueFormat:se.valueFormat,valueSuffix:se.valueSuffix,sankey:se.sankey,parent:se,interactionState:se.interactionState,flow:$.flow}}function E(se,$){var ee="",le=se.width/2,Q=se.circularPathData;return se.circularLinkType==="top"?ee="M "+(Q.targetX-$)+" "+(Q.targetY+le)+" L"+(Q.rightInnerExtent-$)+" "+(Q.targetY+le)+"A"+(Q.rightLargeArcRadius+le)+" "+(Q.rightSmallArcRadius+le)+" 0 0 1 "+(Q.rightFullExtent-le-$)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-le-$)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+le)+" "+(Q.rightLargeArcRadius+le)+" 0 0 1 "+(Q.rightInnerExtent-$)+" "+(Q.verticalFullExtent-le)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-le)+"A"+(Q.leftLargeArcRadius+le)+" "+(Q.leftLargeArcRadius+le)+" 0 0 1 "+(Q.leftFullExtent+le)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+le)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+le)+" "+(Q.leftSmallArcRadius+le)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+le)+"L"+Q.sourceX+" "+(Q.sourceY+le)+"L"+Q.sourceX+" "+(Q.sourceY-le)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-le)+"A"+(Q.leftLargeArcRadius-le)+" "+(Q.leftSmallArcRadius-le)+" 0 0 0 "+(Q.leftFullExtent-le)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-le)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-le)+" "+(Q.leftLargeArcRadius-le)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+le)+"L"+(Q.rightInnerExtent-$)+" "+(Q.verticalFullExtent+le)+"A"+(Q.rightLargeArcRadius-le)+" "+(Q.rightLargeArcRadius-le)+" 0 0 0 "+(Q.rightFullExtent+le-$)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+le-$)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-le)+" "+(Q.rightSmallArcRadius-le)+" 0 0 0 "+(Q.rightInnerExtent-$)+" "+(Q.targetY-le)+"L"+(Q.targetX-$)+" "+(Q.targetY-le)+($>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":ee="M "+(Q.targetX-$)+" "+(Q.targetY-le)+" L"+(Q.rightInnerExtent-$)+" "+(Q.targetY-le)+"A"+(Q.rightLargeArcRadius+le)+" "+(Q.rightSmallArcRadius+le)+" 0 0 0 "+(Q.rightFullExtent-le-$)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-le-$)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+le)+" "+(Q.rightLargeArcRadius+le)+" 0 0 0 "+(Q.rightInnerExtent-$)+" "+(Q.verticalFullExtent+le)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+le)+"A"+(Q.leftLargeArcRadius+le)+" "+(Q.leftLargeArcRadius+le)+" 0 0 0 "+(Q.leftFullExtent+le)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+le)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+le)+" "+(Q.leftSmallArcRadius+le)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-le)+"L"+Q.sourceX+" "+(Q.sourceY-le)+"L"+Q.sourceX+" "+(Q.sourceY+le)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+le)+"A"+(Q.leftLargeArcRadius-le)+" "+(Q.leftSmallArcRadius-le)+" 0 0 1 "+(Q.leftFullExtent-le)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-le)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-le)+" "+(Q.leftLargeArcRadius-le)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-le)+"L"+(Q.rightInnerExtent-$)+" "+(Q.verticalFullExtent-le)+"A"+(Q.rightLargeArcRadius-le)+" "+(Q.rightLargeArcRadius-le)+" 0 0 1 "+(Q.rightFullExtent+le-$)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+le-$)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-le)+" "+(Q.rightSmallArcRadius-le)+" 0 0 1 "+(Q.rightInnerExtent-$)+" "+(Q.targetY+le)+"L"+(Q.targetX-$)+" "+(Q.targetY+le)+($>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",ee}function b(){var se=.5;function $(ee){var le=ee.linkArrowLength;if(ee.link.circular)return E(ee.link,le);var Q=Math.abs((ee.link.target.x0-ee.link.source.x1)/2);le>Q&&(le=Q);var K=ee.link.source.x1,ue=ee.link.target.x0-le,ie=L(K,ue),ce=ie(se),xe=ie(1-se),Le=ee.link.y0-ee.link.width/2,Ae=ee.link.y0+ee.link.width/2,Oe=ee.link.y1-ee.link.width/2,ze=ee.link.y1+ee.link.width/2,Ee="M"+K+","+Le,be="C"+ce+","+Le+" "+xe+","+Oe+" "+ue+","+Oe,Ce="C"+xe+","+ze+" "+ce+","+Ae+" "+K+","+Ae,Ue=le>0?"L"+(ue+le)+","+(Oe+ee.link.width/2):"";return Ue+="L"+ue+","+ze,Ee+be+Ue+Ce+"Z"}return $}function o(se,$){var ee=y($.color),le=d.nodePadAcross,Q=se.nodePad/2;$.dx=$.x1-$.x0,$.dy=$.y1-$.y0;var K=$.dx,ue=Math.max(.5,$.dy),ie="node_"+$.pointNumber;return $.group&&(ie=i.randstr()),$.trace=se.trace,$.curveNumber=se.trace.index,{index:$.pointNumber,key:ie,partOfGroup:$.partOfGroup||!1,group:$.group,traceId:se.key,trace:se.trace,node:$,nodePad:se.nodePad,nodeLineColor:se.nodeLineColor,nodeLineWidth:se.nodeLineWidth,textFont:se.textFont,size:se.horizontal?se.height:se.width,visibleWidth:Math.ceil(K),visibleHeight:ue,zoneX:-le,zoneY:-Q,zoneWidth:K+2*le,zoneHeight:ue+2*Q,labelY:se.horizontal?$.dy/2+1:$.dx/2+1,left:$.originalLayer===1,sizeAcross:se.width,forceLayouts:se.forceLayouts,horizontal:se.horizontal,darkBackground:ee.getBrightness()<=128,tinyColorHue:r.tinyRGB(ee),tinyColorAlpha:ee.getAlpha(),valueFormat:se.valueFormat,valueSuffix:se.valueSuffix,sankey:se.sankey,graph:se.graph,arrangement:se.arrangement,uniqueNodeLabelPathId:[se.guid,se.key,ie].join("_"),interactionState:se.interactionState,figure:se}}function P(se){se.attr("transform",function($){return a($.node.x0.toFixed(3),$.node.y0.toFixed(3))})}function x(se){se.call(P)}function z(se,$){se.call(x),$.attr("d",b())}function _(se){se.attr("width",function($){return $.node.x1-$.node.x0}).attr("height",function($){return $.visibleHeight})}function G(se){return se.link.width>1||se.linkLineWidth>0}function F(se){var $=a(se.translateX,se.translateY);return $+(se.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function N(se,$,ee){se.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(ee.hover(this,le,$),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(ee.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(ee.unhover(this,le,$),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(ee.unhover(this,le,$),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&ee.select(this,le,$)})}function U(se,$,ee,le){var Q=n.behavior.drag().origin(function(K){return{x:K.node.x0+K.visibleWidth/2,y:K.node.y0+K.visibleHeight/2}}).on("dragstart",function(K){if(K.arrangement!=="fixed"&&(i.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(ie){le._fullLayout._dragCover=ie}),i.raiseToTop(this),K.interactionState.dragInProgress=K.node,oe(K.node),K.interactionState.hovered&&(ee.nodeEvents.unhover.apply(0,K.interactionState.hovered),K.interactionState.hovered=!1),K.arrangement==="snap")){var ue=K.traceId+"|"+K.key;K.forceLayouts[ue]?K.forceLayouts[ue].alpha(1):O(se,ue,K),H(se,$,K,ue,le)}}).on("drag",function(K){if(K.arrangement!=="fixed"){var ue=n.event.x,ie=n.event.y;K.arrangement==="snap"?(K.node.x0=ue-K.visibleWidth/2,K.node.x1=ue+K.visibleWidth/2,K.node.y0=ie-K.visibleHeight/2,K.node.y1=ie+K.visibleHeight/2):(K.arrangement==="freeform"&&(K.node.x0=ue-K.visibleWidth/2,K.node.x1=ue+K.visibleWidth/2),ie=Math.max(0,Math.min(K.size-K.visibleHeight/2,ie)),K.node.y0=ie-K.visibleHeight/2,K.node.y1=ie+K.visibleHeight/2),oe(K.node),K.arrangement!=="snap"&&(K.sankey.update(K.graph),z(se.filter(he(K)),$))}}).on("dragend",function(K){if(K.arrangement!=="fixed"){K.interactionState.dragInProgress=!1;for(var ue=0;ue<K.node.childrenNodes.length;ue++)K.node.childrenNodes[ue].x=K.node.x,K.node.childrenNodes[ue].y=K.node.y;K.arrangement!=="snap"&&q(K,le)}});se.on(".drag",null).call(Q)}function O(se,$,ee,le){J(ee.graph.nodes);var Q=ee.graph.nodes.filter(function(K){return K.originalX===ee.node.originalX}).filter(function(K){return!K.partOfGroup});ee.forceLayouts[$]=p.forceSimulation(Q).alphaDecay(0).force("collide",p.forceCollide().radius(function(K){return K.dy/2+ee.nodePad/2}).strength(1).iterations(d.forceIterations)).force("constrain",Y(se,$,Q,ee)).stop()}function H(se,$,ee,le,Q){window.requestAnimationFrame(function K(){var ue;for(ue=0;ue<d.forceTicksPerFrame;ue++)ee.forceLayouts[le].tick();var ie=ee.graph.nodes;if(Z(ie),ee.sankey.update(ee.graph),z(se.filter(he(ee)),$),ee.forceLayouts[le].alpha()>0)window.requestAnimationFrame(K);else{var ce=ee.node.originalX;ee.node.x0=ce-ee.visibleWidth/2,ee.node.x1=ce+ee.visibleWidth/2,q(ee,Q)}})}function Y(se,$,ee,le){return function(){for(var K=0,ue=0;ue<ee.length;ue++){var ie=ee[ue];ie===le.interactionState.dragInProgress?(ie.x=ie.lastDraggedX,ie.y=ie.lastDraggedY):(ie.vx=(ie.originalX-ie.x)/d.forceTicksPerFrame,ie.y=Math.min(le.size-ie.dy/2,Math.max(ie.dy/2,ie.y))),K=Math.max(K,Math.abs(ie.vx),Math.abs(ie.vy))}!le.interactionState.dragInProgress&&K<.1&&le.forceLayouts[$].alpha()>0&&le.forceLayouts[$].alpha(0)}}function q(se,$){for(var ee=[],le=[],Q=0;Q<se.graph.nodes.length;Q++){var K=(se.graph.nodes[Q].x0+se.graph.nodes[Q].x1)/2,ue=(se.graph.nodes[Q].y0+se.graph.nodes[Q].y1)/2;ee.push(K/se.figure.width),le.push(ue/se.figure.height)}v.call("_guiRestyle",$,{"node.x":[ee],"node.y":[le]},se.trace.index).then(function(){$._fullLayout._dragCover&&$._fullLayout._dragCover.remove()})}function ne(se){var $=[],ee;for(ee=0;ee<se.length;ee++)se[ee].originalX=(se[ee].x0+se[ee].x1)/2,se[ee].originalY=(se[ee].y0+se[ee].y1)/2,$.indexOf(se[ee].originalX)===-1&&$.push(se[ee].originalX);for($.sort(function(le,Q){return le-Q}),ee=0;ee<se.length;ee++)se[ee].originalLayerIndex=$.indexOf(se[ee].originalX),se[ee].originalLayer=se[ee].originalLayerIndex/($.length-1)}function oe(se){se.lastDraggedX=se.x0+se.dx/2,se.lastDraggedY=se.y0+se.dy/2}function he(se){return function($){return $.node.originalX===se.node.originalX}}function J(se){for(var $=0;$<se.length;$++)se[$].y=(se[$].y0+se[$].y1)/2,se[$].x=(se[$].x0+se[$].x1)/2}function Z(se){for(var $=0;$<se.length;$++)se[$].y0=se[$].y-se[$].dy/2,se[$].y1=se[$].y0+se[$].dy,se[$].x0=se[$].x-se[$].dx/2,se[$].x1=se[$].x0+se[$].dx}V.exports=function(se,$,ee,le,Q){var K=se._context.staticPlot,ue=!1;i.ensureSingle(se._fullLayout._infolayer,"g","first-render",function(){ue=!0});var ie=se._fullLayout._dragCover,ce=ee.filter(function(Ce){return f(Ce).trace.visible}).map(k.bind(null,le)),xe=$.selectAll("."+d.cn.sankey).data(ce,s);xe.exit().remove(),xe.enter().append("g").classed(d.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",K?"none":"auto").attr("transform",F),xe.each(function(Ce,Ue){se._fullData[Ue]._sankey=Ce;var He="bgsankey-"+Ce.trace.uid+"-"+Ue;i.ensureSingle(se._fullLayout._draggers,"rect",He),se._fullData[Ue]._bgRect=n.select("."+He),se._fullData[Ue]._bgRect.style("pointer-events",K?"none":"all").attr("width",Ce.width).attr("height",Ce.height).attr("x",Ce.translateX).attr("y",Ce.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),xe.transition().ease(d.ease).duration(d.duration).attr("transform",F);var Le=xe.selectAll("."+d.cn.sankeyLinks).data(m,s);Le.enter().append("g").classed(d.cn.sankeyLinks,!0).style("fill","none");var Ae=Le.selectAll("."+d.cn.sankeyLink).data(function(Ce){var Ue=Ce.graph.links;return Ue.filter(function(He){return He.value}).map(w.bind(null,Ce))},s);Ae.enter().append("path").classed(d.cn.sankeyLink,!0).call(N,xe,Q.linkEvents),Ae.style("stroke",function(Ce){return G(Ce)?r.tinyRGB(y(Ce.linkLineColor)):Ce.tinyColorHue}).style("stroke-opacity",function(Ce){return G(Ce)?r.opacity(Ce.linkLineColor):Ce.tinyColorAlpha}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}).style("stroke-width",function(Ce){return G(Ce)?Ce.linkLineWidth:1}).attr("d",b()),Ae.style("opacity",function(){return se._context.staticPlot||ue||ie?1:0}).transition().ease(d.ease).duration(d.duration).style("opacity",1),Ae.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var Oe=xe.selectAll("."+d.cn.sankeyNodeSet).data(m,s);Oe.enter().append("g").classed(d.cn.sankeyNodeSet,!0),Oe.style("cursor",function(Ce){switch(Ce.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ze=Oe.selectAll("."+d.cn.sankeyNode).data(function(Ce){var Ue=Ce.graph.nodes;return ne(Ue),Ue.map(o.bind(null,Ce))},s);ze.enter().append("g").classed(d.cn.sankeyNode,!0).call(P).style("opacity",function(Ce){return(se._context.staticPlot||ue)&&!Ce.partOfGroup?1:0}),ze.call(N,xe,Q.nodeEvents).call(U,Ae,Q,se),ze.transition().ease(d.ease).duration(d.duration).call(P).style("opacity",function(Ce){return Ce.partOfGroup?0:1}),ze.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var Ee=ze.selectAll("."+d.cn.nodeRect).data(m);Ee.enter().append("rect").classed(d.cn.nodeRect,!0).call(_),Ee.style("stroke-width",function(Ce){return Ce.nodeLineWidth}).style("stroke",function(Ce){return r.tinyRGB(y(Ce.nodeLineColor))}).style("stroke-opacity",function(Ce){return r.opacity(Ce.nodeLineColor)}).style("fill",function(Ce){return Ce.tinyColorHue}).style("fill-opacity",function(Ce){return Ce.tinyColorAlpha}),Ee.transition().ease(d.ease).duration(d.duration).call(_);var be=ze.selectAll("."+d.cn.nodeLabel).data(m);be.enter().append("text").classed(d.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(Ce){return Ce.node.label}).each(function(Ce){var Ue=n.select(this);t.font(Ue,Ce.textFont),S.convertToTspans(Ue,se)}).style("text-shadow",S.makeTextShadow(se._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ce){return Ce.horizontal&&Ce.left?"end":"start"}).attr("transform",function(Ce){var Ue=n.select(this),He=S.lineCount(Ue),Ie=Ce.textFont.size*((He-1)*M-g),Ge=Ce.nodeLineWidth/2+A,at=((Ce.horizontal?Ce.visibleHeight:Ce.visibleWidth)-Ie)/2;Ce.horizontal&&(Ce.left?Ge=-Ge:Ge+=Ce.visibleWidth);var lt=Ce.horizontal?"":"scale(-1,1)"+h(90);return a(Ce.horizontal?Ge:at,Ce.horizontal?at:Ge)+lt}),be.transition().ease(d.ease).duration(d.duration)}},84564:function(V){V.exports=function(e,p){for(var L=e.cd,n=[],C=L[0].trace,T=C._sankey.graph.nodes,d=0;d<T.length;d++){var y=T[d];if(!y.partOfGroup){var r=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];C.orientation==="v"&&r.reverse(),p&&p.contains(r,!1,d,e)&&n.push({pointNumber:y.pointNumber})}}return n}},75225:function(V,B,e){var p=e(71828);V.exports=function(n,C){for(var T=0;T<n.length;T++)n[T].i=T;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.texttemplate,n,"txt"),p.mergeArray(C.hovertext,n,"htx"),p.mergeArray(C.customdata,n,"data"),p.mergeArray(C.textposition,n,"tp"),C.textfont&&(p.mergeArrayCastPositive(C.textfont.size,n,"ts"),p.mergeArray(C.textfont.color,n,"tc"),p.mergeArray(C.textfont.family,n,"tf"));var d=C.marker;if(d){p.mergeArrayCastPositive(d.size,n,"ms"),p.mergeArrayCastPositive(d.opacity,n,"mo"),p.mergeArray(d.symbol,n,"mx"),p.mergeArray(d.angle,n,"ma"),p.mergeArray(d.standoff,n,"mf"),p.mergeArray(d.color,n,"mc");var y=d.line;d.line&&(p.mergeArray(y.color,n,"mlc"),p.mergeArrayCastPositive(y.width,n,"mlw"));var r=d.gradient;r&&r.type!=="none"&&(p.mergeArray(r.type,n,"mgt"),p.mergeArray(r.color,n,"mgc"))}}},82196:function(V,B,e){var p=e(12663).axisHoverFormat,L=e(5386).si,n=e(5386).fF,C=e(50693),T=e(41940),d=e(79952).P,y=e(79952).u,r=e(91424),t=e(47581),i=e(1426).extendFlat;function a(s){return{valType:"any",dflt:0,editType:"calc"}}function h(s){return{valType:"any",editType:"calc"}}function u(s){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:a(),yperiod:a(),xperiod0:h(),yperiod0:h(),xperiodalignment:u(),yperiodalignment:u(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:t.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:i({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:y,marker:i({symbol:{valType:"enumerated",values:r.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:i({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(V,B,e){var p=e(92770),L=e(71828),n=e(89298),C=e(42973),T=e(50606).BADNUM,d=e(34098),y=e(36922),r=e(75225),t=e(66279);function i(f,S){var v=f._fullLayout,l=S._xA=n.getFromId(f,S.xaxis||"x","x"),g=S._yA=n.getFromId(f,S.yaxis||"y","y"),M=l.makeCalcdata(S,"x"),A=g.makeCalcdata(S,"y"),k=C(S,l,"x",M),w=C(S,g,"y",A),E=k.vals,b=w.vals,o=S._length,P=new Array(o),x=S.ids,z=m(S,v,l,g),_=!1,G,F,N,U,O,H;u(v,S);var Y="x",q="y",ne;if(z)L.pushUnique(z.traceIndices,S._expandedIndex),G=z.orientation==="v",G?(q="s",ne="x"):(Y="s",ne="y"),O=z.stackgaps==="interpolate";else{var oe=h(S,o);a(f,S,l,g,E,b,oe)}var he=!!S.xperiodalignment,J=!!S.yperiodalignment;for(F=0;F<o;F++){var Z=P[F]={},se=p(E[F]),$=p(b[F]);se&&$?(Z[Y]=E[F],Z[q]=b[F],he&&(Z.orig_x=M[F],Z.xEnd=k.ends[F],Z.xStart=k.starts[F]),J&&(Z.orig_y=A[F],Z.yEnd=w.ends[F],Z.yStart=w.starts[F])):z&&(G?se:$)?(Z[ne]=G?E[F]:b[F],Z.gap=!0,O?(Z.s=T,_=!0):Z.s=0):Z[Y]=Z[q]=T,x&&(Z.id=String(x[F]))}if(r(P,S),y(f,S),t(P,S),z){for(F=0;F<P.length;)P[F][ne]===T?P.splice(F,1):F++;if(L.sort(P,function(K,ue){return K[ne]-ue[ne]||K.i-ue.i}),_){for(F=0;F<P.length-1&&P[F].gap;)F++;for(H=P[F].s,H||(H=P[F].s=0),N=0;N<F;N++)P[N].s=H;for(U=P.length-1;U>F&&P[U].gap;)U--;for(H=P[U].s,N=P.length-1;N>U;N--)P[N].s=H;for(;F<U;)if(F++,P[F].gap){for(N=F+1;P[N].gap;)N++;for(var ee=P[F-1][ne],le=P[F-1].s,Q=(P[N].s-le)/(P[N][ne]-ee);F<N;)P[F].s=le+(P[F][ne]-ee)*Q,F++}}}return P}function a(f,S,v,l,g,M,A){var k=S._length,w=f._fullLayout,E=v._id,b=l._id,o=w._firstScatter[s(S)]===S.uid,P=(m(S,w,v,l)||{}).orientation,x=S.fill;v._minDtick=0,l._minDtick=0;var z={padded:!0},_={padded:!0};A&&(z.ppad=_.ppad=A);var G=k<2||g[0]!==g[k-1]||M[0]!==M[k-1];G&&(x==="tozerox"||x==="tonextx"&&(o||P==="h"))?z.tozero=!0:!(S.error_y||{}).visible&&(x==="tonexty"||x==="tozeroy"||!d.hasMarkers(S)&&!d.hasText(S))&&(z.padded=!1,z.ppad=0),G&&(x==="tozeroy"||x==="tonexty"&&(o||P==="v"))?_.tozero=!0:(x==="tonextx"||x==="tozerox")&&(_.padded=!1),E&&(S._extremes[E]=n.findExtremes(v,g,z)),b&&(S._extremes[b]=n.findExtremes(l,M,_))}function h(f,S){if(d.hasMarkers(f)){var v=f.marker,l=1.6*(f.marker.sizeref||1),g;if(f.marker.sizemode==="area"?g=function(E){return Math.max(Math.sqrt((E||0)/l),3)}:g=function(E){return Math.max((E||0)/l,3)},L.isArrayOrTypedArray(v.size)){var M={type:"linear"};n.setConvert(M);for(var A=M.makeCalcdata(f.marker,"size"),k=new Array(S),w=0;w<S;w++)k[w]=g(A[w]);return k}else return g(v.size)}}function u(f,S){var v=s(S),l=f._firstScatter;l[v]||(l[v]=S.uid)}function s(f){var S=f.stackgroup;return f.xaxis+f.yaxis+f.type+(S?"-"+S:"")}function m(f,S,v,l){var g=f.stackgroup;if(g){var M=S._scatterStackOpts[v._id+l._id][g],A=M.orientation==="v"?l:v;if(A.type==="linear"||A.type==="log")return M}}V.exports={calc:i,calcMarkerSize:h,calcAxisExpansion:a,setFirstScatter:u,getStackOpts:m}},66279:function(V,B,e){var p=e(71828);V.exports=function(n,C){p.isArrayOrTypedArray(C.selectedpoints)&&p.tagSelected(n,C)}},36922:function(V,B,e){var p=e(52075).hasColorscale,L=e(78803),n=e(34098);V.exports=function(T,d){n.hasLines(d)&&p(d,"line")&&L(T,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(d)&&(p(d,"marker")&&L(T,d,{vals:d.marker.color,containerStr:"marker",cLetter:"c"}),p(d,"marker.line")&&L(T,d,{vals:d.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(V){V.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(V,B,e){var p=e(47761),L=e(11661).setGroupPositions;function n(d,y){for(var r=y.xaxis,t=y.yaxis,i=d._fullLayout,a=d._fullData,h=d.calcdata,u=[],s=[],m=0;m<a.length;m++){var f=a[m];f.visible===!0&&f.type==="scatter"&&f.xaxis===r._id&&f.yaxis===t._id&&(f.orientation==="h"?u.push(h[m]):f.orientation==="v"&&s.push(h[m]))}var S={mode:i.scattermode,gap:i.scattergap};L(d,r,t,s,S),L(d,t,r,u,S)}V.exports=function(y,r){y._fullLayout.scattermode==="group"&&n(y,r);var t=r.xaxis,i=r.yaxis,a=t._id+i._id,h=y._fullLayout._scatterStackOpts[a];if(h){var u=y.calcdata,s,m,f,S,v,l,g,M,A,k,w,E,b,o,P;for(var x in h){k=h[x];var z=k.traceIndices;if(z.length){for(w=k.stackgaps==="interpolate",E=k.groupnorm,k.orientation==="v"?(b="x",o="y"):(b="y",o="x"),P=new Array(z.length),s=0;s<P.length;s++)P[s]=!1;l=u[z[0]];var _=new Array(l.length);for(s=0;s<l.length;s++)_[s]=l[s][b];for(s=1;s<z.length;s++){for(v=u[z[s]],m=f=0;m<v.length;m++){for(g=v[m][b];g>_[f]&&f<_.length;f++)C(v,m,_[f],s,P,w,b),m++;if(g!==_[f]){for(S=0;S<s;S++)C(u[z[S]],f,g,S,P,w,b);_.splice(f,0,g)}f++}for(;f<_.length;f++)C(v,m,_[f],s,P,w,b),m++}var G=_.length;for(m=0;m<l.length;m++){for(M=l[m][o]=l[m].s,s=1;s<z.length;s++)v=u[z[s]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=G,M+=v[m].s,v[m][o]=M;if(E)for(A=(E==="fraction"?M:M/100)||1,s=0;s<z.length;s++){var F=u[z[s]][m];F[o]/=A,F.sNorm=F.s/A}}for(s=0;s<z.length;s++){v=u[z[s]];var N=v[0].trace,U=p.calcMarkerSize(N,N._rawLength),O=Array.isArray(U);if(U&&P[s]||O){var H=U;for(U=new Array(G),m=0;m<G;m++)U[m]=v[m].gap?0:O?H[v[m].i]:H}var Y=new Array(G),q=new Array(G);for(m=0;m<G;m++)Y[m]=v[m].x,q[m]=v[m].y;p.calcAxisExpansion(y,N,t,i,Y,q,U),v[0].t.orientation=k.orientation}}}}};function C(d,y,r,t,i,a,h){i[t]=!0;var u={i:null,gap:!0,s:0};if(u[h]=r,d.splice(y,0,u),y&&r===d[y-1][h]){var s=d[y-1];u.s=s.s,u.i=s.i,u.gap=s.gap}else a&&(u.s=T(d,y,r,h));y||(d[0].t=d[1].t,d[0].trace=d[1].trace,delete d[1].t,delete d[1].trace)}function T(d,y,r,t){var i=d[y-1],a=d[y+1];return a?i?i.s+(a.s-i.s)*(r-i[t])/(a[t]-i[t]):a.s:i.s}},34936:function(V,B,e){var p=e(71828),L=e(26125),n=e(82196);V.exports=function(T,d){var y,r,t;function i(m){return p.coerce(r._input,r,n,m)}if(d.scattermode==="group")for(t=0;t<T.length;t++)r=T[t],r.type==="scatter"&&(y=r._input,L(y,r,d,i));for(t=0;t<T.length;t++){var a=T[t];if(a.type==="scatter"){var h=a.fill;if(!(h==="none"||h==="toself")&&(a.opacity=void 0,h==="tonexty"||h==="tonextx"))for(var u=t-1;u>=0;u--){var s=T[u];if(s.type==="scatter"&&s.xaxis===a.xaxis&&s.yaxis===a.yaxis){s.opacity=void 0;break}}}}}},17438:function(V,B,e){var p=e(71828),L=e(73972),n=e(82196),C=e(47581),T=e(34098),d=e(67513),y=e(73927),r=e(565),t=e(49508),i=e(11058),a=e(94039),h=e(82410),u=e(28908),s=e(71828).coercePattern;V.exports=function(f,S,v,l){function g(P,x){return p.coerce(f,S,n,P,x)}var M=d(f,S,l,g);if(M||(S.visible=!1),!!S.visible){y(f,S,l,g),g("xhoverformat"),g("yhoverformat");var A=r(f,S,l,g);l.scattermode==="group"&&S.orientation===void 0&&g("orientation","v");var k=!A&&M<C.PTS_LINESONLY?"lines+markers":"lines";g("text"),g("hovertext"),g("mode",k),T.hasMarkers(S)&&t(f,S,v,l,g,{gradient:!0}),T.hasLines(S)&&(i(f,S,v,l,g,{backoff:!0}),a(f,S,g),g("connectgaps"),g("line.simplify")),T.hasText(S)&&(g("texttemplate"),h(f,S,l,g));var w=[];(T.hasMarkers(S)||T.hasText(S))&&(g("cliponaxis"),g("marker.maxdisplayed"),w.push("points")),g("fill",A?A.fillDflt:"none"),S.fill!=="none"&&(u(f,S,v,g),T.hasLines(S)||a(f,S,g),s(g,"fillpattern",S.fillcolor,!1));var E=(S.line||{}).color,b=(S.marker||{}).color;(S.fill==="tonext"||S.fill==="toself")&&w.push("fills"),g("hoveron",w.join("+")||"points"),S.hoveron!=="fills"&&g("hovertemplate");var o=L.getComponentMethod("errorbars","supplyDefaults");o(f,S,E||b||v,{axis:"y"}),o(f,S,E||b||v,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(S,g)}}},28908:function(V,B,e){var p=e(7901),L=e(71828).isArrayOrTypedArray;V.exports=function(C,T,d,y){var r=!1;if(T.marker){var t=T.marker.color,i=(T.marker.line||{}).color;t&&!L(t)?r=t:i&&!L(i)&&(r=i)}y("fillcolor",p.addOpacity((T.line||{}).color||r||d,.5))}},8225:function(V,B,e){var p=e(89298);V.exports=function(n,C,T){var d={},y={_fullLayout:T},r=p.getFromTrace(y,C,"x"),t=p.getFromTrace(y,C,"y"),i=n.orig_x;i===void 0&&(i=n.x);var a=n.orig_y;return a===void 0&&(a=n.y),d.xLabel=p.tickText(r,r.c2l(i),!0).text,d.yLabel=p.tickText(t,t.c2l(a),!0).text,d}},34603:function(V,B,e){var p=e(7901),L=e(34098);V.exports=function(C,T){var d,y;if(C.mode==="lines")return d=C.line.color,d&&p.opacity(d)?d:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var r=T.mcc||(C.marker||{}).color,t=T.mlcc||((C.marker||{}).line||{}).color;return y=r&&p.opacity(r)?r:t&&p.opacity(t)&&(T.mlw||((C.marker||{}).line||{}).width)?t:"",y?p.opacity(y)<.3?p.addOpacity(y,.3):y:(d=(C.line||{}).color,d&&p.opacity(d)&&L.hasLines(C)&&C.line.width?d:C.fillcolor)}},26125:function(V,B,e){var p=e(99082).getAxisGroup;V.exports=function(n,C,T,d){var y=C.orientation,r=C[{v:"x",h:"y"}[y]+"axis"],t=p(T,r)+y,i=T._alignmentOpts||{},a=d("alignmentgroup"),h=i[t];h||(h=i[t]={});var u=h[a];u?u.traces.push(C):u=h[a]={traces:[C],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var s=d("offsetgroup"),m=u.offsetGroups,f=m[s];s&&(f||(f=m[s]={offsetIndex:Object.keys(m).length}),C._offsetIndex=f.offsetIndex)}},33720:function(V,B,e){var p=e(71828),L=e(30211),n=e(73972),C=e(34603),T=e(7901),d=p.fillText;V.exports=function(r,t,i,a){var h=r.cd,u=h[0].trace,s=r.xa,m=r.ya,f=s.c2p(t),S=m.c2p(i),v=[f,S],l=u.hoveron||"",g=u.mode.indexOf("markers")!==-1?3:.5,M=!!u.xperiodalignment,A=!!u.yperiodalignment;if(l.indexOf("points")!==-1){var k=function(ce){if(M){var xe=s.c2p(ce.xStart),Le=s.c2p(ce.xEnd);return f>=Math.min(xe,Le)&&f<=Math.max(xe,Le)?0:1/0}var Ae=Math.max(3,ce.mrc||0),Oe=1-1/Ae,ze=Math.abs(s.c2p(ce.x)-f);return ze<Ae?Oe*ze/Ae:ze-Ae+Oe},w=function(ce){if(A){var xe=m.c2p(ce.yStart),Le=m.c2p(ce.yEnd);return S>=Math.min(xe,Le)&&S<=Math.max(xe,Le)?0:1/0}var Ae=Math.max(3,ce.mrc||0),Oe=1-1/Ae,ze=Math.abs(m.c2p(ce.y)-S);return ze<Ae?Oe*ze/Ae:ze-Ae+Oe},E=function(ce){var xe=Math.max(g,ce.mrc||0),Le=s.c2p(ce.x)-f,Ae=m.c2p(ce.y)-S;return Math.max(Math.sqrt(Le*Le+Ae*Ae)-xe,1-g/xe)},b=L.getDistanceFunction(a,k,w,E);if(L.getClosest(h,b,r),r.index!==!1){var o=h[r.index],P=s.c2p(o.x,!0),x=m.c2p(o.y,!0),z=o.mrc||1;r.index=o.i;var _=h[0].t.orientation,G=_&&(o.sNorm||o.s),F=_==="h"?G:o.orig_x!==void 0?o.orig_x:o.x,N=_==="v"?G:o.orig_y!==void 0?o.orig_y:o.y;return p.extendFlat(r,{color:C(u,o),x0:P-z,x1:P+z,xLabelVal:F,y0:x-z,y1:x+z,yLabelVal:N,spikeDistance:E(o),hovertemplate:u.hovertemplate}),d(o,u,r),n.getComponentMethod("errorbars","hoverInfo")(o,u,r),[r]}}if(l.indexOf("fills")!==-1&&u._polygons){var U=u._polygons,O=[],H=!1,Y=1/0,q=-1/0,ne=1/0,oe=-1/0,he,J,Z,se,$,ee,le,Q,K;for(he=0;he<U.length;he++)Z=U[he],Z.contains(v)&&(H=!H,O.push(Z),ne=Math.min(ne,Z.ymin),oe=Math.max(oe,Z.ymax));if(H){ne=Math.max(ne,0),oe=Math.min(oe,m._length);var ue=(ne+oe)/2;for(he=0;he<O.length;he++)for(se=O[he].pts,J=1;J<se.length;J++)Q=se[J-1][1],K=se[J][1],Q>ue!=K>=ue&&(ee=se[J-1][0],le=se[J][0],K-Q&&($=ee+(le-ee)*(ue-Q)/(K-Q),Y=Math.min(Y,$),q=Math.max(q,$)));Y=Math.max(Y,0),q=Math.min(q,s._length);var ie=T.defaultLine;return T.opacity(u.fillcolor)?ie=u.fillcolor:T.opacity((u.line||{}).color)&&(ie=u.line.color),p.extendFlat(r,{distance:r.maxHoverDistance,x0:Y,x1:q,y0:ue,y1:ue,color:ie,hovertemplate:!1}),delete r.index,u.text&&!p.isArrayOrTypedArray(u.text)?r.text=String(u.text):r.text=u.name,[r]}}}},67368:function(V,B,e){var p=e(34098);V.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(V){V.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(V,B,e){var p=e(71828),L=e(21479);V.exports=function(n,C){function T(y,r){return p.coerce(n,C,L,y,r)}var d=C.barmode==="group";C.scattermode==="group"&&T("scattergap",d?C.bargap:.2)}},11058:function(V,B,e){var p=e(71828).isArrayOrTypedArray,L=e(52075).hasColorscale,n=e(1586);V.exports=function(T,d,y,r,t,i){i||(i={});var a=(T.marker||{}).color;if(a&&a._inputArray&&(a=a._inputArray),t("line.color",y),L(T,"line"))n(T,d,r,t,{prefix:"line.",cLetter:"c"});else{var h=(p(a)?!1:a)||y;t("line.color",h)}t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},34621:function(V,B,e){var p=e(91424),L=e(50606),n=L.BADNUM,C=L.LOG_CLIP,T=C+.5,d=C-.5,y=e(71828),r=y.segmentsIntersect,t=y.constrain,i=e(47581);V.exports=function(h,u){var s=u.trace||{},m=u.xaxis,f=u.yaxis,S=m.type==="log",v=f.type==="log",l=m._length,g=f._length,M=u.backoff,A=s.marker,k=u.connectGaps,w=u.baseTolerance,E=u.shape,b=E==="linear",o=s.fill&&s.fill!=="none",P=[],x=i.minTolerance,z=h.length,_=new Array(z),G=0,F,N,U,O,H,Y,q,ne,oe,he,J,Z,se,$,ee,le;function Q(ct){var gt=h[ct];if(!gt)return!1;var jt=u.linearized?m.l2p(gt.x):m.c2p(gt.x),Kt=u.linearized?f.l2p(gt.y):f.c2p(gt.y);if(jt===n){if(S&&(jt=m.c2p(gt.x,!0)),jt===n)return!1;v&&Kt===n&&(jt*=Math.abs(m._m*g*(m._m>0?T:d)/(f._m*l*(f._m>0?T:d)))),jt*=1e3}if(Kt===n){if(v&&(Kt=f.c2p(gt.y,!0)),Kt===n)return!1;Kt*=1e3}return[jt,Kt]}function K(ct,gt,jt,Kt){var Tt=jt-ct,zt=Kt-gt,qt=.5-ct,Sr=.5-gt,yt=Tt*Tt+zt*zt,Zt=Tt*qt+zt*Sr;if(Zt>0&&Zt<yt){var Jt=qt*zt-Sr*Tt;if(Jt*Jt<yt)return!0}}var ue,ie;function ce(ct,gt){var jt=ct[0]/l,Kt=ct[1]/g,Tt=Math.max(0,-jt,jt-1,-Kt,Kt-1);return Tt&&ue!==void 0&&K(jt,Kt,ue,ie)&&(Tt=0),Tt&&gt&&K(jt,Kt,gt[0]/l,gt[1]/g)&&(Tt=0),(1+i.toleranceGrowth*Tt)*w}function xe(ct,gt){var jt=ct[0]-gt[0],Kt=ct[1]-gt[1];return Math.sqrt(jt*jt+Kt*Kt)}var Le=i.maxScreensAway,Ae=-l*Le,Oe=l*(1+Le),ze=-g*Le,Ee=g*(1+Le),be=[[Ae,ze,Oe,ze],[Oe,ze,Oe,Ee],[Oe,Ee,Ae,Ee],[Ae,Ee,Ae,ze]],Ce,Ue,He,Ie,Ge,at;function lt(ct,gt){for(var jt=[],Kt=0,Tt=0;Tt<4;Tt++){var zt=be[Tt],qt=r(ct[0],ct[1],gt[0],gt[1],zt[0],zt[1],zt[2],zt[3]);qt&&(!Kt||Math.abs(qt.x-jt[0][0])>1||Math.abs(qt.y-jt[0][1])>1)&&(qt=[qt.x,qt.y],Kt&&xe(qt,ct)<xe(jt[0],ct)?jt.unshift(qt):jt.push(qt),Kt++)}return jt}function qe(ct){if(ct[0]<Ae||ct[0]>Oe||ct[1]<ze||ct[1]>Ee)return[t(ct[0],Ae,Oe),t(ct[1],ze,Ee)]}function et(ct,gt){if(ct[0]===gt[0]&&(ct[0]===Ae||ct[0]===Oe)||ct[1]===gt[1]&&(ct[1]===ze||ct[1]===Ee))return!0}function ft(ct,gt){var jt=[],Kt=qe(ct),Tt=qe(gt);return Kt&&Tt&&et(Kt,Tt)||(Kt&&jt.push(Kt),Tt&&jt.push(Tt)),jt}function dt(ct,gt,jt){return function(Kt,Tt){var zt=qe(Kt),qt=qe(Tt),Sr=[];if(zt&&qt&&et(zt,qt))return Sr;zt&&Sr.push(zt),qt&&Sr.push(qt);var yt=2*y.constrain((Kt[ct]+Tt[ct])/2,gt,jt)-((zt||Kt)[ct]+(qt||Tt)[ct]);if(yt){var Zt;zt&&qt?Zt=yt>0==zt[ct]>qt[ct]?zt:qt:Zt=zt||qt,Zt[ct]+=yt}return Sr}}var pt;E==="linear"||E==="spline"?pt=lt:E==="hv"||E==="vh"?pt=ft:E==="hvh"?pt=dt(0,Ae,Oe):E==="vhv"&&(pt=dt(1,ze,Ee));function At(ct,gt){var jt=gt[0]-ct[0],Kt=(gt[1]-ct[1])/jt,Tt=(ct[1]*gt[0]-gt[1]*ct[0])/jt;return Tt>0?[Kt>0?Ae:Oe,Ee]:[Kt>0?Oe:Ae,ze]}function Pt(ct){var gt=ct[0],jt=ct[1],Kt=gt===_[G-1][0],Tt=jt===_[G-1][1];if(!(Kt&&Tt))if(G>1){var zt=gt===_[G-2][0],qt=jt===_[G-2][1];Kt&&(gt===Ae||gt===Oe)&&zt?qt?G--:_[G-1]=ct:Tt&&(jt===ze||jt===Ee)&&qt?zt?G--:_[G-1]=ct:_[G++]=ct}else _[G++]=ct}function Ht(ct){_[G-1][0]!==ct[0]&&_[G-1][1]!==ct[1]&&Pt([He,Ie]),Pt(ct),Ge=null,He=Ie=0}var Je=y.isArrayOrTypedArray(A);function We(ct){if(ct&&M&&(ct.i=F,ct.d=h,ct.trace=s,ct.marker=Je?A[ct.i]:A,ct.backoff=M),ue=ct[0]/l,ie=ct[1]/g,Ce=ct[0]<Ae?Ae:ct[0]>Oe?Oe:0,Ue=ct[1]<ze?ze:ct[1]>Ee?Ee:0,Ce||Ue){if(!G)_[G++]=[Ce||ct[0],Ue||ct[1]];else if(Ge){var gt=pt(Ge,ct);gt.length>1&&(Ht(gt[0]),_[G++]=gt[1])}else at=pt(_[G-1],ct)[0],_[G++]=at;var jt=_[G-1];Ce&&Ue&&(jt[0]!==Ce||jt[1]!==Ue)?(Ge&&(He!==Ce&&Ie!==Ue?Pt(He&&Ie?At(Ge,ct):[He||Ce,Ie||Ue]):He&&Ie&&Pt([He,Ie])),Pt([Ce,Ue])):He-Ce&&Ie-Ue&&Pt([Ce||He,Ue||Ie]),Ge=ct,He=Ce,Ie=Ue}else Ge&&Ht(pt(Ge,ct)[0]),_[G++]=ct}for(F=0;F<z;F++)if(N=Q(F),!!N){for(G=0,Ge=null,We(N),F++;F<z;F++){if(O=Q(F),!O){if(k)continue;break}if(!b||!u.simplify){We(O);continue}var _e=Q(F+1);if(he=xe(O,N),!(!(o&&(G===0||G===z-1))&&he<ce(O,_e)*x)){for(ne=[(O[0]-N[0])/he,(O[1]-N[1])/he],H=N,J=he,Z=$=ee=0,q=!1,U=O,F++;F<h.length;F++){if(Y=_e,_e=Q(F+1),!Y){if(k)continue;break}if(oe=[Y[0]-N[0],Y[1]-N[1]],le=oe[0]*ne[1]-oe[1]*ne[0],$=Math.min($,le),ee=Math.max(ee,le),ee-$>ce(Y,_e))break;U=Y,se=oe[0]*ne[0]+oe[1]*ne[1],se>J?(J=se,O=Y,q=!1):se<Z&&(Z=se,H=Y,q=!0)}if(q?(We(O),U!==H&&We(H)):(H!==N&&We(H),U!==O&&We(O)),We(U),F>=h.length||!Y)break;We(Y),N=Y}}Ge&&Pt([He||Ge[0],Ie||Ge[1]]),P.push(_.slice(0,G))}var Ne=E.slice(E.length-1);if(M&&Ne!=="h"&&Ne!=="v"){for(var ke=!1,we=-1,me=[],Me=0;Me<P.length;Me++)for(var Se=0;Se<P[Me].length-1;Se++){var Ve=P[Me][Se],Ze=P[Me][Se+1],tt=p.applyBackoff(Ze,Ve);(tt[0]!==Ze[0]||tt[1]!==Ze[1])&&(ke=!0),me[we+1]||(we++,me[we]=[Ve,[tt[0],tt[1]]])}return ke?me:P}return P}},94039:function(V){V.exports=function(e,p,L){var n=L("line.shape");n==="spline"&&L("line.smoothing")}},68687:function(V){var B={tonextx:1,tonexty:1,tonext:1};V.exports=function(p,L,n){var C,T,d,y,r,t={},i=!1,a=-1,h=0,u=-1;for(T=0;T<n.length;T++)C=n[T][0].trace,d=C.stackgroup||"",d?d in t?r=t[d]:(r=t[d]=h,h++):C.fill in B&&u>=0?r=u:(r=u=h,h++),r<a&&(i=!0),C._groupIndex=a=r;var s=n.slice();i&&s.sort(function(f,S){var v=f[0].trace,l=S[0].trace;return v._groupIndex-l._groupIndex||v.index-l.index});var m={};for(T=0;T<s.length;T++)C=s[T][0].trace,d=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in B&&(y=m[d],C._prevtrace=y||null,y&&(y._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[d]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return s}},39984:function(V,B,e){var p=e(92770);V.exports=function(n,C){C||(C=2);var T=n.marker,d=T.sizeref||1,y=T.sizemin||0,r=T.sizemode==="area"?function(t){return Math.sqrt(t/d)}:function(t){return t/d};return function(t){var i=r(t/C);return p(i)&&i>0?Math.max(i,y):0}}},4898:function(V){V.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(V,B,e){var p=e(7901),L=e(52075).hasColorscale,n=e(1586),C=e(34098);V.exports=function(d,y,r,t,i,a){var h=C.isBubble(d),u=(d.line||{}).color,s;if(a=a||{},u&&(r=u),i("marker.symbol"),i("marker.opacity",h?.7:1),i("marker.size"),a.noAngle||(i("marker.angle"),a.noAngleRef||i("marker.angleref"),a.noStandOff||i("marker.standoff")),i("marker.color",r),L(d,"marker")&&n(d,y,t,i,{prefix:"marker.",cLetter:"c"}),a.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),a.noLine||(u&&!Array.isArray(u)&&y.marker.color!==u?s=u:h?s=p.background:s=p.defaultLine,i("marker.line.color",s),L(d,"marker.line")&&n(d,y,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",h?1:0)),h&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),a.gradient){var m=i("marker.gradient.type");m!=="none"&&i("marker.gradient.color")}}},73927:function(V,B,e){var p=e(71828).dateTick0,L=e(50606),n=L.ONEWEEK;function C(T,d){return T%n===0?p(d,1):p(d,0)}V.exports=function(d,y,r,t,i){if(i||(i={x:!0,y:!0}),i.x){var a=t("xperiod");a&&(t("xperiod0",C(a,y.xcalendar)),t("xperiodalignment"))}if(i.y){var h=t("yperiod");h&&(t("yperiod0",C(h,y.ycalendar)),t("yperiodalignment"))}}},32663:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=n.ensureSingle,T=n.identity,d=e(91424),y=e(34098),r=e(34621),t=e(68687),i=e(61082).tester;V.exports=function(m,f,S,v,l,g){var M,A,k=!l,w=!!l&&l.duration>0,E=t(m,f,S);if(M=v.selectAll("g.trace").data(E,function(o){return o[0].trace.uid}),M.enter().append("g").attr("class",function(o){return"trace scatter trace"+o[0].trace.uid}).style("stroke-miterlimit",2),M.order(),a(m,M,f),w){g&&(A=g());var b=p.transition().duration(l.duration).ease(l.easing).each("end",function(){A&&A()}).each("interrupt",function(){A&&A()});b.each(function(){v.selectAll("g.trace").each(function(o,P){h(m,P,f,o,E,this,l)})})}else M.each(function(o,P){h(m,P,f,o,E,this,l)});k&&M.exit().remove(),v.selectAll("path:not([d])").remove()};function a(s,m,f){m.each(function(S){var v=C(p.select(this),"g","fills");d.setClipUrl(v,f.layerClipId,s);var l=S[0].trace,g=[];l._ownfill&&g.push("_ownFill"),l._nexttrace&&g.push("_nextFill");var M=v.selectAll("g").data(g,T);M.enter().append("g"),M.exit().each(function(A){l[A]=null}).remove(),M.order().each(function(A){l[A]=C(p.select(this),"path","js-fill")})})}function h(s,m,f,S,v,l,g){var M=s._context.staticPlot,A;u(s,m,f,S,v);var k=!!g&&g.duration>0;function w(Ie){return k?Ie.transition():Ie}var E=f.xaxis,b=f.yaxis,o=S[0].trace,P=o.line,x=p.select(l),z=C(x,"g","errorbars"),_=C(x,"g","lines"),G=C(x,"g","points"),F=C(x,"g","text");if(L.getComponentMethod("errorbars","plot")(s,z,f,g),o.visible!==!0)return;w(x).style("opacity",o.opacity);var N,U,O=o.fill.charAt(o.fill.length-1);O!=="x"&&O!=="y"&&(O=""),S[0][f.isRangePlot?"nodeRangePlot3":"node3"]=x;var H="",Y=[],q=o._prevtrace;q&&(H=q._prevRevpath||"",U=q._nextFill,Y=q._polygons);var ne,oe,he="",J="",Z,se,$,ee,le,Q,K,ue=[],ie=n.noop;if(N=o._ownFill,y.hasLines(o)||o.fill!=="none"){for(U&&U.datum(S),["hv","vh","hvh","vhv"].indexOf(P.shape)!==-1?(Z=d.steps(P.shape),se=d.steps(P.shape.split("").reverse().join(""))):P.shape==="spline"?Z=se=function(Ie){var Ge=Ie[Ie.length-1];return Ie.length>1&&Ie[0][0]===Ge[0]&&Ie[0][1]===Ge[1]?d.smoothclosed(Ie.slice(1),P.smoothing):d.smoothopen(Ie,P.smoothing)}:Z=se=function(Ie){return"M"+Ie.join("L")},$=function(Ie){return se(Ie.reverse())},ue=r(S,{xaxis:E,yaxis:b,trace:o,connectGaps:o.connectgaps,baseTolerance:Math.max(P.width||1,3)/4,shape:P.shape,backoff:P.backoff,simplify:P.simplify,fill:o.fill}),K=o._polygons=new Array(ue.length),A=0;A<ue.length;A++)o._polygons[A]=i(ue[A]);ue.length&&(ee=ue[0][0],le=ue[ue.length-1],Q=le[le.length-1]),ie=function(Ie){return function(Ge){if(ne=Z(Ge),oe=$(Ge),he?O?(he+="L"+ne.substr(1),J=oe+("L"+J.substr(1))):(he+="Z"+ne,J=oe+"Z"+J):(he=ne,J=oe),y.hasLines(o)){var at=p.select(this);if(at.datum(S),Ie)w(at.style("opacity",0).attr("d",ne).call(d.lineGroupStyle)).style("opacity",1);else{var lt=w(at);lt.attr("d",ne),d.singleLineStyle(S,lt)}}}}}var ce=_.selectAll(".js-line").data(ue);w(ce.exit()).style("opacity",0).remove(),ce.each(ie(!1)),ce.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(ie(!0)),d.setClipUrl(ce,f.layerClipId,s);function xe(Ie){w(Ie).attr("d","M0,0Z")}ue.length?(N?(N.datum(S),ee&&Q&&(O?(O==="y"?ee[1]=Q[1]=b.c2p(0,!0):O==="x"&&(ee[0]=Q[0]=E.c2p(0,!0)),w(N).attr("d","M"+Q+"L"+ee+"L"+he.substr(1)).call(d.singleFillStyle,s)):w(N).attr("d",he+"Z").call(d.singleFillStyle,s))):U&&(o.fill.substr(0,6)==="tonext"&&he&&H?(o.fill==="tonext"?w(U).attr("d",he+"Z"+H+"Z").call(d.singleFillStyle,s):w(U).attr("d",he+"L"+H.substr(1)+"Z").call(d.singleFillStyle,s),o._polygons=o._polygons.concat(Y)):(xe(U),o._polygons=null)),o._prevRevpath=J,o._prevPolygons=K):(N?xe(N):U&&xe(U),o._polygons=o._prevRevpath=o._prevPolygons=null);function Le(Ie){return Ie.filter(function(Ge){return!Ge.gap&&Ge.vis})}function Ae(Ie){return Ie.filter(function(Ge){return Ge.vis})}function Oe(Ie){return Ie.filter(function(Ge){return!Ge.gap})}function ze(Ie){return Ie.id}function Ee(Ie){if(Ie.ids)return ze}function be(){return!1}function Ce(Ie,Ge,at){var lt,qe,et,ft=at[0].trace,dt=y.hasMarkers(ft),pt=y.hasText(ft),At=Ee(ft),Pt=be,Ht=be;if(dt||pt){var Je=T,We=ft.stackgroup,_e=We&&s._fullLayout._scatterStackOpts[E._id+b._id][We].stackgaps==="infer zero";ft.marker.maxdisplayed||ft._needsCull?Je=_e?Ae:Le:We&&!_e&&(Je=Oe),dt&&(Pt=Je),pt&&(Ht=Je)}qe=Ie.selectAll("path.point"),lt=qe.data(Pt,At);var Ne=lt.enter().append("path").classed("point",!0);k&&Ne.call(d.pointStyle,ft,s).call(d.translatePoints,E,b).style("opacity",0).transition().style("opacity",1),lt.order();var ke;dt&&(ke=d.makePointStyleFns(ft)),lt.each(function(we){var me=p.select(this),Me=w(me);et=d.translatePoint(we,Me,E,b),et?(d.singlePointStyle(we,Me,ft,ke,s),f.layerClipId&&d.hideOutsideRangePoint(we,Me,E,b,ft.xcalendar,ft.ycalendar),ft.customdata&&me.classed("plotly-customdata",we.data!==null&&we.data!==void 0)):Me.remove()}),k?lt.exit().transition().style("opacity",0).remove():lt.exit().remove(),qe=Ge.selectAll("g"),lt=qe.data(Ht,At),lt.enter().append("g").classed("textpoint",!0).append("text"),lt.order(),lt.each(function(we){var me=p.select(this),Me=w(me.select("text"));et=d.translatePoint(we,Me,E,b),et?f.layerClipId&&d.hideOutsideRangePoint(we,me,E,b,ft.xcalendar,ft.ycalendar):me.remove()}),lt.selectAll("text").call(d.textPointStyle,ft,s).each(function(we){var me=E.c2p(we.x),Me=b.c2p(we.y);p.select(this).selectAll("tspan.line").each(function(){w(p.select(this)).attr({x:me,y:Me})})}),lt.exit().remove()}G.datum(S),F.datum(S),Ce(G,F,S);var Ue=o.cliponaxis===!1,He=Ue?null:f.layerClipId;d.setClipUrl(G,He,s),d.setClipUrl(F,He,s)}function u(s,m,f,S,v){var l=f.xaxis,g=f.yaxis,M=p.extent(n.simpleMap(l.range,l.r2c)),A=p.extent(n.simpleMap(g.range,g.r2c)),k=S[0].trace;if(y.hasMarkers(k)){var w=k.marker.maxdisplayed;if(w!==0){var E=S.filter(function(x){return x.x>=M[0]&&x.x<=M[1]&&x.y>=A[0]&&x.y<=A[1]}),b=Math.ceil(E.length/w),o=0;v.forEach(function(x,z){var _=x[0].trace;y.hasMarkers(_)&&_.marker.maxdisplayed>0&&z<m&&o++});var P=Math.round(o*b/3+Math.floor(o/3)*b/7.1);S.forEach(function(x){delete x.vis}),E.forEach(function(x,z){Math.round((z+P)%b)===0&&(x.vis=!0)})}}}},98002:function(V,B,e){var p=e(34098);V.exports=function(n,C){var T=n.cd,d=n.xaxis,y=n.yaxis,r=[],t=T[0].trace,i,a,h,u,s=!p.hasMarkers(t)&&!p.hasText(t);if(s)return[];if(C===!1)for(i=0;i<T.length;i++)T[i].selected=0;else for(i=0;i<T.length;i++)a=T[i],h=d.c2p(a.x),u=y.c2p(a.y),a.i!==null&&C.contains([h,u],!1,i,n)?(r.push({pointNumber:a.i,x:d.c2d(a.x),y:y.c2d(a.y)}),a.selected=1):a.selected=0;return r}},565:function(V){var B=["orientation","groupnorm","stackgaps"];V.exports=function(p,L,n,C){var T=n._scatterStackOpts,d=C("stackgroup");if(d){var y=L.xaxis+L.yaxis,r=T[y];r||(r=T[y]={});var t=r[d],i=!1;t?t.traces.push(L):(t=r[d]={traceIndices:[],traces:[L]},i=!0);for(var a={orientation:L.x&&!L.y?"h":"v"},h=0;h<B.length;h++){var u=B[h],s=u+"Found";if(!t[s]){var m=p[u]!==void 0,f=u==="orientation";if((m||i)&&(t[u]=C(u,a[u]),f&&(t.fillDflt=t[u]==="h"?"tonextx":"tonexty"),m&&(t[s]=!0,!i&&(delete t.traces[0][u],f))))for(var S=0;S<t.traces.length-1;S++){var v=t.traces[S];v._input.fill!==v.fill&&(v.fill=t.fillDflt)}}}return t}}},16296:function(V,B,e){var p=e(39898),L=e(91424),n=e(73972);function C(r){var t=p.select(r).selectAll("g.trace.scatter");t.style("opacity",function(i){return i[0].trace.opacity}),t.selectAll("g.points").each(function(i){var a=p.select(this),h=i.trace||i[0].trace;T(a,h,r)}),t.selectAll("g.text").each(function(i){var a=p.select(this),h=i.trace||i[0].trace;d(a,h,r)}),t.selectAll("g.trace path.js-line").call(L.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,r),n.getComponentMethod("errorbars","style")(t)}function T(r,t,i){L.pointStyle(r.selectAll("path.point"),t,i)}function d(r,t,i){L.textPointStyle(r.selectAll("text"),t,i)}function y(r,t,i){var a=t[0].trace;a.selectedpoints?(L.selectedPointStyle(i.selectAll("path.point"),a),L.selectedTextStyle(i.selectAll("text"),a)):(T(i,a,r),d(i,a,r))}V.exports={style:C,stylePoints:T,styleText:d,styleOnSelect:y}},34098:function(V,B,e){var p=e(71828),L=e(73627).isTypedArraySpec;V.exports={hasLines:function(n){return n.visible&&n.mode&&n.mode.indexOf("lines")!==-1},hasMarkers:function(n){return n.visible&&(n.mode&&n.mode.indexOf("markers")!==-1||n.type==="splom")},hasText:function(n){return n.visible&&n.mode&&n.mode.indexOf("text")!==-1},isBubble:function(n){var C=n.marker;return p.isPlainObject(C)&&(p.isArrayOrTypedArray(C.size)||L(C.size))}}},82410:function(V,B,e){var p=e(71828);V.exports=function(L,n,C,T,d){d=d||{},T("textposition"),p.coerceFont(T,"textfont",d.font||C.font),d.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},67513:function(V,B,e){var p=e(71828),L=e(73972);V.exports=function(C,T,d,y){var r=y("x"),t=y("y"),i,a=L.getComponentMethod("calendars","handleTraceDefaults");if(a(C,T,["x","y"],d),r){var h=p.minRowLength(r);t?i=Math.min(h,p.minRowLength(t)):(i=h,y("y0"),y("dy"))}else{if(!t)return 0;i=p.minRowLength(t),y("x0"),y("dx")}return T._length=i,i}},44542:function(V,B,e){var p=e(82196),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).fF,T=e(5386).si,d=e(9012),y=e(29659),r=e(87381),t=e(1426).extendFlat,i=e(30962).overrideAll,a=e(78607),h=p.line,u=p.marker,s=u.line,m=t({width:h.width,dash:{valType:"enumerated",values:a(y),dflt:"solid"}},L("line"));function f(v){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var S=V.exports=i({x:p.x,y:p.y,z:{valType:"data_array"},text:t({},p.text,{}),texttemplate:T({},{}),hovertext:t({},p.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),mode:t({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:f(),y:f(),z:f()},connectgaps:p.connectgaps,line:m,marker:t({symbol:{valType:"enumerated",values:a(r),dflt:"circle",arrayOk:!0},size:t({},u.size,{dflt:8}),sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,opacity:t({},u.opacity,{arrayOk:!1}),colorbar:u.colorbar,line:t({width:t({},s.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:t({},p.textposition,{dflt:"top center"}),textfont:{color:p.textfont.color,size:p.textfont.size,family:t({},p.textfont.family,{arrayOk:!1})},opacity:d.opacity,hoverinfo:t({},d.hoverinfo)},"calc","nested");S.x.editType=S.y.editType=S.z.editType="calc+clearAxisTypes"},36563:function(V,B,e){var p=e(75225),L=e(36922);V.exports=function(C,T){var d=[{x:!1,y:!1,trace:T,t:{}}];return p(d,T),L(C,T),d}},67336:function(V,B,e){var p=e(73972);function L(T,d,y,r){if(!d||!d.visible)return null;for(var t=p.getComponentMethod("errorbars","makeComputeError")(d),i=new Array(T.length),a=0;a<T.length;a++){var h=t(+T[a],a);if(r.type==="log"){var u=r.c2l(T[a]),s=T[a]-h[0],m=T[a]+h[1];if(i[a]=[(r.c2l(s,!0)-u)*y,(r.c2l(m,!0)-u)*y],s>0){var f=r.c2l(s);r._lowerLogErrorBound||(r._lowerLogErrorBound=f),r._lowerErrorBound=Math.min(r._lowerLogErrorBound,f)}}else i[a]=[-h[0]*y,h[1]*y]}return i}function n(T){for(var d=0;d<T.length;d++)if(T[d])return T[d].length;return 0}function C(T,d,y){var r=[L(T.x,T.error_x,d[0],y.xaxis),L(T.y,T.error_y,d[1],y.yaxis),L(T.z,T.error_z,d[2],y.zaxis)],t=n(r);if(t===0)return null;for(var i=new Array(t),a=0;a<t;a++){for(var h=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var s=0;s<2;s++)h[s][u]=r[u][a][s];i[a]=h}return i}V.exports=C},58925:function(V,B,e){var p=e(9330).gl_line3d,L=e(9330).gl_scatter3d,n=e(9330).gl_error3d,C=e(9330).gl_mesh3d,T=e(9330).delaunay_triangulate,d=e(71828),y=e(78614),r=e(81697).formatColor,t=e(39984),i=e(29659),a=e(87381),h=e(89298),u=e(23469).appendArrayPointValue,s=e(67336);function m(x,z){this.scene=x,this.uid=z,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=m.prototype;f.handlePick=function(x){if(x.object&&(x.object===this.linePlot||x.object===this.delaunayMesh||x.object===this.textMarkers||x.object===this.scatterPlot)){var z=x.index=x.data.index;return x.object.highlight&&x.object.highlight(null),this.scatterPlot&&(x.object=this.scatterPlot,this.scatterPlot.highlight(x.data)),x.textLabel="",this.textLabels&&(d.isArrayOrTypedArray(this.textLabels)?(this.textLabels[z]||this.textLabels[z]===0)&&(x.textLabel=this.textLabels[z]):x.textLabel=this.textLabels),x.traceCoordinate=[this.data.x[z],this.data.y[z],this.data.z[z]],!0}};function S(x,z,_){var G=(_+1)%3,F=(_+2)%3,N=[],U=[],O;for(O=0;O<x.length;++O){var H=x[O];isNaN(H[G])||!isFinite(H[G])||isNaN(H[F])||!isFinite(H[F])||(N.push([H[G],H[F]]),U.push(O))}var Y=T(N);for(O=0;O<Y.length;++O)for(var q=Y[O],ne=0;ne<q.length;++ne)q[ne]=U[q[ne]];return{positions:x,cells:Y,meshColor:z}}function v(x){for(var z=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],G=[1,1,1],F=0;F<3;F++){var N=x[F];N&&N.copy_zstyle!==!1&&x[2].visible!==!1&&(N=x[2]),!(!N||!N.visible)&&(z[F]=N.width/2,_[F]=y(N.color),G[F]=N.thickness)}return{capSize:z,color:_,lineWidth:G}}function l(x){return x==null?0:x.indexOf("left")>-1?-1:x.indexOf("right")>-1?1:0}function g(x){return x==null?0:x.indexOf("top")>-1?-1:x.indexOf("bottom")>-1?1:0}function M(x){var z=0,_=0,G=[z,_];if(Array.isArray(x))for(var F=0;F<x.length;F++)G[F]=[z,_],x[F]&&(G[F][0]=l(x[F]),G[F][1]=g(x[F]));else G[0]=l(x),G[1]=g(x);return G}function A(x,z){return z(x*4)}function k(x){return a[x]}function w(x,z,_,G,F){var N=null;if(d.isArrayOrTypedArray(x)){N=[];for(var U=0;U<z;U++)x[U]===void 0?N[U]=G:N[U]=_(x[U],F)}else N=_(x,d.identity);return N}function E(x,z){var _=[],G=x.fullSceneLayout,F=x.dataScale,N=G.xaxis,U=G.yaxis,O=G.zaxis,H=z.marker,Y=z.line,q=z.x||[],ne=z.y||[],oe=z.z||[],he=q.length,J=z.xcalendar,Z=z.ycalendar,se=z.zcalendar,$,ee,le,Q,K,ue;for(K=0;K<he;K++)$=N.d2l(q[K],0,J)*F[0],ee=U.d2l(ne[K],0,Z)*F[1],le=O.d2l(oe[K],0,se)*F[2],_[K]=[$,ee,le];if(Array.isArray(z.text))ue=z.text;else if(d.isTypedArray(z.text))ue=Array.from(z.text);else if(z.text!==void 0)for(ue=new Array(he),K=0;K<he;K++)ue[K]=z.text;function ie(lt,qe){var et=G[lt];return h.tickText(et,et.d2l(qe),!0).text}var ce=z.texttemplate;if(ce){var xe=x.fullLayout,Le=xe._d3locale,Ae=Array.isArray(ce),Oe=Ae?Math.min(ce.length,he):he,ze=Ae?function(lt){return ce[lt]}:function(){return ce};for(ue=new Array(Oe),K=0;K<Oe;K++){var Ee={x:q[K],y:ne[K],z:oe[K]},be={xLabel:ie("xaxis",q[K]),yLabel:ie("yaxis",ne[K]),zLabel:ie("zaxis",oe[K])},Ce={};u(Ce,z,K);var Ue=z._meta||{};ue[K]=d.texttemplateString(ze(K),be,Le,Ce,Ee,Ue)}}if(Q={position:_,mode:z.mode,text:ue},"line"in z&&(Q.lineColor=r(Y,1,he),Q.lineWidth=Y.width,Q.lineDashes=Y.dash),"marker"in z){var He=t(z);Q.scatterColor=r(H,1,he),Q.scatterSize=w(H.size,he,A,20,He),Q.scatterMarker=w(H.symbol,he,k,""),Q.scatterLineWidth=H.line.width,Q.scatterLineColor=r(H.line,1,he),Q.scatterAngle=0}"textposition"in z&&(Q.textOffset=M(z.textposition),Q.textColor=r(z.textfont,1,he),Q.textSize=w(z.textfont.size,he,d.identity,12),Q.textFont=z.textfont.family,Q.textAngle=0);var Ie=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],K=0;K<3;++K){var Ge=z.projection[Ie[K]];(Q.project[K]=Ge.show)&&(Q.projectOpacity[K]=Ge.opacity,Q.projectScale[K]=Ge.scale)}Q.errorBounds=s(z,F,G);var at=v([z.error_x,z.error_y,z.error_z]);return Q.errorColor=at.color,Q.errorLineWidth=at.lineWidth,Q.errorCapSize=at.capSize,Q.delaunayAxis=z.surfaceaxis,Q.delaunayColor=y(z.surfacecolor),Q}function b(x){if(d.isArrayOrTypedArray(x)){var z=x[0];return d.isArrayOrTypedArray(z)&&(x=z),"rgb("+x.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function o(x){return d.isArrayOrTypedArray(x)?x.length===4&&typeof x[0]=="number"?b(x):x.map(b):null}f.update=function(x){var z=this.scene.glplot.gl,_,G,F,N,U=i.solid;this.data=x;var O=E(this.scene,x);"mode"in O&&(this.mode=O.mode),"lineDashes"in O&&O.lineDashes in i&&(U=i[O.lineDashes]),this.color=o(O.scatterColor)||o(O.lineColor),this.dataPoints=O.position,_={gl:this.scene.glplot.gl,position:O.position,color:O.lineColor,lineWidth:O.lineWidth||1,dashes:U[0],dashScale:U[1],opacity:x.opacity,connectGaps:x.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=p(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var H=x.opacity;if(x.marker&&x.marker.opacity!==void 0&&(H*=x.marker.opacity),G={gl:this.scene.glplot.gl,position:O.position,color:O.scatterColor,size:O.scatterSize,glyph:O.scatterMarker,opacity:H,orthographic:!0,lineWidth:O.scatterLineWidth,lineColor:O.scatterLineColor,project:O.project,projectScale:O.projectScale,projectOpacity:O.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(G):(this.scatterPlot=L(G),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),N={gl:this.scene.glplot.gl,position:O.position,glyph:O.text,color:O.textColor,size:O.textSize,angle:O.textAngle,alignment:O.textOffset,font:O.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:x.opacity},this.textLabels=x.hovertext||x.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(N):(this.textMarkers=L(N),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),F={gl:this.scene.glplot.gl,position:O.position,color:O.errorColor,error:O.errorBounds,lineWidth:O.errorLineWidth,capSize:O.errorCapSize,opacity:x.opacity},this.errorBars?O.errorBounds?this.errorBars.update(F):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):O.errorBounds&&(this.errorBars=n(F),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),O.delaunayAxis>=0){var Y=S(O.position,O.delaunayColor,O.delaunayAxis);Y.opacity=x.opacity,this.delaunayMesh?this.delaunayMesh.update(Y):(Y.gl=z,this.delaunayMesh=C(Y),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function P(x,z){var _=new m(x,z.uid);return _.update(z),_}V.exports=P},21428:function(V,B,e){var p=e(73972),L=e(71828),n=e(34098),C=e(49508),T=e(11058),d=e(82410),y=e(44542);V.exports=function(i,a,h,u){function s(A,k){return L.coerce(i,a,y,A,k)}var m=r(i,a,s,u);if(!m){a.visible=!1;return}s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),s("mode"),n.hasMarkers(a)&&C(i,a,h,u,s,{noSelect:!0,noAngle:!0}),n.hasLines(a)&&(s("connectgaps"),T(i,a,h,u,s)),n.hasText(a)&&(s("texttemplate"),d(i,a,u,s,{noSelect:!0}));var f=(a.line||{}).color,S=(a.marker||{}).color;s("surfaceaxis")>=0&&s("surfacecolor",f||S);for(var v=["x","y","z"],l=0;l<3;++l){var g="projection."+v[l];s(g+".show")&&(s(g+".opacity"),s(g+".scale"))}var M=p.getComponentMethod("errorbars","supplyDefaults");M(i,a,f||S||h,{axis:"z"}),M(i,a,f||S||h,{axis:"y",inherit:"z"}),M(i,a,f||S||h,{axis:"x",inherit:"z"})};function r(t,i,a,h){var u=0,s=a("x"),m=a("y"),f=a("z"),S=p.getComponentMethod("calendars","handleTraceDefaults");return S(t,i,["x","y","z"],h),s&&m&&f&&(u=Math.min(s.length,m.length,f.length),i._length=i._xlength=i._ylength=i._zlength=u),u}},13551:function(V,B,e){V.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(V,B,e){var p=e(82196),L=e(9012),n=e(5386).fF,C=e(5386).si,T=e(50693),d=e(1426).extendFlat,y=p.marker,r=p.line,t=y.line;V.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:d({},p.mode,{dflt:"markers"}),text:d({},p.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:d({},p.hovertext,{}),line:{color:r.color,width:r.width,dash:r.dash,backoff:r.backoff,shape:d({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:p.connectgaps,fill:d({},p.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p.fillcolor,marker:d({symbol:y.symbol,opacity:y.opacity,maxdisplayed:y.maxdisplayed,angle:y.angle,angleref:y.angleref,standoff:y.standoff,size:y.size,sizeref:y.sizeref,sizemin:y.sizemin,sizemode:y.sizemode,line:d({width:t.width,editType:"calc"},T("marker.line")),gradient:y.gradient,editType:"calc"},T("marker")),textfont:p.textfont,textposition:p.textposition,selected:p.selected,unselected:p.unselected,hoverinfo:d({},L.hoverinfo,{flags:["a","b","text","name"]}),hoveron:p.hoveron,hovertemplate:n()}},34618:function(V,B,e){var p=e(92770),L=e(36922),n=e(75225),C=e(66279),T=e(47761).calcMarkerSize,d=e(22882);V.exports=function(r,t){var i=t._carpetTrace=d(r,t);if(!(!i||!i.visible||i.visible==="legendonly")){var a;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var h=t._length,u=new Array(h),s,m,f=!1;for(a=0;a<h;a++)if(s=t.a[a],m=t.b[a],p(s)&&p(m)){var S=i.ab2xy(+s,+m,!0),v=i.isVisible(+s,+m);v||(f=!0),u[a]={x:S[0],y:S[1],a:s,b:m,vis:v}}else u[a]={x:!1,y:!1};return t._needsCull=f,u[0].carpet=i,u[0].trace=t,T(t,h),L(r,t),n(u,t),C(u,t),u}}},98965:function(V,B,e){var p=e(71828),L=e(47581),n=e(34098),C=e(49508),T=e(11058),d=e(94039),y=e(82410),r=e(28908),t=e(97001);V.exports=function(a,h,u,s){function m(A,k){return p.coerce(a,h,t,A,k)}m("carpet"),h.xaxis="x",h.yaxis="y";var f=m("a"),S=m("b"),v=Math.min(f.length,S.length);if(!v){h.visible=!1;return}h._length=v,m("text"),m("texttemplate"),m("hovertext");var l=v<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",l),n.hasMarkers(h)&&C(a,h,u,s,m,{gradient:!0}),n.hasLines(h)&&(T(a,h,u,s,m,{backoff:!0}),d(a,h,m),m("connectgaps")),n.hasText(h)&&y(a,h,s,m);var g=[];(n.hasMarkers(h)||n.hasText(h))&&(m("marker.maxdisplayed"),g.push("points")),m("fill"),h.fill!=="none"&&(r(a,h,u,m),n.hasLines(h)||d(a,h,m)),(h.fill==="tonext"||h.fill==="toself")&&g.push("fills");var M=m("hoveron",g.join("+")||"points");M!=="fills"&&m("hovertemplate"),p.coerceSelectionMarkerOpacity(h,m)}},16165:function(V){V.exports=function(e,p,L,n,C){var T=n[C];return e.a=T.a,e.b=T.b,e.y=T.y,e}},48953:function(V){V.exports=function(e,p){var L={},n=p._carpet,C=n.ab2ij([e.a,e.b]),T=Math.floor(C[0]),d=C[0]-T,y=Math.floor(C[1]),r=C[1]-y,t=n.evalxy([],T,y,d,r);return L.yLabel=t[1].toFixed(3),L}},22931:function(V,B,e){var p=e(33720),L=e(71828).fillText;V.exports=function(C,T,d,y){var r=p(C,T,d,y);if(!r||r[0].index===!1)return;var t=r[0];if(t.index===void 0){var i=1-t.y0/C.ya._length,a=C.xa._length,h=a*i/2,u=a-h;return t.x0=Math.max(Math.min(t.x0,u),h),t.x1=Math.max(Math.min(t.x1,u),h),r}var s=t.cd[t.index];t.a=s.a,t.b=s.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var m=t.trace,f=m._carpet,S=m._module.formatLabels(s,m);t.yLabel=S.yLabel,delete t.text;var v=[];function l(A,k){var w;A.labelprefix&&A.labelprefix.length>0?w=A.labelprefix.replace(/ = $/,""):w=A._hovertitle,v.push(w+": "+k.toFixed(3)+A.labelsuffix)}if(!m.hovertemplate){var g=s.hi||m.hoverinfo,M=g.split("+");M.indexOf("all")!==-1&&(M=["a","b","text"]),M.indexOf("a")!==-1&&l(f.aaxis,s.a),M.indexOf("b")!==-1&&l(f.baxis,s.b),v.push("y: "+t.yLabel),M.indexOf("text")!==-1&&L(s,m,v),t.extraText=v.join("<br>")}return r}},46858:function(V,B,e){V.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(V,B,e){var p=e(32663),L=e(89298),n=e(91424);V.exports=function(T,d,y,r){var t,i,a,h=y[0][0].carpet,u=L.getFromId(T,h.xaxis||"x"),s=L.getFromId(T,h.yaxis||"y"),m={xaxis:u,yaxis:s,plot:d.plot};for(t=0;t<y.length;t++)i=y[t][0].trace,i._xA=u,i._yA=s;for(p(T,m,y,r),t=0;t<y.length;t++)i=y[t][0].trace,a=r.selectAll("g.trace"+i.uid+" .js-line"),n.setClipUrl(a,y[t][0].carpet._clipPathId,T)}},19316:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(82196),C=e(9012),T=e(50693),d=e(79952).P,y=e(1426).extendFlat,r=e(30962).overrideAll,t=n.marker,i=n.line,a=t.line;V.exports=r({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:y({},n.mode,{dflt:"markers"}),text:y({},n.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:y({},n.hovertext,{}),textfont:n.textfont,textposition:n.textposition,line:{color:i.color,width:i.width,dash:d},connectgaps:n.connectgaps,marker:y({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:y({},t.angleref,{values:["previous","up","north"]}),standoff:t.standoff,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,colorbar:t.colorbar,line:y({width:a.width},T("marker.line")),gradient:t.gradient},T("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n.fillcolor,selected:n.selected,unselected:n.unselected,hoverinfo:y({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},84622:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(36922),C=e(75225),T=e(66279),d=e(71828).isArrayOrTypedArray,y=e(71828)._;function r(t){return t&&typeof t=="string"}V.exports=function(i,a){var h=d(a.locations),u=h?a.locations.length:a._length,s=new Array(u),m;a.geojson?m=function(M){return r(M)||p(M)}:m=r;for(var f=0;f<u;f++){var S=s[f]={};if(h){var v=a.locations[f];S.loc=m(v)?v:null}else{var l=a.lon[f],g=a.lat[f];p(l)&&p(g)?S.lonlat=[+l,+g]:S.lonlat=[L,L]}}return C(s,a),n(i,a),T(s,a),u&&(s[0].t={labels:{lat:y(i,"lat:")+" ",lon:y(i,"lon:")+" "}}),s}},10659:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),T=e(82410),d=e(28908),y=e(19316);V.exports=function(t,i,a,h){function u(M,A){return p.coerce(t,i,y,M,A)}var s=u("locations"),m;if(s&&s.length){var f=u("geojson"),S;(typeof f=="string"&&f!==""||p.isPlainObject(f))&&(S="geojson-id");var v=u("locationmode",S);v==="geojson-id"&&u("featureidkey"),m=s.length}else{var l=u("lon")||[],g=u("lat")||[];m=Math.min(l.length,g.length)}if(!m){i.visible=!1;return}i._length=m,u("text"),u("hovertext"),u("hovertemplate"),u("mode"),L.hasMarkers(i)&&n(t,i,a,h,u,{gradient:!0}),L.hasLines(i)&&(C(t,i,a,h,u),u("connectgaps")),L.hasText(i)&&(u("texttemplate"),T(t,i,h,u)),u("fill"),i.fill!=="none"&&d(t,i,a,u),p.coerceSelectionMarkerOpacity(i,u)}},84084:function(V){V.exports=function(e,p,L,n,C){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var T=n[C];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e}},82719:function(V,B,e){var p=e(89298);V.exports=function(n,C,T){var d={},y=T[C.geo]._subplot,r=y.mockAxis,t=n.lonlat;return d.lonLabel=p.tickText(r,r.c2l(t[0]),!0).text,d.latLabel=p.tickText(r,r.c2l(t[1]),!0).text,d}},14977:function(V,B,e){var p=e(30211),L=e(50606).BADNUM,n=e(34603),C=e(71828).fillText,T=e(19316);V.exports=function(r,t,i){var a=r.cd,h=a[0].trace,u=r.xa,s=r.ya,m=r.subplot,f=m.projection.isLonLatOverEdges,S=m.project;function v(E){var b=E.lonlat;if(b[0]===L||f(b))return 1/0;var o=S(b),P=S([t,i]),x=Math.abs(o[0]-P[0]),z=Math.abs(o[1]-P[1]),_=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(x*x+z*z)-_,1-3/_)}if(p.getClosest(a,v,r),r.index!==!1){var l=a[r.index],g=l.lonlat,M=[u.c2p(g),s.c2p(g)],A=l.mrc||1;r.x0=M[0]-A,r.x1=M[0]+A,r.y0=M[1]-A,r.y1=M[1]+A,r.loc=l.loc,r.lon=g[0],r.lat=g[1];var k={};k[h.geo]={_subplot:m};var w=h._module.formatLabels(l,h,k);return r.lonLabel=w.lonLabel,r.latLabel=w.latLabel,r.color=n(h,l),r.extraText=d(h,l,r,a[0].t.labels),r.hovertemplate=h.hovertemplate,[r]}};function d(y,r,t,i){if(y.hovertemplate)return;var a=r.hi||y.hoverinfo,h=a==="all"?T.hoverinfo.flags:a.split("+"),u=h.indexOf("location")!==-1&&Array.isArray(y.locations),s=h.indexOf("lon")!==-1,m=h.indexOf("lat")!==-1,f=h.indexOf("text")!==-1,S=[];function v(l){return l+""}return u?S.push(r.loc):s&&m?S.push("("+v(t.latLabel)+", "+v(t.lonLabel)+")"):s?S.push(i.lon+v(t.lonLabel)):m&&S.push(i.lat+v(t.latLabel)),f&&C(r,y,S),S.join("<br>")}},17988:function(V,B,e){V.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(V,B,e){var p=e(39898),L=e(71828),n=e(90973).getTopojsonFeatures,C=e(18214),T=e(41327),d=e(71739).findExtremes,y=e(50606).BADNUM,r=e(47761).calcMarkerSize,t=e(34098),i=e(33095);function a(u,s,m){var f=s.layers.frontplot.select(".scatterlayer"),S=L.makeTraceGroups(f,m,"trace scattergeo");function v(l,g){l.lonlat[0]===y&&p.select(g).remove()}S.selectAll("*").remove(),S.each(function(l){var g=p.select(this),M=l[0].trace;if(t.hasLines(M)||M.fill!=="none"){var A=C.calcTraceToLineCoords(l),k=M.fill!=="none"?C.makePolygon(A):C.makeLine(A);g.selectAll("path.js-line").data([{geojson:k,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}t.hasMarkers(M)&&g.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(w){v(w,this)}),t.hasText(M)&&g.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(w){v(w,this)}),i(u,l)})}function h(u,s){var m=u[0].trace,f=s[m.geo],S=f._subplot,v=m._length,l,g;if(L.isArrayOrTypedArray(m.locations)){var M=m.locationmode,A=M==="geojson-id"?T.extractTraceFeature(u):n(m,S.topojson);for(l=0;l<v;l++){g=u[l];var k=M==="geojson-id"?g.fOut:T.locationToFeature(M,g.loc,A);g.lonlat=k?k.properties.ct:[y,y]}}var w={padded:!0},E,b;if(f.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var o=T.computeBbox(T.getTraceGeojson(m));E=[o[0],o[2]],b=[o[1],o[3]]}else{for(E=new Array(v),b=new Array(v),l=0;l<v;l++)g=u[l],E[l]=g.lonlat[0],b[l]=g.lonlat[1];w.ppad=r(m,v)}m._extremes.lon=d(f.lonaxis._ax,E,w),m._extremes.lat=d(f.lataxis._ax,b,w)}V.exports={calcGeoJSON:h,plot:a}},20548:function(V,B,e){var p=e(34098),L=e(50606).BADNUM;V.exports=function(C,T){var d=C.cd,y=C.xaxis,r=C.yaxis,t=[],i=d[0].trace,a,h,u,s,m,f=!p.hasMarkers(i)&&!p.hasText(i);if(f)return[];if(T===!1)for(m=0;m<d.length;m++)d[m].selected=0;else for(m=0;m<d.length;m++)a=d[m],h=a.lonlat,h[0]!==L&&(u=y.c2p(h),s=r.c2p(h),T.contains([u,s],null,m,C)?(t.push({pointNumber:m,lon:h[0],lat:h[1]}),a.selected=1):a.selected=0);return t}},33095:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901),C=e(16296),T=C.stylePoints,d=C.styleText;V.exports=function(t,i){i&&y(t,i)};function y(r,t){var i=t[0].trace,a=t[0].node3;a.style("opacity",t[0].trace.opacity),T(a,i,r),d(a,i,r),a.selectAll("path.js-line").style("fill","none").each(function(h){var u=p.select(this),s=h.trace,m=s.line||{};u.call(n.stroke,m.color).call(L.dashLine,m.dash||"",m.width||0),s.fill!=="none"&&u.call(n.fill,s.fillcolor)})}},42341:function(V,B,e){var p=e(9012),L=e(82196),n=e(12663).axisHoverFormat,C=e(50693),T=e(78607),d=e(1426).extendFlat,y=e(30962).overrideAll,r=e(78232).DASHES,t=L.line,i=L.marker,a=i.line,h=V.exports=y({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:L.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:t.color,width:t.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:T(r),dflt:"solid"}},marker:d({},C("marker"),{symbol:i.symbol,angle:i.angle,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:d({},C("marker.line"),{width:a.width})}),connectgaps:L.connectgaps,fill:d({},L.fill,{dflt:"none"}),fillcolor:L.fillcolor,selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:p.opacity},"calc","nested");h.x.editType=h.y.editType=h.x0.editType=h.y0.editType="calc+clearAxisTypes",h.hovertemplate=L.hovertemplate,h.texttemplate=L.texttemplate},72156:function(V,B,e){var p=e(20794);V.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:p.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(V,B,e){var p=e(88294),L=e(71828),n=e(41675),C=e(71739).findExtremes,T=e(42973),d=e(47761),y=d.calcMarkerSize,r=d.calcAxisExpansion,t=d.setFirstScatter,i=e(36922),a=e(19635),h=e(38967),u=e(50606).BADNUM,s=e(78232).TOO_MANY_POINTS;V.exports=function(v,l){var g=v._fullLayout,M=l._xA=n.getFromId(v,l.xaxis,"x"),A=l._yA=n.getFromId(v,l.yaxis,"y"),k=g._plots[l.xaxis+l.yaxis],w=l._length,E=w>=s,b=w*2,o={},P,x=M.makeCalcdata(l,"x"),z=A.makeCalcdata(l,"y"),_=T(l,M,"x",x),G=T(l,A,"y",z),F=_.vals,N=G.vals;l._x=F,l._y=N,l.xperiodalignment&&(l._origX=x,l._xStarts=_.starts,l._xEnds=_.ends),l.yperiodalignment&&(l._origY=z,l._yStarts=G.starts,l._yEnds=G.ends);var U=new Array(b),O=new Array(w);for(P=0;P<w;P++)U[P*2]=F[P]===u?NaN:F[P],U[P*2+1]=N[P]===u?NaN:N[P],O[P]=P;if(M.type==="log")for(P=0;P<b;P+=2)U[P]=M.c2l(U[P]);if(A.type==="log")for(P=1;P<b;P+=2)U[P]=A.c2l(U[P]);E&&M.type!=="log"&&A.type!=="log"?o.tree=p(U):o.ids=O,i(v,l);var H=f(v,k,l,U,F,N),Y=h(v,k);t(g,l);var q;return E?H.marker&&(q=H.marker.sizeAvg||Math.max(H.marker.size,3)):q=y(l,w),r(v,l,M,A,F,N,q),H.errorX&&m(l,M,H.errorX),H.errorY&&m(l,A,H.errorY),H.fill&&!Y.fill2d&&(Y.fill2d=!0),H.marker&&!Y.scatter2d&&(Y.scatter2d=!0),H.line&&!Y.line2d&&(Y.line2d=!0),(H.errorX||H.errorY)&&!Y.error2d&&(Y.error2d=!0),H.text&&!Y.glText&&(Y.glText=!0),H.marker&&(H.marker.snap=w),Y.lineOptions.push(H.line),Y.errorXOptions.push(H.errorX),Y.errorYOptions.push(H.errorY),Y.fillOptions.push(H.fill),Y.markerOptions.push(H.marker),Y.markerSelectedOptions.push(H.markerSel),Y.markerUnselectedOptions.push(H.markerUnsel),Y.textOptions.push(H.text),Y.textSelectedOptions.push(H.textSel),Y.textUnselectedOptions.push(H.textUnsel),Y.selectBatch.push([]),Y.unselectBatch.push([]),o._scene=Y,o.index=Y.count,o.x=F,o.y=N,o.positions=U,Y.count++,[{x:!1,y:!1,t:o,trace:l}]};function m(S,v,l){var g=S._extremes[v._id],M=C(v,l._bnds,{padded:!0});g.min=g.min.concat(M.min),g.max=g.max.concat(M.max)}function f(S,v,l,g,M,A){var k=a.style(S,l);if(k.marker&&(k.marker.positions=g),k.line&&g.length>1&&L.extendFlat(k.line,a.linePositions(S,l,g)),k.errorX||k.errorY){var w=a.errorBarPositions(S,l,g,M,A);k.errorX&&L.extendFlat(k.errorX,w.x),k.errorY&&L.extendFlat(k.errorY,w.y)}return k.text&&(L.extendFlat(k.text,{positions:g},a.textPosition(S,l,k.text,k.marker)),L.extendFlat(k.textSel,{positions:g},a.textPosition(S,l,k.text,k.markerSel)),L.extendFlat(k.textUnsel,{positions:g},a.textPosition(S,l,k.text,k.markerUnsel))),k}},78232:function(V){var B=20;V.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:B,SYMBOL_STROKE:B/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(V,B,e){var p=e(92770),L=e(82019),n=e(25075),C=e(73972),T=e(71828),d=T.isArrayOrTypedArray,y=e(91424),r=e(41675),t=e(81697).formatColor,i=e(34098),a=e(39984),h=e(68645),u=e(78232),s=e(37822).DESELECTDIM,m={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},f=e(23469).appendArrayPointValue;function S(G,F){var N,U={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=G._context.plotGlPixelRatio;if(F.visible!==!0)return U;if(i.hasText(F)&&(U.text=v(G,F),U.textSel=M(G,F,F.selected),U.textUnsel=M(G,F,F.unselected)),i.hasMarkers(F)&&(U.marker=l(G,F),U.markerSel=g(G,F,F.selected),U.markerUnsel=g(G,F,F.unselected),!F.unselected&&d(F.marker.opacity))){var H=F.marker.opacity;for(U.markerUnsel.opacity=new Array(H.length),N=0;N<H.length;N++)U.markerUnsel.opacity[N]=s*H[N]}if(i.hasLines(F)){U.line={overlay:!0,thickness:F.line.width*O,color:F.line.color,opacity:F.opacity};var Y=(u.DASHES[F.line.dash]||[1]).slice();for(N=0;N<Y.length;++N)Y[N]*=F.line.width*O;U.line.dashes=Y}return F.error_x&&F.error_x.visible&&(U.errorX=A(F,F.error_x,O)),F.error_y&&F.error_y.visible&&(U.errorY=A(F,F.error_y,O)),F.fill&&F.fill!=="none"&&(U.fill={closed:!0,fill:F.fillcolor,thickness:0}),U}function v(G,F){var N=G._fullLayout,U=F._length,O=F.textfont,H=F.textposition,Y=d(H)?H:[H],q=O.color,ne=O.size,oe=O.family,he={},J,Z=G._context.plotGlPixelRatio,se=F.texttemplate;if(se){he.text=[];var $=N._d3locale,ee=Array.isArray(se),le=ee?Math.min(se.length,U):U,Q=ee?function(Ae){return se[Ae]}:function(){return se};for(J=0;J<le;J++){var K={i:J},ue=F._module.formatLabels(K,F,N),ie={};f(ie,F,J);var ce=F._meta||{};he.text.push(T.texttemplateString(Q(J),ue,$,ie,K,ce))}}else d(F.text)&&F.text.length<U?he.text=F.text.slice():he.text=F.text;if(d(he.text))for(J=he.text.length;J<U;J++)he.text[J]="";for(he.opacity=F.opacity,he.font={},he.align=[],he.baseline=[],J=0;J<Y.length;J++){var xe=Y[J].split(/\s+/);switch(xe[1]){case"left":he.align.push("right");break;case"right":he.align.push("left");break;default:he.align.push(xe[1])}switch(xe[0]){case"top":he.baseline.push("bottom");break;case"bottom":he.baseline.push("top");break;default:he.baseline.push(xe[0])}}if(d(q))for(he.color=new Array(U),J=0;J<U;J++)he.color[J]=q[J];else he.color=q;if(d(ne)||d(oe))for(he.font=new Array(U),J=0;J<U;J++){var Le=he.font[J]={};Le.size=(T.isTypedArray(ne)?ne[J]:d(ne)?p(ne[J])?ne[J]:0:ne)*Z,Le.family=d(oe)?oe[J]:oe}else he.font={size:ne*Z,family:oe};return he}function l(G,F){var N=F._length,U=F.marker,O={},H,Y=d(U.symbol),q=d(U.angle),ne=d(U.color),oe=d(U.line.color),he=d(U.opacity),J=d(U.size),Z=d(U.line.width),se;if(Y||(se=h.isOpenSymbol(U.symbol)),Y||ne||oe||he||q){O.symbols=new Array(N),O.angles=new Array(N),O.colors=new Array(N),O.borderColors=new Array(N);var $=U.symbol,ee=U.angle,le=t(U,U.opacity,N),Q=t(U.line,U.opacity,N);if(!d(Q[0])){var K=Q;for(Q=Array(N),H=0;H<N;H++)Q[H]=K}if(!d(le[0])){var ue=le;for(le=Array(N),H=0;H<N;H++)le[H]=ue}if(!d($)){var ie=$;for($=Array(N),H=0;H<N;H++)$[H]=ie}if(!d(ee)){var ce=ee;for(ee=Array(N),H=0;H<N;H++)ee[H]=ce}for(O.symbols=$,O.angles=ee,O.colors=le,O.borderColors=Q,H=0;H<N;H++)Y&&(se=h.isOpenSymbol(U.symbol[H])),se&&(Q[H]=le[H].slice(),le[H]=le[H].slice(),le[H][3]=0);for(O.opacity=F.opacity,O.markers=new Array(N),H=0;H<N;H++)O.markers[H]=P({mx:O.symbols[H],ma:O.angles[H]},F)}else se?(O.color=n(U.color,"uint8"),O.color[3]=0,O.borderColor=n(U.color,"uint8")):(O.color=n(U.color,"uint8"),O.borderColor=n(U.line.color,"uint8")),O.opacity=F.opacity*U.opacity,O.marker=P({mx:U.symbol,ma:U.angle},F);var xe=1,Le=a(F,xe),Ae;if(J||Z){var Oe=O.sizes=new Array(N),ze=O.borderSizes=new Array(N),Ee=0,be;if(J){for(H=0;H<N;H++)Oe[H]=Le(U.size[H]),Ee+=Oe[H];be=Ee/N}else for(Ae=Le(U.size),H=0;H<N;H++)Oe[H]=Ae;if(Z)for(H=0;H<N;H++)ze[H]=U.line.width[H];else for(Ae=U.line.width,H=0;H<N;H++)ze[H]=Ae;O.sizeAvg=be}else O.size=Le(U&&U.size||10),O.borderSizes=Le(U.line.width);return O}function g(G,F,N){var U=F.marker,O={};return N&&(N.marker&&N.marker.symbol?O=l(G,T.extendFlat({},U,N.marker)):N.marker&&(N.marker.size&&(O.size=N.marker.size),N.marker.color&&(O.colors=N.marker.color),N.marker.opacity!==void 0&&(O.opacity=N.marker.opacity))),O}function M(G,F,N){var U={};if(!N)return U;if(N.textfont){var O={opacity:1,text:F.text,texttemplate:F.texttemplate,textposition:F.textposition,textfont:T.extendFlat({},F.textfont)};N.textfont&&T.extendFlat(O.textfont,N.textfont),U=v(G,O)}return U}function A(G,F,N){var U={capSize:F.width*2*N,lineWidth:F.thickness*N,color:F.color};return F.copy_ystyle&&(U=G.error_y),U}var k=u.SYMBOL_SDF_SIZE,w=u.SYMBOL_SIZE,E=u.SYMBOL_STROKE,b={},o=y.symbolFuncs[0](w*.05);function P(G,F){var N=G.mx;if(N==="circle")return null;var U,O,H=y.symbolNumber(N),Y=y.symbolFuncs[H%100],q=!!y.symbolNoDot[H%100],ne=!!y.symbolNoFill[H%100],oe=h.isDotSymbol(N);if(G.ma&&(N+="_"+G.ma),b[N])return b[N];var he=y.getMarkerAngle(G,F);return oe&&!q?U=Y(w*1.1,he)+o:U=Y(w,he),O=L(U,{w:k,h:k,viewBox:[-w,-w,w,w],stroke:ne?E:-E}),b[N]=O,O||null}function x(G,F,N){var U=N.length,O=U/2,H,Y;if(i.hasLines(F)&&O)if(F.line.shape==="hv"){for(H=[],Y=0;Y<O-1;Y++)isNaN(N[Y*2])||isNaN(N[Y*2+1])?H.push(NaN,NaN,NaN,NaN):(H.push(N[Y*2],N[Y*2+1]),!isNaN(N[Y*2+2])&&!isNaN(N[Y*2+3])?H.push(N[Y*2+2],N[Y*2+1]):H.push(NaN,NaN));H.push(N[U-2],N[U-1])}else if(F.line.shape==="hvh"){for(H=[],Y=0;Y<O-1;Y++)if(isNaN(N[Y*2])||isNaN(N[Y*2+1])||isNaN(N[Y*2+2])||isNaN(N[Y*2+3]))!isNaN(N[Y*2])&&!isNaN(N[Y*2+1])?H.push(N[Y*2],N[Y*2+1]):H.push(NaN,NaN),H.push(NaN,NaN);else{var q=(N[Y*2]+N[Y*2+2])/2;H.push(N[Y*2],N[Y*2+1],q,N[Y*2+1],q,N[Y*2+3])}H.push(N[U-2],N[U-1])}else if(F.line.shape==="vhv"){for(H=[],Y=0;Y<O-1;Y++)if(isNaN(N[Y*2])||isNaN(N[Y*2+1])||isNaN(N[Y*2+2])||isNaN(N[Y*2+3]))!isNaN(N[Y*2])&&!isNaN(N[Y*2+1])?H.push(N[Y*2],N[Y*2+1]):H.push(NaN,NaN),H.push(NaN,NaN);else{var ne=(N[Y*2+1]+N[Y*2+3])/2;H.push(N[Y*2],N[Y*2+1],N[Y*2],ne,N[Y*2+2],ne)}H.push(N[U-2],N[U-1])}else if(F.line.shape==="vh"){for(H=[],Y=0;Y<O-1;Y++)isNaN(N[Y*2])||isNaN(N[Y*2+1])?H.push(NaN,NaN,NaN,NaN):(H.push(N[Y*2],N[Y*2+1]),!isNaN(N[Y*2+2])&&!isNaN(N[Y*2+3])?H.push(N[Y*2],N[Y*2+3]):H.push(NaN,NaN));H.push(N[U-2],N[U-1])}else H=N;var oe=!1;for(Y=0;Y<H.length;Y++)if(isNaN(H[Y])){oe=!0;break}var he=oe||H.length>u.TOO_MANY_POINTS||i.hasMarkers(F)?"rect":"round";if(oe&&F.connectgaps){var J=H[0],Z=H[1];for(Y=0;Y<H.length;Y+=2)isNaN(H[Y])||isNaN(H[Y+1])?(H[Y]=J,H[Y+1]=Z):(J=H[Y],Z=H[Y+1])}return{join:he,positions:H}}function z(G,F,N,U,O){var H=C.getComponentMethod("errorbars","makeComputeError"),Y=r.getFromId(G,F.xaxis,"x"),q=r.getFromId(G,F.yaxis,"y"),ne=N.length/2,oe={};function he(J,Z){var se=Z._id.charAt(0),$=F["error_"+se];if($&&$.visible&&(Z.type==="linear"||Z.type==="log")){for(var ee=H($),le={x:0,y:1}[se],Q={x:[0,1,2,3],y:[2,3,0,1]}[se],K=new Float64Array(4*ne),ue=1/0,ie=-1/0,ce=0,xe=0;ce<ne;ce++,xe+=4){var Le=J[ce];if(p(Le)){var Ae=N[ce*2+le],Oe=ee(Le,ce),ze=Oe[0],Ee=Oe[1];if(p(ze)&&p(Ee)){var be=Le-ze,Ce=Le+Ee;K[xe+Q[0]]=Ae-Z.c2l(be),K[xe+Q[1]]=Z.c2l(Ce)-Ae,K[xe+Q[2]]=0,K[xe+Q[3]]=0,ue=Math.min(ue,Le-ze),ie=Math.max(ie,Le+Ee)}}}oe[se]={positions:N,errors:K,_bnds:[ue,ie]}}}return he(U,Y),he(O,q),oe}function _(G,F,N,U){var O=F._length,H={},Y;if(i.hasMarkers(F)){var q=N.font,ne=N.align,oe=N.baseline;for(H.offset=new Array(O),Y=0;Y<O;Y++){var he=U.sizes?U.sizes[Y]:U.size,J=d(q)?q[Y].size:q.size,Z=d(ne)?ne.length>1?ne[Y]:ne[0]:ne,se=d(oe)?oe.length>1?oe[Y]:oe[0]:oe,$=m[Z],ee=m[se],le=he?he/.8+1:0,Q=-ee*le-ee*.5;H.offset[Y]=[$*le/J,Q/J]}}return H}V.exports={style:S,markerStyle:l,markerSelection:g,linePositions:x,errorBarPositions:z,textPosition:_}},47148:function(V,B,e){var p=e(71828),L=e(73972),n=e(68645),C=e(42341),T=e(47581),d=e(34098),y=e(67513),r=e(73927),t=e(49508),i=e(11058),a=e(28908),h=e(82410);V.exports=function(s,m,f,S){function v(b,o){return p.coerce(s,m,C,b,o)}var l=s.marker?n.isOpenSymbol(s.marker.symbol):!1,g=d.isBubble(s),M=y(s,m,S,v);if(!M){m.visible=!1;return}r(s,m,S,v),v("xhoverformat"),v("yhoverformat");var A=M<T.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("hovertemplate"),v("mode",A),d.hasMarkers(m)&&(t(s,m,f,S,v,{noAngleRef:!0,noStandOff:!0}),v("marker.line.width",l||g?1:0)),d.hasLines(m)&&(v("connectgaps"),i(s,m,f,S,v),v("line.shape")),d.hasText(m)&&(v("texttemplate"),h(s,m,S,v));var k=(m.line||{}).color,w=(m.marker||{}).color;v("fill"),m.fill!=="none"&&a(s,m,f,v);var E=L.getComponentMethod("errorbars","supplyDefaults");E(s,m,k||w||f,{axis:"y"}),E(s,m,k||w||f,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(m,v)}},5345:function(V,B,e){var p=e(71828),L=e(7901),n=e(37822).DESELECTDIM;function C(T){var d=T[0],y=d.trace,r=d.t,t=r._scene,i=r.index,a=t.selectBatch[i],h=t.unselectBatch[i],u=t.textOptions[i],s=t.textSelectedOptions[i]||{},m=t.textUnselectedOptions[i]||{},f=p.extendFlat({},u),S,v;if(a.length||h.length){var l=s.color,g=m.color,M=u.color,A=p.isArrayOrTypedArray(M);for(f.color=new Array(y._length),S=0;S<a.length;S++)v=a[S],f.color[v]=l||(A?M[v]:M);for(S=0;S<h.length;S++){v=h[S];var k=A?M[v]:M;f.color[v]=g||(l?k:L.addOpacity(k,n))}}t.glText[i].update(f)}V.exports={styleTextSelection:C}},68101:function(V,B,e){var p=e(8225);V.exports=function(n,C,T){var d=n.i;return"x"in n||(n.x=C._x[d]),"y"in n||(n.y=C._y[d]),p(n,C,T)}},68645:function(V,B,e){var p=e(78232);B.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},B.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},20794:function(V,B,e){var p=e(73972),L=e(71828),n=e(34603);function C(d,y,r,t){var i=d.cd,a=i[0].t,h=i[0].trace,u=d.xa,s=d.ya,m=a.x,f=a.y,S=u.c2p(y),v=s.c2p(r),l=d.distance,g;if(a.tree){var M=u.p2c(S-l),A=u.p2c(S+l),k=s.p2c(v-l),w=s.p2c(v+l);t==="x"?g=a.tree.range(Math.min(M,A),Math.min(s._rl[0],s._rl[1]),Math.max(M,A),Math.max(s._rl[0],s._rl[1])):g=a.tree.range(Math.min(M,A),Math.min(k,w),Math.max(M,A),Math.max(k,w))}else g=a.ids;var E,b,o,P,x,z,_,G,F,N=l;if(t==="x"){var U=!!h.xperiodalignment,O=!!h.yperiodalignment;for(x=0;x<g.length;x++){if(E=g[x],o=m[E],z=Math.abs(u.c2p(o)-S),U){var H=u.c2p(h._xStarts[E]),Y=u.c2p(h._xEnds[E]);z=S>=Math.min(H,Y)&&S<=Math.max(H,Y)?0:1/0}if(z<N){if(N=z,P=f[E],_=s.c2p(P)-v,O){var q=s.c2p(h._yStarts[E]),ne=s.c2p(h._yEnds[E]);_=v>=Math.min(q,ne)&&v<=Math.max(q,ne)?0:1/0}F=Math.sqrt(z*z+_*_),b=g[x]}}}else for(x=g.length-1;x>-1;x--)E=g[x],o=m[E],P=f[E],z=u.c2p(o)-S,_=s.c2p(P)-v,G=Math.sqrt(z*z+_*_),G<N&&(N=F=G,b=E);return d.index=b,d.distance=N,d.dxy=F,b===void 0?[d]:[T(d,m,f,h)]}function T(d,y,r,t){var i=d.xa,a=d.ya,h=d.distance,u=d.dxy,s=d.index,m={pointNumber:s,x:y[s],y:r[s]};m.tx=L.isArrayOrTypedArray(t.text)?t.text[s]:t.text,m.htx=Array.isArray(t.hovertext)?t.hovertext[s]:t.hovertext,m.data=Array.isArray(t.customdata)?t.customdata[s]:t.customdata,m.tp=Array.isArray(t.textposition)?t.textposition[s]:t.textposition;var f=t.textfont;f&&(m.ts=L.isArrayOrTypedArray(f.size)?f.size[s]:f.size,m.tc=Array.isArray(f.color)?f.color[s]:f.color,m.tf=Array.isArray(f.family)?f.family[s]:f.family);var S=t.marker;S&&(m.ms=L.isArrayOrTypedArray(S.size)?S.size[s]:S.size,m.mo=L.isArrayOrTypedArray(S.opacity)?S.opacity[s]:S.opacity,m.mx=L.isArrayOrTypedArray(S.symbol)?S.symbol[s]:S.symbol,m.ma=L.isArrayOrTypedArray(S.angle)?S.angle[s]:S.angle,m.mc=L.isArrayOrTypedArray(S.color)?S.color[s]:S.color);var v=S&&S.line;v&&(m.mlc=Array.isArray(v.color)?v.color[s]:v.color,m.mlw=L.isArrayOrTypedArray(v.width)?v.width[s]:v.width);var l=S&&S.gradient;l&&l.type!=="none"&&(m.mgt=Array.isArray(l.type)?l.type[s]:l.type,m.mgc=Array.isArray(l.color)?l.color[s]:l.color);var g=i.c2p(m.x,!0),M=a.c2p(m.y,!0),A=m.mrc||1,k=t.hoverlabel;k&&(m.hbg=Array.isArray(k.bgcolor)?k.bgcolor[s]:k.bgcolor,m.hbc=Array.isArray(k.bordercolor)?k.bordercolor[s]:k.bordercolor,m.hts=L.isArrayOrTypedArray(k.font.size)?k.font.size[s]:k.font.size,m.htc=Array.isArray(k.font.color)?k.font.color[s]:k.font.color,m.htf=Array.isArray(k.font.family)?k.font.family[s]:k.font.family,m.hnl=L.isArrayOrTypedArray(k.namelength)?k.namelength[s]:k.namelength);var w=t.hoverinfo;w&&(m.hi=Array.isArray(w)?w[s]:w);var E=t.hovertemplate;E&&(m.ht=Array.isArray(E)?E[s]:E);var b={};b[d.index]=m;var o=t._origX,P=t._origY,x=L.extendFlat({},d,{color:n(t,m),x0:g-A,x1:g+A,xLabelVal:o?o[s]:m.x,y0:M-A,y1:M+A,yLabelVal:P?P[s]:m.y,cd:b,distance:h,spikeDistance:u,hovertemplate:m.ht});return m.htx?x.text=m.htx:m.tx?x.text=m.tx:t.text&&(x.text=t.text),L.fillText(m,t,x),p.getComponentMethod("errorbars","hoverInfo")(m,t,x),x}V.exports={hoverPoints:C,calcHover:T}},68868:function(V,B,e){var p=e(72156);p.plot=e(26787),V.exports=p},26787:function(V,B,e){var p=e(11870),L=e(46075),n=e(3593),C=e(42505),T=e(71828),d=e(64505).selectMode,y=e(79749),r=e(34098),t=e(68687),i=e(5345).styleTextSelection,a={};function h(s,m,f,S){var v=s._size,l=s.width*S,g=s.height*S,M=v.l*S,A=v.b*S,k=v.r*S,w=v.t*S,E=v.w*S,b=v.h*S;return[M+m.domain[0]*E,A+f.domain[0]*b,l-k-(1-m.domain[1])*E,g-w-(1-f.domain[1])*b]}var u=V.exports=function(m,f,S){if(S.length){var v=m._fullLayout,l=f._scene,g=f.xaxis,M=f.yaxis,A,k;if(l){var w=y(m,["ANGLE_instanced_arrays","OES_element_index_uint"],a);if(!w){l.init();return}var E=l.count,b=v._glcanvas.data()[0].regl;if(t(m,f,S),l.dirty){if((l.line2d||l.error2d)&&!(l.scatter2d||l.fill2d||l.glText)&&b.clear({}),l.error2d===!0&&(l.error2d=n(b)),l.line2d===!0&&(l.line2d=L(b)),l.scatter2d===!0&&(l.scatter2d=p(b)),l.fill2d===!0&&(l.fill2d=L(b)),l.glText===!0)for(l.glText=new Array(E),A=0;A<E;A++)l.glText[A]=new C(b);if(l.glText){if(E>l.glText.length){var o=E-l.glText.length;for(A=0;A<o;A++)l.glText.push(new C(b))}else if(E<l.glText.length){var P=l.glText.length-E,x=l.glText.splice(E,P);x.forEach(function(Q){Q.destroy()})}for(A=0;A<E;A++)l.glText[A].update(l.textOptions[A])}if(l.line2d&&(l.line2d.update(l.lineOptions),l.lineOptions=l.lineOptions.map(function(Q){if(Q&&Q.positions){for(var K=Q.positions,ue=0;ue<K.length&&(isNaN(K[ue])||isNaN(K[ue+1]));)ue+=2;for(var ie=K.length-2;ie>ue&&(isNaN(K[ie])||isNaN(K[ie+1]));)ie-=2;Q.positions=K.slice(ue,ie+2)}return Q}),l.line2d.update(l.lineOptions)),l.error2d){var z=(l.errorXOptions||[]).concat(l.errorYOptions||[]);l.error2d.update(z)}l.scatter2d&&l.scatter2d.update(l.markerOptions),l.fillOrder=T.repeat(null,E),l.fill2d&&(l.fillOptions=l.fillOptions.map(function(Q,K){var ue=S[K];if(!(!Q||!ue||!ue[0]||!ue[0].trace)){var ie=ue[0],ce=ie.trace,xe=ie.t,Le=l.lineOptions[K],Ae,Oe,ze=[];ce._ownfill&&ze.push(K),ce._nexttrace&&ze.push(K+1),ze.length&&(l.fillOrder[K]=ze);var Ee=[],be=Le&&Le.positions||xe.positions,Ce,Ue;if(ce.fill==="tozeroy"){for(Ce=0;Ce<be.length&&isNaN(be[Ce+1]);)Ce+=2;for(Ue=be.length-2;Ue>Ce&&isNaN(be[Ue+1]);)Ue-=2;be[Ce+1]!==0&&(Ee=[be[Ce],0]),Ee=Ee.concat(be.slice(Ce,Ue+2)),be[Ue+1]!==0&&(Ee=Ee.concat([be[Ue],0]))}else if(ce.fill==="tozerox"){for(Ce=0;Ce<be.length&&isNaN(be[Ce]);)Ce+=2;for(Ue=be.length-2;Ue>Ce&&isNaN(be[Ue]);)Ue-=2;be[Ce]!==0&&(Ee=[0,be[Ce+1]]),Ee=Ee.concat(be.slice(Ce,Ue+2)),be[Ue]!==0&&(Ee=Ee.concat([0,be[Ue+1]]))}else if(ce.fill==="toself"||ce.fill==="tonext"){for(Ee=[],Ae=0,Q.splitNull=!0,Oe=0;Oe<be.length;Oe+=2)(isNaN(be[Oe])||isNaN(be[Oe+1]))&&(Ee=Ee.concat(be.slice(Ae,Oe)),Ee.push(be[Ae],be[Ae+1]),Ee.push(null,null),Ae=Oe+2);Ee=Ee.concat(be.slice(Ae)),Ae&&Ee.push(be[Ae],be[Ae+1])}else{var He=ce._nexttrace;if(He){var Ie=l.lineOptions[K+1];if(Ie){var Ge=Ie.positions;if(ce.fill==="tonexty"){for(Ee=be.slice(),K=Math.floor(Ge.length/2);K--;){var at=Ge[K*2],lt=Ge[K*2+1];isNaN(at)||isNaN(lt)||Ee.push(at,lt)}Q.fill=He.fillcolor}}}}if(ce._prevtrace&&ce._prevtrace.fill==="tonext"){var qe=l.lineOptions[K-1].positions,et=Ee.length/2;Ae=et;var ft=[Ae];for(Oe=0;Oe<qe.length;Oe+=2)(isNaN(qe[Oe])||isNaN(qe[Oe+1]))&&(ft.push(Oe/2+et+1),Ae=Oe+2);Ee=Ee.concat(qe),Q.hole=ft}return Q.fillmode=ce.fill,Q.opacity=ce.opacity,Q.positions=Ee,Q}}),l.fill2d.update(l.fillOptions))}var _=v.dragmode,G=d(_),F=v.clickmode.indexOf("select")>-1;for(A=0;A<E;A++){var N=S[A][0],U=N.trace,O=N.t,H=O.index,Y=U._length,q=O.x,ne=O.y;if(U.selectedpoints||G||F){if(G||(G=!0),U.selectedpoints){var oe=l.selectBatch[H]=T.selIndices2selPoints(U),he={};for(k=0;k<oe.length;k++)he[oe[k]]=1;var J=[];for(k=0;k<Y;k++)he[k]||J.push(k);l.unselectBatch[H]=J}var Z=O.xpx=new Array(Y),se=O.ypx=new Array(Y);for(k=0;k<Y;k++)Z[k]=g.c2p(q[k]),se[k]=M.c2p(ne[k])}else O.xpx=O.ypx=null}if(G){if(l.select2d||(l.select2d=p(v._glcanvas.data()[1].regl)),l.scatter2d){var $=new Array(E);for(A=0;A<E;A++)$[A]=l.selectBatch[A].length||l.unselectBatch[A].length?l.markerUnselectedOptions[A]:{};l.scatter2d.update($)}l.select2d&&(l.select2d.update(l.markerOptions),l.select2d.update(l.markerSelectedOptions)),l.glText&&S.forEach(function(Q){var K=((Q||[])[0]||{}).trace||{};r.hasText(K)&&i(Q)})}else l.scatter2d&&l.scatter2d.update(l.markerOptions);var ee={viewport:h(v,g,M,m._context.plotGlPixelRatio),range:[(g._rl||g.range)[0],(M._rl||M.range)[0],(g._rl||g.range)[1],(M._rl||M.range)[1]]},le=T.repeat(ee,l.count);l.fill2d&&l.fill2d.update(le),l.line2d&&l.line2d.update(le),l.error2d&&l.error2d.update(le.concat(le)),l.scatter2d&&l.scatter2d.update(le),l.select2d&&l.select2d.update(le),l.glText&&l.glText.forEach(function(Q){Q.update(ee)})}}};u.reglPrecompiled=a},38967:function(V,B,e){var p=e(71828);V.exports=function(n,C){var T=C._scene,d={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(T=C._scene={},T.init=function(){p.extendFlat(T,y,d)},T.init(),T.update=function(t){var i=p.repeat(t,T.count);if(T.fill2d&&T.fill2d.update(i),T.scatter2d&&T.scatter2d.update(i),T.line2d&&T.line2d.update(i),T.error2d&&T.error2d.update(i.concat(i)),T.select2d&&T.select2d.update(i),T.glText)for(var a=0;a<T.count;a++)T.glText[a].update(t)},T.draw=function(){for(var t=T.count,i=T.fill2d,a=T.error2d,h=T.line2d,u=T.scatter2d,s=T.glText,m=T.select2d,f=T.selectBatch,S=T.unselectBatch,v=0;v<t;v++){if(i&&T.fillOrder[v]&&i.draw(T.fillOrder[v]),h&&T.lineOptions[v]&&h.draw(v),a&&(T.errorXOptions[v]&&a.draw(v),T.errorYOptions[v]&&a.draw(v+t)),u&&T.markerOptions[v])if(S[v].length){var l=p.repeat([],T.count);l[v]=S[v],u.draw(l)}else f[v].length||u.draw(v);s[v]&&T.textOptions[v]&&s[v].render()}m&&m.draw(f),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(t){t.destroy&&t.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,C._scene=null}),T.dirty||p.extendFlat(T,d),T}},58147:function(V,B,e){var p=e(34098),L=e(5345).styleTextSelection;V.exports=function(C,T){var d=C.cd,y=C.xaxis,r=C.yaxis,t=[],i=d[0].trace,a=d[0].t,h=i._length,u=a.x,s=a.y,m=a._scene,f=a.index;if(!m)return t;var S=p.hasText(i),v=p.hasMarkers(i),l=!v&&!S;if(i.visible!==!0||l)return t;var g=[],M=[];if(T!==!1&&!T.degenerate)for(var A=0;A<h;A++)T.contains([a.xpx[A],a.ypx[A]],!1,A,C)?(g.push(A),t.push({pointNumber:A,x:y.c2d(u[A]),y:r.c2d(s[A])})):M.push(A);if(v){var k=m.scatter2d;if(!g.length&&!M.length){var w=new Array(m.count);w[f]=m.markerOptions[f],k.update.apply(k,w)}else if(!m.selectBatch[f].length&&!m.unselectBatch[f].length){var E=new Array(m.count);E[f]=m.markerUnselectedOptions[f],k.update.apply(k,E)}}return m.selectBatch[f]=g,m.unselectBatch[f]=M,S&&L(d),t}},99181:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(19316),C=e(82196),T=e(23585),d=e(9012),y=e(50693),r=e(1426).extendFlat,t=e(30962).overrideAll,i=e(23585),a=n.line,h=n.marker;V.exports=t({lon:n.lon,lat:n.lat,cluster:{enabled:{valType:"boolean"},maxzoom:r({},i.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:r({},h.opacity,{dflt:1})},mode:r({},C.mode,{dflt:"markers"}),text:r({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:r({},C.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:C.connectgaps,marker:r({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:h.opacity,size:h.size,sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode},y("marker")),fill:n.fill,fillcolor:C.fillcolor,textfont:T.layers.symbol.textfont,textposition:T.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:r({},d.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},15790:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM,C=e(18214),T=e(21081),d=e(91424),y=e(39984),r=e(34098),t=e(13056),i=e(23469).appendArrayPointValue,a=e(63893).NEWLINES,h=e(63893).BR_TAG_ALL;V.exports=function(M,A){var k=A[0].trace,w=k.visible===!0&&k._length!==0,E=k.fill!=="none",b=r.hasLines(k),o=r.hasMarkers(k),P=r.hasText(k),x=o&&k.marker.symbol==="circle",z=o&&k.marker.symbol!=="circle",_=k.cluster&&k.cluster.enabled,G=u("fill"),F=u("line"),N=u("circle"),U=u("symbol"),O={fill:G,line:F,circle:N,symbol:U};if(!w)return O;var H;if((E||b)&&(H=C.calcTraceToLineCoords(A)),E&&(G.geojson=C.makePolygon(H),G.layout.visibility="visible",L.extendFlat(G.paint,{"fill-color":k.fillcolor})),b&&(F.geojson=C.makeLine(H),F.layout.visibility="visible",L.extendFlat(F.paint,{"line-width":k.line.width,"line-color":k.line.color,"line-opacity":k.opacity})),x){var Y=s(A);N.geojson=Y.geojson,N.layout.visibility="visible",_&&(N.filter=["!",["has","point_count"]],O.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":l(k.cluster.color,k.cluster.step),"circle-radius":l(k.cluster.size,k.cluster.step),"circle-opacity":l(k.cluster.opacity,k.cluster.step)}},O.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(N.paint,{"circle-color":Y.mcc,"circle-radius":Y.mrc,"circle-opacity":Y.mo})}if(x&&_&&(N.filter=["!",["has","point_count"]]),(z||P)&&(U.geojson=m(A,M),L.extendFlat(U.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),z&&(L.extendFlat(U.layout,{"icon-size":k.marker.size/10}),"angle"in k.marker&&k.marker.angle!=="auto"&&L.extendFlat(U.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),U.layout["icon-allow-overlap"]=k.marker.allowoverlap,L.extendFlat(U.paint,{"icon-opacity":k.opacity*k.marker.opacity,"icon-color":k.marker.color})),P)){var q=(k.marker||{}).size,ne=t(k.textposition,q);L.extendFlat(U.layout,{"text-size":k.textfont.size,"text-anchor":ne.anchor,"text-offset":ne.offset,"text-font":k.textfont.family.split(", ")}),L.extendFlat(U.paint,{"text-color":k.textfont.color,"text-opacity":k.opacity})}return O};function u(g){return{type:g,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function s(g){var M=g[0].trace,A=M.marker,k=M.selectedpoints,w=L.isArrayOrTypedArray(A.color),E=L.isArrayOrTypedArray(A.size),b=L.isArrayOrTypedArray(A.opacity),o;function P(q){return M.opacity*q}function x(q){return q/2}var z;w&&(T.hasColorscale(M,"marker")?z=T.makeColorScaleFuncFromTrace(A):z=L.identity);var _;E&&(_=y(M));var G;b&&(G=function(q){var ne=p(q)?+L.constrain(q,0,1):0;return P(ne)});var F=[];for(o=0;o<g.length;o++){var N=g[o],U=N.lonlat;if(!v(U)){var O={};z&&(O.mcc=N.mcc=z(N.mc)),_&&(O.mrc=N.mrc=_(N.ms)),G&&(O.mo=G(N.mo)),k&&(O.selected=N.selected||0),F.push({type:"Feature",id:o+1,geometry:{type:"Point",coordinates:U},properties:O})}}var H;if(k)for(H=d.makeSelectedPointStyleFns(M),o=0;o<F.length;o++){var Y=F[o].properties;H.selectedOpacityFn&&(Y.mo=P(H.selectedOpacityFn(Y))),H.selectedColorFn&&(Y.mcc=H.selectedColorFn(Y)),H.selectedSizeFn&&(Y.mrc=H.selectedSizeFn(Y))}return{geojson:{type:"FeatureCollection",features:F},mcc:w||H&&H.selectedColorFn?{type:"identity",property:"mcc"}:A.color,mrc:E||H&&H.selectedSizeFn?{type:"identity",property:"mrc"}:x(A.size),mo:b||H&&H.selectedOpacityFn?{type:"identity",property:"mo"}:P(A.opacity)}}function m(g,M){for(var A=M._fullLayout,k=g[0].trace,w=k.marker||{},E=w.symbol,b=w.angle,o=E!=="circle"?f(E):S,P=b!=="auto"?f(b,!0):S,x=r.hasText(k)?f(k.text):S,z=[],_=0;_<g.length;_++){var G=g[_];if(!v(G.lonlat)){var F=k.texttemplate,N;if(F){var U=Array.isArray(F)?F[_]||"":F,O=k._module.formatLabels(G,k,A),H={};i(H,k,G.i);var Y=k._meta||{};N=L.texttemplateString(U,O,A._d3locale,H,G,Y)}else N=x(_);N&&(N=N.replace(a,"").replace(h,`
`)),z.push({type:"Feature",geometry:{type:"Point",coordinates:G.lonlat},properties:{symbol:o(_),angle:P(_),text:N}})}}return{type:"FeatureCollection",features:z}}function f(g,M){return L.isArrayOrTypedArray(g)?M?function(A){return p(g[A])?+g[A]:0}:function(A){return g[A]}:g?function(){return g}:S}function S(){return""}function v(g){return g[0]===n}function l(g,M){var A;if(L.isArrayOrTypedArray(g)&&L.isArrayOrTypedArray(M)){A=["step",["get","point_count"],g[0]];for(var k=1;k<g.length;k++)A.push(M[k-1],g[k])}else A=g;return A}},76645:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),T=e(82410),d=e(28908),y=e(99181),r=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];V.exports=function(a,h,u,s){function m(E,b){return p.coerce(a,h,y,E,b)}function f(E,b){return p.coerce2(a,h,y,E,b)}var S=t(a,h,m);if(!S){h.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),L.hasMarkers(h)){n(a,h,u,s,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var v=h.marker;v.symbol!=="circle"&&(p.isArrayOrTypedArray(v.size)&&(v.size=v.size[0]),p.isArrayOrTypedArray(v.color)&&(v.color=v.color[0]))}L.hasLines(h)&&(C(a,h,u,s,m,{noDash:!0}),m("connectgaps"));var l=f("cluster.maxzoom"),g=f("cluster.step"),M=f("cluster.color",h.marker&&h.marker.color||u),A=f("cluster.size"),k=f("cluster.opacity"),w=l!==!1||g!==!1||M!==!1||A!==!1||k!==!1;m("cluster.enabled",w),L.hasText(h)&&T(a,h,s,m,{noSelect:!0,font:{family:r.indexOf(s.font.family)!==-1?s.font.family:"Open Sans Regular",size:s.font.size,color:s.font.color}}),m("fill"),h.fill!=="none"&&d(a,h,u,m),p.coerceSelectionMarkerOpacity(h,m)};function t(i,a,h){var u=h("lon")||[],s=h("lat")||[],m=Math.min(u.length,s.length);return a._length=m,m}},53353:function(V){V.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},15636:function(V,B,e){var p=e(89298);V.exports=function(n,C,T){var d={},y=T[C.subplot]._subplot,r=y.mockAxis,t=n.lonlat;return d.lonLabel=p.tickText(r,r.c2l(t[0]),!0).text,d.latLabel=p.tickText(r,r.c2l(t[1]),!0).text,d}},28178:function(V,B,e){var p=e(30211),L=e(71828),n=e(34603),C=L.fillText,T=e(50606).BADNUM,d=e(77734).traceLayerPrefix;function y(t,i,a){var h=t.cd,u=h[0].trace,s=t.xa,m=t.ya,f=t.subplot,S=[],v=d+u.uid+"-circle",l=u.cluster&&u.cluster.enabled;if(l){var g=f.map.queryRenderedFeatures(null,{layers:[v]});S=g.map(function(F){return F.id})}var M=i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360),A=M*360,k=i-A;function w(F){var N=F.lonlat;if(N[0]===T||l&&S.indexOf(F.i+1)===-1)return 1/0;var U=L.modHalf(N[0],360),O=N[1],H=f.project([U,O]),Y=H.x-s.c2p([k,O]),q=H.y-m.c2p([U,a]),ne=Math.max(3,F.mrc||0);return Math.max(Math.sqrt(Y*Y+q*q)-ne,1-3/ne)}if(p.getClosest(h,w,t),t.index!==!1){var E=h[t.index],b=E.lonlat,o=[L.modHalf(b[0],360)+A,b[1]],P=s.c2p(o),x=m.c2p(o),z=E.mrc||1;t.x0=P-z,t.x1=P+z,t.y0=x-z,t.y1=x+z;var _={};_[u.subplot]={_subplot:f};var G=u._module.formatLabels(E,u,_);return t.lonLabel=G.lonLabel,t.latLabel=G.latLabel,t.color=n(u,E),t.extraText=r(u,E,h[0].t.labels),t.hovertemplate=u.hovertemplate,[t]}}function r(t,i,a){if(t.hovertemplate)return;var h=i.hi||t.hoverinfo,u=h.split("+"),s=u.indexOf("all")!==-1,m=u.indexOf("lon")!==-1,f=u.indexOf("lat")!==-1,S=i.lonlat,v=[];function l(g){return g+""}return s||m&&f?v.push("("+l(S[1])+", "+l(S[0])+")"):m?v.push(a.lon+l(S[0])):f&&v.push(a.lat+l(S[1])),(s||u.indexOf("text")!==-1)&&C(i,t,v),v.join("<br>")}V.exports={hoverPoints:y,getExtraText:r}},20467:function(V,B,e){V.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(V,B,e){var p=e(71828),L=e(15790),n=e(77734).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(y,r,t,i){this.type="scattermapbox",this.subplot=y,this.uid=r,this.clusterEnabled=t,this.isHidden=i,this.sourceIds={fill:"source-"+r+"-fill",line:"source-"+r+"-line",circle:"source-"+r+"-circle",symbol:"source-"+r+"-symbol",cluster:"source-"+r+"-circle",clusterCount:"source-"+r+"-circle"},this.layerIds={fill:n+r+"-fill",line:n+r+"-line",circle:n+r+"-circle",symbol:n+r+"-symbol",cluster:n+r+"-cluster",clusterCount:n+r+"-cluster-count"},this.below=null}var d=T.prototype;d.addSource=function(y,r,t){var i={type:"geojson",data:r.geojson};t&&t.enabled&&p.extendFlat(i,{cluster:!0,clusterMaxZoom:t.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[y]);a?a.setData(r.geojson):this.subplot.map.addSource(this.sourceIds[y],i)},d.setSourceData=function(y,r){this.subplot.map.getSource(this.sourceIds[y]).setData(r.geojson)},d.addLayer=function(y,r,t){var i={type:r.type,id:this.layerIds[y],source:this.sourceIds[y],layout:r.layout,paint:r.paint};r.filter&&(i.filter=r.filter);for(var a=this.layerIds[y],h,u=this.subplot.getMapLayers(),s=0;s<u.length;s++)if(u[s].id===a){h=!0;break}h?(this.subplot.setOptions(a,"setLayoutProperty",i.layout),i.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",i.paint)):this.subplot.addLayer(i,t)},d.update=function(r){var t=r[0].trace,i=this.subplot,a=i.map,h=L(i.gd,r),u=i.belowLookup["trace-"+this.uid],s=!!(t.cluster&&t.cluster.enabled),m=!!this.clusterEnabled,f=this;function S(b){b||f.addSource("circle",h.circle,t.cluster);for(var o=C.cluster,P=0;P<o.length;P++){var x=o[P],z=h[x];f.addLayer(x,z,u)}}function v(b){for(var o=C.cluster,P=o.length-1;P>=0;P--){var x=o[P];a.removeLayer(f.layerIds[x])}b||a.removeSource(f.sourceIds.circle)}function l(b){for(var o=C.nonCluster,P=0;P<o.length;P++){var x=o[P],z=h[x];b||f.addSource(x,z),f.addLayer(x,z,u)}}function g(b){for(var o=C.nonCluster,P=o.length-1;P>=0;P--){var x=o[P];a.removeLayer(f.layerIds[x]),b||a.removeSource(f.sourceIds[x])}}function M(b){m?v(b):g(b)}function A(b){s?S(b):l(b)}function k(){for(var b=s?C.cluster:C.nonCluster,o=0;o<b.length;o++){var P=b[o],x=h[P];x&&(i.setOptions(f.layerIds[P],"setLayoutProperty",x.layout),x.layout.visibility==="visible"&&(P!=="cluster"&&f.setSourceData(P,x),i.setOptions(f.layerIds[P],"setPaintProperty",x.paint)))}}var w=this.isHidden,E=t.visible!==!0;E?w||M():w?E||A():m!==s?(M(),A()):(this.below!==u&&(M(!0),A(!0)),k()),this.clusterEnabled=s,this.isHidden=E,this.below=u,r[0].trace._glTrace=this},d.dispose=function(){for(var r=this.subplot.map,t=this.clusterEnabled?C.cluster:C.nonCluster,i=t.length-1;i>=0;i--){var a=t[i];r.removeLayer(this.layerIds[a]),r.removeSource(this.sourceIds[a])}},V.exports=function(r,t){var i=t[0].trace,a=i.cluster&&i.cluster.enabled,h=i.visible!==!0,u=new T(r,i.uid,a,h),s=L(r.gd,t),m=u.below=r.belowLookup["trace-"+i.uid],f,S,v;if(a)for(u.addSource("circle",s.circle,i.cluster),f=0;f<C.cluster.length;f++)S=C.cluster[f],v=s[S],u.addLayer(S,v,m);else for(f=0;f<C.nonCluster.length;f++)S=C.nonCluster[f],v=s[S],u.addSource(S,v,i.cluster),u.addLayer(S,v,m);return t[0].trace._glTrace=u,u}},86387:function(V,B,e){var p=e(71828),L=e(34098),n=e(50606).BADNUM;V.exports=function(T,d){var y=T.cd,r=T.xaxis,t=T.yaxis,i=[],a=y[0].trace,h;if(!L.hasMarkers(a))return[];if(d===!1)for(h=0;h<y.length;h++)y[h].selected=0;else for(h=0;h<y.length;h++){var u=y[h],s=u.lonlat;if(s[0]!==n){var m=[p.modHalf(s[0],360),s[1]],f=[r.c2p(m),t.c2p(m)];d.contains(f,null,h,T)?(i.push({pointNumber:h,lon:s[0],lat:s[1]}),u.selected=1):u.selected=0}}return i}},81245:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(1426).extendFlat,C=e(82196),T=e(9012),d=C.line;V.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:n({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:n({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:n({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:n({},T.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},26442:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(89298),C=e(36922),T=e(75225),d=e(66279),y=e(47761).calcMarkerSize;V.exports=function(t,i){for(var a=t._fullLayout,h=i.subplot,u=a[h].radialaxis,s=a[h].angularaxis,m=u.makeCalcdata(i,"r"),f=s.makeCalcdata(i,"theta"),S=i._length,v=new Array(S),l=0;l<S;l++){var g=m[l],M=f[l],A=v[l]={};p(g)&&p(M)?(A.r=g,A.theta=M):A.r=L}var k=y(i,S);return i._extremes.x=n.findExtremes(u,m,{ppad:k}),C(t,i),T(v,i),d(v,i),v}},22184:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),T=e(94039),d=e(82410),y=e(28908),r=e(47581).PTS_LINESONLY,t=e(81245);function i(h,u,s,m){function f(l,g){return p.coerce(h,u,t,l,g)}var S=a(h,u,m,f);if(!S){u.visible=!1;return}f("thetaunit"),f("mode",S<r?"lines+markers":"lines"),f("text"),f("hovertext"),u.hoveron!=="fills"&&f("hovertemplate"),L.hasMarkers(u)&&n(h,u,s,m,f,{gradient:!0}),L.hasLines(u)&&(C(h,u,s,m,f,{backoff:!0}),T(h,u,f),f("connectgaps")),L.hasText(u)&&(f("texttemplate"),d(h,u,m,f));var v=[];(L.hasMarkers(u)||L.hasText(u))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),u.fill!=="none"&&(y(h,u,s,f),L.hasLines(u)||T(h,u,f)),(u.fill==="tonext"||u.fill==="toself")&&v.push("fills"),f("hoveron",v.join("+")||"points"),p.coerceSelectionMarkerOpacity(u,f)}function a(h,u,s,m){var f=m("r"),S=m("theta");p.isTypedArray(f)&&(u.r=f=Array.from(f)),p.isTypedArray(S)&&(u.theta=S=Array.from(S));var v;if(f)S?v=Math.min(f.length,S.length):(v=f.length,m("theta0"),m("dtheta"));else{if(!S)return 0;v=u.theta.length,m("r0"),m("dr")}return u._length=v,v}V.exports={handleRThetaDefaults:a,supplyDefaults:i}},98608:function(V,B,e){var p=e(71828),L=e(89298);V.exports=function(C,T,d){var y={},r=d[T.subplot]._subplot,t,i;r?(t=r.radialAxis,i=r.angularAxis):(r=d[T.subplot],t=r.radialaxis,i=r.angularaxis);var a=t.c2l(C.r);y.rLabel=L.tickText(t,a,!0).text;var h=i.thetaunit==="degrees"?p.rad2deg(C.theta):C.theta;return y.thetaLabel=L.tickText(i,h,!0).text,y}},59150:function(V,B,e){var p=e(33720);function L(C,T,d,y){var r=p(C,T,d,y);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=C.subplot,a=t.cd[t.index],h=t.trace;if(i.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,h,i,t),t.hovertemplate=h.hovertemplate,r}}function n(C,T,d,y){var r=d.radialAxis,t=d.angularAxis;r._hovertitle="r",t._hovertitle="";var i={};i[T.subplot]={_subplot:d};var a=T._module.formatLabels(C,T,i);y.rLabel=a.rLabel,y.thetaLabel=a.thetaLabel;var h=C.hi||T.hoverinfo,u=[];function s(f,S){u.push(f._hovertitle+": "+S)}if(!T.hovertemplate){var m=h.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&s(r,y.rLabel),m.indexOf("theta")!==-1&&s(t,y.thetaLabel),m.indexOf("text")!==-1&&y.text&&(u.push(y.text),delete y.text),y.extraText=u.join("<br>")}}V.exports={hoverPoints:L,makeHoverPointText:n}},91271:function(V,B,e){V.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(V,B,e){var p=e(32663),L=e(50606).BADNUM;V.exports=function(C,T,d){for(var y=T.layers.frontplot.select("g.scatterlayer"),r=T.xaxis,t=T.yaxis,i={xaxis:r,yaxis:t,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},a=T.radialAxis,h=T.angularAxis,u=0;u<d.length;u++)for(var s=d[u],m=0;m<s.length;m++){m===0&&(s[0].trace._xA=r,s[0].trace._yA=t);var f=s[m],S=f.r;if(S===L)f.x=f.y=L;else{var v=a.c2g(S),l=h.c2g(f.theta);f.x=v*Math.cos(l),f.y=v*Math.sin(l)}}p(C,i,d,y)}},53286:function(V,B,e){var p=e(81245),L=e(42341),n=e(5386).si;V.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:{color:L.line.color,width:L.line.width,dash:L.line.dash,editType:"calc"},connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},65746:function(V,B,e){V.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(V,B,e){var p=e(36922),L=e(47761).calcMarkerSize,n=e(19635),C=e(89298),T=e(78232).TOO_MANY_POINTS;V.exports=function(y,r){var t=y._fullLayout,i=r.subplot,a=t[i].radialaxis,h=t[i].angularaxis,u=r._r=a.makeCalcdata(r,"r"),s=r._theta=h.makeCalcdata(r,"theta"),m=r._length,f={};m<u.length&&(u=u.slice(0,m)),m<s.length&&(s=s.slice(0,m)),f.r=u,f.theta=s,p(y,r);var S=f.opts=n.style(y,r),v;return m<T?v=L(r,m):S.marker&&(v=2*(S.marker.sizeAvg||Math.max(S.marker.size,3))),r._extremes.x=C.findExtremes(a,u,{ppad:v}),[{x:!1,y:!1,t:f,trace:r}]}},75485:function(V,B,e){var p=e(71828),L=e(34098),n=e(22184).handleRThetaDefaults,C=e(49508),T=e(11058),d=e(82410),y=e(28908),r=e(47581).PTS_LINESONLY,t=e(53286);V.exports=function(a,h,u,s){function m(S,v){return p.coerce(a,h,t,S,v)}var f=n(a,h,s,m);if(!f){h.visible=!1;return}m("thetaunit"),m("mode",f<r?"lines+markers":"lines"),m("text"),m("hovertext"),h.hoveron!=="fills"&&m("hovertemplate"),L.hasMarkers(h)&&C(a,h,u,s,m,{noAngleRef:!0,noStandOff:!0}),L.hasLines(h)&&(T(a,h,u,s,m),m("connectgaps")),L.hasText(h)&&(m("texttemplate"),d(a,h,s,m)),m("fill"),h.fill!=="none"&&y(a,h,u,m),p.coerceSelectionMarkerOpacity(h,m)}},46255:function(V,B,e){var p=e(98608);V.exports=function(n,C,T){var d=n.i;return"r"in n||(n.r=C._r[d]),"theta"in n||(n.theta=C._theta[d]),p(n,C,T)}},29347:function(V,B,e){var p=e(20794),L=e(59150).makeHoverPointText;function n(C,T,d,y){var r=C.cd,t=r[0].t,i=t.r,a=t.theta,h=p.hoverPoints(C,T,d,y);if(!(!h||h[0].index===!1)){var u=h[0];if(u.index===void 0)return h;var s=C.subplot,m=u.cd[u.index],f=u.trace;if(m.r=i[u.index],m.theta=a[u.index],!!s.isPtInside(m))return u.xLabelVal=void 0,u.yLabelVal=void 0,L(m,f,s,u),h}}V.exports={hoverPoints:n}},21461:function(V,B,e){var p=e(65746);p.plot=e(49741),V.exports=p},49741:function(V,B,e){var p=e(88294),L=e(92770),n=e(26787),C=e(38967),T=e(19635),d=e(71828),y=e(78232).TOO_MANY_POINTS,r={};V.exports=function(i,a,h){if(h.length){var u=a.radialAxis,s=a.angularAxis,m=C(i,a);return h.forEach(function(f){if(!(!f||!f[0]||!f[0].trace)){var S=f[0],v=S.trace,l=S.t,g=v._length,M=l.r,A=l.theta,k=l.opts,w,E=M.slice(),b=A.slice();for(w=0;w<M.length;w++)a.isPtInside({r:M[w],theta:A[w]})||(E[w]=NaN,b[w]=NaN);var o=new Array(g*2),P=Array(g),x=Array(g);for(w=0;w<g;w++){var z=E[w],_,G;if(L(z)){var F=u.c2g(z),N=s.c2g(b[w],v.thetaunit);_=F*Math.cos(N),G=F*Math.sin(N)}else _=G=NaN;P[w]=o[w*2]=_,x[w]=o[w*2+1]=G}l.tree=p(o),k.marker&&g>=y&&(k.marker.cluster=l.tree),k.marker&&(k.markerSel.positions=k.markerUnsel.positions=k.marker.positions=o),k.line&&o.length>1&&d.extendFlat(k.line,T.linePositions(i,v,o)),k.text&&(d.extendFlat(k.text,{positions:o},T.textPosition(i,v,k.text,k.marker)),d.extendFlat(k.textSel,{positions:o},T.textPosition(i,v,k.text,k.markerSel)),d.extendFlat(k.textUnsel,{positions:o},T.textPosition(i,v,k.text,k.markerUnsel))),k.fill&&!m.fill2d&&(m.fill2d=!0),k.marker&&!m.scatter2d&&(m.scatter2d=!0),k.line&&!m.line2d&&(m.line2d=!0),k.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(k.line),m.fillOptions.push(k.fill),m.markerOptions.push(k.marker),m.markerSelectedOptions.push(k.markerSel),m.markerUnselectedOptions.push(k.markerUnsel),m.textOptions.push(k.text),m.textSelectedOptions.push(k.textSel),m.textUnselectedOptions.push(k.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),l.x=P,l.y=x,l.rawx=P,l.rawy=x,l.r=M,l.theta=A,l.positions=o,l._scene=m,l.index=m.count,m.count++}}),n(i,a,h)}},V.exports.reglPrecompiled=r},48300:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(1426).extendFlat,C=e(82196),T=e(9012),d=C.line;V.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:n({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:n({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:n({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:n({},T.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},30621:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(36922),C=e(75225),T=e(66279),d=e(47761).calcMarkerSize;V.exports=function(r,t){for(var i=r._fullLayout,a=t.subplot,h=i[a].realaxis,u=i[a].imaginaryaxis,s=h.makeCalcdata(t,"real"),m=u.makeCalcdata(t,"imag"),f=t._length,S=new Array(f),v=0;v<f;v++){var l=s[v],g=m[v],M=S[v]={};p(l)&&p(g)?(M.real=l,M.imag=g):M.real=L}return d(t,f),n(r,t),C(S,t),T(S,t),S}},65269:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),T=e(94039),d=e(82410),y=e(28908),r=e(47581).PTS_LINESONLY,t=e(48300);V.exports=function(h,u,s,m){function f(l,g){return p.coerce(h,u,t,l,g)}var S=i(h,u,m,f);if(!S){u.visible=!1;return}f("mode",S<r?"lines+markers":"lines"),f("text"),f("hovertext"),u.hoveron!=="fills"&&f("hovertemplate"),L.hasMarkers(u)&&n(h,u,s,m,f,{gradient:!0}),L.hasLines(u)&&(C(h,u,s,m,f,{backoff:!0}),T(h,u,f),f("connectgaps")),L.hasText(u)&&(f("texttemplate"),d(h,u,m,f));var v=[];(L.hasMarkers(u)||L.hasText(u))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),u.fill!=="none"&&(y(h,u,s,f),L.hasLines(u)||T(h,u,f)),(u.fill==="tonext"||u.fill==="toself")&&v.push("fills"),f("hoveron",v.join("+")||"points"),p.coerceSelectionMarkerOpacity(u,f)};function i(a,h,u,s){var m=s("real"),f=s("imag"),S;return m&&f&&(S=Math.min(m.length,f.length)),p.isTypedArray(m)&&(h.real=m=Array.from(m)),p.isTypedArray(f)&&(h.imag=f=Array.from(f)),h._length=S,S}},62047:function(V,B,e){var p=e(89298);V.exports=function(n,C,T){var d={},y=T[C.subplot]._subplot;return d.realLabel=p.tickText(y.radialAxis,n.real,!0).text,d.imagLabel=p.tickText(y.angularAxis,n.imag,!0).text,d}},11350:function(V,B,e){var p=e(33720);function L(C,T,d,y){var r=p(C,T,d,y);if(!(!r||r[0].index===!1)){var t=r[0];if(t.index===void 0)return r;var i=C.subplot,a=t.cd[t.index],h=t.trace;if(i.isPtInside(a))return t.xLabelVal=void 0,t.yLabelVal=void 0,n(a,h,i,t),t.hovertemplate=h.hovertemplate,r}}function n(C,T,d,y){var r=d.radialAxis,t=d.angularAxis;r._hovertitle="real",t._hovertitle="imag";var i={};i[T.subplot]={_subplot:d};var a=T._module.formatLabels(C,T,i);y.realLabel=a.realLabel,y.imagLabel=a.imagLabel;var h=C.hi||T.hoverinfo,u=[];function s(f,S){u.push(f._hovertitle+": "+S)}if(!T.hovertemplate){var m=h.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&s(r,y.realLabel),m.indexOf("imag")!==-1&&s(t,y.imagLabel),m.indexOf("text")!==-1&&y.text&&(u.push(y.text),delete y.text),y.extraText=u.join("<br>")}}V.exports={hoverPoints:L,makeHoverPointText:n}},85956:function(V,B,e){V.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(V,B,e){var p=e(32663),L=e(50606).BADNUM,n=e(23893),C=n.smith;V.exports=function(d,y,r){for(var t=y.layers.frontplot.select("g.scatterlayer"),i=y.xaxis,a=y.yaxis,h={xaxis:i,yaxis:a,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},u=0;u<r.length;u++)for(var s=r[u],m=0;m<s.length;m++){m===0&&(s[0].trace._xA=i,s[0].trace._yA=a);var f=s[m],S=f.real;if(S===L)f.x=f.y=L;else{var v=C([S,f.imag]);f.x=v[0],f.y=v[1]}}p(d,h,r,t)}},50413:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(82196),C=e(9012),T=e(50693),d=e(79952).P,y=e(1426).extendFlat,r=n.marker,t=n.line,i=r.line;V.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:y({},n.mode,{dflt:"markers"}),text:y({},n.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:y({},n.hovertext,{}),line:{color:t.color,width:t.width,dash:d,backoff:t.backoff,shape:y({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:n.connectgaps,cliponaxis:n.cliponaxis,fill:y({},n.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n.fillcolor,marker:y({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:r.angleref,standoff:r.standoff,maxdisplayed:r.maxdisplayed,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,line:y({width:i.width,editType:"calc"},T("marker.line")),gradient:r.gradient,editType:"calc"},T("marker")),textfont:n.textfont,textposition:n.textposition,selected:n.selected,unselected:n.unselected,hoverinfo:y({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:n.hoveron,hovertemplate:p()}},54337:function(V,B,e){var p=e(92770),L=e(36922),n=e(75225),C=e(66279),T=e(47761).calcMarkerSize,d=["a","b","c"],y={a:["b","c"],b:["a","c"],c:["a","b"]};V.exports=function(t,i){var a=t._fullLayout[i.subplot],h=a.sum,u=i.sum||h,s={a:i.a,b:i.b,c:i.c},m,f,S,v,l,g;for(m=0;m<d.length;m++)if(S=d[m],!s[S]){for(l=s[y[S][0]],g=s[y[S][1]],v=new Array(l.length),f=0;f<l.length;f++)v[f]=u-l[f]-g[f];s[S]=v}var M=i._length,A=new Array(M),k,w,E,b,o,P;for(m=0;m<M;m++)k=s.a[m],w=s.b[m],E=s.c[m],p(k)&&p(w)&&p(E)?(k=+k,w=+w,E=+E,b=h/(k+w+E),b!==1&&(k*=b,w*=b,E*=b),P=k,o=E-w,A[m]={x:o,y:P,a:k,b:w,c:E}):A[m]={x:!1,y:!1};return T(i,M),L(t,i),n(A,i),C(A,i),A}},46008:function(V,B,e){var p=e(71828),L=e(47581),n=e(34098),C=e(49508),T=e(11058),d=e(94039),y=e(82410),r=e(28908),t=e(50413);V.exports=function(a,h,u,s){function m(A,k){return p.coerce(a,h,t,A,k)}var f=m("a"),S=m("b"),v=m("c"),l;if(f?(l=f.length,S?(l=Math.min(l,S.length),v&&(l=Math.min(l,v.length))):v?l=Math.min(l,v.length):l=0):S&&v&&(l=Math.min(S.length,v.length)),!l){h.visible=!1;return}h._length=l,m("sum"),m("text"),m("hovertext"),h.hoveron!=="fills"&&m("hovertemplate");var g=l<L.PTS_LINESONLY?"lines+markers":"lines";m("mode",g),n.hasMarkers(h)&&C(a,h,u,s,m,{gradient:!0}),n.hasLines(h)&&(T(a,h,u,s,m,{backoff:!0}),d(a,h,m),m("connectgaps")),n.hasText(h)&&(m("texttemplate"),y(a,h,s,m));var M=[];(n.hasMarkers(h)||n.hasText(h))&&(m("cliponaxis"),m("marker.maxdisplayed"),M.push("points")),m("fill"),h.fill!=="none"&&(r(a,h,u,m),n.hasLines(h)||d(a,h,m)),(h.fill==="tonext"||h.fill==="toself")&&M.push("fills"),m("hoveron",M.join("+")||"points"),p.coerceSelectionMarkerOpacity(h,m)}},4524:function(V){V.exports=function(e,p,L,n,C){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),n[C]){var T=n[C];e.a=T.a,e.b=T.b,e.c=T.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},93645:function(V,B,e){var p=e(89298);V.exports=function(n,C,T){var d={},y=T[C.subplot]._subplot;return d.aLabel=p.tickText(y.aaxis,n.a,!0).text,d.bLabel=p.tickText(y.baxis,n.b,!0).text,d.cLabel=p.tickText(y.caxis,n.c,!0).text,d}},47250:function(V,B,e){var p=e(33720);V.exports=function(n,C,T,d){var y=p(n,C,T,d);if(!y||y[0].index===!1)return;var r=y[0];if(r.index===void 0){var t=1-r.y0/n.ya._length,i=n.xa._length,a=i*t/2,h=i-a;return r.x0=Math.max(Math.min(r.x0,h),a),r.x1=Math.max(Math.min(r.x1,h),a),y}var u=r.cd[r.index],s=r.trace,m=r.subplot;r.a=u.a,r.b=u.b,r.c=u.c,r.xLabelVal=void 0,r.yLabelVal=void 0;var f={};f[s.subplot]={_subplot:m};var S=s._module.formatLabels(u,s,f);r.aLabel=S.aLabel,r.bLabel=S.bLabel,r.cLabel=S.cLabel;var v=u.hi||s.hoverinfo,l=[];function g(A,k){l.push(A._hovertitle+": "+k)}if(!s.hovertemplate){var M=v.split("+");M.indexOf("all")!==-1&&(M=["a","b","c"]),M.indexOf("a")!==-1&&g(m.aaxis,r.aLabel),M.indexOf("b")!==-1&&g(m.baxis,r.bLabel),M.indexOf("c")!==-1&&g(m.caxis,r.cLabel)}return r.extraText=l.join("<br>"),r.hovertemplate=s.hovertemplate,y}},52979:function(V,B,e){V.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(V,B,e){var p=e(32663);V.exports=function(n,C,T){var d=C.plotContainer;d.select(".scatterlayer").selectAll("*").remove();for(var y=C.xaxis,r=C.yaxis,t={xaxis:y,yaxis:r,plot:d,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},i=C.layers.frontplot.select("g.scatterlayer"),a=0;a<T.length;a++){var h=T[a];h.length&&(h[0].trace._xA=y,h[0].trace._yA=r)}p(n,t,T,i)}},46880:function(V,B,e){var p=e(82196),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).fF,T=e(42341),d=e(85555).idRegex,y=e(44467).templatedArray,r=e(1426).extendFlat,t=p.marker,i=t.line,a=r(L("marker.line",{editTypeOverride:"calc"}),{width:r({},i.width,{editType:"calc"}),editType:"calc"}),h=r(L("marker"),{symbol:t.symbol,angle:t.angle,size:r({},t.size,{editType:"markerSize"}),sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,opacity:t.opacity,colorbar:t.colorbar,line:a,editType:"calc"});h.color.editType=h.cmin.editType=h.cmax.editType="style";function u(s){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:d[s],editType:"plot"}}}V.exports={dimensions:y("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:r({},T.text,{}),hovertext:r({},T.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),marker:h,xaxes:u("x"),yaxes:u("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},65017:function(V,B,e){var p=e(73972),L=e(83312);V.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},p.register(L)},16947:function(V,B,e){var p=e(46075),L=e(73972),n=e(79749),C=e(27659).a0,T=e(93612),d=e(41675).getFromId,y=e(89298).shouldShowZeroLine,r="splom",t={};function i(f){var S=f._fullLayout,v=L.getModule(r),l=C(f.calcdata,v)[0],g=n(f,["ANGLE_instanced_arrays","OES_element_index_uint"],t);g&&(S._hasOnlyLargeSploms&&u(f),v.plot(f,{},l))}function a(f){var S=f.calcdata,v=f._fullLayout;v._hasOnlyLargeSploms&&u(f);for(var l=0;l<S.length;l++){var g=S[l][0],M=g.trace,A=v._splomScenes[M.uid];M.type==="splom"&&A&&A.matrix&&h(f,M,A)}}function h(f,S,v){for(var l=v.matrixOptions.data.length,g=S._visibleDims,M=v.viewOpts.ranges=new Array(l),A=0;A<g.length;A++){var k=g[A],w=M[A]=new Array(4),E=d(f,S._diag[k][0]);E&&(w[0]=E.r2l(E.range[0]),w[2]=E.r2l(E.range[1]));var b=d(f,S._diag[k][1]);b&&(w[1]=b.r2l(b.range[0]),w[3]=b.r2l(b.range[1]))}v.selectBatch.length||v.unselectBatch.length?v.matrix.update({ranges:M},{ranges:M}):v.matrix.update({ranges:M})}function u(f){var S=f._fullLayout,v=S._glcanvas.data()[0].regl,l=S._splomGrid;l||(l=S._splomGrid=p(v)),l.update(s(f))}function s(f){var S=f._context.plotGlPixelRatio,v=f._fullLayout,l=v._size,g=[0,0,v.width*S,v.height*S],M={},A;function k(Y,q,ne,oe,he,J){ne*=S,oe*=S,he*=S,J*=S;var Z=q[Y+"color"],se=q[Y+"width"],$=String(Z+se);$ in M?M[$].data.push(NaN,NaN,ne,oe,he,J):M[$]={data:[ne,oe,he,J],join:"rect",thickness:se*S,color:Z,viewport:g,range:g,overlay:!1}}for(A in v._splomSubplots){var w=v._plots[A],E=w.xaxis,b=w.yaxis,o=E._gridVals,P=b._gridVals,x=E._offset,z=E._length,_=b._length,G=l.b+b.domain[0]*l.h,F=-b._m,N=-F*b.r2l(b.range[0],b.calendar),U,O;if(E.showgrid)for(A=0;A<o.length;A++)U=x+E.l2p(o[A].x),k("grid",E,U,G,U,G+_);if(b.showgrid)for(A=0;A<P.length;A++)O=G+N+F*P[A].x,k("grid",b,x,O,x+z,O);y(f,E,b)&&(U=x+E.l2p(0),k("zeroline",E,U,G,U,G+_)),y(f,b,E)&&(O=G+N+0,k("zeroline",b,x,O,x+z,O))}var H=[];for(A in M)H.push(M[A]);return H}function m(f,S,v,l){var g={},M;if(l._splomScenes){for(M=0;M<f.length;M++){var A=f[M];A.type==="splom"&&(g[A.uid]=1)}for(M=0;M<v.length;M++){var k=v[M];if(!g[k.uid]){var w=l._splomScenes[k.uid];w&&w.destroy&&w.destroy(),l._splomScenes[k.uid]=null,delete l._splomScenes[k.uid]}}}Object.keys(l._splomScenes||{}).length===0&&delete l._splomScenes,l._splomGrid&&!S._hasOnlyLargeSploms&&l._hasOnlyLargeSploms&&(l._splomGrid.destroy(),l._splomGrid=null,delete l._splomGrid),T.clean(f,S,v,l)}V.exports={name:r,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:i,drag:a,updateGrid:u,clean:m,updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:t}},87625:function(V,B,e){var p=e(71828),L=e(41675),n=e(47761).calcMarkerSize,C=e(47761).calcAxisExpansion,T=e(36922),d=e(19635).markerSelection,y=e(19635).markerStyle,r=e(10164),t=e(50606).BADNUM,i=e(78232).TOO_MANY_POINTS;V.exports=function(h,u){var s=u.dimensions,m=u._length,f={},S=f.cdata=[],v=f.data=[],l=u._visibleDims=[],g,M,A,k,w;function E(z,_){for(var G=z.makeCalcdata({v:_.values,vcalendar:u.calendar},"v"),F=0;F<G.length;F++)G[F]=G[F]===t?NaN:G[F];S.push(G),v.push(z.type==="log"?p.simpleMap(G,z.c2l):G)}for(g=0;g<s.length;g++)if(A=s[g],A.visible){if(k=L.getFromId(h,u._diag[g][0]),w=L.getFromId(h,u._diag[g][1]),k&&w&&k.type!==w.type){p.log("Skipping splom dimension "+g+" with conflicting axis types");continue}k?(E(k,A),w&&w.type==="category"&&(w._categories=k._categories.slice())):E(w,A),l.push(g)}T(h,u),p.extendFlat(f,y(h,u));var b=S.length,o=b*m>i,P;for(o?P=f.sizeAvg||Math.max(f.size,3):P=n(u,m),M=0;M<l.length;M++)g=l[M],A=s[g],k=L.getFromId(h,u._diag[g][0])||{},w=L.getFromId(h,u._diag[g][1])||{},C(h,u,k,w,S[M],S[M],P);var x=r(h,u);return x.matrix||(x.matrix=!0),x.matrixOptions=f,x.selectedOptions=d(h,u,u.selected),x.unselectedOptions=d(h,u,u.unselected),[{x:!1,y:!1,t:{},trace:u}]}},25784:function(V,B,e){var p=e(71828),L=e(85501),n=e(46880),C=e(34098),T=e(49508),d=e(94397),y=e(68645).isOpenSymbol;V.exports=function(a,h,u,s){function m(k,w){return p.coerce(a,h,n,k,w)}var f=L(a,h,{name:"dimensions",handleItemDefaults:r}),S=m("diagonal.visible"),v=m("showupperhalf"),l=m("showlowerhalf"),g=d(h,f,"values");if(!g||!S&&!v&&!l){h.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),T(a,h,u,s,m,{noAngleRef:!0,noStandOff:!0});var M=y(h.marker.symbol),A=C.isBubble(h);m("marker.line.width",M||A?1:0),t(a,h,s,m),p.coerceSelectionMarkerOpacity(h,m)};function r(i,a){function h(s,m){return p.coerce(i,a,n.dimensions,s,m)}h("label");var u=h("values");u&&u.length?h("visible"):a.visible=!1,h("axis.type"),h("axis.matches")}function t(i,a,h,u){var s=a.dimensions,m=s.length,f=a.showupperhalf,S=a.showlowerhalf,v=a.diagonal.visible,l,g,M=new Array(m),A=new Array(m);for(l=0;l<m;l++){var k=l?l+1:"";M[l]="x"+k,A[l]="y"+k}var w=u("xaxes",M),E=u("yaxes",A),b=a._diag=new Array(m);a._xaxes={},a._yaxes={};var o=[],P=[];function x(Y,q,ne,oe){if(Y){var he=Y.charAt(0),J=h._splomAxes[he];if(a["_"+he+"axes"][Y]=1,oe.push(Y),!(Y in J)){var Z=J[Y]={};ne&&(Z.label=ne.label||"",ne.visible&&ne.axis&&(ne.axis.type&&(Z.type=ne.axis.type),ne.axis.matches&&(Z.matches=q)))}}}var z=!v&&!S,_=!v&&!f;for(a._axesDim={},l=0;l<m;l++){var G=s[l],F=l===0,N=l===m-1,U=F&&z||N&&_?void 0:w[l],O=F&&_||N&&z?void 0:E[l];x(U,O,G,o),x(O,U,G,P),b[l]=[U,O],a._axesDim[U]=l,a._axesDim[O]=l}for(l=0;l<o.length;l++)for(g=0;g<P.length;g++){var H=o[l]+P[g];(l>g&&f||l<g&&S||l===g&&(v||!S||!f))&&(h._splomSubplots[H]=1)}(!S||!v&&f&&S)&&(h._splomGridDflt.xside="bottom",h._splomGridDflt.yside="left")}},28801:function(V,B,e){var p=e(71828),L=e(36922),n=e(19635).markerStyle;V.exports=function(T,d){var y=d.trace,r=T._fullLayout._splomScenes[y.uid];if(r){L(T,y),p.extendFlat(r.matrixOptions,n(T,y));var t=p.extendFlat({},r.matrixOptions,r.viewOpts);r.matrix.update(t,null)}}},35948:function(V,B){B.getDimIndex=function(p,L){for(var n=L._id,C=n.charAt(0),T={x:0,y:1}[C],d=p._visibleDims,y=0;y<d.length;y++){var r=d[y];if(p._diag[r][T]===n)return y}return!1}},8567:function(V,B,e){var p=e(35948),L=e(20794).calcHover;function n(C,T,d){var y=C.cd,r=y[0].trace,t=C.scene,i=t.matrixOptions.cdata,a=C.xa,h=C.ya,u=a.c2p(T),s=h.c2p(d),m=C.distance,f=p.getDimIndex(r,a),S=p.getDimIndex(r,h);if(f===!1||S===!1)return[C];for(var v=i[f],l=i[S],g,M,A=m,k=0;k<v.length;k++){var w=v[k],E=l[k],b=a.c2p(w)-u,o=h.c2p(E)-s,P=Math.sqrt(b*b+o*o);P<A&&(A=M=P,g=k)}return C.index=g,C.distance=A,C.dxy=M,g===void 0?[C]:[L(C,v,l,r)]}V.exports={hoverPoints:n}},6419:function(V,B,e){var p=e(65017);p.basePlotModule=e(16947),V.exports=p},79410:function(V,B,e){var p=e(60487),L=e(71828),n=e(41675),C=e(64505).selectMode;V.exports=function(y,r,t){if(t.length)for(var i=0;i<t.length;i++)T(y,t[i][0])};function T(d,y){var r=d._fullLayout,t=r._size,i=y.trace,a=y.t,h=r._splomScenes[i.uid],u=h.matrixOptions,s=u.cdata,m=r._glcanvas.data()[0].regl,f=r.dragmode,S,v,l,g,M;if(s.length!==0){u.lower=i.showupperhalf,u.upper=i.showlowerhalf,u.diagonal=i.diagonal.visible;var A=i._visibleDims,k=s.length,w=h.viewOpts={};for(w.ranges=new Array(k),w.domains=new Array(k),M=0;M<A.length;M++){l=A[M];var E=w.ranges[M]=new Array(4),b=w.domains[M]=new Array(4);S=n.getFromId(d,i._diag[l][0]),S&&(E[0]=S._rl[0],E[2]=S._rl[1],b[0]=S.domain[0],b[2]=S.domain[1]),v=n.getFromId(d,i._diag[l][1]),v&&(E[1]=v._rl[0],E[3]=v._rl[1],b[1]=v.domain[0],b[3]=v.domain[1])}var o=d._context.plotGlPixelRatio,P=t.l*o,x=t.b*o,z=t.w*o,_=t.h*o;w.viewport=[P,x,z+P,_+x],h.matrix===!0&&(h.matrix=p(m));var G=r.clickmode.indexOf("select")>-1,F=C(f)||!!i.selectedpoints||G,N=!0;if(F){var U=i._length;if(i.selectedpoints){h.selectBatch=i.selectedpoints;var O=i.selectedpoints,H={};for(l=0;l<O.length;l++)H[O[l]]=!0;var Y=[];for(l=0;l<U;l++)H[l]||Y.push(l);h.unselectBatch=Y}var q=a.xpx=new Array(k),ne=a.ypx=new Array(k);for(M=0;M<A.length;M++){if(l=A[M],S=n.getFromId(d,i._diag[l][0]),S)for(q[M]=new Array(U),g=0;g<U;g++)q[M][g]=S.c2p(s[M][g]);if(v=n.getFromId(d,i._diag[l][1]),v)for(ne[M]=new Array(U),g=0;g<U;g++)ne[M][g]=v.c2p(s[M][g])}if(h.selectBatch.length||h.unselectBatch.length){var oe=L.extendFlat({},u,h.unselectedOptions,w),he=L.extendFlat({},u,h.selectedOptions,w);h.matrix.update(oe,he),N=!1}}else a.xpx=a.ypx=null;if(N){var J=L.extendFlat({},u,w);h.matrix.update(J,null)}}}},10164:function(V,B,e){var p=e(71828);V.exports=function(n,C){var T=n._fullLayout,d=C.uid,y=T._splomScenes;y||(y=T._splomScenes={});var r={dirty:!0,selectBatch:[],unselectBatch:[]},t={matrix:!1,selectBatch:[],unselectBatch:[]},i=y[C.uid];return i||(i=y[d]=p.extendFlat({},r,t),i.draw=function(){i.matrix&&i.matrix.draw&&(i.selectBatch.length||i.unselectBatch.length?i.matrix.draw(i.unselectBatch,i.selectBatch):i.matrix.draw()),i.dirty=!1},i.destroy=function(){i.matrix&&i.matrix.destroy&&i.matrix.destroy(),i.matrixOptions=null,i.selectBatch=null,i.unselectBatch=null,i=null}),i.dirty||p.extendFlat(i,r),i}},8689:function(V,B,e){var p=e(71828),L=p.pushUnique,n=e(34098),C=e(35948);V.exports=function(d,y){var r=d.cd,t=r[0].trace,i=r[0].t,a=d.scene,h=a.matrixOptions.cdata,u=d.xaxis,s=d.yaxis,m=[];if(!a)return m;var f=!n.hasMarkers(t)&&!n.hasText(t);if(t.visible!==!0||f)return m;var S=C.getDimIndex(t,u),v=C.getDimIndex(t,s);if(S===!1||v===!1)return m;var l=i.xpx[S],g=i.ypx[v],M=h[S],A=h[v],k=(d.scene.selectBatch||[]).slice(),w=[];if(y!==!1&&!y.degenerate)for(var E=0;E<M.length;E++)y.contains([l[E],g[E]],null,E,d)?(m.push({pointNumber:E,x:M[E],y:A[E]}),L(k,E)):k.indexOf(E)!==-1?L(k,E):w.push(E);var b=a.matrixOptions;return!k.length&&!w.length?a.matrix.update(b,null):!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,p.extendFlat({},b,a.selectedOptions,a.viewOpts)),a.selectBatch=k,a.unselectBatch=w,m}},21850:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(2418),T=e(9012),d=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:d({},T.showlegend,{dflt:!1})};d(y,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var r=["opacity","lightposition","lighting"];r.forEach(function(t){y[t]=C[t]}),y.hoverinfo=d({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,V.exports=y},88489:function(V,B,e){var p=e(71828),L=e(78803);function n(y,r){r._len=Math.min(r.u.length,r.v.length,r.w.length,r.x.length,r.y.length,r.z.length),r._u=d(r.u,r._len),r._v=d(r.v,r._len),r._w=d(r.w,r._len),r._x=d(r.x,r._len),r._y=d(r.y,r._len),r._z=d(r.z,r._len);var t=C(r);r._gridFill=t.fill,r._Xs=t.Xs,r._Ys=t.Ys,r._Zs=t.Zs,r._len=t.len;var i=0,a,h,u;r.starts&&(a=d(r.starts.x||[]),h=d(r.starts.y||[]),u=d(r.starts.z||[]),i=Math.min(a.length,h.length,u.length)),r._startsX=a||[],r._startsY=h||[],r._startsZ=u||[];var s=0,m=1/0,f;for(f=0;f<r._len;f++){var S=r._u[f],v=r._v[f],l=r._w[f],g=Math.sqrt(S*S+v*v+l*l);s=Math.max(s,g),m=Math.min(m,g)}for(L(y,r,{vals:[m,s],containerStr:"",cLetter:"c"}),f=0;f<i;f++){var M=a[f];t.xMax=Math.max(t.xMax,M),t.xMin=Math.min(t.xMin,M);var A=h[f];t.yMax=Math.max(t.yMax,A),t.yMin=Math.min(t.yMin,A);var k=u[f];t.zMax=Math.max(t.zMax,k),t.zMin=Math.min(t.zMin,k)}r._slen=i,r._normMax=s,r._xbnds=[t.xMin,t.xMax],r._ybnds=[t.yMin,t.yMax],r._zbnds=[t.zMin,t.zMax]}function C(y){var r=y._x,t=y._y,i=y._z,a=y._len,h,u,s,m=-1/0,f=1/0,S=-1/0,v=1/0,l=-1/0,g=1/0,M="",A,k,w,E,b,o,P,x,z;for(a&&(E=r[0],o=t[0],x=i[0]),a>1&&(b=r[a-1],P=t[a-1],z=i[a-1]),h=0;h<a;h++)m=Math.max(m,r[h]),f=Math.min(f,r[h]),S=Math.max(S,t[h]),v=Math.min(v,t[h]),l=Math.max(l,i[h]),g=Math.min(g,i[h]),!A&&r[h]!==E&&(A=!0,M+="x"),!k&&t[h]!==o&&(k=!0,M+="y"),!w&&i[h]!==x&&(w=!0,M+="z");A||(M+="x"),k||(M+="y"),w||(M+="z");var _=T(y._x),G=T(y._y),F=T(y._z);M=M.replace("x",(E>b?"-":"+")+"x"),M=M.replace("y",(o>P?"-":"+")+"y"),M=M.replace("z",(x>z?"-":"+")+"z");var N=function(){a=0,_=[],G=[],F=[]};(!a||a<_.length*G.length*F.length)&&N();var U=function(ce){return ce==="x"?r:ce==="y"?t:i},O=function(ce){return ce==="x"?_:ce==="y"?G:F},H=function(ce){return ce[a-1]<ce[0]?-1:1},Y=U(M[1]),q=U(M[3]),ne=U(M[5]),oe=O(M[1]).length,he=O(M[3]).length,J=O(M[5]).length,Z=!1,se=function(ce,xe,Le){return oe*(he*ce+xe)+Le},$=H(U(M[1])),ee=H(U(M[3])),le=H(U(M[5]));for(h=0;h<J-1;h++){for(u=0;u<he-1;u++){for(s=0;s<oe-1;s++){var Q=se(h,u,s),K=se(h,u,s+1),ue=se(h,u+1,s),ie=se(h+1,u,s);if((!(Y[Q]*$<Y[K]*$)||!(q[Q]*ee<q[ue]*ee)||!(ne[Q]*le<ne[ie]*le))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:f,yMin:v,zMin:g,xMax:m,yMax:S,zMax:l,Xs:_,Ys:G,Zs:F,len:a,fill:M}}function T(y){return p.distinctVals(y).vals}function d(y,r){if(r===void 0&&(r=y.length),p.isTypedArray(y))return y.subarray(0,r);for(var t=[],i=0;i<r;i++)t[i]=+y[i];return t}V.exports={calc:n,filter:d,processGrid:C}},90154:function(V,B,e){var p=e(9330).gl_streamtube3d,L=p.createTubeMesh,n=e(71828),C=e(81697).parseColorScale,T=e(21081).extractOpts,d=e(90060),y={xaxis:0,yaxis:1,zaxis:2};function r(s,m){this.scene=s,this.uid=m,this.mesh=null,this.data=null}var t=r.prototype;t.handlePick=function(s){var m=this.scene.fullSceneLayout,f=this.scene.dataScale;function S(g,M){var A=m[M],k=f[y[M]];return A.l2c(g)/k}if(s.object===this.mesh){var v=s.data.position,l=s.data.velocity;return s.traceCoordinate=[S(v[0],"xaxis"),S(v[1],"yaxis"),S(v[2],"zaxis"),S(l[0],"xaxis"),S(l[1],"yaxis"),S(l[2],"zaxis"),s.data.intensity*this.data._normMax,s.data.divergence],s.textLabel=this.data.hovertext||this.data.text,!0}};function i(s){var m=s.length,f;return m>2?f=s.slice(1,m-1):m===2?f=[(s[0]+s[1])/2]:f=s,f}function a(s){var m=s.length;return m===1?[.5,.5]:[s[1]-s[0],s[m-1]-s[m-2]]}function h(s,m){var f=s.fullSceneLayout,S=s.dataScale,v=m._len,l={};function g(he,J){var Z=f[J],se=S[y[J]];return n.simpleMap(he,function($){return Z.d2l($)*se})}if(l.vectors=d(g(m._u,"xaxis"),g(m._v,"yaxis"),g(m._w,"zaxis"),v),!v)return{positions:[],cells:[]};var M=g(m._Xs,"xaxis"),A=g(m._Ys,"yaxis"),k=g(m._Zs,"zaxis");l.meshgrid=[M,A,k],l.gridFill=m._gridFill;var w=m._slen;if(w)l.startingPositions=d(g(m._startsX,"xaxis"),g(m._startsY,"yaxis"),g(m._startsZ,"zaxis"));else{for(var E=A[0],b=i(M),o=i(k),P=new Array(b.length*o.length),x=0,z=0;z<b.length;z++)for(var _=0;_<o.length;_++)P[x++]=[b[z],E,o[_]];l.startingPositions=P}l.colormap=C(m),l.tubeSize=m.sizeref,l.maxLength=m.maxdisplayed;var G=g(m._xbnds,"xaxis"),F=g(m._ybnds,"yaxis"),N=g(m._zbnds,"zaxis"),U=a(M),O=a(A),H=a(k),Y=[[G[0]-U[0],F[0]-O[0],N[0]-H[0]],[G[1]+U[1],F[1]+O[1],N[1]+H[1]]],q=p(l,Y),ne=T(m);q.vertexIntensityBounds=[ne.min/m._normMax,ne.max/m._normMax];var oe=m.lightposition;return q.lightPosition=[oe.x,oe.y,oe.z],q.ambient=m.lighting.ambient,q.diffuse=m.lighting.diffuse,q.specular=m.lighting.specular,q.roughness=m.lighting.roughness,q.fresnel=m.lighting.fresnel,q.opacity=m.opacity,m._pad=q.tubeScale*m.sizeref*2,q}t.update=function(s){this.data=s;var m=h(this.scene,s);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function u(s,m){var f=s.glplot.gl,S=h(s,m),v=L(f,S),l=new r(s,m.uid);return l.mesh=v,l.data=m,v._trace=l,s.glplot.add(v),l}V.exports=u},22459:function(V,B,e){var p=e(71828),L=e(1586),n=e(21850);V.exports=function(T,d,y,r){function t(f,S){return p.coerce(T,d,n,f,S)}var i=t("u"),a=t("v"),h=t("w"),u=t("x"),s=t("y"),m=t("z");if(!i||!i.length||!a||!a.length||!h||!h.length||!u||!u.length||!s||!s.length||!m||!m.length){d.visible=!1;return}t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),L(T,d,r,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),d._length=null}},61510:function(V,B,e){V.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},57564:function(V,B,e){var p=e(9012),L=e(5386).fF,n=e(5386).si,C=e(50693),T=e(27670).Y,d=e(34e3),y=e(7055),r=e(1426).extendFlat,t=e(79952).u;V.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:r({colors:{valType:"data_array",editType:"calc"},line:{color:r({},d.marker.line.color,{dflt:null}),width:r({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:t,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:d.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:d.hovertext,hoverinfo:r({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:y.eventDataKeys}),textfont:d.textfont,insidetextorientation:d.insidetextorientation,insidetextfont:d.insidetextfont,outsidetextfont:r({},d.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:d.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(V,B,e){var p=e(74875);B.name="sunburst",B.plot=function(L,n,C,T){p.plotBasePlot(B.name,L,n,C,T)},B.clean=function(L,n,C,T){p.cleanBasePlot(B.name,L,n,C,T)}},52147:function(V,B,e){var p=e(674),L=e(92770),n=e(71828),C=e(21081).makeColorScaleFuncFromTrace,T=e(32354).makePullColorFn,d=e(32354).generateExtendedColors,y=e(21081).calc,r=e(50606).ALMOST_EQUAL,t={},i={},a={};B.calc=function(u,s){var m=u._fullLayout,f=s.ids,S=n.isArrayOrTypedArray(f),v=s.labels,l=s.parents,g=s.values,M=n.isArrayOrTypedArray(g),A=[],k={},w={},E=function($,ee){k[$]?k[$].push(ee):k[$]=[ee],w[ee]=1},b=function($){return $||typeof $=="number"},o=function($){return!M||L(g[$])&&g[$]>=0},P,x,z;S?(P=Math.min(f.length,l.length),x=function($){return b(f[$])&&o($)},z=function($){return String(f[$])}):(P=Math.min(v.length,l.length),x=function($){return b(v[$])&&o($)},z=function($){return String(v[$])}),M&&(P=Math.min(P,g.length));for(var _=0;_<P;_++)if(x(_)){var G=z(_),F=b(l[_])?String(l[_]):"",N={i:_,id:G,pid:F,label:b(v[_])?String(v[_]):""};M&&(N.v=+g[_]),A.push(N),E(F,G)}if(k[""]){if(k[""].length>1){for(var H=n.randstr(),Y=0;Y<A.length;Y++)A[Y].pid===""&&(A[Y].pid=H);A.unshift({hasMultipleRoots:!0,id:H,pid:"",label:""})}}else{var U=[],O;for(O in k)w[O]||U.push(O);if(U.length===1)O=U[0],A.unshift({hasImpliedRoot:!0,id:O,pid:"",label:O});else return n.warn(["Multiple implied roots, cannot build",s.type,"hierarchy of",s.name+".","These roots include:",U.join(", ")].join(" "))}var q;try{q=p.stratify().id(function($){return $.id}).parentId(function($){return $.pid})(A)}catch($){return n.warn(["Failed to build",s.type,"hierarchy of",s.name+".","Error:",$.message].join(" "))}var ne=p.hierarchy(q),oe=!1;if(M)switch(s.branchvalues){case"remainder":ne.sum(function($){return $.data.v});break;case"total":ne.each(function($){var ee=$.data.data,le=ee.v;if($.children){var Q=$.children.reduce(function(K,ue){return K+ue.data.data.v},0);if((ee.hasImpliedRoot||ee.hasMultipleRoots)&&(le=Q),le<Q*r)return oe=!0,n.warn(["Total value for node",$.data.data.id,"of",s.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,Q].join(" "))}$.value=le});break}else h(ne,s,{branches:s.count.indexOf("branches")!==-1,leaves:s.count.indexOf("leaves")!==-1});if(!oe){s.sort&&ne.sort(function($,ee){return ee.value-$.value});var he,J,Z=s.marker.colors||[],se=!!Z.length;return s._hasColorscale?(se||(Z=M?s.values:s._values),y(u,s,{vals:Z,containerStr:"marker",cLetter:"c"}),J=C(s.marker)):he=T(m["_"+s.type+"colormap"]),ne.each(function($){var ee=$.data.data;ee.color=s._hasColorscale?J(Z[ee.i]):he(Z[ee.i],ee.id)}),A[0].hierarchy=ne,A}},B._runCrossTraceCalc=function(u,s){var m=s._fullLayout,f=s.calcdata,S=m[u+"colorway"],v=m["_"+u+"colormap"];m["extend"+u+"colors"]&&(S=d(S,u==="icicle"?a:u==="treemap"?i:t));var l=0,g;function M(E){var b=E.data.data,o=b.id;b.color===!1&&(v[o]?b.color=v[o]:E.parent?E.parent.parent?b.color=E.parent.data.data.color:(v[o]=b.color=S[l%S.length],l++):b.color=g)}for(var A=0;A<f.length;A++){var k=f[A],w=k[0];w.trace.type===u&&w.hierarchy&&(g=w.trace.root.color,w.hierarchy.each(M))}},B.crossTraceCalc=function(u){return B._runCrossTraceCalc("sunburst",u)};function h(u,s,m){var f=0,S=u.children;if(S){for(var v=S.length,l=0;l<v;l++)f+=h(S[l],s,m);m.branches&&f++}else m.leaves&&f++;return u.value=u.data.data.value=f,s._values||(s._values=[]),s._values[u.data.data.i]=f,f}},7055:function(V){V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(V,B,e){var p=e(71828),L=e(57564),n=e(27670).c,C=e(90769).handleText,T=e(37434).handleMarkerDefaults,d=e(21081),y=d.hasColorscale,r=d.handleDefaults;V.exports=function(i,a,h,u){function s(M,A){return p.coerce(i,a,L,M,A)}var m=s("labels"),f=s("parents");if(!m||!m.length||!f||!f.length){a.visible=!1;return}var S=s("values");S&&S.length?s("branchvalues"):s("count"),s("level"),s("maxdepth"),T(i,a,u,s);var v=a._hasColorscale=y(i,"marker","colors")||(i.marker||{}).coloraxis;v&&r(i,a,u,s,{prefix:"marker.",cLetter:"c"}),s("leaf.opacity",v?1:.7);var l=s("text");s("texttemplate"),a.texttemplate||s("textinfo",p.isArrayOrTypedArray(l)?"text+label":"label"),s("hovertext"),s("hovertemplate");var g="auto";C(i,a,u,s,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),s("insidetextorientation"),s("sort"),s("rotation"),s("root.color"),n(a,u,s),a._length=null}},43467:function(V,B,e){var p=e(91424),L=e(7901);V.exports=function(C,T,d,y,r){var t=T.data.data,i=t.i,a=r||t.color;if(i>=0){T.i=t.i;var h=d.marker;h.pattern?(!h.colors||!h.pattern.shape)&&(h.color=a,T.color=a):(h.color=a,T.color=a),p.pointStyle(C,d,y,T)}else L.fill(C,a)}},83523:function(V,B,e){var p=e(39898),L=e(73972),n=e(23469).appendArrayPointValue,C=e(30211),T=e(71828),d=e(11086),y=e(2791),r=e(53581),t=r.formatPieValue;V.exports=function(h,u,s,m,f){var S=m[0],v=S.trace,l=S.hierarchy,g=v.type==="sunburst",M=v.type==="treemap"||v.type==="icicle";"_hasHoverLabel"in v||(v._hasHoverLabel=!1),"_hasHoverEvent"in v||(v._hasHoverEvent=!1);var A=function(E){var b=s._fullLayout;if(!(s._dragging||b.hovermode===!1)){var o=s._fullData[v.index],P=E.data.data,x=P.i,z=y.isHierarchyRoot(E),_=y.getParent(l,E),G=y.getValue(E),F=function(K){return T.castOption(o,x,K)},N=F("hovertemplate"),U=C.castHoverinfo(o,b,x),O=b.separators,H;if(N||U&&U!=="none"&&U!=="skip"){var Y,q;g&&(Y=S.cx+E.pxmid[0]*(1-E.rInscribed),q=S.cy+E.pxmid[1]*(1-E.rInscribed)),M&&(Y=E._hoverX,q=E._hoverY);var ne={},oe=[],he=[],J=function(K){return oe.indexOf(K)!==-1};U&&(oe=U==="all"?o._module.attributes.hoverinfo.flags:U.split("+")),ne.label=P.label,J("label")&&ne.label&&he.push(ne.label),P.hasOwnProperty("v")&&(ne.value=P.v,ne.valueLabel=t(ne.value,O),J("value")&&he.push(ne.valueLabel)),ne.currentPath=E.currentPath=y.getPath(E.data),J("current path")&&!z&&he.push(ne.currentPath);var Z,se=[],$=function(){se.indexOf(Z)===-1&&(he.push(Z),se.push(Z))};ne.percentParent=E.percentParent=G/y.getValue(_),ne.parent=E.parentString=y.getPtLabel(_),J("percent parent")&&(Z=y.formatPercent(ne.percentParent,O)+" of "+ne.parent,$()),ne.percentEntry=E.percentEntry=G/y.getValue(u),ne.entry=E.entry=y.getPtLabel(u),J("percent entry")&&!z&&!E.onPathbar&&(Z=y.formatPercent(ne.percentEntry,O)+" of "+ne.entry,$()),ne.percentRoot=E.percentRoot=G/y.getValue(l),ne.root=E.root=y.getPtLabel(l),J("percent root")&&!z&&(Z=y.formatPercent(ne.percentRoot,O)+" of "+ne.root,$()),ne.text=F("hovertext")||F("text"),J("text")&&(Z=ne.text,T.isValidTextValue(Z)&&he.push(Z)),H=[i(E,o,f.eventDataKeys)];var ee={trace:o,y:q,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:he.join("<br>"),name:N||J("name")?o.name:void 0,color:F("hoverlabel.bgcolor")||P.color,borderColor:F("hoverlabel.bordercolor"),fontFamily:F("hoverlabel.font.family"),fontSize:F("hoverlabel.font.size"),fontColor:F("hoverlabel.font.color"),nameLength:F("hoverlabel.namelength"),textAlign:F("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:ne,eventData:H};g&&(ee.x0=Y-E.rInscribed*E.rpx1,ee.x1=Y+E.rInscribed*E.rpx1,ee.idealAlign=E.pxmid[0]<0?"left":"right"),M&&(ee.x=Y,ee.idealAlign=Y<0?"left":"right");var le=[];C.loneHover(ee,{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:s,inOut_bbox:le}),H[0].bbox=le[0],v._hasHoverLabel=!0}if(M){var Q=h.select("path.surface");f.styleOne(Q,E,o,s,{hovered:!0})}v._hasHoverEvent=!0,s.emit("plotly_hover",{points:H||[i(E,o,f.eventDataKeys)],event:p.event})}},k=function(E){var b=s._fullLayout,o=s._fullData[v.index],P=p.select(this).datum();if(v._hasHoverEvent&&(E.originalEvent=p.event,s.emit("plotly_unhover",{points:[i(P,o,f.eventDataKeys)],event:p.event}),v._hasHoverEvent=!1),v._hasHoverLabel&&(C.loneUnhover(b._hoverlayer.node()),v._hasHoverLabel=!1),M){var x=h.select("path.surface");f.styleOne(x,P,o,s,{hovered:!1})}},w=function(E){var b=s._fullLayout,o=s._fullData[v.index],P=g&&(y.isHierarchyRoot(E)||y.isLeaf(E)),x=y.getPtId(E),z=y.isEntry(E)?y.findEntryWithChild(l,x):y.findEntryWithLevel(l,x),_=y.getPtId(z),G={points:[i(E,o,f.eventDataKeys)],event:p.event};P||(G.nextLevel=_);var F=d.triggerHandler(s,"plotly_"+v.type+"click",G);if(F!==!1&&b.hovermode&&(s._hoverdata=[i(E,o,f.eventDataKeys)],C.click(s,p.event)),!P&&F!==!1&&!s._dragging&&!s._transitioning){L.call("_storeDirectGUIEdit",o,b._tracePreGUI[o.uid],{level:o.level});var N={data:[{level:_}],traces:[v.index]},U={frame:{redraw:!1,duration:f.transitionTime},transition:{duration:f.transitionTime,easing:f.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(b._hoverlayer.node()),L.call("animate",s,N,U)}};h.on("mouseover",A),h.on("mouseout",k),h.on("click",w)};function i(a,h,u){for(var s=a.data.data,m={curveNumber:h.index,pointNumber:s.i,data:h._input,fullData:h},f=0;f<u.length;f++){var S=u[f];S in a&&(m[S]=a[S])}return"parentString"in a&&!y.isHierarchyRoot(a)&&(m.parent=a.parentString),n(m,h,s.i),m}},2791:function(V,B,e){var p=e(71828),L=e(7901),n=e(6964),C=e(53581);B.findEntryWithLevel=function(r,t){var i;return t&&r.eachAfter(function(a){if(B.getPtId(a)===t)return i=a.copy()}),i||r},B.findEntryWithChild=function(r,t){var i;return r.eachAfter(function(a){for(var h=a.children||[],u=0;u<h.length;u++){var s=h[u];if(B.getPtId(s)===t)return i=a.copy()}}),i||r},B.isEntry=function(r){return!r.parent},B.isLeaf=function(r){return!r.children},B.getPtId=function(r){return r.data.data.id},B.getPtLabel=function(r){return r.data.data.label},B.getValue=function(r){return r.value},B.isHierarchyRoot=function(r){return y(r)===""},B.setSliceCursor=function(r,t,i){var a=i.isTransitioning;if(!a){var h=r.datum();a=i.hideOnRoot&&B.isHierarchyRoot(h)||i.hideOnLeaves&&B.isLeaf(h)}n(r,a?null:"pointer")};function T(r,t,i){return{color:B.getOutsideTextFontKey("color",r,t,i),family:B.getOutsideTextFontKey("family",r,t,i),size:B.getOutsideTextFontKey("size",r,t,i)}}function d(r,t,i,a){var h=(a||{}).onPathbar,u=t.data.data,s=u.i,m=p.castOption(r,s,(h?"pathbar.textfont":"insidetextfont")+".color");return!m&&r._input.textfont&&(m=p.castOption(r._input,s,"textfont.color")),{color:m||L.contrast(u.color),family:B.getInsideTextFontKey("family",r,t,i,a),size:B.getInsideTextFontKey("size",r,t,i,a)}}B.getInsideTextFontKey=function(r,t,i,a,h){var u=(h||{}).onPathbar,s=u?"pathbar.textfont":"insidetextfont",m=i.data.data.i;return p.castOption(t,m,s+"."+r)||p.castOption(t,m,"textfont."+r)||a.size},B.getOutsideTextFontKey=function(r,t,i,a){var h=i.data.data.i;return p.castOption(t,h,"outsidetextfont."+r)||p.castOption(t,h,"textfont."+r)||a.size},B.isOutsideText=function(r,t){return!r._hasColorscale&&B.isHierarchyRoot(t)},B.determineTextFont=function(r,t,i,a){return B.isOutsideText(r,t)?T(r,t,i):d(r,t,i,a)},B.hasTransition=function(r){return!!(r&&r.duration>0)},B.getMaxDepth=function(r){return r.maxdepth>=0?r.maxdepth:1/0},B.isHeader=function(r,t){return!(B.isLeaf(r)||r.depth===t._maxDepth-1)};function y(r){return r.data.data.pid}B.getParent=function(r,t){return B.findEntryWithLevel(r,y(t))},B.listPath=function(r,t){var i=r.parent;if(!i)return[];var a=t?[i.data[t]]:[i];return B.listPath(i,t).concat(a)},B.getPath=function(r){return B.listPath(r,"label").join("/")+"/"},B.formatValue=C.formatPieValue,B.formatPercent=function(r,t){var i=p.formatPercent(r,0);return i==="0%"&&(i=C.formatPiePercent(r,t)),i}},87619:function(V,B,e){V.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(V){V.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(V,B,e){var p=e(71828),L=e(2654);V.exports=function(C,T){function d(y,r){return p.coerce(C,T,L,y,r)}d("sunburstcolorway",T.colorway),d("extendsunburstcolors")}},24714:function(V,B,e){var p=e(39898),L=e(674),n=e(81684).sX,C=e(91424),T=e(71828),d=e(63893),y=e(72597),r=y.recordMinTextSize,t=y.clearMinTextSize,i=e(14575),a=e(53581).getRotationAngle,h=i.computeTransform,u=i.transformInsideText,s=e(29969).styleOne,m=e(16688).resizeText,f=e(83523),S=e(7055),v=e(2791);B.plot=function(w,E,b,o){var P=w._fullLayout,x=P._sunburstlayer,z,_,G=!b,F=!P.uniformtext.mode&&v.hasTransition(b);if(t("sunburst",P),z=x.selectAll("g.trace.sunburst").data(E,function(U){return U[0].trace.uid}),z.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),z.order(),F){o&&(_=o());var N=p.transition().duration(b.duration).ease(b.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});N.each(function(){x.selectAll("g.trace").each(function(U){l(w,U,this,b)})})}else z.each(function(U){l(w,U,this,b)}),P.uniformtext.mode&&m(w,P._sunburstlayer.selectAll(".trace"),"sunburst");G&&z.exit().remove()};function l(w,E,b,o){var P=w._context.staticPlot,x=w._fullLayout,z=!x.uniformtext.mode&&v.hasTransition(o),_=p.select(b),G=_.selectAll("g.slice"),F=E[0],N=F.trace,U=F.hierarchy,O=v.findEntryWithLevel(U,N.level),H=v.getMaxDepth(N),Y=x._size,q=N.domain,ne=Y.w*(q.x[1]-q.x[0]),oe=Y.h*(q.y[1]-q.y[0]),he=.5*Math.min(ne,oe),J=F.cx=Y.l+Y.w*(q.x[1]+q.x[0])/2,Z=F.cy=Y.t+Y.h*(1-q.y[0])-oe/2;if(!O)return G.remove();var se=null,$={};z&&G.each(function(Ge){$[v.getPtId(Ge)]={rpx0:Ge.rpx0,rpx1:Ge.rpx1,x0:Ge.x0,x1:Ge.x1,transform:Ge.transform},!se&&v.isEntry(Ge)&&(se=Ge)});var ee=g(O).descendants(),le=O.height+1,Q=0,K=H;F.hasMultipleRoots&&v.isHierarchyRoot(O)&&(ee=ee.slice(1),le-=1,Q=1,K+=1),ee=ee.filter(function(Ge){return Ge.y1<=K});var ue=a(N.rotation);ue&&ee.forEach(function(Ge){Ge.x0+=ue,Ge.x1+=ue});var ie=Math.min(le,H),ce=function(Ge){return(Ge-Q)/ie*he},xe=function(Ge,at){return[Ge*Math.cos(at),-Ge*Math.sin(at)]},Le=function(Ge){return T.pathAnnulus(Ge.rpx0,Ge.rpx1,Ge.x0,Ge.x1,J,Z)},Ae=function(Ge){return J+A(Ge)[0]*(Ge.transform.rCenter||0)+(Ge.transform.x||0)},Oe=function(Ge){return Z+A(Ge)[1]*(Ge.transform.rCenter||0)+(Ge.transform.y||0)};G=G.data(ee,v.getPtId),G.enter().append("g").classed("slice",!0),z?G.exit().transition().each(function(){var Ge=p.select(this),at=Ge.select("path.surface");at.transition().attrTween("d",function(qe){var et=Ce(qe);return function(ft){return Le(et(ft))}});var lt=Ge.select("g.slicetext");lt.attr("opacity",0)}).remove():G.exit().remove(),G.order();var ze=null;if(z&&se){var Ee=v.getPtId(se);G.each(function(Ge){ze===null&&v.getPtId(Ge)===Ee&&(ze=Ge.x1)})}var be=G;z&&(be=be.transition().each("end",function(){var Ge=p.select(this);v.setSliceCursor(Ge,w,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(Ge){var at=p.select(this),lt=T.ensureSingle(at,"path","surface",function(At){At.style("pointer-events",P?"none":"all")});Ge.rpx0=ce(Ge.y0),Ge.rpx1=ce(Ge.y1),Ge.xmid=(Ge.x0+Ge.x1)/2,Ge.pxmid=xe(Ge.rpx1,Ge.xmid),Ge.midangle=-(Ge.xmid-Math.PI/2),Ge.startangle=-(Ge.x0-Math.PI/2),Ge.stopangle=-(Ge.x1-Math.PI/2),Ge.halfangle=.5*Math.min(T.angleDelta(Ge.x0,Ge.x1)||Math.PI,Math.PI),Ge.ring=1-Ge.rpx0/Ge.rpx1,Ge.rInscribed=M(Ge),z?lt.transition().attrTween("d",function(At){var Pt=Ue(At);return function(Ht){return Le(Pt(Ht))}}):lt.attr("d",Le),at.call(f,O,w,E,{eventDataKeys:S.eventDataKeys,transitionTime:S.CLICK_TRANSITION_TIME,transitionEasing:S.CLICK_TRANSITION_EASING}).call(v.setSliceCursor,w,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:w._transitioning}),lt.call(s,Ge,N,w);var qe=T.ensureSingle(at,"g","slicetext"),et=T.ensureSingle(qe,"text","",function(At){At.attr("data-notex",1)}),ft=T.ensureUniformFontSize(w,v.determineTextFont(N,Ge,x.font));et.text(B.formatSliceLabel(Ge,O,N,E,x)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,ft).call(d.convertToTspans,w);var dt=C.bBox(et.node());Ge.transform=u(dt,Ge,F),Ge.transform.targetX=Ae(Ge),Ge.transform.targetY=Oe(Ge);var pt=function(At,Pt){var Ht=At.transform;return h(Ht,Pt),Ht.fontSize=ft.size,r(N.type,Ht,x),T.getTextTransform(Ht)};z?et.transition().attrTween("transform",function(At){var Pt=He(At);return function(Ht){return pt(Pt(Ht),dt)}}):et.attr("transform",pt(Ge,dt))});function Ce(Ge){var at=v.getPtId(Ge),lt=$[at],qe=$[v.getPtId(O)],et;if(qe){var ft=(Ge.x1>qe.x1?2*Math.PI:0)+ue;et=Ge.rpx1<qe.rpx1?{x0:Ge.x0,x1:Ge.x1,rpx0:0,rpx1:0}:{x0:ft,x1:ft,rpx0:Ge.rpx0,rpx1:Ge.rpx1}}else{var dt,pt=v.getPtId(Ge.parent);G.each(function(We){if(v.getPtId(We)===pt)return dt=We});var At=dt.children,Pt;At.forEach(function(We,_e){if(v.getPtId(We)===at)return Pt=_e});var Ht=At.length,Je=n(dt.x0,dt.x1);et={rpx0:he,rpx1:he,x0:Je(Pt/Ht),x1:Je((Pt+1)/Ht)}}return n(lt,et)}function Ue(Ge){var at=$[v.getPtId(Ge)],lt,qe={x0:Ge.x0,x1:Ge.x1,rpx0:Ge.rpx0,rpx1:Ge.rpx1};if(at)lt=at;else if(se)if(Ge.parent)if(ze){var et=(Ge.x1>ze?2*Math.PI:0)+ue;lt={x0:et,x1:et}}else lt={rpx0:he,rpx1:he},T.extendFlat(lt,Ie(Ge));else lt={rpx0:0,rpx1:0};else lt={x0:ue,x1:ue};return n(lt,qe)}function He(Ge){var at=$[v.getPtId(Ge)],lt,qe=Ge.transform;if(at)lt=at;else if(lt={rpx1:Ge.rpx1,transform:{textPosAngle:qe.textPosAngle,scale:0,rotate:qe.rotate,rCenter:qe.rCenter,x:qe.x,y:qe.y}},se)if(Ge.parent)if(ze){var et=Ge.x1>ze?2*Math.PI:0;lt.x0=lt.x1=et}else T.extendFlat(lt,Ie(Ge));else lt.x0=lt.x1=ue;else lt.x0=lt.x1=ue;var ft=n(lt.transform.textPosAngle,Ge.transform.textPosAngle),dt=n(lt.rpx1,Ge.rpx1),pt=n(lt.x0,Ge.x0),At=n(lt.x1,Ge.x1),Pt=n(lt.transform.scale,qe.scale),Ht=n(lt.transform.rotate,qe.rotate),Je=qe.rCenter===0?3:lt.transform.rCenter===0?1/3:1,We=n(lt.transform.rCenter,qe.rCenter),_e=function(Ne){return We(Math.pow(Ne,Je))};return function(Ne){var ke=dt(Ne),we=pt(Ne),me=At(Ne),Me=_e(Ne),Se=xe(ke,(we+me)/2),Ve=ft(Ne),Ze={pxmid:Se,rpx1:ke,transform:{textPosAngle:Ve,rCenter:Me,x:qe.x,y:qe.y}};return r(N.type,qe,x),{transform:{targetX:Ae(Ze),targetY:Oe(Ze),scale:Pt(Ne),rotate:Ht(Ne),rCenter:Me}}}}function Ie(Ge){var at=Ge.parent,lt=$[v.getPtId(at)],qe={};if(lt){var et=at.children,ft=et.indexOf(Ge),dt=et.length,pt=n(lt.x0,lt.x1);qe.x0=pt(ft/dt),qe.x1=pt(ft/dt)}else qe.x0=qe.x1=0;return qe}}function g(w){return L.partition().size([2*Math.PI,w.height+1])(w)}B.formatSliceLabel=function(w,E,b,o,P){var x=b.texttemplate,z=b.textinfo;if(!x&&(!z||z==="none"))return"";var _=P.separators,G=o[0],F=w.data.data,N=G.hierarchy,U=v.isHierarchyRoot(w),O=v.getParent(N,w),H=v.getValue(w);if(!x){var Y=z.split("+"),q=function(Q){return Y.indexOf(Q)!==-1},ne=[],oe;if(q("label")&&F.label&&ne.push(F.label),F.hasOwnProperty("v")&&q("value")&&ne.push(v.formatValue(F.v,_)),!U){q("current path")&&ne.push(v.getPath(w.data));var he=0;q("percent parent")&&he++,q("percent entry")&&he++,q("percent root")&&he++;var J=he>1;if(he){var Z,se=function(Q){oe=v.formatPercent(Z,_),J&&(oe+=" of "+Q),ne.push(oe)};q("percent parent")&&!U&&(Z=H/v.getValue(O),se("parent")),q("percent entry")&&(Z=H/v.getValue(E),se("entry")),q("percent root")&&(Z=H/v.getValue(N),se("root"))}}return q("text")&&(oe=T.castOption(b,F.i,"text"),T.isValidTextValue(oe)&&ne.push(oe)),ne.join("<br>")}var $=T.castOption(b,F.i,"texttemplate");if(!$)return"";var ee={};F.label&&(ee.label=F.label),F.hasOwnProperty("v")&&(ee.value=F.v,ee.valueLabel=v.formatValue(F.v,_)),ee.currentPath=v.getPath(w.data),U||(ee.percentParent=H/v.getValue(O),ee.percentParentLabel=v.formatPercent(ee.percentParent,_),ee.parent=v.getPtLabel(O)),ee.percentEntry=H/v.getValue(E),ee.percentEntryLabel=v.formatPercent(ee.percentEntry,_),ee.entry=v.getPtLabel(E),ee.percentRoot=H/v.getValue(N),ee.percentRootLabel=v.formatPercent(ee.percentRoot,_),ee.root=v.getPtLabel(N),F.hasOwnProperty("color")&&(ee.color=F.color);var le=T.castOption(b,F.i,"text");return(T.isValidTextValue(le)||le==="")&&(ee.text=le),ee.customdata=T.castOption(b,F.i,"customdata"),T.texttemplateString($,ee,P._d3locale,ee,b._meta||{})};function M(w){return w.rpx0===0&&T.isFullCircle([w.x0,w.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(w.halfangle)),w.ring/2))}function A(w){return k(w.rpx1,w.transform.textPosAngle)}function k(w,E){return[w*Math.sin(E),-w*Math.cos(E)]}},29969:function(V,B,e){var p=e(39898),L=e(7901),n=e(71828),C=e(72597).resizeText,T=e(43467);function d(r){var t=r._fullLayout._sunburstlayer.selectAll(".trace");C(r,t,"sunburst"),t.each(function(i){var a=p.select(this),h=i[0],u=h.trace;a.style("opacity",u.opacity),a.selectAll("path.surface").each(function(s){p.select(this).call(y,s,u,r)})})}function y(r,t,i,a){var h=t.data.data,u=!t.children,s=h.i,m=n.castOption(i,s,"marker.line.color")||L.defaultLine,f=n.castOption(i,s,"marker.line.width")||0;r.call(T,t,i,a).style("stroke-width",f).call(L.stroke,m).style("opacity",u?i.leaf.opacity:null)}V.exports={style:d,styleOne:y}},54532:function(V,B,e){var p=e(7901),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).fF,T=e(9012),d=e(1426).extendFlat,y=e(30962).overrideAll;function r(a){return{valType:"boolean",dflt:!1}}function t(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:r(),y:r(),z:r()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=V.exports=y(d({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:d({},L.zauto,{}),zmin:d({},L.zmin,{}),zmax:d({},L.zmax,{})},hoverinfo:d({},T.hoverinfo),showlegend:d({},T.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},18396:function(V,B,e){var p=e(78803);V.exports=function(n,C){C.surfacecolor?p(n,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):p(n,C,{vals:C.z,containerStr:"",cLetter:"c"})}},43768:function(V,B,e){var p=e(9330).gl_surface3d,L=e(9330).ndarray,n=e(9330).ndarray_linear_interpolate.d2,C=e(824),T=e(43907),d=e(71828).isArrayOrTypedArray,y=e(81697).parseColorScale,r=e(78614),t=e(21081).extractOpts;function i(o,P,x){this.scene=o,this.uid=x,this.surface=P,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=i.prototype;a.getXat=function(o,P,x,z){var _=d(this.data.x)?d(this.data.x[0])?this.data.x[P][o]:this.data.x[o]:o;return x===void 0?_:z.d2l(_,0,x)},a.getYat=function(o,P,x,z){var _=d(this.data.y)?d(this.data.y[0])?this.data.y[P][o]:this.data.y[P]:P;return x===void 0?_:z.d2l(_,0,x)},a.getZat=function(o,P,x,z){var _=this.data.z[P][o];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[P][o]),x===void 0?_:z.d2l(_,0,x)},a.handlePick=function(o){if(o.object===this.surface){var P=(o.data.index[0]-1)/this.dataScaleX-1,x=(o.data.index[1]-1)/this.dataScaleY-1,z=Math.max(Math.min(Math.round(P),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(x),this.data._ylength-1),0);o.index=[z,_],o.traceCoordinate=[this.getXat(z,_),this.getYat(z,_),this.getZat(z,_)],o.dataCoordinate=[this.getXat(z,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(z,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(z,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var G=0;G<3;G++){var F=o.dataCoordinate[G];F!=null&&(o.dataCoordinate[G]*=this.scene.dataScale[G])}var N=this.data.hovertext||this.data.text;return d(N)&&N[_]&&N[_][z]!==void 0?o.textLabel=N[_][z]:N?o.textLabel=N:o.textLabel="",o.data.dataCoordinate=o.dataCoordinate.slice(),this.surface.highlight(o.data),this.scene.glplot.spikes.position=o.dataCoordinate,!0}};function h(o){var P=o[0].rgb,x=o[o.length-1].rgb;return P[0]===x[0]&&P[1]===x[1]&&P[2]===x[2]&&P[3]===x[3]}var u=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function s(o,P){if(o<P)return 0;for(var x=0;Math.floor(o%P)===0;)o/=P,x++;return x}function m(o){for(var P=[],x=0;x<u.length;x++){var z=u[x];P.push(s(o,z))}return P}function f(o){for(var P=m(o),x=o,z=0;z<u.length;z++)if(P[z]>0){x=u[z];break}return x}function S(o,P){if(!(o<1||P<1)){for(var x=m(o),z=m(P),_=1,G=0;G<u.length;G++)_*=Math.pow(u[G],Math.max(x[G],z[G]));return _}}function v(o){if(o.length!==0){for(var P=1,x=0;x<o.length;x++)P=S(P,o[x]);return P}}a.calcXnums=function(o){var P,x=[];for(P=1;P<o;P++){var z=this.getXat(P-1,0),_=this.getXat(P,0);_!==z&&z!==void 0&&z!==null&&_!==void 0&&_!==null?x[P-1]=Math.abs(_-z):x[P-1]=0}var G=0;for(P=1;P<o;P++)G+=x[P-1];for(P=1;P<o;P++)x[P-1]===0?x[P-1]=1:x[P-1]=Math.round(G/x[P-1]);return x},a.calcYnums=function(o){var P,x=[];for(P=1;P<o;P++){var z=this.getYat(0,P-1),_=this.getYat(0,P);_!==z&&z!==void 0&&z!==null&&_!==void 0&&_!==null?x[P-1]=Math.abs(_-z):x[P-1]=0}var G=0;for(P=1;P<o;P++)G+=x[P-1];for(P=1;P<o;P++)x[P-1]===0?x[P-1]=1:x[P-1]=Math.round(G/x[P-1]);return x};var l=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=l[9],M=l[13];a.estimateScale=function(o,P){for(var x=P===0?this.calcXnums(o):this.calcYnums(o),z=1+v(x);z<g;)z*=2;for(;z>M;)z--,z/=f(z),z++,z<g&&(z=M);var _=Math.round(z/o);return _>1?_:1};function A(o,P,x){var z=x[8]+x[2]*P[0]+x[5]*P[1];return o[0]=(x[6]+x[0]*P[0]+x[3]*P[1])/z,o[1]=(x[7]+x[1]*P[0]+x[4]*P[1])/z,o}function k(o,P,x){return w(o,P,A,x),o}function w(o,P,x,z){for(var _=[0,0],G=o.shape[0],F=o.shape[1],N=0;N<G;N++)for(var U=0;U<F;U++)x(_,[N,U],z),o.set(N,U,n(P,_[0],_[1]));return o}a.refineCoords=function(o){for(var P=this.dataScaleX,x=this.dataScaleY,z=o[0].shape[0],_=o[0].shape[1],G=Math.floor(o[0].shape[0]*P+1)|0,F=Math.floor(o[0].shape[1]*x+1)|0,N=1+z+1,U=1+_+1,O=L(new Float32Array(N*U),[N,U]),H=[1/P,0,0,0,1/x,0,0,0,1],Y=0;Y<o.length;++Y){this.surface.padField(O,o[Y]);var q=L(new Float32Array(G*F),[G,F]);k(q,O,H),o[Y]=q}};function E(o,P){for(var x=!1,z=0;z<o.length;z++)if(P===o[z]){x=!0;break}x===!1&&o.push(P)}a.setContourLevels=function(){var o=[[],[],[]],P=[!1,!1,!1],x=!1,z,_,G;for(z=0;z<3;++z)if(this.showContour[z]&&(x=!0,this.contourSize[z]>0&&this.contourStart[z]!==null&&this.contourEnd[z]!==null&&this.contourEnd[z]>this.contourStart[z]))for(P[z]=!0,_=this.contourStart[z];_<this.contourEnd[z];_+=this.contourSize[z])G=_*this.scene.dataScale[z],E(o[z],G);if(x){var F=[[],[],[]];for(z=0;z<3;++z)this.showContour[z]&&(F[z]=P[z]?o[z]:this.scene.contourLevels[z]);this.surface.update({levels:F})}},a.update=function(o){var P=this.scene,x=P.fullSceneLayout,z=this.surface,_=y(o),G=P.dataScale,F=o.z[0].length,N=o._ylength,U=P.contourLevels;this.data=o;var O,H,Y,q,ne=[];for(O=0;O<3;O++)for(ne[O]=[],H=0;H<F;H++)ne[O][H]=[];for(H=0;H<F;H++)for(Y=0;Y<N;Y++)ne[0][H][Y]=this.getXat(H,Y,o.xcalendar,x.xaxis),ne[1][H][Y]=this.getYat(H,Y,o.ycalendar,x.yaxis),ne[2][H][Y]=this.getZat(H,Y,o.zcalendar,x.zaxis);if(o.connectgaps)for(o._emptypoints=T(ne[2]),C(ne[2],o._emptypoints),o._interpolatedZ=[],H=0;H<F;H++)for(o._interpolatedZ[H]=[],Y=0;Y<N;Y++)o._interpolatedZ[H][Y]=ne[2][H][Y];for(O=0;O<3;O++)for(H=0;H<F;H++)for(Y=0;Y<N;Y++)q=ne[O][H][Y],q==null?ne[O][H][Y]=NaN:q=ne[O][H][Y]*=G[O];for(O=0;O<3;O++)for(H=0;H<F;H++)for(Y=0;Y<N;Y++)q=ne[O][H][Y],q!=null&&(this.minValues[O]>q&&(this.minValues[O]=q),this.maxValues[O]<q&&(this.maxValues[O]=q));for(O=0;O<3;O++)this.objectOffset[O]=.5*(this.minValues[O]+this.maxValues[O]);for(O=0;O<3;O++)for(H=0;H<F;H++)for(Y=0;Y<N;Y++)q=ne[O][H][Y],q!=null&&(ne[O][H][Y]-=this.objectOffset[O]);var oe=[L(new Float32Array(F*N),[F,N]),L(new Float32Array(F*N),[F,N]),L(new Float32Array(F*N),[F,N])];for(O=0;O<3;O++)for(H=0;H<F;H++)for(Y=0;Y<N;Y++)oe[O].set(H,Y,ne[O][H][Y]);ne=[];var he={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!o.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:o.opacityscale,opacity:o.opacity},J=t(o);if(he.intensityBounds=[J.min,J.max],o.surfacecolor){var Z=L(new Float32Array(F*N),[F,N]);for(H=0;H<F;H++)for(Y=0;Y<N;Y++)Z.set(H,Y,o.surfacecolor[Y][H]);oe.push(Z)}else he.intensityBounds[0]*=G[2],he.intensityBounds[1]*=G[2];(M<oe[0].shape[0]||M<oe[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(oe[0].shape[0],0),this.dataScaleY=this.estimateScale(oe[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(oe)),o.surfacecolor&&(he.intensity=oe.pop());var se=[!0,!0,!0],$=["x","y","z"];for(O=0;O<3;++O){var ee=o.contours[$[O]];se[O]=ee.highlight,he.showContour[O]=ee.show||ee.highlight,he.showContour[O]&&(he.contourProject[O]=[ee.project.x,ee.project.y,ee.project.z],ee.show?(this.showContour[O]=!0,he.levels[O]=U[O],z.highlightColor[O]=he.contourColor[O]=r(ee.color),ee.usecolormap?z.highlightTint[O]=he.contourTint[O]=0:z.highlightTint[O]=he.contourTint[O]=1,he.contourWidth[O]=ee.width,this.contourStart[O]=ee.start,this.contourEnd[O]=ee.end,this.contourSize[O]=ee.size):(this.showContour[O]=!1,this.contourStart[O]=null,this.contourEnd[O]=null,this.contourSize[O]=0),ee.highlight&&(he.dynamicColor[O]=r(ee.highlightcolor),he.dynamicWidth[O]=ee.highlightwidth))}h(_)&&(he.vertexColor=!0),he.objectOffset=this.objectOffset,he.coords=oe,z.update(he),z.visible=o.visible,z.enableDynamic=se,z.enableHighlight=se,z.snapToData=!0,"lighting"in o&&(z.ambientLight=o.lighting.ambient,z.diffuseLight=o.lighting.diffuse,z.specularLight=o.lighting.specular,z.roughness=o.lighting.roughness,z.fresnel=o.lighting.fresnel),"lightposition"in o&&(z.lightPosition=[o.lightposition.x,o.lightposition.y,o.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function b(o,P){var x=o.glplot.gl,z=p({gl:x}),_=new i(o,z,P.uid);return z._trace=_,_.update(P),o.glplot.add(z),_}V.exports=b},91831:function(V,B,e){var p=e(73972),L=e(71828),n=e(1586),C=e(54532),T=.1;function d(a,h){for(var u=[],s=32,m=0;m<s;m++){var f=m/(s-1),S=h+(1-h)*(1-Math.pow(Math.sin(a*f*Math.PI),2));u.push([f,Math.max(0,Math.min(1,S))])}return u}function y(a){var h=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var u=0;u<a.length;u++){var s=a[u];if(s.length!==2||+s[0]<h)return!1;h=+s[0]}return!0}function r(a,h,u,s){var m,f;function S(o,P){return L.coerce(a,h,C,o,P)}var v=S("x"),l=S("y"),g=S("z");if(!g||!g.length||v&&v.length<1||l&&l.length<1){h.visible=!1;return}h._xlength=Array.isArray(v)&&L.isArrayOrTypedArray(v[0])?g.length:g[0].length,h._ylength=g.length;var M=p.getComponentMethod("calendars","handleTraceDefaults");M(a,h,["x","y","z"],s),S("text"),S("hovertext"),S("hovertemplate"),S("xhoverformat"),S("yhoverformat"),S("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(o){S(o)});var A=S("surfacecolor"),k=["x","y","z"];for(m=0;m<3;++m){var w="contours."+k[m],E=S(w+".show"),b=S(w+".highlight");if(E||b)for(f=0;f<3;++f)S(w+".project."+k[f]);E&&(S(w+".color"),S(w+".width"),S(w+".usecolormap")),b&&(S(w+".highlightcolor"),S(w+".highlightwidth")),S(w+".start"),S(w+".end"),S(w+".size")}A||(i(a,"zmin","cmin"),i(a,"zmax","cmax"),i(a,"zauto","cauto")),n(a,h,s,S,{prefix:"",cLetter:"c"}),t(a,h,s,S),h._length=null}function t(a,h,u,s){var m=s("opacityscale");m==="max"?h.opacityscale=[[0,T],[1,1]]:m==="min"?h.opacityscale=[[0,1],[1,T]]:m==="extremes"?h.opacityscale=d(1,T):y(m)||(h.opacityscale=void 0)}function i(a,h,u){h in a&&!(u in a)&&(a[u]=a[h])}V.exports={supplyDefaults:r,opacityscaleDefaults:t}},93601:function(V,B,e){V.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(V,B,e){var p=e(50215),L=e(1426).extendFlat,n=e(30962).overrideAll,C=e(41940),T=e(27670).Y,d=e(12663).descriptionOnlyNumbers,y=V.exports=n({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");y.transforms=void 0},99469:function(V,B,e){var p=e(27659).a0,L=e(36736),n="table";B.name=n,B.plot=function(C){var T=p(C.calcdata,n)[0];T.length&&L(C,T)},B.clean=function(C,T,d,y){var r=y._has&&y._has(n),t=T._has&&T._has(n);r&&!t&&y._paperdiv.selectAll(".table").remove()}},76333:function(V,B,e){var p=e(28984).wrap;V.exports=function(){return p({})}},49850:function(V){V.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(V,B,e){var p=e(49850),L=e(1426).extendFlat,n=e(92770),C=e(73627).isTypedArray,T=e(73627).isArrayOrTypedArray;V.exports=function(m,f){var S=r(f.cells.values),v=function(q){return q.slice(f.header.values.length,q.length)},l=r(f.header.values);l.length&&!l[0].length&&(l[0]=[""],l=r(l));var g=l.concat(v(S).map(function(){return t((l[0]||[""]).length)})),M=f.domain,A=Math.floor(m._fullLayout._size.w*(M.x[1]-M.x[0])),k=Math.floor(m._fullLayout._size.h*(M.y[1]-M.y[0])),w=f.header.values.length?g[0].map(function(){return f.header.height}):[p.emptyHeaderHeight],E=S.length?S[0].map(function(){return f.cells.height}):[],b=w.reduce(y,0),o=k-b,P=o+p.uplift,x=h(E,P),z=h(w,b),_=a(z,[]),G=a(x,_),F={},N=f._fullInput.columnorder;T(N)&&(N=Array.from(N)),N=N.concat(v(S.map(function(q,ne){return ne})));var U=g.map(function(q,ne){var oe=T(f.columnwidth)?f.columnwidth[Math.min(ne,f.columnwidth.length-1)]:f.columnwidth;return n(oe)?Number(oe):1}),O=U.reduce(y,0);U=U.map(function(q){return q/O*A});var H=Math.max(d(f.header.line.width),d(f.cells.line.width)),Y={key:f.uid+m._context.staticPlot,translateX:M.x[0]*m._fullLayout._size.w,translateY:m._fullLayout._size.h*(1-M.y[1]),size:m._fullLayout._size,width:A,maxLineWidth:H,height:k,columnOrder:N,groupHeight:k,rowBlocks:G,headerRowBlocks:_,scrollY:0,cells:L({},f.cells,{values:S}),headerCells:L({},f.header,{values:g}),gdColumns:g.map(function(q){return q[0]}),gdColumnsOriginalOrder:g.map(function(q){return q[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:g.map(function(q,ne){var oe=F[q];F[q]=(oe||0)+1;var he=q+"__"+F[q];return{key:he,label:q,specIndex:ne,xIndex:N[ne],xScale:i,x:void 0,calcdata:void 0,columnWidth:U[ne]}})};return Y.columns.forEach(function(q){q.calcdata=Y,q.x=i(q)}),Y};function d(s){if(T(s)){for(var m=0,f=0;f<s.length;f++)m=Math.max(m,d(s[f]));return m}return s}function y(s,m){return s+m}function r(s){var m=s.slice(),f=1/0,S=0,v;for(v=0;v<m.length;v++)C(m[v])?m[v]=Array.from(m[v]):T(m[v])||(m[v]=[m[v]]),f=Math.min(f,m[v].length),S=Math.max(S,m[v].length);if(f!==S)for(v=0;v<m.length;v++){var l=S-m[v].length;l&&(m[v]=m[v].concat(t(l)))}return m}function t(s){for(var m=new Array(s),f=0;f<s;f++)m[f]="";return m}function i(s){return s.calcdata.columns.reduce(function(m,f){return f.xIndex<s.xIndex?m+f.columnWidth:m},0)}function a(s,m){var f=Object.keys(s);return f.map(function(S){return L({},s[S],{auxiliaryBlocks:m})})}function h(s,m){for(var f={},S,v=0,l=0,g=u(),M=0,A=0,k=0;k<s.length;k++)S=s[k],g.rows.push({rowIndex:k,rowHeight:S}),l+=S,(l>=m||k===s.length-1)&&(f[v]=g,g.key=A++,g.firstRowIndex=M,g.lastRowIndex=k,g=u(),v+=l,M=k+1,l=0);return f}function u(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(V,B,e){var p=e(1426).extendFlat;B.splitToPanels=function(n){var C=[0,0],T=p({},n,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:p({},n.calcdata,{cells:n.calcdata.headerCells})}),d=p({},n,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),y=p({},n,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[d,y,T]},B.splitToCells=function(n){var C=L(n);return(n.values||[]).slice(C[0],C[1]).map(function(T,d){var y=typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:d+y,key:C[0]+d,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:T}})};function L(n){var C=n.rowBlocks[n.page],T=C?C.rows[0].rowIndex:0,d=C?T+C.rows.length:0;return[T,d]}},39754:function(V,B,e){var p=e(71828),L=e(44464),n=e(27670).c;function C(T,d){for(var y=T.columnorder||[],r=T.header.values.length,t=y.slice(0,r),i=t.slice().sort(function(u,s){return u-s}),a=t.map(function(u){return i.indexOf(u)}),h=a.length;h<r;h++)a.push(h);d("columnorder",a)}V.exports=function(d,y,r,t){function i(a,h){return p.coerce(d,y,L,a,h)}n(y,t,i),i("columnwidth"),i("header.values"),i("header.format"),i("header.align"),i("header.prefix"),i("header.suffix"),i("header.height"),i("header.line.width"),i("header.line.color"),i("header.fill.color"),p.coerceFont(i,"header.font",p.extendFlat({},t.font)),C(y,i),i("cells.values"),i("cells.format"),i("cells.align"),i("cells.prefix"),i("cells.suffix"),i("cells.height"),i("cells.line.width"),i("cells.line.color"),i("cells.fill.color"),p.coerceFont(i,"cells.font",p.extendFlat({},t.font)),y._length=null}},96595:function(V,B,e){V.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(V,B,e){var p=e(49850),L=e(39898),n=e(71828),C=n.numberFormat,T=e(28984),d=e(91424),y=e(63893),r=e(71828).raiseToTop,t=e(71828).strTranslate,i=e(71828).cancelTransition,a=e(51018),h=e(56269),u=e(7901);V.exports=function(ue,ie){var ce=!ue._context.staticPlot,xe=ue._fullLayout._paper.selectAll("."+p.cn.table).data(ie.map(function(qe){var et=T.unwrap(qe),ft=et.trace;return a(ue,ft)}),T.keyFun);xe.exit().remove(),xe.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),xe.attr("width",function(qe){return qe.width+qe.size.l+qe.size.r}).attr("height",function(qe){return qe.height+qe.size.t+qe.size.b}).attr("transform",function(qe){return t(qe.translateX,qe.translateY)});var Le=xe.selectAll("."+p.cn.tableControlView).data(T.repeat,T.keyFun),Ae=Le.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(ce){var Oe="onwheel"in document?"wheel":"mousewheel";Ae.on("mousemove",function(qe){Le.filter(function(et){return qe===et}).call(v,ue)}).on(Oe,function(qe){if(!qe.scrollbarState.wheeling){qe.scrollbarState.wheeling=!0;var et=qe.scrollY+L.event.deltaY,ft=q(ue,Le,null,et)(qe);ft||(L.event.stopPropagation(),L.event.preventDefault()),qe.scrollbarState.wheeling=!1}}).call(v,ue,!0)}Le.attr("transform",function(qe){return t(qe.size.l,qe.size.t)});var ze=Le.selectAll("."+p.cn.scrollBackground).data(T.repeat,T.keyFun);ze.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),ze.attr("width",function(qe){return qe.width}).attr("height",function(qe){return qe.height}),Le.each(function(qe){d.setClipUrl(L.select(this),m(ue,qe),ue)});var Ee=Le.selectAll("."+p.cn.yColumn).data(function(qe){return qe.columns},T.keyFun);Ee.enter().append("g").classed(p.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(qe){return t(qe.x,0)}),ce&&Ee.call(L.behavior.drag().origin(function(qe){var et=L.select(this);return F(et,qe,-p.uplift),r(this),qe.calcdata.columnDragInProgress=!0,v(Le.filter(function(ft){return qe.calcdata.key===ft.key}),ue),qe}).on("drag",function(qe){var et=L.select(this),ft=function(At){return(qe===At?L.event.x:At.x)+At.columnWidth/2};qe.x=Math.max(-p.overdrag,Math.min(qe.calcdata.width+p.overdrag-qe.columnWidth,L.event.x));var dt=S(Ee).filter(function(At){return At.calcdata.key===qe.calcdata.key}),pt=dt.sort(function(At,Pt){return ft(At)-ft(Pt)});pt.forEach(function(At,Pt){At.xIndex=Pt,At.x=qe===At?At.x:At.xScale(At)}),Ee.filter(function(At){return qe!==At}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(At){return t(At.x,0)}),et.call(i).attr("transform",t(qe.x,-p.uplift))}).on("dragend",function(qe){var et=L.select(this),ft=qe.calcdata;qe.x=qe.xScale(qe),qe.calcdata.columnDragInProgress=!1,F(et,qe,0),_(ue,ft,ft.columns.map(function(dt){return dt.xIndex}))})),Ee.each(function(qe){d.setClipUrl(L.select(this),f(ue,qe),ue)});var be=Ee.selectAll("."+p.cn.columnBlock).data(h.splitToPanels,T.keyFun);be.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(qe){return qe.key}),be.style("cursor",function(qe){return qe.dragHandle?"ew-resize":qe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ce=be.filter(U),Ue=be.filter(N);ce&&Ue.call(L.behavior.drag().origin(function(qe){return L.event.stopPropagation(),qe}).on("drag",q(ue,Le,-1)).on("dragend",function(){})),l(ue,Le,Ce,be),l(ue,Le,Ue,be);var He=Le.selectAll("."+p.cn.scrollAreaClip).data(T.repeat,T.keyFun);He.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(qe){return m(ue,qe)});var Ie=He.selectAll("."+p.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);Ie.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),Ie.attr("width",function(qe){return qe.width+2*p.overdrag}).attr("height",function(qe){return qe.height+p.uplift});var Ge=Ee.selectAll("."+p.cn.columnBoundary).data(T.repeat,T.keyFun);Ge.enter().append("g").classed(p.cn.columnBoundary,!0);var at=Ee.selectAll("."+p.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);at.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),at.attr("id",function(qe){return f(ue,qe)});var lt=at.selectAll("."+p.cn.columnBoundaryRect).data(T.repeat,T.keyFun);lt.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),lt.attr("width",function(qe){return qe.columnWidth+2*s(qe)}).attr("height",function(qe){return qe.calcdata.height+2*s(qe)+p.uplift}).attr("x",function(qe){return-s(qe)}).attr("y",function(qe){return-s(qe)}),Y(null,Ue,Le)};function s(K){return Math.ceil(K.calcdata.maxLineWidth/2)}function m(K,ue){return"clip"+K._fullLayout._uid+"_scrollAreaBottomClip_"+ue.key}function f(K,ue){return"clip"+K._fullLayout._uid+"_columnBoundaryClippath_"+ue.calcdata.key+"_"+ue.specIndex}function S(K){return[].concat.apply([],K.map(function(ue){return ue})).map(function(ue){return ue.__data__})}function v(K,ue,ie){function ce(Ee){var be=Ee.rowBlocks;return se(be,be.length-1)+(be.length?$(be[be.length-1],1/0):1)}var xe=K.selectAll("."+p.cn.scrollbarKit).data(T.repeat,T.keyFun);xe.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),xe.each(function(Ee){var be=Ee.scrollbarState;be.totalHeight=ce(Ee),be.scrollableAreaHeight=Ee.groupHeight-O(Ee),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Ee.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Ee){var be=Ee.width+p.scrollbarWidth/2+p.scrollbarOffset;return t(be,O(Ee))});var Le=xe.selectAll("."+p.cn.scrollbar).data(T.repeat,T.keyFun);Le.enter().append("g").classed(p.cn.scrollbar,!0);var Ae=Le.selectAll("."+p.cn.scrollbarSlider).data(T.repeat,T.keyFun);Ae.enter().append("g").classed(p.cn.scrollbarSlider,!0),Ae.attr("transform",function(Ee){return t(0,Ee.scrollbarState.topY||0)});var Oe=Ae.selectAll("."+p.cn.scrollbarGlyph).data(T.repeat,T.keyFun);Oe.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Oe.attr("y2",function(Ee){return Ee.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||ie?0:.4}),Oe.transition().delay(0).duration(0),Oe.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var ze=Le.selectAll("."+p.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);ze.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var be=L.event.y,Ce=this.getBoundingClientRect(),Ue=Ee.scrollbarState,He=be-Ce.top,Ie=L.scale.linear().domain([0,Ue.scrollableAreaHeight]).range([0,Ue.totalHeight]).clamp(!0);Ue.topY<=He&&He<=Ue.bottomY||q(ue,K,null,Ie(He-Ue.barLength/2))(Ee)}).call(L.behavior.drag().origin(function(Ee){return L.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",q(ue,K)).on("dragend",function(){})),ze.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),ue._context.staticPlot&&(Oe.remove(),ze.remove())}function l(K,ue,ie,ce){var xe=g(ie),Le=M(xe);E(Le);var Ae=A(Le);o(Ae);var Oe=w(Le),ze=k(Oe);b(ze),P(ze,ue,ce,K),Z(Le)}function g(K){var ue=K.selectAll("."+p.cn.columnCells).data(T.repeat,T.keyFun);return ue.enter().append("g").classed(p.cn.columnCells,!0),ue.exit().remove(),ue}function M(K){var ue=K.selectAll("."+p.cn.columnCell).data(h.splitToCells,function(ie){return ie.keyWithinBlock});return ue.enter().append("g").classed(p.cn.columnCell,!0),ue.exit().remove(),ue}function A(K){var ue=K.selectAll("."+p.cn.cellRect).data(T.repeat,function(ie){return ie.keyWithinBlock});return ue.enter().append("rect").classed(p.cn.cellRect,!0),ue}function k(K){var ue=K.selectAll("."+p.cn.cellText).data(T.repeat,function(ie){return ie.keyWithinBlock});return ue.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),ue}function w(K){var ue=K.selectAll("."+p.cn.cellTextHolder).data(T.repeat,function(ie){return ie.keyWithinBlock});return ue.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}function E(K){K.each(function(ue,ie){var ce=ue.calcdata.cells.font,xe=ue.column.specIndex,Le={size:G(ce.size,xe,ie),color:G(ce.color,xe,ie),family:G(ce.family,xe,ie)};ue.rowNumber=ue.key,ue.align=G(ue.calcdata.cells.align,xe,ie),ue.cellBorderWidth=G(ue.calcdata.cells.line.width,xe,ie),ue.font=Le})}function b(K){K.each(function(ue){d.font(L.select(this),ue.font)})}function o(K){K.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var ie=L.select(this);u.stroke(ie,G(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),u.fill(ie,G(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})}function P(K,ue,ie,ce){K.text(function(xe){var Le=xe.column.specIndex,Ae=xe.rowNumber,Oe=xe.value,ze=typeof Oe=="string",Ee=ze&&Oe.match(/<br>/i),be=!ze||Ee;xe.mayHaveMarkup=ze&&Oe.match(/[<&>]/);var Ce=x(Oe);xe.latex=Ce;var Ue=Ce?"":G(xe.calcdata.cells.prefix,Le,Ae)||"",He=Ce?"":G(xe.calcdata.cells.suffix,Le,Ae)||"",Ie=Ce?null:G(xe.calcdata.cells.format,Le,Ae)||null,Ge=Ue+(Ie?C(Ie)(xe.value):xe.value)+He,at;xe.wrappingNeeded=!xe.wrapped&&!be&&!Ce&&(at=z(Ge)),xe.cellHeightMayIncrease=Ee||Ce||xe.mayHaveMarkup||(at===void 0?z(Ge):at),xe.needsConvertToTspans=xe.mayHaveMarkup||xe.wrappingNeeded||xe.latex;var lt;if(xe.wrappingNeeded){var qe=p.wrapSplitCharacter===" "?Ge.replace(/<a href=/ig,"<a_href="):Ge,et=qe.split(p.wrapSplitCharacter),ft=p.wrapSplitCharacter===" "?et.map(function(dt){return dt.replace(/<a_href=/ig,"<a href=")}):et;xe.fragments=ft.map(function(dt){return{text:dt,width:null}}),xe.fragments.push({fragment:p.wrapSpacer,width:null}),lt=ft.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete xe.fragments,lt=Ge;return lt}).attr("dy",function(xe){return xe.needsConvertToTspans?0:"0.75em"}).each(function(xe){var Le=this,Ae=L.select(Le),Oe=xe.wrappingNeeded?oe:he;xe.needsConvertToTspans?y.convertToTspans(Ae,ce,Oe(ie,Le,ue,ce,xe)):L.select(Le.parentNode).attr("transform",function(ze){return t(J(ze),p.cellPad)}).attr("text-anchor",function(ze){return{left:"start",center:"middle",right:"end"}[ze.align]})})}function x(K){return typeof K=="string"&&K.match(p.latexCheck)}function z(K){return K.indexOf(p.wrapSplitCharacter)!==-1}function _(K,ue,ie){var ce=ue.gdColumnsOriginalOrder;ue.gdColumns.sort(function(xe,Le){return ie[ce.indexOf(xe)]-ie[ce.indexOf(Le)]}),ue.columnorder=ie,K.emit("plotly_restyle")}function G(K,ue,ie){if(n.isArrayOrTypedArray(K)){var ce=K[Math.min(ue,K.length-1)];return n.isArrayOrTypedArray(ce)?ce[Math.min(ie,ce.length-1)]:ce}else return K}function F(K,ue,ie){K.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",t(ue.x,ie))}function N(K){return K.type==="cells"}function U(K){return K.type==="header"}function O(K){var ue=K.rowBlocks.length?K.rowBlocks[0].auxiliaryBlocks:[];return ue.reduce(function(ie,ce){return ie+$(ce,1/0)},0)}function H(K,ue,ie){for(var ce=[],xe=0,Le=0;Le<K.length;Le++){for(var Ae=K[Le],Oe=Ae.rows,ze=0,Ee=0;Ee<Oe.length;Ee++)ze+=Oe[Ee].rowHeight;Ae.allRowsHeight=ze;var be=xe+ze,Ce=ue,Ue=Ce+ie;Ce<be&&Ue>xe&&ce.push(Le),xe+=ze}return ce}function Y(K,ue,ie){var ce=S(ue)[0];if(ce!==void 0){var xe=ce.rowBlocks,Le=ce.calcdata,Ae=se(xe,xe.length),Oe=ce.calcdata.groupHeight-O(ce),ze=Le.scrollY=Math.max(0,Math.min(Ae-Oe,Le.scrollY)),Ee=H(xe,ze,Oe);Ee.length===1&&(Ee[0]===xe.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),ue.each(function(be,Ce){be.page=Ee[Ce],be.scrollY=ze}),ue.attr("transform",function(be){var Ce=se(be.rowBlocks,be.page)-be.scrollY;return t(0,Ce)}),K&&(ne(K,ie,ue,Ee,ce.prevPages,ce,0),ne(K,ie,ue,Ee,ce.prevPages,ce,1),v(ie,K))}}function q(K,ue,ie,ce){return function(Le){var Ae=Le.calcdata?Le.calcdata:Le,Oe=ue.filter(function(Ce){return Ae.key===Ce.key}),ze=ie||Ae.scrollbarState.dragMultiplier,Ee=Ae.scrollY;Ae.scrollY=ce===void 0?Ae.scrollY+ze*L.event.dy:ce;var be=Oe.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(N);return Y(K,be,Oe),Ae.scrollY===Ee}}function ne(K,ue,ie,ce,xe,Le,Ae){var Oe=ce[Ae]!==xe[Ae];Oe&&(clearTimeout(Le.currentRepaint[Ae]),Le.currentRepaint[Ae]=setTimeout(function(){var ze=ie.filter(function(Ee,be){return be===Ae&&ce[be]!==xe[be]});l(K,ue,ze,ie),xe[Ae]=ce[Ae]}))}function oe(K,ue,ie,ce){return function(){var Le=L.select(ue.parentNode);Le.each(function(Ae){var Oe=Ae.fragments;Le.selectAll("tspan.line").each(function(Ge,at){Oe[at].width=this.getComputedTextLength()});var ze=Oe[Oe.length-1].width,Ee=Oe.slice(0,-1),be=[],Ce,Ue,He=0,Ie=Ae.column.columnWidth-2*p.cellPad;for(Ae.value="";Ee.length;)Ce=Ee.shift(),Ue=Ce.width+ze,He+Ue>Ie&&(Ae.value+=be.join(p.wrapSpacer)+p.lineBreaker,be=[],He=0),be.push(Ce.text),He+=Ue;He&&(Ae.value+=be.join(p.wrapSpacer)),Ae.wrapped=!0}),Le.selectAll("tspan.line").remove(),P(Le.select("."+p.cn.cellText),ie,K,ce),L.select(ue.parentNode.parentNode).call(Z)}}function he(K,ue,ie,ce,xe){return function(){if(!xe.settledY){var Ae=L.select(ue.parentNode),Oe=le(xe),ze=xe.key-Oe.firstRowIndex,Ee=Oe.rows[ze].rowHeight,be=xe.cellHeightMayIncrease?ue.parentNode.getBoundingClientRect().height+2*p.cellPad:Ee,Ce=Math.max(be,Ee),Ue=Ce-Oe.rows[ze].rowHeight;Ue&&(Oe.rows[ze].rowHeight=Ce,K.selectAll("."+p.cn.columnCell).call(Z),Y(null,K.filter(N),0),v(ie,ce,!0)),Ae.attr("transform",function(){var He=this,Ie=He.parentNode,Ge=Ie.getBoundingClientRect(),at=L.select(He.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),lt=He.transform.baseVal.consolidate(),qe=at.top-Ge.top+(lt?lt.matrix.f:p.cellPad);return t(J(xe,L.select(He.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),qe)}),xe.settledY=!0}}}function J(K,ue){switch(K.align){case"left":return p.cellPad;case"right":return K.column.columnWidth-(ue||0)-p.cellPad;case"center":return(K.column.columnWidth-(ue||0))/2;default:return p.cellPad}}function Z(K){K.attr("transform",function(ue){var ie=ue.rowBlocks[0].auxiliaryBlocks.reduce(function(Ae,Oe){return Ae+$(Oe,1/0)},0),ce=le(ue),xe=$(ce,ue.key),Le=xe+ie;return t(0,Le)}).selectAll("."+p.cn.cellRect).attr("height",function(ue){return Q(le(ue),ue.key).rowHeight})}function se(K,ue){for(var ie=0,ce=ue-1;ce>=0;ce--)ie+=ee(K[ce]);return ie}function $(K,ue){for(var ie=0,ce=0;ce<K.rows.length&&K.rows[ce].rowIndex<ue;ce++)ie+=K.rows[ce].rowHeight;return ie}function ee(K){var ue=K.allRowsHeight;if(ue!==void 0)return ue;for(var ie=0,ce=0;ce<K.rows.length;ce++)ie+=K.rows[ce].rowHeight;return K.allRowsHeight=ie,ie}function le(K){return K.rowBlocks[K.page]}function Q(K,ue){return K.rows[ue-K.firstRowIndex]}},45802:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(50693),C=e(27670).Y,T=e(34e3),d=e(57564),y=e(43473),r=e(1426).extendFlat,t=e(79952).u;V.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:r({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:d.marker.colors,pattern:t,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:d.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:r({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:d.textinfo,texttemplate:L({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:d.hoverinfo,hovertemplate:p({},{keys:y.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:r({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:d.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},78018:function(V,B,e){var p=e(74875);B.name="treemap",B.plot=function(L,n,C,T){p.plotBasePlot(B.name,L,n,C,T)},B.clean=function(L,n,C,T){p.cleanBasePlot(B.name,L,n,C,T)}},65039:function(V,B,e){var p=e(52147);B.y=function(L,n){return p.calc(L,n)},B.T=function(L){return p._runCrossTraceCalc("treemap",L)}},43473:function(V){V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(V,B,e){var p=e(71828),L=e(45802),n=e(7901),C=e(27670).c,T=e(90769).handleText,d=e(97313).TEXTPAD,y=e(37434).handleMarkerDefaults,r=e(21081),t=r.hasColorscale,i=r.handleDefaults;V.exports=function(h,u,s,m){function f(o,P){return p.coerce(h,u,L,o,P)}var S=f("labels"),v=f("parents");if(!S||!S.length||!v||!v.length){u.visible=!1;return}var l=f("values");l&&l.length?f("branchvalues"):f("count"),f("level"),f("maxdepth");var g=f("tiling.packing");g==="squarify"&&f("tiling.squarifyratio"),f("tiling.flip"),f("tiling.pad");var M=f("text");f("texttemplate"),u.texttemplate||f("textinfo",p.isArrayOrTypedArray(M)?"text+label":"label"),f("hovertext"),f("hovertemplate");var A=f("pathbar.visible"),k="auto";T(h,u,m,f,k,{hasPathbar:A,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition");var w=u.textposition.indexOf("bottom")!==-1;y(h,u,m,f);var E=u._hasColorscale=t(h,"marker","colors")||(h.marker||{}).coloraxis;E?i(h,u,m,f,{prefix:"marker.",cLetter:"c"}):f("marker.depthfade",!(u.marker.colors||[]).length);var b=u.textfont.size*2;f("marker.pad.t",w?b/4:b),f("marker.pad.l",b/4),f("marker.pad.r",b/4),f("marker.pad.b",w?b:b/4),f("marker.cornerradius"),u._hovered={marker:{line:{width:2,color:n.contrast(m.paper_bgcolor)}}},A&&(f("pathbar.thickness",u.pathbar.textfont.size+2*d),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),C(u,m,f),u._length=null}},80694:function(V,B,e){var p=e(39898),L=e(2791),n=e(72597),C=n.clearMinTextSize,T=e(16688).resizeText,d=e(46650);V.exports=function(r,t,i,a,h){var u=h.type,s=h.drawDescendants,m=r._fullLayout,f=m["_"+u+"layer"],S,v,l=!i;if(C(u,m),S=f.selectAll("g.trace."+u).data(t,function(M){return M[0].trace.uid}),S.enter().append("g").classed("trace",!0).classed(u,!0),S.order(),!m.uniformtext.mode&&L.hasTransition(i)){a&&(v=a());var g=p.transition().duration(i.duration).ease(i.easing).each("end",function(){v&&v()}).each("interrupt",function(){v&&v()});g.each(function(){f.selectAll("g.trace").each(function(M){d(r,M,this,i,s)})})}else S.each(function(M){d(r,M,this,i,s)}),m.uniformtext.mode&&T(r,f.selectAll(".trace"),u);l&&S.exit().remove()}},66209:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),T=e(37210),d=e(96362).styleOne,y=e(43473),r=e(2791),t=e(83523),i=!0;V.exports=function(h,u,s,m,f){var S=f.barDifY,v=f.width,l=f.height,g=f.viewX,M=f.viewY,A=f.pathSlice,k=f.toMoveInsideSlice,w=f.strTransform,E=f.hasTransition,b=f.handleSlicesExit,o=f.makeUpdateSliceInterpolator,P=f.makeUpdateTextInterpolator,x={},z=h._context.staticPlot,_=h._fullLayout,G=u[0],F=G.trace,N=G.hierarchy,U=v/F._entryDepth,O=r.listPath(s.data,"id"),H=T(N.copy(),[v,l],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();H=H.filter(function(q){var ne=O.indexOf(q.data.id);return ne===-1?!1:(q.x0=U*ne,q.x1=U*(ne+1),q.y0=S,q.y1=S+l,q.onPathbar=!0,!0)}),H.reverse(),m=m.data(H,r.getPtId),m.enter().append("g").classed("pathbar",!0),b(m,i,x,[v,l],A),m.order();var Y=m;E&&(Y=Y.transition().each("end",function(){var q=p.select(this);r.setSliceCursor(q,h,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Y.each(function(q){q._x0=g(q.x0),q._x1=g(q.x1),q._y0=M(q.y0),q._y1=M(q.y1),q._hoverX=g(q.x1-Math.min(v,l)/2),q._hoverY=M(q.y1-l/2);var ne=p.select(this),oe=L.ensureSingle(ne,"path","surface",function(se){se.style("pointer-events",z?"none":"all")});E?oe.transition().attrTween("d",function(se){var $=o(se,i,x,[v,l]);return function(ee){return A($(ee))}}):oe.attr("d",A),ne.call(t,s,h,u,{styleOne:d,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,h,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:h._transitioning}),oe.call(d,q,F,h,{hovered:!1}),q._text=(r.getPtLabel(q)||"").split("<br>").join(" ")||"";var he=L.ensureSingle(ne,"g","slicetext"),J=L.ensureSingle(he,"text","",function(se){se.attr("data-notex",1)}),Z=L.ensureUniformFontSize(h,r.determineTextFont(F,q,_.font,{onPathbar:!0}));J.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,Z).call(C.convertToTspans,h),q.textBB=n.bBox(J.node()),q.transform=k(q,{fontSize:Z.size,onPathbar:!0}),q.transform.fontSize=Z.size,E?J.transition().attrTween("transform",function(se){var $=P(se,i,x,[v,l]);return function(ee){return w($(ee))}}):J.attr("transform",w(q))})}},52583:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),T=e(37210),d=e(96362).styleOne,y=e(43473),r=e(2791),t=e(83523),i=e(24714).formatSliceLabel,a=!1;V.exports=function(u,s,m,f,S){var v=S.width,l=S.height,g=S.viewX,M=S.viewY,A=S.pathSlice,k=S.toMoveInsideSlice,w=S.strTransform,E=S.hasTransition,b=S.handleSlicesExit,o=S.makeUpdateSliceInterpolator,P=S.makeUpdateTextInterpolator,x=S.prevEntry,z={},_=u._context.staticPlot,G=u._fullLayout,F=s[0],N=F.trace,U=N.textposition.indexOf("left")!==-1,O=N.textposition.indexOf("right")!==-1,H=N.textposition.indexOf("bottom")!==-1,Y=!H&&!N.marker.pad.t||H&&!N.marker.pad.b,q=T(m,[v,l],{packing:N.tiling.packing,squarifyratio:N.tiling.squarifyratio,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,pad:{inner:N.tiling.pad,top:N.marker.pad.t,left:N.marker.pad.l,right:N.marker.pad.r,bottom:N.marker.pad.b}}),ne=q.descendants(),oe=1/0,he=-1/0;ne.forEach(function(ee){var le=ee.depth;le>=N._maxDepth?(ee.x0=ee.x1=(ee.x0+ee.x1)/2,ee.y0=ee.y1=(ee.y0+ee.y1)/2):(oe=Math.min(oe,le),he=Math.max(he,le))}),f=f.data(ne,r.getPtId),N._maxVisibleLayers=isFinite(he)?he-oe+1:0,f.enter().append("g").classed("slice",!0),b(f,a,z,[v,l],A),f.order();var J=null;if(E&&x){var Z=r.getPtId(x);f.each(function(ee){J===null&&r.getPtId(ee)===Z&&(J={x0:ee.x0,x1:ee.x1,y0:ee.y0,y1:ee.y1})})}var se=function(){return J||{x0:0,x1:v,y0:0,y1:l}},$=f;return E&&($=$.transition().each("end",function(){var ee=p.select(this);r.setSliceCursor(ee,u,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),$.each(function(ee){var le=r.isHeader(ee,N);ee._x0=g(ee.x0),ee._x1=g(ee.x1),ee._y0=M(ee.y0),ee._y1=M(ee.y1),ee._hoverX=g(ee.x1-N.marker.pad.r),ee._hoverY=M(H?ee.y1-N.marker.pad.b/2:ee.y0+N.marker.pad.t/2);var Q=p.select(this),K=L.ensureSingle(Q,"path","surface",function(xe){xe.style("pointer-events",_?"none":"all")});E?K.transition().attrTween("d",function(xe){var Le=o(xe,a,se(),[v,l]);return function(Ae){return A(Le(Ae))}}):K.attr("d",A),Q.call(t,m,u,s,{styleOne:d,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(r.setSliceCursor,u,{isTransitioning:u._transitioning}),K.call(d,ee,N,u,{hovered:!1}),ee.x0===ee.x1||ee.y0===ee.y1?ee._text="":le?ee._text=Y?"":r.getPtLabel(ee)||"":ee._text=i(ee,m,N,s,G)||"";var ue=L.ensureSingle(Q,"g","slicetext"),ie=L.ensureSingle(ue,"text","",function(xe){xe.attr("data-notex",1)}),ce=L.ensureUniformFontSize(u,r.determineTextFont(N,ee,G.font));ie.text(ee._text||" ").classed("slicetext",!0).attr("text-anchor",O?"end":U||le?"start":"middle").call(n.font,ce).call(C.convertToTspans,u),ee.textBB=n.bBox(ie.node()),ee.transform=k(ee,{fontSize:ce.size,isHeader:le}),ee.transform.fontSize=ce.size,E?ie.transition().attrTween("transform",function(xe){var Le=P(xe,a,se(),[v,l]);return function(Ae){return w(Le(Ae))}}):ie.attr("transform",w(ee))}),J}},14102:function(V){V.exports=function B(e,p,L){var n;L.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),L.flipX&&(n=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-n),L.flipY&&(n=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-n);var C=e.children;if(C)for(var T=0;T<C.length;T++)B(C[T],p,L)}},70954:function(V,B,e){V.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(V){V.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(V,B,e){var p=e(71828),L=e(55479);V.exports=function(C,T){function d(y,r){return p.coerce(C,T,L,y,r)}d("treemapcolorway",T.colorway),d("extendtreemapcolors")}},37210:function(V,B,e){var p=e(674),L=e(14102);V.exports=function(T,d,y){var r=y.flipX,t=y.flipY,i=y.packing==="dice-slice",a=y.pad[t?"bottom":"top"],h=y.pad[r?"right":"left"],u=y.pad[r?"left":"right"],s=y.pad[t?"top":"bottom"],m;i&&(m=h,h=a,a=m,m=u,u=s,s=m);var f=p.treemap().tile(n(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(h).paddingRight(u).paddingTop(a).paddingBottom(s).size(i?[d[1],d[0]]:d)(T);return(i||r||t)&&L(f,d,{swapXY:i,flipX:r,flipY:t}),f};function n(C,T){switch(C){case"squarify":return p.treemapSquarify.ratio(T);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},5893:function(V,B,e){var p=e(80694),L=e(52583);V.exports=function(C,T,d,y){return p(C,T,d,y,{type:"treemap",drawDescendants:L})}},46650:function(V,B,e){var p=e(39898),L=e(81684).sX,n=e(2791),C=e(71828),T=e(97313).TEXTPAD,d=e(17295),y=d.toMoveInsideBar,r=e(72597),t=r.recordMinTextSize,i=e(43473),a=e(66209);function h(u){return n.isHierarchyRoot(u)?"":n.getPtId(u)}V.exports=function(s,m,f,S,v){var l=s._fullLayout,g=m[0],M=g.trace,A=M.type,k=A==="icicle",w=g.hierarchy,E=n.findEntryWithLevel(w,M.level),b=p.select(f),o=b.selectAll("g.pathbar"),P=b.selectAll("g.slice");if(!E){o.remove(),P.remove();return}var x=n.isHierarchyRoot(E),z=!l.uniformtext.mode&&n.hasTransition(S),_=n.getMaxDepth(M),G=function(Je){return Je.data.depth-E.data.depth<_},F=l._size,N=M.domain,U=F.w*(N.x[1]-N.x[0]),O=F.h*(N.y[1]-N.y[0]),H=U,Y=M.pathbar.thickness,q=M.marker.line.width+i.gapWithPathbar,ne=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?O+q:-(Y+q):0,oe={x0:H,x1:H,y0:ne,y1:ne+Y},he=function(Je,We,_e){var Ne=M.tiling.pad,ke=function(Se){return Se-Ne<=We.x0},we=function(Se){return Se+Ne>=We.x1},me=function(Se){return Se-Ne<=We.y0},Me=function(Se){return Se+Ne>=We.y1};return Je.x0===We.x0&&Je.x1===We.x1&&Je.y0===We.y0&&Je.y1===We.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:ke(Je.x0-Ne)?0:we(Je.x0-Ne)?_e[0]:Je.x0,x1:ke(Je.x1+Ne)?0:we(Je.x1+Ne)?_e[0]:Je.x1,y0:me(Je.y0-Ne)?0:Me(Je.y0-Ne)?_e[1]:Je.y0,y1:me(Je.y1+Ne)?0:Me(Je.y1+Ne)?_e[1]:Je.y1}},J=null,Z={},se={},$=null,ee=function(Je,We){return We?Z[h(Je)]:se[h(Je)]},le=function(Je,We,_e,Ne){if(We)return Z[h(w)]||oe;var ke=se[M.level]||_e;return G(Je)?he(Je,ke,Ne):{}};g.hasMultipleRoots&&x&&_++,M._maxDepth=_,M._backgroundColor=l.paper_bgcolor,M._entryDepth=E.data.depth,M._atRootLevel=x;var Q=-U/2+F.l+F.w*(N.x[1]+N.x[0])/2,K=-O/2+F.t+F.h*(1-(N.y[1]+N.y[0])/2),ue=function(Je){return Q+Je},ie=function(Je){return K+Je},ce=ie(0),xe=ue(0),Le=function(Je){return xe+Je},Ae=function(Je){return ce+Je};function Oe(Je,We){return Je+","+We}var ze=Le(0),Ee=function(Je){Je.x=Math.max(ze,Je.x)},be=M.pathbar.edgeshape,Ce=function(Je){var We=Le(Math.max(Math.min(Je.x0,Je.x0),0)),_e=Le(Math.min(Math.max(Je.x1,Je.x1),H)),Ne=Ae(Je.y0),ke=Ae(Je.y1),we=Y/2,me={},Me={};me.x=We,Me.x=_e,me.y=Me.y=(Ne+ke)/2;var Se={x:We,y:Ne},Ve={x:_e,y:Ne},Ze={x:_e,y:ke},tt={x:We,y:ke};return be===">"?(Se.x-=we,Ve.x-=we,Ze.x-=we,tt.x-=we):be==="/"?(Ze.x-=we,tt.x-=we,me.x-=we/2,Me.x-=we/2):be==="\\"?(Se.x-=we,Ve.x-=we,me.x-=we/2,Me.x-=we/2):be==="<"&&(me.x-=we,Me.x-=we),Ee(Se),Ee(tt),Ee(me),Ee(Ve),Ee(Ze),Ee(Me),"M"+Oe(Se.x,Se.y)+"L"+Oe(Ve.x,Ve.y)+"L"+Oe(Me.x,Me.y)+"L"+Oe(Ze.x,Ze.y)+"L"+Oe(tt.x,tt.y)+"L"+Oe(me.x,me.y)+"Z"},Ue=M[k?"tiling":"marker"].pad,He=function(Je){return M.textposition.indexOf(Je)!==-1},Ie=He("top"),Ge=He("left"),at=He("right"),lt=He("bottom"),qe=function(Je){var We=ue(Je.x0),_e=ue(Je.x1),Ne=ie(Je.y0),ke=ie(Je.y1),we=_e-We,me=ke-Ne;if(!we||!me)return"";var Me=M.marker.cornerradius||0,Se=Math.min(Me,we/2,me/2);Se&&Je.data&&Je.data.data&&Je.data.data.label&&(Ie&&(Se=Math.min(Se,Ue.t)),Ge&&(Se=Math.min(Se,Ue.l)),at&&(Se=Math.min(Se,Ue.r)),lt&&(Se=Math.min(Se,Ue.b)));var Ve=function(Ze,tt){return Se?"a"+Oe(Se,Se)+" 0 0 1 "+Oe(Ze,tt):""};return"M"+Oe(We,Ne+Se)+Ve(Se,-Se)+"L"+Oe(_e-Se,Ne)+Ve(Se,Se)+"L"+Oe(_e,ke-Se)+Ve(-Se,Se)+"L"+Oe(We+Se,ke)+Ve(-Se,-Se)+"Z"},et=function(Je,We){var _e=Je.x0,Ne=Je.x1,ke=Je.y0,we=Je.y1,me=Je.textBB,Me=Ie||We.isHeader&&!lt,Se=Me?"start":lt?"end":"middle",Ve=He("right"),Ze=He("left")||We.onPathbar,tt=Ze?-1:Ve?1:0;if(We.isHeader){if(_e+=(k?Ue:Ue.l)-T,Ne-=(k?Ue:Ue.r)-T,_e>=Ne){var ct=(_e+Ne)/2;_e=ct,Ne=ct}var gt;lt?(gt=we-(k?Ue:Ue.b),ke<gt&&gt<we&&(ke=gt)):(gt=ke+(k?Ue:Ue.t),ke<gt&&gt<we&&(we=gt))}var jt=y(_e,Ne,ke,we,me,{isHorizontal:!1,constrained:!0,angle:0,anchor:Se,leftToRight:tt});return jt.fontSize=We.fontSize,jt.targetX=ue(jt.targetX),jt.targetY=ie(jt.targetY),isNaN(jt.targetX)||isNaN(jt.targetY)?{}:(_e!==Ne&&ke!==we&&t(M.type,jt,l),{scale:jt.scale,rotate:jt.rotate,textX:jt.textX,textY:jt.textY,anchorX:jt.anchorX,anchorY:jt.anchorY,targetX:jt.targetX,targetY:jt.targetY})},ft=function(Je,We){for(var _e,Ne=0,ke=Je;!_e&&Ne<_;)Ne++,ke=ke.parent,ke?_e=ee(ke,We):Ne=_;return _e||{}},dt=function(Je,We,_e,Ne){var ke=ee(Je,We),we;if(We)we=oe;else{var me=ee(E,We);me?we=he(Je,me,Ne):we={}}return L(ke,we)},pt=function(Je,We,_e,Ne,ke){var we=ee(Je,We),me;if(we)me=we;else if(We)me=oe;else if(J)if(Je.parent){var Me=$||_e;Me&&!We?me=he(Je,Me,Ne):(me={},C.extendFlat(me,ft(Je,We)))}else me=C.extendFlat({},Je),k&&(ke.orientation==="h"?ke.flipX?me.x0=Je.x1:me.x1=0:ke.flipY?me.y0=Je.y1:me.y1=0);else me={};return L(me,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},At=function(Je,We,_e,Ne){var ke=ee(Je,We),we={},me=le(Je,We,_e,Ne);C.extendFlat(we,{transform:et({x0:me.x0,x1:me.x1,y0:me.y0,y1:me.y1,textBB:Je.textBB,_text:Je._text},{isHeader:n.isHeader(Je,M)})}),ke?we=ke:Je.parent&&C.extendFlat(we,ft(Je,We));var Me=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&t(M.type,Me,l),L(we,{transform:{scale:Me.scale,rotate:Me.rotate,textX:Me.textX,textY:Me.textY,anchorX:Me.anchorX,anchorY:Me.anchorY,targetX:Me.targetX,targetY:Me.targetY}})},Pt=function(Je,We,_e,Ne,ke){var we=Ne[0],me=Ne[1];z?Je.exit().transition().each(function(){var Me=p.select(this),Se=Me.select("path.surface");Se.transition().attrTween("d",function(Ze){var tt=dt(Ze,We,_e,[we,me]);return function(ct){return ke(tt(ct))}});var Ve=Me.select("g.slicetext");Ve.attr("opacity",0)}).remove():Je.exit().remove()},Ht=function(Je){var We=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&t(M.type,We,l),C.getTextTransform({textX:We.textX,textY:We.textY,anchorX:We.anchorX,anchorY:We.anchorY,targetX:We.targetX,targetY:We.targetY,scale:We.scale,rotate:We.rotate})};z&&(o.each(function(Je){Z[h(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(Z[h(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),P.each(function(Je){se[h(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(se[h(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!J&&n.isEntry(Je)&&(J=Je)})),$=v(s,m,E,P,{width:U,height:O,viewX:ue,viewY:ie,pathSlice:qe,toMoveInsideSlice:et,prevEntry:J,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:At,handleSlicesExit:Pt,hasTransition:z,strTransform:Ht}),M.pathbar.visible?a(s,m,E,o,{barDifY:ne,width:H,height:Y,viewX:Le,viewY:Ae,pathSlice:Ce,toMoveInsideSlice:et,makeUpdateSliceInterpolator:pt,makeUpdateTextInterpolator:At,handleSlicesExit:Pt,hasTransition:z,strTransform:Ht}):o.remove()}},96362:function(V,B,e){var p=e(39898),L=e(7901),n=e(71828),C=e(2791),T=e(72597).resizeText,d=e(43467);function y(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");T(t,i,"treemap"),i.each(function(a){var h=p.select(this),u=a[0],s=u.trace;h.style("opacity",s.opacity),h.selectAll("path.surface").each(function(m){p.select(this).call(r,m,s,t,{hovered:!1})})})}function r(t,i,a,h,u){var s=(u||{}).hovered,m=i.data.data,f=m.i,S,v,l=m.color,g=C.isHierarchyRoot(i),M=1;if(s)S=a._hovered.marker.line.color,v=a._hovered.marker.line.width;else if(g&&l===a.root.color)M=100,S="rgba(0,0,0,0)",v=0;else if(S=n.castOption(a,f,"marker.line.color")||L.defaultLine,v=n.castOption(a,f,"marker.line.width")||0,!a._hasColorscale&&!i.onPathbar){var A=a.marker.depthfade;if(A){var k=L.combine(L.addOpacity(a._backgroundColor,.75),l),w;if(A===!0){var E=C.getMaxDepth(a);isFinite(E)?C.isLeaf(i)?w=0:w=a._maxVisibleLayers-(i.data.depth-a._entryDepth):w=i.data.height+1}else w=i.data.depth-a._entryDepth,a._atRootLevel||w++;if(w>0)for(var b=0;b<w;b++){var o=.5*b/w;l=L.combine(L.addOpacity(k,o),l)}}}t.call(d,i,a,h,l).style("stroke-width",v).call(L.stroke,S).style("opacity",M)}V.exports={style:y,styleOne:r}},68875:function(V,B,e){var p=e(53522),L=e(1426).extendFlat,n=e(12663).axisHoverFormat;V.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(V,B,e){var p=e(71828),L=e(89298),n=e(48518),C=e(60168),T=e(50606).BADNUM;V.exports=function(i,a){var h=n(i,a);if(h[0].t.empty)return h;for(var u=i._fullLayout,s=L.getFromId(i,a[a.orientation==="h"?"xaxis":"yaxis"]),m=1/0,f=-1/0,S=0,v=0,l=0;l<h.length;l++){var g=h[l],M=g.pts.map(C.extractVal),A=g.bandwidth=y(a,g,M),k=g.span=r(a,g,s,A);if(g.min===g.max&&A===0)k=g.span=[g.min,g.max],g.density=[{v:1,t:k[0]}],g.bandwidth=A,S=Math.max(S,1);else{var w=k[1]-k[0],E=Math.ceil(w/(A/3)),b=w/E;if(!isFinite(b)||!isFinite(E))return p.error("Something went wrong with computing the violin span"),h[0].t.empty=!0,h;var o=C.makeKDE(g,a,M);g.density=new Array(E);for(var P=0,x=k[0];x<k[1]+b/2;P++,x+=b){var z=o(x);g.density[P]={v:z,t:x},S=Math.max(S,z)}}v=Math.max(v,M.length),m=Math.min(m,k[0]),f=Math.max(f,k[1])}var _=L.findExtremes(s,[m,f],{padded:!0});if(a._extremes[s._id]=_,a.width)h[0].t.maxKDE=S;else{var G=u._violinScaleGroupStats,F=a.scalegroup,N=G[F];N?(N.maxKDE=Math.max(N.maxKDE,S),N.maxCount=Math.max(N.maxCount,v)):G[F]={maxKDE:S,maxCount:v}}return h[0].t.labels.kde=p._(i,"kde:"),h};function d(t,i,a){var h=Math.min(i,a/1.349);return 1.059*h*Math.pow(t,-.2)}function y(t,i,a){var h=i.max-i.min;if(!h)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,h/1e4);var u=a.length,s=p.stdev(a,u-1,i.mean);return Math.max(d(u,s,i.q3-i.q1),h/100)}function r(t,i,a,h){var u=t.spanmode,s=t.span||[],m=[i.min,i.max],f=[i.min-2*h,i.max+2*h],S;function v(g){var M=s[g],A=a.type==="multicategory"?a.r2c(M):a.d2c(M,0,t[i.valLetter+"calendar"]);return A===T?f[g]:A}u==="soft"?S=f:u==="hard"?S=m:S=[v(0),v(1)];var l={type:"linear",range:S};return L.setConvert(l),l.cleanRange(),S}},86403:function(V,B,e){var p=e(37188).setPositionOffset,L=["v","h"];V.exports=function(C,T){for(var d=C.calcdata,y=T.xaxis,r=T.yaxis,t=0;t<L.length;t++){for(var i=L[t],a=i==="h"?r:y,h=[],u=0;u<d.length;u++){var s=d[u],m=s[0].t,f=s[0].trace;f.visible===!0&&f.type==="violin"&&!m.empty&&f.orientation===i&&f.xaxis===y._id&&f.yaxis===r._id&&h.push(u)}p("violin",C,h,a)}}},15899:function(V,B,e){var p=e(71828),L=e(7901),n=e(36411),C=e(68875);V.exports=function(d,y,r,t){function i(b,o){return p.coerce(d,y,C,b,o)}function a(b,o){return p.coerce2(d,y,C,b,o)}if(n.handleSampleDefaults(d,y,i,t),y.visible!==!1){i("bandwidth"),i("side");var h=i("width");h||(i("scalegroup",y.name),i("scalemode"));var u=i("span"),s;Array.isArray(u)&&(s="manual"),i("spanmode",s);var m=i("line.color",(d.marker||{}).color||r),f=i("line.width"),S=i("fillcolor",L.addOpacity(y.line.color,.5));n.handlePointsDefaults(d,y,i,{prefix:""});var v=a("box.width"),l=a("box.fillcolor",S),g=a("box.line.color",m),M=a("box.line.width",f),A=i("box.visible",!!(v||l||g||M));A||(y.box={visible:!1});var k=a("meanline.color",m),w=a("meanline.width",f),E=i("meanline.visible",!!(k||w));E||(y.meanline={visible:!1}),i("quartilemethod")}}},60168:function(V,B,e){var p=e(71828),L={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};B.makeKDE=function(n,C,T){var d=T.length,y=L.gaussian,r=n.bandwidth,t=1/(d*r);return function(i){for(var a=0,h=0;h<d;h++)a+=y((i-T[h])/r);return t*a}},B.getPositionOnKdePath=function(n,C,T){var d,y;C.orientation==="h"?(d="y",y="x"):(d="x",y="y");var r=p.findPointOnPath(n.path,T,y,{pathLength:n.pathLength}),t=n.posCenterPx,i=r[d],a=C.side==="both"?2*t-i:t;return[i,a]},B.getKdeValue=function(n,C,T){var d=n.pts.map(B.extractVal),y=B.makeKDE(n,C,d);return y(T)/n.posDensityScale},B.extractVal=function(n){return n.v}},57634:function(V,B,e){var p=e(7901),L=e(71828),n=e(89298),C=e(41868),T=e(60168);V.exports=function(y,r,t,i,a){a||(a={});var h=a.hoverLayer,u=y.cd,s=u[0].trace,m=s.hoveron,f=m.indexOf("violins")!==-1,S=m.indexOf("kde")!==-1,v=[],l,g;if(f||S){var M=C.hoverOnBoxes(y,r,t,i);if(S&&M.length>0){var A=y.xa,k=y.ya,w,E,b,o,P;s.orientation==="h"?(P=r,w="y",b=k,E="x",o=A):(P=t,w="x",b=A,E="y",o=k);var x=u[y.index];if(P>=x.span[0]&&P<=x.span[1]){var z=L.extendFlat({},y),_=o.c2p(P,!0),G=T.getKdeValue(x,s,P),F=T.getPositionOnKdePath(x,s,_),N=b._offset,U=b._length;z[w+"0"]=F[0],z[w+"1"]=F[1],z[E+"0"]=z[E+"1"]=_,z[E+"Label"]=E+": "+n.hoverLabelText(o,P,s[E+"hoverformat"])+", "+u[0].t.labels.kde+" "+G.toFixed(3);for(var O=0,H=0;H<M.length;H++)if(M[H].attr==="med"){O=H;break}z.spikeDistance=M[O].spikeDistance;var Y=w+"Spike";z[Y]=M[O][Y],M[O].spikeDistance=void 0,M[O][Y]=void 0,z.hovertemplate=!1,v.push(z),g={},g[w+"1"]=L.constrain(N+F[0],N,N+U),g[w+"2"]=L.constrain(N+F[1],N,N+U),g[E+"1"]=g[E+"2"]=o._offset+_}}f&&(v=v.concat(M))}m.indexOf("points")!==-1&&(l=C.hoverOnPoints(y,r,t));var q=h.selectAll(".violinline-"+s.uid).data(g?[0]:[]);return q.enter().append("line").classed("violinline-"+s.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(g).call(p.stroke,y.color),i==="closest"?l?[l]:v:(l&&v.push(l),v)}},47462:function(V,B,e){V.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(V,B,e){var p=e(40094),L=e(71828).extendFlat;V.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},33598:function(V,B,e){var p=e(71828),L=e(9228),n=e(4199);V.exports=function(T,d,y){function r(t,i){return p.coerce(T,d,L,t,i)}n._supply(T,d,y,r,"violin")}},28443:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(86047),T=e(34621),d=e(60168);V.exports=function(r,t,i,a){var h=r._context.staticPlot,u=r._fullLayout,s=t.xaxis,m=t.yaxis;function f(S,v){var l=T(S,{xaxis:s,yaxis:m,trace:v,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(l[0],1)}L.makeTraceGroups(a,i,"trace violins").each(function(S){var v=p.select(this),l=S[0],g=l.t,M=l.trace;if(M.visible!==!0||g.empty){v.remove();return}var A=g.bPos,k=g.bdPos,w=t[g.valLetter+"axis"],E=t[g.posLetter+"axis"],b=M.side==="both",o=b||M.side==="positive",P=b||M.side==="negative",x=v.selectAll("path.violin").data(L.identity);x.enter().append("path").style("vector-effect",h?"none":"non-scaling-stroke").attr("class","violin"),x.exit().remove(),x.each(function(H){var Y=p.select(this),q=H.density,ne=q.length,oe=E.c2l(H.pos+A,!0),he=E.l2p(oe),J;if(M.width)J=g.maxKDE/k;else{var Z=u._violinScaleGroupStats[M.scalegroup];J=M.scalemode==="count"?Z.maxKDE/k*(Z.maxCount/H.pts.length):Z.maxKDE/k}var se,$,ee,le,Q,K,ue;if(o){for(K=new Array(ne),le=0;le<ne;le++)ue=K[le]={},ue[g.posLetter]=oe+q[le].v/J,ue[g.valLetter]=w.c2l(q[le].t,!0);se=f(K,M)}if(P){for(K=new Array(ne),Q=0,le=ne-1;Q<ne;Q++,le--)ue=K[Q]={},ue[g.posLetter]=oe-q[le].v/J,ue[g.valLetter]=w.c2l(q[le].t,!0);$=f(K,M)}if(b)ee=se+"L"+$.substr(1)+"Z";else{var ie=[he,w.c2p(q[0].t)],ce=[he,w.c2p(q[ne-1].t)];M.orientation==="h"&&(ie.reverse(),ce.reverse()),o?ee="M"+ie+"L"+se.substr(1)+"L"+ce:ee="M"+ce+"L"+$.substr(1)+"L"+ie}Y.attr("d",ee),H.posCenterPx=he,H.posDensityScale=J*k,H.path=Y.node(),H.pathLength=H.path.getTotalLength()/(b?2:1)});var z=M.box,_=z.width,G=(z.line||{}).width,F,N;b?(F=k*_,N=0):o?(F=[0,k*_/2],N=G*{x:1,y:-1}[g.posLetter]):(F=[k*_/2,0],N=G*{x:-1,y:1}[g.posLetter]),C.plotBoxAndWhiskers(v,{pos:E,val:w},M,{bPos:A,bdPos:F,bPosPxOffset:N}),C.plotBoxMean(v,{pos:E,val:w},M,{bPos:A,bdPos:F,bPosPxOffset:N});var U;!M.box.visible&&M.meanline.visible&&(U=L.identity);var O=v.selectAll("path.meanline").data(U||[]);O.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",h?"none":"non-scaling-stroke"),O.exit().remove(),O.each(function(H){var Y=w.c2p(H.mean,!0),q=d.getPositionOnKdePath(H,M,Y);p.select(this).attr("d",M.orientation==="h"?"M"+Y+","+q[0]+"V"+q[1]:"M"+q[0]+","+Y+"H"+q[1])}),C.plotPoints(v,{x:s,y:m},M,g)})}},31847:function(V,B,e){var p=e(39898),L=e(7901),n=e(16296).stylePoints;V.exports=function(T){var d=p.select(T).selectAll("g.trace.violins");d.style("opacity",function(y){return y[0].trace.opacity}),d.each(function(y){var r=y[0].trace,t=p.select(this),i=r.box||{},a=i.line||{},h=r.meanline||{},u=h.width;t.selectAll("path.violin").style("stroke-width",r.line.width+"px").call(L.stroke,r.line.color).call(L.fill,r.fillcolor),t.selectAll("path.box").style("stroke-width",a.width+"px").call(L.stroke,a.color).call(L.fill,i.fillcolor);var s={"stroke-width":u+"px","stroke-dasharray":2*u+"px,"+u+"px"};t.selectAll("path.mean").style(s).call(L.stroke,h.color),t.selectAll("path.meanline").style(s).call(L.stroke,h.color),n(t,r,T)})}},16336:function(V,B,e){var p=e(50693),L=e(16249),n=e(54532),C=e(9012),T=e(1426).extendFlat,d=e(30962).overrideAll,y=V.exports=d(T({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:n.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:T({},C.hoverinfo),showlegend:T({},C.showlegend,{dflt:!1})}),"calc","nested");y.x.editType=y.y.editType=y.z.editType=y.value.editType="calc+clearAxisTypes",y.transforms=void 0},64809:function(V,B,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,n=e(71828).isArrayOrTypedArray,C=e(78614),T=e(21081).extractOpts,d=e(90060),y=e(22674).findNearestOnAxis,r=e(22674).generateIsoMeshes;function t(h,u,s){this.scene=h,this.uid=s,this.mesh=u,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(h){if(h.object===this.mesh){var u=h.data.index,s=this.data._meshX[u],m=this.data._meshY[u],f=this.data._meshZ[u],S=this.data._Ys.length,v=this.data._Zs.length,l=y(s,this.data._Xs).id,g=y(m,this.data._Ys).id,M=y(f,this.data._Zs).id,A=h.index=M+v*g+v*S*l;h.traceCoordinate=[this.data._meshX[A],this.data._meshY[A],this.data._meshZ[A],this.data._value[A]];var k=this.data.hovertext||this.data.text;return n(k)&&k[A]!==void 0?h.textLabel=k[A]:k&&(h.textLabel=k),!0}},i.update=function(h){var u=this.scene,s=u.fullSceneLayout;this.data=r(h);function m(g,M,A,k){return M.map(function(w){return g.d2l(w,0,k)*A})}var f=d(m(s.xaxis,h._meshX,u.dataScale[0],h.xcalendar),m(s.yaxis,h._meshY,u.dataScale[1],h.ycalendar),m(s.zaxis,h._meshZ,u.dataScale[2],h.zcalendar)),S=d(h._meshI,h._meshJ,h._meshK),v={positions:f,cells:S,lightPosition:[h.lightposition.x,h.lightposition.y,h.lightposition.z],ambient:h.lighting.ambient,diffuse:h.lighting.diffuse,specular:h.lighting.specular,roughness:h.lighting.roughness,fresnel:h.lighting.fresnel,vertexNormalsEpsilon:h.lighting.vertexnormalsepsilon,faceNormalsEpsilon:h.lighting.facenormalsepsilon,opacity:h.opacity,opacityscale:h.opacityscale,contourEnable:h.contour.show,contourColor:C(h.contour.color).slice(0,3),contourWidth:h.contour.width,useFacetNormals:h.flatshading},l=T(h);v.vertexIntensity=h._meshIntensity,v.vertexIntensityBounds=[l.min,l.max],v.colormap=L(h),this.mesh.update(v)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function a(h,u){var s=h.glplot.gl,m=p({gl:s}),f=new t(h,m,u.uid);return m._trace=f,f.update(u),h.glplot.add(m),f}V.exports=a},47651:function(V,B,e){var p=e(71828),L=e(16336),n=e(82738).supplyIsoDefaults,C=e(91831).opacityscaleDefaults;V.exports=function(d,y,r,t){function i(a,h){return p.coerce(d,y,L,a,h)}n(d,y,r,t,i),C(d,y,t,i)}},17659:function(V,B,e){V.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(V,B,e){var p=e(1486),L=e(82196).line,n=e(9012),C=e(12663).axisHoverFormat,T=e(5386).fF,d=e(5386).si,y=e(48334),r=e(1426).extendFlat,t=e(7901);function i(a){return{marker:{color:r({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:r({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:r({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}V.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:T({},{keys:y.eventDataKeys}),hoverinfo:r({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:y.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:i(),decreasing:i(),totals:i(),connector:{line:{color:r({},L.color,{dflt:t.defaultLine}),width:r({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup}},52752:function(V,B,e){var p=e(89298),L=e(42973),n=e(71828).mergeArray,C=e(66279),T=e(50606).BADNUM;function d(r){return r==="a"||r==="absolute"}function y(r){return r==="t"||r==="total"}V.exports=function(t,i){var a=p.getFromId(t,i.xaxis||"x"),h=p.getFromId(t,i.yaxis||"y"),u,s,m,f,S,v;i.orientation==="h"?(u=a.makeCalcdata(i,"x"),m=h.makeCalcdata(i,"y"),f=L(i,h,"y",m),S=!!i.yperiodalignment,v="y"):(u=h.makeCalcdata(i,"y"),m=a.makeCalcdata(i,"x"),f=L(i,a,"x",m),S=!!i.xperiodalignment,v="x"),s=f.vals;for(var l=Math.min(s.length,u.length),g=new Array(l),M=0,A,k=!1,w=0;w<l;w++){var E=u[w]||0,b=!1;(u[w]!==T||y(i.measure[w])||d(i.measure[w]))&&w+1<l&&(u[w+1]!==T||y(i.measure[w+1])||d(i.measure[w+1]))&&(b=!0);var o=g[w]={i:w,p:s[w],s:E,rawS:E,cNext:b};d(i.measure[w])?(M=o.s,o.isSum=!0,o.dir="totals",o.s=M):y(i.measure[w])?(o.isSum=!0,o.dir="totals",o.s=M):(o.isSum=!1,o.dir=o.rawS<0?"decreasing":"increasing",A=o.s,o.s=M+A,M+=A),o.dir==="totals"&&(k=!0),S&&(g[w].orig_p=m[w],g[w][v+"End"]=f.ends[w],g[w][v+"Start"]=f.starts[w]),i.ids&&(o.id=String(i.ids[w])),o.v=(i.base||0)+M}return g.length&&(g[0].hasTotals=k),n(i.text,g,"tx"),n(i.hovertext,g,"htx"),C(g,i),g}},48334:function(V){V.exports={eventDataKeys:["initial","delta","final"]}},70766:function(V,B,e){var p=e(11661).setGroupPositions;V.exports=function(n,C){var T=n._fullLayout,d=n._fullData,y=n.calcdata,r=C.xaxis,t=C.yaxis,i=[],a=[],h=[],u,s;for(s=0;s<d.length;s++){var m=d[s];m.visible===!0&&m.xaxis===r._id&&m.yaxis===t._id&&m.type==="waterfall"&&(u=y[s],m.orientation==="h"?h.push(u):a.push(u),i.push(u))}var f={mode:T.waterfallmode,norm:T.waterfallnorm,gap:T.waterfallgap,groupgap:T.waterfallgroupgap};for(p(n,r,t,a,f),p(n,t,r,h,f),s=0;s<i.length;s++){u=i[s];for(var S=0;S<u.length;S++){var v=u[S];v.isSum===!1&&(v.s0+=S===0?0:u[S-1].s),S+1<u.length&&(u[S].nextP0=u[S+1].p0,u[S].nextS0=u[S+1].s0)}}}},83266:function(V,B,e){var p=e(71828),L=e(26125),n=e(90769).handleText,C=e(67513),T=e(73927),d=e(43037),y=e(7901),r=e(22372),t=r.INCREASING.COLOR,i=r.DECREASING.COLOR,a="#4499FF";function h(m,f,S){m(f+".marker.color",S),m(f+".marker.line.color",y.defaultLine),m(f+".marker.line.width")}function u(m,f,S,v){function l(w,E){return p.coerce(m,f,d,w,E)}var g=C(m,f,v,l);if(!g){f.visible=!1;return}T(m,f,v,l),l("xhoverformat"),l("yhoverformat"),l("measure"),l("orientation",f.x&&!f.y?"h":"v"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate");var M=l("textposition");n(m,f,v,l,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&(l("texttemplate"),f.texttemplate||l("textinfo")),h(l,"increasing",t),h(l,"decreasing",i),h(l,"totals",a);var A=l("connector.visible");if(A){l("connector.mode");var k=l("connector.line.width");k&&(l("connector.line.color"),l("connector.line.dash"))}}function s(m,f){var S,v;function l(M){return p.coerce(v._input,v,d,M)}if(f.waterfallmode==="group")for(var g=0;g<m.length;g++)v=m[g],S=v._input,L(S,v,f,l)}V.exports={supplyDefaults:u,crossTraceDefaults:s}},58593:function(V){V.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},61326:function(V,B,e){var p=e(89298).hoverLabelText,L=e(7901).opacity,n=e(95423).hoverOnBars,C=e(22372),T={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};V.exports=function(r,t,i,a,h){var u=n(r,t,i,a,h);if(!u)return;var s=u.cd,m=s[0].trace,f=m.orientation==="h",S=f?"x":"y",v=f?r.xa:r.ya;function l(x){return p(v,x,m[S+"hoverformat"])}var g=u.index,M=s[g],A=M.isSum?M.b+M.s:M.rawS;u.initial=M.b+M.s-A,u.delta=A,u.final=u.initial+u.delta;var k=l(Math.abs(u.delta));u.deltaLabel=A<0?"("+k+")":k,u.finalLabel=l(u.final),u.initialLabel=l(u.initial);var w=M.hi||m.hoverinfo,E=[];if(w&&w!=="none"&&w!=="skip"){var b=w==="all",o=w.split("+"),P=function(x){return b||o.indexOf(x)!==-1};M.isSum||(P("final")&&(f?!P("x"):!P("y"))&&E.push(u.finalLabel),P("delta")&&(A<0?E.push(u.deltaLabel+" "+T.decreasing):E.push(u.deltaLabel+" "+T.increasing)),P("initial")&&E.push("Initial: "+u.initialLabel))}return E.length&&(u.extraText=E.join("<br>")),u.color=d(m,M),[u]};function d(y,r){var t=y[r.dir].marker,i=t.color,a=t.line.color,h=t.line.width;if(L(i))return i;if(L(a)&&h)return a}},19990:function(V,B,e){V.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(V){V.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(V,B,e){var p=e(71828),L=e(13494);V.exports=function(n,C,T){var d=!1;function y(i,a){return p.coerce(n,C,L,i,a)}for(var r=0;r<T.length;r++){var t=T[r];if(t.visible&&t.type==="waterfall"){d=!0;break}}d&&(y("waterfallmode"),y("waterfallgap",.2),y("waterfallgroupgap"))}},30436:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(50606).BADNUM,T=e(17295),d=e(72597).clearMinTextSize;V.exports=function(i,a,h,u){var s=i._fullLayout;d("waterfall",s),T.plot(i,a,h,u,{mode:s.waterfallmode,norm:s.waterfallmode,gap:s.waterfallgap,groupgap:s.waterfallgroupgap}),y(i,a,h,u)};function y(t,i,a,h){var u=i.xaxis,s=i.yaxis;L.makeTraceGroups(h,a,"trace bars").each(function(m){var f=p.select(this),S=m[0].trace,v=L.ensureSingle(f,"g","lines");if(!S.connector||!S.connector.visible){v.remove();return}var l=S.orientation==="h",g=S.connector.mode,M=v.selectAll("g.line").data(L.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var A=M.size();M.each(function(k,w){if(!(w!==A-1&&!k.cNext)){var E=r(k,u,s,l),b=E[0],o=E[1],P="";b[0]!==C&&o[0]!==C&&b[1]!==C&&o[1]!==C&&(g==="spanning"&&!k.isSum&&w>0&&(l?P+="M"+b[0]+","+o[1]+"V"+o[0]:P+="M"+b[1]+","+o[0]+"H"+b[0]),g!=="between"&&(k.isSum||w<A-1)&&(l?P+="M"+b[1]+","+o[0]+"V"+o[1]:P+="M"+b[0]+","+o[1]+"H"+b[1]),b[2]!==C&&o[2]!==C&&(l?P+="M"+b[1]+","+o[1]+"V"+o[2]:P+="M"+b[1]+","+o[1]+"H"+b[2])),P===""&&(P="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",P).call(n.setClipUrl,i.layerClipId,t)}})})}function r(t,i,a,h){var u=[],s=[],m=h?i:a,f=h?a:i;return u[0]=m.c2p(t.s0,!0),s[0]=f.c2p(t.p0,!0),u[1]=m.c2p(t.s1,!0),s[1]=f.c2p(t.p1,!0),u[2]=m.c2p(t.nextS0,!0),s[2]=f.c2p(t.nextP0,!0),h?[u,s]:[s,u]}},55750:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901),C=e(37822).DESELECTDIM,T=e(16688),d=e(72597).resizeText,y=T.styleTextPoints;function r(t,i,a){var h=a||p.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");d(t,h,"waterfall"),h.style("opacity",function(u){return u[0].trace.opacity}),h.each(function(u){var s=p.select(this),m=u[0].trace;s.selectAll(".point > path").each(function(f){if(!f.isBlank){var S=m[f.dir].marker;p.select(this).call(n.fill,S.color).call(n.stroke,S.line.color).call(L.dashLine,S.line.dash,S.line.width).style("opacity",m.selectedpoints&&!f.selected?C:1)}}),y(s,m,t),s.selectAll(".lines").each(function(){var f=m.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),f.width,f.color,f.dash)})})}V.exports={style:r}},82887:function(V,B,e){var p=e(89298),L=e(71828),n=e(86281),C=e(79344).p,T=e(50606).BADNUM;B.moduleType="transform",B.name="aggregate";var d=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},y=d.aggregations;B.supplyDefaults=function(u,s){var m={},f;function S(x,z){return L.coerce(u,m,d,x,z)}var v=S("enabled");if(!v)return m;var l=n.findArrayAttributes(s),g={};for(f=0;f<l.length;f++)g[l[f]]=1;var M=S("groups");if(!Array.isArray(M)){if(!g[M])return m.enabled=!1,m;g[M]=0}var A=u.aggregations||[],k=m.aggregations=new Array(A.length),w;function E(x,z){return L.coerce(A[f],w,y,x,z)}for(f=0;f<A.length;f++){w={_index:f};var b=E("target"),o=E("func"),P=E("enabled");P&&b&&(g[b]||o==="count"&&g[b]===void 0)?(o==="stddev"&&E("funcmode"),g[b]=0,k[f]=w):k[f]={enabled:!1,_index:f}}for(f=0;f<l.length;f++)g[l[f]]&&k.push({target:l[f],func:y.func.dflt,enabled:!0,_index:-1});return m},B.calcTransform=function(u,s,m){if(m.enabled){var f=m.groups,S=L.getTargetArray(s,{target:f});if(S){var v,l,g,M,A={},k={},w=[],E=C(s.transforms,m),b=S.length;for(s._length&&(b=Math.min(b,s._length)),v=0;v<b;v++)l=S[v],g=A[l],g===void 0?(A[l]=w.length,M=[v],w.push(M),k[A[l]]=E(v)):(w[g].push(v),k[A[l]]=(k[A[l]]||[]).concat(E(v)));m._indexToPoints=k;var o=m.aggregations;for(v=0;v<o.length;v++)r(u,s,w,o[v]);typeof f=="string"&&r(u,s,w,{target:f,func:"first",enabled:!0}),s._length=w.length}}};function r(u,s,m,f){if(f.enabled){for(var S=f.target,v=L.nestedProperty(s,S),l=v.get(),g=p.getDataConversions(u,s,S,l),M=t(f,g),A=new Array(m.length),k=0;k<m.length;k++)A[k]=M(l,m[k]);v.set(A),f.func==="count"&&L.pushUnique(s._arrayAttrs,S)}}function t(u,s){var m=u.func,f=s.d2c,S=s.c2d;switch(m){case"count":return i;case"first":return a;case"last":return h;case"sum":return function(v,l){for(var g=0,M=0;M<l.length;M++){var A=f(v[l[M]]);A!==T&&(g+=A)}return S(g)};case"avg":return function(v,l){for(var g=0,M=0,A=0;A<l.length;A++){var k=f(v[l[A]]);k!==T&&(g+=k,M++)}return M?S(g/M):T};case"min":return function(v,l){for(var g=1/0,M=0;M<l.length;M++){var A=f(v[l[M]]);A!==T&&(g=Math.min(g,A))}return g===1/0?T:S(g)};case"max":return function(v,l){for(var g=-1/0,M=0;M<l.length;M++){var A=f(v[l[M]]);A!==T&&(g=Math.max(g,A))}return g===-1/0?T:S(g)};case"range":return function(v,l){for(var g=1/0,M=-1/0,A=0;A<l.length;A++){var k=f(v[l[A]]);k!==T&&(g=Math.min(g,k),M=Math.max(M,k))}return M===-1/0||g===1/0?T:S(M-g)};case"change":return function(v,l){var g=f(v[l[0]]),M=f(v[l[l.length-1]]);return g===T||M===T?T:S(M-g)};case"median":return function(v,l){for(var g=[],M=0;M<l.length;M++){var A=f(v[l[M]]);A!==T&&g.push(A)}if(!g.length)return T;g.sort(L.sorterAsc);var k=(g.length-1)/2;return S((g[Math.floor(k)]+g[Math.ceil(k)])/2)};case"mode":return function(v,l){for(var g={},M=0,A=T,k=0;k<l.length;k++){var w=f(v[l[k]]);if(w!==T){var E=g[w]=(g[w]||0)+1;E>M&&(M=E,A=w)}}return M?S(A):T};case"rms":return function(v,l){for(var g=0,M=0,A=0;A<l.length;A++){var k=f(v[l[A]]);k!==T&&(g+=k*k,M++)}return M?S(Math.sqrt(g/M)):T};case"stddev":return function(v,l){var g=0,M=0,A=1,k=T,w;for(w=0;w<l.length&&k===T;w++)k=f(v[l[w]]);if(k===T)return T;for(;w<l.length;w++){var E=f(v[l[w]]);if(E!==T){var b=E-k;g+=b,M+=b*b,A++}}var o=u.funcmode==="sample"?A-1:A;return o?Math.sqrt((M-g*g/A)/o):0}}}function i(u,s){return s.length}function a(u,s){return u[s[0]]}function h(u,s){return u[s[s.length-1]]}},14382:function(V,B,e){var p=e(71828),L=e(73972),n=e(89298),C=e(79344).p,T=e(74808),d=T.COMPARISON_OPS,y=T.INTERVAL_OPS,r=T.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(y).concat(r),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(i){var a={};function h(f,S){return p.coerce(i,a,B.attributes,f,S)}var u=h("enabled");if(u){var s=h("target");if(p.isArrayOrTypedArray(s)&&s.length===0)return a.enabled=!1,a;h("preservegaps"),h("operation"),h("value");var m=L.getComponentMethod("calendars","handleDefaults");m(i,a,"valuecalendar",null),m(i,a,"targetcalendar",null)}return a},B.calcTransform=function(i,a,h){if(!h.enabled)return;var u=p.getTargetArray(a,h);if(!u)return;var s=h.target,m=u.length;a._length&&(m=Math.min(m,a._length));var f=h.targetcalendar,S=a._arrayAttrs,v=h.preservegaps;if(typeof s=="string"){var l=p.nestedProperty(a,s+"calendar").get();l&&(f=l)}var g=n.getDataToCoordFunc(i,a,s,u),M=t(h,g,f),A={},k={},w=0;function E(_,G){for(var F=0;F<S.length;F++){var N=p.nestedProperty(a,S[F]);_(N,G)}}var b,o;v?(b=function(_){A[_.astr]=p.extendDeep([],_.get()),_.set(new Array(m))},o=function(_,G){var F=A[_.astr][G];_.get()[G]=F}):(b=function(_){A[_.astr]=p.extendDeep([],_.get()),_.set([])},o=function(_,G){var F=A[_.astr][G];_.get().push(F)}),E(b);for(var P=C(a.transforms,h),x=0;x<m;x++){var z=M(u[x]);z?(E(o,x),k[w++]=P(x)):v&&w++}h._indexToPoints=k,a._length=w};function t(i,a,h){var u=i.operation,s=i.value,m=p.isArrayOrTypedArray(s);function f(g){return g.indexOf(u)!==-1}var S=function(g){return a(g,0,i.valuecalendar)},v=function(g){return a(g,0,h)},l;switch(f(d)?l=S(m?s[0]:s):f(y)?l=m?[S(s[0]),S(s[1])]:[S(s),S(s)]:f(r)&&(l=m?s.map(S):[S(s)]),u){case"=":return function(g){return v(g)===l};case"!=":return function(g){return v(g)!==l};case"<":return function(g){return v(g)<l};case"<=":return function(g){return v(g)<=l};case">":return function(g){return v(g)>l};case">=":return function(g){return v(g)>=l};case"[]":return function(g){var M=v(g);return M>=l[0]&&M<=l[1]};case"()":return function(g){var M=v(g);return M>l[0]&&M<l[1]};case"[)":return function(g){var M=v(g);return M>=l[0]&&M<l[1]};case"(]":return function(g){var M=v(g);return M>l[0]&&M<=l[1]};case"][":return function(g){var M=v(g);return M<=l[0]||M>=l[1]};case")(":return function(g){var M=v(g);return M<l[0]||M>l[1]};case"](":return function(g){var M=v(g);return M<=l[0]||M>l[1]};case")[":return function(g){var M=v(g);return M<l[0]||M>=l[1]};case"{}":return function(g){return l.indexOf(v(g))!==-1};case"}{":return function(g){return l.indexOf(v(g))===-1}}}},43102:function(V,B,e){var p=e(71828),L=e(86281),n=e(74875),C=e(79344).p;B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(d,y,r){var t,i={};function a(S,v){return p.coerce(d,i,B.attributes,S,v)}var h=a("enabled");if(!h)return i;a("groups"),a("nameformat",r._dataLength>1?"%{group} (%{trace})":"%{group}");var u=d.styles,s=i.styles=[];if(u)for(t=0;t<u.length;t++){var m=s[t]={};p.coerce(u[t],s[t],B.attributes.styles,"target");var f=p.coerce(u[t],s[t],B.attributes.styles,"value");p.isPlainObject(f)?m.value=p.extendDeep({},f):f&&delete m.value}return i},B.transform=function(d,y){var r,t,i,a=[];for(t=0;t<d.length;t++)for(r=T(d[t],y),i=0;i<r.length;i++)a.push(r[i]);return a};function T(d,y){var r,t,i,a,h,u,s,m,f,S,v=y.transform,l=y.transformIndex,g=d.transforms[l].groups,M=C(d.transforms,v);if(!p.isArrayOrTypedArray(g)||g.length===0)return[d];var A=p.filterUnique(g),k=new Array(A.length),w=g.length,E=L.findArrayAttributes(d),b=v.styles||[],o={};for(r=0;r<b.length;r++)o[b[r].target]=b[r].value;v.styles&&(S=p.keyedContainer(v,"styles","target","value.name"));var P={},x={};for(r=0;r<A.length;r++){u=A[r],P[u]=r,x[u]=0,s=k[r]=p.extendDeepNoArrays({},d),s._group=u,s.transforms[l]._indexToPoints={};var z=null;for(S&&(z=S.get(u)),z||z===""?s.name=z:s.name=p.templateString(v.nameformat,{trace:d.name,group:u}),m=s.transforms,s.transforms=[],t=0;t<m.length;t++)s.transforms[t]=p.extendDeepNoArrays({},m[t]);for(t=0;t<E.length;t++)p.nestedProperty(s,E[t]).set([])}for(i=0;i<E.length;i++){for(a=E[i],t=0,f=[];t<A.length;t++)f[t]=p.nestedProperty(k[t],a).get();for(h=p.nestedProperty(d,a).get(),t=0;t<w;t++)f[P[g[t]]].push(h[t])}for(t=0;t<w;t++){s=k[P[g[t]]];var _=s.transforms[l]._indexToPoints;_[x[g[t]]]=M(t),x[g[t]]++}for(r=0;r<A.length;r++)u=A[r],s=k[r],n.clearExpandedTraceDefaultColors(s),s=p.extendDeepNoArrays(s,o[u]||{});return k}},79344:function(V,B){B.p=function(e,p){for(var L,n,C=0;C<e.length&&(L=e[C],L!==p);C++)!L._indexToPoints||L.enabled===!1||(n=L._indexToPoints);var T=n?function(d){return n[d]}:function(d){return[d]};return T}},32275:function(V,B,e){var p=e(71828),L=e(89298),n=e(79344).p,C=e(50606).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(y){var r={};function t(a,h){return p.coerce(y,r,B.attributes,a,h)}var i=t("enabled");return i&&(t("target"),t("order")),r},B.calcTransform=function(y,r,t){if(t.enabled){var i=p.getTargetArray(r,t);if(i){var a=t.target,h=i.length;r._length&&(h=Math.min(h,r._length));var u=r._arrayAttrs,s=L.getDataToCoordFunc(y,r,a,i),m=T(t,i,s,h),f=n(r.transforms,t),S={},v,l;for(v=0;v<u.length;v++){var g=p.nestedProperty(r,u[v]),M=g.get(),A=new Array(h);for(l=0;l<h;l++)A[l]=M[m[l]];g.set(A)}for(l=0;l<h;l++)S[l]=f(m[l]);t._indexToPoints=S,r._length=h}}};function T(y,r,t,i){var a=new Array(i),h=new Array(i),u;for(u=0;u<i;u++)a[u]={v:r[u],i:u};for(a.sort(d(y,t)),u=0;u<i;u++)h[u]=a[u].i;return h}function d(y,r){switch(y.order){case"ascending":return function(t,i){var a=r(t.v),h=r(i.v);return a===C?1:h===C?-1:a-h};case"descending":return function(t,i){var a=r(t.v),h=r(i.v);return a===C?1:h===C?-1:h-a}}}},11506:function(V,B){B.version="2.28.0"},9330:function(V,B,e){var p=e(90386);(function(n,C){V.exports=C()})(self,function(){return function(){var L={7386:function(d,y,r){d.exports={alpha_shape:r(2350),convex_hull:r(5537),delaunay_triangulate:r(4419),gl_cone3d:r(1140),gl_error3d:r(3110),gl_heatmap2d:r(6386),gl_line3d:r(6086),gl_mesh3d:r(8116),gl_plot2d:r(2117),gl_plot3d:r(1059),gl_pointcloud2d:r(8271),gl_scatter3d:r(2182),gl_select_box:r(6623),gl_spikes2d:r(3050),gl_streamtube3d:r(7307),gl_surface3d:r(3754),ndarray:r(5050),ndarray_linear_interpolate:r(3581)}},2146:function(d,y,r){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function t(we,me){if(!(we instanceof me))throw new TypeError("Cannot call a class as a function")}function i(we,me){for(var Me=0;Me<me.length;Me++){var Se=me[Me];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(we,Se.key,Se)}}function a(we,me,Me){return me&&i(we.prototype,me),Me&&i(we,Me),Object.defineProperty(we,"prototype",{writable:!1}),we}function h(we,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(me&&me.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),me&&u(we,me)}function u(we,me){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Se,Ve){return Se.__proto__=Ve,Se},u(we,me)}function s(we){var me=S();return function(){var Se=v(we),Ve;if(me){var Ze=v(this).constructor;Ve=Reflect.construct(Se,arguments,Ze)}else Ve=Se.apply(this,arguments);return m(this,Ve)}}function m(we,me){if(me&&(l(me)==="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(we)}function f(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(we){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Me){return Me.__proto__||Object.getPrototypeOf(Me)},v(we)}function l(we){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(me){return typeof me}:function(me){return me&&typeof Symbol=="function"&&me.constructor===Symbol&&me!==Symbol.prototype?"symbol":typeof me},l(we)}var g=r(3910),M=r(3187),A=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;y.lW=b,y.h2=50;var k=2147483647;b.TYPED_ARRAY_SUPPORT=w(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{var we=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(we,me),we.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function E(we){if(we>k)throw new RangeError('The value "'+we+'" is invalid for option "size"');var me=new Uint8Array(we);return Object.setPrototypeOf(me,b.prototype),me}function b(we,me,Me){if(typeof we=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return z(we)}return o(we,me,Me)}b.poolSize=8192;function o(we,me,Me){if(typeof we=="string")return _(we,me);if(ArrayBuffer.isView(we))return F(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(we));if(Je(we,ArrayBuffer)||we&&Je(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(we,SharedArrayBuffer)||we&&Je(we.buffer,SharedArrayBuffer)))return N(we,me,Me);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Se=we.valueOf&&we.valueOf();if(Se!=null&&Se!==we)return b.from(Se,me,Me);var Ve=U(we);if(Ve)return Ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return b.from(we[Symbol.toPrimitive]("string"),me,Me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(we))}b.from=function(we,me,Me){return o(we,me,Me)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function P(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function x(we,me,Me){return P(we),we<=0?E(we):me!==void 0?typeof Me=="string"?E(we).fill(me,Me):E(we).fill(me):E(we)}b.alloc=function(we,me,Me){return x(we,me,Me)};function z(we){return P(we),E(we<0?0:O(we)|0)}b.allocUnsafe=function(we){return z(we)},b.allocUnsafeSlow=function(we){return z(we)};function _(we,me){if((typeof me!="string"||me==="")&&(me="utf8"),!b.isEncoding(me))throw new TypeError("Unknown encoding: "+me);var Me=H(we,me)|0,Se=E(Me),Ve=Se.write(we,me);return Ve!==Me&&(Se=Se.slice(0,Ve)),Se}function G(we){for(var me=we.length<0?0:O(we.length)|0,Me=E(me),Se=0;Se<me;Se+=1)Me[Se]=we[Se]&255;return Me}function F(we){if(Je(we,Uint8Array)){var me=new Uint8Array(we);return N(me.buffer,me.byteOffset,me.byteLength)}return G(we)}function N(we,me,Me){if(me<0||we.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<me+(Me||0))throw new RangeError('"length" is outside of buffer bounds');var Se;return me===void 0&&Me===void 0?Se=new Uint8Array(we):Me===void 0?Se=new Uint8Array(we,me):Se=new Uint8Array(we,me,Me),Object.setPrototypeOf(Se,b.prototype),Se}function U(we){if(b.isBuffer(we)){var me=O(we.length)|0,Me=E(me);return Me.length===0||we.copy(Me,0,0,me),Me}if(we.length!==void 0)return typeof we.length!="number"||We(we.length)?E(0):G(we);if(we.type==="Buffer"&&Array.isArray(we.data))return G(we.data)}function O(we){if(we>=k)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k.toString(16)+" bytes");return we|0}b.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==b.prototype},b.compare=function(me,Me){if(Je(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),Je(Me,Uint8Array)&&(Me=b.from(Me,Me.offset,Me.byteLength)),!b.isBuffer(me)||!b.isBuffer(Me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===Me)return 0;for(var Se=me.length,Ve=Me.length,Ze=0,tt=Math.min(Se,Ve);Ze<tt;++Ze)if(me[Ze]!==Me[Ze]){Se=me[Ze],Ve=Me[Ze];break}return Se<Ve?-1:Ve<Se?1:0},b.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(me,Me){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return b.alloc(0);var Se;if(Me===void 0)for(Me=0,Se=0;Se<me.length;++Se)Me+=me[Se].length;var Ve=b.allocUnsafe(Me),Ze=0;for(Se=0;Se<me.length;++Se){var tt=me[Se];if(Je(tt,Uint8Array))Ze+tt.length>Ve.length?(b.isBuffer(tt)||(tt=b.from(tt)),tt.copy(Ve,Ze)):Uint8Array.prototype.set.call(Ve,tt,Ze);else if(b.isBuffer(tt))tt.copy(Ve,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=tt.length}return Ve};function H(we,me){if(b.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||Je(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(we));var Me=we.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&Me===0)return 0;for(var Ve=!1;;)switch(me){case"ascii":case"latin1":case"binary":return Me;case"utf8":case"utf-8":return dt(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me*2;case"hex":return Me>>>1;case"base64":return Pt(we).length;default:if(Ve)return Se?-1:dt(we).length;me=(""+me).toLowerCase(),Ve=!0}}b.byteLength=H;function Y(we,me,Me){var Se=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((Me===void 0||Me>this.length)&&(Me=this.length),Me<=0)||(Me>>>=0,me>>>=0,Me<=me))return"";for(we||(we="utf8");;)switch(we){case"hex":return ce(this,me,Me);case"utf8":case"utf-8":return le(this,me,Me);case"ascii":return ue(this,me,Me);case"latin1":case"binary":return ie(this,me,Me);case"base64":return ee(this,me,Me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,me,Me);default:if(Se)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Se=!0}}b.prototype._isBuffer=!0;function q(we,me,Me){var Se=we[me];we[me]=we[Me],we[Me]=Se}b.prototype.swap16=function(){var me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Me=0;Me<me;Me+=2)q(this,Me,Me+1);return this},b.prototype.swap32=function(){var me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Me=0;Me<me;Me+=4)q(this,Me,Me+3),q(this,Me+1,Me+2);return this},b.prototype.swap64=function(){var me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Me=0;Me<me;Me+=8)q(this,Me,Me+7),q(this,Me+1,Me+6),q(this,Me+2,Me+5),q(this,Me+3,Me+4);return this},b.prototype.toString=function(){var me=this.length;return me===0?"":arguments.length===0?le(this,0,me):Y.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(me){if(!b.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:b.compare(this,me)===0},b.prototype.inspect=function(){var me="",Me=y.h2;return me=this.toString("hex",0,Me).replace(/(.{2})/g,"$1 ").trim(),this.length>Me&&(me+=" ... "),"<Buffer "+me+">"},A&&(b.prototype[A]=b.prototype.inspect),b.prototype.compare=function(me,Me,Se,Ve,Ze){if(Je(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),!b.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(me));if(Me===void 0&&(Me=0),Se===void 0&&(Se=me?me.length:0),Ve===void 0&&(Ve=0),Ze===void 0&&(Ze=this.length),Me<0||Se>me.length||Ve<0||Ze>this.length)throw new RangeError("out of range index");if(Ve>=Ze&&Me>=Se)return 0;if(Ve>=Ze)return-1;if(Me>=Se)return 1;if(Me>>>=0,Se>>>=0,Ve>>>=0,Ze>>>=0,this===me)return 0;for(var tt=Ze-Ve,ct=Se-Me,gt=Math.min(tt,ct),jt=this.slice(Ve,Ze),Kt=me.slice(Me,Se),Tt=0;Tt<gt;++Tt)if(jt[Tt]!==Kt[Tt]){tt=jt[Tt],ct=Kt[Tt];break}return tt<ct?-1:ct<tt?1:0};function ne(we,me,Me,Se,Ve){if(we.length===0)return-1;if(typeof Me=="string"?(Se=Me,Me=0):Me>2147483647?Me=2147483647:Me<-2147483648&&(Me=-2147483648),Me=+Me,We(Me)&&(Me=Ve?0:we.length-1),Me<0&&(Me=we.length+Me),Me>=we.length){if(Ve)return-1;Me=we.length-1}else if(Me<0)if(Ve)Me=0;else return-1;if(typeof me=="string"&&(me=b.from(me,Se)),b.isBuffer(me))return me.length===0?-1:oe(we,me,Me,Se,Ve);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?Ve?Uint8Array.prototype.indexOf.call(we,me,Me):Uint8Array.prototype.lastIndexOf.call(we,me,Me):oe(we,[me],Me,Se,Ve);throw new TypeError("val must be string, number or Buffer")}function oe(we,me,Me,Se,Ve){var Ze=1,tt=we.length,ct=me.length;if(Se!==void 0&&(Se=String(Se).toLowerCase(),Se==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if(we.length<2||me.length<2)return-1;Ze=2,tt/=2,ct/=2,Me/=2}function gt(qt,Sr){return Ze===1?qt[Sr]:qt.readUInt16BE(Sr*Ze)}var jt;if(Ve){var Kt=-1;for(jt=Me;jt<tt;jt++)if(gt(we,jt)===gt(me,Kt===-1?0:jt-Kt)){if(Kt===-1&&(Kt=jt),jt-Kt+1===ct)return Kt*Ze}else Kt!==-1&&(jt-=jt-Kt),Kt=-1}else for(Me+ct>tt&&(Me=tt-ct),jt=Me;jt>=0;jt--){for(var Tt=!0,zt=0;zt<ct;zt++)if(gt(we,jt+zt)!==gt(me,zt)){Tt=!1;break}if(Tt)return jt}return-1}b.prototype.includes=function(me,Me,Se){return this.indexOf(me,Me,Se)!==-1},b.prototype.indexOf=function(me,Me,Se){return ne(this,me,Me,Se,!0)},b.prototype.lastIndexOf=function(me,Me,Se){return ne(this,me,Me,Se,!1)};function he(we,me,Me,Se){Me=Number(Me)||0;var Ve=we.length-Me;Se?(Se=Number(Se),Se>Ve&&(Se=Ve)):Se=Ve;var Ze=me.length;Se>Ze/2&&(Se=Ze/2);var tt;for(tt=0;tt<Se;++tt){var ct=parseInt(me.substr(tt*2,2),16);if(We(ct))return tt;we[Me+tt]=ct}return tt}function J(we,me,Me,Se){return Ht(dt(me,we.length-Me),we,Me,Se)}function Z(we,me,Me,Se){return Ht(pt(me),we,Me,Se)}function se(we,me,Me,Se){return Ht(Pt(me),we,Me,Se)}function $(we,me,Me,Se){return Ht(At(me,we.length-Me),we,Me,Se)}b.prototype.write=function(me,Me,Se,Ve){if(Me===void 0)Ve="utf8",Se=this.length,Me=0;else if(Se===void 0&&typeof Me=="string")Ve=Me,Se=this.length,Me=0;else if(isFinite(Me))Me=Me>>>0,isFinite(Se)?(Se=Se>>>0,Ve===void 0&&(Ve="utf8")):(Ve=Se,Se=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ze=this.length-Me;if((Se===void 0||Se>Ze)&&(Se=Ze),me.length>0&&(Se<0||Me<0)||Me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ve||(Ve="utf8");for(var tt=!1;;)switch(Ve){case"hex":return he(this,me,Me,Se);case"utf8":case"utf-8":return J(this,me,Me,Se);case"ascii":case"latin1":case"binary":return Z(this,me,Me,Se);case"base64":return se(this,me,Me,Se);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,me,Me,Se);default:if(tt)throw new TypeError("Unknown encoding: "+Ve);Ve=(""+Ve).toLowerCase(),tt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(we,me,Me){return me===0&&Me===we.length?g.fromByteArray(we):g.fromByteArray(we.slice(me,Me))}function le(we,me,Me){Me=Math.min(we.length,Me);for(var Se=[],Ve=me;Ve<Me;){var Ze=we[Ve],tt=null,ct=Ze>239?4:Ze>223?3:Ze>191?2:1;if(Ve+ct<=Me){var gt=void 0,jt=void 0,Kt=void 0,Tt=void 0;switch(ct){case 1:Ze<128&&(tt=Ze);break;case 2:gt=we[Ve+1],(gt&192)===128&&(Tt=(Ze&31)<<6|gt&63,Tt>127&&(tt=Tt));break;case 3:gt=we[Ve+1],jt=we[Ve+2],(gt&192)===128&&(jt&192)===128&&(Tt=(Ze&15)<<12|(gt&63)<<6|jt&63,Tt>2047&&(Tt<55296||Tt>57343)&&(tt=Tt));break;case 4:gt=we[Ve+1],jt=we[Ve+2],Kt=we[Ve+3],(gt&192)===128&&(jt&192)===128&&(Kt&192)===128&&(Tt=(Ze&15)<<18|(gt&63)<<12|(jt&63)<<6|Kt&63,Tt>65535&&Tt<1114112&&(tt=Tt))}}tt===null?(tt=65533,ct=1):tt>65535&&(tt-=65536,Se.push(tt>>>10&1023|55296),tt=56320|tt&1023),Se.push(tt),Ve+=ct}return K(Se)}var Q=4096;function K(we){var me=we.length;if(me<=Q)return String.fromCharCode.apply(String,we);for(var Me="",Se=0;Se<me;)Me+=String.fromCharCode.apply(String,we.slice(Se,Se+=Q));return Me}function ue(we,me,Me){var Se="";Me=Math.min(we.length,Me);for(var Ve=me;Ve<Me;++Ve)Se+=String.fromCharCode(we[Ve]&127);return Se}function ie(we,me,Me){var Se="";Me=Math.min(we.length,Me);for(var Ve=me;Ve<Me;++Ve)Se+=String.fromCharCode(we[Ve]);return Se}function ce(we,me,Me){var Se=we.length;(!me||me<0)&&(me=0),(!Me||Me<0||Me>Se)&&(Me=Se);for(var Ve="",Ze=me;Ze<Me;++Ze)Ve+=_e[we[Ze]];return Ve}function xe(we,me,Me){for(var Se=we.slice(me,Me),Ve="",Ze=0;Ze<Se.length-1;Ze+=2)Ve+=String.fromCharCode(Se[Ze]+Se[Ze+1]*256);return Ve}b.prototype.slice=function(me,Me){var Se=this.length;me=~~me,Me=Me===void 0?Se:~~Me,me<0?(me+=Se,me<0&&(me=0)):me>Se&&(me=Se),Me<0?(Me+=Se,Me<0&&(Me=0)):Me>Se&&(Me=Se),Me<me&&(Me=me);var Ve=this.subarray(me,Me);return Object.setPrototypeOf(Ve,b.prototype),Ve};function Le(we,me,Me){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+me>Me)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(me,Me,Se){me=me>>>0,Me=Me>>>0,Se||Le(me,Me,this.length);for(var Ve=this[me],Ze=1,tt=0;++tt<Me&&(Ze*=256);)Ve+=this[me+tt]*Ze;return Ve},b.prototype.readUintBE=b.prototype.readUIntBE=function(me,Me,Se){me=me>>>0,Me=Me>>>0,Se||Le(me,Me,this.length);for(var Ve=this[me+--Me],Ze=1;Me>0&&(Ze*=256);)Ve+=this[me+--Me]*Ze;return Ve},b.prototype.readUint8=b.prototype.readUInt8=function(me,Me){return me=me>>>0,Me||Le(me,1,this.length),this[me]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(me,Me){return me=me>>>0,Me||Le(me,2,this.length),this[me]|this[me+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(me,Me){return me=me>>>0,Me||Le(me,2,this.length),this[me]<<8|this[me+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(me,Me){return me=me>>>0,Me||Le(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(me,Me){return me=me>>>0,Me||Le(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},b.prototype.readBigUInt64LE=Ne(function(me){me=me>>>0,lt(me,"offset");var Me=this[me],Se=this[me+7];(Me===void 0||Se===void 0)&&qe(me,this.length-8);var Ve=Me+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24),Ze=this[++me]+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+Se*Math.pow(2,24);return BigInt(Ve)+(BigInt(Ze)<<BigInt(32))}),b.prototype.readBigUInt64BE=Ne(function(me){me=me>>>0,lt(me,"offset");var Me=this[me],Se=this[me+7];(Me===void 0||Se===void 0)&&qe(me,this.length-8);var Ve=Me*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me],Ze=this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Se;return(BigInt(Ve)<<BigInt(32))+BigInt(Ze)}),b.prototype.readIntLE=function(me,Me,Se){me=me>>>0,Me=Me>>>0,Se||Le(me,Me,this.length);for(var Ve=this[me],Ze=1,tt=0;++tt<Me&&(Ze*=256);)Ve+=this[me+tt]*Ze;return Ze*=128,Ve>=Ze&&(Ve-=Math.pow(2,8*Me)),Ve},b.prototype.readIntBE=function(me,Me,Se){me=me>>>0,Me=Me>>>0,Se||Le(me,Me,this.length);for(var Ve=Me,Ze=1,tt=this[me+--Ve];Ve>0&&(Ze*=256);)tt+=this[me+--Ve]*Ze;return Ze*=128,tt>=Ze&&(tt-=Math.pow(2,8*Me)),tt},b.prototype.readInt8=function(me,Me){return me=me>>>0,Me||Le(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},b.prototype.readInt16LE=function(me,Me){me=me>>>0,Me||Le(me,2,this.length);var Se=this[me]|this[me+1]<<8;return Se&32768?Se|4294901760:Se},b.prototype.readInt16BE=function(me,Me){me=me>>>0,Me||Le(me,2,this.length);var Se=this[me+1]|this[me]<<8;return Se&32768?Se|4294901760:Se},b.prototype.readInt32LE=function(me,Me){return me=me>>>0,Me||Le(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},b.prototype.readInt32BE=function(me,Me){return me=me>>>0,Me||Le(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},b.prototype.readBigInt64LE=Ne(function(me){me=me>>>0,lt(me,"offset");var Me=this[me],Se=this[me+7];(Me===void 0||Se===void 0)&&qe(me,this.length-8);var Ve=this[me+4]+this[me+5]*Math.pow(2,8)+this[me+6]*Math.pow(2,16)+(Se<<24);return(BigInt(Ve)<<BigInt(32))+BigInt(Me+this[++me]*Math.pow(2,8)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,24))}),b.prototype.readBigInt64BE=Ne(function(me){me=me>>>0,lt(me,"offset");var Me=this[me],Se=this[me+7];(Me===void 0||Se===void 0)&&qe(me,this.length-8);var Ve=(Me<<24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+this[++me];return(BigInt(Ve)<<BigInt(32))+BigInt(this[++me]*Math.pow(2,24)+this[++me]*Math.pow(2,16)+this[++me]*Math.pow(2,8)+Se)}),b.prototype.readFloatLE=function(me,Me){return me=me>>>0,Me||Le(me,4,this.length),M.read(this,me,!0,23,4)},b.prototype.readFloatBE=function(me,Me){return me=me>>>0,Me||Le(me,4,this.length),M.read(this,me,!1,23,4)},b.prototype.readDoubleLE=function(me,Me){return me=me>>>0,Me||Le(me,8,this.length),M.read(this,me,!0,52,8)},b.prototype.readDoubleBE=function(me,Me){return me=me>>>0,Me||Le(me,8,this.length),M.read(this,me,!1,52,8)};function Ae(we,me,Me,Se,Ve,Ze){if(!b.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>Ve||me<Ze)throw new RangeError('"value" argument is out of bounds');if(Me+Se>we.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(me,Me,Se,Ve){if(me=+me,Me=Me>>>0,Se=Se>>>0,!Ve){var Ze=Math.pow(2,8*Se)-1;Ae(this,me,Me,Se,Ze,0)}var tt=1,ct=0;for(this[Me]=me&255;++ct<Se&&(tt*=256);)this[Me+ct]=me/tt&255;return Me+Se},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(me,Me,Se,Ve){if(me=+me,Me=Me>>>0,Se=Se>>>0,!Ve){var Ze=Math.pow(2,8*Se)-1;Ae(this,me,Me,Se,Ze,0)}var tt=Se-1,ct=1;for(this[Me+tt]=me&255;--tt>=0&&(ct*=256);)this[Me+tt]=me/ct&255;return Me+Se},b.prototype.writeUint8=b.prototype.writeUInt8=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,1,255,0),this[Me]=me&255,Me+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,2,65535,0),this[Me]=me&255,this[Me+1]=me>>>8,Me+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,2,65535,0),this[Me]=me>>>8,this[Me+1]=me&255,Me+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,4,4294967295,0),this[Me+3]=me>>>24,this[Me+2]=me>>>16,this[Me+1]=me>>>8,this[Me]=me&255,Me+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,4,4294967295,0),this[Me]=me>>>24,this[Me+1]=me>>>16,this[Me+2]=me>>>8,this[Me+3]=me&255,Me+4};function Oe(we,me,Me,Se,Ve){at(me,Se,Ve,we,Me,7);var Ze=Number(me&BigInt(4294967295));we[Me++]=Ze,Ze=Ze>>8,we[Me++]=Ze,Ze=Ze>>8,we[Me++]=Ze,Ze=Ze>>8,we[Me++]=Ze;var tt=Number(me>>BigInt(32)&BigInt(4294967295));return we[Me++]=tt,tt=tt>>8,we[Me++]=tt,tt=tt>>8,we[Me++]=tt,tt=tt>>8,we[Me++]=tt,Me}function ze(we,me,Me,Se,Ve){at(me,Se,Ve,we,Me,7);var Ze=Number(me&BigInt(4294967295));we[Me+7]=Ze,Ze=Ze>>8,we[Me+6]=Ze,Ze=Ze>>8,we[Me+5]=Ze,Ze=Ze>>8,we[Me+4]=Ze;var tt=Number(me>>BigInt(32)&BigInt(4294967295));return we[Me+3]=tt,tt=tt>>8,we[Me+2]=tt,tt=tt>>8,we[Me+1]=tt,tt=tt>>8,we[Me]=tt,Me+8}b.prototype.writeBigUInt64LE=Ne(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,me,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Ne(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,me,Me,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(me,Me,Se,Ve){if(me=+me,Me=Me>>>0,!Ve){var Ze=Math.pow(2,8*Se-1);Ae(this,me,Me,Se,Ze-1,-Ze)}var tt=0,ct=1,gt=0;for(this[Me]=me&255;++tt<Se&&(ct*=256);)me<0&&gt===0&&this[Me+tt-1]!==0&&(gt=1),this[Me+tt]=(me/ct>>0)-gt&255;return Me+Se},b.prototype.writeIntBE=function(me,Me,Se,Ve){if(me=+me,Me=Me>>>0,!Ve){var Ze=Math.pow(2,8*Se-1);Ae(this,me,Me,Se,Ze-1,-Ze)}var tt=Se-1,ct=1,gt=0;for(this[Me+tt]=me&255;--tt>=0&&(ct*=256);)me<0&&gt===0&&this[Me+tt+1]!==0&&(gt=1),this[Me+tt]=(me/ct>>0)-gt&255;return Me+Se},b.prototype.writeInt8=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,1,127,-128),me<0&&(me=255+me+1),this[Me]=me&255,Me+1},b.prototype.writeInt16LE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,2,32767,-32768),this[Me]=me&255,this[Me+1]=me>>>8,Me+2},b.prototype.writeInt16BE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,2,32767,-32768),this[Me]=me>>>8,this[Me+1]=me&255,Me+2},b.prototype.writeInt32LE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,4,2147483647,-2147483648),this[Me]=me&255,this[Me+1]=me>>>8,this[Me+2]=me>>>16,this[Me+3]=me>>>24,Me+4},b.prototype.writeInt32BE=function(me,Me,Se){return me=+me,Me=Me>>>0,Se||Ae(this,me,Me,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[Me]=me>>>24,this[Me+1]=me>>>16,this[Me+2]=me>>>8,this[Me+3]=me&255,Me+4},b.prototype.writeBigInt64LE=Ne(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,me,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Ne(function(me){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ze(this,me,Me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(we,me,Me,Se,Ve,Ze){if(Me+Se>we.length)throw new RangeError("Index out of range");if(Me<0)throw new RangeError("Index out of range")}function be(we,me,Me,Se,Ve){return me=+me,Me=Me>>>0,Ve||Ee(we,me,Me,4),M.write(we,me,Me,Se,23,4),Me+4}b.prototype.writeFloatLE=function(me,Me,Se){return be(this,me,Me,!0,Se)},b.prototype.writeFloatBE=function(me,Me,Se){return be(this,me,Me,!1,Se)};function Ce(we,me,Me,Se,Ve){return me=+me,Me=Me>>>0,Ve||Ee(we,me,Me,8),M.write(we,me,Me,Se,52,8),Me+8}b.prototype.writeDoubleLE=function(me,Me,Se){return Ce(this,me,Me,!0,Se)},b.prototype.writeDoubleBE=function(me,Me,Se){return Ce(this,me,Me,!1,Se)},b.prototype.copy=function(me,Me,Se,Ve){if(!b.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Se||(Se=0),!Ve&&Ve!==0&&(Ve=this.length),Me>=me.length&&(Me=me.length),Me||(Me=0),Ve>0&&Ve<Se&&(Ve=Se),Ve===Se||me.length===0||this.length===0)return 0;if(Me<0)throw new RangeError("targetStart out of bounds");if(Se<0||Se>=this.length)throw new RangeError("Index out of range");if(Ve<0)throw new RangeError("sourceEnd out of bounds");Ve>this.length&&(Ve=this.length),me.length-Me<Ve-Se&&(Ve=me.length-Me+Se);var Ze=Ve-Se;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Me,Se,Ve):Uint8Array.prototype.set.call(me,this.subarray(Se,Ve),Me),Ze},b.prototype.fill=function(me,Me,Se,Ve){if(typeof me=="string"){if(typeof Me=="string"?(Ve=Me,Me=0,Se=this.length):typeof Se=="string"&&(Ve=Se,Se=this.length),Ve!==void 0&&typeof Ve!="string")throw new TypeError("encoding must be a string");if(typeof Ve=="string"&&!b.isEncoding(Ve))throw new TypeError("Unknown encoding: "+Ve);if(me.length===1){var Ze=me.charCodeAt(0);(Ve==="utf8"&&Ze<128||Ve==="latin1")&&(me=Ze)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(Me<0||this.length<Me||this.length<Se)throw new RangeError("Out of range index");if(Se<=Me)return this;Me=Me>>>0,Se=Se===void 0?this.length:Se>>>0,me||(me=0);var tt;if(typeof me=="number")for(tt=Me;tt<Se;++tt)this[tt]=me;else{var ct=b.isBuffer(me)?me:b.from(me,Ve),gt=ct.length;if(gt===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(tt=0;tt<Se-Me;++tt)this[tt+Me]=ct[tt%gt]}return this};var Ue={};function He(we,me,Me){Ue[we]=function(Se){h(Ze,Se);var Ve=s(Ze);function Ze(){var tt;return t(this,Ze),tt=Ve.call(this),Object.defineProperty(f(tt),"message",{value:me.apply(f(tt),arguments),writable:!0,configurable:!0}),tt.name="".concat(tt.name," [").concat(we,"]"),tt.stack,delete tt.name,tt}return a(Ze,[{key:"code",get:function(){return we},set:function(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(we,"]: ").concat(this.message)}}]),Ze}(Me)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?"".concat(we," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(we,me){return'The "'.concat(we,'" argument must be of type number. Received type ').concat(l(me))},TypeError),He("ERR_OUT_OF_RANGE",function(we,me,Me){var Se='The value of "'.concat(we,'" is out of range.'),Ve=Me;return Number.isInteger(Me)&&Math.abs(Me)>Math.pow(2,32)?Ve=Ie(String(Me)):typeof Me=="bigint"&&(Ve=String(Me),(Me>Math.pow(BigInt(2),BigInt(32))||Me<-Math.pow(BigInt(2),BigInt(32)))&&(Ve=Ie(Ve)),Ve+="n"),Se+=" It must be ".concat(me,". Received ").concat(Ve),Se},RangeError);function Ie(we){for(var me="",Me=we.length,Se=we[0]==="-"?1:0;Me>=Se+4;Me-=3)me="_".concat(we.slice(Me-3,Me)).concat(me);return"".concat(we.slice(0,Me)).concat(me)}function Ge(we,me,Me){lt(me,"offset"),(we[me]===void 0||we[me+Me]===void 0)&&qe(me,we.length-(Me+1))}function at(we,me,Me,Se,Ve,Ze){if(we>Me||we<me){var tt=typeof me=="bigint"?"n":"",ct;throw Ze>3?me===0||me===BigInt(0)?ct=">= 0".concat(tt," and < 2").concat(tt," ** ").concat((Ze+1)*8).concat(tt):ct=">= -(2".concat(tt," ** ").concat((Ze+1)*8-1).concat(tt,") and < 2 ** ")+"".concat((Ze+1)*8-1).concat(tt):ct=">= ".concat(me).concat(tt," and <= ").concat(Me).concat(tt),new Ue.ERR_OUT_OF_RANGE("value",ct,we)}Ge(Se,Ve,Ze)}function lt(we,me){if(typeof we!="number")throw new Ue.ERR_INVALID_ARG_TYPE(me,"number",we)}function qe(we,me,Me){throw Math.floor(we)!==we?(lt(we,Me),new Ue.ERR_OUT_OF_RANGE(Me||"offset","an integer",we)):me<0?new Ue.ERR_BUFFER_OUT_OF_BOUNDS:new Ue.ERR_OUT_OF_RANGE(Me||"offset",">= ".concat(Me?1:0," and <= ").concat(me),we)}var et=/[^+/0-9A-Za-z-_]/g;function ft(we){if(we=we.split("=")[0],we=we.trim().replace(et,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function dt(we,me){me=me||1/0;for(var Me,Se=we.length,Ve=null,Ze=[],tt=0;tt<Se;++tt){if(Me=we.charCodeAt(tt),Me>55295&&Me<57344){if(!Ve){if(Me>56319){(me-=3)>-1&&Ze.push(239,191,189);continue}else if(tt+1===Se){(me-=3)>-1&&Ze.push(239,191,189);continue}Ve=Me;continue}if(Me<56320){(me-=3)>-1&&Ze.push(239,191,189),Ve=Me;continue}Me=(Ve-55296<<10|Me-56320)+65536}else Ve&&(me-=3)>-1&&Ze.push(239,191,189);if(Ve=null,Me<128){if((me-=1)<0)break;Ze.push(Me)}else if(Me<2048){if((me-=2)<0)break;Ze.push(Me>>6|192,Me&63|128)}else if(Me<65536){if((me-=3)<0)break;Ze.push(Me>>12|224,Me>>6&63|128,Me&63|128)}else if(Me<1114112){if((me-=4)<0)break;Ze.push(Me>>18|240,Me>>12&63|128,Me>>6&63|128,Me&63|128)}else throw new Error("Invalid code point")}return Ze}function pt(we){for(var me=[],Me=0;Me<we.length;++Me)me.push(we.charCodeAt(Me)&255);return me}function At(we,me){for(var Me,Se,Ve,Ze=[],tt=0;tt<we.length&&!((me-=2)<0);++tt)Me=we.charCodeAt(tt),Se=Me>>8,Ve=Me%256,Ze.push(Ve),Ze.push(Se);return Ze}function Pt(we){return g.toByteArray(ft(we))}function Ht(we,me,Me,Se){var Ve;for(Ve=0;Ve<Se&&!(Ve+Me>=me.length||Ve>=we.length);++Ve)me[Ve+Me]=we[Ve];return Ve}function Je(we,me){return we instanceof me||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===me.name}function We(we){return we!==we}var _e=function(){for(var we="0123456789abcdef",me=new Array(256),Me=0;Me<16;++Me)for(var Se=Me*16,Ve=0;Ve<16;++Ve)me[Se+Ve]=we[Me]+we[Ve];return me}();function Ne(we){return typeof BigInt>"u"?ke:we}function ke(){throw new Error("BigInt not supported")}},2321:function(d){d.exports=i,d.exports.isMobile=i,d.exports.default=i;var y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,t=/android|ipad|playbook|silk/i;function i(a){a||(a={});var h=a.ua;if(!h&&typeof navigator<"u"&&(h=navigator.userAgent),h&&h.headers&&typeof h.headers["user-agent"]=="string"&&(h=h.headers["user-agent"]),typeof h!="string")return!1;var u=y.test(h)&&!r.test(h)||!!a.tablet&&t.test(h);return!u&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&h.indexOf("Macintosh")!==-1&&h.indexOf("Safari")!==-1&&(u=!0),u}},3910:function(d,y){y.byteLength=m,y.toByteArray=S,y.fromByteArray=g;for(var r=[],t=[],i=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,u=a.length;h<u;++h)r[h]=a[h],t[a.charCodeAt(h)]=h;t[45]=62,t[95]=63;function s(M){var A=M.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=M.indexOf("=");k===-1&&(k=A);var w=k===A?0:4-k%4;return[k,w]}function m(M){var A=s(M),k=A[0],w=A[1];return(k+w)*3/4-w}function f(M,A,k){return(A+k)*3/4-k}function S(M){var A,k=s(M),w=k[0],E=k[1],b=new i(f(M,w,E)),o=0,P=E>0?w-4:w,x;for(x=0;x<P;x+=4)A=t[M.charCodeAt(x)]<<18|t[M.charCodeAt(x+1)]<<12|t[M.charCodeAt(x+2)]<<6|t[M.charCodeAt(x+3)],b[o++]=A>>16&255,b[o++]=A>>8&255,b[o++]=A&255;return E===2&&(A=t[M.charCodeAt(x)]<<2|t[M.charCodeAt(x+1)]>>4,b[o++]=A&255),E===1&&(A=t[M.charCodeAt(x)]<<10|t[M.charCodeAt(x+1)]<<4|t[M.charCodeAt(x+2)]>>2,b[o++]=A>>8&255,b[o++]=A&255),b}function v(M){return r[M>>18&63]+r[M>>12&63]+r[M>>6&63]+r[M&63]}function l(M,A,k){for(var w,E=[],b=A;b<k;b+=3)w=(M[b]<<16&16711680)+(M[b+1]<<8&65280)+(M[b+2]&255),E.push(v(w));return E.join("")}function g(M){for(var A,k=M.length,w=k%3,E=[],b=16383,o=0,P=k-w;o<P;o+=b)E.push(l(M,o,o+b>P?P:o+b));return w===1?(A=M[k-1],E.push(r[A>>2]+r[A<<4&63]+"==")):w===2&&(A=(M[k-2]<<8)+M[k-1],E.push(r[A>>10]+r[A>>4&63]+r[A<<2&63]+"=")),E.join("")}},3187:function(d,y){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */y.read=function(r,t,i,a,h){var u,s,m=h*8-a-1,f=(1<<m)-1,S=f>>1,v=-7,l=i?h-1:0,g=i?-1:1,M=r[t+l];for(l+=g,u=M&(1<<-v)-1,M>>=-v,v+=m;v>0;u=u*256+r[t+l],l+=g,v-=8);for(s=u&(1<<-v)-1,u>>=-v,v+=a;v>0;s=s*256+r[t+l],l+=g,v-=8);if(u===0)u=1-S;else{if(u===f)return s?NaN:(M?-1:1)*(1/0);s=s+Math.pow(2,a),u=u-S}return(M?-1:1)*s*Math.pow(2,u-a)},y.write=function(r,t,i,a,h,u){var s,m,f,S=u*8-h-1,v=(1<<S)-1,l=v>>1,g=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=a?0:u-1,A=a?1:-1,k=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(m=isNaN(t)?1:0,s=v):(s=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+l>=1?t+=g/f:t+=g*Math.pow(2,1-l),t*f>=2&&(s++,f/=2),s+l>=v?(m=0,s=v):s+l>=1?(m=(t*f-1)*Math.pow(2,h),s=s+l):(m=t*Math.pow(2,l-1)*Math.pow(2,h),s=0));h>=8;r[i+M]=m&255,M+=A,m/=256,h-=8);for(s=s<<h|m,S+=h;S>0;r[i+M]=s&255,M+=A,s/=256,S-=8);r[i+M-A]|=k*128}},1152:function(d,y,r){d.exports=s;var t=r(3440),i=r(7774),a=r(9298);function h(m,f){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(S){return m[S]}),this._mode=f,this._active=m[f],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var u=h.prototype;u.flush=function(m){for(var f=this._controllerList,S=0;S<f.length;++S)f[S].flush(m)},u.idle=function(m){for(var f=this._controllerList,S=0;S<f.length;++S)f[S].idle(m)},u.lookAt=function(m,f,S,v){for(var l=this._controllerList,g=0;g<l.length;++g)l[g].lookAt(m,f,S,v)},u.rotate=function(m,f,S,v){for(var l=this._controllerList,g=0;g<l.length;++g)l[g].rotate(m,f,S,v)},u.pan=function(m,f,S,v){for(var l=this._controllerList,g=0;g<l.length;++g)l[g].pan(m,f,S,v)},u.translate=function(m,f,S,v){for(var l=this._controllerList,g=0;g<l.length;++g)l[g].translate(m,f,S,v)},u.setMatrix=function(m,f){for(var S=this._controllerList,v=0;v<S.length;++v)S[v].setMatrix(m,f)},u.setDistanceLimits=function(m,f){for(var S=this._controllerList,v=0;v<S.length;++v)S[v].setDistanceLimits(m,f)},u.setDistance=function(m,f){for(var S=this._controllerList,v=0;v<S.length;++v)S[v].setDistance(m,f)},u.recalcMatrix=function(m){this._active.recalcMatrix(m)},u.getDistance=function(m){return this._active.getDistance(m)},u.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},u.lastT=function(){return this._active.lastT()},u.setMode=function(m){if(m!==this._mode){var f=this._controllerNames.indexOf(m);if(!(f<0)){var S=this._active,v=this._controllerList[f],l=Math.max(S.lastT(),v.lastT());S.recalcMatrix(l),v.setMatrix(l,S.computedMatrix),this._active=v,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},u.getMode=function(){return this._mode};function s(m){m=m||{};var f=m.eye||[0,0,1],S=m.center||[0,0,0],v=m.up||[0,1,0],l=m.distanceLimits||[0,1/0],g=m.mode||"turntable",M=t(),A=i(),k=a();return M.setDistanceLimits(l[0],l[1]),M.lookAt(0,f,S,v),A.setDistanceLimits(l[0],l[1]),A.lookAt(0,f,S,v),k.setDistanceLimits(l[0],l[1]),k.lookAt(0,f,S,v),new h({turntable:M,orbit:A,matrix:k},g)}},8126:function(d,y,r){var t=typeof WeakMap>"u"?r(5346):WeakMap,i=r(5827),a=r(2944),h=new t;function u(s){var m=h.get(s),f=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!f||!s.isBuffer(f)){var S=i(s,new Float32Array([-1,-1,-1,4,4,-1]));m=a(s,[{buffer:S,type:s.FLOAT,size:2}]),m._triangleBuffer=S,h.set(s,m)}m.bind(),s.drawArrays(s.TRIANGLES,0,3),m.unbind()}d.exports=u},8008:function(d,y,r){var t=r(4930);d.exports=i;function i(a,h,u){h=typeof h=="number"?h:1,u=u||": ";var s=a.split(/\r?\n/),m=String(s.length+h-1).length;return s.map(function(f,S){var v=S+h,l=String(v).length,g=t(v,m-l);return g+u+f}).join(`
`)}},2153:function(d,y,r){d.exports=a;var t=r(417);function i(h,u){for(var s=new Array(u+1),m=0;m<h.length;++m)s[m]=h[m];for(var m=0;m<=h.length;++m){for(var f=h.length;f<=u;++f){for(var S=new Array(u),v=0;v<u;++v)S[v]=Math.pow(f+1-m,v);s[f]=S}var l=t.apply(void 0,s);if(l)return!0}return!1}function a(h){var u=h.length;if(u===0)return[];if(u===1)return[0];for(var s=h[0].length,m=[h[0]],f=[0],S=1;S<u;++S){if(m.push(h[S]),!i(m,s)){m.pop();continue}if(f.push(S),f.length===s+1)return f}return f}},4653:function(d,y,r){d.exports=a;var t=r(4419),i=r(1778);function a(h,u){return t(u).filter(function(s){for(var m=new Array(s.length),f=0;f<s.length;++f)m[f]=u[s[f]];return i(m)*h<1})}},2350:function(d,y,r){d.exports=a;var t=r(4653),i=r(8691);function a(h,u){return i(t(h,u))}},7896:function(d){d.exports=function(r){return atob(r)}},957:function(d,y,r){d.exports=a;var t=r(6606);function i(h){for(var u=0,s=0;s<h.length;++s)u+=h[s];return u}function a(h,u){for(var s=u.length,m=new Array(s+1),f=0;f<s;++f){for(var S=new Array(s+1),v=0;v<=s;++v)S[v]=h[v][f];m[f]=S}m[s]=new Array(s+1);for(var f=0;f<=s;++f)m[s][f]=1;for(var l=new Array(s+1),f=0;f<s;++f)l[f]=u[f];l[s]=1;var g=t(m,l),M=i(g[s+1]);M===0&&(M=1);for(var A=new Array(s+1),f=0;f<=s;++f)A[f]=i(g[f])/M;return A}},1539:function(d,y,r){var t=r(8524);d.exports=i;function i(a,h){return t(a[0].mul(h[1]).add(h[0].mul(a[1])),a[1].mul(h[1]))}},8846:function(d){d.exports=y;function y(r,t){return r[0].mul(t[1]).cmp(t[0].mul(r[1]))}},9189:function(d,y,r){var t=r(8524);d.exports=i;function i(a,h){return t(a[0].mul(h[1]),a[1].mul(h[0]))}},5125:function(d,y,r){var t=r(234),i=r(3218),a=r(5514),h=r(2813),u=r(8524),s=r(9189);d.exports=m;function m(f,S){if(t(f))return S?s(f,m(S)):[f[0].clone(),f[1].clone()];var v=0,l,g;if(i(f))l=f.clone();else if(typeof f=="string")l=h(f);else{if(f===0)return[a(0),a(1)];if(f===Math.floor(f))l=a(f);else{for(;f!==Math.floor(f);)f=f*Math.pow(2,256),v-=256;l=a(f)}}if(t(S))l.mul(S[1]),g=S[0].clone();else if(i(S))g=S.clone();else if(typeof S=="string")g=h(S);else if(!S)g=a(1);else if(S===Math.floor(S))g=a(S);else{for(;S!==Math.floor(S);)S=S*Math.pow(2,256),v+=256;g=a(S)}return v>0?l=l.ushln(v):v<0&&(g=g.ushln(-v)),u(l,g)}},234:function(d,y,r){var t=r(3218);d.exports=i;function i(a){return Array.isArray(a)&&a.length===2&&t(a[0])&&t(a[1])}},4275:function(d,y,r){var t=r(1928);d.exports=i;function i(a){return a.cmp(new t(0))}},9958:function(d,y,r){var t=r(4275);d.exports=i;function i(a){var h=a.length,u=a.words,s=0;if(h===1)s=u[0];else if(h===2)s=u[0]+u[1]*67108864;else for(var m=0;m<h;m++){var f=u[m];s+=f*Math.pow(67108864,m)}return t(a)*s}},1112:function(d,y,r){var t=r(8362),i=r(2288).countTrailingZeros;d.exports=a;function a(h){var u=i(t.lo(h));if(u<32)return u;var s=i(t.hi(h));return s>20?52:s+32}},3218:function(d,y,r){r(1928),d.exports=t;function t(i){return i&&typeof i=="object"&&!!i.words}},5514:function(d,y,r){var t=r(1928),i=r(8362);d.exports=a;function a(h){var u=i.exponent(h);return u<52?new t(h):new t(h*Math.pow(2,52-u)).ushln(u-52)}},8524:function(d,y,r){var t=r(5514),i=r(4275);d.exports=a;function a(h,u){var s=i(h),m=i(u);if(s===0)return[t(0),t(1)];if(m===0)return[t(0),t(0)];m<0&&(h=h.neg(),u=u.neg());var f=h.gcd(u);return f.cmpn(1)?[h.div(f),u.div(f)]:[h,u]}},2813:function(d,y,r){var t=r(1928);d.exports=i;function i(a){return new t(a)}},3962:function(d,y,r){var t=r(8524);d.exports=i;function i(a,h){return t(a[0].mul(h[0]),a[1].mul(h[1]))}},4951:function(d,y,r){var t=r(4275);d.exports=i;function i(a){return t(a[0])*t(a[1])}},4354:function(d,y,r){var t=r(8524);d.exports=i;function i(a,h){return t(a[0].mul(h[1]).sub(a[1].mul(h[0])),a[1].mul(h[1]))}},7999:function(d,y,r){var t=r(9958),i=r(1112);d.exports=a;function a(h){var u=h[0],s=h[1];if(u.cmpn(0)===0)return 0;var m=u.abs().divmod(s.abs()),f=m.div,S=t(f),v=m.mod,l=u.negative!==s.negative?-1:1;if(v.cmpn(0)===0)return l*S;if(S){var g=i(S)+4,M=t(v.ushln(g).divRound(s));return l*(S+M*Math.pow(2,-g))}else{var A=s.bitLength()-v.bitLength()+53,M=t(v.ushln(A).divRound(s));return A<1023?l*M*Math.pow(2,-A):(M*=Math.pow(2,-1023),l*M*Math.pow(2,1023-A))}}},5070:function(d){function y(u,s,m,f,S){for(var v=S+1;f<=S;){var l=f+S>>>1,g=u[l],M=m!==void 0?m(g,s):g-s;M>=0?(v=l,S=l-1):f=l+1}return v}function r(u,s,m,f,S){for(var v=S+1;f<=S;){var l=f+S>>>1,g=u[l],M=m!==void 0?m(g,s):g-s;M>0?(v=l,S=l-1):f=l+1}return v}function t(u,s,m,f,S){for(var v=f-1;f<=S;){var l=f+S>>>1,g=u[l],M=m!==void 0?m(g,s):g-s;M<0?(v=l,f=l+1):S=l-1}return v}function i(u,s,m,f,S){for(var v=f-1;f<=S;){var l=f+S>>>1,g=u[l],M=m!==void 0?m(g,s):g-s;M<=0?(v=l,f=l+1):S=l-1}return v}function a(u,s,m,f,S){for(;f<=S;){var v=f+S>>>1,l=u[v],g=m!==void 0?m(l,s):l-s;if(g===0)return v;g<=0?f=v+1:S=v-1}return-1}function h(u,s,m,f,S,v){return typeof m=="function"?v(u,s,m,f===void 0?0:f|0,S===void 0?u.length-1:S|0):v(u,s,void 0,m===void 0?0:m|0,f===void 0?u.length-1:f|0)}d.exports={ge:function(u,s,m,f,S){return h(u,s,m,f,S,y)},gt:function(u,s,m,f,S){return h(u,s,m,f,S,r)},lt:function(u,s,m,f,S){return h(u,s,m,f,S,t)},le:function(u,s,m,f,S){return h(u,s,m,f,S,i)},eq:function(u,s,m,f,S){return h(u,s,m,f,S,a)}}},2288:function(d,y){"use restrict";var r=32;y.INT_BITS=r,y.INT_MAX=2147483647,y.INT_MIN=-1<<r-1,y.sign=function(a){return(a>0)-(a<0)},y.abs=function(a){var h=a>>r-1;return(a^h)-h},y.min=function(a,h){return h^(a^h)&-(a<h)},y.max=function(a,h){return a^(a^h)&-(a<h)},y.isPow2=function(a){return!(a&a-1)&&!!a},y.log2=function(a){var h,u;return h=(a>65535)<<4,a>>>=h,u=(a>255)<<3,a>>>=u,h|=u,u=(a>15)<<2,a>>>=u,h|=u,u=(a>3)<<1,a>>>=u,h|=u,h|a>>1},y.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},y.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var h=32;return a&=-a,a&&h--,a&65535&&(h-=16),a&16711935&&(h-=8),a&252645135&&(h-=4),a&858993459&&(h-=2),a&1431655765&&(h-=1),h}y.countTrailingZeros=t,y.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},y.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},y.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var i=new Array(256);(function(a){for(var h=0;h<256;++h){var u=h,s=h,m=7;for(u>>>=1;u;u>>>=1)s<<=1,s|=u&1,--m;a[h]=s<<m&255}})(i),y.reverse=function(a){return i[a&255]<<24|i[a>>>8&255]<<16|i[a>>>16&255]<<8|i[a>>>24&255]},y.interleave2=function(a,h){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,h&=65535,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,a|h<<1},y.deinterleave2=function(a,h){return a=a>>>h&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},y.interleave3=function(a,h,u){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,a|=h<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|u<<2},y.deinterleave3=function(a,h){return a=a>>>h&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},y.nextCombination=function(a){var h=a|a-1;return h+1|(~h&-~h)-1>>>t(a)+1}},1928:function(d,y,r){d=r.nmd(d),function(t,i){function a(U,O){if(!U)throw new Error(O||"Assertion failed")}function h(U,O){U.super_=O;var H=function(){};H.prototype=O.prototype,U.prototype=new H,U.prototype.constructor=U}function u(U,O,H){if(u.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((O==="le"||O==="be")&&(H=O,O=10),this._init(U||0,O||10,H||"be"))}typeof t=="object"?t.exports=u:i.BN=u,u.BN=u,u.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=r(6601).Buffer}catch{}u.isBN=function(O){return O instanceof u?!0:O!==null&&typeof O=="object"&&O.constructor.wordSize===u.wordSize&&Array.isArray(O.words)},u.max=function(O,H){return O.cmp(H)>0?O:H},u.min=function(O,H){return O.cmp(H)<0?O:H},u.prototype._init=function(O,H,Y){if(typeof O=="number")return this._initNumber(O,H,Y);if(typeof O=="object")return this._initArray(O,H,Y);H==="hex"&&(H=16),a(H===(H|0)&&H>=2&&H<=36),O=O.toString().replace(/\s+/g,"");var q=0;O[0]==="-"&&(q++,this.negative=1),q<O.length&&(H===16?this._parseHex(O,q,Y):(this._parseBase(O,H,q),Y==="le"&&this._initArray(this.toArray(),H,Y)))},u.prototype._initNumber=function(O,H,Y){O<0&&(this.negative=1,O=-O),O<67108864?(this.words=[O&67108863],this.length=1):O<4503599627370496?(this.words=[O&67108863,O/67108864&67108863],this.length=2):(a(O<9007199254740992),this.words=[O&67108863,O/67108864&67108863,1],this.length=3),Y==="le"&&this._initArray(this.toArray(),H,Y)},u.prototype._initArray=function(O,H,Y){if(a(typeof O.length=="number"),O.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(O.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var ne,oe,he=0;if(Y==="be")for(q=O.length-1,ne=0;q>=0;q-=3)oe=O[q]|O[q-1]<<8|O[q-2]<<16,this.words[ne]|=oe<<he&67108863,this.words[ne+1]=oe>>>26-he&67108863,he+=24,he>=26&&(he-=26,ne++);else if(Y==="le")for(q=0,ne=0;q<O.length;q+=3)oe=O[q]|O[q+1]<<8|O[q+2]<<16,this.words[ne]|=oe<<he&67108863,this.words[ne+1]=oe>>>26-he&67108863,he+=24,he>=26&&(he-=26,ne++);return this.strip()};function m(U,O){var H=U.charCodeAt(O);return H>=65&&H<=70?H-55:H>=97&&H<=102?H-87:H-48&15}function f(U,O,H){var Y=m(U,H);return H-1>=O&&(Y|=m(U,H-1)<<4),Y}u.prototype._parseHex=function(O,H,Y){this.length=Math.ceil((O.length-H)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var ne=0,oe=0,he;if(Y==="be")for(q=O.length-1;q>=H;q-=2)he=f(O,H,q)<<ne,this.words[oe]|=he&67108863,ne>=18?(ne-=18,oe+=1,this.words[oe]|=he>>>26):ne+=8;else{var J=O.length-H;for(q=J%2===0?H+1:H;q<O.length;q+=2)he=f(O,H,q)<<ne,this.words[oe]|=he&67108863,ne>=18?(ne-=18,oe+=1,this.words[oe]|=he>>>26):ne+=8}this.strip()};function S(U,O,H,Y){for(var q=0,ne=Math.min(U.length,H),oe=O;oe<ne;oe++){var he=U.charCodeAt(oe)-48;q*=Y,he>=49?q+=he-49+10:he>=17?q+=he-17+10:q+=he}return q}u.prototype._parseBase=function(O,H,Y){this.words=[0],this.length=1;for(var q=0,ne=1;ne<=67108863;ne*=H)q++;q--,ne=ne/H|0;for(var oe=O.length-Y,he=oe%q,J=Math.min(oe,oe-he)+Y,Z=0,se=Y;se<J;se+=q)Z=S(O,se,se+q,H),this.imuln(ne),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(he!==0){var $=1;for(Z=S(O,se,O.length,H),se=0;se<he;se++)$*=H;this.imuln($),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},u.prototype.copy=function(O){O.words=new Array(this.length);for(var H=0;H<this.length;H++)O.words[H]=this.words[H];O.length=this.length,O.negative=this.negative,O.red=this.red},u.prototype.clone=function(){var O=new u(null);return this.copy(O),O},u.prototype._expand=function(O){for(;this.length<O;)this.words[this.length++]=0;return this},u.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},u.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},u.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];u.prototype.toString=function(O,H){O=O||10,H=H|0||1;var Y;if(O===16||O==="hex"){Y="";for(var q=0,ne=0,oe=0;oe<this.length;oe++){var he=this.words[oe],J=((he<<q|ne)&16777215).toString(16);ne=he>>>24-q&16777215,ne!==0||oe!==this.length-1?Y=v[6-J.length]+J+Y:Y=J+Y,q+=2,q>=26&&(q-=26,oe--)}for(ne!==0&&(Y=ne.toString(16)+Y);Y.length%H!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}if(O===(O|0)&&O>=2&&O<=36){var Z=l[O],se=g[O];Y="";var $=this.clone();for($.negative=0;!$.isZero();){var ee=$.modn(se).toString(O);$=$.idivn(se),$.isZero()?Y=ee+Y:Y=v[Z-ee.length]+ee+Y}for(this.isZero()&&(Y="0"+Y);Y.length%H!==0;)Y="0"+Y;return this.negative!==0&&(Y="-"+Y),Y}a(!1,"Base should be between 2 and 36")},u.prototype.toNumber=function(){var O=this.words[0];return this.length===2?O+=this.words[1]*67108864:this.length===3&&this.words[2]===1?O+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-O:O},u.prototype.toJSON=function(){return this.toString(16)},u.prototype.toBuffer=function(O,H){return a(typeof s<"u"),this.toArrayLike(s,O,H)},u.prototype.toArray=function(O,H){return this.toArrayLike(Array,O,H)},u.prototype.toArrayLike=function(O,H,Y){var q=this.byteLength(),ne=Y||Math.max(1,q);a(q<=ne,"byte array longer than desired length"),a(ne>0,"Requested array length <= 0"),this.strip();var oe=H==="le",he=new O(ne),J,Z,se=this.clone();if(oe){for(Z=0;!se.isZero();Z++)J=se.andln(255),se.iushrn(8),he[Z]=J;for(;Z<ne;Z++)he[Z]=0}else{for(Z=0;Z<ne-q;Z++)he[Z]=0;for(Z=0;!se.isZero();Z++)J=se.andln(255),se.iushrn(8),he[ne-Z-1]=J}return he},Math.clz32?u.prototype._countBits=function(O){return 32-Math.clz32(O)}:u.prototype._countBits=function(O){var H=O,Y=0;return H>=4096&&(Y+=13,H>>>=13),H>=64&&(Y+=7,H>>>=7),H>=8&&(Y+=4,H>>>=4),H>=2&&(Y+=2,H>>>=2),Y+H},u.prototype._zeroBits=function(O){if(O===0)return 26;var H=O,Y=0;return H&8191||(Y+=13,H>>>=13),H&127||(Y+=7,H>>>=7),H&15||(Y+=4,H>>>=4),H&3||(Y+=2,H>>>=2),H&1||Y++,Y},u.prototype.bitLength=function(){var O=this.words[this.length-1],H=this._countBits(O);return(this.length-1)*26+H};function M(U){for(var O=new Array(U.bitLength()),H=0;H<O.length;H++){var Y=H/26|0,q=H%26;O[H]=(U.words[Y]&1<<q)>>>q}return O}u.prototype.zeroBits=function(){if(this.isZero())return 0;for(var O=0,H=0;H<this.length;H++){var Y=this._zeroBits(this.words[H]);if(O+=Y,Y!==26)break}return O},u.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},u.prototype.toTwos=function(O){return this.negative!==0?this.abs().inotn(O).iaddn(1):this.clone()},u.prototype.fromTwos=function(O){return this.testn(O-1)?this.notn(O).iaddn(1).ineg():this.clone()},u.prototype.isNeg=function(){return this.negative!==0},u.prototype.neg=function(){return this.clone().ineg()},u.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},u.prototype.iuor=function(O){for(;this.length<O.length;)this.words[this.length++]=0;for(var H=0;H<O.length;H++)this.words[H]=this.words[H]|O.words[H];return this.strip()},u.prototype.ior=function(O){return a((this.negative|O.negative)===0),this.iuor(O)},u.prototype.or=function(O){return this.length>O.length?this.clone().ior(O):O.clone().ior(this)},u.prototype.uor=function(O){return this.length>O.length?this.clone().iuor(O):O.clone().iuor(this)},u.prototype.iuand=function(O){var H;this.length>O.length?H=O:H=this;for(var Y=0;Y<H.length;Y++)this.words[Y]=this.words[Y]&O.words[Y];return this.length=H.length,this.strip()},u.prototype.iand=function(O){return a((this.negative|O.negative)===0),this.iuand(O)},u.prototype.and=function(O){return this.length>O.length?this.clone().iand(O):O.clone().iand(this)},u.prototype.uand=function(O){return this.length>O.length?this.clone().iuand(O):O.clone().iuand(this)},u.prototype.iuxor=function(O){var H,Y;this.length>O.length?(H=this,Y=O):(H=O,Y=this);for(var q=0;q<Y.length;q++)this.words[q]=H.words[q]^Y.words[q];if(this!==H)for(;q<H.length;q++)this.words[q]=H.words[q];return this.length=H.length,this.strip()},u.prototype.ixor=function(O){return a((this.negative|O.negative)===0),this.iuxor(O)},u.prototype.xor=function(O){return this.length>O.length?this.clone().ixor(O):O.clone().ixor(this)},u.prototype.uxor=function(O){return this.length>O.length?this.clone().iuxor(O):O.clone().iuxor(this)},u.prototype.inotn=function(O){a(typeof O=="number"&&O>=0);var H=Math.ceil(O/26)|0,Y=O%26;this._expand(H),Y>0&&H--;for(var q=0;q<H;q++)this.words[q]=~this.words[q]&67108863;return Y>0&&(this.words[q]=~this.words[q]&67108863>>26-Y),this.strip()},u.prototype.notn=function(O){return this.clone().inotn(O)},u.prototype.setn=function(O,H){a(typeof O=="number"&&O>=0);var Y=O/26|0,q=O%26;return this._expand(Y+1),H?this.words[Y]=this.words[Y]|1<<q:this.words[Y]=this.words[Y]&~(1<<q),this.strip()},u.prototype.iadd=function(O){var H;if(this.negative!==0&&O.negative===0)return this.negative=0,H=this.isub(O),this.negative^=1,this._normSign();if(this.negative===0&&O.negative!==0)return O.negative=0,H=this.isub(O),O.negative=1,H._normSign();var Y,q;this.length>O.length?(Y=this,q=O):(Y=O,q=this);for(var ne=0,oe=0;oe<q.length;oe++)H=(Y.words[oe]|0)+(q.words[oe]|0)+ne,this.words[oe]=H&67108863,ne=H>>>26;for(;ne!==0&&oe<Y.length;oe++)H=(Y.words[oe]|0)+ne,this.words[oe]=H&67108863,ne=H>>>26;if(this.length=Y.length,ne!==0)this.words[this.length]=ne,this.length++;else if(Y!==this)for(;oe<Y.length;oe++)this.words[oe]=Y.words[oe];return this},u.prototype.add=function(O){var H;return O.negative!==0&&this.negative===0?(O.negative=0,H=this.sub(O),O.negative^=1,H):O.negative===0&&this.negative!==0?(this.negative=0,H=O.sub(this),this.negative=1,H):this.length>O.length?this.clone().iadd(O):O.clone().iadd(this)},u.prototype.isub=function(O){if(O.negative!==0){O.negative=0;var H=this.iadd(O);return O.negative=1,H._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(O),this.negative=1,this._normSign();var Y=this.cmp(O);if(Y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,ne;Y>0?(q=this,ne=O):(q=O,ne=this);for(var oe=0,he=0;he<ne.length;he++)H=(q.words[he]|0)-(ne.words[he]|0)+oe,oe=H>>26,this.words[he]=H&67108863;for(;oe!==0&&he<q.length;he++)H=(q.words[he]|0)+oe,oe=H>>26,this.words[he]=H&67108863;if(oe===0&&he<q.length&&q!==this)for(;he<q.length;he++)this.words[he]=q.words[he];return this.length=Math.max(this.length,he),q!==this&&(this.negative=1),this.strip()},u.prototype.sub=function(O){return this.clone().isub(O)};function A(U,O,H){H.negative=O.negative^U.negative;var Y=U.length+O.length|0;H.length=Y,Y=Y-1|0;var q=U.words[0]|0,ne=O.words[0]|0,oe=q*ne,he=oe&67108863,J=oe/67108864|0;H.words[0]=he;for(var Z=1;Z<Y;Z++){for(var se=J>>>26,$=J&67108863,ee=Math.min(Z,O.length-1),le=Math.max(0,Z-U.length+1);le<=ee;le++){var Q=Z-le|0;q=U.words[Q]|0,ne=O.words[le]|0,oe=q*ne+$,se+=oe/67108864|0,$=oe&67108863}H.words[Z]=$|0,J=se|0}return J!==0?H.words[Z]=J|0:H.length--,H.strip()}var k=function(O,H,Y){var q=O.words,ne=H.words,oe=Y.words,he=0,J,Z,se,$=q[0]|0,ee=$&8191,le=$>>>13,Q=q[1]|0,K=Q&8191,ue=Q>>>13,ie=q[2]|0,ce=ie&8191,xe=ie>>>13,Le=q[3]|0,Ae=Le&8191,Oe=Le>>>13,ze=q[4]|0,Ee=ze&8191,be=ze>>>13,Ce=q[5]|0,Ue=Ce&8191,He=Ce>>>13,Ie=q[6]|0,Ge=Ie&8191,at=Ie>>>13,lt=q[7]|0,qe=lt&8191,et=lt>>>13,ft=q[8]|0,dt=ft&8191,pt=ft>>>13,At=q[9]|0,Pt=At&8191,Ht=At>>>13,Je=ne[0]|0,We=Je&8191,_e=Je>>>13,Ne=ne[1]|0,ke=Ne&8191,we=Ne>>>13,me=ne[2]|0,Me=me&8191,Se=me>>>13,Ve=ne[3]|0,Ze=Ve&8191,tt=Ve>>>13,ct=ne[4]|0,gt=ct&8191,jt=ct>>>13,Kt=ne[5]|0,Tt=Kt&8191,zt=Kt>>>13,qt=ne[6]|0,Sr=qt&8191,yt=qt>>>13,Zt=ne[7]|0,Jt=Zt&8191,mr=Zt>>>13,sr=ne[8]|0,vt=sr&8191,it=sr>>>13,xt=ne[9]|0,St=xt&8191,Rt=xt>>>13;Y.negative=O.negative^H.negative,Y.length=19,J=Math.imul(ee,We),Z=Math.imul(ee,_e),Z=Z+Math.imul(le,We)|0,se=Math.imul(le,_e);var Lt=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,J=Math.imul(K,We),Z=Math.imul(K,_e),Z=Z+Math.imul(ue,We)|0,se=Math.imul(ue,_e),J=J+Math.imul(ee,ke)|0,Z=Z+Math.imul(ee,we)|0,Z=Z+Math.imul(le,ke)|0,se=se+Math.imul(le,we)|0;var Ot=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,J=Math.imul(ce,We),Z=Math.imul(ce,_e),Z=Z+Math.imul(xe,We)|0,se=Math.imul(xe,_e),J=J+Math.imul(K,ke)|0,Z=Z+Math.imul(K,we)|0,Z=Z+Math.imul(ue,ke)|0,se=se+Math.imul(ue,we)|0,J=J+Math.imul(ee,Me)|0,Z=Z+Math.imul(ee,Se)|0,Z=Z+Math.imul(le,Me)|0,se=se+Math.imul(le,Se)|0;var Nt=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,J=Math.imul(Ae,We),Z=Math.imul(Ae,_e),Z=Z+Math.imul(Oe,We)|0,se=Math.imul(Oe,_e),J=J+Math.imul(ce,ke)|0,Z=Z+Math.imul(ce,we)|0,Z=Z+Math.imul(xe,ke)|0,se=se+Math.imul(xe,we)|0,J=J+Math.imul(K,Me)|0,Z=Z+Math.imul(K,Se)|0,Z=Z+Math.imul(ue,Me)|0,se=se+Math.imul(ue,Se)|0,J=J+Math.imul(ee,Ze)|0,Z=Z+Math.imul(ee,tt)|0,Z=Z+Math.imul(le,Ze)|0,se=se+Math.imul(le,tt)|0;var Xt=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,J=Math.imul(Ee,We),Z=Math.imul(Ee,_e),Z=Z+Math.imul(be,We)|0,se=Math.imul(be,_e),J=J+Math.imul(Ae,ke)|0,Z=Z+Math.imul(Ae,we)|0,Z=Z+Math.imul(Oe,ke)|0,se=se+Math.imul(Oe,we)|0,J=J+Math.imul(ce,Me)|0,Z=Z+Math.imul(ce,Se)|0,Z=Z+Math.imul(xe,Me)|0,se=se+Math.imul(xe,Se)|0,J=J+Math.imul(K,Ze)|0,Z=Z+Math.imul(K,tt)|0,Z=Z+Math.imul(ue,Ze)|0,se=se+Math.imul(ue,tt)|0,J=J+Math.imul(ee,gt)|0,Z=Z+Math.imul(ee,jt)|0,Z=Z+Math.imul(le,gt)|0,se=se+Math.imul(le,jt)|0;var ur=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(ur>>>26)|0,ur&=67108863,J=Math.imul(Ue,We),Z=Math.imul(Ue,_e),Z=Z+Math.imul(He,We)|0,se=Math.imul(He,_e),J=J+Math.imul(Ee,ke)|0,Z=Z+Math.imul(Ee,we)|0,Z=Z+Math.imul(be,ke)|0,se=se+Math.imul(be,we)|0,J=J+Math.imul(Ae,Me)|0,Z=Z+Math.imul(Ae,Se)|0,Z=Z+Math.imul(Oe,Me)|0,se=se+Math.imul(Oe,Se)|0,J=J+Math.imul(ce,Ze)|0,Z=Z+Math.imul(ce,tt)|0,Z=Z+Math.imul(xe,Ze)|0,se=se+Math.imul(xe,tt)|0,J=J+Math.imul(K,gt)|0,Z=Z+Math.imul(K,jt)|0,Z=Z+Math.imul(ue,gt)|0,se=se+Math.imul(ue,jt)|0,J=J+Math.imul(ee,Tt)|0,Z=Z+Math.imul(ee,zt)|0,Z=Z+Math.imul(le,Tt)|0,se=se+Math.imul(le,zt)|0;var cr=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(cr>>>26)|0,cr&=67108863,J=Math.imul(Ge,We),Z=Math.imul(Ge,_e),Z=Z+Math.imul(at,We)|0,se=Math.imul(at,_e),J=J+Math.imul(Ue,ke)|0,Z=Z+Math.imul(Ue,we)|0,Z=Z+Math.imul(He,ke)|0,se=se+Math.imul(He,we)|0,J=J+Math.imul(Ee,Me)|0,Z=Z+Math.imul(Ee,Se)|0,Z=Z+Math.imul(be,Me)|0,se=se+Math.imul(be,Se)|0,J=J+Math.imul(Ae,Ze)|0,Z=Z+Math.imul(Ae,tt)|0,Z=Z+Math.imul(Oe,Ze)|0,se=se+Math.imul(Oe,tt)|0,J=J+Math.imul(ce,gt)|0,Z=Z+Math.imul(ce,jt)|0,Z=Z+Math.imul(xe,gt)|0,se=se+Math.imul(xe,jt)|0,J=J+Math.imul(K,Tt)|0,Z=Z+Math.imul(K,zt)|0,Z=Z+Math.imul(ue,Tt)|0,se=se+Math.imul(ue,zt)|0,J=J+Math.imul(ee,Sr)|0,Z=Z+Math.imul(ee,yt)|0,Z=Z+Math.imul(le,Sr)|0,se=se+Math.imul(le,yt)|0;var dr=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(dr>>>26)|0,dr&=67108863,J=Math.imul(qe,We),Z=Math.imul(qe,_e),Z=Z+Math.imul(et,We)|0,se=Math.imul(et,_e),J=J+Math.imul(Ge,ke)|0,Z=Z+Math.imul(Ge,we)|0,Z=Z+Math.imul(at,ke)|0,se=se+Math.imul(at,we)|0,J=J+Math.imul(Ue,Me)|0,Z=Z+Math.imul(Ue,Se)|0,Z=Z+Math.imul(He,Me)|0,se=se+Math.imul(He,Se)|0,J=J+Math.imul(Ee,Ze)|0,Z=Z+Math.imul(Ee,tt)|0,Z=Z+Math.imul(be,Ze)|0,se=se+Math.imul(be,tt)|0,J=J+Math.imul(Ae,gt)|0,Z=Z+Math.imul(Ae,jt)|0,Z=Z+Math.imul(Oe,gt)|0,se=se+Math.imul(Oe,jt)|0,J=J+Math.imul(ce,Tt)|0,Z=Z+Math.imul(ce,zt)|0,Z=Z+Math.imul(xe,Tt)|0,se=se+Math.imul(xe,zt)|0,J=J+Math.imul(K,Sr)|0,Z=Z+Math.imul(K,yt)|0,Z=Z+Math.imul(ue,Sr)|0,se=se+Math.imul(ue,yt)|0,J=J+Math.imul(ee,Jt)|0,Z=Z+Math.imul(ee,mr)|0,Z=Z+Math.imul(le,Jt)|0,se=se+Math.imul(le,mr)|0;var Ye=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,J=Math.imul(dt,We),Z=Math.imul(dt,_e),Z=Z+Math.imul(pt,We)|0,se=Math.imul(pt,_e),J=J+Math.imul(qe,ke)|0,Z=Z+Math.imul(qe,we)|0,Z=Z+Math.imul(et,ke)|0,se=se+Math.imul(et,we)|0,J=J+Math.imul(Ge,Me)|0,Z=Z+Math.imul(Ge,Se)|0,Z=Z+Math.imul(at,Me)|0,se=se+Math.imul(at,Se)|0,J=J+Math.imul(Ue,Ze)|0,Z=Z+Math.imul(Ue,tt)|0,Z=Z+Math.imul(He,Ze)|0,se=se+Math.imul(He,tt)|0,J=J+Math.imul(Ee,gt)|0,Z=Z+Math.imul(Ee,jt)|0,Z=Z+Math.imul(be,gt)|0,se=se+Math.imul(be,jt)|0,J=J+Math.imul(Ae,Tt)|0,Z=Z+Math.imul(Ae,zt)|0,Z=Z+Math.imul(Oe,Tt)|0,se=se+Math.imul(Oe,zt)|0,J=J+Math.imul(ce,Sr)|0,Z=Z+Math.imul(ce,yt)|0,Z=Z+Math.imul(xe,Sr)|0,se=se+Math.imul(xe,yt)|0,J=J+Math.imul(K,Jt)|0,Z=Z+Math.imul(K,mr)|0,Z=Z+Math.imul(ue,Jt)|0,se=se+Math.imul(ue,mr)|0,J=J+Math.imul(ee,vt)|0,Z=Z+Math.imul(ee,it)|0,Z=Z+Math.imul(le,vt)|0,se=se+Math.imul(le,it)|0;var je=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(je>>>26)|0,je&=67108863,J=Math.imul(Pt,We),Z=Math.imul(Pt,_e),Z=Z+Math.imul(Ht,We)|0,se=Math.imul(Ht,_e),J=J+Math.imul(dt,ke)|0,Z=Z+Math.imul(dt,we)|0,Z=Z+Math.imul(pt,ke)|0,se=se+Math.imul(pt,we)|0,J=J+Math.imul(qe,Me)|0,Z=Z+Math.imul(qe,Se)|0,Z=Z+Math.imul(et,Me)|0,se=se+Math.imul(et,Se)|0,J=J+Math.imul(Ge,Ze)|0,Z=Z+Math.imul(Ge,tt)|0,Z=Z+Math.imul(at,Ze)|0,se=se+Math.imul(at,tt)|0,J=J+Math.imul(Ue,gt)|0,Z=Z+Math.imul(Ue,jt)|0,Z=Z+Math.imul(He,gt)|0,se=se+Math.imul(He,jt)|0,J=J+Math.imul(Ee,Tt)|0,Z=Z+Math.imul(Ee,zt)|0,Z=Z+Math.imul(be,Tt)|0,se=se+Math.imul(be,zt)|0,J=J+Math.imul(Ae,Sr)|0,Z=Z+Math.imul(Ae,yt)|0,Z=Z+Math.imul(Oe,Sr)|0,se=se+Math.imul(Oe,yt)|0,J=J+Math.imul(ce,Jt)|0,Z=Z+Math.imul(ce,mr)|0,Z=Z+Math.imul(xe,Jt)|0,se=se+Math.imul(xe,mr)|0,J=J+Math.imul(K,vt)|0,Z=Z+Math.imul(K,it)|0,Z=Z+Math.imul(ue,vt)|0,se=se+Math.imul(ue,it)|0,J=J+Math.imul(ee,St)|0,Z=Z+Math.imul(ee,Rt)|0,Z=Z+Math.imul(le,St)|0,se=se+Math.imul(le,Rt)|0;var It=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(It>>>26)|0,It&=67108863,J=Math.imul(Pt,ke),Z=Math.imul(Pt,we),Z=Z+Math.imul(Ht,ke)|0,se=Math.imul(Ht,we),J=J+Math.imul(dt,Me)|0,Z=Z+Math.imul(dt,Se)|0,Z=Z+Math.imul(pt,Me)|0,se=se+Math.imul(pt,Se)|0,J=J+Math.imul(qe,Ze)|0,Z=Z+Math.imul(qe,tt)|0,Z=Z+Math.imul(et,Ze)|0,se=se+Math.imul(et,tt)|0,J=J+Math.imul(Ge,gt)|0,Z=Z+Math.imul(Ge,jt)|0,Z=Z+Math.imul(at,gt)|0,se=se+Math.imul(at,jt)|0,J=J+Math.imul(Ue,Tt)|0,Z=Z+Math.imul(Ue,zt)|0,Z=Z+Math.imul(He,Tt)|0,se=se+Math.imul(He,zt)|0,J=J+Math.imul(Ee,Sr)|0,Z=Z+Math.imul(Ee,yt)|0,Z=Z+Math.imul(be,Sr)|0,se=se+Math.imul(be,yt)|0,J=J+Math.imul(Ae,Jt)|0,Z=Z+Math.imul(Ae,mr)|0,Z=Z+Math.imul(Oe,Jt)|0,se=se+Math.imul(Oe,mr)|0,J=J+Math.imul(ce,vt)|0,Z=Z+Math.imul(ce,it)|0,Z=Z+Math.imul(xe,vt)|0,se=se+Math.imul(xe,it)|0,J=J+Math.imul(K,St)|0,Z=Z+Math.imul(K,Rt)|0,Z=Z+Math.imul(ue,St)|0,se=se+Math.imul(ue,Rt)|0;var Dt=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,J=Math.imul(Pt,Me),Z=Math.imul(Pt,Se),Z=Z+Math.imul(Ht,Me)|0,se=Math.imul(Ht,Se),J=J+Math.imul(dt,Ze)|0,Z=Z+Math.imul(dt,tt)|0,Z=Z+Math.imul(pt,Ze)|0,se=se+Math.imul(pt,tt)|0,J=J+Math.imul(qe,gt)|0,Z=Z+Math.imul(qe,jt)|0,Z=Z+Math.imul(et,gt)|0,se=se+Math.imul(et,jt)|0,J=J+Math.imul(Ge,Tt)|0,Z=Z+Math.imul(Ge,zt)|0,Z=Z+Math.imul(at,Tt)|0,se=se+Math.imul(at,zt)|0,J=J+Math.imul(Ue,Sr)|0,Z=Z+Math.imul(Ue,yt)|0,Z=Z+Math.imul(He,Sr)|0,se=se+Math.imul(He,yt)|0,J=J+Math.imul(Ee,Jt)|0,Z=Z+Math.imul(Ee,mr)|0,Z=Z+Math.imul(be,Jt)|0,se=se+Math.imul(be,mr)|0,J=J+Math.imul(Ae,vt)|0,Z=Z+Math.imul(Ae,it)|0,Z=Z+Math.imul(Oe,vt)|0,se=se+Math.imul(Oe,it)|0,J=J+Math.imul(ce,St)|0,Z=Z+Math.imul(ce,Rt)|0,Z=Z+Math.imul(xe,St)|0,se=se+Math.imul(xe,Rt)|0;var Yt=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,J=Math.imul(Pt,Ze),Z=Math.imul(Pt,tt),Z=Z+Math.imul(Ht,Ze)|0,se=Math.imul(Ht,tt),J=J+Math.imul(dt,gt)|0,Z=Z+Math.imul(dt,jt)|0,Z=Z+Math.imul(pt,gt)|0,se=se+Math.imul(pt,jt)|0,J=J+Math.imul(qe,Tt)|0,Z=Z+Math.imul(qe,zt)|0,Z=Z+Math.imul(et,Tt)|0,se=se+Math.imul(et,zt)|0,J=J+Math.imul(Ge,Sr)|0,Z=Z+Math.imul(Ge,yt)|0,Z=Z+Math.imul(at,Sr)|0,se=se+Math.imul(at,yt)|0,J=J+Math.imul(Ue,Jt)|0,Z=Z+Math.imul(Ue,mr)|0,Z=Z+Math.imul(He,Jt)|0,se=se+Math.imul(He,mr)|0,J=J+Math.imul(Ee,vt)|0,Z=Z+Math.imul(Ee,it)|0,Z=Z+Math.imul(be,vt)|0,se=se+Math.imul(be,it)|0,J=J+Math.imul(Ae,St)|0,Z=Z+Math.imul(Ae,Rt)|0,Z=Z+Math.imul(Oe,St)|0,se=se+Math.imul(Oe,Rt)|0;var tr=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(tr>>>26)|0,tr&=67108863,J=Math.imul(Pt,gt),Z=Math.imul(Pt,jt),Z=Z+Math.imul(Ht,gt)|0,se=Math.imul(Ht,jt),J=J+Math.imul(dt,Tt)|0,Z=Z+Math.imul(dt,zt)|0,Z=Z+Math.imul(pt,Tt)|0,se=se+Math.imul(pt,zt)|0,J=J+Math.imul(qe,Sr)|0,Z=Z+Math.imul(qe,yt)|0,Z=Z+Math.imul(et,Sr)|0,se=se+Math.imul(et,yt)|0,J=J+Math.imul(Ge,Jt)|0,Z=Z+Math.imul(Ge,mr)|0,Z=Z+Math.imul(at,Jt)|0,se=se+Math.imul(at,mr)|0,J=J+Math.imul(Ue,vt)|0,Z=Z+Math.imul(Ue,it)|0,Z=Z+Math.imul(He,vt)|0,se=se+Math.imul(He,it)|0,J=J+Math.imul(Ee,St)|0,Z=Z+Math.imul(Ee,Rt)|0,Z=Z+Math.imul(be,St)|0,se=se+Math.imul(be,Rt)|0;var fr=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(fr>>>26)|0,fr&=67108863,J=Math.imul(Pt,Tt),Z=Math.imul(Pt,zt),Z=Z+Math.imul(Ht,Tt)|0,se=Math.imul(Ht,zt),J=J+Math.imul(dt,Sr)|0,Z=Z+Math.imul(dt,yt)|0,Z=Z+Math.imul(pt,Sr)|0,se=se+Math.imul(pt,yt)|0,J=J+Math.imul(qe,Jt)|0,Z=Z+Math.imul(qe,mr)|0,Z=Z+Math.imul(et,Jt)|0,se=se+Math.imul(et,mr)|0,J=J+Math.imul(Ge,vt)|0,Z=Z+Math.imul(Ge,it)|0,Z=Z+Math.imul(at,vt)|0,se=se+Math.imul(at,it)|0,J=J+Math.imul(Ue,St)|0,Z=Z+Math.imul(Ue,Rt)|0,Z=Z+Math.imul(He,St)|0,se=se+Math.imul(He,Rt)|0;var rr=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,J=Math.imul(Pt,Sr),Z=Math.imul(Pt,yt),Z=Z+Math.imul(Ht,Sr)|0,se=Math.imul(Ht,yt),J=J+Math.imul(dt,Jt)|0,Z=Z+Math.imul(dt,mr)|0,Z=Z+Math.imul(pt,Jt)|0,se=se+Math.imul(pt,mr)|0,J=J+Math.imul(qe,vt)|0,Z=Z+Math.imul(qe,it)|0,Z=Z+Math.imul(et,vt)|0,se=se+Math.imul(et,it)|0,J=J+Math.imul(Ge,St)|0,Z=Z+Math.imul(Ge,Rt)|0,Z=Z+Math.imul(at,St)|0,se=se+Math.imul(at,Rt)|0;var Ft=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,J=Math.imul(Pt,Jt),Z=Math.imul(Pt,mr),Z=Z+Math.imul(Ht,Jt)|0,se=Math.imul(Ht,mr),J=J+Math.imul(dt,vt)|0,Z=Z+Math.imul(dt,it)|0,Z=Z+Math.imul(pt,vt)|0,se=se+Math.imul(pt,it)|0,J=J+Math.imul(qe,St)|0,Z=Z+Math.imul(qe,Rt)|0,Z=Z+Math.imul(et,St)|0,se=se+Math.imul(et,Rt)|0;var hr=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(hr>>>26)|0,hr&=67108863,J=Math.imul(Pt,vt),Z=Math.imul(Pt,it),Z=Z+Math.imul(Ht,vt)|0,se=Math.imul(Ht,it),J=J+Math.imul(dt,St)|0,Z=Z+Math.imul(dt,Rt)|0,Z=Z+Math.imul(pt,St)|0,se=se+Math.imul(pt,Rt)|0;var br=(he+J|0)+((Z&8191)<<13)|0;he=(se+(Z>>>13)|0)+(br>>>26)|0,br&=67108863,J=Math.imul(Pt,St),Z=Math.imul(Pt,Rt),Z=Z+Math.imul(Ht,St)|0,se=Math.imul(Ht,Rt);var yr=(he+J|0)+((Z&8191)<<13)|0;return he=(se+(Z>>>13)|0)+(yr>>>26)|0,yr&=67108863,oe[0]=Lt,oe[1]=Ot,oe[2]=Nt,oe[3]=Xt,oe[4]=ur,oe[5]=cr,oe[6]=dr,oe[7]=Ye,oe[8]=je,oe[9]=It,oe[10]=Dt,oe[11]=Yt,oe[12]=tr,oe[13]=fr,oe[14]=rr,oe[15]=Ft,oe[16]=hr,oe[17]=br,oe[18]=yr,he!==0&&(oe[19]=he,Y.length++),Y};Math.imul||(k=A);function w(U,O,H){H.negative=O.negative^U.negative,H.length=U.length+O.length;for(var Y=0,q=0,ne=0;ne<H.length-1;ne++){var oe=q;q=0;for(var he=Y&67108863,J=Math.min(ne,O.length-1),Z=Math.max(0,ne-U.length+1);Z<=J;Z++){var se=ne-Z,$=U.words[se]|0,ee=O.words[Z]|0,le=$*ee,Q=le&67108863;oe=oe+(le/67108864|0)|0,Q=Q+he|0,he=Q&67108863,oe=oe+(Q>>>26)|0,q+=oe>>>26,oe&=67108863}H.words[ne]=he,Y=oe,oe=q}return Y!==0?H.words[ne]=Y:H.length--,H.strip()}function E(U,O,H){var Y=new b;return Y.mulp(U,O,H)}u.prototype.mulTo=function(O,H){var Y,q=this.length+O.length;return this.length===10&&O.length===10?Y=k(this,O,H):q<63?Y=A(this,O,H):q<1024?Y=w(this,O,H):Y=E(this,O,H),Y};function b(U,O){this.x=U,this.y=O}b.prototype.makeRBT=function(O){for(var H=new Array(O),Y=u.prototype._countBits(O)-1,q=0;q<O;q++)H[q]=this.revBin(q,Y,O);return H},b.prototype.revBin=function(O,H,Y){if(O===0||O===Y-1)return O;for(var q=0,ne=0;ne<H;ne++)q|=(O&1)<<H-ne-1,O>>=1;return q},b.prototype.permute=function(O,H,Y,q,ne,oe){for(var he=0;he<oe;he++)q[he]=H[O[he]],ne[he]=Y[O[he]]},b.prototype.transform=function(O,H,Y,q,ne,oe){this.permute(oe,O,H,Y,q,ne);for(var he=1;he<ne;he<<=1)for(var J=he<<1,Z=Math.cos(2*Math.PI/J),se=Math.sin(2*Math.PI/J),$=0;$<ne;$+=J)for(var ee=Z,le=se,Q=0;Q<he;Q++){var K=Y[$+Q],ue=q[$+Q],ie=Y[$+Q+he],ce=q[$+Q+he],xe=ee*ie-le*ce;ce=ee*ce+le*ie,ie=xe,Y[$+Q]=K+ie,q[$+Q]=ue+ce,Y[$+Q+he]=K-ie,q[$+Q+he]=ue-ce,Q!==J&&(xe=Z*ee-se*le,le=Z*le+se*ee,ee=xe)}},b.prototype.guessLen13b=function(O,H){var Y=Math.max(H,O)|1,q=Y&1,ne=0;for(Y=Y/2|0;Y;Y=Y>>>1)ne++;return 1<<ne+1+q},b.prototype.conjugate=function(O,H,Y){if(!(Y<=1))for(var q=0;q<Y/2;q++){var ne=O[q];O[q]=O[Y-q-1],O[Y-q-1]=ne,ne=H[q],H[q]=-H[Y-q-1],H[Y-q-1]=-ne}},b.prototype.normalize13b=function(O,H){for(var Y=0,q=0;q<H/2;q++){var ne=Math.round(O[2*q+1]/H)*8192+Math.round(O[2*q]/H)+Y;O[q]=ne&67108863,ne<67108864?Y=0:Y=ne/67108864|0}return O},b.prototype.convert13b=function(O,H,Y,q){for(var ne=0,oe=0;oe<H;oe++)ne=ne+(O[oe]|0),Y[2*oe]=ne&8191,ne=ne>>>13,Y[2*oe+1]=ne&8191,ne=ne>>>13;for(oe=2*H;oe<q;++oe)Y[oe]=0;a(ne===0),a((ne&-8192)===0)},b.prototype.stub=function(O){for(var H=new Array(O),Y=0;Y<O;Y++)H[Y]=0;return H},b.prototype.mulp=function(O,H,Y){var q=2*this.guessLen13b(O.length,H.length),ne=this.makeRBT(q),oe=this.stub(q),he=new Array(q),J=new Array(q),Z=new Array(q),se=new Array(q),$=new Array(q),ee=new Array(q),le=Y.words;le.length=q,this.convert13b(O.words,O.length,he,q),this.convert13b(H.words,H.length,se,q),this.transform(he,oe,J,Z,q,ne),this.transform(se,oe,$,ee,q,ne);for(var Q=0;Q<q;Q++){var K=J[Q]*$[Q]-Z[Q]*ee[Q];Z[Q]=J[Q]*ee[Q]+Z[Q]*$[Q],J[Q]=K}return this.conjugate(J,Z,q),this.transform(J,Z,le,oe,q,ne),this.conjugate(le,oe,q),this.normalize13b(le,q),Y.negative=O.negative^H.negative,Y.length=O.length+H.length,Y.strip()},u.prototype.mul=function(O){var H=new u(null);return H.words=new Array(this.length+O.length),this.mulTo(O,H)},u.prototype.mulf=function(O){var H=new u(null);return H.words=new Array(this.length+O.length),E(this,O,H)},u.prototype.imul=function(O){return this.clone().mulTo(O,this)},u.prototype.imuln=function(O){a(typeof O=="number"),a(O<67108864);for(var H=0,Y=0;Y<this.length;Y++){var q=(this.words[Y]|0)*O,ne=(q&67108863)+(H&67108863);H>>=26,H+=q/67108864|0,H+=ne>>>26,this.words[Y]=ne&67108863}return H!==0&&(this.words[Y]=H,this.length++),this},u.prototype.muln=function(O){return this.clone().imuln(O)},u.prototype.sqr=function(){return this.mul(this)},u.prototype.isqr=function(){return this.imul(this.clone())},u.prototype.pow=function(O){var H=M(O);if(H.length===0)return new u(1);for(var Y=this,q=0;q<H.length&&H[q]===0;q++,Y=Y.sqr());if(++q<H.length)for(var ne=Y.sqr();q<H.length;q++,ne=ne.sqr())H[q]!==0&&(Y=Y.mul(ne));return Y},u.prototype.iushln=function(O){a(typeof O=="number"&&O>=0);var H=O%26,Y=(O-H)/26,q=67108863>>>26-H<<26-H,ne;if(H!==0){var oe=0;for(ne=0;ne<this.length;ne++){var he=this.words[ne]&q,J=(this.words[ne]|0)-he<<H;this.words[ne]=J|oe,oe=he>>>26-H}oe&&(this.words[ne]=oe,this.length++)}if(Y!==0){for(ne=this.length-1;ne>=0;ne--)this.words[ne+Y]=this.words[ne];for(ne=0;ne<Y;ne++)this.words[ne]=0;this.length+=Y}return this.strip()},u.prototype.ishln=function(O){return a(this.negative===0),this.iushln(O)},u.prototype.iushrn=function(O,H,Y){a(typeof O=="number"&&O>=0);var q;H?q=(H-H%26)/26:q=0;var ne=O%26,oe=Math.min((O-ne)/26,this.length),he=67108863^67108863>>>ne<<ne,J=Y;if(q-=oe,q=Math.max(0,q),J){for(var Z=0;Z<oe;Z++)J.words[Z]=this.words[Z];J.length=oe}if(oe!==0)if(this.length>oe)for(this.length-=oe,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+oe];else this.words[0]=0,this.length=1;var se=0;for(Z=this.length-1;Z>=0&&(se!==0||Z>=q);Z--){var $=this.words[Z]|0;this.words[Z]=se<<26-ne|$>>>ne,se=$&he}return J&&se!==0&&(J.words[J.length++]=se),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},u.prototype.ishrn=function(O,H,Y){return a(this.negative===0),this.iushrn(O,H,Y)},u.prototype.shln=function(O){return this.clone().ishln(O)},u.prototype.ushln=function(O){return this.clone().iushln(O)},u.prototype.shrn=function(O){return this.clone().ishrn(O)},u.prototype.ushrn=function(O){return this.clone().iushrn(O)},u.prototype.testn=function(O){a(typeof O=="number"&&O>=0);var H=O%26,Y=(O-H)/26,q=1<<H;if(this.length<=Y)return!1;var ne=this.words[Y];return!!(ne&q)},u.prototype.imaskn=function(O){a(typeof O=="number"&&O>=0);var H=O%26,Y=(O-H)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=Y)return this;if(H!==0&&Y++,this.length=Math.min(Y,this.length),H!==0){var q=67108863^67108863>>>H<<H;this.words[this.length-1]&=q}return this.strip()},u.prototype.maskn=function(O){return this.clone().imaskn(O)},u.prototype.iaddn=function(O){return a(typeof O=="number"),a(O<67108864),O<0?this.isubn(-O):this.negative!==0?this.length===1&&(this.words[0]|0)<O?(this.words[0]=O-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(O),this.negative=1,this):this._iaddn(O)},u.prototype._iaddn=function(O){this.words[0]+=O;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},u.prototype.isubn=function(O){if(a(typeof O=="number"),a(O<67108864),O<0)return this.iaddn(-O);if(this.negative!==0)return this.negative=0,this.iaddn(O),this.negative=1,this;if(this.words[0]-=O,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},u.prototype.addn=function(O){return this.clone().iaddn(O)},u.prototype.subn=function(O){return this.clone().isubn(O)},u.prototype.iabs=function(){return this.negative=0,this},u.prototype.abs=function(){return this.clone().iabs()},u.prototype._ishlnsubmul=function(O,H,Y){var q=O.length+Y,ne;this._expand(q);var oe,he=0;for(ne=0;ne<O.length;ne++){oe=(this.words[ne+Y]|0)+he;var J=(O.words[ne]|0)*H;oe-=J&67108863,he=(oe>>26)-(J/67108864|0),this.words[ne+Y]=oe&67108863}for(;ne<this.length-Y;ne++)oe=(this.words[ne+Y]|0)+he,he=oe>>26,this.words[ne+Y]=oe&67108863;if(he===0)return this.strip();for(a(he===-1),he=0,ne=0;ne<this.length;ne++)oe=-(this.words[ne]|0)+he,he=oe>>26,this.words[ne]=oe&67108863;return this.negative=1,this.strip()},u.prototype._wordDiv=function(O,H){var Y=this.length-O.length,q=this.clone(),ne=O,oe=ne.words[ne.length-1]|0,he=this._countBits(oe);Y=26-he,Y!==0&&(ne=ne.ushln(Y),q.iushln(Y),oe=ne.words[ne.length-1]|0);var J=q.length-ne.length,Z;if(H!=="mod"){Z=new u(null),Z.length=J+1,Z.words=new Array(Z.length);for(var se=0;se<Z.length;se++)Z.words[se]=0}var $=q.clone()._ishlnsubmul(ne,1,J);$.negative===0&&(q=$,Z&&(Z.words[J]=1));for(var ee=J-1;ee>=0;ee--){var le=(q.words[ne.length+ee]|0)*67108864+(q.words[ne.length+ee-1]|0);for(le=Math.min(le/oe|0,67108863),q._ishlnsubmul(ne,le,ee);q.negative!==0;)le--,q.negative=0,q._ishlnsubmul(ne,1,ee),q.isZero()||(q.negative^=1);Z&&(Z.words[ee]=le)}return Z&&Z.strip(),q.strip(),H!=="div"&&Y!==0&&q.iushrn(Y),{div:Z||null,mod:q}},u.prototype.divmod=function(O,H,Y){if(a(!O.isZero()),this.isZero())return{div:new u(0),mod:new u(0)};var q,ne,oe;return this.negative!==0&&O.negative===0?(oe=this.neg().divmod(O,H),H!=="mod"&&(q=oe.div.neg()),H!=="div"&&(ne=oe.mod.neg(),Y&&ne.negative!==0&&ne.iadd(O)),{div:q,mod:ne}):this.negative===0&&O.negative!==0?(oe=this.divmod(O.neg(),H),H!=="mod"&&(q=oe.div.neg()),{div:q,mod:oe.mod}):this.negative&O.negative?(oe=this.neg().divmod(O.neg(),H),H!=="div"&&(ne=oe.mod.neg(),Y&&ne.negative!==0&&ne.isub(O)),{div:oe.div,mod:ne}):O.length>this.length||this.cmp(O)<0?{div:new u(0),mod:this}:O.length===1?H==="div"?{div:this.divn(O.words[0]),mod:null}:H==="mod"?{div:null,mod:new u(this.modn(O.words[0]))}:{div:this.divn(O.words[0]),mod:new u(this.modn(O.words[0]))}:this._wordDiv(O,H)},u.prototype.div=function(O){return this.divmod(O,"div",!1).div},u.prototype.mod=function(O){return this.divmod(O,"mod",!1).mod},u.prototype.umod=function(O){return this.divmod(O,"mod",!0).mod},u.prototype.divRound=function(O){var H=this.divmod(O);if(H.mod.isZero())return H.div;var Y=H.div.negative!==0?H.mod.isub(O):H.mod,q=O.ushrn(1),ne=O.andln(1),oe=Y.cmp(q);return oe<0||ne===1&&oe===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},u.prototype.modn=function(O){a(O<=67108863);for(var H=(1<<26)%O,Y=0,q=this.length-1;q>=0;q--)Y=(H*Y+(this.words[q]|0))%O;return Y},u.prototype.idivn=function(O){a(O<=67108863);for(var H=0,Y=this.length-1;Y>=0;Y--){var q=(this.words[Y]|0)+H*67108864;this.words[Y]=q/O|0,H=q%O}return this.strip()},u.prototype.divn=function(O){return this.clone().idivn(O)},u.prototype.egcd=function(O){a(O.negative===0),a(!O.isZero());var H=this,Y=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var q=new u(1),ne=new u(0),oe=new u(0),he=new u(1),J=0;H.isEven()&&Y.isEven();)H.iushrn(1),Y.iushrn(1),++J;for(var Z=Y.clone(),se=H.clone();!H.isZero();){for(var $=0,ee=1;!(H.words[0]&ee)&&$<26;++$,ee<<=1);if($>0)for(H.iushrn($);$-- >0;)(q.isOdd()||ne.isOdd())&&(q.iadd(Z),ne.isub(se)),q.iushrn(1),ne.iushrn(1);for(var le=0,Q=1;!(Y.words[0]&Q)&&le<26;++le,Q<<=1);if(le>0)for(Y.iushrn(le);le-- >0;)(oe.isOdd()||he.isOdd())&&(oe.iadd(Z),he.isub(se)),oe.iushrn(1),he.iushrn(1);H.cmp(Y)>=0?(H.isub(Y),q.isub(oe),ne.isub(he)):(Y.isub(H),oe.isub(q),he.isub(ne))}return{a:oe,b:he,gcd:Y.iushln(J)}},u.prototype._invmp=function(O){a(O.negative===0),a(!O.isZero());var H=this,Y=O.clone();H.negative!==0?H=H.umod(O):H=H.clone();for(var q=new u(1),ne=new u(0),oe=Y.clone();H.cmpn(1)>0&&Y.cmpn(1)>0;){for(var he=0,J=1;!(H.words[0]&J)&&he<26;++he,J<<=1);if(he>0)for(H.iushrn(he);he-- >0;)q.isOdd()&&q.iadd(oe),q.iushrn(1);for(var Z=0,se=1;!(Y.words[0]&se)&&Z<26;++Z,se<<=1);if(Z>0)for(Y.iushrn(Z);Z-- >0;)ne.isOdd()&&ne.iadd(oe),ne.iushrn(1);H.cmp(Y)>=0?(H.isub(Y),q.isub(ne)):(Y.isub(H),ne.isub(q))}var $;return H.cmpn(1)===0?$=q:$=ne,$.cmpn(0)<0&&$.iadd(O),$},u.prototype.gcd=function(O){if(this.isZero())return O.abs();if(O.isZero())return this.abs();var H=this.clone(),Y=O.clone();H.negative=0,Y.negative=0;for(var q=0;H.isEven()&&Y.isEven();q++)H.iushrn(1),Y.iushrn(1);do{for(;H.isEven();)H.iushrn(1);for(;Y.isEven();)Y.iushrn(1);var ne=H.cmp(Y);if(ne<0){var oe=H;H=Y,Y=oe}else if(ne===0||Y.cmpn(1)===0)break;H.isub(Y)}while(!0);return Y.iushln(q)},u.prototype.invm=function(O){return this.egcd(O).a.umod(O)},u.prototype.isEven=function(){return(this.words[0]&1)===0},u.prototype.isOdd=function(){return(this.words[0]&1)===1},u.prototype.andln=function(O){return this.words[0]&O},u.prototype.bincn=function(O){a(typeof O=="number");var H=O%26,Y=(O-H)/26,q=1<<H;if(this.length<=Y)return this._expand(Y+1),this.words[Y]|=q,this;for(var ne=q,oe=Y;ne!==0&&oe<this.length;oe++){var he=this.words[oe]|0;he+=ne,ne=he>>>26,he&=67108863,this.words[oe]=he}return ne!==0&&(this.words[oe]=ne,this.length++),this},u.prototype.isZero=function(){return this.length===1&&this.words[0]===0},u.prototype.cmpn=function(O){var H=O<0;if(this.negative!==0&&!H)return-1;if(this.negative===0&&H)return 1;this.strip();var Y;if(this.length>1)Y=1;else{H&&(O=-O),a(O<=67108863,"Number is too big");var q=this.words[0]|0;Y=q===O?0:q<O?-1:1}return this.negative!==0?-Y|0:Y},u.prototype.cmp=function(O){if(this.negative!==0&&O.negative===0)return-1;if(this.negative===0&&O.negative!==0)return 1;var H=this.ucmp(O);return this.negative!==0?-H|0:H},u.prototype.ucmp=function(O){if(this.length>O.length)return 1;if(this.length<O.length)return-1;for(var H=0,Y=this.length-1;Y>=0;Y--){var q=this.words[Y]|0,ne=O.words[Y]|0;if(q!==ne){q<ne?H=-1:q>ne&&(H=1);break}}return H},u.prototype.gtn=function(O){return this.cmpn(O)===1},u.prototype.gt=function(O){return this.cmp(O)===1},u.prototype.gten=function(O){return this.cmpn(O)>=0},u.prototype.gte=function(O){return this.cmp(O)>=0},u.prototype.ltn=function(O){return this.cmpn(O)===-1},u.prototype.lt=function(O){return this.cmp(O)===-1},u.prototype.lten=function(O){return this.cmpn(O)<=0},u.prototype.lte=function(O){return this.cmp(O)<=0},u.prototype.eqn=function(O){return this.cmpn(O)===0},u.prototype.eq=function(O){return this.cmp(O)===0},u.red=function(O){return new F(O)},u.prototype.toRed=function(O){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),O.convertTo(this)._forceRed(O)},u.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},u.prototype._forceRed=function(O){return this.red=O,this},u.prototype.forceRed=function(O){return a(!this.red,"Already a number in reduction context"),this._forceRed(O)},u.prototype.redAdd=function(O){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,O)},u.prototype.redIAdd=function(O){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,O)},u.prototype.redSub=function(O){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,O)},u.prototype.redISub=function(O){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,O)},u.prototype.redShl=function(O){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,O)},u.prototype.redMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.mul(this,O)},u.prototype.redIMul=function(O){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,O),this.red.imul(this,O)},u.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},u.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},u.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},u.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},u.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},u.prototype.redPow=function(O){return a(this.red&&!O.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,O)};var o={k256:null,p224:null,p192:null,p25519:null};function P(U,O){this.name=U,this.p=new u(O,16),this.n=this.p.bitLength(),this.k=new u(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}P.prototype._tmp=function(){var O=new u(null);return O.words=new Array(Math.ceil(this.n/13)),O},P.prototype.ireduce=function(O){var H=O,Y;do this.split(H,this.tmp),H=this.imulK(H),H=H.iadd(this.tmp),Y=H.bitLength();while(Y>this.n);var q=Y<this.n?-1:H.ucmp(this.p);return q===0?(H.words[0]=0,H.length=1):q>0?H.isub(this.p):H.strip!==void 0?H.strip():H._strip(),H},P.prototype.split=function(O,H){O.iushrn(this.n,0,H)},P.prototype.imulK=function(O){return O.imul(this.k)};function x(){P.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}h(x,P),x.prototype.split=function(O,H){for(var Y=4194303,q=Math.min(O.length,9),ne=0;ne<q;ne++)H.words[ne]=O.words[ne];if(H.length=q,O.length<=9){O.words[0]=0,O.length=1;return}var oe=O.words[9];for(H.words[H.length++]=oe&Y,ne=10;ne<O.length;ne++){var he=O.words[ne]|0;O.words[ne-10]=(he&Y)<<4|oe>>>22,oe=he}oe>>>=22,O.words[ne-10]=oe,oe===0&&O.length>10?O.length-=10:O.length-=9},x.prototype.imulK=function(O){O.words[O.length]=0,O.words[O.length+1]=0,O.length+=2;for(var H=0,Y=0;Y<O.length;Y++){var q=O.words[Y]|0;H+=q*977,O.words[Y]=H&67108863,H=q*64+(H/67108864|0)}return O.words[O.length-1]===0&&(O.length--,O.words[O.length-1]===0&&O.length--),O};function z(){P.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}h(z,P);function _(){P.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}h(_,P);function G(){P.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}h(G,P),G.prototype.imulK=function(O){for(var H=0,Y=0;Y<O.length;Y++){var q=(O.words[Y]|0)*19+H,ne=q&67108863;q>>>=26,O.words[Y]=ne,H=q}return H!==0&&(O.words[O.length++]=H),O},u._prime=function(O){if(o[O])return o[O];var H;if(O==="k256")H=new x;else if(O==="p224")H=new z;else if(O==="p192")H=new _;else if(O==="p25519")H=new G;else throw new Error("Unknown prime "+O);return o[O]=H,H};function F(U){if(typeof U=="string"){var O=u._prime(U);this.m=O.p,this.prime=O}else a(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}F.prototype._verify1=function(O){a(O.negative===0,"red works only with positives"),a(O.red,"red works only with red numbers")},F.prototype._verify2=function(O,H){a((O.negative|H.negative)===0,"red works only with positives"),a(O.red&&O.red===H.red,"red works only with red numbers")},F.prototype.imod=function(O){return this.prime?this.prime.ireduce(O)._forceRed(this):O.umod(this.m)._forceRed(this)},F.prototype.neg=function(O){return O.isZero()?O.clone():this.m.sub(O)._forceRed(this)},F.prototype.add=function(O,H){this._verify2(O,H);var Y=O.add(H);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y._forceRed(this)},F.prototype.iadd=function(O,H){this._verify2(O,H);var Y=O.iadd(H);return Y.cmp(this.m)>=0&&Y.isub(this.m),Y},F.prototype.sub=function(O,H){this._verify2(O,H);var Y=O.sub(H);return Y.cmpn(0)<0&&Y.iadd(this.m),Y._forceRed(this)},F.prototype.isub=function(O,H){this._verify2(O,H);var Y=O.isub(H);return Y.cmpn(0)<0&&Y.iadd(this.m),Y},F.prototype.shl=function(O,H){return this._verify1(O),this.imod(O.ushln(H))},F.prototype.imul=function(O,H){return this._verify2(O,H),this.imod(O.imul(H))},F.prototype.mul=function(O,H){return this._verify2(O,H),this.imod(O.mul(H))},F.prototype.isqr=function(O){return this.imul(O,O.clone())},F.prototype.sqr=function(O){return this.mul(O,O)},F.prototype.sqrt=function(O){if(O.isZero())return O.clone();var H=this.m.andln(3);if(a(H%2===1),H===3){var Y=this.m.add(new u(1)).iushrn(2);return this.pow(O,Y)}for(var q=this.m.subn(1),ne=0;!q.isZero()&&q.andln(1)===0;)ne++,q.iushrn(1);a(!q.isZero());var oe=new u(1).toRed(this),he=oe.redNeg(),J=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new u(2*Z*Z).toRed(this);this.pow(Z,J).cmp(he)!==0;)Z.redIAdd(he);for(var se=this.pow(Z,q),$=this.pow(O,q.addn(1).iushrn(1)),ee=this.pow(O,q),le=ne;ee.cmp(oe)!==0;){for(var Q=ee,K=0;Q.cmp(oe)!==0;K++)Q=Q.redSqr();a(K<le);var ue=this.pow(se,new u(1).iushln(le-K-1));$=$.redMul(ue),se=ue.redSqr(),ee=ee.redMul(se),le=K}return $},F.prototype.invm=function(O){var H=O._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},F.prototype.pow=function(O,H){if(H.isZero())return new u(1).toRed(this);if(H.cmpn(1)===0)return O.clone();var Y=4,q=new Array(1<<Y);q[0]=new u(1).toRed(this),q[1]=O;for(var ne=2;ne<q.length;ne++)q[ne]=this.mul(q[ne-1],O);var oe=q[0],he=0,J=0,Z=H.bitLength()%26;for(Z===0&&(Z=26),ne=H.length-1;ne>=0;ne--){for(var se=H.words[ne],$=Z-1;$>=0;$--){var ee=se>>$&1;if(oe!==q[0]&&(oe=this.sqr(oe)),ee===0&&he===0){J=0;continue}he<<=1,he|=ee,J++,!(J!==Y&&(ne!==0||$!==0))&&(oe=this.mul(oe,q[he]),J=0,he=0)}Z=26}return oe},F.prototype.convertTo=function(O){var H=O.umod(this.m);return H===O?H.clone():H},F.prototype.convertFrom=function(O){var H=O.clone();return H.red=null,H},u.mont=function(O){return new N(O)};function N(U){F.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new u(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}h(N,F),N.prototype.convertTo=function(O){return this.imod(O.ushln(this.shift))},N.prototype.convertFrom=function(O){var H=this.imod(O.mul(this.rinv));return H.red=null,H},N.prototype.imul=function(O,H){if(O.isZero()||H.isZero())return O.words[0]=0,O.length=1,O;var Y=O.imul(H),q=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=Y.isub(q).iushrn(this.shift),oe=ne;return ne.cmp(this.m)>=0?oe=ne.isub(this.m):ne.cmpn(0)<0&&(oe=ne.iadd(this.m)),oe._forceRed(this)},N.prototype.mul=function(O,H){if(O.isZero()||H.isZero())return new u(0)._forceRed(this);var Y=O.mul(H),q=Y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=Y.isub(q).iushrn(this.shift),oe=ne;return ne.cmp(this.m)>=0?oe=ne.isub(this.m):ne.cmpn(0)<0&&(oe=ne.iadd(this.m)),oe._forceRed(this)},N.prototype.invm=function(O){var H=this.imod(O._invmp(this.m).mul(this.r2));return H._forceRed(this)}}(d,this)},2692:function(d){d.exports=y;function y(r){var t,i,a,h=r.length,u=0;for(t=0;t<h;++t)u+=r[t].length;var s=new Array(u),m=0;for(t=0;t<h;++t){var f=r[t],S=f.length;for(i=0;i<S;++i){var v=s[m++]=new Array(S-1),l=0;for(a=0;a<S;++a)a!==i&&(v[l++]=f[a]);if(i&1){var g=v[1];v[1]=v[0],v[0]=g}}}return s}},2569:function(d,y,r){d.exports=l;var t=r(5306),i=r(1390),a=r(2337);function h(g,M){for(var A=0;A<g;++A)if(!(M[A]<=M[A+g]))return!0;return!1}function u(g,M,A,k){for(var w=0,E=0,b=0,o=g.length;b<o;++b){var P=g[b];if(!h(M,P)){for(var x=0;x<2*M;++x)A[w++]=P[x];k[E++]=b}}return E}function s(g,M,A,k){var w=g.length,E=M.length;if(!(w<=0||E<=0)){var b=g[0].length>>>1;if(!(b<=0)){var o,P=t.mallocDouble(2*b*w),x=t.mallocInt32(w);if(w=u(g,b,P,x),w>0){if(b===1&&k)i.init(w),o=i.sweepComplete(b,A,0,w,P,x,0,w,P,x);else{var z=t.mallocDouble(2*b*E),_=t.mallocInt32(E);E=u(M,b,z,_),E>0&&(i.init(w+E),b===1?o=i.sweepBipartite(b,A,0,w,P,x,0,E,z,_):o=a(b,A,k,w,P,x,E,z,_),t.free(z),t.free(_))}t.free(P),t.free(x)}return o}}}var m;function f(g,M){m.push([g,M])}function S(g){return m=[],s(g,g,f,!0),m}function v(g,M){return m=[],s(g,M,f,!1),m}function l(g,M,A){switch(arguments.length){case 1:return S(g);case 2:return typeof M=="function"?s(g,g,M,!0):v(g,M);case 3:return s(g,M,A,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(d,y){function r(){function a(s,m,f,S,v,l,g,M,A,k,w){for(var E=2*s,b=S,o=E*S;b<v;++b,o+=E){var P=l[m+o],x=l[m+o+s],z=g[b];e:for(var _=M,G=E*M;_<A;++_,G+=E){var F=k[m+G],N=k[m+G+s],U=w[_];if(!(N<P||x<F)){for(var O=m+1;O<s;++O){var H=l[O+o],Y=l[O+s+o],q=k[O+G],ne=k[O+s+G];if(Y<q||ne<H)continue e}var oe=f(z,U);if(oe!==void 0)return oe}}}}function h(s,m,f,S,v,l,g,M,A,k,w){for(var E=2*s,b=M,o=E*M;b<A;++b,o+=E){var P=k[m+o],x=k[m+o+s],z=w[b];e:for(var _=S,G=E*S;_<v;++_,G+=E){var F=l[m+G],N=l[m+G+s],U=g[_];if(!(x<F||N<P)){for(var O=m+1;O<s;++O){var H=l[O+G],Y=l[O+s+G],q=k[O+o],ne=k[O+s+o];if(Y<q||ne<H)continue e}var oe=f(U,z);if(oe!==void 0)return oe}}}}function u(s,m,f,S,v,l,g,M,A,k,w){return v-S>A-M?a(s,m,f,S,v,l,g,M,A,k,w):h(s,m,f,S,v,l,g,M,A,k,w)}return u}function t(){function a(f,S,v,l,g,M,A,k,w,E,b){for(var o=2*f,P=l,x=o*l;P<g;++P,x+=o){var z=M[S+x],_=M[S+x+f],G=A[P];e:for(var F=k,N=o*k;F<w;++F,N+=o){var U=E[S+N],O=b[F];if(!(U<=z||_<U)){for(var H=S+1;H<f;++H){var Y=M[H+x],q=M[H+f+x],ne=E[H+N],oe=E[H+f+N];if(q<ne||oe<Y)continue e}var he=v(O,G);if(he!==void 0)return he}}}}function h(f,S,v,l,g,M,A,k,w,E,b){for(var o=2*f,P=l,x=o*l;P<g;++P,x+=o){var z=M[S+x],_=M[S+x+f],G=A[P];e:for(var F=k,N=o*k;F<w;++F,N+=o){var U=E[S+N],O=b[F];if(!(U<z||_<U)){for(var H=S+1;H<f;++H){var Y=M[H+x],q=M[H+f+x],ne=E[H+N],oe=E[H+f+N];if(q<ne||oe<Y)continue e}var he=v(G,O);if(he!==void 0)return he}}}}function u(f,S,v,l,g,M,A,k,w,E,b){for(var o=2*f,P=k,x=o*k;P<w;++P,x+=o){var z=E[S+x],_=b[P];e:for(var G=l,F=o*l;G<g;++G,F+=o){var N=M[S+F],U=M[S+F+f],O=A[G];if(!(z<=N||U<z)){for(var H=S+1;H<f;++H){var Y=M[H+F],q=M[H+f+F],ne=E[H+x],oe=E[H+f+x];if(q<ne||oe<Y)continue e}var he=v(_,O);if(he!==void 0)return he}}}}function s(f,S,v,l,g,M,A,k,w,E,b){for(var o=2*f,P=k,x=o*k;P<w;++P,x+=o){var z=E[S+x],_=b[P];e:for(var G=l,F=o*l;G<g;++G,F+=o){var N=M[S+F],U=M[S+F+f],O=A[G];if(!(z<N||U<z)){for(var H=S+1;H<f;++H){var Y=M[H+F],q=M[H+f+F],ne=E[H+x],oe=E[H+f+x];if(q<ne||oe<Y)continue e}var he=v(O,_);if(he!==void 0)return he}}}}function m(f,S,v,l,g,M,A,k,w,E,b,o){return M-g>E-w?l?a(f,S,v,g,M,A,k,w,E,b,o):h(f,S,v,g,M,A,k,w,E,b,o):l?u(f,S,v,g,M,A,k,w,E,b,o):s(f,S,v,g,M,A,k,w,E,b,o)}return m}function i(a){return a?r():t()}y.partial=i(!1),y.full=i(!0)},2337:function(d,y,r){d.exports=U;var t=r(5306),i=r(2288),a=r(7333),h=a.partial,u=a.full,s=r(1390),m=r(2464),f=r(122),S=128,v=1<<22,l=1<<22,g=f("!(lo>=p0)&&!(p1>=hi)"),M=f("lo===p0"),A=f("lo<p0"),k=f("hi<=p0"),w=f("lo<=p0&&p0<=hi"),E=f("lo<p0&&p0<=hi"),b=6,o=2,P=1024,x=t.mallocInt32(P),z=t.mallocDouble(P);function _(O,H){var Y=8*i.log2(H+1)*(O+1)|0,q=i.nextPow2(b*Y);x.length<q&&(t.free(x),x=t.mallocInt32(q));var ne=i.nextPow2(o*Y);z.length<ne&&(t.free(z),z=t.mallocDouble(ne))}function G(O,H,Y,q,ne,oe,he,J,Z){var se=b*O;x[se]=H,x[se+1]=Y,x[se+2]=q,x[se+3]=ne,x[se+4]=oe,x[se+5]=he;var $=o*O;z[$]=J,z[$+1]=Z}function F(O,H,Y,q,ne,oe,he,J,Z,se,$){var ee=2*O,le=Z*ee,Q=se[le+H];e:for(var K=ne,ue=ne*ee;K<oe;++K,ue+=ee){var ie=he[ue+H],ce=he[ue+H+O];if(!(Q<ie||ce<Q)&&!(q&&Q===ie)){for(var xe=J[K],Le=H+1;Le<O;++Le){var ie=he[ue+Le],ce=he[ue+Le+O],Ae=se[le+Le],Oe=se[le+Le+O];if(ce<Ae||Oe<ie)continue e}var ze;if(q?ze=Y($,xe):ze=Y(xe,$),ze!==void 0)return ze}}}function N(O,H,Y,q,ne,oe,he,J,Z,se){var $=2*O,ee=J*$,le=Z[ee+H];e:for(var Q=q,K=q*$;Q<ne;++Q,K+=$){var ue=he[Q];if(ue!==se){var ie=oe[K+H],ce=oe[K+H+O];if(!(le<ie||ce<le)){for(var xe=H+1;xe<O;++xe){var ie=oe[K+xe],ce=oe[K+xe+O],Le=Z[ee+xe],Ae=Z[ee+xe+O];if(ce<Le||Ae<ie)continue e}var Oe=Y(ue,se);if(Oe!==void 0)return Oe}}}}function U(O,H,Y,q,ne,oe,he,J,Z){_(O,q+he);var se=0,$=2*O,ee;for(G(se++,0,0,q,0,he,Y?16:0,-1/0,1/0),Y||G(se++,0,0,he,0,q,1,-1/0,1/0);se>0;){se-=1;var le=se*b,Q=x[le],K=x[le+1],ue=x[le+2],ie=x[le+3],ce=x[le+4],xe=x[le+5],Le=se*o,Ae=z[Le],Oe=z[Le+1],ze=xe&1,Ee=!!(xe&16),be=ne,Ce=oe,Ue=J,He=Z;if(ze&&(be=J,Ce=Z,Ue=ne,He=oe),!(xe&2&&(ue=A(O,Q,K,ue,be,Ce,Oe),K>=ue))&&!(xe&4&&(K=k(O,Q,K,ue,be,Ce,Ae),K>=ue))){var Ie=ue-K,Ge=ce-ie;if(Ee){if(O*Ie*(Ie+Ge)<l){if(ee=s.scanComplete(O,Q,H,K,ue,be,Ce,ie,ce,Ue,He),ee!==void 0)return ee;continue}}else if(O*Math.min(Ie,Ge)<S){if(ee=h(O,Q,H,ze,K,ue,be,Ce,ie,ce,Ue,He),ee!==void 0)return ee;continue}else if(O*Ie*Ge<v){if(ee=s.scanBipartite(O,Q,H,ze,K,ue,be,Ce,ie,ce,Ue,He),ee!==void 0)return ee;continue}var at=g(O,Q,K,ue,be,Ce,Ae,Oe);if(K<at)if(O*(at-K)<S){if(ee=u(O,Q+1,H,K,at,be,Ce,ie,ce,Ue,He),ee!==void 0)return ee}else if(Q===O-2){if(ze?ee=s.sweepBipartite(O,H,ie,ce,Ue,He,K,at,be,Ce):ee=s.sweepBipartite(O,H,K,at,be,Ce,ie,ce,Ue,He),ee!==void 0)return ee}else G(se++,Q+1,K,at,ie,ce,ze,-1/0,1/0),G(se++,Q+1,ie,ce,K,at,ze^1,-1/0,1/0);if(at<ue){var lt=m(O,Q,ie,ce,Ue,He),qe=Ue[$*lt+Q],et=M(O,Q,lt,ce,Ue,He,qe);if(et<ce&&G(se++,Q,at,ue,et,ce,(ze|4)+(Ee?16:0),qe,Oe),ie<lt&&G(se++,Q,at,ue,ie,lt,(ze|2)+(Ee?16:0),Ae,qe),lt+1===et){if(Ee?ee=N(O,Q,H,at,ue,be,Ce,lt,Ue,He[lt]):ee=F(O,Q,H,ze,at,ue,be,Ce,lt,Ue,He[lt]),ee!==void 0)return ee}else if(lt<et){var ft;if(Ee){if(ft=w(O,Q,at,ue,be,Ce,qe),at<ft){var dt=M(O,Q,at,ft,be,Ce,qe);if(Q===O-2){if(at<dt&&(ee=s.sweepComplete(O,H,at,dt,be,Ce,lt,et,Ue,He),ee!==void 0)||dt<ft&&(ee=s.sweepBipartite(O,H,dt,ft,be,Ce,lt,et,Ue,He),ee!==void 0))return ee}else at<dt&&G(se++,Q+1,at,dt,lt,et,16,-1/0,1/0),dt<ft&&(G(se++,Q+1,dt,ft,lt,et,0,-1/0,1/0),G(se++,Q+1,lt,et,dt,ft,1,-1/0,1/0))}}else ze?ft=E(O,Q,at,ue,be,Ce,qe):ft=w(O,Q,at,ue,be,Ce,qe),at<ft&&(Q===O-2?ze?ee=s.sweepBipartite(O,H,lt,et,Ue,He,at,ft,be,Ce):ee=s.sweepBipartite(O,H,at,ft,be,Ce,lt,et,Ue,He):(G(se++,Q+1,at,ft,lt,et,ze,-1/0,1/0),G(se++,Q+1,lt,et,at,ft,ze^1,-1/0,1/0)))}}}}}},2464:function(d,y,r){d.exports=u;var t=r(122),i=t("lo<p0"),a=8;function h(s,m,f,S,v,l){for(var g=2*s,M=g*(f+1)+m,A=f+1;A<S;++A,M+=g)for(var k=v[M],w=A,E=g*(A-1);w>f&&v[E+m]>k;--w,E-=g){for(var b=E,o=E+g,P=0;P<g;++P,++b,++o){var x=v[b];v[b]=v[o],v[o]=x}var z=l[w];l[w]=l[w-1],l[w-1]=z}}function u(s,m,f,S,v,l){if(S<=f+1)return f;for(var g=f,M=S,A=S+f>>>1,k=2*s,w=A,E=v[k*A+m];g<M;){if(M-g<a){h(s,m,g,M,v,l),E=v[k*A+m];break}var b=M-g,o=Math.random()*b+g|0,P=v[k*o+m],x=Math.random()*b+g|0,z=v[k*x+m],_=Math.random()*b+g|0,G=v[k*_+m];P<=z?G>=z?(w=x,E=z):P>=G?(w=o,E=P):(w=_,E=G):z>=G?(w=x,E=z):G>=P?(w=o,E=P):(w=_,E=G);for(var U=k*(M-1),O=k*w,F=0;F<k;++F,++U,++O){var N=v[U];v[U]=v[O],v[O]=N}var H=l[M-1];l[M-1]=l[w],l[w]=H,w=i(s,m,g,M-1,v,l,E);for(var U=k*(M-1),O=k*w,F=0;F<k;++F,++U,++O){var N=v[U];v[U]=v[O],v[O]=N}var H=l[M-1];if(l[M-1]=l[w],l[w]=H,A<w){for(M=w-1;g<M&&v[k*(M-1)+m]===E;)M-=1;M+=1}else if(w<A)for(g=w+1;g<M&&v[k*g+m]===E;)g+=1;else break}return i(s,m,f,A,v,l,v[k*A+m])}},122:function(d){d.exports=r;var y={"lo===p0":t,"lo<p0":i,"lo<=p0":a,"hi<=p0":h,"lo<p0&&p0<=hi":s,"lo<=p0&&p0<=hi":u,"!(lo>=p0)&&!(p1>=hi)":m};function r(f){return y[f]}function t(f,S,v,l,g,M,A){for(var k=2*f,w=k*v,E=w,b=v,o=S,P=f+S,x=v;l>x;++x,w+=k){var z=g[w+o];if(z===A)if(b===x)b+=1,E+=k;else{for(var _=0;k>_;++_){var G=g[w+_];g[w+_]=g[E],g[E++]=G}var F=M[x];M[x]=M[b],M[b++]=F}}return b}function i(f,S,v,l,g,M,A){for(var k=2*f,w=k*v,E=w,b=v,o=S,P=f+S,x=v;l>x;++x,w+=k){var z=g[w+o];if(z<A)if(b===x)b+=1,E+=k;else{for(var _=0;k>_;++_){var G=g[w+_];g[w+_]=g[E],g[E++]=G}var F=M[x];M[x]=M[b],M[b++]=F}}return b}function a(f,S,v,l,g,M,A){for(var k=2*f,w=k*v,E=w,b=v,o=S,P=f+S,x=v;l>x;++x,w+=k){var z=g[w+P];if(z<=A)if(b===x)b+=1,E+=k;else{for(var _=0;k>_;++_){var G=g[w+_];g[w+_]=g[E],g[E++]=G}var F=M[x];M[x]=M[b],M[b++]=F}}return b}function h(f,S,v,l,g,M,A){for(var k=2*f,w=k*v,E=w,b=v,o=S,P=f+S,x=v;l>x;++x,w+=k){var z=g[w+P];if(z<=A)if(b===x)b+=1,E+=k;else{for(var _=0;k>_;++_){var G=g[w+_];g[w+_]=g[E],g[E++]=G}var F=M[x];M[x]=M[b],M[b++]=F}}return b}function u(f,S,v,l,g,M,A){for(var k=2*f,w=k*v,E=w,b=v,o=S,P=f+S,x=v;l>x;++x,w+=k){var z=g[w+o],_=g[w+P];if(z<=A&&A<=_)if(b===x)b+=1,E+=k;else{for(var G=0;k>G;++G){var F=g[w+G];g[w+G]=g[E],g[E++]=F}var N=M[x];M[x]=M[b],M[b++]=N}}return b}function s(f,S,v,l,g,M,A){for(var k=2*f,w=k*v,E=w,b=v,o=S,P=f+S,x=v;l>x;++x,w+=k){var z=g[w+o],_=g[w+P];if(z<A&&A<=_)if(b===x)b+=1,E+=k;else{for(var G=0;k>G;++G){var F=g[w+G];g[w+G]=g[E],g[E++]=F}var N=M[x];M[x]=M[b],M[b++]=N}}return b}function m(f,S,v,l,g,M,A,k){for(var w=2*f,E=w*v,b=E,o=v,P=S,x=f+S,z=v;l>z;++z,E+=w){var _=g[E+P],G=g[E+x];if(!(_>=A)&&!(k>=G))if(o===z)o+=1,b+=w;else{for(var F=0;w>F;++F){var N=g[E+F];g[E+F]=g[b],g[b++]=N}var U=M[z];M[z]=M[o],M[o++]=U}}return o}},309:function(d){d.exports=r;var y=32;function r(S,v){v<=4*y?t(0,v-1,S):f(0,v-1,S)}function t(S,v,l){for(var g=2*(S+1),M=S+1;M<=v;++M){for(var A=l[g++],k=l[g++],w=M,E=g-2;w-- >S;){var b=l[E-2],o=l[E-1];if(b<A)break;if(b===A&&o<k)break;l[E]=b,l[E+1]=o,E-=2}l[E]=A,l[E+1]=k}}function i(S,v,l){S*=2,v*=2;var g=l[S],M=l[S+1];l[S]=l[v],l[S+1]=l[v+1],l[v]=g,l[v+1]=M}function a(S,v,l){S*=2,v*=2,l[S]=l[v],l[S+1]=l[v+1]}function h(S,v,l,g){S*=2,v*=2,l*=2;var M=g[S],A=g[S+1];g[S]=g[v],g[S+1]=g[v+1],g[v]=g[l],g[v+1]=g[l+1],g[l]=M,g[l+1]=A}function u(S,v,l,g,M){S*=2,v*=2,M[S]=M[v],M[v]=l,M[S+1]=M[v+1],M[v+1]=g}function s(S,v,l){S*=2,v*=2;var g=l[S],M=l[v];return g<M?!1:g===M?l[S+1]>l[v+1]:!0}function m(S,v,l,g){S*=2;var M=g[S];return M<v?!0:M===v?g[S+1]<l:!1}function f(S,v,l){var g=(v-S+1)/6|0,M=S+g,A=v-g,k=S+v>>1,w=k-g,E=k+g,b=M,o=w,P=k,x=E,z=A,_=S+1,G=v-1,F=0;s(b,o,l)&&(F=b,b=o,o=F),s(x,z,l)&&(F=x,x=z,z=F),s(b,P,l)&&(F=b,b=P,P=F),s(o,P,l)&&(F=o,o=P,P=F),s(b,x,l)&&(F=b,b=x,x=F),s(P,x,l)&&(F=P,P=x,x=F),s(o,z,l)&&(F=o,o=z,z=F),s(o,P,l)&&(F=o,o=P,P=F),s(x,z,l)&&(F=x,x=z,z=F);for(var N=l[2*o],U=l[2*o+1],O=l[2*x],H=l[2*x+1],Y=2*b,q=2*P,ne=2*z,oe=2*M,he=2*k,J=2*A,Z=0;Z<2;++Z){var se=l[Y+Z],$=l[q+Z],ee=l[ne+Z];l[oe+Z]=se,l[he+Z]=$,l[J+Z]=ee}a(w,S,l),a(E,v,l);for(var le=_;le<=G;++le)if(m(le,N,U,l))le!==_&&i(le,_,l),++_;else if(!m(le,O,H,l))for(;;)if(m(G,O,H,l)){m(G,N,U,l)?(h(le,_,G,l),++_,--G):(i(le,G,l),--G);break}else{if(--G<le)break;continue}u(S,_-1,N,U,l),u(v,G+1,O,H,l),_-2-S<=y?t(S,_-2,l):f(S,_-2,l),v-(G+2)<=y?t(G+2,v,l):f(G+2,v,l),G-_<=y?t(_,G,l):f(_,G,l)}},1390:function(d,y,r){d.exports={init:M,sweepBipartite:w,sweepComplete:E,scanBipartite:b,scanComplete:o};var t=r(5306),i=r(2288),a=r(309),h=1<<28,u=1024,s=t.mallocInt32(u),m=t.mallocInt32(u),f=t.mallocInt32(u),S=t.mallocInt32(u),v=t.mallocInt32(u),l=t.mallocInt32(u),g=t.mallocDouble(u*8);function M(P){var x=i.nextPow2(P);s.length<x&&(t.free(s),s=t.mallocInt32(x)),m.length<x&&(t.free(m),m=t.mallocInt32(x)),f.length<x&&(t.free(f),f=t.mallocInt32(x)),S.length<x&&(t.free(S),S=t.mallocInt32(x)),v.length<x&&(t.free(v),v=t.mallocInt32(x)),l.length<x&&(t.free(l),l=t.mallocInt32(x));var z=8*x;g.length<z&&(t.free(g),g=t.mallocDouble(z))}function A(P,x,z,_){var G=x[_],F=P[z-1];P[G]=F,x[F]=G}function k(P,x,z,_){P[z]=_,x[_]=z}function w(P,x,z,_,G,F,N,U,O,H){for(var Y=0,q=2*P,ne=P-1,oe=q-1,he=z;he<_;++he){var J=F[he],Z=q*he;g[Y++]=G[Z+ne],g[Y++]=-(J+1),g[Y++]=G[Z+oe],g[Y++]=J}for(var he=N;he<U;++he){var J=H[he]+h,se=q*he;g[Y++]=O[se+ne],g[Y++]=-J,g[Y++]=O[se+oe],g[Y++]=J}var $=Y>>>1;a(g,$);for(var ee=0,le=0,he=0;he<$;++he){var Q=g[2*he+1]|0;if(Q>=h)Q=Q-h|0,A(f,S,le--,Q);else if(Q>=0)A(s,m,ee--,Q);else if(Q<=-h){Q=-Q-h|0;for(var K=0;K<ee;++K){var ue=x(s[K],Q);if(ue!==void 0)return ue}k(f,S,le++,Q)}else{Q=-Q-1|0;for(var K=0;K<le;++K){var ue=x(Q,f[K]);if(ue!==void 0)return ue}k(s,m,ee++,Q)}}}function E(P,x,z,_,G,F,N,U,O,H){for(var Y=0,q=2*P,ne=P-1,oe=q-1,he=z;he<_;++he){var J=F[he]+1<<1,Z=q*he;g[Y++]=G[Z+ne],g[Y++]=-J,g[Y++]=G[Z+oe],g[Y++]=J}for(var he=N;he<U;++he){var J=H[he]+1<<1,se=q*he;g[Y++]=O[se+ne],g[Y++]=-J|1,g[Y++]=O[se+oe],g[Y++]=J|1}var $=Y>>>1;a(g,$);for(var ee=0,le=0,Q=0,he=0;he<$;++he){var K=g[2*he+1]|0,ue=K&1;if(he<$-1&&K>>1===g[2*he+3]>>1&&(ue=2,he+=1),K<0){for(var ie=-(K>>1)-1,ce=0;ce<Q;++ce){var xe=x(v[ce],ie);if(xe!==void 0)return xe}if(ue!==0)for(var ce=0;ce<ee;++ce){var xe=x(s[ce],ie);if(xe!==void 0)return xe}if(ue!==1)for(var ce=0;ce<le;++ce){var xe=x(f[ce],ie);if(xe!==void 0)return xe}ue===0?k(s,m,ee++,ie):ue===1?k(f,S,le++,ie):ue===2&&k(v,l,Q++,ie)}else{var ie=(K>>1)-1;ue===0?A(s,m,ee--,ie):ue===1?A(f,S,le--,ie):ue===2&&A(v,l,Q--,ie)}}}function b(P,x,z,_,G,F,N,U,O,H,Y,q){var ne=0,oe=2*P,he=x,J=x+P,Z=1,se=1;_?se=h:Z=h;for(var $=G;$<F;++$){var ee=$+Z,le=oe*$;g[ne++]=N[le+he],g[ne++]=-ee,g[ne++]=N[le+J],g[ne++]=ee}for(var $=O;$<H;++$){var ee=$+se,Q=oe*$;g[ne++]=Y[Q+he],g[ne++]=-ee}var K=ne>>>1;a(g,K);for(var ue=0,$=0;$<K;++$){var ie=g[2*$+1]|0;if(ie<0){var ee=-ie,ce=!1;if(ee>=h?(ce=!_,ee-=h):(ce=!!_,ee-=1),ce)k(s,m,ue++,ee);else{var xe=q[ee],Le=oe*ee,Ae=Y[Le+x+1],Oe=Y[Le+x+1+P];e:for(var ze=0;ze<ue;++ze){var Ee=s[ze],be=oe*Ee;if(!(Oe<N[be+x+1]||N[be+x+1+P]<Ae)){for(var Ce=x+2;Ce<P;++Ce)if(Y[Le+Ce+P]<N[be+Ce]||N[be+Ce+P]<Y[Le+Ce])continue e;var Ue=U[Ee],He;if(_?He=z(xe,Ue):He=z(Ue,xe),He!==void 0)return He}}}}else A(s,m,ue--,ie-Z)}}function o(P,x,z,_,G,F,N,U,O,H,Y){for(var q=0,ne=2*P,oe=x,he=x+P,J=_;J<G;++J){var Z=J+h,se=ne*J;g[q++]=F[se+oe],g[q++]=-Z,g[q++]=F[se+he],g[q++]=Z}for(var J=U;J<O;++J){var Z=J+1,$=ne*J;g[q++]=H[$+oe],g[q++]=-Z}var ee=q>>>1;a(g,ee);for(var le=0,J=0;J<ee;++J){var Q=g[2*J+1]|0;if(Q<0){var Z=-Q;if(Z>=h)s[le++]=Z-h;else{Z-=1;var K=Y[Z],ue=ne*Z,ie=H[ue+x+1],ce=H[ue+x+1+P];e:for(var xe=0;xe<le;++xe){var Le=s[xe],Ae=N[Le];if(Ae===K)break;var Oe=ne*Le;if(!(ce<F[Oe+x+1]||F[Oe+x+1+P]<ie)){for(var ze=x+2;ze<P;++ze)if(H[ue+ze+P]<F[Oe+ze]||F[Oe+ze+P]<H[ue+ze])continue e;var Ee=z(Ae,K);if(Ee!==void 0)return Ee}}}}else{for(var Z=Q-h,xe=le-1;xe>=0;--xe)if(s[xe]===Z){for(var ze=xe+1;ze<le;++ze)s[ze-1]=s[ze];break}--le}}}},7761:function(d,y,r){var t=r(9971),i=r(743),a=r(2161),h=r(7098);d.exports=S;function u(v){return[Math.min(v[0],v[1]),Math.max(v[0],v[1])]}function s(v,l){return v[0]-l[0]||v[1]-l[1]}function m(v){return v.map(u).sort(s)}function f(v,l,g){return l in v?v[l]:g}function S(v,l,g){Array.isArray(l)?(g=g||{},l=l||[]):(g=l||{},l=[]);var M=!!f(g,"delaunay",!0),A=!!f(g,"interior",!0),k=!!f(g,"exterior",!0),w=!!f(g,"infinity",!1);if(!A&&!k||v.length===0)return[];var E=t(v,l);if(M||A!==k||w){for(var b=i(v.length,m(l)),o=0;o<E.length;++o){var P=E[o];b.addTriangle(P[0],P[1],P[2])}return M&&a(v,b),k?A?w?h(b,0,w):b.cells():h(b,1,w):h(b,-1)}else return E}},2161:function(d,y,r){var t=r(2227)[4];r(5070),d.exports=a;function i(h,u,s,m,f,S){var v=u.opposite(m,f);if(!(v<0)){if(f<m){var l=m;m=f,f=l,l=S,S=v,v=l}u.isConstraint(m,f)||t(h[m],h[f],h[S],h[v])<0&&s.push(m,f)}}function a(h,u){for(var s=[],m=h.length,f=u.stars,S=0;S<m;++S)for(var v=f[S],l=1;l<v.length;l+=2){var g=v[l];if(!(g<S)&&!u.isConstraint(S,g)){for(var M=v[l-1],A=-1,k=1;k<v.length;k+=2)if(v[k-1]===g){A=v[k];break}A<0||t(h[S],h[g],h[M],h[A])<0&&s.push(S,g)}}for(;s.length>0;){for(var g=s.pop(),S=s.pop(),M=-1,A=-1,v=f[S],w=1;w<v.length;w+=2){var E=v[w-1],b=v[w];E===g?A=b:b===g&&(M=E)}M<0||A<0||t(h[S],h[g],h[M],h[A])>=0||(u.flip(S,g),i(h,u,s,M,S,A),i(h,u,s,S,A,M),i(h,u,s,A,g,M),i(h,u,s,g,M,A))}}},7098:function(d,y,r){var t=r(5070);d.exports=m;function i(f,S,v,l,g,M,A){this.cells=f,this.neighbor=S,this.flags=l,this.constraint=v,this.active=g,this.next=M,this.boundary=A}var a=i.prototype;function h(f,S){return f[0]-S[0]||f[1]-S[1]||f[2]-S[2]}a.locate=function(){var f=[0,0,0];return function(S,v,l){var g=S,M=v,A=l;return v<l?v<S&&(g=v,M=l,A=S):l<S&&(g=l,M=S,A=v),g<0?-1:(f[0]=g,f[1]=M,f[2]=A,t.eq(this.cells,f,h))}}();function u(f,S){for(var v=f.cells(),l=v.length,g=0;g<l;++g){var M=v[g],A=M[0],k=M[1],w=M[2];k<w?k<A&&(M[0]=k,M[1]=w,M[2]=A):w<A&&(M[0]=w,M[1]=A,M[2]=k)}v.sort(h);for(var E=new Array(l),g=0;g<E.length;++g)E[g]=0;var b=[],o=[],P=new Array(3*l),x=new Array(3*l),z=null;S&&(z=[]);for(var _=new i(v,P,x,E,b,o,z),g=0;g<l;++g)for(var M=v[g],G=0;G<3;++G){var A=M[G],k=M[(G+1)%3],F=P[3*g+G]=_.locate(k,A,f.opposite(k,A)),N=x[3*g+G]=f.isConstraint(A,k);F<0&&(N?o.push(g):(b.push(g),E[g]=1),S&&z.push([k,A,-1]))}return _}function s(f,S,v){for(var l=0,g=0;g<f.length;++g)S[g]===v&&(f[l++]=f[g]);return f.length=l,f}function m(f,S,v){var l=u(f,v);if(S===0)return v?l.cells.concat(l.boundary):l.cells;for(var g=1,M=l.active,A=l.next,k=l.flags,w=l.cells,E=l.constraint,b=l.neighbor;M.length>0||A.length>0;){for(;M.length>0;){var o=M.pop();if(k[o]!==-g){k[o]=g,w[o];for(var P=0;P<3;++P){var x=b[3*o+P];x>=0&&k[x]===0&&(E[3*o+P]?A.push(x):(M.push(x),k[x]=g))}}}var z=A;A=M,M=z,A.length=0,g=-g}var _=s(w,k,S);return v?_.concat(l.boundary):_}},9971:function(d,y,r){var t=r(5070),i=r(417)[3],a=0,h=1,u=2;d.exports=A;function s(k,w,E,b,o){this.a=k,this.b=w,this.idx=E,this.lowerIds=b,this.upperIds=o}function m(k,w,E,b){this.a=k,this.b=w,this.type=E,this.idx=b}function f(k,w){var E=k.a[0]-w.a[0]||k.a[1]-w.a[1]||k.type-w.type;return E||k.type!==a&&(E=i(k.a,k.b,w.b),E)?E:k.idx-w.idx}function S(k,w){return i(k.a,k.b,w)}function v(k,w,E,b,o){for(var P=t.lt(w,b,S),x=t.gt(w,b,S),z=P;z<x;++z){for(var _=w[z],G=_.lowerIds,N=G.length;N>1&&i(E[G[N-2]],E[G[N-1]],b)>0;)k.push([G[N-1],G[N-2],o]),N-=1;G.length=N,G.push(o);for(var F=_.upperIds,N=F.length;N>1&&i(E[F[N-2]],E[F[N-1]],b)<0;)k.push([F[N-2],F[N-1],o]),N-=1;F.length=N,F.push(o)}}function l(k,w){var E;return k.a[0]<w.a[0]?E=i(k.a,k.b,w.a):E=i(w.b,w.a,k.a),E||(w.b[0]<k.b[0]?E=i(k.a,k.b,w.b):E=i(w.b,w.a,k.b),E||k.idx-w.idx)}function g(k,w,E){var b=t.le(k,E,l),o=k[b],P=o.upperIds,x=P[P.length-1];o.upperIds=[x],k.splice(b+1,0,new s(E.a,E.b,E.idx,[x],P))}function M(k,w,E){var b=E.a;E.a=E.b,E.b=b;var o=t.eq(k,E,l),P=k[o],x=k[o-1];x.upperIds=P.upperIds,k.splice(o,1)}function A(k,w){for(var E=k.length,b=w.length,o=[],P=0;P<E;++P)o.push(new m(k[P],null,a,P));for(var P=0;P<b;++P){var x=w[P],z=k[x[0]],_=k[x[1]];z[0]<_[0]?o.push(new m(z,_,u,P),new m(_,z,h,P)):z[0]>_[0]&&o.push(new m(_,z,u,P),new m(z,_,h,P))}o.sort(f);for(var G=o[0].a[0]-(1+Math.abs(o[0].a[0]))*Math.pow(2,-52),F=[new s([G,1],[G,0],-1,[],[])],N=[],P=0,U=o.length;P<U;++P){var O=o[P],H=O.type;H===a?v(N,F,k,O.a,O.idx):H===u?g(F,k,O):M(F,k,O)}return N}},743:function(d,y,r){var t=r(5070);d.exports=u;function i(s,m){this.stars=s,this.edges=m}var a=i.prototype;function h(s,m,f){for(var S=1,v=s.length;S<v;S+=2)if(s[S-1]===m&&s[S]===f){s[S-1]=s[v-2],s[S]=s[v-1],s.length=v-2;return}}a.isConstraint=function(){var s=[0,0];function m(f,S){return f[0]-S[0]||f[1]-S[1]}return function(f,S){return s[0]=Math.min(f,S),s[1]=Math.max(f,S),t.eq(this.edges,s,m)>=0}}(),a.removeTriangle=function(s,m,f){var S=this.stars;h(S[s],m,f),h(S[m],f,s),h(S[f],s,m)},a.addTriangle=function(s,m,f){var S=this.stars;S[s].push(m,f),S[m].push(f,s),S[f].push(s,m)},a.opposite=function(s,m){for(var f=this.stars[m],S=1,v=f.length;S<v;S+=2)if(f[S]===s)return f[S-1];return-1},a.flip=function(s,m){var f=this.opposite(s,m),S=this.opposite(m,s);this.removeTriangle(s,m,f),this.removeTriangle(m,s,S),this.addTriangle(s,S,f),this.addTriangle(m,f,S)},a.edges=function(){for(var s=this.stars,m=[],f=0,S=s.length;f<S;++f)for(var v=s[f],l=0,g=v.length;l<g;l+=2)m.push([v[l],v[l+1]]);return m},a.cells=function(){for(var s=this.stars,m=[],f=0,S=s.length;f<S;++f)for(var v=s[f],l=0,g=v.length;l<g;l+=2){var M=v[l],A=v[l+1];f<Math.min(M,A)&&m.push([f,M,A])}return m};function u(s,m){for(var f=new Array(s),S=0;S<s;++S)f[S]=[];return new i(f,m)}},9887:function(d){d.exports=y;function y(r){for(var t=1,i=1;i<r.length;++i)for(var a=0;a<i;++a)if(r[i]<r[a])t=-t;else if(r[a]===r[i])return 0;return t}},9243:function(d,y,r){var t=r(3094),i=r(6606);function a(s,m){for(var f=0,S=s.length,v=0;v<S;++v)f+=s[v]*m[v];return f}function h(s){var m=s.length;if(m===0)return[];s[0].length;var f=t([s.length+1,s.length+1],1),S=t([s.length+1],1);f[m][m]=0;for(var v=0;v<m;++v){for(var l=0;l<=v;++l)f[l][v]=f[v][l]=2*a(s[v],s[l]);S[v]=a(s[v],s[v])}for(var g=i(f,S),M=0,A=g[m+1],v=0;v<A.length;++v)M+=A[v];for(var k=new Array(m),v=0;v<m;++v){for(var A=g[v],w=0,l=0;l<A.length;++l)w+=A[l];k[v]=w/M}return k}function u(s){if(s.length===0)return[];for(var m=s[0].length,f=t([m]),S=h(s),v=0;v<s.length;++v)for(var l=0;l<m;++l)f[l]+=s[v][l]*S[v];return f}u.barycenetric=h,d.exports=u},1778:function(d,y,r){d.exports=i;var t=r(9243);function i(a){for(var h=t(a),u=0,s=0;s<a.length;++s)for(var m=a[s],f=0;f<h.length;++f)u+=Math.pow(m[f]-h[f],2);return Math.sqrt(u/a.length)}},197:function(d,y,r){d.exports=z;var t=r(1731),i=r(2569),a=r(4434),h=r(5125),u=r(8846),s=r(7999),m=r(2826),f=r(8551),S=r(5528);function v(_){var G=s(_);return[f(G,-1/0),f(G,1/0)]}function l(_,G){for(var F=new Array(G.length),N=0;N<G.length;++N){var U=G[N],O=_[U[0]],H=_[U[1]];F[N]=[f(Math.min(O[0],H[0]),-1/0),f(Math.min(O[1],H[1]),-1/0),f(Math.max(O[0],H[0]),1/0),f(Math.max(O[1],H[1]),1/0)]}return F}function g(_){for(var G=new Array(_.length),F=0;F<_.length;++F){var N=_[F];G[F]=[f(N[0],-1/0),f(N[1],-1/0),f(N[0],1/0),f(N[1],1/0)]}return G}function M(_,G,F){var N=[];return i(F,function(U,O){var H=G[U],Y=G[O];if(!(H[0]===Y[0]||H[0]===Y[1]||H[1]===Y[0]||H[1]===Y[1])){var q=_[H[0]],ne=_[H[1]],oe=_[Y[0]],he=_[Y[1]];a(q,ne,oe,he)&&N.push([U,O])}}),N}function A(_,G,F,N){var U=[];return i(F,N,function(O,H){var Y=G[O];if(!(Y[0]===H||Y[1]===H)){var q=_[H],ne=_[Y[0]],oe=_[Y[1]];a(ne,oe,q,q)&&U.push([O,H])}}),U}function k(_,G,F,N,U){var O,H,Y=_.map(function(Le){return[h(Le[0]),h(Le[1])]});for(O=0;O<F.length;++O){var q=F[O];H=q[0];var ne=q[1],oe=G[H],he=G[ne],J=S(m(_[oe[0]]),m(_[oe[1]]),m(_[he[0]]),m(_[he[1]]));if(J){var Z=_.length;_.push([s(J[0]),s(J[1])]),Y.push(J),N.push([H,Z],[ne,Z])}}for(N.sort(function(Le,Ae){if(Le[0]!==Ae[0])return Le[0]-Ae[0];var Oe=Y[Le[1]],ze=Y[Ae[1]];return u(Oe[0],ze[0])||u(Oe[1],ze[1])}),O=N.length-1;O>=0;--O){var se=N[O];H=se[0];var $=G[H],ee=$[0],le=$[1],Q=_[ee],K=_[le];if((Q[0]-K[0]||Q[1]-K[1])<0){var ue=ee;ee=le,le=ue}$[0]=ee;var ie=$[1]=se[1],ce;for(U&&(ce=$[2]);O>0&&N[O-1][0]===H;){var se=N[--O],xe=se[1];U?G.push([ie,xe,ce]):G.push([ie,xe]),ie=xe}U?G.push([ie,le,ce]):G.push([ie,le])}return Y}function w(_,G,F){for(var N=G.length,U=new t(N),O=[],H=0;H<G.length;++H){var Y=G[H],q=v(Y[0]),ne=v(Y[1]);O.push([f(q[0],-1/0),f(ne[0],-1/0),f(q[1],1/0),f(ne[1],1/0)])}i(O,function(se,$){U.link(se,$)});for(var oe=!0,he=new Array(N),H=0;H<N;++H){var J=U.find(H);J!==H&&(oe=!1,_[J]=[Math.min(_[H][0],_[J][0]),Math.min(_[H][1],_[J][1])])}if(oe)return null;for(var Z=0,H=0;H<N;++H){var J=U.find(H);J===H?(he[H]=Z,_[Z++]=_[H]):he[H]=-1}_.length=Z;for(var H=0;H<N;++H)he[H]<0&&(he[H]=he[U.find(H)]);return he}function E(_,G){return _[0]-G[0]||_[1]-G[1]}function b(_,G){var F=_[0]-G[0]||_[1]-G[1];return F||(_[2]<G[2]?-1:_[2]>G[2]?1:0)}function o(_,G,F){if(_.length!==0){if(G)for(var N=0;N<_.length;++N){var U=_[N],O=G[U[0]],H=G[U[1]];U[0]=Math.min(O,H),U[1]=Math.max(O,H)}else for(var N=0;N<_.length;++N){var U=_[N],O=U[0],H=U[1];U[0]=Math.min(O,H),U[1]=Math.max(O,H)}F?_.sort(b):_.sort(E);for(var Y=1,N=1;N<_.length;++N){var q=_[N-1],ne=_[N];ne[0]===q[0]&&ne[1]===q[1]&&(!F||ne[2]===q[2])||(_[Y++]=ne)}_.length=Y}}function P(_,G,F){var N=w(_,[],g(_));return o(G,N,F),!!N}function x(_,G,F){var N=l(_,G),U=M(_,G,N),O=g(_),H=A(_,G,N,O),Y=k(_,G,U,H,F),q=w(_,Y);return o(G,q,F),q?!0:U.length>0||H.length>0}function z(_,G,F){var N;if(F){N=G;for(var U=new Array(G.length),O=0;O<G.length;++O){var H=G[O];U[O]=[H[0],H[1],F[O]]}G=U}for(var Y=P(_,G,!!F);x(_,G,!!F);)Y=!0;if(F&&Y){N.length=0,F.length=0;for(var O=0;O<G.length;++O){var H=G[O];N.push([H[0],H[1]]),F.push(H[2])}}return Y}},5528:function(d,y,r){d.exports=S;var t=r(3962),i=r(9189),a=r(4354),h=r(4951),u=r(6695),s=r(7584),m=r(4469);function f(v,l){return a(t(v[0],l[1]),t(v[1],l[0]))}function S(v,l,g,M){var A=u(l,v),k=u(M,g),w=f(A,k);if(h(w)===0)return null;var E=u(v,g),b=f(k,E),o=i(b,w),P=m(A,o),x=s(v,P);return x}},5692:function(d){d.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(d,y,r){var t=r(5692),i=r(3578);d.exports=a;function a(m){var f,S,v,l,g,M,A,k,o,w,E;if(m||(m={}),k=(m.nshades||72)-1,A=m.format||"hex",M=m.colormap,M||(M="jet"),typeof M=="string"){if(M=M.toLowerCase(),!t[M])throw Error(M+" not a supported colorscale");g=t[M]}else if(Array.isArray(M))g=M.slice();else throw Error("unsupported colormap option",M);if(g.length>k+1)throw new Error(M+" map requires nshades to be at least size "+g.length);Array.isArray(m.alpha)?m.alpha.length!==2?w=[1,1]:w=m.alpha.slice():typeof m.alpha=="number"?w=[m.alpha,m.alpha]:w=[1,1],f=g.map(function(z){return Math.round(z.index*k)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var b=g.map(function(z,_){var G=g[_].index,F=g[_].rgb.slice();return F.length===4&&F[3]>=0&&F[3]<=1||(F[3]=w[0]+(w[1]-w[0])*G),F}),o=[];for(E=0;E<f.length-1;++E){l=f[E+1]-f[E],S=b[E],v=b[E+1];for(var P=0;P<l;P++){var x=P/l;o.push([Math.round(i(S[0],v[0],x)),Math.round(i(S[1],v[1],x)),Math.round(i(S[2],v[2],x)),i(S[3],v[3],x)])}}return o.push(g[g.length-1].rgb.concat(w[1])),A==="hex"?o=o.map(u):A==="rgbaString"?o=o.map(s):A==="float"&&(o=o.map(h)),o}function h(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function u(m){for(var f,S="#",v=0;v<3;++v)f=m[v],f=f.toString(16),S+=("00"+f).substr(f.length);return S}function s(m){return"rgba("+m.join(",")+")"}},9398:function(d,y,r){d.exports=m;var t=r(417),i=r(7538),a=r(87),h=r(2019),u=r(9662);function s(f,S,v){var l=a(f[0],-S[0]),g=a(f[1],-S[1]),M=a(v[0],-S[0]),A=a(v[1],-S[1]),k=u(h(l,M),h(g,A));return k[k.length-1]>=0}function m(f,S,v,l){var g=t(S,v,l);if(g===0){var M=i(t(f,S,v)),A=i(t(f,S,l));if(M===A){if(M===0){var k=s(f,S,v),w=s(f,S,l);return k===w?0:k?1:-1}return 0}else{if(A===0)return M>0||s(f,S,l)?-1:1;if(M===0)return A>0||s(f,S,v)?1:-1}return i(A-M)}var E=t(f,S,v);if(E>0)return g>0&&t(f,S,l)>0?1:-1;if(E<0)return g>0||t(f,S,l)>0?1:-1;var b=t(f,S,l);return b>0||s(f,S,v)?1:-1}},7538:function(d){d.exports=function(r){return r<0?-1:r>0?1:0}},9209:function(d){d.exports=t;var y=Math.min;function r(i,a){return i-a}function t(i,a){var h=i.length,u=i.length-a.length;if(u)return u;switch(h){case 0:return 0;case 1:return i[0]-a[0];case 2:return i[0]+i[1]-a[0]-a[1]||y(i[0],i[1])-y(a[0],a[1]);case 3:var s=i[0]+i[1],m=a[0]+a[1];if(u=s+i[2]-(m+a[2]),u)return u;var f=y(i[0],i[1]),S=y(a[0],a[1]);return y(f,i[2])-y(S,a[2])||y(f+i[2],s)-y(S+a[2],m);case 4:var v=i[0],l=i[1],g=i[2],M=i[3],A=a[0],k=a[1],w=a[2],E=a[3];return v+l+g+M-(A+k+w+E)||y(v,l,g,M)-y(A,k,w,E,A)||y(v+l,v+g,v+M,l+g,l+M,g+M)-y(A+k,A+w,A+E,k+w,k+E,w+E)||y(v+l+g,v+l+M,v+g+M,l+g+M)-y(A+k+w,A+k+E,A+w+E,k+w+E);default:for(var b=i.slice().sort(r),o=a.slice().sort(r),P=0;P<h;++P)if(u=b[P]-o[P],u)return u;return 0}}},1284:function(d,y,r){var t=r(9209),i=r(9887);d.exports=a;function a(h,u){return t(h,u)||i(h)-i(u)}},5537:function(d,y,r){var t=r(8950),i=r(8722),a=r(3332);d.exports=h;function h(u){var s=u.length;if(s===0)return[];if(s===1)return[[0]];var m=u[0].length;return m===0?[]:m===1?t(u):m===2?i(u):a(u,m)}},8950:function(d){d.exports=y;function y(r){for(var t=0,i=0,a=1;a<r.length;++a)r[a][0]<r[t][0]&&(t=a),r[a][0]>r[i][0]&&(i=a);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(d,y,r){d.exports=i;var t=r(3266);function i(a){var h=t(a),u=h.length;if(u<=2)return[];for(var s=new Array(u),m=h[u-1],f=0;f<u;++f){var S=h[f];s[f]=[m,S],m=S}return s}},3332:function(d,y,r){d.exports=u;var t=r(2183),i=r(2153);function a(s,m){for(var f=s.length,S=new Array(f),v=0;v<m.length;++v)S[v]=s[m[v]];for(var l=m.length,v=0;v<f;++v)m.indexOf(v)<0&&(S[l++]=s[v]);return S}function h(s,m){for(var f=s.length,S=m.length,v=0;v<f;++v)for(var l=s[v],g=0;g<l.length;++g){var M=l[g];if(M<S)l[g]=m[M];else{M=M-S;for(var A=0;A<S;++A)M>=m[A]&&(M+=1);l[g]=M}}return s}function u(s,m){try{return t(s,!0)}catch{var f=i(s);if(f.length<=m)return[];var S=a(s,f),v=t(S,!0);return h(v,f)}}},9680:function(d){function y(t,i,a,h,u,s){var m=6*u*u-6*u,f=3*u*u-4*u+1,S=-6*u*u+6*u,v=3*u*u-2*u;if(t.length){s||(s=new Array(t.length));for(var l=t.length-1;l>=0;--l)s[l]=m*t[l]+f*i[l]+S*a[l]+v*h[l];return s}return m*t+f*i+S*a[l]+v*h}function r(t,i,a,h,u,s){var m=u-1,f=u*u,S=m*m,v=(1+2*u)*S,l=u*S,g=f*(3-2*u),M=f*m;if(t.length){s||(s=new Array(t.length));for(var A=t.length-1;A>=0;--A)s[A]=v*t[A]+l*i[A]+g*a[A]+M*h[A];return s}return v*t+l*i+g*a+M*h}d.exports=r,d.exports.derivative=y},4419:function(d,y,r){var t=r(2183),i=r(1215);d.exports=s;function a(m,f){this.point=m,this.index=f}function h(m,f){for(var S=m.point,v=f.point,l=S.length,g=0;g<l;++g){var M=v[g]-S[g];if(M)return M}return 0}function u(m,f,S){if(m===1)return S?[[-1,0]]:[];var v=f.map(function(k,w){return[k[0],w]});v.sort(function(k,w){return k[0]-w[0]});for(var l=new Array(m-1),g=1;g<m;++g){var M=v[g-1],A=v[g];l[g-1]=[M[1],A[1]]}return S&&l.push([-1,l[0][1]],[l[m-1][1],-1]),l}function s(m,f){var S=m.length;if(S===0)return[];var v=m[0].length;if(v<1)return[];if(v===1)return u(S,m,f);for(var l=new Array(S),g=1,M=0;M<S;++M){for(var A=m[M],k=new Array(v+1),w=0,E=0;E<v;++E){var b=A[E];k[E]=b,w+=b*b}k[v]=w,l[M]=new a(k,M),g=Math.max(w,g)}i(l,h),S=l.length;for(var o=new Array(S+v+1),P=new Array(S+v+1),x=(v+1)*(v+1)*g,z=new Array(v+1),M=0;M<=v;++M)z[M]=0;z[v]=x,o[0]=z.slice(),P[0]=-1;for(var M=0;M<=v;++M){var k=z.slice();k[M]=1,o[M+1]=k,P[M+1]=-1}for(var M=0;M<S;++M){var _=l[M];o[M+v+1]=_.point,P[M+v+1]=_.index}var G=t(o,!1);if(f?G=G.filter(function(F){for(var N=0,U=0;U<=v;++U){var O=P[F[U]];if(O<0&&++N>=2)return!1;F[U]=O}return!0}):G=G.filter(function(F){for(var N=0;N<=v;++N){var U=P[F[N]];if(U<0)return!1;F[N]=U}return!0}),v&1)for(var M=0;M<G.length;++M){var _=G[M],k=_[0];_[0]=_[1],_[1]=k}return G}},8362:function(d){var y=!1;if(typeof Float64Array<"u"){var r=new Float64Array(1),t=new Uint32Array(r.buffer);if(r[0]=1,y=!0,t[1]===1072693248){let a=function(s,m){return t[0]=s,t[1]=m,r[0]},h=function(s){return r[0]=s,t[0]},u=function(s){return r[0]=s,t[1]};d.exports=function(m){return r[0]=m,[t[0],t[1]]},d.exports.pack=a,d.exports.lo=h,d.exports.hi=u}else if(t[0]===1072693248){let a=function(s,m){return t[1]=s,t[0]=m,r[0]},h=function(s){return r[0]=s,t[1]},u=function(s){return r[0]=s,t[0]};d.exports=function(m){return r[0]=m,[t[1],t[0]]},d.exports.pack=a,d.exports.lo=h,d.exports.hi=u}else y=!1}if(!y){let a=function(s,m){return i.writeUInt32LE(s,0,!0),i.writeUInt32LE(m,4,!0),i.readDoubleLE(0,!0)},h=function(s){return i.writeDoubleLE(s,0,!0),i.readUInt32LE(0,!0)},u=function(s){return i.writeDoubleLE(s,0,!0),i.readUInt32LE(4,!0)};var i=new Buffer(8);d.exports=function(m){return i.writeDoubleLE(m,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]},d.exports.pack=a,d.exports.lo=h,d.exports.hi=u}d.exports.sign=function(a){return d.exports.hi(a)>>>31},d.exports.exponent=function(a){var h=d.exports.hi(a);return(h<<1>>>21)-1023},d.exports.fraction=function(a){var h=d.exports.lo(a),u=d.exports.hi(a),s=u&(1<<20)-1;return u&2146435072&&(s+=1048576),[h,s]},d.exports.denormalized=function(a){var h=d.exports.hi(a);return!(h&2146435072)}},3094:function(d){function y(i,a,h){var u=i[h]|0;if(u<=0)return[];var s=new Array(u),m;if(h===i.length-1)for(m=0;m<u;++m)s[m]=a;else for(m=0;m<u;++m)s[m]=y(i,a,h+1);return s}function r(i,a){var h,u;for(h=new Array(i),u=0;u<i;++u)h[u]=a;return h}function t(i,a){switch(typeof a>"u"&&(a=0),typeof i){case"number":if(i>0)return r(i|0,a);break;case"object":if(typeof i.length=="number")return y(i,a,0);break}return[]}d.exports=t},8348:function(d,y,r){d.exports=i;var t=r(1215);function i(a,h){var u=a.length;if(typeof h!="number"){h=0;for(var s=0;s<u;++s){var m=a[s];h=Math.max(h,m[0],m[1])}h=(h|0)+1}h=h|0;for(var f=new Array(h),s=0;s<h;++s)f[s]=[];for(var s=0;s<u;++s){var m=a[s];f[m[0]].push(m[1]),f[m[1]].push(m[0])}for(var S=0;S<h;++S)t(f[S],function(v,l){return v-l});return f}},5795:function(d){d.exports=y;function y(r,t,i){var a=t||0,h=i||1;return[[r[12]+r[0],r[13]+r[1],r[14]+r[2],r[15]+r[3]],[r[12]-r[0],r[13]-r[1],r[14]-r[2],r[15]-r[3]],[r[12]+r[4],r[13]+r[5],r[14]+r[6],r[15]+r[7]],[r[12]-r[4],r[13]-r[5],r[14]-r[6],r[15]-r[7]],[a*r[12]+r[8],a*r[13]+r[9],a*r[14]+r[10],a*r[15]+r[11]],[h*r[12]-r[8],h*r[13]-r[9],h*r[14]-r[10],h*r[15]-r[11]]]}},8444:function(d,y,r){d.exports=m;var t=r(9680),i=r(5070);function a(f,S,v){return Math.min(S,Math.max(f,v))}function h(f,S,v){this.dimension=f.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var l=0;l<this.dimension;++l)this.bounds[0][l]=-1/0,this.bounds[1][l]=1/0;this._state=f.slice().reverse(),this._velocity=S.slice().reverse(),this._time=[v],this._scratch=[f.slice(),f.slice(),f.slice(),f.slice(),f.slice()]}var u=h.prototype;u.flush=function(f){var S=i.gt(this._time,f)-1;S<=0||(this._time.splice(0,S),this._state.splice(0,S*this.dimension),this._velocity.splice(0,S*this.dimension))},u.curve=function(f){var S=this._time,v=S.length,l=i.le(S,f),g=this._scratch[0],M=this._state,A=this._velocity,k=this.dimension,w=this.bounds;if(l<0)for(var E=k-1,b=0;b<k;++b,--E)g[b]=M[E];else if(l>=v-1)for(var E=M.length-1,o=f-S[v-1],b=0;b<k;++b,--E)g[b]=M[E]+o*A[E];else{for(var E=k*(l+1)-1,P=S[l],x=S[l+1],z=x-P||1,_=this._scratch[1],G=this._scratch[2],F=this._scratch[3],N=this._scratch[4],U=!0,b=0;b<k;++b,--E)_[b]=M[E],F[b]=A[E]*z,G[b]=M[E+k],N[b]=A[E+k]*z,U=U&&_[b]===G[b]&&F[b]===N[b]&&F[b]===0;if(U)for(var b=0;b<k;++b)g[b]=_[b];else t(_,F,G,N,(f-P)/z,g)}for(var O=w[0],H=w[1],b=0;b<k;++b)g[b]=a(O[b],H[b],g[b]);return g},u.dcurve=function(f){var S=this._time,v=S.length,l=i.le(S,f),g=this._scratch[0],M=this._state,A=this._velocity,k=this.dimension;if(l>=v-1){var w=M.length-1;f-S[v-1];for(var E=0;E<k;++E,--w)g[E]=A[w]}else{for(var w=k*(l+1)-1,b=S[l],o=S[l+1],P=o-b||1,x=this._scratch[1],z=this._scratch[2],_=this._scratch[3],G=this._scratch[4],F=!0,E=0;E<k;++E,--w)x[E]=M[w],_[E]=A[w]*P,z[E]=M[w+k],G[E]=A[w+k]*P,F=F&&x[E]===z[E]&&_[E]===G[E]&&_[E]===0;if(F)for(var E=0;E<k;++E)g[E]=0;else{t.derivative(x,_,z,G,(f-b)/P,g);for(var E=0;E<k;++E)g[E]/=P}}return g},u.lastT=function(){var f=this._time;return f[f.length-1]},u.stable=function(){for(var f=this._velocity,S=f.length,v=this.dimension-1;v>=0;--v)if(f[--S])return!1;return!0},u.jump=function(f){var S=this.lastT(),v=this.dimension;if(!(f<S||arguments.length!==v+1)){var l=this._state,g=this._velocity,M=l.length-this.dimension,A=this.bounds,k=A[0],w=A[1];this._time.push(S,f);for(var E=0;E<2;++E)for(var b=0;b<v;++b)l.push(l[M++]),g.push(0);this._time.push(f);for(var b=v;b>0;--b)l.push(a(k[b-1],w[b-1],arguments[b])),g.push(0)}},u.push=function(f){var S=this.lastT(),v=this.dimension;if(!(f<S||arguments.length!==v+1)){var l=this._state,g=this._velocity,M=l.length-this.dimension,A=f-S,k=this.bounds,w=k[0],E=k[1],b=A>1e-6?1/A:0;this._time.push(f);for(var o=v;o>0;--o){var P=a(w[o-1],E[o-1],arguments[o]);l.push(P),g.push((P-l[M++])*b)}}},u.set=function(f){var S=this.dimension;if(!(f<this.lastT()||arguments.length!==S+1)){var v=this._state,l=this._velocity,g=this.bounds,M=g[0],A=g[1];this._time.push(f);for(var k=S;k>0;--k)v.push(a(M[k-1],A[k-1],arguments[k])),l.push(0)}},u.move=function(f){var S=this.lastT(),v=this.dimension;if(!(f<=S||arguments.length!==v+1)){var l=this._state,g=this._velocity,M=l.length-this.dimension,A=this.bounds,k=A[0],w=A[1],E=f-S,b=E>1e-6?1/E:0;this._time.push(f);for(var o=v;o>0;--o){var P=arguments[o];l.push(a(k[o-1],w[o-1],l[M++]+P)),g.push(P*b)}}},u.idle=function(f){var S=this.lastT();if(!(f<S)){var v=this.dimension,l=this._state,g=this._velocity,M=l.length-v,A=this.bounds,k=A[0],w=A[1],E=f-S;this._time.push(f);for(var b=v-1;b>=0;--b)l.push(a(k[b],w[b],l[M]+E*g[M])),g.push(0),M+=1}};function s(f){for(var S=new Array(f),v=0;v<f;++v)S[v]=0;return S}function m(f,S,v){switch(arguments.length){case 0:return new h([0],[0],0);case 1:if(typeof f=="number"){var l=s(f);return new h(l,l,0)}else return new h(f,s(f.length),0);case 2:if(typeof S=="number"){var l=s(f.length);return new h(f,l,+S)}else v=0;case 3:if(f.length!==S.length)throw new Error("state and velocity lengths must match");return new h(f,S,v)}}},7080:function(d){d.exports=k;var y=0,r=1;function t(w,E,b,o,P,x){this._color=w,this.key=E,this.value=b,this.left=o,this.right=P,this._count=x}function i(w){return new t(w._color,w.key,w.value,w.left,w.right,w._count)}function a(w,E){return new t(w,E.key,E.value,E.left,E.right,E._count)}function h(w){w._count=1+(w.left?w.left._count:0)+(w.right?w.right._count:0)}function u(w,E){this._compare=w,this.root=E}var s=u.prototype;Object.defineProperty(s,"keys",{get:function(){var w=[];return this.forEach(function(E,b){w.push(E)}),w}}),Object.defineProperty(s,"values",{get:function(){var w=[];return this.forEach(function(E,b){w.push(b)}),w}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(w,E){for(var b=this._compare,o=this.root,P=[],x=[];o;){var z=b(w,o.key);P.push(o),x.push(z),z<=0?o=o.left:o=o.right}P.push(new t(y,w,E,null,null,1));for(var _=P.length-2;_>=0;--_){var o=P[_];x[_]<=0?P[_]=new t(o._color,o.key,o.value,P[_+1],o.right,o._count+1):P[_]=new t(o._color,o.key,o.value,o.left,P[_+1],o._count+1)}for(var _=P.length-1;_>1;--_){var G=P[_-1],o=P[_];if(G._color===r||o._color===r)break;var F=P[_-2];if(F.left===G)if(G.left===o){var N=F.right;if(N&&N._color===y)G._color=r,F.right=a(r,N),F._color=y,_-=1;else{if(F._color=y,F.left=G.right,G._color=r,G.right=F,P[_-2]=G,P[_-1]=o,h(F),h(G),_>=3){var U=P[_-3];U.left===F?U.left=G:U.right=G}break}}else{var N=F.right;if(N&&N._color===y)G._color=r,F.right=a(r,N),F._color=y,_-=1;else{if(G.right=o.left,F._color=y,F.left=o.right,o._color=r,o.left=G,o.right=F,P[_-2]=o,P[_-1]=G,h(F),h(G),h(o),_>=3){var U=P[_-3];U.left===F?U.left=o:U.right=o}break}}else if(G.right===o){var N=F.left;if(N&&N._color===y)G._color=r,F.left=a(r,N),F._color=y,_-=1;else{if(F._color=y,F.right=G.left,G._color=r,G.left=F,P[_-2]=G,P[_-1]=o,h(F),h(G),_>=3){var U=P[_-3];U.right===F?U.right=G:U.left=G}break}}else{var N=F.left;if(N&&N._color===y)G._color=r,F.left=a(r,N),F._color=y,_-=1;else{if(G.left=o.right,F._color=y,F.right=o.left,o._color=r,o.right=G,o.left=F,P[_-2]=o,P[_-1]=G,h(F),h(G),h(o),_>=3){var U=P[_-3];U.right===F?U.right=o:U.left=o}break}}}return P[0]._color=r,new u(b,P[0])};function m(w,E){if(E.left){var b=m(w,E.left);if(b)return b}var b=w(E.key,E.value);if(b)return b;if(E.right)return m(w,E.right)}function f(w,E,b,o){var P=E(w,o.key);if(P<=0){if(o.left){var x=f(w,E,b,o.left);if(x)return x}var x=b(o.key,o.value);if(x)return x}if(o.right)return f(w,E,b,o.right)}function S(w,E,b,o,P){var x=b(w,P.key),z=b(E,P.key),_;if(x<=0&&(P.left&&(_=S(w,E,b,o,P.left),_)||z>0&&(_=o(P.key,P.value),_)))return _;if(z>0&&P.right)return S(w,E,b,o,P.right)}s.forEach=function(E,b,o){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return f(b,this._compare,E,this.root);case 3:return this._compare(b,o)>=0?void 0:S(b,o,this._compare,E,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var w=[],E=this.root;E;)w.push(E),E=E.left;return new v(this,w)}}),Object.defineProperty(s,"end",{get:function(){for(var w=[],E=this.root;E;)w.push(E),E=E.right;return new v(this,w)}}),s.at=function(w){if(w<0)return new v(this,[]);for(var E=this.root,b=[];;){if(b.push(E),E.left){if(w<E.left._count){E=E.left;continue}w-=E.left._count}if(!w)return new v(this,b);if(w-=1,E.right){if(w>=E.right._count)break;E=E.right}else break}return new v(this,[])},s.ge=function(w){for(var E=this._compare,b=this.root,o=[],P=0;b;){var x=E(w,b.key);o.push(b),x<=0&&(P=o.length),x<=0?b=b.left:b=b.right}return o.length=P,new v(this,o)},s.gt=function(w){for(var E=this._compare,b=this.root,o=[],P=0;b;){var x=E(w,b.key);o.push(b),x<0&&(P=o.length),x<0?b=b.left:b=b.right}return o.length=P,new v(this,o)},s.lt=function(w){for(var E=this._compare,b=this.root,o=[],P=0;b;){var x=E(w,b.key);o.push(b),x>0&&(P=o.length),x<=0?b=b.left:b=b.right}return o.length=P,new v(this,o)},s.le=function(w){for(var E=this._compare,b=this.root,o=[],P=0;b;){var x=E(w,b.key);o.push(b),x>=0&&(P=o.length),x<0?b=b.left:b=b.right}return o.length=P,new v(this,o)},s.find=function(w){for(var E=this._compare,b=this.root,o=[];b;){var P=E(w,b.key);if(o.push(b),P===0)return new v(this,o);P<=0?b=b.left:b=b.right}return new v(this,[])},s.remove=function(w){var E=this.find(w);return E?E.remove():this},s.get=function(w){for(var E=this._compare,b=this.root;b;){var o=E(w,b.key);if(o===0)return b.value;o<=0?b=b.left:b=b.right}};function v(w,E){this.tree=w,this._stack=E}var l=v.prototype;Object.defineProperty(l,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(l,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),l.clone=function(){return new v(this.tree,this._stack.slice())};function g(w,E){w.key=E.key,w.value=E.value,w.left=E.left,w.right=E.right,w._color=E._color,w._count=E._count}function M(w){for(var E,b,o,P,x=w.length-1;x>=0;--x){if(E=w[x],x===0){E._color=r;return}if(b=w[x-1],b.left===E){if(o=b.right,o.right&&o.right._color===y){if(o=b.right=i(o),P=o.right=i(o.right),b.right=o.left,o.left=b,o.right=P,o._color=b._color,E._color=r,b._color=r,P._color=r,h(b),h(o),x>1){var z=w[x-2];z.left===b?z.left=o:z.right=o}w[x-1]=o;return}else if(o.left&&o.left._color===y){if(o=b.right=i(o),P=o.left=i(o.left),b.right=P.left,o.left=P.right,P.left=b,P.right=o,P._color=b._color,b._color=r,o._color=r,E._color=r,h(b),h(o),h(P),x>1){var z=w[x-2];z.left===b?z.left=P:z.right=P}w[x-1]=P;return}if(o._color===r)if(b._color===y){b._color=r,b.right=a(y,o);return}else{b.right=a(y,o);continue}else{if(o=i(o),b.right=o.left,o.left=b,o._color=b._color,b._color=y,h(b),h(o),x>1){var z=w[x-2];z.left===b?z.left=o:z.right=o}w[x-1]=o,w[x]=b,x+1<w.length?w[x+1]=E:w.push(E),x=x+2}}else{if(o=b.left,o.left&&o.left._color===y){if(o=b.left=i(o),P=o.left=i(o.left),b.left=o.right,o.right=b,o.left=P,o._color=b._color,E._color=r,b._color=r,P._color=r,h(b),h(o),x>1){var z=w[x-2];z.right===b?z.right=o:z.left=o}w[x-1]=o;return}else if(o.right&&o.right._color===y){if(o=b.left=i(o),P=o.right=i(o.right),b.left=P.right,o.right=P.left,P.right=b,P.left=o,P._color=b._color,b._color=r,o._color=r,E._color=r,h(b),h(o),h(P),x>1){var z=w[x-2];z.right===b?z.right=P:z.left=P}w[x-1]=P;return}if(o._color===r)if(b._color===y){b._color=r,b.left=a(y,o);return}else{b.left=a(y,o);continue}else{if(o=i(o),b.left=o.right,o.right=b,o._color=b._color,b._color=y,h(b),h(o),x>1){var z=w[x-2];z.right===b?z.right=o:z.left=o}w[x-1]=o,w[x]=b,x+1<w.length?w[x+1]=E:w.push(E),x=x+2}}}}l.remove=function(){var w=this._stack;if(w.length===0)return this.tree;var E=new Array(w.length),b=w[w.length-1];E[E.length-1]=new t(b._color,b.key,b.value,b.left,b.right,b._count);for(var o=w.length-2;o>=0;--o){var b=w[o];b.left===w[o+1]?E[o]=new t(b._color,b.key,b.value,E[o+1],b.right,b._count):E[o]=new t(b._color,b.key,b.value,b.left,E[o+1],b._count)}if(b=E[E.length-1],b.left&&b.right){var P=E.length;for(b=b.left;b.right;)E.push(b),b=b.right;var x=E[P-1];E.push(new t(b._color,x.key,x.value,b.left,b.right,b._count)),E[P-1].key=b.key,E[P-1].value=b.value;for(var o=E.length-2;o>=P;--o)b=E[o],E[o]=new t(b._color,b.key,b.value,b.left,E[o+1],b._count);E[P-1].left=E[P]}if(b=E[E.length-1],b._color===y){var z=E[E.length-2];z.left===b?z.left=null:z.right===b&&(z.right=null),E.pop();for(var o=0;o<E.length;++o)E[o]._count--;return new u(this.tree._compare,E[0])}else if(b.left||b.right){b.left?g(b,b.left):b.right&&g(b,b.right),b._color=r;for(var o=0;o<E.length-1;++o)E[o]._count--;return new u(this.tree._compare,E[0])}else{if(E.length===1)return new u(this.tree._compare,null);for(var o=0;o<E.length;++o)E[o]._count--;var _=E[E.length-2];M(E),_.left===b?_.left=null:_.right=null}return new u(this.tree._compare,E[0])},Object.defineProperty(l,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(l,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(l,"index",{get:function(){var w=0,E=this._stack;if(E.length===0){var b=this.tree.root;return b?b._count:0}else E[E.length-1].left&&(w=E[E.length-1].left._count);for(var o=E.length-2;o>=0;--o)E[o+1]===E[o].right&&(++w,E[o].left&&(w+=E[o].left._count));return w},enumerable:!0}),l.next=function(){var w=this._stack;if(w.length!==0){var E=w[w.length-1];if(E.right)for(E=E.right;E;)w.push(E),E=E.left;else for(w.pop();w.length>0&&w[w.length-1].right===E;)E=w[w.length-1],w.pop()}},Object.defineProperty(l,"hasNext",{get:function(){var w=this._stack;if(w.length===0)return!1;if(w[w.length-1].right)return!0;for(var E=w.length-1;E>0;--E)if(w[E-1].left===w[E])return!0;return!1}}),l.update=function(w){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var b=new Array(E.length),o=E[E.length-1];b[b.length-1]=new t(o._color,o.key,w,o.left,o.right,o._count);for(var P=E.length-2;P>=0;--P)o=E[P],o.left===E[P+1]?b[P]=new t(o._color,o.key,o.value,b[P+1],o.right,o._count):b[P]=new t(o._color,o.key,o.value,o.left,b[P+1],o._count);return new u(this.tree._compare,b[0])},l.prev=function(){var w=this._stack;if(w.length!==0){var E=w[w.length-1];if(E.left)for(E=E.left;E;)w.push(E),E=E.right;else for(w.pop();w.length>0&&w[w.length-1].left===E;)E=w[w.length-1],w.pop()}},Object.defineProperty(l,"hasPrev",{get:function(){var w=this._stack;if(w.length===0)return!1;if(w[w.length-1].left)return!0;for(var E=w.length-1;E>0;--E)if(w[E-1].right===w[E])return!0;return!1}});function A(w,E){return w<E?-1:w>E?1:0}function k(w){return new u(w||A,null)}},7453:function(d,y,r){d.exports=o;var t=r(9557),i=r(1681),a=r(1011),h=r(2864),u=r(8468),s=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(P,x){return P[0]=x[0],P[1]=x[1],P[2]=x[2],P}function f(P){this.gl=P,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(P)}var S=f.prototype;S.update=function(P){P=P||{};function x(oe,he,J){if(J in P){var Z=P[J],se=this[J],$;(oe?Array.isArray(Z)&&Array.isArray(Z[0]):Array.isArray(Z))?this[J]=$=[he(Z[0]),he(Z[1]),he(Z[2])]:this[J]=$=[he(Z),he(Z),he(Z)];for(var ee=0;ee<3;++ee)if($[ee]!==se[ee])return!0}return!1}var z=x.bind(this,!1,Number),_=x.bind(this,!1,Boolean),G=x.bind(this,!1,String),F=x.bind(this,!0,function(oe){if(Array.isArray(oe)){if(oe.length===3)return[+oe[0],+oe[1],+oe[2],1];if(oe.length===4)return[+oe[0],+oe[1],+oe[2],+oe[3]]}return[0,0,0,1]}),N,U=!1,O=!1;if("bounds"in P)for(var H=P.bounds,Y=0;Y<2;++Y)for(var q=0;q<3;++q)H[Y][q]!==this.bounds[Y][q]&&(O=!0),this.bounds[Y][q]=H[Y][q];if("ticks"in P){N=P.ticks,U=!0,this.autoTicks=!1;for(var Y=0;Y<3;++Y)this.tickSpacing[Y]=0}else z("tickSpacing")&&(this.autoTicks=!0,O=!0);if(this._firstInit&&("ticks"in P||"tickSpacing"in P||(this.autoTicks=!0),O=!0,U=!0,this._firstInit=!1),O&&this.autoTicks&&(N=u.create(this.bounds,this.tickSpacing),U=!0),U){for(var Y=0;Y<3;++Y)N[Y].sort(function(he,J){return he.x-J.x});u.equal(N,this.ticks)?U=!1:this.ticks=N}_("tickEnable"),G("tickFont")&&(U=!0),z("tickSize"),z("tickAngle"),z("tickPad"),F("tickColor");var ne=G("labels");G("labelFont")&&(ne=!0),_("labelEnable"),z("labelSize"),z("labelPad"),F("labelColor"),_("lineEnable"),_("lineMirror"),z("lineWidth"),F("lineColor"),_("lineTickEnable"),_("lineTickMirror"),z("lineTickLength"),z("lineTickWidth"),F("lineTickColor"),_("gridEnable"),z("gridWidth"),F("gridColor"),_("zeroEnable"),F("zeroLineColor"),z("zeroLineWidth"),_("backgroundEnable"),F("backgroundColor"),this._text?this._text&&(ne||U)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=t(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};function v(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var l=[new v,new v,new v];function g(P,x,z,_,G){for(var F=P.primalOffset,N=P.primalMinor,U=P.mirrorOffset,O=P.mirrorMinor,H=_[x],Y=0;Y<3;++Y)if(x!==Y){var q=F,ne=U,oe=N,he=O;H&1<<Y&&(q=U,ne=F,oe=O,he=N),q[Y]=z[0][Y],ne[Y]=z[1][Y],G[Y]>0?(oe[Y]=-1,he[Y]=0):(oe[Y]=0,he[Y]=1)}}var M=[0,0,0],A={model:s,view:s,projection:s,_ortho:!1};S.isOpaque=function(){return!0},S.isTransparent=function(){return!1},S.drawTransparent=function(P){};var k=0,w=[0,0,0],E=[0,0,0],b=[0,0,0];S.draw=function(P){P=P||A;for(var se=this.gl,x=P.model||s,z=P.view||s,_=P.projection||s,G=this.bounds,F=P._ortho||!1,N=h(x,z,_,G,F),U=N.cubeEdges,O=N.axis,H=z[12],Y=z[13],q=z[14],ne=z[15],oe=F?2:1,he=oe*this.pixelRatio*(_[3]*H+_[7]*Y+_[11]*q+_[15]*ne)/se.drawingBufferHeight,J=0;J<3;++J)this.lastCubeProps.cubeEdges[J]=U[J],this.lastCubeProps.axis[J]=O[J];for(var Z=l,J=0;J<3;++J)g(l[J],J,this.bounds,U,O);for(var se=this.gl,$=M,J=0;J<3;++J)this.backgroundEnable[J]?$[J]=O[J]:$[J]=0;this._background.draw(x,z,_,G,$,this.backgroundColor),this._lines.bind(x,z,_,this);for(var J=0;J<3;++J){var ee=[0,0,0];O[J]>0?ee[J]=G[1][J]:ee[J]=G[0][J];for(var le=0;le<2;++le){var Q=(J+1+le)%3,K=(J+1+(le^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,K,this.bounds,ee,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var le=0;le<2;++le){var Q=(J+1+le)%3,K=(J+1+(le^1))%3;this.zeroEnable[K]&&Math.min(G[0][K],G[1][K])<=0&&Math.max(G[0][K],G[1][K])>=0&&this._lines.drawZero(Q,K,this.bounds,ee,this.zeroLineColor[K],this.zeroLineWidth[K]*this.pixelRatio)}}for(var J=0;J<3;++J){this.lineEnable[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].primalOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio),this.lineMirror[J]&&this._lines.drawAxisLine(J,this.bounds,Z[J].mirrorOffset,this.lineColor[J],this.lineWidth[J]*this.pixelRatio);for(var ue=m(w,Z[J].primalMinor),ie=m(E,Z[J].mirrorMinor),ce=this.lineTickLength,le=0;le<3;++le){var xe=he/x[5*le];ue[le]*=ce[le]*xe,ie[le]*=ce[le]*xe}this.lineTickEnable[J]&&this._lines.drawAxisTicks(J,Z[J].primalOffset,ue,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio),this.lineTickMirror[J]&&this._lines.drawAxisTicks(J,Z[J].mirrorOffset,ie,this.lineTickColor[J],this.lineTickWidth[J]*this.pixelRatio)}this._lines.unbind(),this._text.bind(x,z,_,this.pixelRatio);var Le,Ae=.5,Oe,ze;function Ee(Ge){ze=[0,0,0],ze[Ge]=1}function be(Ge,at,lt){var qe=(Ge+1)%3,et=(Ge+2)%3,ft=at[qe],dt=at[et],pt=lt[qe],At=lt[et];if(ft>0&&At>0){Ee(qe);return}else if(ft>0&&At<0){Ee(qe);return}else if(ft<0&&At>0){Ee(qe);return}else if(ft<0&&At<0){Ee(qe);return}else if(dt>0&&pt>0){Ee(et);return}else if(dt>0&&pt<0){Ee(et);return}else if(dt<0&&pt>0){Ee(et);return}else if(dt<0&&pt<0){Ee(et);return}}for(var J=0;J<3;++J){for(var Ce=Z[J].primalMinor,Ue=Z[J].mirrorMinor,He=m(b,Z[J].primalOffset),le=0;le<3;++le)this.lineTickEnable[J]&&(He[le]+=he*Ce[le]*Math.max(this.lineTickLength[le],0)/x[5*le]);var Ie=[0,0,0];if(Ie[J]=1,this.tickEnable[J]){this.tickAngle[J]===-3600?(this.tickAngle[J]=0,this.tickAlign[J]="auto"):this.tickAlign[J]=-1,Oe=1,Le=[this.tickAlign[J],Ae,Oe],Le[0]==="auto"?Le[0]=k:Le[0]=parseInt(""+Le[0]),ze=[0,0,0],be(J,Ce,Ue);for(var le=0;le<3;++le)He[le]+=he*Ce[le]*this.tickPad[le]/x[5*le];this._text.drawTicks(J,this.tickSize[J],this.tickAngle[J],He,this.tickColor[J],Ie,ze,Le)}if(this.labelEnable[J]){Oe=0,ze=[0,0,0],this.labels[J].length>4&&(Ee(J),Oe=1),Le=[this.labelAlign[J],Ae,Oe],Le[0]==="auto"?Le[0]=k:Le[0]=parseInt(""+Le[0]);for(var le=0;le<3;++le)He[le]+=he*Ce[le]*this.labelPad[le]/x[5*le];He[J]+=.5*(G[0][J]+G[1][J]),this._text.drawLabel(J,this.labelSize[J],this.labelAngle[J],He,this.labelColor[J],[0,0,0],ze,Le)}}this._text.unbind()},S.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function o(P,x){var z=new f(P);return z.update(x),z}},1011:function(d,y,r){d.exports=s;var t=r(5827),i=r(2944),a=r(1943).bg;function h(m,f,S,v){this.gl=m,this.buffer=f,this.vao=S,this.shader=v}var u=h.prototype;u.draw=function(m,f,S,v,l,g){for(var M=!1,A=0;A<3;++A)M=M||l[A];if(M){var k=this.gl;k.enable(k.POLYGON_OFFSET_FILL),k.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:f,projection:S,bounds:v,enable:l,colors:g},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),k.disable(k.POLYGON_OFFSET_FILL)}},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function s(m){for(var f=[],S=[],v=0,l=0;l<3;++l)for(var g=(l+1)%3,M=(l+2)%3,A=[0,0,0],k=[0,0,0],w=-1;w<=1;w+=2){S.push(v,v+2,v+1,v+1,v+2,v+3),A[l]=w,k[l]=w;for(var E=-1;E<=1;E+=2){A[g]=E;for(var b=-1;b<=1;b+=2)A[M]=b,f.push(A[0],A[1],A[2],k[0],k[1],k[2]),v+=1}var o=g;g=M,M=o}var P=t(m,new Float32Array(f)),x=t(m,new Uint16Array(S),m.ELEMENT_ARRAY_BUFFER),z=i(m,[{buffer:P,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:P,type:m.FLOAT,size:3,offset:12,stride:24}],x),_=a(m);return _.attributes.position.location=0,_.attributes.normal.location=1,new h(m,P,z,_)}},2864:function(d,y,r){d.exports=w;var t=r(2288),i=r(104),a=r(4670),h=r(417),u=new Array(16),s=new Array(8),m=new Array(8),f=new Array(3),S=[0,0,0];(function(){for(var E=0;E<8;++E)s[E]=[1,1,1,1],m[E]=[1,1,1]})();function v(E,b,o){for(var P=0;P<4;++P){E[P]=o[12+P];for(var x=0;x<3;++x)E[P]+=b[x]*o[4*x+P]}}var l=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function g(E){for(var b=0;b<l.length;++b)if(E=a.positive(E,l[b]),E.length<3)return 0;for(var o=E[0],P=o[0]/o[3],x=o[1]/o[3],z=0,b=1;b+1<E.length;++b){var _=E[b],G=E[b+1],F=_[0]/_[3],N=_[1]/_[3],U=G[0]/G[3],O=G[1]/G[3],H=F-P,Y=N-x,q=U-P,ne=O-x;z+=Math.abs(H*ne-Y*q)}return z}var M=[1,1,1],A=[0,0,0],k={cubeEdges:M,axis:A};function w(E,b,o,P,x){i(u,b,E),i(u,o,u);for(var z=0,_=0;_<2;++_){f[2]=P[_][2];for(var G=0;G<2;++G){f[1]=P[G][1];for(var F=0;F<2;++F)f[0]=P[F][0],v(s[z],f,u),z+=1}}for(var N=-1,_=0;_<8;++_){for(var U=s[_][3],O=0;O<3;++O)m[_][O]=s[_][O]/U;x&&(m[_][2]*=-1),U<0&&(N<0||m[_][2]<m[N][2])&&(N=_)}if(N<0){N=0;for(var H=0;H<3;++H){for(var Y=(H+2)%3,q=(H+1)%3,ne=-1,oe=-1,he=0;he<2;++he){var J=he<<H,Z=J+(he<<Y)+(1-he<<q),se=J+(1-he<<Y)+(he<<q);h(m[J],m[Z],m[se],S)<0||(he?ne=1:oe=1)}if(ne<0||oe<0){oe>ne&&(N|=1<<H);continue}for(var he=0;he<2;++he){var J=he<<H,Z=J+(he<<Y)+(1-he<<q),se=J+(1-he<<Y)+(he<<q),$=g([s[J],s[Z],s[se],s[J+(1<<Y)+(1<<q)]]);he?ne=$:oe=$}if(oe>ne){N|=1<<H;continue}}}for(var ee=7^N,le=-1,_=0;_<8;++_)_===N||_===ee||(le<0||m[le][1]>m[_][1])&&(le=_);for(var Q=-1,_=0;_<3;++_){var K=le^1<<_;if(!(K===N||K===ee)){Q<0&&(Q=K);var q=m[K];q[0]<m[Q][0]&&(Q=K)}}for(var ue=-1,_=0;_<3;++_){var K=le^1<<_;if(!(K===N||K===ee||K===Q)){ue<0&&(ue=K);var q=m[K];q[0]>m[ue][0]&&(ue=K)}}var ie=M;ie[0]=ie[1]=ie[2]=0,ie[t.log2(Q^le)]=le&Q,ie[t.log2(le^ue)]=le&ue;var ce=ue^7;ce===N||ce===ee?(ce=Q^7,ie[t.log2(ue^ce)]=ce&ue):ie[t.log2(Q^ce)]=ce&Q;for(var xe=A,Le=N,H=0;H<3;++H)Le&1<<H?xe[H]=-1:xe[H]=1;return k}},1681:function(d,y,r){d.exports=M;var t=r(5827),i=r(2944),a=r(1943).j,h=[0,0,0],u=[0,0,0],s=[0,0,0],m=[0,0,0],f=[1,1];function S(A){return A[0]=A[1]=A[2]=0,A}function v(A,k){return A[0]=k[0],A[1]=k[1],A[2]=k[2],A}function l(A,k,w,E,b,o,P,x){this.gl=A,this.vertBuffer=k,this.vao=w,this.shader=E,this.tickCount=b,this.tickOffset=o,this.gridCount=P,this.gridOffset=x}var g=l.prototype;g.bind=function(A,k,w){this.shader.bind(),this.shader.uniforms.model=A,this.shader.uniforms.view=k,this.shader.uniforms.projection=w,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},g.unbind=function(){this.vao.unbind()},g.drawAxisLine=function(A,k,w,E,b){var o=S(u);this.shader.uniforms.majorAxis=u,o[A]=k[1][A]-k[0][A],this.shader.uniforms.minorAxis=o;var P=v(m,w);P[A]+=k[0][A],this.shader.uniforms.offset=P,this.shader.uniforms.lineWidth=b,this.shader.uniforms.color=E;var x=S(s);x[(A+2)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6);var x=S(s);x[(A+1)%3]=1,this.shader.uniforms.screenAxis=x,this.vao.draw(this.gl.TRIANGLES,6)},g.drawAxisTicks=function(A,k,w,E,b){if(this.tickCount[A]){var o=S(h);o[A]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=k,this.shader.uniforms.minorAxis=w,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=b;var P=S(s);P[A]=1,this.shader.uniforms.screenAxis=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[A],this.tickOffset[A])}},g.drawGrid=function(A,k,w,E,b,o){if(this.gridCount[A]){var P=S(u);P[k]=w[1][k]-w[0][k],this.shader.uniforms.minorAxis=P;var x=v(m,E);x[k]+=w[0][k],this.shader.uniforms.offset=x;var z=S(h);z[A]=1,this.shader.uniforms.majorAxis=z;var _=S(s);_[A]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,this.gridCount[A],this.gridOffset[A])}},g.drawZero=function(A,k,w,E,b,o){var P=S(u);this.shader.uniforms.majorAxis=P,P[A]=w[1][A]-w[0][A],this.shader.uniforms.minorAxis=P;var x=v(m,E);x[A]+=w[0][A],this.shader.uniforms.offset=x;var z=S(s);z[k]=1,this.shader.uniforms.screenAxis=z,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=b,this.vao.draw(this.gl.TRIANGLES,6)},g.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function M(A,k,w){var E=[],b=[0,0,0],o=[0,0,0],P=[0,0,0],x=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var z=0;z<3;++z){for(var F=E.length/3|0,_=0;_<w[z].length;++_){var G=+w[z][_].x;E.push(G,0,1,G,1,1,G,0,-1,G,0,-1,G,1,1,G,1,-1)}var U=E.length/3|0;b[z]=F,o[z]=U-F;for(var F=E.length/3|0,N=0;N<w[z].length;++N){var G=+w[z][N].x;E.push(G,0,1,G,1,1,G,0,-1,G,0,-1,G,1,1,G,1,-1)}var U=E.length/3|0;P[z]=F,x[z]=U-F}var O=t(A,new Float32Array(E)),H=i(A,[{buffer:O,type:A.FLOAT,size:3,stride:0,offset:0}]),Y=a(A);return Y.attributes.position.location=0,new l(A,O,H,Y,o,b,x,P)}},1943:function(d,y,r){var t=r(6832),i=r(5158),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.j=function(S){return i(S,a,h,null,[{name:"position",type:"vec3"}])};var u=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),s=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.f=function(S){return i(S,u,s,null,[{name:"position",type:"vec3"}])};var m=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),f=t([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);y.bg=function(S){return i(S,m,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(d,y,r){d.exports=g;var t=r(5827),i=r(2944),a=r(875),h=r(1943).f,u=window||p.global||{},s=u.__TEXT_CACHE||{};u.__TEXT_CACHE={};var m=3;function f(M,A,k,w){this.gl=M,this.shader=A,this.buffer=k,this.vao=w,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var S=f.prototype,v=[0,0];S.bind=function(M,A,k,w){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=M,E.view=A,E.projection=k,E.pixelScale=w,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=v},S.unbind=function(){this.vao.unbind()},S.update=function(M,A,k,w,E){var b=[];function o(O,H,Y,q,ne,oe){var he=s[Y];he||(he=s[Y]={});var J=he[H];J||(J=he[H]=l(H,{triangles:!0,font:Y,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:oe}));for(var Z=(q||12)/12,se=J.positions,$=J.cells,ee=0,le=$.length;ee<le;++ee)for(var Q=$[ee],K=2;K>=0;--K){var ue=se[Q[K]];b.push(Z*ue[0],-Z*ue[1],O)}}for(var P=[0,0,0],x=[0,0,0],z=[0,0,0],_=[0,0,0],G=1.25,F={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){z[N]=b.length/m|0,o(.5*(M[0][N]+M[1][N]),A[N],k[N],12,G,F),_[N]=(b.length/m|0)-z[N],P[N]=b.length/m|0;for(var U=0;U<w[N].length;++U)w[N][U].text&&o(w[N][U].x,w[N][U].text,w[N][U].font||E,w[N][U].fontSize||12,G,F);x[N]=(b.length/m|0)-P[N]}this.buffer.update(b),this.tickOffset=P,this.tickCount=x,this.labelOffset=z,this.labelCount=_},S.drawTicks=function(M,A,k,w,E,b,o,P){this.tickCount[M]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=E,this.shader.uniforms.angle=k,this.shader.uniforms.scale=A,this.shader.uniforms.offset=w,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},S.drawLabel=function(M,A,k,w,E,b,o,P){this.labelCount[M]&&(this.shader.uniforms.axis=b,this.shader.uniforms.color=E,this.shader.uniforms.angle=k,this.shader.uniforms.scale=A,this.shader.uniforms.offset=w,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=P,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},S.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function l(M,A){try{return a(M,A)}catch(k){return console.warn('error vectorizing text:"'+M+'" error:',k),{cells:[],positions:[]}}}function g(M,A,k,w,E,b){var o=t(M),P=i(M,[{buffer:o,size:3}]),x=h(M);x.attributes.position.location=0;var z=new f(M,x,o,P);return z.update(A,k,w,E,b),z}},8468:function(d,y){y.create=t,y.equal=i;function r(a,h){var u=a+"",s=u.indexOf("."),m=0;s>=0&&(m=u.length-s-1);var f=Math.pow(10,m),S=Math.round(a*h*f),v=S+"";if(v.indexOf("e")>=0)return v;var l=S/f,g=S%f;S<0?(l=-Math.ceil(l)|0,g=-g|0):(l=Math.floor(l)|0,g=g|0);var M=""+l;if(S<0&&(M="-"+M),m){for(var A=""+g;A.length<m;)A="0"+A;return M+"."+A}else return M}function t(a,h){for(var u=[],s=0;s<3;++s){var m=[];.5*(a[0][s]+a[1][s]);for(var f=0;f*h[s]<=a[1][s];++f)m.push({x:f*h[s],text:r(h[s],f)});for(var f=-1;f*h[s]>=a[0][s];--f)m.push({x:f*h[s],text:r(h[s],f)});u.push(m)}return u}function i(a,h){for(var u=0;u<3;++u){if(a[u].length!==h[u].length)return!1;for(var s=0;s<a[u].length;++s){var m=a[u][s],f=h[u][s];if(m.x!==f.x||m.text!==f.text||m.font!==f.font||m.fontColor!==f.fontColor||m.fontSize!==f.fontSize||m.dx!==f.dx||m.dy!==f.dy)return!1}}return!0}},2771:function(d,y,r){d.exports=k;var t=r(5795),i=r(4670),a=r(2864),h=r(104),u=r(2142),s=r(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function S(w,E,b){this.lo=w,this.hi=E,this.pixelsPerDataUnit=b}var v=[0,0,0,1],l=[0,0,0,1];function g(w,E,b,o,P){for(var x=0;x<3;++x){for(var z=v,_=l,G=0;G<3;++G)_[G]=z[G]=b[G];_[3]=z[3]=1,_[x]+=1,s(_,_,E),_[3]<0&&(w[x]=1/0),z[x]-=1,s(z,z,E),z[3]<0&&(w[x]=1/0);var F=(z[0]/z[3]-_[0]/_[3])*o,N=(z[1]/z[3]-_[1]/_[3])*P;w[x]=.25*Math.sqrt(F*F+N*N)}return w}var M=[new S(1/0,-1/0,1/0),new S(1/0,-1/0,1/0),new S(1/0,-1/0,1/0)],A=[0,0,0];function k(w,E,b,o,N){var x=E.model||m,z=E.view||m,_=E.projection||m,G=E._ortho||!1,F=w.bounds,N=N||a(x,z,_,F,G),U=N.axis;h(f,z,x),h(f,_,f);for(var O=M,H=0;H<3;++H)O[H].lo=1/0,O[H].hi=-1/0,O[H].pixelsPerDataUnit=1/0;var Y=t(u(f,f));u(f,f);for(var q=0;q<3;++q){var ne=(q+1)%3,oe=(q+2)%3,he=A;e:for(var H=0;H<2;++H){var J=[];if(U[q]<0!=!!H){he[q]=F[H][q];for(var Z=0;Z<2;++Z){he[ne]=F[Z^H][ne];for(var se=0;se<2;++se)he[oe]=F[se^Z^H][oe],J.push(he.slice())}for(var $=G?5:4,Z=$;Z===$;++Z){if(J.length===0)continue e;J=i.positive(J,Y[Z])}for(var Z=0;Z<J.length;++Z)for(var oe=J[Z],ee=g(A,f,oe,b,o),se=0;se<3;++se)O[se].lo=Math.min(O[se].lo,oe[se]),O[se].hi=Math.max(O[se].hi,oe[se]),se!==q&&(O[se].pixelsPerDataUnit=Math.min(O[se].pixelsPerDataUnit,Math.abs(ee[se])))}}}return O}},5827:function(d,y,r){var t=r(5306),i=r(7498),a=r(5050),h=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function u(l,g,M,A,k){this.gl=l,this.type=g,this.handle=M,this.length=A,this.usage=k}var s=u.prototype;s.bind=function(){this.gl.bindBuffer(this.type,this.handle)},s.unbind=function(){this.gl.bindBuffer(this.type,null)},s.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(l,g,M,A,k,w){var E=k.length*k.BYTES_PER_ELEMENT;if(w<0)return l.bufferData(g,k,A),E;if(E+w>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return l.bufferSubData(g,w,k),M}function f(l,g){for(var M=t.malloc(l.length,g),A=l.length,k=0;k<A;++k)M[k]=l[k];return M}function S(l,g){for(var M=1,A=g.length-1;A>=0;--A){if(g[A]!==M)return!1;M*=l[A]}return!0}s.update=function(l,g){if(typeof g!="number"&&(g=-1),this.bind(),typeof l=="object"&&typeof l.shape<"u"){var M=l.dtype;if(h.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var A=gl.getExtension("OES_element_index_uint");A&&M!=="uint16"?M="uint32":M="uint16"}if(M===l.dtype&&S(l.shape,l.stride))l.offset===0&&l.data.length===l.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,l.data,g):this.length=m(this.gl,this.type,this.length,this.usage,l.data.subarray(l.offset,l.shape[0]),g);else{var k=t.malloc(l.size,M),w=a(k,l.shape);i.assign(w,l),g<0?this.length=m(this.gl,this.type,this.length,this.usage,k,g):this.length=m(this.gl,this.type,this.length,this.usage,k.subarray(0,l.size),g),t.free(k)}}else if(Array.isArray(l)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=f(l,"uint16"):E=f(l,"float32"),g<0?this.length=m(this.gl,this.type,this.length,this.usage,E,g):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,l.length),g),t.free(E)}else if(typeof l=="object"&&typeof l.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,l,g);else if(typeof l=="number"||l===void 0){if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");l=l|0,l<=0&&(l=1),this.gl.bufferData(this.type,l|0,this.usage),this.length=l}else throw new Error("gl-buffer: Invalid data type")};function v(l,g,M,A){if(M=M||l.ARRAY_BUFFER,A=A||l.DYNAMIC_DRAW,M!==l.ARRAY_BUFFER&&M!==l.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(A!==l.DYNAMIC_DRAW&&A!==l.STATIC_DRAW&&A!==l.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var k=l.createBuffer(),w=new u(l,M,k,0,A);return w.update(g),w}d.exports=v},1140:function(d,y,r){var t=r(2858);d.exports=function(a,h){var u=a.positions,s=a.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(a.positions.length===0)return h&&(h[0]=[0,0,0],h[1]=[0,0,0]),m;for(var f=0,S=1/0,v=-1/0,l=1/0,g=-1/0,M=1/0,A=-1/0,k=null,w=null,E=[],b=1/0,o=!1,P=0;P<u.length;P++){var x=u[P];S=Math.min(x[0],S),v=Math.max(x[0],v),l=Math.min(x[1],l),g=Math.max(x[1],g),M=Math.min(x[2],M),A=Math.max(x[2],A);var z=s[P];if(t.length(z)>f&&(f=t.length(z)),P){var _=2*t.distance(k,x)/(t.length(w)+t.length(z));_?(b=Math.min(b,_),o=!1):o=!0}o||(k=x,w=z),E.push(z)}var G=[S,l,M],F=[v,g,A];h&&(h[0]=G,h[1]=F),f===0&&(f=1);var N=1/f;isFinite(b)||(b=1),m.vectorScale=b;var U=a.coneSize||.5;a.absoluteConeSize&&(U=a.absoluteConeSize*N),m.coneScale=U;for(var P=0,O=0;P<u.length;P++)for(var x=u[P],H=x[0],Y=x[1],q=x[2],ne=E[P],oe=t.length(ne)*N,he=0,J=8;he<J;he++){m.positions.push([H,Y,q,O++]),m.positions.push([H,Y,q,O++]),m.positions.push([H,Y,q,O++]),m.positions.push([H,Y,q,O++]),m.positions.push([H,Y,q,O++]),m.positions.push([H,Y,q,O++]),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vertexIntensity.push(oe,oe,oe),m.vertexIntensity.push(oe,oe,oe);var Z=m.positions.length;m.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return m};var i=r(7234);d.exports.createMesh=r(5028),d.exports.createConeMesh=function(a,h){return d.exports.createMesh(a,h,{shaders:i,traceType:"cone"})}},5028:function(d,y,r){var t=r(5158),i=r(5827),a=r(2944),h=r(8931),u=r(104),s=r(7437),m=r(5050),f=r(9156),S=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(E,b,o,P,x,z,_,G,F,N,U){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=b,this.dirty=!0,this.triShader=o,this.pickShader=P,this.trianglePositions=x,this.triangleVectors=z,this.triangleColors=G,this.triangleUVs=F,this.triangleIds=_,this.triangleVAO=N,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=U,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=S,this._view=S,this._projection=S,this._resolution=[1,1]}var l=v.prototype;l.isOpaque=function(){return this.opacity>=1},l.isTransparent=function(){return this.opacity<1},l.pickSlots=1,l.setPickBase=function(E){this.pickId=E};function g(E){for(var b=f({colormap:E,nshades:256,format:"rgba"}),o=new Uint8Array(256*4),P=0;P<256;++P){for(var x=b[P],z=0;z<3;++z)o[4*P+z]=x[z];o[4*P+3]=x[3]*255}return m(o,[256,256,4],[4,0,1])}function M(E){for(var b=E.length,o=new Array(b),P=0;P<b;++P)o[P]=E[P][2];return o}l.update=function(E){E=E||{};var b=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=b.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=b.LINEAR,this.texture.setPixels(g(E.colormap)),this.texture.generateMipmap());var o=E.cells,P=E.positions,x=E.vectors;if(!(!P||!o||!x)){var z=[],_=[],G=[],F=[],N=[];this.cells=o,this.positions=P,this.vectors=x;var U=E.meshColor||[1,1,1,1],O=E.vertexIntensity,H=1/0,Y=-1/0;if(O)if(E.vertexIntensityBounds)H=+E.vertexIntensityBounds[0],Y=+E.vertexIntensityBounds[1];else for(var q=0;q<O.length;++q){var ne=O[q];H=Math.min(H,ne),Y=Math.max(Y,ne)}else for(var q=0;q<P.length;++q){var ne=P[q][2];H=Math.min(H,ne),Y=Math.max(Y,ne)}O?this.intensity=O:this.intensity=M(P),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<P.length;++q)for(var oe=P[q],he=0;he<3;++he)isNaN(oe[he])||!isFinite(oe[he])||(this.bounds[0][he]=Math.min(this.bounds[0][he],oe[he]),this.bounds[1][he]=Math.max(this.bounds[1][he],oe[he]));var J=0;e:for(var q=0;q<o.length;++q){var Z=o[q];switch(Z.length){case 3:for(var he=0;he<3;++he)for(var se=Z[he],oe=P[se],$=0;$<3;++$)if(isNaN(oe[$])||!isFinite(oe[$]))continue e;for(var he=0;he<3;++he){var se=Z[2-he],oe=P[se];z.push(oe[0],oe[1],oe[2],oe[3]);var ee=x[se];_.push(ee[0],ee[1],ee[2],ee[3]||0);var le=U;le.length===3?G.push(le[0],le[1],le[2],1):G.push(le[0],le[1],le[2],le[3]);var Q;O?Q=[(O[se]-H)/(Y-H),0]:Q=[(oe[2]-H)/(Y-H),0],F.push(Q[0],Q[1]),N.push(q)}J+=1;break}}this.triangleCount=J,this.trianglePositions.update(z),this.triangleVectors.update(_),this.triangleColors.update(G),this.triangleUVs.update(F),this.triangleIds.update(new Uint32Array(N))}},l.drawTransparent=l.draw=function(E){E=E||{};for(var b=this.gl,o=E.model||S,P=E.view||S,x=E.projection||S,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)z[0][_]=Math.max(z[0][_],this.clipBounds[0][_]),z[1][_]=Math.min(z[1][_],this.clipBounds[1][_]);var G={model:o,view:P,projection:x,inverseModel:S.slice(),clipBounds:z,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};G.inverseModel=s(G.inverseModel,G.model),b.disable(b.CULL_FACE),this.texture.bind(0);var F=new Array(16);u(F,G.view,G.model),u(F,G.projection,F),s(F,F);for(var _=0;_<3;++_)G.eyePosition[_]=F[12+_]/F[15];for(var N=F[15],_=0;_<3;++_)N+=this.lightPosition[_]*F[4*_+3];for(var _=0;_<3;++_){for(var U=F[12+_],O=0;O<3;++O)U+=F[4*O+_]*this.lightPosition[O];G.lightPosition[_]=U/N}if(this.triangleCount>0){var H=this.triShader;H.bind(),H.uniforms=G,this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},l.drawPick=function(E){E=E||{};for(var b=this.gl,o=E.model||S,P=E.view||S,x=E.projection||S,z=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)z[0][_]=Math.max(z[0][_],this.clipBounds[0][_]),z[1][_]=Math.min(z[1][_],this.clipBounds[1][_]);this._model=[].slice.call(o),this._view=[].slice.call(P),this._projection=[].slice.call(x),this._resolution=[b.drawingBufferWidth,b.drawingBufferHeight];var G={model:o,view:P,projection:x,clipBounds:z,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},F=this.pickShader;F.bind(),F.uniforms=G,this.triangleCount>0&&(this.triangleVAO.bind(),b.drawArrays(b.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},l.pick=function(E){if(!E||E.id!==this.pickId)return null;var b=E.value[0]+256*E.value[1]+65536*E.value[2],o=this.cells[b],P=this.positions[o[1]].slice(0,3),x={position:P,dataCoordinate:P,index:Math.floor(o[1]/48)};return this.traceType==="cone"?x.index=Math.floor(o[1]/48):this.traceType==="streamtube"&&(x.intensity=this.intensity[o[1]],x.velocity=this.vectors[o[1]].slice(0,3),x.divergence=this.vectors[o[1]][3],x.index=b),x},l.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function A(E,b){var o=t(E,b.meshShader.vertex,b.meshShader.fragment,null,b.meshShader.attributes);return o.attributes.position.location=0,o.attributes.color.location=2,o.attributes.uv.location=3,o.attributes.vector.location=4,o}function k(E,b){var o=t(E,b.pickShader.vertex,b.pickShader.fragment,null,b.pickShader.attributes);return o.attributes.position.location=0,o.attributes.id.location=1,o.attributes.vector.location=4,o}function w(E,b,o){var P=o.shaders;arguments.length===1&&(b=E,E=b.gl);var x=A(E,P),z=k(E,P),_=h(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=E.LINEAR_MIPMAP_LINEAR,_.magFilter=E.LINEAR;var G=i(E),F=i(E),N=i(E),U=i(E),O=i(E),H=a(E,[{buffer:G,type:E.FLOAT,size:4},{buffer:O,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:N,type:E.FLOAT,size:4},{buffer:U,type:E.FLOAT,size:2},{buffer:F,type:E.FLOAT,size:4}]),Y=new v(E,_,x,z,G,F,O,N,U,H,o.traceType||"cone");return Y.update(b),Y}d.exports=w},7234:function(d,y,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),h=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},y.pickShader={vertex:h,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(d){d.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(d,y,r){var t=r(1950);d.exports=function(a){return t[a]}},3110:function(d,y,r){d.exports=v;var t=r(5827),i=r(2944),a=r(7667),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(l,g,M,A){this.gl=l,this.shader=A,this.buffer=g,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var s=u.prototype;s.isOpaque=function(){return!this.hasAlpha},s.isTransparent=function(){return this.hasAlpha},s.drawTransparent=s.draw=function(l){var g=this.gl,M=this.shader.uniforms;this.shader.bind();var A=M.view=l.view||h,k=M.projection=l.projection||h;M.model=l.model||h,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var w=A[12],E=A[13],b=A[14],o=A[15],P=l._ortho||!1,x=P?2:1,z=x*this.pixelRatio*(k[3]*w+k[7]*E+k[11]*b+k[15]*o)/g.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)g.lineWidth(this.lineWidth[_]*this.pixelRatio),M.capSize=this.capSize[_]*z,this.lineCount[_]&&g.drawArrays(g.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function m(l,g){for(var M=0;M<3;++M)l[0][M]=Math.min(l[0][M],g[M]),l[1][M]=Math.max(l[1][M],g[M])}var f=function(){for(var l=new Array(3),g=0;g<3;++g){for(var M=[],A=1;A<=2;++A)for(var k=-1;k<=1;k+=2){var w=(A+g)%3,E=[0,0,0];E[w]=k,M.push(E)}l[g]=M}return l}();function S(l,g,M,A){for(var k=f[A],w=0;w<k.length;++w){var E=k[w];l.push(g[0],g[1],g[2],M[0],M[1],M[2],M[3],E[0],E[1],E[2])}return k.length}s.update=function(l){l=l||{},"lineWidth"in l&&(this.lineWidth=l.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in l&&(this.capSize=l.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in l&&(this.opacity=+l.opacity,this.opacity<1&&(this.hasAlpha=!0));var g=l.color||[[0,0,0],[0,0,0],[0,0,0]],M=l.position,A=l.error;if(Array.isArray(g[0])||(g=[g,g,g]),M&&A){var k=[],w=M.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var b=0;b<3;++b){this.lineOffset[b]=E;e:for(var o=0;o<w;++o){for(var P=M[o],x=0;x<3;++x)if(isNaN(P[x])||!isFinite(P[x]))continue e;var z=A[o],_=g[b];if(Array.isArray(_[0])&&(_=g[o]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(z[0][b])||isNaN(z[1][b]))){if(z[0][b]<0){var G=P.slice();G[b]+=z[0][b],k.push(P[0],P[1],P[2],_[0],_[1],_[2],_[3],0,0,0,G[0],G[1],G[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,G),E+=2+S(k,G,_,b)}if(z[1][b]>0){var G=P.slice();G[b]+=z[1][b],k.push(P[0],P[1],P[2],_[0],_[1],_[2],_[3],0,0,0,G[0],G[1],G[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,G),E+=2+S(k,G,_,b)}}}this.lineCount[b]=E-this.lineOffset[b]}this.buffer.update(k)}},s.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function v(l){var g=l.gl,M=t(g),A=i(g,[{buffer:M,type:g.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:g.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:g.FLOAT,size:3,offset:28,stride:40}]),k=a(g);k.attributes.position.location=0,k.attributes.color.location=1,k.attributes.offset.location=2;var w=new u(g,M,A,k);return w.update(l),w}},7667:function(d,y,r){var t=r(6832),i=r(5158),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);d.exports=function(u){return i(u,a,h,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(d,y,r){var t=r(8931);d.exports=E;var i=null,a,h,u,s;function m(b){var o=b.getParameter(b.FRAMEBUFFER_BINDING),P=b.getParameter(b.RENDERBUFFER_BINDING),x=b.getParameter(b.TEXTURE_BINDING_2D);return[o,P,x]}function f(b,o){b.bindFramebuffer(b.FRAMEBUFFER,o[0]),b.bindRenderbuffer(b.RENDERBUFFER,o[1]),b.bindTexture(b.TEXTURE_2D,o[2])}function S(b,o){var P=b.getParameter(o.MAX_COLOR_ATTACHMENTS_WEBGL);i=new Array(P+1);for(var x=0;x<=P;++x){for(var z=new Array(P),_=0;_<x;++_)z[_]=b.COLOR_ATTACHMENT0+_;for(var _=x;_<P;++_)z[_]=b.NONE;i[x]=z}}function v(b){switch(b){case a:throw new Error("gl-fbo: Framebuffer unsupported");case h:throw new Error("gl-fbo: Framebuffer incomplete attachment");case u:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function l(b,o,P,x,z,_){if(!x)return null;var G=t(b,o,P,z,x);return G.magFilter=b.NEAREST,G.minFilter=b.NEAREST,G.mipSamples=1,G.bind(),b.framebufferTexture2D(b.FRAMEBUFFER,_,b.TEXTURE_2D,G.handle,0),G}function g(b,o,P,x,z){var _=b.createRenderbuffer();return b.bindRenderbuffer(b.RENDERBUFFER,_),b.renderbufferStorage(b.RENDERBUFFER,x,o,P),b.framebufferRenderbuffer(b.FRAMEBUFFER,z,b.RENDERBUFFER,_),_}function M(b){var o=m(b.gl),P=b.gl,x=b.handle=P.createFramebuffer(),z=b._shape[0],_=b._shape[1],G=b.color.length,F=b._ext,N=b._useStencil,U=b._useDepth,O=b._colorType;P.bindFramebuffer(P.FRAMEBUFFER,x);for(var H=0;H<G;++H)b.color[H]=l(P,z,_,O,P.RGBA,P.COLOR_ATTACHMENT0+H);G===0?(b._color_rb=g(P,z,_,P.RGBA4,P.COLOR_ATTACHMENT0),F&&F.drawBuffersWEBGL(i[0])):G>1&&F.drawBuffersWEBGL(i[G]);var Y=P.getExtension("WEBGL_depth_texture");Y?N?b.depth=l(P,z,_,Y.UNSIGNED_INT_24_8_WEBGL,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):U&&(b.depth=l(P,z,_,P.UNSIGNED_SHORT,P.DEPTH_COMPONENT,P.DEPTH_ATTACHMENT)):U&&N?b._depth_rb=g(P,z,_,P.DEPTH_STENCIL,P.DEPTH_STENCIL_ATTACHMENT):U?b._depth_rb=g(P,z,_,P.DEPTH_COMPONENT16,P.DEPTH_ATTACHMENT):N&&(b._depth_rb=g(P,z,_,P.STENCIL_INDEX,P.STENCIL_ATTACHMENT));var q=P.checkFramebufferStatus(P.FRAMEBUFFER);if(q!==P.FRAMEBUFFER_COMPLETE){b._destroyed=!0,P.bindFramebuffer(P.FRAMEBUFFER,null),P.deleteFramebuffer(b.handle),b.handle=null,b.depth&&(b.depth.dispose(),b.depth=null),b._depth_rb&&(P.deleteRenderbuffer(b._depth_rb),b._depth_rb=null);for(var H=0;H<b.color.length;++H)b.color[H].dispose(),b.color[H]=null;b._color_rb&&(P.deleteRenderbuffer(b._color_rb),b._color_rb=null),f(P,o),v(q)}f(P,o)}function A(b,o,P,x,z,_,G,F){this.gl=b,this._shape=[o|0,P|0],this._destroyed=!1,this._ext=F,this.color=new Array(z);for(var N=0;N<z;++N)this.color[N]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=x,this._useDepth=_,this._useStencil=G;var U=this,O=[o|0,P|0];Object.defineProperties(O,{0:{get:function(){return U._shape[0]},set:function(H){return U.width=H}},1:{get:function(){return U._shape[1]},set:function(H){return U.height=H}}}),this._shapeVector=O,M(this)}var k=A.prototype;function w(b,o,P){if(b._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(b._shape[0]===o&&b._shape[1]===P)){var x=b.gl,z=x.getParameter(x.MAX_RENDERBUFFER_SIZE);if(o<0||o>z||P<0||P>z)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");b._shape[0]=o,b._shape[1]=P;for(var _=m(x),G=0;G<b.color.length;++G)b.color[G].shape=b._shape;b._color_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,b._color_rb),x.renderbufferStorage(x.RENDERBUFFER,x.RGBA4,b._shape[0],b._shape[1])),b.depth&&(b.depth.shape=b._shape),b._depth_rb&&(x.bindRenderbuffer(x.RENDERBUFFER,b._depth_rb),b._useDepth&&b._useStencil?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,b._shape[0],b._shape[1]):b._useDepth?x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_COMPONENT16,b._shape[0],b._shape[1]):b._useStencil&&x.renderbufferStorage(x.RENDERBUFFER,x.STENCIL_INDEX,b._shape[0],b._shape[1])),x.bindFramebuffer(x.FRAMEBUFFER,b.handle);var F=x.checkFramebufferStatus(x.FRAMEBUFFER);F!==x.FRAMEBUFFER_COMPLETE&&(b.dispose(),f(x,_),v(F)),f(x,_)}}Object.defineProperties(k,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(b){if(Array.isArray(b)||(b=[b|0,b|0]),b.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var o=b[0]|0,P=b[1]|0;return w(this,o,P),[o,P]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(b){return b=b|0,w(this,b,this._shape[1]),b},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(b){return b=b|0,w(this,this._shape[0],b),b},enumerable:!1}}),k.bind=function(){if(!this._destroyed){var b=this.gl;b.bindFramebuffer(b.FRAMEBUFFER,this.handle),b.viewport(0,0,this._shape[0],this._shape[1])}},k.dispose=function(){if(!this._destroyed){this._destroyed=!0;var b=this.gl;b.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(b.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var o=0;o<this.color.length;++o)this.color[o].dispose(),this.color[o]=null;this._color_rb&&(b.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(b,o,P,x){a||(a=b.FRAMEBUFFER_UNSUPPORTED,h=b.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,u=b.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=b.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var z=b.getExtension("WEBGL_draw_buffers");if(!i&&z&&S(b,z),Array.isArray(o)&&(x=P,P=o[1]|0,o=o[0]|0),typeof o!="number")throw new Error("gl-fbo: Missing shape parameter");var _=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(o<0||o>_||P<0||P>_)throw new Error("gl-fbo: Parameters are too large for FBO");x=x||{};var G=1;if("color"in x){if(G=Math.max(x.color|0,0),G<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(G>1)if(z){if(G>b.getParameter(z.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+G+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var F=b.UNSIGNED_BYTE,N=b.getExtension("OES_texture_float");if(x.float&&G>0){if(!N)throw new Error("gl-fbo: Context does not support floating point textures");F=b.FLOAT}else x.preferFloat&&G>0&&N&&(F=b.FLOAT);var U=!0;"depth"in x&&(U=!!x.depth);var O=!1;return"stencil"in x&&(O=!!x.stencil),new A(b,o,P,F,G,U,O,z)}},3530:function(d,y,r){var t=r(8974).sprintf,i=r(6603),a=r(9365),h=r(8008);d.exports=u;function u(s,m,f){var S=a(m)||"of unknown name (see npm glsl-shader-name)",v="unknown type";f!==void 0&&(v=f===i.FRAGMENT_SHADER?"fragment":"vertex");for(var l=t(`Error compiling %s shader %s:
`,v,S),g=t("%s%s",l,s),M=s.split(`
`),A={},k=0;k<M.length;k++){var w=M[k];if(!(w===""||w==="\0")){var E=parseInt(w.split(":")[2]);if(isNaN(E))throw new Error(t("Could not parse error: %s",w));A[E]=w}}for(var b=h(m).split(`
`),k=0;k<b.length;k++)if(!(!A[k+3]&&!A[k+2]&&!A[k+1])){var o=b[k];if(l+=o+`
`,A[k+1]){var P=A[k+1];P=P.substr(P.split(":",3).join(":").length+1).trim(),l+=t(`^^^ %s

`,P)}}return{long:l.trim(),short:g.trim()}}},6386:function(d,y,r){d.exports=v;var t=r(5070),i=r(9560),a=r(5306),h=r(5158),u=r(5827),s=r(1292);function m(l,g,M,A,k,w,E){this.plot=l,this.shader=g,this.pickShader=M,this.positionBuffer=A,this.weightBuffer=k,this.colorBuffer=w,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f=m.prototype,S=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=function(){var l=[1,0,0,0,1,0,0,0,1];return function(){var g=this.plot,M=this.shader,A=this.bounds,k=this.numVertices;if(!(k<=0)){var w=g.gl,E=g.dataBox,b=A[2]-A[0],o=A[3]-A[1],P=E[2]-E[0],x=E[3]-E[1];l[0]=2*b/P,l[4]=2*o/x,l[6]=2*(A[0]-E[0])/P-1,l[7]=2*(A[1]-E[1])/x-1,M.bind();var z=M.uniforms;z.viewTransform=l,z.shape=this.shape;var _=M.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(w.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(w.UNSIGNED_BYTE,!0),w.drawArrays(w.TRIANGLES,0,k)}}}(),f.drawPick=function(){var l=[1,0,0,0,1,0,0,0,1],g=[0,0,0,0];return function(M){var A=this.plot,k=this.pickShader,w=this.bounds,E=this.numVertices;if(!(E<=0)){var b=A.gl,o=A.dataBox,P=w[2]-w[0],x=w[3]-w[1],z=o[2]-o[0],_=o[3]-o[1];l[0]=2*P/z,l[4]=2*x/_,l[6]=2*(w[0]-o[0])/z-1,l[7]=2*(w[1]-o[1])/_-1;for(var G=0;G<4;++G)g[G]=M>>G*8&255;this.pickOffset=M,k.bind();var F=k.uniforms;F.viewTransform=l,F.pickOffset=g,F.shape=this.shape;var N=k.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(b.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(b.UNSIGNED_BYTE,!1),b.drawArrays(b.TRIANGLES,0,E),M+this.shape[0]*this.shape[1]}}}(),f.pick=function(l,g,M){var A=this.pickOffset,k=this.shape[0]*this.shape[1];if(M<A||M>=A+k)return null;var w=M-A,E=this.xData,b=this.yData;return{object:this,pointId:w,dataCoord:[E[w%this.shape[0]],b[w/this.shape[0]|0]]}},f.update=function(l){l=l||{};var g=l.shape||[0,0],M=l.x||i(g[0]),A=l.y||i(g[1]),k=l.z||new Float32Array(g[0]*g[1]),w=l.zsmooth!==!1;this.xData=M,this.yData=A;var E=l.colorLevels||[0],b=l.colorValues||[0,0,0,1],o=E.length,P=this.bounds,x,z,_,G;w?(x=P[0]=M[0],z=P[1]=A[0],_=P[2]=M[M.length-1],G=P[3]=A[A.length-1]):(x=P[0]=M[0]+(M[1]-M[0])/2,z=P[1]=A[0]+(A[1]-A[0])/2,_=P[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,G=P[3]=A[A.length-1]+(A[A.length-1]-A[A.length-2])/2);var F=1/(_-x),N=1/(G-z),U=g[0],O=g[1];this.shape=[U,O];var H=(w?(U-1)*(O-1):U*O)*(S.length>>>1);this.numVertices=H;for(var Y=a.mallocUint8(H*4),q=a.mallocFloat32(H*2),ne=a.mallocUint8(H*2),oe=a.mallocUint32(H),he=0,J=w?U-1:U,Z=w?O-1:O,se=0;se<Z;++se){var $,ee;w?($=N*(A[se]-z),ee=N*(A[se+1]-z)):($=se<O-1?N*(A[se]-(A[se+1]-A[se])/2-z):N*(A[se]-(A[se]-A[se-1])/2-z),ee=se<O-1?N*(A[se]+(A[se+1]-A[se])/2-z):N*(A[se]+(A[se]-A[se-1])/2-z));for(var le=0;le<J;++le){var Q,K;w?(Q=F*(M[le]-x),K=F*(M[le+1]-x)):(Q=le<U-1?F*(M[le]-(M[le+1]-M[le])/2-x):F*(M[le]-(M[le]-M[le-1])/2-x),K=le<U-1?F*(M[le]+(M[le+1]-M[le])/2-x):F*(M[le]+(M[le]-M[le-1])/2-x));for(var ue=0;ue<S.length;ue+=2){var ie=S[ue],ce=S[ue+1],xe=w?(se+ce)*U+(le+ie):se*U+le,Le=k[xe],Ae=t.le(E,Le),Oe,ze,Ee,be;if(Ae<0)Oe=b[0],ze=b[1],Ee=b[2],be=b[3];else if(Ae===o-1)Oe=b[4*o-4],ze=b[4*o-3],Ee=b[4*o-2],be=b[4*o-1];else{var Ce=(Le-E[Ae])/(E[Ae+1]-E[Ae]),Ue=1-Ce,He=4*Ae,Ie=4*(Ae+1);Oe=Ue*b[He]+Ce*b[Ie],ze=Ue*b[He+1]+Ce*b[Ie+1],Ee=Ue*b[He+2]+Ce*b[Ie+2],be=Ue*b[He+3]+Ce*b[Ie+3]}Y[4*he]=255*Oe,Y[4*he+1]=255*ze,Y[4*he+2]=255*Ee,Y[4*he+3]=255*be,q[2*he]=Q*.5+K*.5,q[2*he+1]=$*.5+ee*.5,ne[2*he]=ie,ne[2*he+1]=ce,oe[he]=se*U+le,he+=1}}}this.positionBuffer.update(q),this.weightBuffer.update(ne),this.colorBuffer.update(Y),this.idBuffer.update(oe),a.free(q),a.free(Y),a.free(ne),a.free(oe)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function v(l,g){var M=l.gl,A=h(M,s.vertex,s.fragment),k=h(M,s.pickVertex,s.pickFragment),w=u(M),E=u(M),b=u(M),o=u(M),P=new m(l,A,k,w,E,b,o);return P.update(g),l.addObject(P),P}},1292:function(d,y,r){var t=r(6832);d.exports={fragment:t([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(d,y,r){var t=r(6832),i=r(5158),a=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),s=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];y.createShader=function(m){return i(m,a,h,null,s)},y.createPickShader=function(m){return i(m,a,u,null,s)}},6086:function(d,y,r){d.exports=b;var t=r(5827),i=r(2944),a=r(8931),h=new Uint8Array(4),u=new Float32Array(h.buffer);function s(o,P,x,z){return h[0]=z,h[1]=x,h[2]=P,h[3]=o,u[0]}var m=r(5070),f=r(5050),S=r(248),v=S.createShader,l=S.createPickShader,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(o,P){for(var x=0,z=0;z<3;++z){var _=o[z]-P[z];x+=_*_}return Math.sqrt(x)}function A(o){for(var P=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],x=0;x<3;++x)P[0][x]=Math.max(o[0][x],P[0][x]),P[1][x]=Math.min(o[1][x],P[1][x]);return P}function k(o,P,x,z){this.arcLength=o,this.position=P,this.index=x,this.dataCoordinate=z}function w(o,P,x,z,_,G){this.gl=o,this.shader=P,this.pickShader=x,this.buffer=z,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=G,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=w.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(o){this.pickId=o},E.drawTransparent=E.draw=function(o){if(this.vertexCount){var P=this.gl,x=this.shader,z=this.vao;x.bind(),x.uniforms={model:o.model||g,view:o.view||g,projection:o.projection||g,clipBounds:A(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(P.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.drawPick=function(o){if(this.vertexCount){var P=this.gl,x=this.pickShader,z=this.vao;x.bind(),x.uniforms={model:o.model||g,view:o.view||g,projection:o.projection||g,pickId:this.pickId,clipBounds:A(this.clipBounds),screenShape:[P.drawingBufferWidth,P.drawingBufferHeight],pixelRatio:this.pixelRatio},z.bind(),z.draw(P.TRIANGLE_STRIP,this.vertexCount),z.unbind()}},E.update=function(o){var P,x;this.dirty=!0;var z=!!o.connectGaps;"dashScale"in o&&(this.dashScale=o.dashScale),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],G=[],F=[],N=0,U=0,O=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=o.position||o.positions;if(H){var Y=o.color||o.colors||[0,0,0,1],q=o.lineWidth||1,ne=!1;e:for(P=1;P<H.length;++P){var oe=H[P-1],he=H[P];for(G.push(N),F.push(oe.slice()),x=0;x<3;++x){if(isNaN(oe[x])||isNaN(he[x])||!isFinite(oe[x])||!isFinite(he[x])){if(!z&&_.length>0){for(var J=0;J<24;++J)_.push(_[_.length-12]);U+=2,ne=!0}continue e}O[0][x]=Math.min(O[0][x],oe[x],he[x]),O[1][x]=Math.max(O[1][x],oe[x],he[x])}var Z,se;Array.isArray(Y[0])?(Z=Y.length>P-1?Y[P-1]:Y.length>0?Y[Y.length-1]:[0,0,0,1],se=Y.length>P?Y[P]:Y.length>0?Y[Y.length-1]:[0,0,0,1]):Z=se=Y,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),se.length===3&&(se=[se[0],se[1],se[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var $;Array.isArray(q)?$=q.length>P-1?q[P-1]:q.length>0?q[q.length-1]:[0,0,0,1]:$=q;var ee=N;if(N+=M(oe,he),ne){for(x=0;x<2;++x)_.push(oe[0],oe[1],oe[2],he[0],he[1],he[2],ee,$,Z[0],Z[1],Z[2],Z[3]);U+=2,ne=!1}_.push(oe[0],oe[1],oe[2],he[0],he[1],he[2],ee,$,Z[0],Z[1],Z[2],Z[3],oe[0],oe[1],oe[2],he[0],he[1],he[2],ee,-$,Z[0],Z[1],Z[2],Z[3],he[0],he[1],he[2],oe[0],oe[1],oe[2],N,-$,se[0],se[1],se[2],se[3],he[0],he[1],he[2],oe[0],oe[1],oe[2],N,$,se[0],se[1],se[2],se[3]),U+=4}}if(this.buffer.update(_),G.push(N),F.push(H[H.length-1].slice()),this.bounds=O,this.vertexCount=U,this.points=F,this.arcLength=G,"dashes"in o){var le=o.dashes,Q=le.slice();for(Q.unshift(0),P=1;P<Q.length;++P)Q[P]=Q[P-1]+Q[P];var K=f(new Array(256*4),[256,1,4]);for(P=0;P<256;++P){for(x=0;x<4;++x)K.set(P,0,x,0);m.le(Q,Q[Q.length-1]*P/255)&1?K.set(P,0,0,0):K.set(P,0,0,255)}this.texture.setPixels(K)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(o){if(!o||o.id!==this.pickId)return null;var P=s(o.value[0],o.value[1],o.value[2],0),x=m.le(this.arcLength,P);if(x<0)return null;if(x===this.arcLength.length-1)return new k(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),x);for(var z=this.points[x],_=this.points[Math.min(x+1,this.points.length-1)],G=(P-this.arcLength[x])/(this.arcLength[x+1]-this.arcLength[x]),F=1-G,N=[0,0,0],U=0;U<3;++U)N[U]=F*z[U]+G*_[U];var O=Math.min(G<.5?x:x+1,this.points.length-1);return new k(P,N,O,this.points[O])};function b(o){var P=o.gl||o.scene&&o.scene.gl,x=v(P);x.attributes.position.location=0,x.attributes.nextPosition.location=1,x.attributes.arcLength.location=2,x.attributes.lineWidth.location=3,x.attributes.color.location=4;var z=l(P);z.attributes.position.location=0,z.attributes.nextPosition.location=1,z.attributes.arcLength.location=2,z.attributes.lineWidth.location=3,z.attributes.color.location=4;for(var _=t(P),G=i(P,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),F=f(new Array(256*4),[256,1,4]),N=0;N<1024;++N)F.data[N]=255;var U=a(P,F);U.wrap=P.REPEAT;var O=new w(P,x,z,_,G,U);return O.update(o),O}},7332:function(d){d.exports=y;function y(r){var t=new Float32Array(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},9823:function(d){d.exports=y;function y(){var r=new Float32Array(16);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7787:function(d){d.exports=y;function y(r){var t=r[0],i=r[1],a=r[2],h=r[3],u=r[4],s=r[5],m=r[6],f=r[7],S=r[8],v=r[9],l=r[10],g=r[11],M=r[12],A=r[13],k=r[14],w=r[15],E=t*s-i*u,b=t*m-a*u,o=t*f-h*u,P=i*m-a*s,x=i*f-h*s,z=a*f-h*m,_=S*A-v*M,G=S*k-l*M,F=S*w-g*M,N=v*k-l*A,U=v*w-g*A,O=l*w-g*k;return E*O-b*U+o*N+P*F-x*G+z*_}},5950:function(d){d.exports=y;function y(r,t){var i=t[0],a=t[1],h=t[2],u=t[3],s=i+i,m=a+a,f=h+h,S=i*s,v=a*s,l=a*m,g=h*s,M=h*m,A=h*f,k=u*s,w=u*m,E=u*f;return r[0]=1-l-A,r[1]=v+E,r[2]=g-w,r[3]=0,r[4]=v-E,r[5]=1-S-A,r[6]=M+k,r[7]=0,r[8]=g+w,r[9]=M-k,r[10]=1-S-l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7280:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=t[3],m=a+a,f=h+h,S=u+u,v=a*m,l=a*f,g=a*S,M=h*f,A=h*S,k=u*S,w=s*m,E=s*f,b=s*S;return r[0]=1-(M+k),r[1]=l+b,r[2]=g-E,r[3]=0,r[4]=l-b,r[5]=1-(v+k),r[6]=A+w,r[7]=0,r[8]=g+E,r[9]=A-w,r[10]=1-(v+M),r[11]=0,r[12]=i[0],r[13]=i[1],r[14]=i[2],r[15]=1,r}},9947:function(d){d.exports=y;function y(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}},7437:function(d){d.exports=y;function y(r,t){var i=t[0],a=t[1],h=t[2],u=t[3],s=t[4],m=t[5],f=t[6],S=t[7],v=t[8],l=t[9],g=t[10],M=t[11],A=t[12],k=t[13],w=t[14],E=t[15],b=i*m-a*s,o=i*f-h*s,P=i*S-u*s,x=a*f-h*m,z=a*S-u*m,_=h*S-u*f,G=v*k-l*A,F=v*w-g*A,N=v*E-M*A,U=l*w-g*k,O=l*E-M*k,H=g*E-M*w,Y=b*H-o*O+P*U+x*N-z*F+_*G;return Y?(Y=1/Y,r[0]=(m*H-f*O+S*U)*Y,r[1]=(h*O-a*H-u*U)*Y,r[2]=(k*_-w*z+E*x)*Y,r[3]=(g*z-l*_-M*x)*Y,r[4]=(f*N-s*H-S*F)*Y,r[5]=(i*H-h*N+u*F)*Y,r[6]=(w*P-A*_-E*o)*Y,r[7]=(v*_-g*P+M*o)*Y,r[8]=(s*O-m*N+S*G)*Y,r[9]=(a*N-i*O-u*G)*Y,r[10]=(A*z-k*P+E*b)*Y,r[11]=(l*P-v*z-M*b)*Y,r[12]=(m*F-s*U-f*G)*Y,r[13]=(i*U-a*F+h*G)*Y,r[14]=(k*o-A*x-w*b)*Y,r[15]=(v*x-l*o+g*b)*Y,r):null}},3012:function(d,y,r){var t=r(9947);d.exports=i;function i(a,h,u,s){var m,f,S,v,l,g,M,A,k,w,E=h[0],b=h[1],o=h[2],P=s[0],x=s[1],z=s[2],_=u[0],G=u[1],F=u[2];return Math.abs(E-_)<1e-6&&Math.abs(b-G)<1e-6&&Math.abs(o-F)<1e-6?t(a):(M=E-_,A=b-G,k=o-F,w=1/Math.sqrt(M*M+A*A+k*k),M*=w,A*=w,k*=w,m=x*k-z*A,f=z*M-P*k,S=P*A-x*M,w=Math.sqrt(m*m+f*f+S*S),w?(w=1/w,m*=w,f*=w,S*=w):(m=0,f=0,S=0),v=A*S-k*f,l=k*m-M*S,g=M*f-A*m,w=Math.sqrt(v*v+l*l+g*g),w?(w=1/w,v*=w,l*=w,g*=w):(v=0,l=0,g=0),a[0]=m,a[1]=v,a[2]=M,a[3]=0,a[4]=f,a[5]=l,a[6]=A,a[7]=0,a[8]=S,a[9]=g,a[10]=k,a[11]=0,a[12]=-(m*E+f*b+S*o),a[13]=-(v*E+l*b+g*o),a[14]=-(M*E+A*b+k*o),a[15]=1,a)}},104:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=t[3],m=t[4],f=t[5],S=t[6],v=t[7],l=t[8],g=t[9],M=t[10],A=t[11],k=t[12],w=t[13],E=t[14],b=t[15],o=i[0],P=i[1],x=i[2],z=i[3];return r[0]=o*a+P*m+x*l+z*k,r[1]=o*h+P*f+x*g+z*w,r[2]=o*u+P*S+x*M+z*E,r[3]=o*s+P*v+x*A+z*b,o=i[4],P=i[5],x=i[6],z=i[7],r[4]=o*a+P*m+x*l+z*k,r[5]=o*h+P*f+x*g+z*w,r[6]=o*u+P*S+x*M+z*E,r[7]=o*s+P*v+x*A+z*b,o=i[8],P=i[9],x=i[10],z=i[11],r[8]=o*a+P*m+x*l+z*k,r[9]=o*h+P*f+x*g+z*w,r[10]=o*u+P*S+x*M+z*E,r[11]=o*s+P*v+x*A+z*b,o=i[12],P=i[13],x=i[14],z=i[15],r[12]=o*a+P*m+x*l+z*k,r[13]=o*h+P*f+x*g+z*w,r[14]=o*u+P*S+x*M+z*E,r[15]=o*s+P*v+x*A+z*b,r}},5268:function(d){d.exports=y;function y(r,t,i,a,h,u,s){var m=1/(t-i),f=1/(a-h),S=1/(u-s);return r[0]=-2*m,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*f,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*S,r[11]=0,r[12]=(t+i)*m,r[13]=(h+a)*f,r[14]=(s+u)*S,r[15]=1,r}},1120:function(d){d.exports=y;function y(r,t,i,a,h){var u=1/Math.tan(t/2),s=1/(a-h);return r[0]=u/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=(h+a)*s,r[11]=-1,r[12]=0,r[13]=0,r[14]=2*h*a*s,r[15]=0,r}},4422:function(d){d.exports=y;function y(r,t,i,a){var h=a[0],u=a[1],s=a[2],m=Math.sqrt(h*h+u*u+s*s),f,S,v,l,g,M,A,k,w,E,b,o,P,x,z,_,G,F,N,U,O,H,Y,q;return Math.abs(m)<1e-6?null:(m=1/m,h*=m,u*=m,s*=m,f=Math.sin(i),S=Math.cos(i),v=1-S,l=t[0],g=t[1],M=t[2],A=t[3],k=t[4],w=t[5],E=t[6],b=t[7],o=t[8],P=t[9],x=t[10],z=t[11],_=h*h*v+S,G=u*h*v+s*f,F=s*h*v-u*f,N=h*u*v-s*f,U=u*u*v+S,O=s*u*v+h*f,H=h*s*v+u*f,Y=u*s*v-h*f,q=s*s*v+S,r[0]=l*_+k*G+o*F,r[1]=g*_+w*G+P*F,r[2]=M*_+E*G+x*F,r[3]=A*_+b*G+z*F,r[4]=l*N+k*U+o*O,r[5]=g*N+w*U+P*O,r[6]=M*N+E*U+x*O,r[7]=A*N+b*U+z*O,r[8]=l*H+k*Y+o*q,r[9]=g*H+w*Y+P*q,r[10]=M*H+E*Y+x*q,r[11]=A*H+b*Y+z*q,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}},6109:function(d){d.exports=y;function y(r,t,i){var a=Math.sin(i),h=Math.cos(i),u=t[4],s=t[5],m=t[6],f=t[7],S=t[8],v=t[9],l=t[10],g=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*h+S*a,r[5]=s*h+v*a,r[6]=m*h+l*a,r[7]=f*h+g*a,r[8]=S*h-u*a,r[9]=v*h-s*a,r[10]=l*h-m*a,r[11]=g*h-f*a,r}},7115:function(d){d.exports=y;function y(r,t,i){var a=Math.sin(i),h=Math.cos(i),u=t[0],s=t[1],m=t[2],f=t[3],S=t[8],v=t[9],l=t[10],g=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*h-S*a,r[1]=s*h-v*a,r[2]=m*h-l*a,r[3]=f*h-g*a,r[8]=u*a+S*h,r[9]=s*a+v*h,r[10]=m*a+l*h,r[11]=f*a+g*h,r}},5240:function(d){d.exports=y;function y(r,t,i){var a=Math.sin(i),h=Math.cos(i),u=t[0],s=t[1],m=t[2],f=t[3],S=t[4],v=t[5],l=t[6],g=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*h+S*a,r[1]=s*h+v*a,r[2]=m*h+l*a,r[3]=f*h+g*a,r[4]=S*h-u*a,r[5]=v*h-s*a,r[6]=l*h-m*a,r[7]=g*h-f*a,r}},3668:function(d){d.exports=y;function y(r,t,i){var a=i[0],h=i[1],u=i[2];return r[0]=t[0]*a,r[1]=t[1]*a,r[2]=t[2]*a,r[3]=t[3]*a,r[4]=t[4]*h,r[5]=t[5]*h,r[6]=t[6]*h,r[7]=t[7]*h,r[8]=t[8]*u,r[9]=t[9]*u,r[10]=t[10]*u,r[11]=t[11]*u,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},998:function(d){d.exports=y;function y(r,t,i){var a=i[0],h=i[1],u=i[2],s,m,f,S,v,l,g,M,A,k,w,E;return t===r?(r[12]=t[0]*a+t[4]*h+t[8]*u+t[12],r[13]=t[1]*a+t[5]*h+t[9]*u+t[13],r[14]=t[2]*a+t[6]*h+t[10]*u+t[14],r[15]=t[3]*a+t[7]*h+t[11]*u+t[15]):(s=t[0],m=t[1],f=t[2],S=t[3],v=t[4],l=t[5],g=t[6],M=t[7],A=t[8],k=t[9],w=t[10],E=t[11],r[0]=s,r[1]=m,r[2]=f,r[3]=S,r[4]=v,r[5]=l,r[6]=g,r[7]=M,r[8]=A,r[9]=k,r[10]=w,r[11]=E,r[12]=s*a+v*h+A*u+t[12],r[13]=m*a+l*h+k*u+t[13],r[14]=f*a+g*h+w*u+t[14],r[15]=S*a+M*h+E*u+t[15]),r}},2142:function(d){d.exports=y;function y(r,t){if(r===t){var i=t[1],a=t[2],h=t[3],u=t[6],s=t[7],m=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=i,r[6]=t[9],r[7]=t[13],r[8]=a,r[9]=u,r[11]=t[14],r[12]=h,r[13]=s,r[14]=m}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}},4340:function(d,y,r){var t=r(957),i=r(7309);d.exports=m;function a(f,S){for(var v=[0,0,0,0],l=0;l<4;++l)for(var g=0;g<4;++g)v[g]+=f[4*l+g]*S[l];return v}function h(f,S,v,l,g){for(var M=a(l,a(v,a(S,[f[0],f[1],f[2],1]))),A=0;A<3;++A)M[A]/=M[3];return[.5*g[0]*(1+M[0]),.5*g[1]*(1-M[1])]}function u(f,S){if(f.length===2){for(var v=0,l=0,g=0;g<2;++g)v+=Math.pow(S[g]-f[0][g],2),l+=Math.pow(S[g]-f[1][g],2);return v=Math.sqrt(v),l=Math.sqrt(l),v+l<1e-6?[1,0]:[l/(v+l),v/(l+v)]}else if(f.length===3){var M=[0,0];return i(f[0],f[1],f[2],S,M),t(f,M)}return[]}function s(f,S){for(var v=[0,0,0],l=0;l<f.length;++l)for(var g=f[l],M=S[l],A=0;A<3;++A)v[A]+=M*g[A];return v}function m(f,S,v,l,g,M){if(f.length===1)return[0,f[0].slice()];for(var A=new Array(f.length),k=0;k<f.length;++k)A[k]=h(f[k],v,l,g,M);for(var w=0,E=1/0,k=0;k<A.length;++k){for(var b=0,o=0;o<2;++o)b+=Math.pow(A[k][o]-S[o],2);b<E&&(E=b,w=k)}for(var P=u(A,S),x=0,k=0;k<3;++k){if(P[k]<-.001||P[k]>1.0001)return null;x+=P[k]}return Math.abs(x-1)>.001?null:[w,s(f,P),P]}},2056:function(d,y,r){var t=r(6832),i=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),h=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),s=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=t([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),S=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),v=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),l=t([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),g=t([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);y.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.wireShader={vertex:h,fragment:u,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.pointShader={vertex:s,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},y.pickShader={vertex:f,fragment:S,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},y.pointPickShader={vertex:v,fragment:S,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},y.contourShader={vertex:l,fragment:g,attributes:[{name:"position",type:"vec3"}]}},8116:function(d,y,r){var t=1e-6,i=1e-6,a=r(5158),h=r(5827),u=r(2944),s=r(8931),m=r(115),f=r(104),S=r(7437),v=r(5050),l=r(9156),g=r(7212),M=r(5306),A=r(2056),k=r(4340),w=A.meshShader,E=A.wireShader,b=A.pointShader,o=A.pickShader,P=A.pointPickShader,x=A.contourShader,z=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(J,Z,se,$,ee,le,Q,K,ue,ie,ce,xe,Le,Ae,Oe,ze,Ee,be,Ce,Ue,He,Ie,Ge,at,lt,qe,et){this.gl=J,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=se,this.lineShader=$,this.pointShader=ee,this.pickShader=le,this.pointPickShader=Q,this.contourShader=K,this.trianglePositions=ue,this.triangleColors=ce,this.triangleNormals=Le,this.triangleUVs=xe,this.triangleIds=ie,this.triangleVAO=Ae,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Oe,this.edgeColors=Ee,this.edgeUVs=be,this.edgeIds=ze,this.edgeVAO=Ce,this.edgeCount=0,this.pointPositions=Ue,this.pointColors=Ie,this.pointUVs=Ge,this.pointSizes=at,this.pointIds=He,this.pointVAO=lt,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=qe,this.contourVAO=et,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=z,this._view=z,this._projection=z,this._resolution=[1,1]}var G=_.prototype;G.isOpaque=function(){return!this.hasAlpha},G.isTransparent=function(){return this.hasAlpha},G.pickSlots=1,G.setPickBase=function(J){this.pickId=J};function F(J,Z){if(!Z||!Z.length)return 1;for(var se=0;se<Z.length;++se){if(Z.length<2)return 1;if(Z[se][0]===J)return Z[se][1];if(Z[se][0]>J&&se>0){var $=(Z[se][0]-J)/(Z[se][0]-Z[se-1][0]);return Z[se][1]*(1-$)+$*Z[se-1][1]}}return 1}function N(J,Z){for(var se=l({colormap:J,nshades:256,format:"rgba"}),$=new Uint8Array(256*4),ee=0;ee<256;++ee){for(var le=se[ee],Q=0;Q<3;++Q)$[4*ee+Q]=le[Q];Z?$[4*ee+3]=255*F(ee/255,Z):$[4*ee+3]=255*le[3]}return v($,[256,256,4],[4,0,1])}function U(J){for(var Z=J.length,se=new Array(Z),$=0;$<Z;++$)se[$]=J[$][2];return se}G.highlight=function(J){if(!J||!this.contourEnable){this.contourCount=0;return}for(var Z=g(this.cells,this.intensity,J.intensity),se=Z.cells,$=Z.vertexIds,ee=Z.vertexWeights,le=se.length,Q=M.mallocFloat32(2*3*le),K=0,ue=0;ue<le;++ue)for(var ie=se[ue],ce=0;ce<2;++ce){var xe=ie[0];ie.length===2&&(xe=ie[ce]);for(var Le=$[xe][0],Ae=$[xe][1],Oe=ee[xe],ze=1-Oe,Ee=this.positions[Le],be=this.positions[Ae],Ce=0;Ce<3;++Ce)Q[K++]=Oe*Ee[Ce]+ze*be[Ce]}this.contourCount=K/3|0,this.contourPositions.update(Q.subarray(0,K)),M.free(Q)},G.update=function(J){J=J||{};var Z=this.gl;this.dirty=!0,"contourEnable"in J&&(this.contourEnable=J.contourEnable),"contourColor"in J&&(this.contourColor=J.contourColor),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"lightPosition"in J&&(this.lightPosition=J.lightPosition),this.hasAlpha=!1,"opacity"in J&&(this.opacity=J.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in J&&(this.opacityscale=J.opacityscale,this.hasAlpha=!0),"ambient"in J&&(this.ambientLight=J.ambient),"diffuse"in J&&(this.diffuseLight=J.diffuse),"specular"in J&&(this.specularLight=J.specular),"roughness"in J&&(this.roughness=J.roughness),"fresnel"in J&&(this.fresnel=J.fresnel),J.texture?(this.texture.dispose(),this.texture=s(Z,J.texture)):J.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(N(J.colormap,this.opacityscale)),this.texture.generateMipmap());var se=J.cells,$=J.positions;if(!(!$||!se)){var ee=[],le=[],Q=[],K=[],ue=[],ie=[],ce=[],xe=[],Le=[],Ae=[],Oe=[],ze=[],Ee=[],be=[];this.cells=se,this.positions=$;var Ce=J.vertexNormals,Ue=J.cellNormals,He=J.vertexNormalsEpsilon===void 0?t:J.vertexNormalsEpsilon,Ie=J.faceNormalsEpsilon===void 0?i:J.faceNormalsEpsilon;J.useFacetNormals&&!Ue&&(Ue=m.faceNormals(se,$,Ie)),!Ue&&!Ce&&(Ce=m.vertexNormals(se,$,He));var Ge=J.vertexColors,at=J.cellColors,lt=J.meshColor||[1,1,1,1],qe=J.vertexUVs,et=J.vertexIntensity,ft=J.cellUVs,dt=J.cellIntensity,pt=1/0,At=-1/0;if(!qe&&!ft)if(et)if(J.vertexIntensityBounds)pt=+J.vertexIntensityBounds[0],At=+J.vertexIntensityBounds[1];else for(var Pt=0;Pt<et.length;++Pt){var Ht=et[Pt];pt=Math.min(pt,Ht),At=Math.max(At,Ht)}else if(dt)if(J.cellIntensityBounds)pt=+J.cellIntensityBounds[0],At=+J.cellIntensityBounds[1];else for(var Pt=0;Pt<dt.length;++Pt){var Ht=dt[Pt];pt=Math.min(pt,Ht),At=Math.max(At,Ht)}else for(var Pt=0;Pt<$.length;++Pt){var Ht=$[Pt][2];pt=Math.min(pt,Ht),At=Math.max(At,Ht)}et?this.intensity=et:dt?this.intensity=dt:this.intensity=U($),this.pickVertex=!(dt||at);var Je=J.pointSizes,We=J.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Pt=0;Pt<$.length;++Pt)for(var _e=$[Pt],Ne=0;Ne<3;++Ne)isNaN(_e[Ne])||!isFinite(_e[Ne])||(this.bounds[0][Ne]=Math.min(this.bounds[0][Ne],_e[Ne]),this.bounds[1][Ne]=Math.max(this.bounds[1][Ne],_e[Ne]));var ke=0,we=0,me=0;e:for(var Pt=0;Pt<se.length;++Pt){var Me=se[Pt];switch(Me.length){case 1:for(var Se=Me[0],_e=$[Se],Ne=0;Ne<3;++Ne)if(isNaN(_e[Ne])||!isFinite(_e[Ne]))continue e;Ae.push(_e[0],_e[1],_e[2]);var Ve;Ge?Ve=Ge[Se]:at?Ve=at[Pt]:Ve=lt,this.opacityscale&&et?le.push(Ve[0],Ve[1],Ve[2],this.opacity*F((et[Se]-pt)/(At-pt),this.opacityscale)):Ve.length===3?Oe.push(Ve[0],Ve[1],Ve[2],this.opacity):(Oe.push(Ve[0],Ve[1],Ve[2],Ve[3]*this.opacity),Ve[3]<1&&(this.hasAlpha=!0));var Ze;qe?Ze=qe[Se]:et?Ze=[(et[Se]-pt)/(At-pt),0]:ft?Ze=ft[Pt]:dt?Ze=[(dt[Pt]-pt)/(At-pt),0]:Ze=[(_e[2]-pt)/(At-pt),0],ze.push(Ze[0],Ze[1]),Je?Ee.push(Je[Se]):Ee.push(We),be.push(Pt),me+=1;break;case 2:for(var Ne=0;Ne<2;++Ne)for(var Se=Me[Ne],_e=$[Se],tt=0;tt<3;++tt)if(isNaN(_e[tt])||!isFinite(_e[tt]))continue e;for(var Ne=0;Ne<2;++Ne){var Se=Me[Ne],_e=$[Se];ie.push(_e[0],_e[1],_e[2]);var Ve;Ge?Ve=Ge[Se]:at?Ve=at[Pt]:Ve=lt,this.opacityscale&&et?le.push(Ve[0],Ve[1],Ve[2],this.opacity*F((et[Se]-pt)/(At-pt),this.opacityscale)):Ve.length===3?ce.push(Ve[0],Ve[1],Ve[2],this.opacity):(ce.push(Ve[0],Ve[1],Ve[2],Ve[3]*this.opacity),Ve[3]<1&&(this.hasAlpha=!0));var Ze;qe?Ze=qe[Se]:et?Ze=[(et[Se]-pt)/(At-pt),0]:ft?Ze=ft[Pt]:dt?Ze=[(dt[Pt]-pt)/(At-pt),0]:Ze=[(_e[2]-pt)/(At-pt),0],xe.push(Ze[0],Ze[1]),Le.push(Pt)}we+=1;break;case 3:for(var Ne=0;Ne<3;++Ne)for(var Se=Me[Ne],_e=$[Se],tt=0;tt<3;++tt)if(isNaN(_e[tt])||!isFinite(_e[tt]))continue e;for(var Ne=0;Ne<3;++Ne){var Se=Me[2-Ne],_e=$[Se];ee.push(_e[0],_e[1],_e[2]);var Ve;Ge?Ve=Ge[Se]:at?Ve=at[Pt]:Ve=lt,Ve?this.opacityscale&&et?le.push(Ve[0],Ve[1],Ve[2],this.opacity*F((et[Se]-pt)/(At-pt),this.opacityscale)):Ve.length===3?le.push(Ve[0],Ve[1],Ve[2],this.opacity):(le.push(Ve[0],Ve[1],Ve[2],Ve[3]*this.opacity),Ve[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var Ze;qe?Ze=qe[Se]:et?Ze=[(et[Se]-pt)/(At-pt),0]:ft?Ze=ft[Pt]:dt?Ze=[(dt[Pt]-pt)/(At-pt),0]:Ze=[(_e[2]-pt)/(At-pt),0],K.push(Ze[0],Ze[1]);var ct;Ce?ct=Ce[Se]:ct=Ue[Pt],Q.push(ct[0],ct[1],ct[2]),ue.push(Pt)}ke+=1;break}}this.pointCount=me,this.edgeCount=we,this.triangleCount=ke,this.pointPositions.update(Ae),this.pointColors.update(Oe),this.pointUVs.update(ze),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(ie),this.edgeColors.update(ce),this.edgeUVs.update(xe),this.edgeIds.update(new Uint32Array(Le)),this.trianglePositions.update(ee),this.triangleColors.update(le),this.triangleUVs.update(K),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(ue))}},G.drawTransparent=G.draw=function(J){J=J||{};for(var Z=this.gl,se=J.model||z,$=J.view||z,ee=J.projection||z,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)le[0][Q]=Math.max(le[0][Q],this.clipBounds[0][Q]),le[1][Q]=Math.min(le[1][Q],this.clipBounds[1][Q]);var K={model:se,view:$,projection:ee,inverseModel:z.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};K.inverseModel=S(K.inverseModel,K.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var ue=new Array(16);f(ue,K.view,K.model),f(ue,K.projection,ue),S(ue,ue);for(var Q=0;Q<3;++Q)K.eyePosition[Q]=ue[12+Q]/ue[15];for(var ie=ue[15],Q=0;Q<3;++Q)ie+=this.lightPosition[Q]*ue[4*Q+3];for(var Q=0;Q<3;++Q){for(var ce=ue[12+Q],xe=0;xe<3;++xe)ce+=ue[4*xe+Q]*this.lightPosition[xe];K.lightPosition[Q]=ce/ie}if(this.triangleCount>0){var Le=this.triShader;Le.bind(),Le.uniforms=K,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Le=this.lineShader;Le.bind(),Le.uniforms=K,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Le=this.pointShader;Le.bind(),Le.uniforms=K,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Le=this.contourShader;Le.bind(),Le.uniforms=K,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},G.drawPick=function(J){J=J||{};for(var Z=this.gl,se=J.model||z,$=J.view||z,ee=J.projection||z,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)le[0][Q]=Math.max(le[0][Q],this.clipBounds[0][Q]),le[1][Q]=Math.min(le[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(se),this._view=[].slice.call($),this._projection=[].slice.call(ee),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var K={model:se,view:$,projection:ee,clipBounds:le,pickId:this.pickId/255},ue=this.pickShader;if(ue.bind(),ue.uniforms=K,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ue=this.pointPickShader;ue.bind(),ue.uniforms=K,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},G.pick=function(J){if(!J||J.id!==this.pickId)return null;for(var Z=J.value[0]+256*J.value[1]+65536*J.value[2],se=this.cells[Z],$=this.positions,ee=new Array(se.length),le=0;le<se.length;++le)ee[le]=$[se[le]];var Q=J.coord[0],K=J.coord[1];if(!this.pickVertex){var ue=this.positions[se[0]],ie=this.positions[se[1]],ce=this.positions[se[2]],xe=[(ue[0]+ie[0]+ce[0])/3,(ue[1]+ie[1]+ce[1])/3,(ue[2]+ie[2]+ce[2])/3];return{_cellCenter:!0,position:[Q,K],index:Z,cell:se,cellId:Z,intensity:this.intensity[Z],dataCoordinate:xe}}var Le=k(ee,[Q*this.pixelRatio,this._resolution[1]-K*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Le)return null;for(var Ae=Le[2],Oe=0,le=0;le<se.length;++le)Oe+=Ae[le]*this.intensity[se[le]];return{position:Le[1],index:se[Le[0]],cell:se,cellId:Z,intensity:Oe,dataCoordinate:this.positions[se[Le[0]]]}},G.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function O(J){var Z=a(J,w.vertex,w.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function H(J){var Z=a(J,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function Y(J){var Z=a(J,b.vertex,b.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function q(J){var Z=a(J,o.vertex,o.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function ne(J){var Z=a(J,P.vertex,P.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function oe(J){var Z=a(J,x.vertex,x.fragment);return Z.attributes.position.location=0,Z}function he(J,Z){arguments.length===1&&(Z=J,J=Z.gl);var se=J.getExtension("OES_standard_derivatives")||J.getExtension("MOZ_OES_standard_derivatives")||J.getExtension("WEBKIT_OES_standard_derivatives");if(!se)throw new Error("derivatives not supported");var $=O(J),ee=H(J),le=Y(J),Q=q(J),K=ne(J),ue=oe(J),ie=s(J,v(new Uint8Array([255,255,255,255]),[1,1,4]));ie.generateMipmap(),ie.minFilter=J.LINEAR_MIPMAP_LINEAR,ie.magFilter=J.LINEAR;var ce=h(J),xe=h(J),Le=h(J),Ae=h(J),Oe=h(J),ze=u(J,[{buffer:ce,type:J.FLOAT,size:3},{buffer:Oe,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:J.FLOAT,size:4},{buffer:Le,type:J.FLOAT,size:2},{buffer:Ae,type:J.FLOAT,size:3}]),Ee=h(J),be=h(J),Ce=h(J),Ue=h(J),He=u(J,[{buffer:Ee,type:J.FLOAT,size:3},{buffer:Ue,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:J.FLOAT,size:4},{buffer:Ce,type:J.FLOAT,size:2}]),Ie=h(J),Ge=h(J),at=h(J),lt=h(J),qe=h(J),et=u(J,[{buffer:Ie,type:J.FLOAT,size:3},{buffer:qe,type:J.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ge,type:J.FLOAT,size:4},{buffer:at,type:J.FLOAT,size:2},{buffer:lt,type:J.FLOAT,size:1}]),ft=h(J),dt=u(J,[{buffer:ft,type:J.FLOAT,size:3}]),pt=new _(J,ie,$,ee,le,Q,K,ue,ce,Oe,xe,Le,Ae,ze,Ee,Ue,be,Ce,He,Ie,qe,Ge,at,lt,et,ft,dt);return pt.update(Z),pt}d.exports=he},4554:function(d,y,r){d.exports=s;var t=r(5827),i=r(5158),a=r(2709);function h(m,f,S){this.plot=m,this.vbo=f,this.shader=S}var u=h.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawBox=function(){var m=[0,0],f=[0,0];return function(S,v,l,g,M){var A=this.plot,k=this.shader,w=A.gl;m[0]=S,m[1]=v,f[0]=l,f[1]=g,k.uniforms.lo=m,k.uniforms.hi=f,k.uniforms.color=M,w.drawArrays(w.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function s(m){var f=m.gl,S=t(f,[0,0,0,1,1,0,1,1]),v=i(f,a.boxVert,a.lineFrag);return new h(m,S,v)}},3016:function(d,y,r){d.exports=f;var t=r(5827),i=r(5158),a=r(5070),h=r(2709);function u(S,v,l,g){this.plot=S,this.vbo=v,this.shader=l,this.tickShader=g,this.ticks=[[],[]]}function s(S,v){return S-v}var m=u.prototype;m.draw=function(){var S=[0,0],v=[0,0],l=[0,0];return function(){for(var g=this.plot,M=this.vbo,A=this.shader,k=this.ticks,w=g.gl,E=g._tickBounds,b=g.dataBox,o=g.viewBox,P=g.gridLineWidth,x=g.gridLineColor,z=g.gridLineEnable,_=g.pixelRatio,G=0;G<2;++G){var F=E[G],N=E[G+2],U=N-F,O=.5*(b[G+2]+b[G]),H=b[G+2]-b[G];v[G]=2*U/H,S[G]=2*(F-O)/H}A.bind(),M.bind(),A.attributes.dataCoord.pointer(),A.uniforms.dataShift=S,A.uniforms.dataScale=v;for(var Y=0,G=0;G<2;++G){l[0]=l[1]=0,l[G]=1,A.uniforms.dataAxis=l,A.uniforms.lineWidth=P[G]/(o[G+2]-o[G])*_,A.uniforms.color=x[G];var q=k[G].length*6;z[G]&&q&&w.drawArrays(w.TRIANGLES,Y,q),Y+=q}}}(),m.drawTickMarks=function(){var S=[0,0],v=[0,0],l=[1,0],g=[0,1],M=[0,0],A=[0,0];return function(){for(var k=this.plot,w=this.vbo,E=this.tickShader,b=this.ticks,o=k.gl,P=k._tickBounds,x=k.dataBox,z=k.viewBox,_=k.pixelRatio,G=k.screenBox,F=G[2]-G[0],N=G[3]-G[1],U=z[2]-z[0],O=z[3]-z[1],H=0;H<2;++H){var Y=P[H],q=P[H+2],ne=q-Y,oe=.5*(x[H+2]+x[H]),he=x[H+2]-x[H];v[H]=2*ne/he,S[H]=2*(Y-oe)/he}v[0]*=U/F,S[0]*=U/F,v[1]*=O/N,S[1]*=O/N,E.bind(),w.bind(),E.attributes.dataCoord.pointer();var J=E.uniforms;J.dataShift=S,J.dataScale=v;var Z=k.tickMarkLength,se=k.tickMarkWidth,$=k.tickMarkColor,ee=0,le=b[0].length*6,Q=Math.min(a.ge(b[0],(x[0]-P[0])/(P[2]-P[0]),s),b[0].length),K=Math.min(a.gt(b[0],(x[2]-P[0])/(P[2]-P[0]),s),b[0].length),ue=ee+6*Q,ie=6*Math.max(0,K-Q),ce=Math.min(a.ge(b[1],(x[1]-P[1])/(P[3]-P[1]),s),b[1].length),xe=Math.min(a.gt(b[1],(x[3]-P[1])/(P[3]-P[1]),s),b[1].length),Le=le+6*ce,Ae=6*Math.max(0,xe-ce);M[0]=2*(z[0]-Z[1])/F-1,M[1]=(z[3]+z[1])/N-1,A[0]=Z[1]*_/F,A[1]=se[1]*_/N,Ae&&(J.color=$[1],J.tickScale=A,J.dataAxis=g,J.screenOffset=M,o.drawArrays(o.TRIANGLES,Le,Ae)),M[0]=(z[2]+z[0])/F-1,M[1]=2*(z[1]-Z[0])/N-1,A[0]=se[0]*_/F,A[1]=Z[0]*_/N,ie&&(J.color=$[0],J.tickScale=A,J.dataAxis=l,J.screenOffset=M,o.drawArrays(o.TRIANGLES,ue,ie)),M[0]=2*(z[2]+Z[3])/F-1,M[1]=(z[3]+z[1])/N-1,A[0]=Z[3]*_/F,A[1]=se[3]*_/N,Ae&&(J.color=$[3],J.tickScale=A,J.dataAxis=g,J.screenOffset=M,o.drawArrays(o.TRIANGLES,Le,Ae)),M[0]=(z[2]+z[0])/F-1,M[1]=2*(z[3]+Z[2])/N-1,A[0]=se[2]*_/F,A[1]=Z[2]*_/N,ie&&(J.color=$[2],J.tickScale=A,J.dataAxis=l,J.screenOffset=M,o.drawArrays(o.TRIANGLES,ue,ie))}}(),m.update=function(){var S=[1,1,-1,-1,1,-1],v=[1,-1,1,1,-1,-1];return function(l){var g=l.ticks,M=l.bounds,A=new Float32Array(6*3*(g[0].length+g[1].length));this.plot.zeroLineEnable;for(var k=0,w=[[],[]],E=0;E<2;++E)for(var b=w[E],o=g[E],P=M[E],x=M[E+2],z=0;z<o.length;++z){var _=(o[z].x-P)/(x-P);b.push(_);for(var G=0;G<6;++G)A[k++]=_,A[k++]=S[G],A[k++]=v[G]}this.ticks=w,this.vbo.update(A)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function f(S){var v=S.gl,l=t(v),g=i(v,h.gridVert,h.gridFrag),M=i(v,h.tickVert,h.gridFrag),A=new u(S,l,g,M);return A}},1154:function(d,y,r){d.exports=s;var t=r(5827),i=r(5158),a=r(2709);function h(m,f,S){this.plot=m,this.vbo=f,this.shader=S}var u=h.prototype;u.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},u.drawLine=function(){var m=[0,0],f=[0,0];return function(S,v,l,g,M,A){var k=this.plot,w=this.shader,E=k.gl;m[0]=S,m[1]=v,f[0]=l,f[1]=g,w.uniforms.start=m,w.uniforms.end=f,w.uniforms.width=M*k.pixelRatio,w.uniforms.color=A,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),u.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function s(m){var f=m.gl,S=t(f,[-1,-1,-1,1,1,-1,1,1]),v=i(f,a.lineVert,a.lineFrag),l=new h(m,S,v);return l}},2709:function(d,y,r){var t=r(6832),i=t([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);d.exports={lineVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:t([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(d,y,r){d.exports=f;var t=r(5827),i=r(5158),a=r(6946),h=r(5070),u=r(2709);function s(S,v,l){this.plot=S,this.vbo=v,this.shader=l,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=s.prototype;m.drawTicks=function(){var S=[0,0],v=[0,0],l=[0,0];return function(g){var M=this.plot,A=this.shader,k=this.tickX[g],w=this.tickOffset[g],E=M.gl,b=M.viewBox,o=M.dataBox,P=M.screenBox,x=M.pixelRatio,z=M.tickEnable,_=M.tickPad,G=M.tickColor,F=M.tickAngle,N=M.labelEnable,U=M.labelPad,O=M.labelColor,H=M.labelAngle,Y=this.labelOffset[g],q=this.labelCount[g],ne=h.lt(k,o[g]),oe=h.le(k,o[g+2]);S[0]=S[1]=0,S[g]=1,v[g]=(b[2+g]+b[g])/(P[2+g]-P[g])-1;var he=2/P[2+(g^1)]-P[g^1];v[g^1]=he*b[g^1]-1,z[g]&&(v[g^1]-=he*x*_[g],ne<oe&&w[oe]>w[ne]&&(A.uniforms.dataAxis=S,A.uniforms.screenOffset=v,A.uniforms.color=G[g],A.uniforms.angle=F[g],E.drawArrays(E.TRIANGLES,w[ne],w[oe]-w[ne]))),N[g]&&q&&(v[g^1]-=he*x*U[g],A.uniforms.dataAxis=l,A.uniforms.screenOffset=v,A.uniforms.color=O[g],A.uniforms.angle=H[g],E.drawArrays(E.TRIANGLES,Y,q)),v[g^1]=he*b[2+(g^1)]-1,z[g+2]&&(v[g^1]+=he*x*_[g+2],ne<oe&&w[oe]>w[ne]&&(A.uniforms.dataAxis=S,A.uniforms.screenOffset=v,A.uniforms.color=G[g+2],A.uniforms.angle=F[g+2],E.drawArrays(E.TRIANGLES,w[ne],w[oe]-w[ne]))),N[g+2]&&q&&(v[g^1]+=he*x*U[g+2],A.uniforms.dataAxis=l,A.uniforms.screenOffset=v,A.uniforms.color=O[g+2],A.uniforms.angle=H[g+2],E.drawArrays(E.TRIANGLES,Y,q))}}(),m.drawTitle=function(){var S=[0,0],v=[0,0];return function(){var l=this.plot,g=this.shader,M=l.gl,A=l.screenBox,k=l.titleCenter,w=l.titleAngle,E=l.titleColor,b=l.pixelRatio;if(this.titleCount){for(var o=0;o<2;++o)v[o]=2*(k[o]*b-A[o])/(A[2+o]-A[o])-1;g.bind(),g.uniforms.dataAxis=S,g.uniforms.screenOffset=v,g.uniforms.angle=w,g.uniforms.color=E,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var S=[0,0],v=[0,0],l=[0,0];return function(){var g=this.plot,M=this.shader,A=g._tickBounds,k=g.dataBox,w=g.screenBox,E=g.viewBox;M.bind();for(var b=0;b<2;++b){var o=A[b],P=A[b+2],x=P-o,z=.5*(k[b+2]+k[b]),_=k[b+2]-k[b],G=E[b],F=E[b+2],N=F-G,U=w[b],O=w[b+2],H=O-U;v[b]=2*x/_*N/H,S[b]=2*(o-z)/_*N/H}l[1]=2*g.pixelRatio/(w[3]-w[1]),l[0]=l[1]*(w[3]-w[1])/(w[2]-w[0]),M.uniforms.dataScale=v,M.uniforms.dataShift=S,M.uniforms.textScale=l,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),m.update=function(S){var v=[],l=S.ticks,g=S.bounds,M,A,k,w,E;for(E=0;E<2;++E){var b=[Math.floor(v.length/3)],o=[-1/0],P=l[E];for(M=0;M<P.length;++M){var x=P[M],z=x.x,_=x.text,G=x.font||"sans-serif";w=x.fontSize||12;for(var F=1/(g[E+2]-g[E]),N=g[E],U=_.split(`
`),O=0;O<U.length;O++)for(k=a(G,U[O]).data,A=0;A<k.length;A+=2)v.push(k[A]*w,-k[A+1]*w-O*w*1.2,(z-N)*F);b.push(Math.floor(v.length/3)),o.push(z)}this.tickOffset[E]=b,this.tickX[E]=o}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(v.length/3),k=a(S.labelFont[E],S.labels[E],{textAlign:"center"}).data,w=S.labelSize[E],M=0;M<k.length;M+=2)v.push(k[M]*w,-k[M+1]*w,0);this.labelCount[E]=Math.floor(v.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(v.length/3),k=a(S.titleFont,S.title).data,w=S.titleSize,M=0;M<k.length;M+=2)v.push(k[M]*w,-k[M+1]*w,0);this.titleCount=Math.floor(v.length/3)-this.titleOffset,this.vbo.update(v)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(S){var v=S.gl,l=t(v),g=i(v,u.textVert,u.textFrag),M=new s(S,l,g);return M}},2117:function(d,y,r){d.exports=v;var t=r(2611),i=r(3016),a=r(5613),h=r(1154),u=r(4554);function s(l,g){this.gl=l,this.pickBuffer=g,this.screenBox=[0,0,l.drawingBufferWidth,l.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=s.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var l=this.gl,g=this.screenBox,M=this.viewBox,A=this.dataBox,k=this.pixelRatio,w=this.grid,E=this.line,b=this.text,o=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,l.bindFramebuffer(l.FRAMEBUFFER,null),l.enable(l.SCISSOR_TEST),l.disable(l.DEPTH_TEST),l.depthFunc(l.LESS),l.depthMask(!1),l.enable(l.BLEND),l.blendEquation(l.FUNC_ADD,l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),this.borderColor){l.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]);var P=this.borderColor;l.clearColor(P[0]*P[3],P[1]*P[3],P[2]*P[3],P[3]),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)}l.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),l.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var x=this.backgroundColor;l.clearColor(x[0]*x[3],x[1]*x[3],x[2]*x[3],x[3]),l.clear(l.COLOR_BUFFER_BIT),w.draw();var z=this.zeroLineEnable,_=this.zeroLineColor,G=this.zeroLineWidth;if(z[0]||z[1]){E.bind();for(var F=0;F<2;++F)if(!(!z[F]||!(A[F]<=0&&A[F+2]>=0))){var N=g[F]-A[F]*(g[F+2]-g[F])/(A[F+2]-A[F]);F===0?E.drawLine(N,g[1],N,g[3],G[F],_[F]):E.drawLine(g[0],N,g[2],N,G[F],_[F])}}for(var F=0;F<o.length;++F)o[F].draw();l.viewport(g[0],g[1],g[2]-g[0],g[3]-g[1]),l.scissor(g[0],g[1],g[2]-g[0],g[3]-g[1]),this.grid.drawTickMarks(),E.bind();var U=this.borderLineEnable,O=this.borderLineWidth,H=this.borderLineColor;U[1]&&E.drawLine(M[0],M[1]-.5*O[1]*k,M[0],M[3]+.5*O[3]*k,O[1],H[1]),U[0]&&E.drawLine(M[0]-.5*O[0]*k,M[1],M[2]+.5*O[2]*k,M[1],O[0],H[0]),U[3]&&E.drawLine(M[2],M[1]-.5*O[1]*k,M[2],M[3]+.5*O[3]*k,O[3],H[3]),U[2]&&E.drawLine(M[0]-.5*O[0]*k,M[3],M[2]+.5*O[2]*k,M[3],O[2],H[2]),b.bind();for(var F=0;F<2;++F)b.drawTicks(F);this.titleEnable&&b.drawTitle();for(var Y=this.overlays,F=0;F<Y.length;++F)Y[F].draw();l.disable(l.SCISSOR_TEST),l.disable(l.BLEND),l.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var l=this.pickBuffer;this.gl,this._pickTimeout=null,l.begin();for(var g=1,M=this.objects,A=0;A<M.length;++A)g=M[A].drawPick(g);l.end()}}}(),m.pick=function(){return function(l,g){if(!this.static){var M=this.pixelRatio,A=this.pickPixelRatio,k=this.viewBox,w=Math.round((l-k[0]/M)*A)|0,E=Math.round((g-k[1]/M)*A)|0,b=this.pickBuffer.query(w,E,this.pickRadius);if(!b)return null;for(var o=b.id+(b.value[0]<<8)+(b.value[1]<<16)+(b.value[2]<<24),P=this.objects,x=0;x<P.length;++x){var z=P[x].pick(w,E,o);if(z)return z}return null}}}();function f(l){for(var g=l.slice(),M=0;M<g.length;++M)g[M]=g[M].slice();return g}function S(l,g){return l.x-g.x}m.setScreenBox=function(l){var g=this.screenBox,M=this.pixelRatio;g[0]=Math.round(l[0]*M)|0,g[1]=Math.round(l[1]*M)|0,g[2]=Math.round(l[2]*M)|0,g[3]=Math.round(l[3]*M)|0,this.setDirty()},m.setDataBox=function(l){var g=this.dataBox,M=g[0]!==l[0]||g[1]!==l[1]||g[2]!==l[2]||g[3]!==l[3];M&&(g[0]=l[0],g[1]=l[1],g[2]=l[2],g[3]=l[3],this.setDirty())},m.setViewBox=function(l){var g=this.pixelRatio,M=this.viewBox;M[0]=Math.round(l[0]*g)|0,M[1]=Math.round(l[1]*g)|0,M[2]=Math.round(l[2]*g)|0,M[3]=Math.round(l[3]*g)|0;var A=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((l[2]-l[0])*A)|0,Math.round((l[3]-l[1])*A)|0],this.setDirty()},m.update=function(l){l=l||{};var g=this.gl;this.pixelRatio=l.pixelRatio||1;var M=this.pixelRatio;this.pickPixelRatio=Math.max(M,1),this.setScreenBox(l.screenBox||[0,0,g.drawingBufferWidth/M,g.drawingBufferHeight/M]),this.screenBox,this.setViewBox(l.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/M,.125*(this.screenBox[3]-this.screenBox[1])/M,.875*(this.screenBox[2]-this.screenBox[0])/M,.875*(this.screenBox[3]-this.screenBox[1])/M]);var A=this.viewBox,k=(A[2]-A[0])/(A[3]-A[1]);this.setDataBox(l.dataBox||[-10,-10/k,10,10/k]),this.borderColor=l.borderColor!==!1?(l.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(l.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(l.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(l.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(l.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(l.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(l.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(l.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(l.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(l.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(l.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(l.titleCenter||[.5*(A[0]+A[2])/M,(A[3]+120)/M]).slice(),this.titleEnable=!("titleEnable"in l)||!!l.titleEnable,this.titleAngle=l.titleAngle||0,this.titleColor=(l.titleColor||[0,0,0,1]).slice(),this.labelPad=(l.labelPad||[15,15,15,15]).slice(),this.labelAngle=(l.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(l.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(l.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(l.tickPad||[15,15,15,15]).slice(),this.tickAngle=(l.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(l.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(l.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(l.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(l.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(l.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var w=l.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var b=0;b<2;++b){var o=w[b].slice(0);o.length!==0&&(o.sort(S),E[b]=Math.min(E[b],o[0].x),E[b+2]=Math.max(E[b+2],o[o.length-1].x))}this.grid.update({bounds:E,ticks:w}),this.text.update({bounds:E,ticks:w,labels:l.labels||["x","y"],labelSize:l.labelSize||[12,12],labelFont:l.labelFont||["sans-serif","sans-serif"],title:l.title||"",titleSize:l.titleSize||18,titleFont:l.titleFont||"sans-serif"}),this.static=!!l.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var l=this.objects.length-1;l>=0;--l)this.objects[l].dispose();this.objects.length=0;for(var l=this.overlays.length-1;l>=0;--l)this.overlays[l].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(l){this.objects.indexOf(l)<0&&(this.objects.push(l),this.setDirty())},m.removeObject=function(l){for(var g=this.objects,M=0;M<g.length;++M)if(g[M]===l){g.splice(M,1),this.setDirty();break}},m.addOverlay=function(l){this.overlays.indexOf(l)<0&&(this.overlays.push(l),this.setOverlayDirty())},m.removeOverlay=function(l){for(var g=this.overlays,M=0;M<g.length;++M)if(g[M]===l){g.splice(M,1),this.setOverlayDirty();break}};function v(l){var g=l.gl,M=t(g,[g.drawingBufferWidth,g.drawingBufferHeight]),A=new s(g,M);return A.grid=i(A),A.text=a(A),A.line=h(A),A.box=u(A),A.update(l),A}},4296:function(d,y,r){d.exports=m;var t=r(8161),i=r(1152),a=r(6145),h=r(6475),u=r(2565),s=r(5233);function m(f,S){f=f||document.body,S=S||{};var v=[.01,1/0];"distanceLimits"in S&&(v[0]=S.distanceLimits[0],v[1]=S.distanceLimits[1]),"zoomMin"in S&&(v[0]=S.zoomMin),"zoomMax"in S&&(v[1]=S.zoomMax);var l=i({center:S.center||[0,0,0],up:S.up||[0,1,0],eye:S.eye||[0,0,10],mode:S.mode||"orbit",distanceLimits:v}),g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,A=f.clientWidth,k=f.clientHeight,w={keyBindingMode:"rotate",enableWheel:!0,view:l,element:f,delay:S.delay||16,rotateSpeed:S.rotateSpeed||1,zoomSpeed:S.zoomSpeed||1,translateSpeed:S.translateSpeed||1,flipX:!!S.flipX,flipY:!!S.flipY,modes:l.modes,_ortho:S._ortho||S.projection&&S.projection.type==="orthographic"||!1,tick:function(){var E=t(),b=this.delay,o=E-2*b;l.idle(E-b),l.recalcMatrix(o),l.flush(E-(100+b*2));for(var P=!0,x=l.computedMatrix,z=0;z<16;++z)P=P&&g[z]===x[z],g[z]=x[z];var _=f.clientWidth===A&&f.clientHeight===k;return A=f.clientWidth,k=f.clientHeight,P?!_:(M=Math.exp(l.computedRadius[0]),!0)},lookAt:function(E,b,o){l.lookAt(l.lastT(),E,b,o)},rotate:function(E,b,o){l.rotate(l.lastT(),E,b,o)},pan:function(E,b,o){l.pan(l.lastT(),E,b,o)},translate:function(E,b,o){l.translate(l.lastT(),E,b,o)}};return Object.defineProperties(w,{matrix:{get:function(){return l.computedMatrix},set:function(E){return l.setMatrix(l.lastT(),E),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(E){var b=l.computedUp.slice(),o=l.computedEye.slice(),P=l.computedCenter.slice();if(l.setMode(E),E==="turntable"){var x=t();l._active.lookAt(x,o,P,b),l._active.lookAt(x+500,o,P,[0,0,1]),l._active.flush(x)}return l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(E){return l.lookAt(l.lastT(),null,E),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(E){return l.lookAt(l.lastT(),E),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(E){return l.lookAt(l.lastT(),null,null,E),l.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(E){return l.setDistance(l.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(v)},set:function(E){return l.setDistanceLimits(E),E},enumerable:!0}}),f.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),w._lastX=-1,w._lastY=-1,w._lastMods={shift:!1,control:!1,alt:!1,meta:!1},w.enableMouseListeners=function(){w.mouseListener=a(f,E),f.addEventListener("touchstart",function(b){var o=u(b.changedTouches[0],f);E(0,o[0],o[1],w._lastMods),E(1,o[0],o[1],w._lastMods)},s?{passive:!0}:!1),f.addEventListener("touchmove",function(b){var o=u(b.changedTouches[0],f);E(1,o[0],o[1],w._lastMods),b.preventDefault()},s?{passive:!1}:!1),f.addEventListener("touchend",function(b){E(0,w._lastX,w._lastY,w._lastMods)},s?{passive:!0}:!1);function E(b,o,P,x){var z=w.keyBindingMode;if(z!==!1){var _=z==="rotate",G=z==="pan",F=z==="zoom",N=!!x.control,U=!!x.alt,O=!!x.shift,H=!!(b&1),Y=!!(b&2),q=!!(b&4),ne=1/f.clientHeight,oe=ne*(o-w._lastX),he=ne*(P-w._lastY),J=w.flipX?1:-1,Z=w.flipY?1:-1,se=Math.PI*w.rotateSpeed,$=t();if(w._lastX!==-1&&w._lastY!==-1&&((_&&H&&!N&&!U&&!O||H&&!N&&!U&&O)&&l.rotate($,J*se*oe,-Z*se*he,0),(G&&H&&!N&&!U&&!O||Y||H&&N&&!U&&!O)&&l.pan($,-w.translateSpeed*oe*M,w.translateSpeed*he*M,0),F&&H&&!N&&!U&&!O||q||H&&!N&&U&&!O)){var ee=-w.zoomSpeed*he/window.innerHeight*($-l.lastT())*100;l.pan($,0,0,M*(Math.exp(ee)-1))}return w._lastX=o,w._lastY=P,w._lastMods=x,!0}}w.wheelListener=h(f,function(b,o){if(w.keyBindingMode!==!1&&w.enableWheel){var P=w.flipX?1:-1,x=w.flipY?1:-1,z=t();if(Math.abs(b)>Math.abs(o))l.rotate(z,0,0,-b*P*Math.PI*w.rotateSpeed/window.innerWidth);else if(!w._ortho){var _=-w.zoomSpeed*x*o/window.innerHeight*(z-l.lastT())/20;l.pan(z,0,0,M*(Math.exp(_)-1))}}},!0)},w.enableMouseListeners(),w}},8245:function(d,y,r){var t=r(6832),i=r(5158),a=t([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),h=t([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);d.exports=function(u){return i(u,a,h,null,[{name:"position",type:"vec2"}])}},1059:function(d,y,r){var t=r(4296),i=r(7453),a=r(2771),h=r(6496),u=r(2611),s=r(4234),m=r(8126),f=r(6145),S=r(1120),v=r(5268),l=r(8245),g=r(2321)({tablet:!0,featureDetect:!0});d.exports={createScene:E,createCamera:t};function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function A(o,P){var x=null;try{x=o.getContext("webgl",P),x||(x=o.getContext("experimental-webgl",P))}catch{return null}return x}function k(o){var P=Math.round(Math.log(Math.abs(o))/Math.log(10));if(P<0){var x=Math.round(Math.pow(10,-P));return Math.ceil(o*x)/x}else if(P>0){var x=Math.round(Math.pow(10,P));return Math.ceil(o/x)*x}return Math.ceil(o)}function w(o){return typeof o=="boolean"?o:!0}function E(o){o=o||{},o.camera=o.camera||{};var P=o.canvas;if(!P)if(P=document.createElement("canvas"),o.container){var x=o.container;x.appendChild(P)}else document.body.appendChild(P);var z=o.gl;if(z||(o.glOptions&&(g=!!o.glOptions.preserveDrawingBuffer),z=A(P,o.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:g})),!z)throw new Error("webgl not supported");var _=o.bounds||[[-10,-10,-10],[10,10,10]],G=new M,F=s(z,z.drawingBufferWidth,z.drawingBufferHeight,{preferFloat:!g}),N=l(z),U=o.cameraObject&&o.cameraObject._ortho===!0||o.camera.projection&&o.camera.projection.type==="orthographic"||!1,O={eye:o.camera.eye||[2,0,0],center:o.camera.center||[0,0,0],up:o.camera.up||[0,1,0],zoomMin:o.camera.zoomMax||.1,zoomMax:o.camera.zoomMin||100,mode:o.camera.mode||"turntable",_ortho:U},H=o.axes||{},Y=i(z,H);Y.enable=!H.disable;var q=o.spikes||{},ne=h(z,q),oe=[],he=[],J=[],Z=[],se=!0,Q=!0,$=new Array(16),ee=new Array(16),le={view:null,projection:$,model:ee,_ortho:!1},Q=!0,K=[z.drawingBufferWidth,z.drawingBufferHeight],ue=o.cameraObject||t(P,O),ie={gl:z,contextLost:!1,pixelRatio:o.pixelRatio||1,canvas:P,selection:G,camera:ue,axes:Y,axesPixels:null,spikes:ne,bounds:_,objects:oe,shape:K,aspect:o.aspectRatio||[1,1,1],pickRadius:o.pickRadius||10,zNear:o.zNear||.01,zFar:o.zFar||1e3,fovy:o.fovy||Math.PI/4,clearColor:o.clearColor||[0,0,0,0],autoResize:w(o.autoResize),autoBounds:w(o.autoBounds),autoScale:!!o.autoScale,autoCenter:w(o.autoCenter),clipToBounds:w(o.clipToBounds),snapToData:!!o.snapToData,onselect:o.onselect||null,onrender:o.onrender||null,onclick:o.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ue){this.aspect[0]=Ue.x,this.aspect[1]=Ue.y,this.aspect[2]=Ue.z,Q=!0},setBounds:function(Ue,He){this.bounds[0][Ue]=He.min,this.bounds[1][Ue]=He.max},setClearColor:function(Ue){this.clearColor=Ue},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ce=[z.drawingBufferWidth/ie.pixelRatio|0,z.drawingBufferHeight/ie.pixelRatio|0];function xe(){if(!ie._stopped&&ie.autoResize){var Ue=P.parentNode,He=1,Ie=1;Ue&&Ue!==document.body?(He=Ue.clientWidth,Ie=Ue.clientHeight):(He=window.innerWidth,Ie=window.innerHeight);var Ge=Math.ceil(He*ie.pixelRatio)|0,at=Math.ceil(Ie*ie.pixelRatio)|0;if(Ge!==P.width||at!==P.height){P.width=Ge,P.height=at;var lt=P.style;lt.position=lt.position||"absolute",lt.left="0px",lt.top="0px",lt.width=He+"px",lt.height=Ie+"px",se=!0}}}ie.autoResize&&xe(),window.addEventListener("resize",xe);function Le(){for(var Ue=oe.length,He=Z.length,Ie=0;Ie<He;++Ie)J[Ie]=0;e:for(var Ie=0;Ie<Ue;++Ie){var Ge=oe[Ie],at=Ge.pickSlots;if(!at){he[Ie]=-1;continue}for(var lt=0;lt<He;++lt)if(J[lt]+at<255){he[Ie]=lt,Ge.setPickBase(J[lt]+1),J[lt]+=at;continue e}var qe=u(z,K);he[Ie]=He,Z.push(qe),J.push(at),Ge.setPickBase(1),He+=1}for(;He>0&&J[He-1]===0;)J.pop(),Z.pop().dispose()}ie.update=function(Ue){ie._stopped||(se=!0,Q=!0)},ie.add=function(Ue){ie._stopped||(Ue.axes=Y,oe.push(Ue),he.push(-1),se=!0,Q=!0,Le())},ie.remove=function(Ue){if(!ie._stopped){var He=oe.indexOf(Ue);He<0||(oe.splice(He,1),he.pop(),se=!0,Q=!0,Le())}},ie.dispose=function(){if(!ie._stopped&&(ie._stopped=!0,window.removeEventListener("resize",xe),P.removeEventListener("webglcontextlost",Ae),ie.mouseListener.enabled=!1,!ie.contextLost)){Y.dispose(),ne.dispose();for(var Ue=0;Ue<oe.length;++Ue)oe[Ue].dispose();F.dispose();for(var Ue=0;Ue<Z.length;++Ue)Z[Ue].dispose();N.dispose(),z=null,Y=null,ne=null,oe=[]}},ie._mouseRotating=!1,ie._prevButtons=0,ie.enableMouseListeners=function(){ie.mouseListener=f(P,function(Ue,He,Ie){if(!ie._stopped){var Ge=Z.length,at=oe.length,lt=G.object;G.distance=1/0,G.mouse[0]=He,G.mouse[1]=Ie,G.object=null,G.screen=null,G.dataCoordinate=G.dataPosition=null;var qe=!1;if(Ue&&ie._prevButtons)ie._mouseRotating=!0;else{ie._mouseRotating&&(Q=!0),ie._mouseRotating=!1;for(var et=0;et<Ge;++et){var ft=Z[et].query(He,ce[1]-Ie-1,ie.pickRadius);if(ft){if(ft.distance>G.distance)continue;for(var dt=0;dt<at;++dt){var pt=oe[dt];if(he[dt]===et){var At=pt.pick(ft);At&&(G.buttons=Ue,G.screen=ft.coord,G.distance=ft.distance,G.object=pt,G.index=At.distance,G.dataPosition=At.position,G.dataCoordinate=At.dataCoordinate,G.data=At,qe=!0)}}}}}lt&&lt!==G.object&&(lt.highlight&&lt.highlight(null),se=!0),G.object&&(G.object.highlight&&G.object.highlight(G.data),se=!0),qe=qe||G.object!==lt,qe&&ie.onselect&&ie.onselect(G),Ue&1&&!(ie._prevButtons&1)&&ie.onclick&&ie.onclick(G),ie._prevButtons=Ue}})};function Ae(){if(ie.contextLost)return!0;z.isContextLost()&&(ie.contextLost=!0,ie.mouseListener.enabled=!1,ie.selection.object=null,ie.oncontextloss&&ie.oncontextloss())}P.addEventListener("webglcontextlost",Ae);function Oe(){if(!Ae()){z.colorMask(!0,!0,!0,!0),z.depthMask(!0),z.disable(z.BLEND),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL);for(var Ue=oe.length,He=Z.length,Ie=0;Ie<He;++Ie){var Ge=Z[Ie];Ge.shape=ce,Ge.begin();for(var at=0;at<Ue;++at)if(he[at]===Ie){var lt=oe[at];lt.drawPick&&(lt.pixelRatio=1,lt.drawPick(le))}Ge.end()}}}var ze=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[ze[0].slice(),ze[1].slice()];function be(){if(!Ae()){xe();var Ue=ie.camera.tick();le.view=ie.camera.matrix,se=se||Ue,Q=Q||Ue,Y.pixelRatio=ie.pixelRatio,ne.pixelRatio=ie.pixelRatio;var He=oe.length,Ie=ze[0],Ge=ze[1];Ie[0]=Ie[1]=Ie[2]=1/0,Ge[0]=Ge[1]=Ge[2]=-1/0;for(var at=0;at<He;++at){var lt=oe[at];lt.pixelRatio=ie.pixelRatio,lt.axes=ie.axes,se=se||!!lt.dirty,Q=Q||!!lt.dirty;var qe=lt.bounds;if(qe)for(var et=qe[0],ft=qe[1],dt=0;dt<3;++dt)Ie[dt]=Math.min(Ie[dt],et[dt]),Ge[dt]=Math.max(Ge[dt],ft[dt])}var pt=ie.bounds;if(ie.autoBounds)for(var dt=0;dt<3;++dt){if(Ge[dt]<Ie[dt])Ie[dt]=-1,Ge[dt]=1;else{Ie[dt]===Ge[dt]&&(Ie[dt]-=1,Ge[dt]+=1);var At=.05*(Ge[dt]-Ie[dt]);Ie[dt]=Ie[dt]-At,Ge[dt]=Ge[dt]+At}pt[0][dt]=Ie[dt],pt[1][dt]=Ge[dt]}for(var Pt=!1,dt=0;dt<3;++dt)Pt=Pt||Ee[0][dt]!==pt[0][dt]||Ee[1][dt]!==pt[1][dt],Ee[0][dt]=pt[0][dt],Ee[1][dt]=pt[1][dt];if(Q=Q||Pt,se=se||Pt,!!se){if(Pt){for(var Ht=[0,0,0],at=0;at<3;++at)Ht[at]=k((pt[1][at]-pt[0][at])/10);Y.autoTicks?Y.update({bounds:pt,tickSpacing:Ht}):Y.update({bounds:pt})}var Je=z.drawingBufferWidth,We=z.drawingBufferHeight;K[0]=Je,K[1]=We,ce[0]=Math.max(Je/ie.pixelRatio,1)|0,ce[1]=Math.max(We/ie.pixelRatio,1)|0,b(ie,U);for(var at=0;at<He;++at){var lt=oe[at];lt.axesBounds=pt,ie.clipToBounds&&(lt.clipBounds=pt)}G.object&&(ie.snapToData?ne.position=G.dataCoordinate:ne.position=G.dataPosition,ne.bounds=pt),Q&&(Q=!1,Oe()),ie.axesPixels=a(ie.axes,le,Je,We),ie.onrender&&ie.onrender(),z.bindFramebuffer(z.FRAMEBUFFER,null),z.viewport(0,0,Je,We),ie.clearRGBA(),z.depthMask(!0),z.colorMask(!0,!0,!0,!0),z.enable(z.DEPTH_TEST),z.depthFunc(z.LEQUAL),z.disable(z.BLEND),z.disable(z.CULL_FACE);var _e=!1;Y.enable&&(_e=_e||Y.isTransparent(),Y.draw(le)),ne.axes=Y,G.object&&ne.draw(le),z.disable(z.CULL_FACE);for(var at=0;at<He;++at){var lt=oe[at];lt.axes=Y,lt.pixelRatio=ie.pixelRatio,lt.isOpaque&&lt.isOpaque()&&lt.draw(le),lt.isTransparent&&lt.isTransparent()&&(_e=!0)}if(_e){F.shape=K,F.bind(),z.clear(z.DEPTH_BUFFER_BIT),z.colorMask(!1,!1,!1,!1),z.depthMask(!0),z.depthFunc(z.LESS),Y.enable&&Y.isTransparent()&&Y.drawTransparent(le);for(var at=0;at<He;++at){var lt=oe[at];lt.isOpaque&&lt.isOpaque()&&lt.draw(le)}z.enable(z.BLEND),z.blendEquation(z.FUNC_ADD),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.colorMask(!0,!0,!0,!0),z.depthMask(!1),z.clearColor(0,0,0,0),z.clear(z.COLOR_BUFFER_BIT),Y.isTransparent()&&Y.drawTransparent(le);for(var at=0;at<He;++at){var lt=oe[at];lt.isTransparent&&lt.isTransparent()&&lt.drawTransparent(le)}z.bindFramebuffer(z.FRAMEBUFFER,null),z.blendFunc(z.ONE,z.ONE_MINUS_SRC_ALPHA),z.disable(z.DEPTH_TEST),N.bind(),F.color[0].bind(0),N.uniforms.accumBuffer=0,m(z),z.disable(z.BLEND)}se=!1;for(var at=0;at<He;++at)oe[at].dirty=!1}}}function Ce(){ie._stopped||ie.contextLost||(be(),requestAnimationFrame(Ce))}return ie.enableMouseListeners(),Ce(),ie.redraw=function(){ie._stopped||(se=!0,be())},ie}function b(o,P){var x=o.bounds,z=o.cameraParams,_=z.projection,G=z.model,F=o.gl.drawingBufferWidth,N=o.gl.drawingBufferHeight,U=o.zNear,O=o.zFar,H=o.fovy,Y=F/N;P?(v(_,-Y,Y,-1,1,U,O),z._ortho=!0):(S(_,H,Y,U,O),z._ortho=!1);for(var q=0;q<16;++q)G[q]=0;G[15]=1;for(var ne=0,q=0;q<3;++q)ne=Math.max(ne,x[1][q]-x[0][q]);for(var q=0;q<3;++q)o.autoScale?G[5*q]=o.aspect[q]/(x[1][q]-x[0][q]):G[5*q]=1/ne,o.autoCenter&&(G[12+q]=-G[5*q]*.5*(x[0][q]+x[1][q]))}},8023:function(d,y,r){var t=r(6832);y.pointVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),y.pointFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),y.pickVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),y.pickFragment=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(d,y,r){var t=r(5158),i=r(5827),a=r(5306),h=r(8023);d.exports=f;function u(S,v,l,g,M){this.plot=S,this.offsetBuffer=v,this.pickBuffer=l,this.shader=g,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var s=u.prototype;s.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},s.update=function(S){var v;S=S||{};function l(b,o){return b in S?S[b]:o}this.sizeMin=l("sizeMin",.5),this.sizeMax=l("sizeMax",20),this.color=l("color",[1,0,0,1]).slice(),this.areaRatio=l("areaRatio",1),this.borderColor=l("borderColor",[0,0,0,1]).slice(),this.blend=l("blend",!1);var g=S.positions.length>>>1,M=S.positions instanceof Float32Array,A=S.idToIndex instanceof Int32Array&&S.idToIndex.length>=g,k=S.positions,w=M?k:a.mallocFloat32(k.length),E=A?S.idToIndex:a.mallocInt32(g);if(M||w.set(k),!A)for(w.set(k),v=0;v<g;v++)E[v]=v;this.points=k,this.offsetBuffer.update(w),this.pickBuffer.update(E),M||a.free(w),A||a.free(E),this.pointCount=g,this.pickOffset=0};function m(S,v){var l=0,g=S.length>>>1,M;for(M=0;M<g;M++){var A=S[M*2],k=S[M*2+1];A>=v[0]&&A<=v[2]&&k>=v[1]&&k<=v[3]&&l++}return l}s.unifiedDraw=function(){var S=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(l){var g=l!==void 0,M=g?this.pickShader:this.shader,A=this.plot.gl,k=this.plot.dataBox;if(this.pointCount===0)return l;var w=k[2]-k[0],E=k[3]-k[1],b=m(this.points,k),o=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(b,.33333)));S[0]=2/w,S[4]=2/E,S[6]=-2*k[0]/w-1,S[7]=-2*k[1]/E-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=S,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=o<5,M.uniforms.pointSize=o,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(v[0]=l&255,v[1]=l>>8&255,v[2]=l>>16&255,v[3]=l>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(A.UNSIGNED_BYTE),M.uniforms.pickOffset=v,this.pickOffset=l);var P=A.getParameter(A.BLEND),x=A.getParameter(A.DITHER);return P&&!this.blend&&A.disable(A.BLEND),x&&A.disable(A.DITHER),A.drawArrays(A.POINTS,0,this.pointCount),P&&!this.blend&&A.enable(A.BLEND),x&&A.enable(A.DITHER),l+this.pointCount}}(),s.draw=s.unifiedDraw,s.drawPick=s.unifiedDraw,s.pick=function(S,v,l){var g=this.pickOffset,M=this.pointCount;if(l<g||l>=g+M)return null;var A=l-g,k=this.points;return{object:this,pointId:A,dataCoord:[k[2*A],k[2*A+1]]}};function f(S,v){var l=S.gl,g=i(l),M=i(l),A=t(l,h.pointVertex,h.pointFragment),k=t(l,h.pickVertex,h.pickFragment),w=new u(S,g,M,A,k);return w.update(v),S.addObject(w),w}},6093:function(d){d.exports=y;function y(r,t,i,a){var h=t[0],u=t[1],s=t[2],m=t[3],f=i[0],S=i[1],v=i[2],l=i[3],g,M,A,k,w;return M=h*f+u*S+s*v+m*l,M<0&&(M=-M,f=-f,S=-S,v=-v,l=-l),1-M>1e-6?(g=Math.acos(M),A=Math.sin(g),k=Math.sin((1-a)*g)/A,w=Math.sin(a*g)/A):(k=1-a,w=a),r[0]=k*h+w*f,r[1]=k*u+w*S,r[2]=k*s+w*v,r[3]=k*m+w*l,r}},8240:function(d){d.exports=function(y){return!y&&y!==0?"":y.toString()}},4123:function(d,y,r){var t=r(875);d.exports=a;var i={};function a(h,u,s){var m=i[u];if(m||(m=i[u]={}),h in m)return m[h];var f={textAlign:"center",textBaseline:"middle",lineHeight:1,font:u,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};f.triangles=!0;var S=t(h,f);f.triangles=!1;var v=t(h,f),l,g;if(s&&s!==1){for(l=0;l<S.positions.length;++l)for(g=0;g<S.positions[l].length;++g)S.positions[l][g]/=s;for(l=0;l<v.positions.length;++l)for(g=0;g<v.positions[l].length;++g)v.positions[l][g]/=s}var M=[[1/0,1/0],[-1/0,-1/0]],A=v.positions.length;for(l=0;l<A;++l){var k=v.positions[l];for(g=0;g<2;++g)M[0][g]=Math.min(M[0][g],k[g]),M[1][g]=Math.max(M[1][g],k[g])}return m[h]=[S,v,M]}},9282:function(d,y,r){var t=r(5158),i=r(6832),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),h=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],S={vertex:a,fragment:s,attributes:f},v={vertex:h,fragment:s,attributes:f},l={vertex:u,fragment:s,attributes:f},g={vertex:a,fragment:m,attributes:f},M={vertex:h,fragment:m,attributes:f},A={vertex:u,fragment:m,attributes:f};function k(w,E){var b=t(w,E),o=b.attributes;return o.position.location=0,o.color.location=1,o.glyph.location=2,o.id.location=3,b}y.createPerspective=function(w){return k(w,S)},y.createOrtho=function(w){return k(w,v)},y.createProject=function(w){return k(w,l)},y.createPickPerspective=function(w){return k(w,g)},y.createPickOrtho=function(w){return k(w,M)},y.createPickProject=function(w){return k(w,A)}},2182:function(d,y,r){var t=r(3596),i=r(5827),a=r(2944),h=r(5306),u=r(104),s=r(9282),m=r(4123),f=r(8240),S=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];d.exports=he;function v(J,Z){var se=J[0],$=J[1],ee=J[2],le=J[3];return J[0]=Z[0]*se+Z[4]*$+Z[8]*ee+Z[12]*le,J[1]=Z[1]*se+Z[5]*$+Z[9]*ee+Z[13]*le,J[2]=Z[2]*se+Z[6]*$+Z[10]*ee+Z[14]*le,J[3]=Z[3]*se+Z[7]*$+Z[11]*ee+Z[15]*le,J}function l(J,Z,se,$){return v($,$),v($,$),v($,$)}function g(J,Z){this.index=J,this.dataCoordinate=this.position=Z}function M(J){return J===!0||J>1?1:J}function A(J,Z,se,$,ee,le,Q,K,ue,ie,ce,xe){this.gl=J,this.pixelRatio=1,this.shader=Z,this.orthoShader=se,this.projectShader=$,this.pointBuffer=ee,this.colorBuffer=le,this.glyphBuffer=Q,this.idBuffer=K,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ie,this.pickOrthoShader=ce,this.pickProjectShader=xe,this.points=[],this._selectResult=new g(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var k=A.prototype;k.pickSlots=1,k.setPickBase=function(J){this.pickId=J},k.isTransparent=function(){if(this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&this.projectHasAlpha)return!0;return!1},k.isOpaque=function(){if(!this.hasAlpha)return!0;for(var J=0;J<3;++J)if(this.axesProject[J]&&!this.projectHasAlpha)return!0;return!1};var w=[0,0],E=[0,0,0],b=[0,0,0],o=[0,0,0,1],P=[0,0,0,1],x=S.slice(),z=[0,0,0],_=[[0,0,0],[0,0,0]];function G(J){return J[0]=J[1]=J[2]=0,J}function F(J,Z){return J[0]=Z[0],J[1]=Z[1],J[2]=Z[2],J[3]=1,J}function N(J,Z,se,$){return J[0]=Z[0],J[1]=Z[1],J[2]=Z[2],J[se]=$,J}function U(J){for(var Z=_,se=0;se<2;++se)for(var $=0;$<3;++$)Z[se][$]=Math.max(Math.min(J[se][$],1e8),-1e8);return Z}function O(J,Z,se,$){var ee=Z.axesProject,le=Z.gl,Q=J.uniforms,K=se.model||S,ue=se.view||S,ie=se.projection||S,ce=Z.axesBounds,xe=U(Z.clipBounds),Le;Z.axes&&Z.axes.lastCubeProps?Le=Z.axes.lastCubeProps.axis:Le=[1,1,1],w[0]=2/le.drawingBufferWidth,w[1]=2/le.drawingBufferHeight,J.bind(),Q.view=ue,Q.projection=ie,Q.screenSize=w,Q.highlightId=Z.highlightId,Q.highlightScale=Z.highlightScale,Q.clipBounds=xe,Q.pickGroup=Z.pickId/255,Q.pixelRatio=$;for(var Ae=0;Ae<3;++Ae)if(ee[Ae]){Q.scale=Z.projectScale[Ae],Q.opacity=Z.projectOpacity[Ae];for(var Oe=x,ze=0;ze<16;++ze)Oe[ze]=0;for(var ze=0;ze<4;++ze)Oe[5*ze]=1;Oe[5*Ae]=0,Le[Ae]<0?Oe[12+Ae]=ce[0][Ae]:Oe[12+Ae]=ce[1][Ae],u(Oe,K,Oe),Q.model=Oe;var Ee=(Ae+1)%3,be=(Ae+2)%3,Ce=G(E),Ue=G(b);Ce[Ee]=1,Ue[be]=1;var He=l(ie,ue,K,F(o,Ce)),Ie=l(ie,ue,K,F(P,Ue));if(Math.abs(He[1])>Math.abs(Ie[1])){var Ge=He;He=Ie,Ie=Ge,Ge=Ce,Ce=Ue,Ue=Ge;var at=Ee;Ee=be,be=at}He[0]<0&&(Ce[Ee]=-1),Ie[1]>0&&(Ue[be]=-1);for(var lt=0,qe=0,ze=0;ze<4;++ze)lt+=Math.pow(K[4*Ee+ze],2),qe+=Math.pow(K[4*be+ze],2);Ce[Ee]/=Math.sqrt(lt),Ue[be]/=Math.sqrt(qe),Q.axes[0]=Ce,Q.axes[1]=Ue,Q.fragClipBounds[0]=N(z,xe[0],Ae,-1e8),Q.fragClipBounds[1]=N(z,xe[1],Ae,1e8),Z.vao.bind(),Z.vao.draw(le.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(le.lineWidth(Z.lineWidth*$),Z.vao.draw(le.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var H=[-1e8,-1e8,-1e8],Y=[1e8,1e8,1e8],q=[H,Y];function ne(J,Z,se,$,ee,le,Q){var K=se.gl;if((le===se.projectHasAlpha||Q)&&O(Z,se,$,ee),le===se.hasAlpha||Q){J.bind();var ue=J.uniforms;ue.model=$.model||S,ue.view=$.view||S,ue.projection=$.projection||S,w[0]=2/K.drawingBufferWidth,w[1]=2/K.drawingBufferHeight,ue.screenSize=w,ue.highlightId=se.highlightId,ue.highlightScale=se.highlightScale,ue.fragClipBounds=q,ue.clipBounds=se.axes.bounds,ue.opacity=se.opacity,ue.pickGroup=se.pickId/255,ue.pixelRatio=ee,se.vao.bind(),se.vao.draw(K.TRIANGLES,se.vertexCount),se.lineWidth>0&&(K.lineWidth(se.lineWidth*ee),se.vao.draw(K.LINES,se.lineVertexCount,se.vertexCount)),se.vao.unbind()}}k.draw=function(J){var Z=this.useOrtho?this.orthoShader:this.shader;ne(Z,this.projectShader,this,J,this.pixelRatio,!1,!1)},k.drawTransparent=function(J){var Z=this.useOrtho?this.orthoShader:this.shader;ne(Z,this.projectShader,this,J,this.pixelRatio,!0,!1)},k.drawPick=function(J){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ne(Z,this.pickProjectShader,this,J,1,!0,!0)},k.pick=function(J){if(!J||J.id!==this.pickId)return null;var Z=J.value[2]+(J.value[1]<<8)+(J.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var se=this.points[Z],$=this._selectResult;$.index=Z;for(var ee=0;ee<3;++ee)$.position[ee]=$.dataCoordinate[ee]=se[ee];return $},k.highlight=function(J){if(!J)this.highlightId=[1,1,1,1];else{var Z=J.index,se=Z&255,$=Z>>8&255,ee=Z>>16&255;this.highlightId=[se/255,$/255,ee/255,0]}};function oe(J,Z,se,$){var ee;Array.isArray(J)?Z<J.length?ee=J[Z]:ee=void 0:ee=J,ee=f(ee);var le=!0;t(ee)&&(ee="",le=!1);var Q=m(ee,se,$);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:le}}k.update=function(J){if(J=J||{},"perspective"in J&&(this.useOrtho=!J.perspective),"orthographic"in J&&(this.useOrtho=!!J.orthographic),"lineWidth"in J&&(this.lineWidth=J.lineWidth),"project"in J)if(Array.isArray(J.project))this.axesProject=J.project;else{var Z=!!J.project;this.axesProject=[Z,Z,Z]}if("projectScale"in J)if(Array.isArray(J.projectScale))this.projectScale=J.projectScale.slice();else{var se=+J.projectScale;this.projectScale=[se,se,se]}if(this.projectHasAlpha=!1,"projectOpacity"in J){if(Array.isArray(J.projectOpacity))this.projectOpacity=J.projectOpacity.slice();else{var se=+J.projectOpacity;this.projectOpacity=[se,se,se]}for(var $=0;$<3;++$)this.projectOpacity[$]=M(this.projectOpacity[$]),this.projectOpacity[$]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in J&&(this.opacity=M(J.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var ee=J.position,le=J.font||"normal",Q=J.alignment||[0,0],K,ue;if(Q.length===2)K=Q[0],ue=Q[1];else{K=[],ue=[];for(var $=0;$<Q.length;++$)K[$]=Q[$][0],ue[$]=Q[$][1]}var ie=[1/0,1/0,1/0],ce=[-1/0,-1/0,-1/0],xe=J.glyph,Le=J.color,Ae=J.size,Oe=J.angle,ze=J.lineColor,Ee=-1,be=0,Ce=0,Ue=0;if(ee.length){Ue=ee.length;e:for(var $=0;$<Ue;++$){for(var He=ee[$],Ie=0;Ie<3;++Ie)if(isNaN(He[Ie])||!isFinite(He[Ie]))continue e;var Ge=oe(xe,$,le,this.pixelRatio),at=Ge.mesh,lt=Ge.lines,qe=Ge.bounds;be+=at.cells.length*3,Ce+=lt.edges.length*2}}var et=be+Ce,ft=h.mallocFloat(3*et),dt=h.mallocFloat(4*et),pt=h.mallocFloat(2*et),At=h.mallocUint32(et);if(et>0){var Pt=0,Ht=be,Je=[0,0,0,1],We=[0,0,0,1],_e=Array.isArray(Le)&&Array.isArray(Le[0]),Ne=Array.isArray(ze)&&Array.isArray(ze[0]);e:for(var $=0;$<Ue;++$){Ee+=1;for(var He=ee[$],Ie=0;Ie<3;++Ie){if(isNaN(He[Ie])||!isFinite(He[Ie]))continue e;ce[Ie]=Math.max(ce[Ie],He[Ie]),ie[Ie]=Math.min(ie[Ie],He[Ie])}var Ge=oe(xe,$,le,this.pixelRatio),at=Ge.mesh,lt=Ge.lines,qe=Ge.bounds,ke=Ge.visible;if(!ke)Je=[1,1,1,0];else if(Array.isArray(Le)){var we;if(_e?$<Le.length?we=Le[$]:we=[0,0,0,0]:we=Le,we.length===3){for(var Ie=0;Ie<3;++Ie)Je[Ie]=we[Ie];Je[3]=1}else if(we.length===4){for(var Ie=0;Ie<4;++Ie)Je[Ie]=we[Ie];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;if(!ke)We=[1,1,1,0];else if(Array.isArray(ze)){var we;if(Ne?$<ze.length?we=ze[$]:we=[0,0,0,0]:we=ze,we.length===3){for(var Ie=0;Ie<3;++Ie)We[Ie]=we[Ie];We[Ie]=1}else if(we.length===4){for(var Ie=0;Ie<4;++Ie)We[Ie]=we[Ie];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else We[0]=We[1]=We[2]=0,We[3]=1;var me=.5;ke?Array.isArray(Ae)?$<Ae.length?me=+Ae[$]:me=12:Ae?me=+Ae:this.useOrtho&&(me=12):me=0;var Me=0;Array.isArray(Oe)?$<Oe.length?Me=+Oe[$]:Me=0:Oe&&(Me=+Oe);for(var Se=Math.cos(Me),Ve=Math.sin(Me),He=ee[$],Ie=0;Ie<3;++Ie)ce[Ie]=Math.max(ce[Ie],He[Ie]),ie[Ie]=Math.min(ie[Ie],He[Ie]);var Ze=K,tt=ue,Ze=0;Array.isArray(K)?$<K.length?Ze=K[$]:Ze=0:K&&(Ze=K);var tt=0;Array.isArray(ue)?$<ue.length?tt=ue[$]:tt=0:ue&&(tt=ue),Ze*=Ze>0?1-qe[0][0]:Ze<0?1+qe[1][0]:1,tt*=tt>0?1-qe[0][1]:tt<0?1+qe[1][1]:1;for(var ct=[Ze,tt],zt=at.cells||[],qt=at.positions||[],Ie=0;Ie<zt.length;++Ie)for(var gt=zt[Ie],jt=0;jt<3;++jt){for(var Kt=0;Kt<3;++Kt)ft[3*Pt+Kt]=He[Kt];for(var Kt=0;Kt<4;++Kt)dt[4*Pt+Kt]=Je[Kt];At[Pt]=Ee;var Tt=qt[gt[jt]];pt[2*Pt]=me*(Se*Tt[0]-Ve*Tt[1]+ct[0]),pt[2*Pt+1]=me*(Ve*Tt[0]+Se*Tt[1]+ct[1]),Pt+=1}for(var zt=lt.edges,qt=lt.positions,Ie=0;Ie<zt.length;++Ie)for(var gt=zt[Ie],jt=0;jt<2;++jt){for(var Kt=0;Kt<3;++Kt)ft[3*Ht+Kt]=He[Kt];for(var Kt=0;Kt<4;++Kt)dt[4*Ht+Kt]=We[Kt];At[Ht]=Ee;var Tt=qt[gt[jt]];pt[2*Ht]=me*(Se*Tt[0]-Ve*Tt[1]+ct[0]),pt[2*Ht+1]=me*(Ve*Tt[0]+Se*Tt[1]+ct[1]),Ht+=1}}}this.bounds=[ie,ce],this.points=ee,this.pointCount=ee.length,this.vertexCount=be,this.lineVertexCount=Ce,this.pointBuffer.update(ft),this.colorBuffer.update(dt),this.glyphBuffer.update(pt),this.idBuffer.update(At),h.free(ft),h.free(dt),h.free(pt),h.free(At)},k.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function he(J){var Z=J.gl,se=s.createPerspective(Z),$=s.createOrtho(Z),ee=s.createProject(Z),le=s.createPickPerspective(Z),Q=s.createPickOrtho(Z),K=s.createPickProject(Z),ue=i(Z),ie=i(Z),ce=i(Z),xe=i(Z),Le=a(Z,[{buffer:ue,size:3,type:Z.FLOAT},{buffer:ie,size:4,type:Z.FLOAT},{buffer:ce,size:2,type:Z.FLOAT},{buffer:xe,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),Ae=new A(Z,se,$,ee,ue,ie,ce,xe,Le,le,Q,K);return Ae.update(J),Ae}},1884:function(d,y,r){var t=r(6832);y.boxVertex=t([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),y.boxFragment=t([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(d,y,r){var t=r(5158),i=r(5827),a=r(1884);d.exports=s;function h(m,f,S){this.plot=m,this.boxBuffer=f,this.boxShader=S,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var u=h.prototype;u.draw=function(){if(this.enabled){var m=this.plot,f=this.selectBox,S=this.borderWidth;this.innerFill;var v=this.innerColor;this.outerFill;var l=this.outerColor,g=this.borderColor,M=m.box,A=m.screenBox,k=m.dataBox,w=m.viewBox,E=m.pixelRatio,b=(f[0]-k[0])*(w[2]-w[0])/(k[2]-k[0])+w[0],o=(f[1]-k[1])*(w[3]-w[1])/(k[3]-k[1])+w[1],P=(f[2]-k[0])*(w[2]-w[0])/(k[2]-k[0])+w[0],x=(f[3]-k[1])*(w[3]-w[1])/(k[3]-k[1])+w[1];if(b=Math.max(b,w[0]),o=Math.max(o,w[1]),P=Math.min(P,w[2]),x=Math.min(x,w[3]),!(P<b||x<o)){M.bind();var z=A[2]-A[0],_=A[3]-A[1];if(this.outerFill&&(M.drawBox(0,0,z,o,l),M.drawBox(0,o,b,x,l),M.drawBox(0,x,z,_,l),M.drawBox(P,o,z,x,l)),this.innerFill&&M.drawBox(b,o,P,x,v),S>0){var G=S*E;M.drawBox(b-G,o-G,P+G,o+G,g),M.drawBox(b-G,x-G,P+G,x+G,g),M.drawBox(b-G,o-G,b+G,x+G,g),M.drawBox(P-G,o-G,P+G,x+G,g)}}}},u.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},u.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function s(m,f){var S=m.gl,v=i(S,[0,0,0,1,1,0,1,1]),l=t(S,a.boxVertex,a.boxFragment),g=new h(m,v,l);return g.update(f),m.addOverlay(g),g}},2611:function(d,y,r){d.exports=S;var t=r(4234),i=r(5306),a=r(5050),h=r(2288).nextPow2,u=function(v,l,g){for(var M=1e8,A=-1,k=-1,w=v.shape[0],E=v.shape[1],b=0;b<w;b++)for(var o=0;o<E;o++){var P=v.get(b,o,0),x=v.get(b,o,1),z=v.get(b,o,2),_=v.get(b,o,3);if(P<255||x<255||z<255||_<255){var G=l-b,F=g-o,N=G*G+F*F;N<M&&(M=N,A=b,k=o)}}return[A,k,M]};function s(v,l,g,M,A){this.coord=[v,l],this.id=g,this.value=M,this.distance=A}function m(v,l,g){this.gl=v,this.fbo=l,this.buffer=g,this._readTimeout=null;var M=this;this._readCallback=function(){M.gl&&(l.bind(),v.readPixels(0,0,l.shape[0],l.shape[1],v.RGBA,v.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var f=m.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(v){if(this.gl){this.fbo.shape=v;var l=this.fbo.shape[0],g=this.fbo.shape[1];if(g*l*4>this.buffer.length){i.free(this.buffer);for(var M=this.buffer=i.mallocUint8(h(g*l*4)),A=0;A<g*l*4;++A)M[A]=255}return v}}}),f.begin=function(){var v=this.gl;this.shape,v&&(this.fbo.bind(),v.clearColor(1,1,1,1),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT))},f.end=function(){var v=this.gl;v&&(v.bindFramebuffer(v.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(v,l,g){if(!this.gl)return null;var M=this.fbo.shape.slice();v=v|0,l=l|0,typeof g!="number"&&(g=1);var A=Math.min(Math.max(v-g,0),M[0])|0,k=Math.min(Math.max(v+g,0),M[0])|0,w=Math.min(Math.max(l-g,0),M[1])|0,E=Math.min(Math.max(l+g,0),M[1])|0;if(k<=A||E<=w)return null;var b=[k-A,E-w],o=a(this.buffer,[b[0],b[1],4],[4,M[0]*4,1],4*(A+M[0]*w)),P=u(o.hi(b[0],b[1],1),g,g),x=P[0],z=P[1];if(x<0||Math.pow(this.radius,2)<P[2])return null;var _=o.get(x,z,0),G=o.get(x,z,1),F=o.get(x,z,2),N=o.get(x,z,3);return new s(x+A|0,z+w|0,_,[G,F,N],Math.sqrt(P[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function S(v,l){var g=l[0],M=l[1],A={},k=t(v,g,M,A),w=i.mallocUint8(g*M*4);return new m(v,k,w)}},5158:function(d,y,r){var t=r(9016),i=r(4280),a=r(3984),h=r(1628),u=r(2631),s=r(9068);function m(l){this.gl=l,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=m.prototype;f.bind=function(){this.program||this._relink();var l,g=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(g>M)for(l=M;l<g;l++)this.gl.enableVertexAttribArray(l);else if(M>g)for(l=g;l<M;l++)this.gl.disableVertexAttribArray(l);this.gl.lastAttribCount=g,this.gl.useProgram(this.program)},f.dispose=function(){for(var l=this.gl.lastAttribCount,g=0;g<l;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function S(l,g){return l.name<g.name?-1:1}f.update=function(l,g,M,A){if(!g||arguments.length===1){var k=l;l=k.vertex,g=k.fragment,M=k.uniforms,A=k.attributes}var w=this,E=w.gl,b=w._vref;w._vref=h.shader(E,E.VERTEX_SHADER,l),b&&b.dispose(),w.vertShader=w._vref.shader;var o=this._fref;if(w._fref=h.shader(E,E.FRAGMENT_SHADER,g),o&&o.dispose(),w.fragShader=w._fref.shader,!M||!A){var P=E.createProgram();if(E.attachShader(P,w.fragShader),E.attachShader(P,w.vertShader),E.linkProgram(P),!E.getProgramParameter(P,E.LINK_STATUS)){var x=E.getProgramInfoLog(P);throw new s(x,"Error linking program:"+x)}M=M||u.uniforms(E,P),A=A||u.attributes(E,P),E.deleteProgram(P)}A=A.slice(),A.sort(S);var z=[],_=[],G=[],F;for(F=0;F<A.length;++F){var N=A[F];if(N.type.indexOf("mat")>=0){for(var U=N.type.charAt(N.type.length-1)|0,O=new Array(U),H=0;H<U;++H)O[H]=G.length,_.push(N.name+"["+H+"]"),typeof N.location=="number"?G.push(N.location+H):Array.isArray(N.location)&&N.location.length===U&&typeof N.location[H]=="number"?G.push(N.location[H]|0):G.push(-1);z.push({name:N.name,type:N.type,locations:O})}else z.push({name:N.name,type:N.type,locations:[G.length]}),_.push(N.name),typeof N.location=="number"?G.push(N.location|0):G.push(-1)}var Y=0;for(F=0;F<G.length;++F)if(G[F]<0){for(;G.indexOf(Y)>=0;)Y+=1;G[F]=Y}var q=new Array(M.length);function ne(){w.program=h.program(E,w._vref,w._fref,_,G);for(var oe=0;oe<M.length;++oe)q[oe]=E.getUniformLocation(w.program,M[oe].name)}ne(),w._relink=ne,w.types={uniforms:a(M),attributes:a(A)},w.attributes=i(E,w,z,G),Object.defineProperty(w,"uniforms",t(E,w,M,q))};function v(l,g,M,A,k){var w=new m(l);return w.update(g,M,A,k),w}d.exports=v},9068:function(d){function y(r,t,i){this.shortMessage=t||"",this.longMessage=i||"",this.rawError=r||"",this.message="gl-shader: "+(t||r||"")+(i?`
`+i:""),this.stack=new Error().stack}y.prototype=new Error,y.prototype.name="GLError",y.prototype.constructor=y,d.exports=y},4280:function(d,y,r){d.exports=m;var t=r(9068);function i(f,S,v,l,g,M){this._gl=f,this._wrapper=S,this._index=v,this._locations=l,this._dimension=g,this._constFunc=M}var a=i.prototype;a.pointer=function(S,v,l,g){var M=this,A=M._gl,k=M._locations[M._index];A.vertexAttribPointer(k,M._dimension,S||A.FLOAT,!!v,l||0,g||0),A.enableVertexAttribArray(k)},a.set=function(f,S,v,l){return this._constFunc(this._locations[this._index],f,S,v,l)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(f){return f!==this._locations[this._index]&&(this._locations[this._index]=f|0,this._wrapper.program=null),f|0}});var h=[function(f,S,v){return v.length===void 0?f.vertexAttrib1f(S,v):f.vertexAttrib1fv(S,v)},function(f,S,v,l){return v.length===void 0?f.vertexAttrib2f(S,v,l):f.vertexAttrib2fv(S,v)},function(f,S,v,l,g){return v.length===void 0?f.vertexAttrib3f(S,v,l,g):f.vertexAttrib3fv(S,v)},function(f,S,v,l,g,M){return v.length===void 0?f.vertexAttrib4f(S,v,l,g,M):f.vertexAttrib4fv(S,v)}];function u(f,S,v,l,g,M,A){var k=h[g],w=new i(f,S,v,l,g,k);Object.defineProperty(M,A,{set:function(E){return f.disableVertexAttribArray(l[v]),k(f,l[v],E),E},get:function(){return w},enumerable:!0})}function s(f,S,v,l,g,M,A){for(var k=new Array(g),w=new Array(g),E=0;E<g;++E)u(f,S,v[E],l,g,k,E),w[E]=k[E];Object.defineProperty(k,"location",{set:function(P){if(Array.isArray(P))for(var x=0;x<g;++x)w[x].location=P[x];else for(var x=0;x<g;++x)w[x].location=P+x;return P},get:function(){for(var P=new Array(g),x=0;x<g;++x)P[x]=l[v[x]];return P},enumerable:!0}),k.pointer=function(P,x,z,_){P=P||f.FLOAT,x=!!x,z=z||g*g,_=_||0;for(var G=0;G<g;++G){var F=l[v[G]];f.vertexAttribPointer(F,g,P,x,z,_+G*g),f.enableVertexAttribArray(F)}};var b=new Array(g),o=f["vertexAttrib"+g+"fv"];Object.defineProperty(M,A,{set:function(P){for(var x=0;x<g;++x){var z=l[v[x]];if(f.disableVertexAttribArray(z),Array.isArray(P[0]))o.call(f,z,P[x]);else{for(var _=0;_<g;++_)b[_]=P[g*x+_];o.call(f,z,b)}}return P},get:function(){return k},enumerable:!0})}function m(f,S,v,l){for(var g={},M=0,A=v.length;M<A;++M){var k=v[M],w=k.name,E=k.type,b=k.locations;switch(E){case"bool":case"int":case"float":u(f,S,b[0],l,1,g,w);break;default:if(E.indexOf("vec")>=0){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+w+": "+E);u(f,S,b[0],l,o,g,w)}else if(E.indexOf("mat")>=0){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new t("","Invalid data type for attribute "+w+": "+E);s(f,S,b,l,o,g,w)}else throw new t("","Unknown data type for attribute "+w+": "+E);break}}return g}},9016:function(d,y,r){var t=r(3984),i=r(9068);d.exports=u;function a(s){return function(){return s}}function h(s,m){for(var f=new Array(s),S=0;S<s;++S)f[S]=m;return f}function u(s,m,f,S){function v(E){return function(b,o,P){return b.getUniform(o.program,P[E])}}function l(E){return function(o){for(var P=g("",E),x=0;x<P.length;++x){var z=P[x],_=z[0],G=z[1];if(S[G]){var F=o;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var N=_;if(_.indexOf(".")===0&&(N=_.slice(1)),N.indexOf("]")===N.length-1){var U=N.indexOf("["),O=N.slice(0,U),H=N.slice(U+1,N.length-1);F=O?o[O][H]:o[H]}else F=o[N]}var Y=f[G].type,q;switch(Y){case"bool":case"int":case"sampler2D":case"samplerCube":s.uniform1i(S[G],F);break;case"float":s.uniform1f(S[G],F);break;default:var ne=Y.indexOf("vec");if(0<=ne&&ne<=1&&Y.length===4+ne){if(q=Y.charCodeAt(Y.length-1)-48,q<2||q>4)throw new i("","Invalid data type");switch(Y.charAt(0)){case"b":case"i":s["uniform"+q+"iv"](S[G],F);break;case"v":s["uniform"+q+"fv"](S[G],F);break;default:throw new i("","Unrecognized data type for vector "+name+": "+Y)}}else if(Y.indexOf("mat")===0&&Y.length===4){if(q=Y.charCodeAt(Y.length-1)-48,q<2||q>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+Y);s["uniformMatrix"+q+"fv"](S[G],!1,F);break}else throw new i("","Unknown uniform data type for "+name+": "+Y)}}}}}function g(E,b){if(typeof b!="object")return[[E,b]];var o=[];for(var P in b){var x=b[P],z=E;parseInt(P)+""===P?z+="["+P+"]":z+="."+P,typeof x=="object"?o.push.apply(o,g(z,x)):o.push([z,x])}return o}function M(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var b=E.indexOf("vec");if(0<=b&&b<=1&&E.length===4+b){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new i("","Invalid data type");return E.charAt(0)==="b"?h(o,!1):h(o,0)}else if(E.indexOf("mat")===0&&E.length===4){var o=E.charCodeAt(E.length-1)-48;if(o<2||o>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+E);return h(o*o,0)}else throw new i("","Unknown uniform data type for "+name+": "+E)}}function A(E,b,o){if(typeof o=="object"){var P=k(o);Object.defineProperty(E,b,{get:a(P),set:l(o),enumerable:!0,configurable:!1})}else S[o]?Object.defineProperty(E,b,{get:v(o),set:l(o),enumerable:!0,configurable:!1}):E[b]=M(f[o].type)}function k(E){var b;if(Array.isArray(E)){b=new Array(E.length);for(var o=0;o<E.length;++o)A(b,o,E[o])}else{b={};for(var P in E)A(b,P,E[P])}return b}var w=t(f,!0);return{get:a(k(w)),set:l(w),enumerable:!0,configurable:!0}}},3984:function(d){d.exports=y;function y(r,t){for(var i={},a=0;a<r.length;++a)for(var h=r[a].name,u=h.split("."),s=i,m=0;m<u.length;++m){var f=u[m].split("[");if(f.length>1){f[0]in s||(s[f[0]]=[]),s=s[f[0]];for(var S=1;S<f.length;++S){var v=parseInt(f[S]);S<f.length-1||m<u.length-1?(v in s||(S<f.length-1?s[v]=[]:s[v]={}),s=s[v]):t?s[v]=a:s[v]=r[a].type}}else m<u.length-1?(f[0]in s||(s[f[0]]={}),s=s[f[0]]):t?s[f[0]]=a:s[f[0]]=r[a].type}return i}},2631:function(d,y){y.uniforms=a,y.attributes=h;var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},t=null;function i(u,s){if(!t){var m=Object.keys(r);t={};for(var f=0;f<m.length;++f){var S=m[f];t[u[S]]=r[S]}}return t[s]}function a(u,s){for(var m=u.getProgramParameter(s,u.ACTIVE_UNIFORMS),f=[],S=0;S<m;++S){var v=u.getActiveUniform(s,S);if(v){var l=i(u,v.type);if(v.size>1)for(var g=0;g<v.size;++g)f.push({name:v.name.replace("[0]","["+g+"]"),type:l});else f.push({name:v.name,type:l})}}return f}function h(u,s){for(var m=u.getProgramParameter(s,u.ACTIVE_ATTRIBUTES),f=[],S=0;S<m;++S){var v=u.getActiveAttrib(s,S);v&&f.push({name:v.name,type:i(u,v.type)})}return f}},1628:function(d,y,r){y.shader=g,y.program=M;var t=r(9068),i=r(3530),a=typeof WeakMap>"u"?r(4037):WeakMap,h=new a,u=0;function s(A,k,w,E,b,o,P){this.id=A,this.src=k,this.type=w,this.shader=E,this.count=o,this.programs=[],this.cache=P}s.prototype.dispose=function(){if(--this.count===0){for(var A=this.cache,k=A.gl,w=this.programs,E=0,b=w.length;E<b;++E){var o=A.programs[w[E]];o&&(delete A.programs[E],k.deleteProgram(o))}k.deleteShader(this.shader),delete A.shaders[this.type===k.FRAGMENT_SHADER|0][this.src]}};function m(A){this.gl=A,this.shaders=[{},{}],this.programs={}}var f=m.prototype;function S(A,k,w){var E=A.createShader(k);if(A.shaderSource(E,w),A.compileShader(E),!A.getShaderParameter(E,A.COMPILE_STATUS)){var b=A.getShaderInfoLog(E);try{var o=i(b,w,k)}catch(P){throw console.warn("Failed to format compiler error: "+P),new t(b,`Error compiling shader:
`+b)}throw new t(b,o.short,o.long)}return E}f.getShaderReference=function(A,k){var w=this.gl,E=this.shaders[A===w.FRAGMENT_SHADER|0],b=E[k];if(!b||!w.isShader(b.shader)){var o=S(w,A,k);b=E[k]=new s(u++,k,A,o,[],1,this)}else b.count+=1;return b};function v(A,k,w,E,b){var o=A.createProgram();A.attachShader(o,k),A.attachShader(o,w);for(var P=0;P<E.length;++P)A.bindAttribLocation(o,b[P],E[P]);if(A.linkProgram(o),!A.getProgramParameter(o,A.LINK_STATUS)){var x=A.getProgramInfoLog(o);throw new t(x,"Error linking program: "+x)}return o}f.getProgram=function(A,k,w,E){var b=[A.id,k.id,w.join(":"),E.join(":")].join("@"),o=this.programs[b];return(!o||!this.gl.isProgram(o))&&(this.programs[b]=o=v(this.gl,A.shader,k.shader,w,E),A.programs.push(b),k.programs.push(b)),o};function l(A){var k=h.get(A);return k||(k=new m(A),h.set(A,k)),k}function g(A,k,w){return l(A).getShaderReference(k,w)}function M(A,k,w,E,b){return l(A).getProgram(k,w,E,b)}},3050:function(d){d.exports=t;function y(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var r=y.prototype;r.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},r.draw=function(){var i=this.enable,a=this.width,h=this.color,u=this.center,s=this.plot,m=s.line,f=s.dataBox,S=s.viewBox;if(m.bind(),f[0]<=u[0]&&u[0]<=f[2]&&f[1]<=u[1]&&u[1]<=f[3]){var v=S[0]+(u[0]-f[0])/(f[2]-f[0])*(S[2]-S[0]),l=S[1]+(u[1]-f[1])/(f[3]-f[1])*(S[3]-S[1]);i[0]&&m.drawLine(v,l,S[0],l,a[0],h[0]),i[1]&&m.drawLine(v,l,v,S[1],a[1],h[1]),i[2]&&m.drawLine(v,l,S[2],l,a[2],h[2]),i[3]&&m.drawLine(v,l,v,S[3],a[3],h[3])}},r.dispose=function(){this.plot.removeOverlay(this)};function t(i,a){var h=new y(i);return h.update(a),i.addOverlay(h),h}},3540:function(d,y,r){var t=r(6832),i=r(5158),a=t([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),h=t([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);d.exports=function(u){return i(u,a,h,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(d,y,r){var t=r(5827),i=r(2944),a=r(3540);d.exports=v;var h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function u(l,g,M,A){this.gl=l,this.buffer=g,this.vao=M,this.shader=A,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var s=u.prototype,m=[0,0,0],f=[0,0,0],S=[0,0];s.isTransparent=function(){return!1},s.drawTransparent=function(l){},s.draw=function(l){var g=this.gl,M=this.vao,A=this.shader;M.bind(),A.bind();var k=l.model||h,w=l.view||h,E=l.projection||h,b;this.axes&&(b=this.axes.lastCubeProps.axis);for(var o=m,P=f,x=0;x<3;++x)b&&b[x]<0?(o[x]=this.bounds[0][x],P[x]=this.bounds[1][x]):(o[x]=this.bounds[1][x],P[x]=this.bounds[0][x]);S[0]=g.drawingBufferWidth,S[1]=g.drawingBufferHeight,A.uniforms.model=k,A.uniforms.view=w,A.uniforms.projection=E,A.uniforms.coordinates=[this.position,o,P],A.uniforms.colors=this.colors,A.uniforms.screenShape=S;for(var x=0;x<3;++x)A.uniforms.lineWidth=this.lineWidth[x]*this.pixelRatio,this.enabled[x]&&(M.draw(g.TRIANGLES,6,6*x),this.drawSides[x]&&M.draw(g.TRIANGLES,12,18+12*x));M.unbind()},s.update=function(l){l&&("bounds"in l&&(this.bounds=l.bounds),"position"in l&&(this.position=l.position),"lineWidth"in l&&(this.lineWidth=l.lineWidth),"colors"in l&&(this.colors=l.colors),"enabled"in l&&(this.enabled=l.enabled),"drawSides"in l&&(this.drawSides=l.drawSides))},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function v(l,g){var M=[];function A(o,P,x,z,_,G){var F=[o,P,x,0,0,0,1];F[z+3]=1,F[z]=_,M.push.apply(M,F),F[6]=-1,M.push.apply(M,F),F[z]=G,M.push.apply(M,F),M.push.apply(M,F),F[6]=1,M.push.apply(M,F),F[z]=_,M.push.apply(M,F)}A(0,0,0,0,0,1),A(0,0,0,1,0,1),A(0,0,0,2,0,1),A(1,0,0,1,-1,1),A(1,0,0,2,-1,1),A(0,1,0,0,-1,1),A(0,1,0,2,-1,1),A(0,0,1,0,-1,1),A(0,0,1,1,-1,1);var k=t(l,M),w=i(l,[{type:l.FLOAT,buffer:k,size:3,offset:0,stride:28},{type:l.FLOAT,buffer:k,size:3,offset:12,stride:28},{type:l.FLOAT,buffer:k,size:1,offset:24,stride:28}]),E=a(l);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var b=new u(l,k,w,E);return b.update(g),b}},9578:function(d,y,r){var t=r(6832),i=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=t([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),h=t([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),u=t([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:i,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},y.pickShader={vertex:h,fragment:u,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(d,y,r){var t=r(2858),i=r(4020),a=["xyz","xzy","yxz","yzx","zxy","zyx"],h=function(M,A,k,w){for(var E=M.points,b=M.velocities,o=M.divergences,P=[],x=[],z=[],_=[],G=[],F=[],N=0,U=0,O=i.create(),H=i.create(),Y=8,q=0;q<E.length;q++){var ne=E[q],oe=b[q],he=o[q];A===0&&(he=k*.05),U=t.length(oe)/w,O=i.create(),t.copy(O,oe),O[3]=he;for(var J=0;J<Y;J++)G[J]=[ne[0],ne[1],ne[2],J];if(_.length>0)for(var J=0;J<Y;J++){var Z=(J+1)%Y;P.push(_[J],G[J],G[Z],G[Z],_[Z],_[J]),z.push(H,O,O,O,H,H),F.push(N,U,U,U,N,N);var se=P.length;x.push([se-6,se-5,se-4],[se-3,se-2,se-1])}var $=_;_=G,G=$;var ee=H;H=O,O=ee;var le=N;N=U,U=le}return{positions:P,cells:x,vectors:z,vertexIntensity:F}},u=function(M,A,k,w){for(var E=0,b=0;b<M.length;b++)for(var o=M[b].velocities,P=0;P<o.length;P++)E=Math.max(E,t.length(o[P]));for(var x=M.map(function(q){return h(q,k,w,E)}),z=[],_=[],G=[],F=[],b=0;b<x.length;b++){var N=x[b],U=z.length;z=z.concat(N.positions),G=G.concat(N.vectors),F=F.concat(N.vertexIntensity);for(var P=0;P<N.cells.length;P++){var O=N.cells[P],H=[];_.push(H);for(var Y=0;Y<O.length;Y++)H.push(O[Y]+U)}}return{positions:z,cells:_,vectors:G,vertexIntensity:F,colormap:A}},s=function(M,A){var k=M.length,w;for(w=0;w<k;w++){var E=M[w];if(E===A)return w;if(E>A)return w-1}return w},m=function(M,A,k){return M<A?A:M>k?k:M},f=function(M,A,k){var w=A.vectors,E=A.meshgrid,b=M[0],o=M[1],P=M[2],x=E[0].length,z=E[1].length,_=E[2].length,G=s(E[0],b),F=s(E[1],o),N=s(E[2],P),U=G+1,O=F+1,H=N+1;if(G=m(G,0,x-1),U=m(U,0,x-1),F=m(F,0,z-1),O=m(O,0,z-1),N=m(N,0,_-1),H=m(H,0,_-1),G<0||F<0||N<0||U>x-1||O>z-1||H>_-1)return t.create();var Y=E[0][G],q=E[0][U],ne=E[1][F],oe=E[1][O],he=E[2][N],J=E[2][H],Z=(b-Y)/(q-Y),se=(o-ne)/(oe-ne),$=(P-he)/(J-he);isFinite(Z)||(Z=.5),isFinite(se)||(se=.5),isFinite($)||($=.5);var ee,le,Q,K,ue,ie;switch(k.reversedX&&(G=x-1-G,U=x-1-U),k.reversedY&&(F=z-1-F,O=z-1-O),k.reversedZ&&(N=_-1-N,H=_-1-H),k.filled){case 5:ue=N,ie=H,Q=F*_,K=O*_,ee=G*_*z,le=U*_*z;break;case 4:ue=N,ie=H,ee=G*_,le=U*_,Q=F*_*x,K=O*_*x;break;case 3:Q=F,K=O,ue=N*z,ie=H*z,ee=G*z*_,le=U*z*_;break;case 2:Q=F,K=O,ee=G*z,le=U*z,ue=N*z*x,ie=H*z*x;break;case 1:ee=G,le=U,ue=N*x,ie=H*x,Q=F*x*_,K=O*x*_;break;default:ee=G,le=U,Q=F*x,K=O*x,ue=N*x*z,ie=H*x*z;break}var ce=w[ee+Q+ue],xe=w[ee+Q+ie],Le=w[ee+K+ue],Ae=w[ee+K+ie],Oe=w[le+Q+ue],ze=w[le+Q+ie],Ee=w[le+K+ue],be=w[le+K+ie],Ce=t.create(),Ue=t.create(),He=t.create(),Ie=t.create();t.lerp(Ce,ce,Oe,Z),t.lerp(Ue,xe,ze,Z),t.lerp(He,Le,Ee,Z),t.lerp(Ie,Ae,be,Z);var Ge=t.create(),at=t.create();t.lerp(Ge,Ce,He,se),t.lerp(at,Ue,Ie,se);var lt=t.create();return t.lerp(lt,Ge,at,$),lt},S=function(M){var A=1/0;M.sort(function(b,o){return b-o});for(var k=M.length,w=1;w<k;w++){var E=Math.abs(M[w]-M[w-1]);E<A&&(A=E)}return A},v=function(M){for(var A=[],k=[],w=[],E={},b={},o={},P=M.length,x=0;x<P;x++){var z=M[x],_=z[0],G=z[1],F=z[2];E[_]||(A.push(_),E[_]=!0),b[G]||(k.push(G),b[G]=!0),o[F]||(w.push(F),o[F]=!0)}var N=S(A),U=S(k),O=S(w),H=Math.min(N,U,O);return isFinite(H)?H:1};d.exports=function(M,A){var k=M.startingPositions,w=M.maxLength||1e3,E=M.tubeSize||1,b=M.absoluteTubeSize,o=M.gridFill||"+x+y+z",P={};o.indexOf("-x")!==-1&&(P.reversedX=!0),o.indexOf("-y")!==-1&&(P.reversedY=!0),o.indexOf("-z")!==-1&&(P.reversedZ=!0),P.filled=a.indexOf(o.replace(/-/g,"").replace(/\+/g,""));var x=M.getVelocity||function(ze){return f(ze,M,P)},z=M.getDivergence||function(ze,Ee){var be=t.create(),Ce=1e-4;t.add(be,ze,[Ce,0,0]);var Ue=x(be);t.subtract(Ue,Ue,Ee),t.scale(Ue,Ue,1/Ce),t.add(be,ze,[0,Ce,0]);var He=x(be);t.subtract(He,He,Ee),t.scale(He,He,1/Ce),t.add(be,ze,[0,0,Ce]);var Ie=x(be);return t.subtract(Ie,Ie,Ee),t.scale(Ie,Ie,1/Ce),t.add(be,Ue,He),t.add(be,be,Ie),be},_=[],G=A[0][0],F=A[0][1],N=A[0][2],U=A[1][0],O=A[1][1],H=A[1][2],Y=function(ze){var Ee=ze[0],be=ze[1],Ce=ze[2];return!(Ee<G||Ee>U||be<F||be>O||Ce<N||Ce>H)},q=t.distance(A[0],A[1]),ne=10*q/w,oe=ne*ne,he=1,J=0,Z=k.length;Z>1&&(he=v(k));for(var se=0;se<Z;se++){var $=t.create();t.copy($,k[se]);var ee=[$],le=[],Q=x($),K=$;le.push(Q);var ue=[],ie=z($,Q),ce=t.length(ie);isFinite(ce)&&ce>J&&(J=ce),ue.push(ce),_.push({points:ee,velocities:le,divergences:ue});for(var xe=0;xe<w*100&&ee.length<w&&Y($);){xe++;var Le=t.clone(Q),Ae=t.squaredLength(Le);if(Ae===0)break;if(Ae>oe&&t.scale(Le,Le,ne/Math.sqrt(Ae)),t.add(Le,Le,$),Q=x(Le),t.squaredDistance(K,Le)-oe>-1e-4*oe){ee.push(Le),K=Le,le.push(Q);var ie=z(Le,Q),ce=t.length(ie);isFinite(ce)&&ce>J&&(J=ce),ue.push(ce)}$=Le}}var Oe=u(_,M.colormap,J,he);return b?Oe.tubeScale=b:(J===0&&(J=1),Oe.tubeScale=E*.5*he/J),Oe};var l=r(9578),g=r(1140).createMesh;d.exports.createTubeMesh=function(M,A){return g(M,A,{shaders:l,traceType:"streamtube"})}},9054:function(d,y,r){var t=r(5158),i=r(6832),a=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),h=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),u=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);y.createShader=function(m){var f=t(m,a,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},y.createPickShader=function(m){var f=t(m,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},y.createContourShader=function(m){var f=t(m,u,h,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},y.createPickContourShader=function(m){var f=t(m,u,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},3754:function(d,y,r){d.exports=le;var t=r(2288),i=r(5827),a=r(2944),h=r(8931),u=r(5306),s=r(9156),m=r(7498),f=r(7382),S=r(5050),v=r(4162),l=r(104),g=r(7437),M=r(5070),A=r(9144),k=r(9054),w=k.createShader,E=k.createContourShader,b=k.createPickShader,o=k.createPickContourShader,P=4*10,x=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],z=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var K=_[Q],ue=(Q+1)%3,ie=(Q+2)%3;K[ue+0]=1,K[ie+3]=1,K[Q+6]=1}})();function G(Q,K,ue,ie,ce){this.position=Q,this.index=K,this.uv=ue,this.level=ie,this.dataCoordinate=ce}var F=256;function N(Q,K,ue,ie,ce,xe,Le,Ae,Oe,ze,Ee,be,Ce,Ue,He){this.gl=Q,this.shape=K,this.bounds=ue,this.objectOffset=He,this.intensityBounds=[],this._shader=ie,this._pickShader=ce,this._coordinateBuffer=xe,this._vao=Le,this._colorMap=Ae,this._contourShader=Oe,this._contourPickShader=ze,this._contourBuffer=Ee,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new G([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ce,this._dynamicVAO=Ue,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[S(u.mallocFloat(1024),[0,0]),S(u.mallocFloat(1024),[0,0]),S(u.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var U=N.prototype;U.genColormap=function(Q,K){var ue=!1,ie=f([s({colormap:Q,nshades:F,format:"rgba"}).map(function(ce,xe){var Le=K?O(xe/255,K):ce[3];return Le<1&&(ue=!0),[ce[0],ce[1],ce[2],255*Le]})]);return m.divseq(ie,255),this.hasAlphaScale=ue,ie},U.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},U.isOpaque=function(){return!this.isTransparent()},U.pickSlots=1,U.setPickBase=function(Q){this.pickId=Q};function O(Q,K){if(!K||!K.length)return 1;for(var ue=0;ue<K.length;++ue){if(K.length<2)return 1;if(K[ue][0]===Q)return K[ue][1];if(K[ue][0]>Q&&ue>0){var ie=(K[ue][0]-Q)/(K[ue][0]-K[ue-1][0]);return K[ue][1]*(1-ie)+ie*K[ue-1][1]}}return 1}var H=[0,0,0],Y={showSurface:!1,showContour:!1,projections:[x.slice(),x.slice(),x.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(Q,K){var ue,ie,ce,xe=K.axes&&K.axes.lastCubeProps.axis||H,Le=K.showSurface,Ae=K.showContour;for(ue=0;ue<3;++ue)for(Le=Le||K.surfaceProject[ue],ie=0;ie<3;++ie)Ae=Ae||K.contourProject[ue][ie];for(ue=0;ue<3;++ue){var Oe=Y.projections[ue];for(ie=0;ie<16;++ie)Oe[ie]=0;for(ie=0;ie<4;++ie)Oe[5*ie]=1;Oe[5*ue]=0,Oe[12+ue]=K.axesBounds[+(xe[ue]>0)][ue],l(Oe,Q.model,Oe);var ze=Y.clipBounds[ue];for(ce=0;ce<2;++ce)for(ie=0;ie<3;++ie)ze[ce][ie]=Q.clipBounds[ce][ie];ze[0][ue]=-1e8,ze[1][ue]=1e8}return Y.showSurface=Le,Y.showContour=Ae,Y}var ne={model:x,view:x,projection:x,inverseModel:x.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},oe=x.slice(),he=[1,0,0,0,1,0,0,0,1];function J(Q,K){Q=Q||{};var ue=this.gl;ue.disable(ue.CULL_FACE),this._colorMap.bind(0);var ie=ne;ie.model=Q.model||x,ie.view=Q.view||x,ie.projection=Q.projection||x,ie.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ie.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ie.objectOffset=this.objectOffset,ie.contourColor=this.contourColor[0],ie.inverseModel=g(ie.inverseModel,ie.model);for(var ce=0;ce<2;++ce)for(var xe=ie.clipBounds[ce],Le=0;Le<3;++Le)xe[Le]=Math.min(Math.max(this.clipBounds[ce][Le],-1e8),1e8);ie.kambient=this.ambientLight,ie.kdiffuse=this.diffuseLight,ie.kspecular=this.specularLight,ie.roughness=this.roughness,ie.fresnel=this.fresnel,ie.opacity=this.opacity,ie.height=0,ie.permutation=he,ie.vertexColor=this.vertexColor;var Ae=oe;for(l(Ae,ie.view,ie.model),l(Ae,ie.projection,Ae),g(Ae,Ae),ce=0;ce<3;++ce)ie.eyePosition[ce]=Ae[12+ce]/Ae[15];var Oe=Ae[15];for(ce=0;ce<3;++ce)Oe+=this.lightPosition[ce]*Ae[4*ce+3];for(ce=0;ce<3;++ce){var ze=Ae[12+ce];for(Le=0;Le<3;++Le)ze+=Ae[4*Le+ce]*this.lightPosition[Le];ie.lightPosition[ce]=ze/Oe}var Ee=q(ie,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=ie,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ue.TRIANGLES,this._vertexCount),ce=0;ce<3;++ce)!this.surfaceProject[ce]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[ce],this._shader.uniforms.clipBounds=Ee.clipBounds[ce],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var be=this._contourShader;ie.kambient=1,ie.kdiffuse=0,ie.kspecular=0,ie.opacity=1,be.bind(),be.uniforms=ie;var Ce=this._contourVAO;for(Ce.bind(),ce=0;ce<3;++ce)for(be.uniforms.permutation=_[ce],ue.lineWidth(this.contourWidth[ce]*this.pixelRatio),Le=0;Le<this.contourLevels[ce].length;++Le)Le===this.highlightLevel[ce]?(be.uniforms.contourColor=this.highlightColor[ce],be.uniforms.contourTint=this.highlightTint[ce]):(Le===0||Le-1===this.highlightLevel[ce])&&(be.uniforms.contourColor=this.contourColor[ce],be.uniforms.contourTint=this.contourTint[ce]),this._contourCounts[ce][Le]&&(be.uniforms.height=this.contourLevels[ce][Le],Ce.draw(ue.LINES,this._contourCounts[ce][Le],this._contourOffsets[ce][Le]));for(ce=0;ce<3;++ce)for(be.uniforms.model=Ee.projections[ce],be.uniforms.clipBounds=Ee.clipBounds[ce],Le=0;Le<3;++Le)if(this.contourProject[ce][Le]){be.uniforms.permutation=_[Le],ue.lineWidth(this.contourWidth[Le]*this.pixelRatio);for(var Ue=0;Ue<this.contourLevels[Le].length;++Ue)Ue===this.highlightLevel[Le]?(be.uniforms.contourColor=this.highlightColor[Le],be.uniforms.contourTint=this.highlightTint[Le]):(Ue===0||Ue-1===this.highlightLevel[Le])&&(be.uniforms.contourColor=this.contourColor[Le],be.uniforms.contourTint=this.contourTint[Le]),this._contourCounts[Le][Ue]&&(be.uniforms.height=this.contourLevels[Le][Ue],Ce.draw(ue.LINES,this._contourCounts[Le][Ue],this._contourOffsets[Le][Ue]))}for(Ce.unbind(),Ce=this._dynamicVAO,Ce.bind(),ce=0;ce<3;++ce)if(this._dynamicCounts[ce]!==0)for(be.uniforms.model=ie.model,be.uniforms.clipBounds=ie.clipBounds,be.uniforms.permutation=_[ce],ue.lineWidth(this.dynamicWidth[ce]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[ce],be.uniforms.contourTint=this.dynamicTint[ce],be.uniforms.height=this.dynamicLevel[ce],Ce.draw(ue.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]),Le=0;Le<3;++Le)this.contourProject[Le][ce]&&(be.uniforms.model=Ee.projections[Le],be.uniforms.clipBounds=Ee.clipBounds[Le],Ce.draw(ue.LINES,this._dynamicCounts[ce],this._dynamicOffsets[ce]));Ce.unbind()}}U.draw=function(Q){return J.call(this,Q,!1)},U.drawTransparent=function(Q){return J.call(this,Q,!0)};var Z={model:x,view:x,projection:x,inverseModel:x,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};U.drawPick=function(Q){Q=Q||{};var K=this.gl;K.disable(K.CULL_FACE);var ue=Z;ue.model=Q.model||x,ue.view=Q.view||x,ue.projection=Q.projection||x,ue.shape=this._field[2].shape,ue.pickId=this.pickId/255,ue.lowerBound=this.bounds[0],ue.upperBound=this.bounds[1],ue.objectOffset=this.objectOffset,ue.permutation=he;for(var ie=0;ie<2;++ie)for(var ce=ue.clipBounds[ie],xe=0;xe<3;++xe)ce[xe]=Math.min(Math.max(this.clipBounds[ie][xe],-1e8),1e8);var Le=q(ue,this);if(Le.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ue,this._vao.bind(),this._vao.draw(K.TRIANGLES,this._vertexCount),ie=0;ie<3;++ie)this.surfaceProject[ie]&&(this._pickShader.uniforms.model=Le.projections[ie],this._pickShader.uniforms.clipBounds=Le.clipBounds[ie],this._vao.draw(K.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Le.showContour){var Ae=this._contourPickShader;Ae.bind(),Ae.uniforms=ue;var Oe=this._contourVAO;for(Oe.bind(),xe=0;xe<3;++xe)for(K.lineWidth(this.contourWidth[xe]*this.pixelRatio),Ae.uniforms.permutation=_[xe],ie=0;ie<this.contourLevels[xe].length;++ie)this._contourCounts[xe][ie]&&(Ae.uniforms.height=this.contourLevels[xe][ie],Oe.draw(K.LINES,this._contourCounts[xe][ie],this._contourOffsets[xe][ie]));for(ie=0;ie<3;++ie)for(Ae.uniforms.model=Le.projections[ie],Ae.uniforms.clipBounds=Le.clipBounds[ie],xe=0;xe<3;++xe)if(this.contourProject[ie][xe]){Ae.uniforms.permutation=_[xe],K.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var ze=0;ze<this.contourLevels[xe].length;++ze)this._contourCounts[xe][ze]&&(Ae.uniforms.height=this.contourLevels[xe][ze],Oe.draw(K.LINES,this._contourCounts[xe][ze],this._contourOffsets[xe][ze]))}Oe.unbind()}},U.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var K=this._field[2].shape,ue=this._pickResult,ie=K[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,ce=Math.floor(ie),xe=ie-ce,Le=K[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,Ae=Math.floor(Le),Oe=Le-Ae;ce+=1,Ae+=1;var ze=ue.position;ze[0]=ze[1]=ze[2]=0;for(var Ee=0;Ee<2;++Ee)for(var be=Ee?xe:1-xe,Ce=0;Ce<2;++Ce)for(var Ue=Ce?Oe:1-Oe,He=ce+Ee,Ie=Ae+Ce,Ge=be*Ue,at=0;at<3;++at)ze[at]+=this._field[at].get(He,Ie)*Ge;for(var lt=this._pickResult.level,qe=0;qe<3;++qe)if(lt[qe]=M.le(this.contourLevels[qe],ze[qe]),lt[qe]<0)this.contourLevels[qe].length>0&&(lt[qe]=0);else if(lt[qe]<this.contourLevels[qe].length-1){var et=this.contourLevels[qe][lt[qe]],ft=this.contourLevels[qe][lt[qe]+1];Math.abs(et-ze[qe])>Math.abs(ft-ze[qe])&&(lt[qe]+=1)}for(ue.index[0]=xe<.5?ce:ce+1,ue.index[1]=Oe<.5?Ae:Ae+1,ue.uv[0]=ie/K[0],ue.uv[1]=Le/K[1],at=0;at<3;++at)ue.dataCoordinate[at]=this._field[at].get(ue.index[0],ue.index[1]);return ue},U.padField=function(Q,K){var ue=K.shape.slice(),ie=Q.shape.slice();m.assign(Q.lo(1,1).hi(ue[0],ue[1]),K),m.assign(Q.lo(1).hi(ue[0],1),K.hi(ue[0],1)),m.assign(Q.lo(1,ie[1]-1).hi(ue[0],1),K.lo(0,ue[1]-1).hi(ue[0],1)),m.assign(Q.lo(0,1).hi(1,ue[1]),K.hi(1)),m.assign(Q.lo(ie[0]-1,1).hi(1,ue[1]),K.lo(ue[0]-1)),Q.set(0,0,K.get(0,0)),Q.set(0,ie[1]-1,K.get(0,ue[1]-1)),Q.set(ie[0]-1,0,K.get(ue[0]-1,0)),Q.set(ie[0]-1,ie[1]-1,K.get(ue[0]-1,ue[1]-1))};function se(Q,K){return Array.isArray(Q)?[K(Q[0]),K(Q[1]),K(Q[2])]:[K(Q),K(Q),K(Q)]}function $(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function ee(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[$(Q[0]),$(Q[1]),$(Q[2])];var K=$(Q);return[K.slice(),K.slice(),K.slice()]}}U.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=se(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=se(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=se(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=ee(Q.contourColor)),"contourProject"in Q&&(this.contourProject=se(Q.contourProject,function(Dt){return se(Dt,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=ee(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=se(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=se(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var K=Q.field||Q.coords&&Q.coords[2]||null,ue=!1;if(K||(this._field[2].shape[0]||this._field[2].shape[2]?K=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):K=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var ie=(K.shape[0]+2)*(K.shape[1]+2);ie>this._field[2].data.length&&(u.freeFloat(this._field[2].data),this._field[2].data=u.mallocFloat(t.nextPow2(ie))),this._field[2]=S(this._field[2].data,[K.shape[0]+2,K.shape[1]+2]),this.padField(this._field[2],K),this.shape=K.shape.slice();for(var ce=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(u.freeFloat(this._field[xe].data),this._field[xe].data=u.mallocFloat(this._field[2].size)),this._field[xe]=S(this._field[xe].data,[ce[0]+2,ce[1]+2]);if(Q.coords){var Le=Q.coords;if(!Array.isArray(Le)||Le.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var Ae=Le[xe];for(Ce=0;Ce<2;++Ce)if(Ae.shape[Ce]!==ce[Ce])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],Ae)}}else if(Q.ticks){var Oe=Q.ticks;if(!Array.isArray(Oe)||Oe.length!==2)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var ze=Oe[xe];if((Array.isArray(ze)||ze.length)&&(ze=S(ze)),ze.shape[0]!==ce[xe])throw new Error("gl-surface: invalid tick length");var Ee=S(ze.data,ce);Ee.stride[xe]=ze.stride[0],Ee.stride[xe^1]=0,this.padField(this._field[xe],Ee)}}else{for(xe=0;xe<2;++xe){var be=[0,0];be[xe]=1,this._field[xe]=S(this._field[xe].data,[ce[0]+2,ce[1]+2],be,0)}this._field[0].set(0,0,0);for(var Ce=0;Ce<ce[0];++Ce)this._field[0].set(Ce+1,0,Ce);for(this._field[0].set(ce[0]+1,0,ce[0]-1),this._field[1].set(0,0,0),Ce=0;Ce<ce[1];++Ce)this._field[1].set(0,Ce+1,Ce);this._field[1].set(0,ce[1]+1,ce[1]-1)}var Ue=this._field,He=S(u.mallocFloat(Ue[2].size*3*2),[3,ce[0]+2,ce[1]+2,2]);for(xe=0;xe<3;++xe)A(He.pick(xe),Ue[xe],"mirror");var Ie=S(u.mallocFloat(Ue[2].size*3),[ce[0]+2,ce[1]+2,3]);for(xe=0;xe<ce[0]+2;++xe)for(Ce=0;Ce<ce[1]+2;++Ce){var Ge=He.get(0,xe,Ce,0),at=He.get(0,xe,Ce,1),lt=He.get(1,xe,Ce,0),qe=He.get(1,xe,Ce,1),et=He.get(2,xe,Ce,0),ft=He.get(2,xe,Ce,1),dt=lt*ft-qe*et,pt=et*at-ft*Ge,At=Ge*qe-at*lt,Pt=Math.sqrt(dt*dt+pt*pt+At*At);Pt<1e-8?(Pt=Math.max(Math.abs(dt),Math.abs(pt),Math.abs(At)),Pt<1e-8?(At=1,pt=dt=0,Pt=1):Pt=1/Pt):Pt=1/Math.sqrt(Pt),Ie.set(xe,Ce,0,dt*Pt),Ie.set(xe,Ce,1,pt*Pt),Ie.set(xe,Ce,2,At*Pt)}u.free(He.data);var Ht=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],We=1/0,_e=-1/0,Ne=(ce[0]-1)*(ce[1]-1)*6,ke=u.mallocFloat(t.nextPow2(10*Ne)),we=0,me=0;for(xe=0;xe<ce[0]-1;++xe)e:for(Ce=0;Ce<ce[1]-1;++Ce){for(var Me=0;Me<2;++Me)for(var Se=0;Se<2;++Se)for(var Ve=0;Ve<3;++Ve){var Ze=this._field[Ve].get(1+xe+Me,1+Ce+Se);if(isNaN(Ze)||!isFinite(Ze))continue e}for(Ve=0;Ve<6;++Ve){var tt=xe+z[Ve][0],ct=Ce+z[Ve][1],gt=this._field[0].get(tt+1,ct+1),jt=this._field[1].get(tt+1,ct+1);Ze=this._field[2].get(tt+1,ct+1),dt=Ie.get(tt+1,ct+1,0),pt=Ie.get(tt+1,ct+1,1),At=Ie.get(tt+1,ct+1,2),Q.intensity&&(Kt=Q.intensity.get(tt,ct));var Kt=Q.intensity?Q.intensity.get(tt,ct):Ze+this.objectOffset[2];ke[we++]=tt,ke[we++]=ct,ke[we++]=gt,ke[we++]=jt,ke[we++]=Ze,ke[we++]=0,ke[we++]=Kt,ke[we++]=dt,ke[we++]=pt,ke[we++]=At,Ht[0]=Math.min(Ht[0],gt+this.objectOffset[0]),Ht[1]=Math.min(Ht[1],jt+this.objectOffset[1]),Ht[2]=Math.min(Ht[2],Ze+this.objectOffset[2]),We=Math.min(We,Kt),Je[0]=Math.max(Je[0],gt+this.objectOffset[0]),Je[1]=Math.max(Je[1],jt+this.objectOffset[1]),Je[2]=Math.max(Je[2],Ze+this.objectOffset[2]),_e=Math.max(_e,Kt),me+=1}}for(Q.intensityBounds&&(We=+Q.intensityBounds[0],_e=+Q.intensityBounds[1]),xe=6;xe<we;xe+=10)ke[xe]=(ke[xe]-We)/(_e-We);this._vertexCount=me,this._coordinateBuffer.update(ke.subarray(0,we)),u.freeFloat(ke),u.free(Ie.data),this.bounds=[Ht,Je],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==We||this.intensityBounds[1]!==_e)&&(ue=!0),this.intensityBounds=[We,_e]}if("levels"in Q){var Tt=Q.levels;for(Array.isArray(Tt[0])?Tt=Tt.slice():Tt=[[],[],Tt],xe=0;xe<3;++xe)Tt[xe]=Tt[xe].slice(),Tt[xe].sort(function(Dt,Yt){return Dt-Yt});for(xe=0;xe<3;++xe)for(Ce=0;Ce<Tt[xe].length;++Ce)Tt[xe][Ce]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(Tt[xe].length!==this.contourLevels[xe].length){ue=!0;break}for(Ce=0;Ce<Tt[xe].length;++Ce)if(Tt[xe][Ce]!==this.contourLevels[xe][Ce]){ue=!0;break e}}this.contourLevels=Tt}if(ue){Ue=this._field,ce=this.shape;for(var zt=[],qt=0;qt<3;++qt){var Sr=this.contourLevels[qt],yt=[],Zt=[],Jt=[0,0,0];for(xe=0;xe<Sr.length;++xe){var mr=v(this._field[qt],Sr[xe]);yt.push(zt.length/5|0),me=0;e:for(Ce=0;Ce<mr.cells.length;++Ce){var sr=mr.cells[Ce];for(Ve=0;Ve<2;++Ve){var vt=mr.positions[sr[Ve]],it=vt[0],xt=Math.floor(it)|0,St=it-xt,Rt=vt[1],Lt=Math.floor(Rt)|0,Ot=Rt-Lt,Nt=!1;t:for(var Xt=0;Xt<3;++Xt){Jt[Xt]=0;var ur=(qt+Xt+1)%3;for(Me=0;Me<2;++Me){var cr=Me?St:1-St;for(tt=Math.min(Math.max(xt+Me,0),ce[0])|0,Se=0;Se<2;++Se){var dr=Se?Ot:1-Ot;if(ct=Math.min(Math.max(Lt+Se,0),ce[1])|0,Xt<2?Ze=this._field[ur].get(tt,ct):Ze=(this.intensity.get(tt,ct)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Ze)||isNaN(Ze)){Nt=!0;break t}var Ye=cr*dr;Jt[Xt]+=Ye*Ze}}}if(!Nt)zt.push(Jt[0],Jt[1],vt[0],vt[1],Jt[2]),me+=1;else{if(Ve>0){for(var je=0;je<5;++je)zt.pop();me-=1}continue e}}}Zt.push(me)}this._contourOffsets[qt]=yt,this._contourCounts[qt]=Zt}var It=u.mallocFloat(zt.length);for(xe=0;xe<zt.length;++xe)It[xe]=zt[xe];this._contourBuffer.update(It),u.freeFloat(It)}},U.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)u.freeFloat(this._field[Q].data)},U.highlight=function(Q){var K;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(K=0;K<3;++K)this.enableHighlight[K]?this.highlightLevel[K]=Q.level[K]:this.highlightLevel[K]=-1;var ue;for(this.snapToData?ue=Q.dataCoordinate:ue=Q.position,K=0;K<3;++K)ue[K]-=this.objectOffset[K];if(!((!this.enableDynamic[0]||ue[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ue[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ue[2]===this.dynamicLevel[2]))){for(var ie=0,ce=this.shape,xe=u.mallocFloat(12*ce[0]*ce[1]),Le=0;Le<3;++Le){if(!this.enableDynamic[Le]){this.dynamicLevel[Le]=NaN,this._dynamicCounts[Le]=0;continue}this.dynamicLevel[Le]=ue[Le];var Ae=(Le+1)%3,Oe=(Le+2)%3,ze=this._field[Le],Ee=this._field[Ae],be=this._field[Oe],Ce=v(ze,ue[Le]),Ue=Ce.cells,He=Ce.positions;for(this._dynamicOffsets[Le]=ie,K=0;K<Ue.length;++K)for(var Ie=Ue[K],Ge=0;Ge<2;++Ge){var at=He[Ie[Ge]],lt=+at[0],qe=lt|0,et=Math.min(qe+1,ce[0])|0,ft=lt-qe,dt=1-ft,pt=+at[1],At=pt|0,Pt=Math.min(At+1,ce[1])|0,Ht=pt-At,Je=1-Ht,We=dt*Je,_e=dt*Ht,Ne=ft*Je,ke=ft*Ht,we=We*Ee.get(qe,At)+_e*Ee.get(qe,Pt)+Ne*Ee.get(et,At)+ke*Ee.get(et,Pt),me=We*be.get(qe,At)+_e*be.get(qe,Pt)+Ne*be.get(et,At)+ke*be.get(et,Pt);if(isNaN(we)||isNaN(me)){Ge&&(ie-=1);break}xe[2*ie+0]=we,xe[2*ie+1]=me,ie+=1}this._dynamicCounts[Le]=ie-this._dynamicOffsets[Le]}this._dynamicBuffer.update(xe.subarray(0,2*ie)),u.freeFloat(xe)}};function le(Q){var K=Q.gl,ue=w(K),ie=b(K),ce=E(K),xe=o(K),Le=i(K),Ae=a(K,[{buffer:Le,size:4,stride:P,offset:0},{buffer:Le,size:3,stride:P,offset:16},{buffer:Le,size:3,stride:P,offset:28}]),Oe=i(K),ze=a(K,[{buffer:Oe,size:4,stride:20,offset:0},{buffer:Oe,size:1,stride:20,offset:16}]),Ee=i(K),be=a(K,[{buffer:Ee,size:2,type:K.FLOAT}]),Ce=h(K,1,F,K.RGBA,K.UNSIGNED_BYTE);Ce.minFilter=K.LINEAR,Ce.magFilter=K.LINEAR;var Ue=new N(K,[0,0],[[0,0,0],[0,0,0]],ue,ie,Le,Ae,Ce,ce,xe,Oe,ze,Ee,be,[0,0,0]),He={levels:[[],[],[]]};for(var Ie in Q)He[Ie]=Q[Ie];return He.colormap=He.colormap||"jet",Ue.update(He),Ue}},8931:function(d,y,r){var t=r(5050),i=r(7498),a=r(5306);d.exports=o;var h=null,u=null,s=null;function m(P){h=[P.LINEAR,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_NEAREST],u=[P.NEAREST,P.LINEAR,P.NEAREST_MIPMAP_NEAREST,P.NEAREST_MIPMAP_LINEAR,P.LINEAR_MIPMAP_NEAREST,P.LINEAR_MIPMAP_LINEAR],s=[P.REPEAT,P.CLAMP_TO_EDGE,P.MIRRORED_REPEAT]}function f(P){return typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&P instanceof HTMLVideoElement||typeof ImageData<"u"&&P instanceof ImageData}var S=function(P,x){i.muls(P,x,255)};function v(P,x,z){var _=P.gl,G=_.getParameter(_.MAX_TEXTURE_SIZE);if(x<0||x>G||z<0||z>G)throw new Error("gl-texture2d: Invalid texture size");return P._shape=[x,z],P.bind(),_.texImage2D(_.TEXTURE_2D,0,P.format,x,z,0,P.format,P.type,null),P._mipLevels=[0],P}function l(P,x,z,_,G,F){this.gl=P,this.handle=x,this.format=G,this.type=F,this._shape=[z,_],this._mipLevels=[0],this._magFilter=P.NEAREST,this._minFilter=P.NEAREST,this._wrapS=P.CLAMP_TO_EDGE,this._wrapT=P.CLAMP_TO_EDGE,this._anisoSamples=1;var N=this,U=[this._wrapS,this._wrapT];Object.defineProperties(U,[{get:function(){return N._wrapS},set:function(H){return N.wrapS=H}},{get:function(){return N._wrapT},set:function(H){return N.wrapT=H}}]),this._wrapVector=U;var O=[this._shape[0],this._shape[1]];Object.defineProperties(O,[{get:function(){return N._shape[0]},set:function(H){return N.width=H}},{get:function(){return N._shape[1]},set:function(H){return N.height=H}}]),this._shapeVector=O}var g=l.prototype;Object.defineProperties(g,{minFilter:{get:function(){return this._minFilter},set:function(P){this.bind();var x=this.gl;if(this.type===x.FLOAT&&h.indexOf(P)>=0&&(x.getExtension("OES_texture_float_linear")||(P=x.NEAREST)),u.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,P),this._minFilter=P}},magFilter:{get:function(){return this._magFilter},set:function(P){this.bind();var x=this.gl;if(this.type===x.FLOAT&&h.indexOf(P)>=0&&(x.getExtension("OES_texture_float_linear")||(P=x.NEAREST)),u.indexOf(P)<0)throw new Error("gl-texture2d: Unknown filter mode "+P);return x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,P),this._magFilter=P}},mipSamples:{get:function(){return this._anisoSamples},set:function(P){var x=this._anisoSamples;if(this._anisoSamples=Math.max(P,1)|0,x!==this._anisoSamples){var z=this.gl.getExtension("EXT_texture_filter_anisotropic");z&&this.gl.texParameterf(this.gl.TEXTURE_2D,z.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(P){if(this.bind(),s.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,P),this._wrapS=P}},wrapT:{get:function(){return this._wrapT},set:function(P){if(this.bind(),s.indexOf(P)<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,P),this._wrapT=P}},wrap:{get:function(){return this._wrapVector},set:function(P){if(Array.isArray(P)||(P=[P,P]),P.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var x=0;x<2;++x)if(s.indexOf(P[x])<0)throw new Error("gl-texture2d: Unknown wrap mode "+P);this._wrapS=P[0],this._wrapT=P[1];var z=this.gl;return this.bind(),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,this._wrapS),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,this._wrapT),P}},shape:{get:function(){return this._shapeVector},set:function(P){if(!Array.isArray(P))P=[P|0,P|0];else if(P.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return v(this,P[0]|0,P[1]|0),[P[0]|0,P[1]|0]}},width:{get:function(){return this._shape[0]},set:function(P){return P=P|0,v(this,P,this._shape[1]),P}},height:{get:function(){return this._shape[1]},set:function(P){return P=P|0,v(this,this._shape[0],P),P}}}),g.bind=function(P){var x=this.gl;return P!==void 0&&x.activeTexture(x.TEXTURE0+(P|0)),x.bindTexture(x.TEXTURE_2D,this.handle),P!==void 0?P|0:x.getParameter(x.ACTIVE_TEXTURE)-x.TEXTURE0},g.dispose=function(){this.gl.deleteTexture(this.handle)},g.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var P=Math.min(this._shape[0],this._shape[1]),x=0;P>0;++x,P>>>=1)this._mipLevels.indexOf(x)<0&&this._mipLevels.push(x)},g.setPixels=function(P,x,z,_){var G=this.gl;this.bind(),Array.isArray(x)?(_=z,z=x[1]|0,x=x[0]|0):(x=x||0,z=z||0),_=_||0;var F=f(P)?P:P.raw;if(F){var N=this._mipLevels.indexOf(_)<0;N?(G.texImage2D(G.TEXTURE_2D,0,this.format,this.format,this.type,F),this._mipLevels.push(_)):G.texSubImage2D(G.TEXTURE_2D,_,x,z,this.format,this.type,F)}else if(P.shape&&P.stride&&P.data){if(P.shape.length<2||x+P.shape[1]>this._shape[1]>>>_||z+P.shape[0]>this._shape[0]>>>_||x<0||z<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");A(G,x,z,_,this.format,this.type,this._mipLevels,P)}else throw new Error("gl-texture2d: Unsupported data type")};function M(P,x){return P.length===3?x[2]===1&&x[1]===P[0]*P[2]&&x[0]===P[2]:x[0]===1&&x[1]===P[0]}function A(P,x,z,_,G,F,N,U){var O=U.dtype,H=U.shape.slice();if(H.length<2||H.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Y=0,q=0,ne=M(H,U.stride.slice());if(O==="float32"?Y=P.FLOAT:O==="float64"?(Y=P.FLOAT,ne=!1,O="float32"):O==="uint8"?Y=P.UNSIGNED_BYTE:(Y=P.UNSIGNED_BYTE,ne=!1,O="uint8"),H.length===2)q=P.LUMINANCE,H=[H[0],H[1],1],U=t(U.data,H,[U.stride[0],U.stride[1],1],U.offset);else if(H.length===3){if(H[2]===1)q=P.ALPHA;else if(H[2]===2)q=P.LUMINANCE_ALPHA;else if(H[2]===3)q=P.RGB;else if(H[2]===4)q=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");H[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===P.LUMINANCE||q===P.ALPHA)&&(G===P.LUMINANCE||G===P.ALPHA)&&(q=G),q!==G)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var oe=U.size,he=N.indexOf(_)<0;if(he&&N.push(_),Y===F&&ne)U.offset===0&&U.data.length===oe?he?P.texImage2D(P.TEXTURE_2D,_,G,H[0],H[1],0,G,F,U.data):P.texSubImage2D(P.TEXTURE_2D,_,x,z,H[0],H[1],G,F,U.data):he?P.texImage2D(P.TEXTURE_2D,_,G,H[0],H[1],0,G,F,U.data.subarray(U.offset,U.offset+oe)):P.texSubImage2D(P.TEXTURE_2D,_,x,z,H[0],H[1],G,F,U.data.subarray(U.offset,U.offset+oe));else{var J;F===P.FLOAT?J=a.mallocFloat32(oe):J=a.mallocUint8(oe);var Z=t(J,H,[H[2],H[2]*H[0],1]);Y===P.FLOAT&&F===P.UNSIGNED_BYTE?S(Z,U):i.assign(Z,U),he?P.texImage2D(P.TEXTURE_2D,_,G,H[0],H[1],0,G,F,J.subarray(0,oe)):P.texSubImage2D(P.TEXTURE_2D,_,x,z,H[0],H[1],G,F,J.subarray(0,oe)),F===P.FLOAT?a.freeFloat32(J):a.freeUint8(J)}}function k(P){var x=P.createTexture();return P.bindTexture(P.TEXTURE_2D,x),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE),x}function w(P,x,z,_,G){var F=P.getParameter(P.MAX_TEXTURE_SIZE);if(x<0||x>F||z<0||z>F)throw new Error("gl-texture2d: Invalid texture shape");if(G===P.FLOAT&&!P.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var N=k(P);return P.texImage2D(P.TEXTURE_2D,0,_,x,z,0,_,G,null),new l(P,N,x,z,_,G)}function E(P,x,z,_,G,F){var N=k(P);return P.texImage2D(P.TEXTURE_2D,0,G,G,F,x),new l(P,N,z,_,G,F)}function b(P,x){var z=x.dtype,_=x.shape.slice(),G=P.getParameter(P.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>G||_[1]<0||_[1]>G)throw new Error("gl-texture2d: Invalid texture size");var F=M(_,x.stride.slice()),N=0;z==="float32"?N=P.FLOAT:z==="float64"?(N=P.FLOAT,F=!1,z="float32"):z==="uint8"?N=P.UNSIGNED_BYTE:(N=P.UNSIGNED_BYTE,F=!1,z="uint8");var U=0;if(_.length===2)U=P.LUMINANCE,_=[_[0],_[1],1],x=t(x.data,_,[x.stride[0],x.stride[1],1],x.offset);else if(_.length===3)if(_[2]===1)U=P.ALPHA;else if(_[2]===2)U=P.LUMINANCE_ALPHA;else if(_[2]===3)U=P.RGB;else if(_[2]===4)U=P.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");N===P.FLOAT&&!P.getExtension("OES_texture_float")&&(N=P.UNSIGNED_BYTE,F=!1);var O,H,Y=x.size;if(F)x.offset===0&&x.data.length===Y?O=x.data:O=x.data.subarray(x.offset,x.offset+Y);else{var q=[_[2],_[2]*_[0],1];H=a.malloc(Y,z);var ne=t(H,_,q,0);(z==="float32"||z==="float64")&&N===P.UNSIGNED_BYTE?S(ne,x):i.assign(ne,x),O=H.subarray(0,Y)}var oe=k(P);return P.texImage2D(P.TEXTURE_2D,0,U,_[0],_[1],0,U,N,O),F||a.free(H),new l(P,oe,_[0],_[1],U,N)}function o(P){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(h||m(P),typeof arguments[1]=="number")return w(P,arguments[1],arguments[2],arguments[3]||P.RGBA,arguments[4]||P.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return w(P,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var x=arguments[1],z=f(x)?x:x.raw;if(z)return E(P,z,x.width|0,x.height|0,arguments[2]||P.RGBA,arguments[3]||P.UNSIGNED_BYTE);if(x.shape&&x.data&&x.stride)return b(P,x)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(d){function y(r,t,i){t?t.bind():r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null);var a=r.getParameter(r.MAX_VERTEX_ATTRIBS)|0;if(i){if(i.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var h=0;h<i.length;++h){var u=i[h];if(u.buffer){var s=u.buffer,m=u.size||4,f=u.type||r.FLOAT,S=!!u.normalized,v=u.stride||0,l=u.offset||0;s.bind(),r.enableVertexAttribArray(h),r.vertexAttribPointer(h,m,f,S,v,l)}else{if(typeof u=="number")r.vertexAttrib1f(h,u);else if(u.length===1)r.vertexAttrib1f(h,u[0]);else if(u.length===2)r.vertexAttrib2f(h,u[0],u[1]);else if(u.length===3)r.vertexAttrib3f(h,u[0],u[1],u[2]);else if(u.length===4)r.vertexAttrib4f(h,u[0],u[1],u[2],u[3]);else throw new Error("gl-vao: Invalid vertex attribute");r.disableVertexAttribArray(h)}}for(;h<a;++h)r.disableVertexAttribArray(h)}else{r.bindBuffer(r.ARRAY_BUFFER,null);for(var h=0;h<a;++h)r.disableVertexAttribArray(h)}}d.exports=y},7220:function(d,y,r){var t=r(3056);function i(h){this.gl=h,this._elements=null,this._attributes=null,this._elementsType=h.UNSIGNED_SHORT}i.prototype.bind=function(){t(this.gl,this._elements,this._attributes)},i.prototype.update=function(h,u,s){this._elements=u,this._attributes=h,this._elementsType=s||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(h,u,s){s=s||0;var m=this.gl;this._elements?m.drawElements(h,u,this._elementsType,s):m.drawArrays(h,s,u)};function a(h){return new i(h)}d.exports=a},3778:function(d,y,r){var t=r(3056);function i(u,s,m,f,S,v){this.location=u,this.dimension=s,this.a=m,this.b=f,this.c=S,this.d=v}i.prototype.bind=function(u){switch(this.dimension){case 1:u.vertexAttrib1f(this.location,this.a);break;case 2:u.vertexAttrib2f(this.location,this.a,this.b);break;case 3:u.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:u.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(u,s,m){this.gl=u,this._ext=s,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=u.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var u=0;u<this._attribs.length;++u)this._attribs[u].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(u,s,m){if(this.bind(),t(this.gl,s,u),this.unbind(),this._attribs.length=0,u)for(var f=0;f<u.length;++f){var S=u[f];typeof S=="number"?this._attribs.push(new i(f,1,S)):Array.isArray(S)&&this._attribs.push(new i(f,S.length,S[0],S[1],S[2],S[3]))}this._useElements=!!s,this._elementsType=m||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(u,s,m){m=m||0;var f=this.gl;this._useElements?f.drawElements(u,s,this._elementsType,m):f.drawArrays(u,m,s)};function h(u,s){return new a(u,s,s.createVertexArrayOES())}d.exports=h},2944:function(d,y,r){var t=r(3778),i=r(7220);function a(u){this.bindVertexArrayOES=u.bindVertexArray.bind(u),this.createVertexArrayOES=u.createVertexArray.bind(u),this.deleteVertexArrayOES=u.deleteVertexArray.bind(u)}function h(u,s,m,f){var S=u.createVertexArray?new a(u):u.getExtension("OES_vertex_array_object"),v;return S?v=t(u,S):v=i(u),v.update(s,m,f),v}d.exports=h},2598:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r}},5879:function(d,y,r){d.exports=h;var t=r(5415),i=r(899),a=r(9305);function h(u,s){var m=t(u[0],u[1],u[2]),f=t(s[0],s[1],s[2]);i(m,m),i(f,f);var S=a(m,f);return S>1?0:Math.acos(S)}},8827:function(d){d.exports=y;function y(r,t){return r[0]=Math.ceil(t[0]),r[1]=Math.ceil(t[1]),r[2]=Math.ceil(t[2]),r}},7622:function(d){d.exports=y;function y(r){var t=new Float32Array(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8782:function(d){d.exports=y;function y(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8501:function(d){d.exports=y;function y(){var r=new Float32Array(3);return r[0]=0,r[1]=0,r[2]=0,r}},903:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=i[0],m=i[1],f=i[2];return r[0]=h*f-u*m,r[1]=u*s-a*f,r[2]=a*m-h*s,r}},5981:function(d,y,r){d.exports=r(8288)},8288:function(d){d.exports=y;function y(r,t){var i=t[0]-r[0],a=t[1]-r[1],h=t[2]-r[2];return Math.sqrt(i*i+a*a+h*h)}},8629:function(d,y,r){d.exports=r(7979)},7979:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r}},9305:function(d){d.exports=y;function y(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}},154:function(d){d.exports=1e-6},4932:function(d,y,r){d.exports=i;var t=r(154);function i(a,h){var u=a[0],s=a[1],m=a[2],f=h[0],S=h[1],v=h[2];return Math.abs(u-f)<=t*Math.max(1,Math.abs(u),Math.abs(f))&&Math.abs(s-S)<=t*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(m-v)<=t*Math.max(1,Math.abs(m),Math.abs(v))}},5777:function(d){d.exports=y;function y(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]}},3306:function(d){d.exports=y;function y(r,t){return r[0]=Math.floor(t[0]),r[1]=Math.floor(t[1]),r[2]=Math.floor(t[2]),r}},7447:function(d,y,r){d.exports=i;var t=r(8501)();function i(a,h,u,s,m,f){var S,v;for(h||(h=3),u||(u=0),s?v=Math.min(s*h+u,a.length):v=a.length,S=u;S<v;S+=h)t[0]=a[S],t[1]=a[S+1],t[2]=a[S+2],m(t,t,f),a[S]=t[0],a[S+1]=t[1],a[S+2]=t[2];return a}},5415:function(d){d.exports=y;function y(r,t,i){var a=new Float32Array(3);return a[0]=r,a[1]=t,a[2]=i,a}},2858:function(d,y,r){d.exports={EPSILON:r(154),create:r(8501),clone:r(7622),angle:r(5879),fromValues:r(5415),copy:r(8782),set:r(831),equals:r(4932),exactEquals:r(5777),add:r(2598),subtract:r(911),sub:r(8921),multiply:r(105),mul:r(5733),divide:r(7979),div:r(8629),min:r(3605),max:r(1716),floor:r(3306),ceil:r(8827),round:r(1624),scale:r(5685),scaleAndAdd:r(6722),distance:r(8288),dist:r(5981),squaredDistance:r(6403),sqrDist:r(5294),length:r(4693),len:r(1468),squaredLength:r(4337),sqrLen:r(3303),negate:r(435),inverse:r(2073),normalize:r(899),dot:r(9305),cross:r(903),lerp:r(1868),random:r(6660),transformMat4:r(3255),transformMat3:r(9908),transformQuat:r(6568),rotateX:r(392),rotateY:r(3222),rotateZ:r(3388),forEach:r(7447)}},2073:function(d){d.exports=y;function y(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r}},1468:function(d,y,r){d.exports=r(4693)},4693:function(d){d.exports=y;function y(r){var t=r[0],i=r[1],a=r[2];return Math.sqrt(t*t+i*i+a*a)}},1868:function(d){d.exports=y;function y(r,t,i,a){var h=t[0],u=t[1],s=t[2];return r[0]=h+a*(i[0]-h),r[1]=u+a*(i[1]-u),r[2]=s+a*(i[2]-s),r}},1716:function(d){d.exports=y;function y(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r}},3605:function(d){d.exports=y;function y(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r}},5733:function(d,y,r){d.exports=r(105)},105:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r}},435:function(d){d.exports=y;function y(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r}},899:function(d){d.exports=y;function y(r,t){var i=t[0],a=t[1],h=t[2],u=i*i+a*a+h*h;return u>0&&(u=1/Math.sqrt(u),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u),r}},6660:function(d){d.exports=y;function y(r,t){t=t||1;var i=Math.random()*2*Math.PI,a=Math.random()*2-1,h=Math.sqrt(1-a*a)*t;return r[0]=Math.cos(i)*h,r[1]=Math.sin(i)*h,r[2]=a*t,r}},392:function(d){d.exports=y;function y(r,t,i,a){var h=i[1],u=i[2],s=t[1]-h,m=t[2]-u,f=Math.sin(a),S=Math.cos(a);return r[0]=t[0],r[1]=h+s*S-m*f,r[2]=u+s*f+m*S,r}},3222:function(d){d.exports=y;function y(r,t,i,a){var h=i[0],u=i[2],s=t[0]-h,m=t[2]-u,f=Math.sin(a),S=Math.cos(a);return r[0]=h+m*f+s*S,r[1]=t[1],r[2]=u+m*S-s*f,r}},3388:function(d){d.exports=y;function y(r,t,i,a){var h=i[0],u=i[1],s=t[0]-h,m=t[1]-u,f=Math.sin(a),S=Math.cos(a);return r[0]=h+s*S-m*f,r[1]=u+s*f+m*S,r[2]=t[2],r}},1624:function(d){d.exports=y;function y(r,t){return r[0]=Math.round(t[0]),r[1]=Math.round(t[1]),r[2]=Math.round(t[2]),r}},5685:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r}},6722:function(d){d.exports=y;function y(r,t,i,a){return r[0]=t[0]+i[0]*a,r[1]=t[1]+i[1]*a,r[2]=t[2]+i[2]*a,r}},831:function(d){d.exports=y;function y(r,t,i,a){return r[0]=t,r[1]=i,r[2]=a,r}},5294:function(d,y,r){d.exports=r(6403)},3303:function(d,y,r){d.exports=r(4337)},6403:function(d){d.exports=y;function y(r,t){var i=t[0]-r[0],a=t[1]-r[1],h=t[2]-r[2];return i*i+a*a+h*h}},4337:function(d){d.exports=y;function y(r){var t=r[0],i=r[1],a=r[2];return t*t+i*i+a*a}},8921:function(d,y,r){d.exports=r(911)},911:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r}},9908:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2];return r[0]=a*i[0]+h*i[3]+u*i[6],r[1]=a*i[1]+h*i[4]+u*i[7],r[2]=a*i[2]+h*i[5]+u*i[8],r}},3255:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=i[3]*a+i[7]*h+i[11]*u+i[15];return s=s||1,r[0]=(i[0]*a+i[4]*h+i[8]*u+i[12])/s,r[1]=(i[1]*a+i[5]*h+i[9]*u+i[13])/s,r[2]=(i[2]*a+i[6]*h+i[10]*u+i[14])/s,r}},6568:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=i[0],m=i[1],f=i[2],S=i[3],v=S*a+m*u-f*h,l=S*h+f*a-s*u,g=S*u+s*h-m*a,M=-s*a-m*h-f*u;return r[0]=v*S+M*-s+l*-f-g*-m,r[1]=l*S+M*-m+g*-s-v*-f,r[2]=g*S+M*-f+v*-m-l*-s,r}},3433:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]+i[0],r[1]=t[1]+i[1],r[2]=t[2]+i[2],r[3]=t[3]+i[3],r}},1413:function(d){d.exports=y;function y(r){var t=new Float32Array(4);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},3470:function(d){d.exports=y;function y(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},5313:function(d){d.exports=y;function y(){var r=new Float32Array(4);return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}},5446:function(d){d.exports=y;function y(r,t){var i=t[0]-r[0],a=t[1]-r[1],h=t[2]-r[2],u=t[3]-r[3];return Math.sqrt(i*i+a*a+h*h+u*u)}},205:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]/i[0],r[1]=t[1]/i[1],r[2]=t[2]/i[2],r[3]=t[3]/i[3],r}},4242:function(d){d.exports=y;function y(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]*t[3]}},5680:function(d){d.exports=y;function y(r,t,i,a){var h=new Float32Array(4);return h[0]=r,h[1]=t,h[2]=i,h[3]=a,h}},4020:function(d,y,r){d.exports={create:r(5313),clone:r(1413),fromValues:r(5680),copy:r(3470),set:r(6453),add:r(3433),subtract:r(2705),multiply:r(746),divide:r(205),min:r(2170),max:r(3030),scale:r(5510),scaleAndAdd:r(4224),distance:r(5446),squaredDistance:r(1542),length:r(8177),squaredLength:r(9037),negate:r(6459),inverse:r(8057),normalize:r(381),dot:r(4242),lerp:r(8746),random:r(3770),transformMat4:r(6342),transformQuat:r(5022)}},8057:function(d){d.exports=y;function y(r,t){return r[0]=1/t[0],r[1]=1/t[1],r[2]=1/t[2],r[3]=1/t[3],r}},8177:function(d){d.exports=y;function y(r){var t=r[0],i=r[1],a=r[2],h=r[3];return Math.sqrt(t*t+i*i+a*a+h*h)}},8746:function(d){d.exports=y;function y(r,t,i,a){var h=t[0],u=t[1],s=t[2],m=t[3];return r[0]=h+a*(i[0]-h),r[1]=u+a*(i[1]-u),r[2]=s+a*(i[2]-s),r[3]=m+a*(i[3]-m),r}},3030:function(d){d.exports=y;function y(r,t,i){return r[0]=Math.max(t[0],i[0]),r[1]=Math.max(t[1],i[1]),r[2]=Math.max(t[2],i[2]),r[3]=Math.max(t[3],i[3]),r}},2170:function(d){d.exports=y;function y(r,t,i){return r[0]=Math.min(t[0],i[0]),r[1]=Math.min(t[1],i[1]),r[2]=Math.min(t[2],i[2]),r[3]=Math.min(t[3],i[3]),r}},746:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]*i[0],r[1]=t[1]*i[1],r[2]=t[2]*i[2],r[3]=t[3]*i[3],r}},6459:function(d){d.exports=y;function y(r,t){return r[0]=-t[0],r[1]=-t[1],r[2]=-t[2],r[3]=-t[3],r}},381:function(d){d.exports=y;function y(r,t){var i=t[0],a=t[1],h=t[2],u=t[3],s=i*i+a*a+h*h+u*u;return s>0&&(s=1/Math.sqrt(s),r[0]=i*s,r[1]=a*s,r[2]=h*s,r[3]=u*s),r}},3770:function(d,y,r){var t=r(381),i=r(5510);d.exports=a;function a(h,u){return u=u||1,h[0]=Math.random(),h[1]=Math.random(),h[2]=Math.random(),h[3]=Math.random(),t(h,h),i(h,h,u),h}},5510:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i,r[3]=t[3]*i,r}},4224:function(d){d.exports=y;function y(r,t,i,a){return r[0]=t[0]+i[0]*a,r[1]=t[1]+i[1]*a,r[2]=t[2]+i[2]*a,r[3]=t[3]+i[3]*a,r}},6453:function(d){d.exports=y;function y(r,t,i,a,h){return r[0]=t,r[1]=i,r[2]=a,r[3]=h,r}},1542:function(d){d.exports=y;function y(r,t){var i=t[0]-r[0],a=t[1]-r[1],h=t[2]-r[2],u=t[3]-r[3];return i*i+a*a+h*h+u*u}},9037:function(d){d.exports=y;function y(r){var t=r[0],i=r[1],a=r[2],h=r[3];return t*t+i*i+a*a+h*h}},2705:function(d){d.exports=y;function y(r,t,i){return r[0]=t[0]-i[0],r[1]=t[1]-i[1],r[2]=t[2]-i[2],r[3]=t[3]-i[3],r}},6342:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=t[3];return r[0]=i[0]*a+i[4]*h+i[8]*u+i[12]*s,r[1]=i[1]*a+i[5]*h+i[9]*u+i[13]*s,r[2]=i[2]*a+i[6]*h+i[10]*u+i[14]*s,r[3]=i[3]*a+i[7]*h+i[11]*u+i[15]*s,r}},5022:function(d){d.exports=y;function y(r,t,i){var a=t[0],h=t[1],u=t[2],s=i[0],m=i[1],f=i[2],S=i[3],v=S*a+m*u-f*h,l=S*h+f*a-s*u,g=S*u+s*h-m*a,M=-s*a-m*h-f*u;return r[0]=v*S+M*-s+l*-f-g*-m,r[1]=l*S+M*-m+g*-s-v*-f,r[2]=g*S+M*-f+v*-m-l*-s,r[3]=t[3],r}},9365:function(d,y,r){var t=r(8096),i=r(7896);d.exports=a;function a(h){for(var u=Array.isArray(h)?h:t(h),s=0;s<u.length;s++){var m=u[s];if(m.type==="preprocessor"){var f=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(f&&f[2]){var S=f[1],v=f[2];return(S?i(v):v).trim()}}}}},3193:function(d,y,r){d.exports=x;var t=r(399),i=r(9746),a=r(9525),h=r(9458),u=r(3585),s=999,m=9999,f=0,S=1,v=2,l=3,g=4,M=5,A=6,k=7,w=8,E=9,b=10,o=11,P=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function x(z){var _=0,G=0,F=s,N,U,O=[],H=[],Y=1,q=0,ne=0,oe=!1,he=!1,J="",Z;z=z||{};var se=a,$=t;z.version==="300 es"&&(se=u,$=h);for(var ee={},le={},_=0;_<se.length;_++)ee[se[_]]=!0;for(var _=0;_<$.length;_++)le[$[_]]=!0;return function(He){return H=[],He!==null?K(He):ue()};function Q(He){He.length&&H.push({type:P[F],data:He,position:ne,line:Y,column:q})}function K(He){_=0,He.toString&&(He=He.toString()),J+=He.replace(/\r\n/g,`
`),Z=J.length;for(var Ie;N=J[_],_<Z;){switch(Ie=_,F){case f:_=Ae();break;case S:_=Le();break;case v:_=xe();break;case l:_=Oe();break;case g:_=be();break;case o:_=Ee();break;case M:_=Ce();break;case m:_=Ue();break;case E:_=ce();break;case s:_=ie();break}if(Ie!==_)switch(J[Ie]){case`
`:q=0,++Y;break;default:++q;break}}return G+=_,J=J.slice(_),H}function ue(He){return O.length&&Q(O.join("")),F=b,Q("(eof)"),H}function ie(){return O=O.length?[]:O,U==="/"&&N==="*"?(ne=G+_-1,F=f,U=N,_+1):U==="/"&&N==="/"?(ne=G+_-1,F=S,U=N,_+1):N==="#"?(F=v,ne=G+_,_):/\s/.test(N)?(F=E,ne=G+_,_):(oe=/\d/.test(N),he=/[^\w_]/.test(N),ne=G+_,F=oe?g:he?l:m,_)}function ce(){return/[^\s]/g.test(N)?(Q(O.join("")),F=s,_):(O.push(N),U=N,_+1)}function xe(){return(N==="\r"||N===`
`)&&U!=="\\"?(Q(O.join("")),F=s,_):(O.push(N),U=N,_+1)}function Le(){return xe()}function Ae(){return N==="/"&&U==="*"?(O.push(N),Q(O.join("")),F=s,_+1):(O.push(N),U=N,_+1)}function Oe(){if(U==="."&&/\d/.test(N))return F=M,_;if(U==="/"&&N==="*")return F=f,_;if(U==="/"&&N==="/")return F=S,_;if(N==="."&&O.length){for(;ze(O););return F=M,_}if(N===";"||N===")"||N==="("){if(O.length)for(;ze(O););return Q(N),F=s,_+1}var He=O.length===2&&N!=="=";if(/[\w_\d\s]/.test(N)||He){for(;ze(O););return F=s,_}return O.push(N),U=N,_+1}function ze(He){var Ie=0,Ge,at;do{if(Ge=i.indexOf(He.slice(0,He.length+Ie).join("")),at=i[Ge],Ge===-1){if(Ie--+He.length>0)continue;at=He.slice(0,1).join("")}return Q(at),ne+=at.length,O=O.slice(at.length),O.length}while(!0)}function Ee(){return/[^a-fA-F0-9]/.test(N)?(Q(O.join("")),F=s,_):(O.push(N),U=N,_+1)}function be(){return N==="."||/[eE]/.test(N)?(O.push(N),F=M,U=N,_+1):N==="x"&&O.length===1&&O[0]==="0"?(F=o,O.push(N),U=N,_+1):/[^\d]/.test(N)?(Q(O.join("")),F=s,_):(O.push(N),U=N,_+1)}function Ce(){return N==="f"&&(O.push(N),U=N,_+=1),/[eE]/.test(N)||(N==="-"||N==="+")&&/[eE]/.test(U)?(O.push(N),U=N,_+1):/[^\d]/.test(N)?(Q(O.join("")),F=s,_):(O.push(N),U=N,_+1)}function Ue(){if(/[^\d\w_]/.test(N)){var He=O.join("");return le[He]?F=w:ee[He]?F=k:F=A,Q(O.join("")),F=s,_}return O.push(N),U=N,_+1}}},3585:function(d,y,r){var t=r(9525);t=t.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),d.exports=t.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(d){d.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(d,y,r){var t=r(399);d.exports=t.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(d){d.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(d){d.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(d,y,r){var t=r(3193);d.exports=i;function i(a,h){var u=t(h),s=[];return s=s.concat(u(a)),s=s.concat(u(null)),s}},6832:function(d){d.exports=function(y){typeof y=="string"&&(y=[y]);for(var r=[].slice.call(arguments,1),t=[],i=0;i<y.length-1;i++)t.push(y[i],r[i]||"");return t.push(y[i]),t.join("")}},5233:function(d,y,r){var t=r(4846);function i(){var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,h),window.removeEventListener("test",null,h)}catch{a=!1}return a}d.exports=t&&i()},2183:function(d,y,r){d.exports=l;var t=r(417),i=r(8211).H;function a(g,M,A){this.vertices=g,this.adjacent=M,this.boundary=A,this.lastVisited=-1}a.prototype.flip=function(){var g=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=g;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};function h(g,M,A){this.vertices=g,this.cell=M,this.index=A}function u(g,M){return i(g.vertices,M.vertices)}function s(g){return function(){var M=this.tuple;return g.apply(this,M)}}function m(g){var M=t[g+1];return M||(M=t),s(M)}var f=[];function S(g,M,A){this.dimension=g,this.vertices=M,this.simplices=A,this.interior=A.filter(function(E){return!E.boundary}),this.tuple=new Array(g+1);for(var k=0;k<=g;++k)this.tuple[k]=this.vertices[k];var w=f[g];w||(w=f[g]=m(g)),this.orient=w}var v=S.prototype;v.handleBoundaryDegeneracy=function(g,M){var A=this.dimension,k=this.vertices.length-1,w=this.tuple,E=this.vertices,b=[g];for(g.lastVisited=-k;b.length>0;){g=b.pop();for(var o=g.adjacent,P=0;P<=A;++P){var x=o[P];if(!(!x.boundary||x.lastVisited<=-k)){for(var z=x.vertices,_=0;_<=A;++_){var G=z[_];G<0?w[_]=M:w[_]=E[G]}var F=this.orient();if(F>0)return x;x.lastVisited=-k,F===0&&b.push(x)}}}return null},v.walk=function(g,M){var A=this.vertices.length-1,k=this.dimension,w=this.vertices,E=this.tuple,b=M?this.interior.length*Math.random()|0:this.interior.length-1,o=this.interior[b];e:for(;!o.boundary;){for(var P=o.vertices,x=o.adjacent,z=0;z<=k;++z)E[z]=w[P[z]];o.lastVisited=A;for(var z=0;z<=k;++z){var _=x[z];if(!(_.lastVisited>=A)){var G=E[z];E[z]=g;var F=this.orient();if(E[z]=G,F<0){o=_;continue e}else _.boundary?_.lastVisited=-A:_.lastVisited=A}}return}return o},v.addPeaks=function(g,M){var A=this.vertices.length-1,k=this.dimension,w=this.vertices,E=this.tuple,b=this.interior,o=this.simplices,P=[M];M.lastVisited=A,M.vertices[M.vertices.indexOf(-1)]=A,M.boundary=!1,b.push(M);for(var x=[];P.length>0;){var M=P.pop(),z=M.vertices,_=M.adjacent,G=z.indexOf(A);if(!(G<0)){for(var F=0;F<=k;++F)if(F!==G){var N=_[F];if(!(!N.boundary||N.lastVisited>=A)){var U=N.vertices;if(N.lastVisited!==-A){for(var O=0,H=0;H<=k;++H)U[H]<0?(O=H,E[H]=g):E[H]=w[U[H]];var Y=this.orient();if(Y>0){U[O]=A,N.boundary=!1,b.push(N),P.push(N),N.lastVisited=A;continue}else N.lastVisited=-A}var q=N.adjacent,ne=z.slice(),oe=_.slice(),he=new a(ne,oe,!0);o.push(he);var J=q.indexOf(M);if(!(J<0)){q[J]=he,oe[G]=N,ne[F]=-1,oe[F]=M,_[F]=he,he.flip();for(var H=0;H<=k;++H){var Z=ne[H];if(!(Z<0||Z===A)){for(var se=new Array(k-1),$=0,ee=0;ee<=k;++ee){var le=ne[ee];le<0||ee===H||(se[$++]=le)}x.push(new h(se,he,H))}}}}}}}x.sort(u);for(var F=0;F+1<x.length;F+=2){var Q=x[F],K=x[F+1],ue=Q.index,ie=K.index;ue<0||ie<0||(Q.cell.adjacent[Q.index]=K.cell,K.cell.adjacent[K.index]=Q.cell)}},v.insert=function(g,M){var A=this.vertices;A.push(g);var k=this.walk(g,M);if(k){for(var w=this.dimension,E=this.tuple,b=0;b<=w;++b){var o=k.vertices[b];o<0?E[b]=g:E[b]=A[o]}var P=this.orient(E);P<0||P===0&&(k=this.handleBoundaryDegeneracy(k,g),!k)||this.addPeaks(g,k)}},v.boundary=function(){for(var g=this.dimension,M=[],A=this.simplices,k=A.length,w=0;w<k;++w){var E=A[w];if(E.boundary){for(var b=new Array(g),o=E.vertices,P=0,x=0,z=0;z<=g;++z)o[z]>=0?b[P++]=o[z]:x=z&1;if(x===(g&1)){var _=b[0];b[0]=b[1],b[1]=_}M.push(b)}}return M};function l(g,M){var A=g.length;if(A===0)throw new Error("Must have at least d+1 points");var k=g[0].length;if(A<=k)throw new Error("Must input at least d+1 points");var w=g.slice(0,k+1),E=t.apply(void 0,w);if(E===0)throw new Error("Input not in general position");for(var b=new Array(k+1),o=0;o<=k;++o)b[o]=o;E<0&&(b[0]=1,b[1]=0);for(var P=new a(b,new Array(k+1),!1),x=P.adjacent,z=new Array(k+2),o=0;o<=k;++o){for(var _=b.slice(),G=0;G<=k;++G)G===o&&(_[G]=-1);var F=_[0];_[0]=_[1],_[1]=F;var N=new a(_,new Array(k+1),!0);x[o]=N,z[o]=N}z[k+1]=P;for(var o=0;o<=k;++o)for(var _=x[o].vertices,U=x[o].adjacent,G=0;G<=k;++G){var O=_[G];if(O<0){U[G]=P;continue}for(var H=0;H<=k;++H)x[H].vertices.indexOf(O)<0&&(U[G]=x[H])}for(var Y=new S(k,w,z),q=!!M,o=k+1;o<A;++o)Y.insert(g[o],q);return Y.boundary()}},9014:function(d,y,r){var t=r(5070),i=0,a=1,h=2;d.exports=P;function u(x,z,_,G,F){this.mid=x,this.left=z,this.right=_,this.leftPoints=G,this.rightPoints=F,this.count=(z?z.count:0)+(_?_.count:0)+G.length}var s=u.prototype;function m(x,z){x.mid=z.mid,x.left=z.left,x.right=z.right,x.leftPoints=z.leftPoints,x.rightPoints=z.rightPoints,x.count=z.count}function f(x,z){var _=E(z);x.mid=_.mid,x.left=_.left,x.right=_.right,x.leftPoints=_.leftPoints,x.rightPoints=_.rightPoints,x.count=_.count}function S(x,z){var _=x.intervals([]);_.push(z),f(x,_)}function v(x,z){var _=x.intervals([]),G=_.indexOf(z);return G<0?i:(_.splice(G,1),f(x,_),a)}s.intervals=function(x){return x.push.apply(x,this.leftPoints),this.left&&this.left.intervals(x),this.right&&this.right.intervals(x),x},s.insert=function(x){var z=this.count-this.leftPoints.length;if(this.count+=1,x[1]<this.mid)this.left?4*(this.left.count+1)>3*(z+1)?S(this,x):this.left.insert(x):this.left=E([x]);else if(x[0]>this.mid)this.right?4*(this.right.count+1)>3*(z+1)?S(this,x):this.right.insert(x):this.right=E([x]);else{var _=t.ge(this.leftPoints,x,k),G=t.ge(this.rightPoints,x,w);this.leftPoints.splice(_,0,x),this.rightPoints.splice(G,0,x)}},s.remove=function(x){var z=this.count-this.leftPoints;if(x[1]<this.mid){if(!this.left)return i;var _=this.right?this.right.count:0;if(4*_>3*(z-1))return v(this,x);var G=this.left.remove(x);return G===h?(this.left=null,this.count-=1,a):(G===a&&(this.count-=1),G)}else if(x[0]>this.mid){if(!this.right)return i;var F=this.left?this.left.count:0;if(4*F>3*(z-1))return v(this,x);var G=this.right.remove(x);return G===h?(this.right=null,this.count-=1,a):(G===a&&(this.count-=1),G)}else{if(this.count===1)return this.leftPoints[0]===x?h:i;if(this.leftPoints.length===1&&this.leftPoints[0]===x){if(this.left&&this.right){for(var N=this,U=this.left;U.right;)N=U,U=U.right;if(N===this)U.right=this.right;else{var O=this.left,G=this.right;N.count-=U.count,N.right=U.left,U.left=O,U.right=G}m(this,U),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return a}for(var O=t.ge(this.leftPoints,x,k);O<this.leftPoints.length&&this.leftPoints[O][0]===x[0];++O)if(this.leftPoints[O]===x){this.count-=1,this.leftPoints.splice(O,1);for(var G=t.ge(this.rightPoints,x,w);G<this.rightPoints.length&&this.rightPoints[G][1]===x[1];++G)if(this.rightPoints[G]===x)return this.rightPoints.splice(G,1),a}return i}};function l(x,z,_){for(var G=0;G<x.length&&x[G][0]<=z;++G){var F=_(x[G]);if(F)return F}}function g(x,z,_){for(var G=x.length-1;G>=0&&x[G][1]>=z;--G){var F=_(x[G]);if(F)return F}}function M(x,z){for(var _=0;_<x.length;++_){var G=z(x[_]);if(G)return G}}s.queryPoint=function(x,z){if(x<this.mid){if(this.left){var _=this.left.queryPoint(x,z);if(_)return _}return l(this.leftPoints,x,z)}else if(x>this.mid){if(this.right){var _=this.right.queryPoint(x,z);if(_)return _}return g(this.rightPoints,x,z)}else return M(this.leftPoints,z)},s.queryInterval=function(x,z,_){if(x<this.mid&&this.left){var G=this.left.queryInterval(x,z,_);if(G)return G}if(z>this.mid&&this.right){var G=this.right.queryInterval(x,z,_);if(G)return G}return z<this.mid?l(this.leftPoints,z,_):x>this.mid?g(this.rightPoints,x,_):M(this.leftPoints,_)};function A(x,z){return x-z}function k(x,z){var _=x[0]-z[0];return _||x[1]-z[1]}function w(x,z){var _=x[1]-z[1];return _||x[0]-z[0]}function E(x){if(x.length===0)return null;for(var z=[],_=0;_<x.length;++_)z.push(x[_][0],x[_][1]);z.sort(A);for(var G=z[z.length>>1],F=[],N=[],U=[],_=0;_<x.length;++_){var O=x[_];O[1]<G?F.push(O):G<O[0]?N.push(O):U.push(O)}var H=U,Y=U.slice();return H.sort(k),Y.sort(w),new u(G,E(F),E(N),H,Y)}function b(x){this.root=x}var o=b.prototype;o.insert=function(x){this.root?this.root.insert(x):this.root=new u(x[0],null,null,[x],[x])},o.remove=function(x){if(this.root){var z=this.root.remove(x);return z===h&&(this.root=null),z!==i}return!1},o.queryPoint=function(x,z){if(this.root)return this.root.queryPoint(x,z)},o.queryInterval=function(x,z,_){if(x<=z&&this.root)return this.root.queryInterval(x,z,_)},Object.defineProperty(o,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(o,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function P(x){return!x||x.length===0?new b(null):new b(E(x))}},9560:function(d){function y(r){for(var t=new Array(r),i=0;i<r;++i)t[i]=i;return t}d.exports=y},4846:function(d){d.exports=!0},4780:function(d){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/d.exports=function(t){return t!=null&&(y(t)||r(t)||!!t._isBuffer)};function y(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&y(t.slice(0,0))}},3596:function(d){d.exports=function(y){for(var r=y.length,t,i=0;i<r;i++)if(t=y.charCodeAt(i),(t<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(d){function y(r,t,i){return r*(1-i)+t*i}d.exports=y},7191:function(d,y,r){var t=r(4690),i=r(9823),a=r(7332),h=r(7787),u=r(7437),s=r(2142),m={length:r(4693),normalize:r(899),dot:r(9305),cross:r(903)},f=i(),S=i(),v=[0,0,0,0],l=[[0,0,0],[0,0,0],[0,0,0]],g=[0,0,0];d.exports=function(E,b,o,P,x,z){if(b||(b=[0,0,0]),o||(o=[0,0,0]),P||(P=[0,0,0]),x||(x=[0,0,0,1]),z||(z=[0,0,0,1]),!t(f,E)||(a(S,f),S[3]=0,S[7]=0,S[11]=0,S[15]=1,Math.abs(h(S)<1e-8)))return!1;var _=f[3],G=f[7],F=f[11],N=f[12],U=f[13],O=f[14],H=f[15];if(_!==0||G!==0||F!==0){v[0]=_,v[1]=G,v[2]=F,v[3]=H;var Y=u(S,S);if(!Y)return!1;s(S,S),M(x,v,S)}else x[0]=x[1]=x[2]=0,x[3]=1;if(b[0]=N,b[1]=U,b[2]=O,A(l,f),o[0]=m.length(l[0]),m.normalize(l[0],l[0]),P[0]=m.dot(l[0],l[1]),k(l[1],l[1],l[0],1,-P[0]),o[1]=m.length(l[1]),m.normalize(l[1],l[1]),P[0]/=o[1],P[1]=m.dot(l[0],l[2]),k(l[2],l[2],l[0],1,-P[1]),P[2]=m.dot(l[1],l[2]),k(l[2],l[2],l[1],1,-P[2]),o[2]=m.length(l[2]),m.normalize(l[2],l[2]),P[1]/=o[2],P[2]/=o[2],m.cross(g,l[1],l[2]),m.dot(l[0],g)<0)for(var q=0;q<3;q++)o[q]*=-1,l[q][0]*=-1,l[q][1]*=-1,l[q][2]*=-1;return z[0]=.5*Math.sqrt(Math.max(1+l[0][0]-l[1][1]-l[2][2],0)),z[1]=.5*Math.sqrt(Math.max(1-l[0][0]+l[1][1]-l[2][2],0)),z[2]=.5*Math.sqrt(Math.max(1-l[0][0]-l[1][1]+l[2][2],0)),z[3]=.5*Math.sqrt(Math.max(1+l[0][0]+l[1][1]+l[2][2],0)),l[2][1]>l[1][2]&&(z[0]=-z[0]),l[0][2]>l[2][0]&&(z[1]=-z[1]),l[1][0]>l[0][1]&&(z[2]=-z[2]),!0};function M(w,E,b){var o=E[0],P=E[1],x=E[2],z=E[3];return w[0]=b[0]*o+b[4]*P+b[8]*x+b[12]*z,w[1]=b[1]*o+b[5]*P+b[9]*x+b[13]*z,w[2]=b[2]*o+b[6]*P+b[10]*x+b[14]*z,w[3]=b[3]*o+b[7]*P+b[11]*x+b[15]*z,w}function A(w,E){w[0][0]=E[0],w[0][1]=E[1],w[0][2]=E[2],w[1][0]=E[4],w[1][1]=E[5],w[1][2]=E[6],w[2][0]=E[8],w[2][1]=E[9],w[2][2]=E[10]}function k(w,E,b,o,P){w[0]=E[0]*o+b[0]*P,w[1]=E[1]*o+b[1]*P,w[2]=E[2]*o+b[2]*P}},4690:function(d){d.exports=function(r,t){var i=t[15];if(i===0)return!1;for(var a=1/i,h=0;h<16;h++)r[h]=t[h]*a;return!0}},7649:function(d,y,r){var t=r(1868),i=r(1102),a=r(7191),h=r(7787),u=r(1116),s=v(),m=v(),f=v();d.exports=S;function S(M,A,k,w){if(h(A)===0||h(k)===0)return!1;var E=a(A,s.translate,s.scale,s.skew,s.perspective,s.quaternion),b=a(k,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!b?!1:(t(f.translate,s.translate,m.translate,w),t(f.skew,s.skew,m.skew,w),t(f.scale,s.scale,m.scale,w),t(f.perspective,s.perspective,m.perspective,w),u(f.quaternion,s.quaternion,m.quaternion,w),i(M,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}function v(){return{translate:l(),scale:l(1),skew:l(),perspective:g(),quaternion:g()}}function l(M){return[M||0,M||0,M||0]}function g(){return[0,0,0,1]}},1102:function(d,y,r){var t={identity:r(9947),translate:r(998),multiply:r(104),create:r(9823),scale:r(3668),fromRotationTranslation:r(7280)};t.create();var i=t.create();d.exports=function(h,u,s,m,f,S){return t.identity(h),t.fromRotationTranslation(h,S,u),h[3]=f[0],h[7]=f[1],h[11]=f[2],h[15]=f[3],t.identity(i),m[2]!==0&&(i[9]=m[2],t.multiply(h,h,i)),m[1]!==0&&(i[9]=0,i[8]=m[1],t.multiply(h,h,i)),m[0]!==0&&(i[8]=0,i[4]=m[0],t.multiply(h,h,i)),t.scale(h,h,s),h}},9298:function(d,y,r){var t=r(5070),i=r(7649),a=r(7437),h=r(6109),u=r(7115),s=r(5240),m=r(3012),f=r(998);r(3668);var S=r(899),v=[0,0,0];d.exports=A;function l(k){this._components=k.slice(),this._time=[0],this.prevMatrix=k.slice(),this.nextMatrix=k.slice(),this.computedMatrix=k.slice(),this.computedInverse=k.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var g=l.prototype;g.recalcMatrix=function(k){var w=this._time,E=t.le(w,k),b=this.computedMatrix;if(!(E<0)){var o=this._components;if(E===w.length-1)for(var P=16*E,x=0;x<16;++x)b[x]=o[P++];else{for(var z=w[E+1]-w[E],P=16*E,_=this.prevMatrix,G=!0,x=0;x<16;++x)_[x]=o[P++];for(var F=this.nextMatrix,x=0;x<16;++x)F[x]=o[P++],G=G&&_[x]===F[x];if(z<1e-6||G)for(var x=0;x<16;++x)b[x]=_[x];else i(b,_,F,(k-w[E])/z)}var N=this.computedUp;N[0]=b[1],N[1]=b[5],N[2]=b[9],S(N,N);var U=this.computedInverse;a(U,b);var O=this.computedEye,H=U[15];O[0]=U[12]/H,O[1]=U[13]/H,O[2]=U[14]/H;for(var Y=this.computedCenter,q=Math.exp(this.computedRadius[0]),x=0;x<3;++x)Y[x]=O[x]-b[2+4*x]*q}},g.idle=function(k){if(!(k<this.lastT())){for(var w=this._components,E=w.length-16,b=0;b<16;++b)w.push(w[E++]);this._time.push(k)}},g.flush=function(k){var w=t.gt(this._time,k)-2;w<0||(this._time.splice(0,w),this._components.splice(0,16*w))},g.lastT=function(){return this._time[this._time.length-1]},g.lookAt=function(k,w,E,b){this.recalcMatrix(k),w=w||this.computedEye,E=E||v,b=b||this.computedUp,this.setMatrix(k,m(this.computedMatrix,w,E,b));for(var o=0,P=0;P<3;++P)o+=Math.pow(E[P]-w[P],2);o=Math.log(Math.sqrt(o)),this.computedRadius[0]=o},g.rotate=function(k,w,E,b){this.recalcMatrix(k);var o=this.computedInverse;w&&u(o,o,w),E&&h(o,o,E),b&&s(o,o,b),this.setMatrix(k,a(this.computedMatrix,o))};var M=[0,0,0];g.pan=function(k,w,E,b){M[0]=-(w||0),M[1]=-(E||0),M[2]=-(b||0),this.recalcMatrix(k);var o=this.computedInverse;f(o,o,M),this.setMatrix(k,a(o,o))},g.translate=function(k,w,E,b){M[0]=w||0,M[1]=E||0,M[2]=b||0,this.recalcMatrix(k);var o=this.computedMatrix;f(o,o,M),this.setMatrix(k,o)},g.setMatrix=function(k,w){if(!(k<this.lastT())){this._time.push(k);for(var E=0;E<16;++E)this._components.push(w[E])}},g.setDistance=function(k,w){this.computedRadius[0]=w},g.setDistanceLimits=function(k,w){var E=this._limits;E[0]=k,E[1]=w},g.getDistanceLimits=function(k){var w=this._limits;return k?(k[0]=w[0],k[1]=w[1],k):w};function A(k){k=k||{};var w=k.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new l(w)}},3266:function(d,y,r){d.exports=i;var t=r(417)[3];function i(a){var h=a.length;if(h<3){for(var g=new Array(h),u=0;u<h;++u)g[u]=u;return h===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:g}for(var s=new Array(h),u=0;u<h;++u)s[u]=u;s.sort(function(w,E){var b=a[w][0]-a[E][0];return b||a[w][1]-a[E][1]});for(var m=[s[0],s[1]],f=[s[0],s[1]],u=2;u<h;++u){for(var S=s[u],v=a[S],l=m.length;l>1&&t(a[m[l-2]],a[m[l-1]],v)<=0;)l-=1,m.pop();for(m.push(S),l=f.length;l>1&&t(a[f[l-2]],a[f[l-1]],v)>=0;)l-=1,f.pop();f.push(S)}for(var g=new Array(f.length+m.length-2),M=0,u=0,A=m.length;u<A;++u)g[M++]=m[u];for(var k=f.length-2;k>0;--k)g[M++]=f[k];return g}},6145:function(d,y,r){d.exports=i;var t=r(4110);function i(a,h){h||(h=a,a=window);var u=0,s=0,m=0,f={shift:!1,alt:!1,control:!1,meta:!1},S=!1;function v(x){var z=!1;return"altKey"in x&&(z=z||x.altKey!==f.alt,f.alt=!!x.altKey),"shiftKey"in x&&(z=z||x.shiftKey!==f.shift,f.shift=!!x.shiftKey),"ctrlKey"in x&&(z=z||x.ctrlKey!==f.control,f.control=!!x.ctrlKey),"metaKey"in x&&(z=z||x.metaKey!==f.meta,f.meta=!!x.metaKey),z}function l(x,z){var _=t.x(z),G=t.y(z);"buttons"in z&&(x=z.buttons|0),(x!==u||_!==s||G!==m||v(z))&&(u=x|0,s=_||0,m=G||0,h&&h(u,s,m,f))}function g(x){l(0,x)}function M(){(u||s||m||f.shift||f.alt||f.meta||f.control)&&(s=m=0,u=0,f.shift=f.alt=f.control=f.meta=!1,h&&h(0,0,0,f))}function A(x){v(x)&&h&&h(u,s,m,f)}function k(x){t.buttons(x)===0?l(0,x):l(u,x)}function w(x){l(u|t.buttons(x),x)}function E(x){l(u&~t.buttons(x),x)}function b(){S||(S=!0,a.addEventListener("mousemove",k),a.addEventListener("mousedown",w),a.addEventListener("mouseup",E),a.addEventListener("mouseleave",g),a.addEventListener("mouseenter",g),a.addEventListener("mouseout",g),a.addEventListener("mouseover",g),a.addEventListener("blur",M),a.addEventListener("keyup",A),a.addEventListener("keydown",A),a.addEventListener("keypress",A),a!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",A),window.addEventListener("keydown",A),window.addEventListener("keypress",A)))}function o(){S&&(S=!1,a.removeEventListener("mousemove",k),a.removeEventListener("mousedown",w),a.removeEventListener("mouseup",E),a.removeEventListener("mouseleave",g),a.removeEventListener("mouseenter",g),a.removeEventListener("mouseout",g),a.removeEventListener("mouseover",g),a.removeEventListener("blur",M),a.removeEventListener("keyup",A),a.removeEventListener("keydown",A),a.removeEventListener("keypress",A),a!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",A),window.removeEventListener("keydown",A),window.removeEventListener("keypress",A)))}b();var P={element:a};return Object.defineProperties(P,{enabled:{get:function(){return S},set:function(x){x?b():o()},enumerable:!0},buttons:{get:function(){return u},enumerable:!0},x:{get:function(){return s},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),P}},2565:function(d){var y={left:0,top:0};d.exports=r;function r(i,a,h){a=a||i.currentTarget||i.srcElement,Array.isArray(h)||(h=[0,0]);var u=i.clientX||0,s=i.clientY||0,m=t(a);return h[0]=u-m.left,h[1]=s-m.top,h}function t(i){return i===window||i===document||i===document.body?y:i.getBoundingClientRect()}},4110:function(d,y){function r(h){if(typeof h=="object"){if("buttons"in h)return h.buttons;if("which"in h){var u=h.which;if(u===2)return 4;if(u===3)return 2;if(u>0)return 1<<u-1}else if("button"in h){var u=h.button;if(u===1)return 4;if(u===2)return 2;if(u>=0)return 1<<u}}return 0}y.buttons=r;function t(h){return h.target||h.srcElement||window}y.element=t;function i(h){if(typeof h=="object"){if("offsetX"in h)return h.offsetX;var u=t(h),s=u.getBoundingClientRect();return h.clientX-s.left}return 0}y.x=i;function a(h){if(typeof h=="object"){if("offsetY"in h)return h.offsetY;var u=t(h),s=u.getBoundingClientRect();return h.clientY-s.top}return 0}y.y=a},6475:function(d,y,r){var t=r(14);d.exports=i;function i(a,h,u){typeof a=="function"&&(u=!!h,h=a,a=window);var s=t("ex",a),m=function(f){u&&f.preventDefault();var S=f.deltaX||0,v=f.deltaY||0,l=f.deltaZ||0,g=f.deltaMode,M=1;switch(g){case 1:M=s;break;case 2:M=window.innerHeight;break}if(S*=M,v*=M,l*=M,S||v||l)return h(S,v,l,f)};return a.addEventListener("wheel",m),m}},9284:function(d,y,r){var t=r(5306);d.exports=h;var i={"false,0,1":function(s,m,f,S,v){return function(g,M,A,k){var w=g.shape[0]|0,E=g.shape[1]|0,b=g.data,o=g.offset|0,P=g.stride[0]|0,x=g.stride[1]|0,z=o,_,G=-P|0,F=0,N=-x|0,U=0,O=-P-x|0,H=0,Y=P|0,q=x-P*w|0,ne=0,oe=0,he=0,J=2*w|0,Z=S(J),se=S(J),$=0,ee=0,le=-1,Q=-1,K=0,ue=-w|0,ie=w|0,ce=0,xe=-w-1|0,Le=w-1|0,Ae=0,Oe=0,ze=0;for(ne=0;ne<w;++ne)Z[$++]=f(b[z],M,A,k),z+=Y;if(z+=q,E>0){if(oe=1,Z[$++]=f(b[z],M,A,k),z+=Y,w>0)for(ne=1,_=b[z],ee=Z[$]=f(_,M,A,k),K=Z[$+le],ce=Z[$+ue],Ae=Z[$+xe],(ee!==K||ee!==ce||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,K,ce,Ae,M,A,k),Oe=se[$]=he++),$+=1,z+=Y,ne=2;ne<w;++ne)_=b[z],ee=Z[$]=f(_,M,A,k),K=Z[$+le],ce=Z[$+ue],Ae=Z[$+xe],(ee!==K||ee!==ce||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,K,ce,Ae,M,A,k),Oe=se[$]=he++,Ae!==K&&m(se[$+le],Oe,H,F,Ae,K,M,A,k)),$+=1,z+=Y;for(z+=q,$=0,ze=le,le=Q,Q=ze,ze=ue,ue=ie,ie=ze,ze=xe,xe=Le,Le=ze,oe=2;oe<E;++oe){if(Z[$++]=f(b[z],M,A,k),z+=Y,w>0)for(ne=1,_=b[z],ee=Z[$]=f(_,M,A,k),K=Z[$+le],ce=Z[$+ue],Ae=Z[$+xe],(ee!==K||ee!==ce||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,K,ce,Ae,M,A,k),Oe=se[$]=he++,Ae!==ce&&m(se[$+ue],Oe,U,H,ce,Ae,M,A,k)),$+=1,z+=Y,ne=2;ne<w;++ne)_=b[z],ee=Z[$]=f(_,M,A,k),K=Z[$+le],ce=Z[$+ue],Ae=Z[$+xe],(ee!==K||ee!==ce||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,K,ce,Ae,M,A,k),Oe=se[$]=he++,Ae!==ce&&m(se[$+ue],Oe,U,H,ce,Ae,M,A,k),Ae!==K&&m(se[$+le],Oe,H,F,Ae,K,M,A,k)),$+=1,z+=Y;oe&1&&($=0),ze=le,le=Q,Q=ze,ze=ue,ue=ie,ie=ze,ze=xe,xe=Le,Le=ze,z+=q}}v(se),v(Z)}},"false,1,0":function(s,m,f,S,v){return function(g,M,A,k){var w=g.shape[0]|0,E=g.shape[1]|0,b=g.data,o=g.offset|0,P=g.stride[0]|0,x=g.stride[1]|0,z=o,_,G=-P|0,F=0,N=-x|0,U=0,O=-P-x|0,H=0,Y=x|0,q=P-x*E|0,ne=0,oe=0,he=0,J=2*E|0,Z=S(J),se=S(J),$=0,ee=0,le=-1,Q=-1,K=0,ue=-E|0,ie=E|0,ce=0,xe=-E-1|0,Le=E-1|0,Ae=0,Oe=0,ze=0;for(oe=0;oe<E;++oe)Z[$++]=f(b[z],M,A,k),z+=Y;if(z+=q,w>0){if(ne=1,Z[$++]=f(b[z],M,A,k),z+=Y,E>0)for(oe=1,_=b[z],ee=Z[$]=f(_,M,A,k),ce=Z[$+ue],K=Z[$+le],Ae=Z[$+xe],(ee!==ce||ee!==K||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,ce,K,Ae,M,A,k),Oe=se[$]=he++),$+=1,z+=Y,oe=2;oe<E;++oe)_=b[z],ee=Z[$]=f(_,M,A,k),ce=Z[$+ue],K=Z[$+le],Ae=Z[$+xe],(ee!==ce||ee!==K||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,ce,K,Ae,M,A,k),Oe=se[$]=he++,Ae!==K&&m(se[$+le],Oe,U,H,K,Ae,M,A,k)),$+=1,z+=Y;for(z+=q,$=0,ze=ue,ue=ie,ie=ze,ze=le,le=Q,Q=ze,ze=xe,xe=Le,Le=ze,ne=2;ne<w;++ne){if(Z[$++]=f(b[z],M,A,k),z+=Y,E>0)for(oe=1,_=b[z],ee=Z[$]=f(_,M,A,k),ce=Z[$+ue],K=Z[$+le],Ae=Z[$+xe],(ee!==ce||ee!==K||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,ce,K,Ae,M,A,k),Oe=se[$]=he++,Ae!==ce&&m(se[$+ue],Oe,H,F,Ae,ce,M,A,k)),$+=1,z+=Y,oe=2;oe<E;++oe)_=b[z],ee=Z[$]=f(_,M,A,k),ce=Z[$+ue],K=Z[$+le],Ae=Z[$+xe],(ee!==ce||ee!==K||ee!==Ae)&&(F=b[z+G],U=b[z+N],H=b[z+O],s(ne,oe,_,F,U,H,ee,ce,K,Ae,M,A,k),Oe=se[$]=he++,Ae!==K&&m(se[$+le],Oe,U,H,K,Ae,M,A,k),Ae!==ce&&m(se[$+ue],Oe,H,F,Ae,ce,M,A,k)),$+=1,z+=Y;ne&1&&($=0),ze=ue,ue=ie,ie=ze,ze=le,le=Q,Q=ze,ze=xe,xe=Le,Le=ze,z+=q}}v(se),v(Z)}}};function a(u,s,m,f,S,v){var l=[v,S].join(","),g=i[l];return g(u,s,m,t.mallocUint32,t.freeUint32)}function h(u){function s(M){throw new Error("ndarray-extract-contour: "+M)}typeof u!="object"&&s("Must specify arguments");var m=u.order;Array.isArray(m)||s("Must specify order");var f=u.arrayArguments||1;f<1&&s("Must have at least one array argument");var S=u.scalarArguments||0;S<0&&s("Scalar arg count must be > 0"),typeof u.vertex!="function"&&s("Must specify vertex creation function"),typeof u.cell!="function"&&s("Must specify cell creation function"),typeof u.phase!="function"&&s("Must specify phase function");for(var v=u.getters||[],l=new Array(f),g=0;g<f;++g)v.indexOf(g)>=0?l[g]=!0:l[g]=!1;return a(u.vertex,u.cell,u.phase,S,m,l)}},9144:function(d,y,r){var t=r(3094),i={zero:function(A,k,w,E){var b=A[0],o=w[0];E|=0;var P=0,x=o;for(P=0;P<b;++P)k[E]=0,E+=x},fdTemplate1:function(A,k,w,E,b,o,P){var x=A[0],z=w[0],_=o[0],G=-1*z,F=z;E|=0,P|=0;var N=0,U=z,O=_;for(N=0;N<x;++N)b[P]=.5*(k[E+G]-k[E+F]),E+=U,P+=O},fdTemplate2:function(A,k,w,E,b,o,P,x,z,_){var G=A[0],F=A[1],N=w[0],U=w[1],O=o[0],H=o[1],Y=z[0],q=z[1],ne=-1*N,oe=N,he=-1*U,J=U;E|=0,P|=0,_|=0;var Z=0,se=0,$=U,ee=N-F*U,le=H,Q=O-F*H,K=q,ue=Y-F*q;for(se=0;se<G;++se){for(Z=0;Z<F;++Z)b[P]=.5*(k[E+ne]-k[E+oe]),x[_]=.5*(k[E+he]-k[E+J]),E+=$,P+=le,_+=K;E+=ee,P+=Q,_+=ue}}},a={cdiff:function(A){var k={};return function(E,b,o){var P=E.dtype,x=E.order,z=b.dtype,_=b.order,G=o.dtype,F=o.order,N=[P,x.join(),z,_.join(),G,F.join()].join(),U=k[N];return U||(k[N]=U=A([P,x,z,_,G,F])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0,o.data,o.stride,o.offset|0)}},zero:function(A){var k={};return function(E){var b=E.dtype,o=E.order,P=[b,o.join()].join(),x=k[P];return x||(k[P]=x=A([b,o])),x(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(A){var k={};return function(E,b){var o=E.dtype,P=E.order,x=b.dtype,z=b.order,_=[o,P.join(),x,z.join()].join(),G=k[_];return G||(k[_]=G=A([o,P,x,z])),G(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0)}},fdTemplate2:function(A){var k={};return function(E,b,o){var P=E.dtype,x=E.order,z=b.dtype,_=b.order,G=o.dtype,F=o.order,N=[P,x.join(),z,_.join(),G,F.join()].join(),U=k[N];return U||(k[N]=U=A([P,x,z,_,G,F])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,b.data,b.stride,b.offset|0,o.data,o.stride,o.offset|0)}}};function h(A){var k=a[A.funcName];return k(u.bind(void 0,A))}function u(A){return i[A.funcName]}function s(A){return h({funcName:A.funcName})}var m={},f={},S=s({funcName:"cdiff"}),v=s({funcName:"zero"});function l(A){return A in m?m[A]:m[A]=s({funcName:"fdTemplate"+A})}function g(A,k,w,E){return function(b,o){var P=o.shape.slice();return P[0]>2&&P[1]>2&&E(o.pick(-1,-1).lo(1,1).hi(P[0]-2,P[1]-2),b.pick(-1,-1,0).lo(1,1).hi(P[0]-2,P[1]-2),b.pick(-1,-1,1).lo(1,1).hi(P[0]-2,P[1]-2)),P[1]>2&&(w(o.pick(0,-1).lo(1).hi(P[1]-2),b.pick(0,-1,1).lo(1).hi(P[1]-2)),k(b.pick(0,-1,0).lo(1).hi(P[1]-2))),P[1]>2&&(w(o.pick(P[0]-1,-1).lo(1).hi(P[1]-2),b.pick(P[0]-1,-1,1).lo(1).hi(P[1]-2)),k(b.pick(P[0]-1,-1,0).lo(1).hi(P[1]-2))),P[0]>2&&(w(o.pick(-1,0).lo(1).hi(P[0]-2),b.pick(-1,0,0).lo(1).hi(P[0]-2)),k(b.pick(-1,0,1).lo(1).hi(P[0]-2))),P[0]>2&&(w(o.pick(-1,P[1]-1).lo(1).hi(P[0]-2),b.pick(-1,P[1]-1,0).lo(1).hi(P[0]-2)),k(b.pick(-1,P[1]-1,1).lo(1).hi(P[0]-2))),b.set(0,0,0,0),b.set(0,0,1,0),b.set(P[0]-1,0,0,0),b.set(P[0]-1,0,1,0),b.set(0,P[1]-1,0,0),b.set(0,P[1]-1,1,0),b.set(P[0]-1,P[1]-1,0,0),b.set(P[0]-1,P[1]-1,1,0),b}}function M(A){var k=A.join(),P=f[k];if(P)return P;for(var w=A.length,E=[S,v],b=1;b<=w;++b)E.push(l(b));var o=g,P=o.apply(void 0,E);return f[k]=P,P}d.exports=function(k,w,E){if(Array.isArray(E)||(typeof E=="string"?E=t(w.dimension,E):E=t(w.dimension,"clamp")),w.size===0)return k;if(w.dimension===0)return k.set(0),k;var b=M(E);return b(k,w)}},3581:function(d){function y(h,u){var s=Math.floor(u),m=u-s,f=0<=s&&s<h.shape[0],S=0<=s+1&&s+1<h.shape[0],v=f?+h.get(s):0,l=S?+h.get(s+1):0;return(1-m)*v+m*l}function r(h,u,s){var m=Math.floor(u),f=u-m,S=0<=m&&m<h.shape[0],v=0<=m+1&&m+1<h.shape[0],l=Math.floor(s),g=s-l,M=0<=l&&l<h.shape[1],A=0<=l+1&&l+1<h.shape[1],k=S&&M?h.get(m,l):0,w=S&&A?h.get(m,l+1):0,E=v&&M?h.get(m+1,l):0,b=v&&A?h.get(m+1,l+1):0;return(1-g)*((1-f)*k+f*E)+g*((1-f)*w+f*b)}function t(h,u,s,m){var f=Math.floor(u),S=u-f,v=0<=f&&f<h.shape[0],l=0<=f+1&&f+1<h.shape[0],g=Math.floor(s),M=s-g,A=0<=g&&g<h.shape[1],k=0<=g+1&&g+1<h.shape[1],w=Math.floor(m),E=m-w,b=0<=w&&w<h.shape[2],o=0<=w+1&&w+1<h.shape[2],P=v&&A&&b?h.get(f,g,w):0,x=v&&k&&b?h.get(f,g+1,w):0,z=l&&A&&b?h.get(f+1,g,w):0,_=l&&k&&b?h.get(f+1,g+1,w):0,G=v&&A&&o?h.get(f,g,w+1):0,F=v&&k&&o?h.get(f,g+1,w+1):0,N=l&&A&&o?h.get(f+1,g,w+1):0,U=l&&k&&o?h.get(f+1,g+1,w+1):0;return(1-E)*((1-M)*((1-S)*P+S*z)+M*((1-S)*x+S*_))+E*((1-M)*((1-S)*G+S*N)+M*((1-S)*F+S*U))}function i(h){var u=h.shape.length|0,s=new Array(u),m=new Array(u),f=new Array(u),S=new Array(u),v,l;for(v=0;v<u;++v)l=+arguments[v+1],s[v]=Math.floor(l),m[v]=l-s[v],f[v]=0<=s[v]&&s[v]<h.shape[v],S[v]=0<=s[v]+1&&s[v]+1<h.shape[v];var g=0,M,A,k;e:for(v=0;v<1<<u;++v){for(A=1,k=h.offset,M=0;M<u;++M)if(v&1<<M){if(!S[M])continue e;A*=m[M],k+=h.stride[M]*(s[M]+1)}else{if(!f[M])continue e;A*=1-m[M],k+=h.stride[M]*s[M]}g+=A*h.data[k]}return g}function a(h,u,s,m){switch(h.shape.length){case 0:return 0;case 1:return y(h,u);case 2:return r(h,u,s);case 3:return t(h,u,s,m);default:return i.apply(void 0,arguments)}}d.exports=a,d.exports.d1=y,d.exports.d2=r,d.exports.d3=t},7498:function(d,y){var r={"float64,2,1,0":function(){return function(f,S,v,l,g){var M=f[0],A=f[1],k=f[2],w=v[0],E=v[1],b=v[2];l|=0;var o=0,P=0,x=0,z=b,_=E-k*b,G=w-A*E;for(x=0;x<M;++x){for(P=0;P<A;++P){for(o=0;o<k;++o)S[l]/=g,l+=z;l+=_}l+=G}}},"uint8,2,0,1,float64,2,1,0":function(){return function(f,S,v,l,g,M,A,k){var w=f[0],E=f[1],b=f[2],o=v[0],P=v[1],x=v[2],z=M[0],_=M[1],G=M[2];l|=0,A|=0;for(var F=l,N=A,U=f[0]|0;U>0;){U<64?(w=U,U=0):(w=64,U-=64);for(var O=f[1]|0;O>0;){O<64?(E=O,O=0):(E=64,O-=64),l=F+U*o+O*P,A=N+U*z+O*_;var H=0,Y=0,q=0,ne=x,oe=o-b*x,he=P-w*o,J=G,Z=z-b*G,se=_-w*z;for(q=0;q<E;++q){for(Y=0;Y<w;++Y){for(H=0;H<b;++H)S[l]=g[A]*k,l+=ne,A+=J;l+=oe,A+=Z}l+=he,A+=se}}}}},"float32,1,0,float32,1,0":function(){return function(f,S,v,l,g,M,A){var k=f[0],w=f[1],E=v[0],b=v[1],o=M[0],P=M[1];l|=0,A|=0;var x=0,z=0,_=b,G=E-w*b,F=P,N=o-w*P;for(z=0;z<k;++z){for(x=0;x<w;++x)S[l]=g[A],l+=_,A+=F;l+=G,A+=N}}},"float32,1,0,float32,0,1":function(){return function(f,S,v,l,g,M,A){var k=f[0],w=f[1],E=v[0],b=v[1],o=M[0],P=M[1];l|=0,A|=0;for(var x=l,z=A,_=f[1]|0;_>0;){_<64?(w=_,_=0):(w=64,_-=64);for(var G=f[0]|0;G>0;){G<64?(k=G,G=0):(k=64,G-=64),l=x+_*b+G*E,A=z+_*P+G*o;var F=0,N=0,U=b,O=E-w*b,H=P,Y=o-w*P;for(N=0;N<k;++N){for(F=0;F<w;++F)S[l]=g[A],l+=U,A+=H;l+=O,A+=Y}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(f,S,v,l,g,M,A){var k=f[0],w=f[1],E=f[2],b=v[0],o=v[1],P=v[2],x=M[0],z=M[1],_=M[2];l|=0,A|=0;for(var G=l,F=A,N=f[2]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64);for(var U=f[0]|0;U>0;){U<64?(k=U,U=0):(k=64,U-=64);for(var O=f[1]|0;O>0;){O<64?(w=O,O=0):(w=64,O-=64),l=G+N*P+U*b+O*o,A=F+N*_+U*x+O*z;var H=0,Y=0,q=0,ne=P,oe=b-E*P,he=o-k*b,J=_,Z=x-E*_,se=z-k*x;for(q=0;q<w;++q){for(Y=0;Y<k;++Y){for(H=0;H<E;++H)S[l]=g[A],l+=ne,A+=J;l+=oe,A+=Z}l+=he,A+=se}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(f,S,v,l,g,M,A){var k=f[0],w=f[1],E=f[2],b=v[0],o=v[1],P=v[2],x=M[0],z=M[1],_=M[2];l|=0,A|=0;var G=0,F=0,N=0,U=P,O=b-E*P,H=o-k*b,Y=_,q=x-E*_,ne=z-k*x;for(N=0;N<w;++N){for(F=0;F<k;++F){for(G=0;G<E;++G)S[l]=g[A],l+=U,A+=Y;l+=O,A+=q}l+=H,A+=ne}}}};function t(m,f){var S=f.join(","),v=r[S];return v()}var i=t,a={mul:function(m){var f={};return function(v,l,g){var M=v.dtype,A=v.order,k=l.dtype,w=l.order,E=g.dtype,b=g.order,o=[M,A.join(),k,w.join(),E,b.join()].join(),P=f[o];return P||(f[o]=P=m([M,A,k,w,E,b])),P(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,g.data,g.stride,g.offset|0)}},muls:function(m){var f={};return function(v,l,g){var M=v.dtype,A=v.order,k=l.dtype,w=l.order,E=[M,A.join(),k,w.join()].join(),b=f[E];return b||(f[E]=b=m([M,A,k,w])),b(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,g)}},mulseq:function(m){var f={};return function(v,l){var g=v.dtype,M=v.order,A=[g,M.join()].join(),k=f[A];return k||(f[A]=k=m([g,M])),k(v.shape.slice(0),v.data,v.stride,v.offset|0,l)}},div:function(m){var f={};return function(v,l,g){var M=v.dtype,A=v.order,k=l.dtype,w=l.order,E=g.dtype,b=g.order,o=[M,A.join(),k,w.join(),E,b.join()].join(),P=f[o];return P||(f[o]=P=m([M,A,k,w,E,b])),P(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,g.data,g.stride,g.offset|0)}},divs:function(m){var f={};return function(v,l,g){var M=v.dtype,A=v.order,k=l.dtype,w=l.order,E=[M,A.join(),k,w.join()].join(),b=f[E];return b||(f[E]=b=m([M,A,k,w])),b(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0,g)}},divseq:function(m){var f={};return function(v,l){var g=v.dtype,M=v.order,A=[g,M.join()].join(),k=f[A];return k||(f[A]=k=m([g,M])),k(v.shape.slice(0),v.data,v.stride,v.offset|0,l)}},assign:function(m){var f={};return function(v,l){var g=v.dtype,M=v.order,A=l.dtype,k=l.order,w=[g,M.join(),A,k.join()].join(),E=f[w];return E||(f[w]=E=m([g,M,A,k])),E(v.shape.slice(0),v.data,v.stride,v.offset|0,l.data,l.stride,l.offset|0)}}};function h(m){var f=a[m.funcName];return f(i.bind(void 0,m))}function u(m){return h({funcName:m.funcName})}var s={mul:"*",div:"/"};(function(){for(var m in s)y[m]=u({funcName:m}),y[m+"s"]=u({funcName:m+"s"}),y[m+"seq"]=u({funcName:m+"seq"})})(),y.assign=u({funcName:"assign"})},7382:function(d,y,r){var t=r(5050),i=r(9262);d.exports=function(h,u){for(var s=[],m=h,f=1;Array.isArray(m);)s.push(m.length),f*=m.length,m=m[0];return s.length===0?t():(u||(u=t(new Float64Array(f),s)),i(u,h),u)}},9262:function(d){function y(){return function(u,s,m,f,S){var v=u[0],l=u[1],g=u[2],M=m[0],A=m[1],k=m[2],w=[0,0,0];f|=0;var E=0,b=0,o=0,P=k,x=A-g*k,z=M-l*A;for(o=0;o<v;++o){for(b=0;b<l;++b){for(E=0;E<g;++E){{var _=S,G;for(G=0;G<w.length-1;++G)_=_[w[G]];s[f]=_[w[w.length-1]]}f+=P,++w[2]}f+=x,w[2]-=g,++w[1]}f+=z,w[1]-=l,++w[0]}}}function r(){return y()}var t=r;function i(u){var s={};return function(f,S){var v=f.dtype,l=f.order,g=[v,l.join()].join(),M=s[g];return M||(s[g]=M=u([v,l])),M(f.shape.slice(0),f.data,f.stride,f.offset|0,S)}}function a(u){return i(t.bind(void 0,u))}function h(u){return a({funcName:u.funcName})}d.exports=h({funcName:"convert"})},8139:function(d,y,r){var t=r(5306);function i(S){switch(S){case"uint32":return[t.mallocUint32,t.freeUint32];default:return null}}var a={"uint32,1,0":function(S,v){return function(g,M,A,k,w,E,b,o,P,x,z){var _,G,F,N=g*w+k,U,O=S(o),H,Y,q,ne;for(_=g+1;_<=M;++_){for(G=_,N+=w,F=N,H=0,Y=N,U=0;U<o;++U)O[H++]=A[Y],Y+=P;e:for(;G-- >g;){H=0,Y=F-w;t:for(U=0;U<o;++U){if(q=A[Y],ne=O[H],q<ne)break e;if(q>ne)break t;Y+=x,H+=z}for(H=F,Y=F-w,U=0;U<o;++U)A[H]=A[Y],H+=P,Y+=P;F-=w}for(H=F,Y=0,U=0;U<o;++U)A[H]=O[Y++],H+=P}v(O)}}};function h(S,v){var l=i(v),g=[v,S].join(","),M=a[g];return l?M(l[0],l[1]):M()}var u={"uint32,1,0":function(S,v,l){return function g(M,A,k,w,E,b,o,P,x,z,_){var G=(A-M+1)/6|0,F=M+G,N=A-G,U=M+A>>1,O=U-G,H=U+G,Y=F,q=O,ne=U,oe=H,he=N,J=M+1,Z=A-1,se=!0,$,ee,le,Q,K,ue,ie,ce,xe,Le=0,Ae=0,Oe=0,ze,Ee,be,Ce,Ue,He,Ie,Ge,at,lt,qe,et,ft,dt,pt,At,Pt=P,Ht=v(Pt),Je=v(Pt);Ee=E*Y,be=E*q,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=Y,Y=q,q=ee;break e}if(Oe<0)break e;At+=z}Ee=E*oe,be=E*he,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=oe,oe=he,he=ee;break e}if(Oe<0)break e;At+=z}Ee=E*Y,be=E*ne,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=Y,Y=ne,ne=ee;break e}if(Oe<0)break e;At+=z}Ee=E*q,be=E*ne,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=q,q=ne,ne=ee;break e}if(Oe<0)break e;At+=z}Ee=E*Y,be=E*oe,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=Y,Y=oe,oe=ee;break e}if(Oe<0)break e;At+=z}Ee=E*ne,be=E*oe,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=ne,ne=oe,oe=ee;break e}if(Oe<0)break e;At+=z}Ee=E*q,be=E*he,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=q,q=he,he=ee;break e}if(Oe<0)break e;At+=z}Ee=E*q,be=E*ne,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=q,q=ne,ne=ee;break e}if(Oe<0)break e;At+=z}Ee=E*oe,be=E*he,At=w;e:for(ze=0;ze<P;++ze){if(ie=Ee+At,ce=be+At,Oe=k[ie]-k[ce],Oe>0){ee=oe,oe=he,he=ee;break e}if(Oe<0)break e;At+=z}for(Ee=E*Y,be=E*q,Ce=E*ne,Ue=E*oe,He=E*he,Ie=E*F,Ge=E*U,at=E*N,pt=0,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,xe=Ce+At,lt=Ue+At,qe=He+At,et=Ie+At,ft=Ge+At,dt=at+At,Ht[pt]=k[ce],Je[pt]=k[lt],se=se&&Ht[pt]===Je[pt],le=k[ie],Q=k[xe],K=k[qe],k[et]=le,k[ft]=Q,k[dt]=K,++pt,At+=x;for(Ee=E*O,be=E*M,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,k[ie]=k[ce],At+=x;for(Ee=E*H,be=E*A,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,k[ie]=k[ce],At+=x;if(se)for(ue=J;ue<=Z;++ue){ie=w+ue*E,pt=0;e:for(ze=0;ze<P;++ze){if(Oe=k[ie]-Ht[pt],Oe!==0)break e;pt+=_,ie+=z}if(Oe!==0)if(Oe<0){if(ue!==J)for(Ee=E*ue,be=E*J,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,$=k[ie],k[ie]=k[ce],k[ce]=$,At+=x;++J}else for(;;){ie=w+Z*E,pt=0;e:for(ze=0;ze<P;++ze){if(Oe=k[ie]-Ht[pt],Oe!==0)break e;pt+=_,ie+=z}if(Oe>0)Z--;else if(Oe<0){for(Ee=E*ue,be=E*J,Ce=E*Z,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,xe=Ce+At,$=k[ie],k[ie]=k[ce],k[ce]=k[xe],k[xe]=$,At+=x;++J,--Z;break}else{for(Ee=E*ue,be=E*Z,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,$=k[ie],k[ie]=k[ce],k[ce]=$,At+=x;--Z;break}}}else for(ue=J;ue<=Z;++ue){ie=w+ue*E,pt=0;e:for(ze=0;ze<P;++ze){if(Le=k[ie]-Ht[pt],Le!==0)break e;pt+=_,ie+=z}if(Le<0){if(ue!==J)for(Ee=E*ue,be=E*J,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,$=k[ie],k[ie]=k[ce],k[ce]=$,At+=x;++J}else{ie=w+ue*E,pt=0;e:for(ze=0;ze<P;++ze){if(Ae=k[ie]-Je[pt],Ae!==0)break e;pt+=_,ie+=z}if(Ae>0)for(;;){ie=w+Z*E,pt=0;e:for(ze=0;ze<P;++ze){if(Oe=k[ie]-Je[pt],Oe!==0)break e;pt+=_,ie+=z}if(Oe>0){if(--Z<ue)break;continue}else{ie=w+Z*E,pt=0;e:for(ze=0;ze<P;++ze){if(Oe=k[ie]-Ht[pt],Oe!==0)break e;pt+=_,ie+=z}if(Oe<0){for(Ee=E*ue,be=E*J,Ce=E*Z,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,xe=Ce+At,$=k[ie],k[ie]=k[ce],k[ce]=k[xe],k[xe]=$,At+=x;++J,--Z}else{for(Ee=E*ue,be=E*Z,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,$=k[ie],k[ie]=k[ce],k[ce]=$,At+=x;--Z}break}}}}for(Ee=E*M,be=E*(J-1),pt=0,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,k[ie]=k[ce],k[ce]=Ht[pt],++pt,At+=x;for(Ee=E*A,be=E*(Z+1),pt=0,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,k[ie]=k[ce],k[ce]=Je[pt],++pt,At+=x;if(J-2-M<=32?S(M,J-2,k,w,E,b,o,P,x,z,_):g(M,J-2,k,w,E,b,o,P,x,z,_),A-(Z+2)<=32?S(Z+2,A,k,w,E,b,o,P,x,z,_):g(Z+2,A,k,w,E,b,o,P,x,z,_),se){l(Ht),l(Je);return}if(J<F&&Z>N){e:for(;;){for(ie=w+J*E,pt=0,At=w,ze=0;ze<P;++ze){if(k[ie]!==Ht[pt])break e;++pt,ie+=x}++J}e:for(;;){for(ie=w+Z*E,pt=0,At=w,ze=0;ze<P;++ze){if(k[ie]!==Je[pt])break e;++pt,ie+=x}--Z}for(ue=J;ue<=Z;++ue){ie=w+ue*E,pt=0;e:for(ze=0;ze<P;++ze){if(Le=k[ie]-Ht[pt],Le!==0)break e;pt+=_,ie+=z}if(Le===0){if(ue!==J)for(Ee=E*ue,be=E*J,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,$=k[ie],k[ie]=k[ce],k[ce]=$,At+=x;++J}else{ie=w+ue*E,pt=0;e:for(ze=0;ze<P;++ze){if(Ae=k[ie]-Je[pt],Ae!==0)break e;pt+=_,ie+=z}if(Ae===0)for(;;){ie=w+Z*E,pt=0;e:for(ze=0;ze<P;++ze){if(Oe=k[ie]-Je[pt],Oe!==0)break e;pt+=_,ie+=z}if(Oe===0){if(--Z<ue)break;continue}else{ie=w+Z*E,pt=0;e:for(ze=0;ze<P;++ze){if(Oe=k[ie]-Ht[pt],Oe!==0)break e;pt+=_,ie+=z}if(Oe<0){for(Ee=E*ue,be=E*J,Ce=E*Z,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,xe=Ce+At,$=k[ie],k[ie]=k[ce],k[ce]=k[xe],k[xe]=$,At+=x;++J,--Z}else{for(Ee=E*ue,be=E*Z,At=w,ze=0;ze<P;++ze)ie=Ee+At,ce=be+At,$=k[ie],k[ie]=k[ce],k[ce]=$,At+=x;--Z}break}}}}}l(Ht),l(Je),Z-J<=32?S(J,Z,k,w,E,b,o,P,x,z,_):g(J,Z,k,w,E,b,o,P,x,z,_)}}};function s(S,v,l){var g=i(v),M=[v,S].join(","),A=u[M];return S.length>1&&g?A(l,g[0],g[1]):A(l)}var m={"uint32,1,0":function(S,v){return function(l){var g=l.data,M=l.offset|0,A=l.shape,k=l.stride,w=k[0]|0,E=A[0]|0,b=k[1]|0,o=A[1]|0,P=b,x=b,z=1;E<=32?S(0,E-1,g,M,w,b,E,o,P,x,z):v(0,E-1,g,M,w,b,E,o,P,x,z)}}};function f(S,v){var l=[v,S].join(","),g=m[l],M=h(S,v),A=s(S,v,M);return g(M,A)}d.exports=f},8729:function(d,y,r){var t=r(8139),i={};function a(h){var u=h.order,s=h.dtype,m=[u,s],f=m.join(":"),S=i[f];return S||(i[f]=S=t(u,s)),S(h),h}d.exports=a},5050:function(d,y,r){var t=r(4780),i=typeof Float64Array<"u";function a(v,l){return v[0]-l[0]}function h(){var v=this.stride,l=new Array(v.length),g;for(g=0;g<l.length;++g)l[g]=[Math.abs(v[g]),g];l.sort(a);var M=new Array(l.length);for(g=0;g<M.length;++g)M[g]=l[g][1];return M}var u={T:function(v){function l(M){this.data=M}var g=l.prototype;return g.dtype=v,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new l(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(A){return new l(A)}},0:function(v,l){function g(A,k){this.data=A,this.offset=k}var M=g.prototype;return M.dtype=v,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new g(this.data,this.offset)},M.pick=function(){return l(this.data)},M.valueOf=M.get=function(){return v==="generic"?this.data.get(this.offset):this.data[this.offset]},M.set=function(k){return v==="generic"?this.data.set(this.offset,k):this.data[this.offset]=k},function(k,w,E,b){return new g(k,b)}},1:function(v,l,g){function M(k,w,E,b){this.data=k,this.shape=[w],this.stride=[E],this.offset=b|0}var A=M.prototype;return A.dtype=v,A.dimension=1,Object.defineProperty(A,"size",{get:function(){return this.shape[0]}}),A.order=[0],A.set=function(w,E){return v==="generic"?this.data.set(this.offset+this.stride[0]*w,E):this.data[this.offset+this.stride[0]*w]=E},A.get=function(w){return v==="generic"?this.data.get(this.offset+this.stride[0]*w):this.data[this.offset+this.stride[0]*w]},A.index=function(w){return this.offset+this.stride[0]*w},A.hi=function(w){return new M(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,this.stride[0],this.offset)},A.lo=function(w){var E=this.offset,b=0,o=this.shape[0],P=this.stride[0];return typeof w=="number"&&w>=0&&(b=w|0,E+=P*b,o-=b),new M(this.data,o,P,E)},A.step=function(w){var E=this.shape[0],b=this.stride[0],o=this.offset,P=0,x=Math.ceil;return typeof w=="number"&&(P=w|0,P<0?(o+=b*(E-1),E=x(-E/P)):E=x(E/P),b*=P),new M(this.data,E,b,o)},A.transpose=function(w){w=w===void 0?0:w|0;var E=this.shape,b=this.stride;return new M(this.data,E[w],b[w],this.offset)},A.pick=function(w){var E=[],b=[],o=this.offset;typeof w=="number"&&w>=0?o=o+this.stride[0]*w|0:(E.push(this.shape[0]),b.push(this.stride[0]));var P=l[E.length+1];return P(this.data,E,b,o)},function(w,E,b,o){return new M(w,E[0],b[0],o)}},2:function(v,l,g){function M(k,w,E,b,o,P){this.data=k,this.shape=[w,E],this.stride=[b,o],this.offset=P|0}var A=M.prototype;return A.dtype=v,A.dimension=2,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(A,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),A.set=function(w,E,b){return v==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*E,b):this.data[this.offset+this.stride[0]*w+this.stride[1]*E]=b},A.get=function(w,E){return v==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*E):this.data[this.offset+this.stride[0]*w+this.stride[1]*E]},A.index=function(w,E){return this.offset+this.stride[0]*w+this.stride[1]*E},A.hi=function(w,E){return new M(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},A.lo=function(w,E){var b=this.offset,o=0,P=this.shape[0],x=this.shape[1],z=this.stride[0],_=this.stride[1];return typeof w=="number"&&w>=0&&(o=w|0,b+=z*o,P-=o),typeof E=="number"&&E>=0&&(o=E|0,b+=_*o,x-=o),new M(this.data,P,x,z,_,b)},A.step=function(w,E){var b=this.shape[0],o=this.shape[1],P=this.stride[0],x=this.stride[1],z=this.offset,_=0,G=Math.ceil;return typeof w=="number"&&(_=w|0,_<0?(z+=P*(b-1),b=G(-b/_)):b=G(b/_),P*=_),typeof E=="number"&&(_=E|0,_<0?(z+=x*(o-1),o=G(-o/_)):o=G(o/_),x*=_),new M(this.data,b,o,P,x,z)},A.transpose=function(w,E){w=w===void 0?0:w|0,E=E===void 0?1:E|0;var b=this.shape,o=this.stride;return new M(this.data,b[w],b[E],o[w],o[E],this.offset)},A.pick=function(w,E){var b=[],o=[],P=this.offset;typeof w=="number"&&w>=0?P=P+this.stride[0]*w|0:(b.push(this.shape[0]),o.push(this.stride[0])),typeof E=="number"&&E>=0?P=P+this.stride[1]*E|0:(b.push(this.shape[1]),o.push(this.stride[1]));var x=l[b.length+1];return x(this.data,b,o,P)},function(w,E,b,o){return new M(w,E[0],E[1],b[0],b[1],o)}},3:function(v,l,g){function M(k,w,E,b,o,P,x,z){this.data=k,this.shape=[w,E,b],this.stride=[o,P,x],this.offset=z|0}var A=M.prototype;return A.dtype=v,A.dimension=3,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(A,"order",{get:function(){var w=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),b=Math.abs(this.stride[2]);return w>E?E>b?[2,1,0]:w>b?[1,2,0]:[1,0,2]:w>b?[2,0,1]:b>E?[0,1,2]:[0,2,1]}}),A.set=function(w,E,b,o){return v==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b,o):this.data[this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b]=o},A.get=function(w,E,b){return v==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b):this.data[this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b]},A.index=function(w,E,b){return this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b},A.hi=function(w,E,b){return new M(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof b!="number"||b<0?this.shape[2]:b|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},A.lo=function(w,E,b){var o=this.offset,P=0,x=this.shape[0],z=this.shape[1],_=this.shape[2],G=this.stride[0],F=this.stride[1],N=this.stride[2];return typeof w=="number"&&w>=0&&(P=w|0,o+=G*P,x-=P),typeof E=="number"&&E>=0&&(P=E|0,o+=F*P,z-=P),typeof b=="number"&&b>=0&&(P=b|0,o+=N*P,_-=P),new M(this.data,x,z,_,G,F,N,o)},A.step=function(w,E,b){var o=this.shape[0],P=this.shape[1],x=this.shape[2],z=this.stride[0],_=this.stride[1],G=this.stride[2],F=this.offset,N=0,U=Math.ceil;return typeof w=="number"&&(N=w|0,N<0?(F+=z*(o-1),o=U(-o/N)):o=U(o/N),z*=N),typeof E=="number"&&(N=E|0,N<0?(F+=_*(P-1),P=U(-P/N)):P=U(P/N),_*=N),typeof b=="number"&&(N=b|0,N<0?(F+=G*(x-1),x=U(-x/N)):x=U(x/N),G*=N),new M(this.data,o,P,x,z,_,G,F)},A.transpose=function(w,E,b){w=w===void 0?0:w|0,E=E===void 0?1:E|0,b=b===void 0?2:b|0;var o=this.shape,P=this.stride;return new M(this.data,o[w],o[E],o[b],P[w],P[E],P[b],this.offset)},A.pick=function(w,E,b){var o=[],P=[],x=this.offset;typeof w=="number"&&w>=0?x=x+this.stride[0]*w|0:(o.push(this.shape[0]),P.push(this.stride[0])),typeof E=="number"&&E>=0?x=x+this.stride[1]*E|0:(o.push(this.shape[1]),P.push(this.stride[1])),typeof b=="number"&&b>=0?x=x+this.stride[2]*b|0:(o.push(this.shape[2]),P.push(this.stride[2]));var z=l[o.length+1];return z(this.data,o,P,x)},function(w,E,b,o){return new M(w,E[0],E[1],E[2],b[0],b[1],b[2],o)}},4:function(v,l,g){function M(k,w,E,b,o,P,x,z,_,G){this.data=k,this.shape=[w,E,b,o],this.stride=[P,x,z,_],this.offset=G|0}var A=M.prototype;return A.dtype=v,A.dimension=4,Object.defineProperty(A,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(A,"order",{get:g}),A.set=function(w,E,b,o,P){return v==="generic"?this.data.set(this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b+this.stride[3]*o,P):this.data[this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b+this.stride[3]*o]=P},A.get=function(w,E,b,o){return v==="generic"?this.data.get(this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b+this.stride[3]*o):this.data[this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b+this.stride[3]*o]},A.index=function(w,E,b,o){return this.offset+this.stride[0]*w+this.stride[1]*E+this.stride[2]*b+this.stride[3]*o},A.hi=function(w,E,b,o){return new M(this.data,typeof w!="number"||w<0?this.shape[0]:w|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof b!="number"||b<0?this.shape[2]:b|0,typeof o!="number"||o<0?this.shape[3]:o|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},A.lo=function(w,E,b,o){var P=this.offset,x=0,z=this.shape[0],_=this.shape[1],G=this.shape[2],F=this.shape[3],N=this.stride[0],U=this.stride[1],O=this.stride[2],H=this.stride[3];return typeof w=="number"&&w>=0&&(x=w|0,P+=N*x,z-=x),typeof E=="number"&&E>=0&&(x=E|0,P+=U*x,_-=x),typeof b=="number"&&b>=0&&(x=b|0,P+=O*x,G-=x),typeof o=="number"&&o>=0&&(x=o|0,P+=H*x,F-=x),new M(this.data,z,_,G,F,N,U,O,H,P)},A.step=function(w,E,b,o){var P=this.shape[0],x=this.shape[1],z=this.shape[2],_=this.shape[3],G=this.stride[0],F=this.stride[1],N=this.stride[2],U=this.stride[3],O=this.offset,H=0,Y=Math.ceil;return typeof w=="number"&&(H=w|0,H<0?(O+=G*(P-1),P=Y(-P/H)):P=Y(P/H),G*=H),typeof E=="number"&&(H=E|0,H<0?(O+=F*(x-1),x=Y(-x/H)):x=Y(x/H),F*=H),typeof b=="number"&&(H=b|0,H<0?(O+=N*(z-1),z=Y(-z/H)):z=Y(z/H),N*=H),typeof o=="number"&&(H=o|0,H<0?(O+=U*(_-1),_=Y(-_/H)):_=Y(_/H),U*=H),new M(this.data,P,x,z,_,G,F,N,U,O)},A.transpose=function(w,E,b,o){w=w===void 0?0:w|0,E=E===void 0?1:E|0,b=b===void 0?2:b|0,o=o===void 0?3:o|0;var P=this.shape,x=this.stride;return new M(this.data,P[w],P[E],P[b],P[o],x[w],x[E],x[b],x[o],this.offset)},A.pick=function(w,E,b,o){var P=[],x=[],z=this.offset;typeof w=="number"&&w>=0?z=z+this.stride[0]*w|0:(P.push(this.shape[0]),x.push(this.stride[0])),typeof E=="number"&&E>=0?z=z+this.stride[1]*E|0:(P.push(this.shape[1]),x.push(this.stride[1])),typeof b=="number"&&b>=0?z=z+this.stride[2]*b|0:(P.push(this.shape[2]),x.push(this.stride[2])),typeof o=="number"&&o>=0?z=z+this.stride[3]*o|0:(P.push(this.shape[3]),x.push(this.stride[3]));var _=l[P.length+1];return _(this.data,P,x,z)},function(w,E,b,o){return new M(w,E[0],E[1],E[2],E[3],b[0],b[1],b[2],b[3],o)}},5:function(l,g,M){function A(w,E,b,o,P,x,z,_,G,F,N,U){this.data=w,this.shape=[E,b,o,P,x],this.stride=[z,_,G,F,N],this.offset=U|0}var k=A.prototype;return k.dtype=l,k.dimension=5,Object.defineProperty(k,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(k,"order",{get:M}),k.set=function(E,b,o,P,x,z){return l==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x,z):this.data[this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x]=z},k.get=function(E,b,o,P,x){return l==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x):this.data[this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x]},k.index=function(E,b,o,P,x){return this.offset+this.stride[0]*E+this.stride[1]*b+this.stride[2]*o+this.stride[3]*P+this.stride[4]*x},k.hi=function(E,b,o,P,x){return new A(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof b!="number"||b<0?this.shape[1]:b|0,typeof o!="number"||o<0?this.shape[2]:o|0,typeof P!="number"||P<0?this.shape[3]:P|0,typeof x!="number"||x<0?this.shape[4]:x|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},k.lo=function(E,b,o,P,x){var z=this.offset,_=0,G=this.shape[0],F=this.shape[1],N=this.shape[2],U=this.shape[3],O=this.shape[4],H=this.stride[0],Y=this.stride[1],q=this.stride[2],ne=this.stride[3],oe=this.stride[4];return typeof E=="number"&&E>=0&&(_=E|0,z+=H*_,G-=_),typeof b=="number"&&b>=0&&(_=b|0,z+=Y*_,F-=_),typeof o=="number"&&o>=0&&(_=o|0,z+=q*_,N-=_),typeof P=="number"&&P>=0&&(_=P|0,z+=ne*_,U-=_),typeof x=="number"&&x>=0&&(_=x|0,z+=oe*_,O-=_),new A(this.data,G,F,N,U,O,H,Y,q,ne,oe,z)},k.step=function(E,b,o,P,x){var z=this.shape[0],_=this.shape[1],G=this.shape[2],F=this.shape[3],N=this.shape[4],U=this.stride[0],O=this.stride[1],H=this.stride[2],Y=this.stride[3],q=this.stride[4],ne=this.offset,oe=0,he=Math.ceil;return typeof E=="number"&&(oe=E|0,oe<0?(ne+=U*(z-1),z=he(-z/oe)):z=he(z/oe),U*=oe),typeof b=="number"&&(oe=b|0,oe<0?(ne+=O*(_-1),_=he(-_/oe)):_=he(_/oe),O*=oe),typeof o=="number"&&(oe=o|0,oe<0?(ne+=H*(G-1),G=he(-G/oe)):G=he(G/oe),H*=oe),typeof P=="number"&&(oe=P|0,oe<0?(ne+=Y*(F-1),F=he(-F/oe)):F=he(F/oe),Y*=oe),typeof x=="number"&&(oe=x|0,oe<0?(ne+=q*(N-1),N=he(-N/oe)):N=he(N/oe),q*=oe),new A(this.data,z,_,G,F,N,U,O,H,Y,q,ne)},k.transpose=function(E,b,o,P,x){E=E===void 0?0:E|0,b=b===void 0?1:b|0,o=o===void 0?2:o|0,P=P===void 0?3:P|0,x=x===void 0?4:x|0;var z=this.shape,_=this.stride;return new A(this.data,z[E],z[b],z[o],z[P],z[x],_[E],_[b],_[o],_[P],_[x],this.offset)},k.pick=function(E,b,o,P,x){var z=[],_=[],G=this.offset;typeof E=="number"&&E>=0?G=G+this.stride[0]*E|0:(z.push(this.shape[0]),_.push(this.stride[0])),typeof b=="number"&&b>=0?G=G+this.stride[1]*b|0:(z.push(this.shape[1]),_.push(this.stride[1])),typeof o=="number"&&o>=0?G=G+this.stride[2]*o|0:(z.push(this.shape[2]),_.push(this.stride[2])),typeof P=="number"&&P>=0?G=G+this.stride[3]*P|0:(z.push(this.shape[3]),_.push(this.stride[3])),typeof x=="number"&&x>=0?G=G+this.stride[4]*x|0:(z.push(this.shape[4]),_.push(this.stride[4]));var F=g[z.length+1];return F(this.data,z,_,G)},function(E,b,o,P){return new A(E,b[0],b[1],b[2],b[3],b[4],o[0],o[1],o[2],o[3],o[4],P)}}};function s(v,l){var g=l===-1?"T":String(l),M=u[g];return l===-1?M(v):l===0?M(v,f[v][0]):M(v,f[v],h)}function m(v){if(t(v))return"buffer";if(i)switch(Object.prototype.toString.call(v)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(v)?"array":"generic"}var f={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function S(v,l,g,M){if(v===void 0){var o=f.array[0];return o([])}else typeof v=="number"&&(v=[v]);l===void 0&&(l=[v.length]);var A=l.length;if(g===void 0){g=new Array(A);for(var k=A-1,w=1;k>=0;--k)g[k]=w,w*=l[k]}if(M===void 0){M=0;for(var k=0;k<A;++k)g[k]<0&&(M-=(l[k]-1)*g[k])}for(var E=m(v),b=f[E];b.length<=A+1;)b.push(s(E,b.length-1));var o=b[A+1];return o(v,l,g,M)}d.exports=S},8551:function(d,y,r){var t=r(8362),i=Math.pow(2,-1074),a=-1>>>0;d.exports=h;function h(u,s){if(isNaN(u)||isNaN(s))return NaN;if(u===s)return u;if(u===0)return s<0?-i:i;var m=t.hi(u),f=t.lo(u);return s>u==u>0?f===a?(m+=1,f=0):f+=1:f===0?(f=a,m-=1):f-=1,t.pack(f,m)}},115:function(d,y){var r=1e-6,t=1e-6;y.vertexNormals=function(i,a,h){for(var u=a.length,s=new Array(u),m=h===void 0?r:h,f=0;f<u;++f)s[f]=[0,0,0];for(var f=0;f<i.length;++f)for(var S=i[f],v=0,l=S[S.length-1],g=S[0],M=0;M<S.length;++M){v=l,l=g,g=S[(M+1)%S.length];for(var A=a[v],k=a[l],w=a[g],E=new Array(3),b=0,o=new Array(3),P=0,x=0;x<3;++x)E[x]=A[x]-k[x],b+=E[x]*E[x],o[x]=w[x]-k[x],P+=o[x]*o[x];if(b*P>m)for(var z=s[l],_=1/Math.sqrt(b*P),x=0;x<3;++x){var G=(x+1)%3,F=(x+2)%3;z[x]+=_*(o[G]*E[F]-o[F]*E[G])}}for(var f=0;f<u;++f){for(var z=s[f],N=0,x=0;x<3;++x)N+=z[x]*z[x];if(N>m)for(var _=1/Math.sqrt(N),x=0;x<3;++x)z[x]*=_;else for(var x=0;x<3;++x)z[x]=0}return s},y.faceNormals=function(i,a,h){for(var u=i.length,s=new Array(u),m=h===void 0?t:h,f=0;f<u;++f){for(var S=i[f],v=new Array(3),l=0;l<3;++l)v[l]=a[S[l]];for(var g=new Array(3),M=new Array(3),l=0;l<3;++l)g[l]=v[1][l]-v[0][l],M[l]=v[2][l]-v[0][l];for(var A=new Array(3),k=0,l=0;l<3;++l){var w=(l+1)%3,E=(l+2)%3;A[l]=g[w]*M[E]-g[E]*M[w],k+=A[l]*A[l]}k>m?k=1/Math.sqrt(k):k=0;for(var l=0;l<3;++l)A[l]*=k;s[f]=A}return s}},567:function(d){d.exports=y;function y(r,t,i,a,h,u,s,m,f,S){var v=t+u+S;if(l>0){var l=Math.sqrt(v+1);r[0]=.5*(s-f)/l,r[1]=.5*(m-a)/l,r[2]=.5*(i-u)/l,r[3]=.5*l}else{var g=Math.max(t,u,S),l=Math.sqrt(2*g-v+1);t>=g?(r[0]=.5*l,r[1]=.5*(h+i)/l,r[2]=.5*(m+a)/l,r[3]=.5*(s-f)/l):u>=g?(r[0]=.5*(i+h)/l,r[1]=.5*l,r[2]=.5*(f+s)/l,r[3]=.5*(m-a)/l):(r[0]=.5*(a+m)/l,r[1]=.5*(s+f)/l,r[2]=.5*l,r[3]=.5*(i-h)/l)}return r}},7774:function(d,y,r){d.exports=l;var t=r(8444),i=r(3012),a=r(5950),h=r(7437),u=r(567);function s(g,M,A){return Math.sqrt(Math.pow(g,2)+Math.pow(M,2)+Math.pow(A,2))}function m(g,M,A,k){return Math.sqrt(Math.pow(g,2)+Math.pow(M,2)+Math.pow(A,2)+Math.pow(k,2))}function f(g,M){var A=M[0],k=M[1],w=M[2],E=M[3],b=m(A,k,w,E);b>1e-6?(g[0]=A/b,g[1]=k/b,g[2]=w/b,g[3]=E/b):(g[0]=g[1]=g[2]=0,g[3]=1)}function S(g,M,A){this.radius=t([A]),this.center=t(M),this.rotation=t(g),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var v=S.prototype;v.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},v.recalcMatrix=function(g){this.radius.curve(g),this.center.curve(g),this.rotation.curve(g);var M=this.computedRotation;f(M,M);var A=this.computedMatrix;a(A,M);var k=this.computedCenter,w=this.computedEye,E=this.computedUp,b=Math.exp(this.computedRadius[0]);w[0]=k[0]+b*A[2],w[1]=k[1]+b*A[6],w[2]=k[2]+b*A[10],E[0]=A[1],E[1]=A[5],E[2]=A[9];for(var o=0;o<3;++o){for(var P=0,x=0;x<3;++x)P+=A[o+4*x]*w[x];A[12+o]=-P}},v.getMatrix=function(g,M){this.recalcMatrix(g);var A=this.computedMatrix;if(M){for(var k=0;k<16;++k)M[k]=A[k];return M}return A},v.idle=function(g){this.center.idle(g),this.radius.idle(g),this.rotation.idle(g)},v.flush=function(g){this.center.flush(g),this.radius.flush(g),this.rotation.flush(g)},v.pan=function(g,M,A,k){M=M||0,A=A||0,k=k||0,this.recalcMatrix(g);var w=this.computedMatrix,E=w[1],b=w[5],o=w[9],P=s(E,b,o);E/=P,b/=P,o/=P;var x=w[0],z=w[4],_=w[8],G=x*E+z*b+_*o;x-=E*G,z-=b*G,_-=o*G;var F=s(x,z,_);x/=F,z/=F,_/=F,w[2],w[6],w[10];var N=x*M+E*A,U=z*M+b*A,O=_*M+o*A;this.center.move(g,N,U,O);var H=Math.exp(this.computedRadius[0]);H=Math.max(1e-4,H+k),this.radius.set(g,Math.log(H))},v.rotate=function(g,M,A,k){this.recalcMatrix(g),M=M||0,A=A||0;var w=this.computedMatrix,E=w[0],b=w[4],o=w[8],P=w[1],x=w[5],z=w[9],_=w[2],G=w[6],F=w[10],N=M*E+A*P,U=M*b+A*x,O=M*o+A*z,H=-(G*O-F*U),Y=-(F*N-_*O),q=-(_*U-G*N),ne=Math.sqrt(Math.max(0,1-Math.pow(H,2)-Math.pow(Y,2)-Math.pow(q,2))),oe=m(H,Y,q,ne);oe>1e-6?(H/=oe,Y/=oe,q/=oe,ne/=oe):(H=Y=q=0,ne=1);var he=this.computedRotation,J=he[0],Z=he[1],se=he[2],$=he[3],ee=J*ne+$*H+Z*q-se*Y,le=Z*ne+$*Y+se*H-J*q,Q=se*ne+$*q+J*Y-Z*H,K=$*ne-J*H-Z*Y-se*q;if(k){H=_,Y=G,q=F;var ue=Math.sin(k)/s(H,Y,q);H*=ue,Y*=ue,q*=ue,ne=Math.cos(M),ee=ee*ne+K*H+le*q-Q*Y,le=le*ne+K*Y+Q*H-ee*q,Q=Q*ne+K*q+ee*Y-le*H,K=K*ne-ee*H-le*Y-Q*q}var ie=m(ee,le,Q,K);ie>1e-6?(ee/=ie,le/=ie,Q/=ie,K/=ie):(ee=le=Q=0,K=1),this.rotation.set(g,ee,le,Q,K)},v.lookAt=function(g,M,A,k){this.recalcMatrix(g),A=A||this.computedCenter,M=M||this.computedEye,k=k||this.computedUp;var w=this.computedMatrix;i(w,M,A,k);var E=this.computedRotation;u(E,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),f(E,E),this.rotation.set(g,E[0],E[1],E[2],E[3]);for(var b=0,o=0;o<3;++o)b+=Math.pow(A[o]-M[o],2);this.radius.set(g,.5*Math.log(Math.max(b,1e-6))),this.center.set(g,A[0],A[1],A[2])},v.translate=function(g,M,A,k){this.center.move(g,M||0,A||0,k||0)},v.setMatrix=function(g,M){var A=this.computedRotation;u(A,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),f(A,A),this.rotation.set(g,A[0],A[1],A[2],A[3]);var k=this.computedMatrix;h(k,M);var w=k[15];if(Math.abs(w)>1e-6){var E=k[12]/w,b=k[13]/w,o=k[14]/w;this.recalcMatrix(g);var P=Math.exp(this.computedRadius[0]);this.center.set(g,E-k[2]*P,b-k[6]*P,o-k[10]*P),this.radius.idle(g)}else this.center.idle(g),this.radius.idle(g)},v.setDistance=function(g,M){M>0&&this.radius.set(g,Math.log(M))},v.setDistanceLimits=function(g,M){g>0?g=Math.log(g):g=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,g),this.radius.bounds[0][0]=g,this.radius.bounds[1][0]=M},v.getDistanceLimits=function(g){var M=this.radius.bounds;return g?(g[0]=Math.exp(M[0][0]),g[1]=Math.exp(M[1][0]),g):[Math.exp(M[0][0]),Math.exp(M[1][0])]},v.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},v.fromJSON=function(g){var M=this.lastT(),A=g.center;A&&this.center.set(M,A[0],A[1],A[2]);var k=g.rotation;k&&this.rotation.set(M,k[0],k[1],k[2],k[3]);var w=g.distance;w&&w>0&&this.radius.set(M,Math.log(w)),this.setDistanceLimits(g.zoomMin,g.zoomMax)};function l(g){g=g||{};var M=g.center||[0,0,0],A=g.rotation||[0,0,0,1],k=g.radius||1;M=[].slice.call(M,0,3),A=[].slice.call(A,0,4),f(A,A);var w=new S(A,M,Math.log(k));return w.setDistanceLimits(g.zoomMin,g.zoomMax),("eye"in g||"up"in g)&&w.lookAt(0,g.eye,g.center,g.up),w}},4930:function(d,y,r){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var t=r(6184);d.exports=function(a,h,u){return u=typeof u<"u"?u+"":" ",t(u,h)+a}},4405:function(d){d.exports=function(r,t){t||(t=[0,""]),r=String(r);var i=parseFloat(r,10);return t[0]=i,t[1]=r.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(d,y,r){d.exports=i;var t=r(9398);function i(a,h){for(var u=h.length|0,s=a.length,m=[new Array(u),new Array(u)],f=0;f<u;++f)m[0][f]=[],m[1][f]=[];for(var f=0;f<s;++f){var S=a[f];m[0][S[0]].push(S),m[1][S[1]].push(S)}for(var v=[],f=0;f<u;++f)m[0][f].length+m[1][f].length===0&&v.push([f]);function l(b,o){var P=m[o][b[o]];P.splice(P.indexOf(b),1)}function g(b,o,P){for(var x,z,_,G=0;G<2;++G)if(m[G][o].length>0){x=m[G][o][0],_=G;break}z=x[_^1];for(var F=0;F<2;++F)for(var N=m[F][o],U=0;U<N.length;++U){var O=N[U],H=O[F^1],Y=t(h[b],h[o],h[z],h[H]);Y>0&&(x=O,z=H,_=F)}return P||x&&l(x,_),z}function M(b,o){var P=m[o][b][0],x=[b];l(P,o);for(var z=P[o^1];;){for(;z!==b;)x.push(z),z=g(x[x.length-2],z,!1);if(m[0][b].length+m[1][b].length===0)break;var _=x[x.length-1],G=b,F=x[1],N=g(_,G,!0);if(t(h[_],h[G],h[F],h[N])<0)break;x.push(b),z=g(_,G)}return x}function A(b,o){return o[1]===o[o.length-1]}for(var f=0;f<u;++f)for(var k=0;k<2;++k){for(var w=[];m[k][f].length>0;){m[0][f].length;var E=M(f,k);A(w,E)?w.push.apply(w,E):(w.length>0&&v.push(w),w=E)}w.length>0&&v.push(w)}return v}},3959:function(d,y,r){d.exports=i;var t=r(8348);function i(a,h){for(var u=t(a,h.length),s=new Array(h.length),m=new Array(h.length),f=[],S=0;S<h.length;++S){var v=u[S].length;m[S]=v,s[S]=!0,v<=1&&f.push(S)}for(;f.length>0;){var l=f.pop();s[l]=!1;for(var g=u[l],S=0;S<g.length;++S){var M=g[S];--m[M]===0&&f.push(M)}}for(var A=new Array(h.length),k=[],S=0;S<h.length;++S)if(s[S]){var l=k.length;A[S]=l,k.push(h[S])}else A[S]=-1;for(var w=[],S=0;S<a.length;++S){var E=a[S];s[E[0]]&&s[E[1]]&&w.push([A[E[0]],A[E[1]]])}return[w,k]}},8040:function(d,y,r){d.exports=v;var t=r(8348),i=r(4166),a=r(211),h=r(9660),u=r(9662),s=r(1215),m=r(3959);function f(l,g){for(var M=new Array(l),A=0;A<l;++A)M[A]=g;return M}function S(l){for(var g=new Array(l),M=0;M<l;++M)g[M]=[];return g}function v(l,g){var K=m(l,g);l=K[0],g=K[1];var M=g.length;l.length;for(var A=t(l,g.length),k=0;k<M;++k)if(A[k].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var w=i(l,g);function E(Oe){for(var ze=Oe.length,Ee=[0],be=0;be<ze;++be){var Ce=g[Oe[be]],Ue=g[Oe[(be+1)%ze]],He=h(-Ce[0],Ce[1]),Ie=h(-Ce[0],Ue[1]),Ge=h(Ue[0],Ce[1]),at=h(Ue[0],Ue[1]);Ee=u(Ee,u(u(He,Ie),u(Ge,at)))}return Ee[Ee.length-1]>0}w=w.filter(E);for(var b=w.length,o=new Array(b),P=new Array(b),k=0;k<b;++k){o[k]=k;var x=new Array(b),z=w[k].map(function(ze){return g[ze]}),_=a([z]),G=0;e:for(var F=0;F<b;++F)if(x[F]=0,k!==F){for(var N=w[F],U=N.length,O=0;O<U;++O){var H=_(g[N[O]]);if(H!==0){H<0&&(x[F]=1,G+=1);continue e}}x[F]=1,G+=1}P[k]=[G,k,x]}P.sort(function(Oe,ze){return ze[0]-Oe[0]});for(var k=0;k<b;++k)for(var x=P[k],Y=x[1],q=x[2],F=0;F<b;++F)q[F]&&(o[F]=Y);for(var ne=S(b),k=0;k<b;++k)ne[k].push(o[k]),ne[o[k]].push(k);for(var oe={},he=f(M,!1),k=0;k<b;++k)for(var N=w[k],U=N.length,F=0;F<U;++F){var J=N[F],Z=N[(F+1)%U],se=Math.min(J,Z)+":"+Math.max(J,Z);if(se in oe){var $=oe[se];ne[$].push(k),ne[k].push($),he[J]=he[Z]=!0}else oe[se]=k}function ee(Oe){for(var ze=Oe.length,Ee=0;Ee<ze;++Ee)if(!he[Oe[Ee]])return!1;return!0}for(var le=[],Q=f(b,-1),k=0;k<b;++k)o[k]===k&&!ee(w[k])?(le.push(k),Q[k]=0):Q[k]=-1;for(var K=[];le.length>0;){var ue=le.pop(),ie=ne[ue];s(ie,function(Oe,ze){return Oe-ze});var ce=ie.length,xe=Q[ue],Le;if(xe===0){var N=w[ue];Le=[N]}for(var k=0;k<ce;++k){var Ae=ie[k];if(!(Q[Ae]>=0)&&(Q[Ae]=xe^1,le.push(Ae),xe===0)){var N=w[Ae];ee(N)||(N.reverse(),Le.push(N))}}xe===0&&K.push(Le)}return K}},211:function(d,y,r){d.exports=g;var t=r(417)[3],i=r(4385),a=r(9014),h=r(5070);function u(){return!0}function s(M){return function(A,k){var w=M[A];return w?!!w.queryPoint(k,u):!1}}function m(M){for(var A={},k=0;k<M.length;++k){var w=M[k],E=w[0][0],b=w[0][1],o=w[1][1],P=[Math.min(b,o),Math.max(b,o)];E in A?A[E].push(P):A[E]=[P]}for(var x={},z=Object.keys(A),k=0;k<z.length;++k){var _=A[z[k]];x[z[k]]=a(_)}return s(x)}function f(M,A){return function(k){var w=h.le(A,k[0]);if(w<0)return 1;var E=M[w];if(!E)if(w>0&&A[w]===k[0])E=M[w-1];else return 1;for(var b=1;E;){var o=E.key,P=t(k,o[0],o[1]);if(o[0][0]<o[1][0])if(P<0)E=E.left;else if(P>0)b=-1,E=E.right;else return 0;else if(P>0)E=E.left;else if(P<0)b=1,E=E.right;else return 0}return b}}function S(M){return 1}function v(M){return function(k){return M(k[0],k[1])?0:1}}function l(M,A){return function(w){return M(w[0],w[1])?0:A(w)}}function g(M){for(var A=M.length,k=[],w=[],E=0;E<A;++E)for(var b=M[E],o=b.length,P=o-1,x=0;x<o;P=x++){var z=b[P],_=b[x];z[0]===_[0]?w.push([z,_]):k.push([z,_])}if(k.length===0)return w.length===0?S:v(m(w));var G=i(k),F=f(G.slabs,G.coordinates);return w.length===0?F:l(m(w),F)}},7309:function(d){var y=new Float64Array(4),r=new Float64Array(4),t=new Float64Array(4);function i(a,h,u,s,m){y.length<s.length&&(y=new Float64Array(s.length),r=new Float64Array(s.length),t=new Float64Array(s.length));for(var f=0;f<s.length;++f)y[f]=a[f]-s[f],r[f]=h[f]-a[f],t[f]=u[f]-a[f];for(var S=0,v=0,l=0,g=0,M=0,A=0,f=0;f<s.length;++f){var k=r[f],w=t[f],E=y[f];S+=k*k,v+=k*w,l+=w*w,g+=E*k,M+=E*w,A+=E*E}var b=Math.abs(S*l-v*v),o=v*M-l*g,P=v*g-S*M,x;if(o+P<=b)if(o<0)P<0&&g<0?(P=0,-g>=S?(o=1,x=S+2*g+A):(o=-g/S,x=g*o+A)):(o=0,M>=0?(P=0,x=A):-M>=l?(P=1,x=l+2*M+A):(P=-M/l,x=M*P+A));else if(P<0)P=0,g>=0?(o=0,x=A):-g>=S?(o=1,x=S+2*g+A):(o=-g/S,x=g*o+A);else{var z=1/b;o*=z,P*=z,x=o*(S*o+v*P+2*g)+P*(v*o+l*P+2*M)+A}else{var _,G,F,N;o<0?(_=v+g,G=l+M,G>_?(F=G-_,N=S-2*v+l,F>=N?(o=1,P=0,x=S+2*g+A):(o=F/N,P=1-o,x=o*(S*o+v*P+2*g)+P*(v*o+l*P+2*M)+A)):(o=0,G<=0?(P=1,x=l+2*M+A):M>=0?(P=0,x=A):(P=-M/l,x=M*P+A))):P<0?(_=v+M,G=S+g,G>_?(F=G-_,N=S-2*v+l,F>=N?(P=1,o=0,x=l+2*M+A):(P=F/N,o=1-P,x=o*(S*o+v*P+2*g)+P*(v*o+l*P+2*M)+A)):(P=0,G<=0?(o=1,x=S+2*g+A):g>=0?(o=0,x=A):(o=-g/S,x=g*o+A))):(F=l+M-v-g,F<=0?(o=0,P=1,x=l+2*M+A):(N=S-2*v+l,F>=N?(o=1,P=0,x=S+2*g+A):(o=F/N,P=1-o,x=o*(S*o+v*P+2*g)+P*(v*o+l*P+2*M)+A)))}for(var U=1-o-P,f=0;f<s.length;++f)m[f]=U*a[f]+o*h[f]+P*u[f];return x<0?0:x}d.exports=i},1116:function(d,y,r){d.exports=r(6093)},7584:function(d,y,r){var t=r(1539);d.exports=i;function i(a,h){for(var u=a.length,s=new Array(u),m=0;m<u;++m)s[m]=t(a[m],h[m]);return s}},2826:function(d,y,r){d.exports=i;var t=r(5125);function i(a){for(var h=new Array(a.length),u=0;u<a.length;++u)h[u]=t(a[u]);return h}},4469:function(d,y,r){var t=r(5125),i=r(3962);d.exports=a;function a(h,u){for(var s=t(u),m=h.length,f=new Array(m),S=0;S<m;++S)f[S]=i(h[S],s);return f}},6695:function(d,y,r){var t=r(4354);d.exports=i;function i(a,h){for(var u=a.length,s=new Array(u),m=0;m<u;++m)s[m]=t(a[m],h[m]);return s}},7037:function(d,y,r){var t=r(9209),i=r(1284),a=r(9887);d.exports=h;function h(u){u.sort(i);for(var s=u.length,m=0,f=0;f<s;++f){var S=u[f],v=a(S);if(v!==0){if(m>0){var l=u[m-1];if(t(S,l)===0&&a(l)!==v){m-=1;continue}}u[m++]=S}}return u.length=m,u}},6184:function(d){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var y="",r;d.exports=t;function t(i,a){if(typeof i!="string")throw new TypeError("expected a string");if(a===1)return i;if(a===2)return i+i;var h=i.length*a;if(r!==i||typeof r>"u")r=i,y="";else if(y.length>=h)return y.substr(0,h);for(;h>y.length&&a>1;)a&1&&(y+=i),a>>=1,i+=i;return y+=i,y=y.substr(0,h),y}},8161:function(d,y,r){d.exports=r.g.performance&&r.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(d){d.exports=y;function y(r){for(var t=r.length,i=r[r.length-1],a=t,h=t-2;h>=0;--h){var u=i,s=r[h];i=u+s;var m=i-u,f=s-m;f&&(r[--a]=i,i=f)}for(var S=0,h=a;h<t;++h){var u=r[h],s=i;i=u+s;var m=i-u,f=s-m;f&&(r[S++]=f)}return r[S++]=i,r.length=S,r}},8167:function(d,y,r){var t=r(9660),i=r(9662),a=r(8289),h=r(402),u=6;function s(A,k,w,E){return function(o){return E(A(w(o[0][0],o[1][1]),w(-o[0][1],o[1][0])))}}function m(A,k,w,E){return function(o){return E(A(k(A(w(o[1][1],o[2][2]),w(-o[1][2],o[2][1])),o[0][0]),A(k(A(w(o[1][0],o[2][2]),w(-o[1][2],o[2][0])),-o[0][1]),k(A(w(o[1][0],o[2][1]),w(-o[1][1],o[2][0])),o[0][2]))))}}function f(A,k,w,E){return function(o){return E(A(A(k(A(k(A(w(o[2][2],o[3][3]),w(-o[2][3],o[3][2])),o[1][1]),A(k(A(w(o[2][1],o[3][3]),w(-o[2][3],o[3][1])),-o[1][2]),k(A(w(o[2][1],o[3][2]),w(-o[2][2],o[3][1])),o[1][3]))),o[0][0]),k(A(k(A(w(o[2][2],o[3][3]),w(-o[2][3],o[3][2])),o[1][0]),A(k(A(w(o[2][0],o[3][3]),w(-o[2][3],o[3][0])),-o[1][2]),k(A(w(o[2][0],o[3][2]),w(-o[2][2],o[3][0])),o[1][3]))),-o[0][1])),A(k(A(k(A(w(o[2][1],o[3][3]),w(-o[2][3],o[3][1])),o[1][0]),A(k(A(w(o[2][0],o[3][3]),w(-o[2][3],o[3][0])),-o[1][1]),k(A(w(o[2][0],o[3][1]),w(-o[2][1],o[3][0])),o[1][3]))),o[0][2]),k(A(k(A(w(o[2][1],o[3][2]),w(-o[2][2],o[3][1])),o[1][0]),A(k(A(w(o[2][0],o[3][2]),w(-o[2][2],o[3][0])),-o[1][1]),k(A(w(o[2][0],o[3][1]),w(-o[2][1],o[3][0])),o[1][2]))),-o[0][3]))))}}function S(A,k,w,E){return function(o){return E(A(A(k(A(A(k(A(k(A(w(o[3][3],o[4][4]),w(-o[3][4],o[4][3])),o[2][2]),A(k(A(w(o[3][2],o[4][4]),w(-o[3][4],o[4][2])),-o[2][3]),k(A(w(o[3][2],o[4][3]),w(-o[3][3],o[4][2])),o[2][4]))),o[1][1]),k(A(k(A(w(o[3][3],o[4][4]),w(-o[3][4],o[4][3])),o[2][1]),A(k(A(w(o[3][1],o[4][4]),w(-o[3][4],o[4][1])),-o[2][3]),k(A(w(o[3][1],o[4][3]),w(-o[3][3],o[4][1])),o[2][4]))),-o[1][2])),A(k(A(k(A(w(o[3][2],o[4][4]),w(-o[3][4],o[4][2])),o[2][1]),A(k(A(w(o[3][1],o[4][4]),w(-o[3][4],o[4][1])),-o[2][2]),k(A(w(o[3][1],o[4][2]),w(-o[3][2],o[4][1])),o[2][4]))),o[1][3]),k(A(k(A(w(o[3][2],o[4][3]),w(-o[3][3],o[4][2])),o[2][1]),A(k(A(w(o[3][1],o[4][3]),w(-o[3][3],o[4][1])),-o[2][2]),k(A(w(o[3][1],o[4][2]),w(-o[3][2],o[4][1])),o[2][3]))),-o[1][4]))),o[0][0]),k(A(A(k(A(k(A(w(o[3][3],o[4][4]),w(-o[3][4],o[4][3])),o[2][2]),A(k(A(w(o[3][2],o[4][4]),w(-o[3][4],o[4][2])),-o[2][3]),k(A(w(o[3][2],o[4][3]),w(-o[3][3],o[4][2])),o[2][4]))),o[1][0]),k(A(k(A(w(o[3][3],o[4][4]),w(-o[3][4],o[4][3])),o[2][0]),A(k(A(w(o[3][0],o[4][4]),w(-o[3][4],o[4][0])),-o[2][3]),k(A(w(o[3][0],o[4][3]),w(-o[3][3],o[4][0])),o[2][4]))),-o[1][2])),A(k(A(k(A(w(o[3][2],o[4][4]),w(-o[3][4],o[4][2])),o[2][0]),A(k(A(w(o[3][0],o[4][4]),w(-o[3][4],o[4][0])),-o[2][2]),k(A(w(o[3][0],o[4][2]),w(-o[3][2],o[4][0])),o[2][4]))),o[1][3]),k(A(k(A(w(o[3][2],o[4][3]),w(-o[3][3],o[4][2])),o[2][0]),A(k(A(w(o[3][0],o[4][3]),w(-o[3][3],o[4][0])),-o[2][2]),k(A(w(o[3][0],o[4][2]),w(-o[3][2],o[4][0])),o[2][3]))),-o[1][4]))),-o[0][1])),A(k(A(A(k(A(k(A(w(o[3][3],o[4][4]),w(-o[3][4],o[4][3])),o[2][1]),A(k(A(w(o[3][1],o[4][4]),w(-o[3][4],o[4][1])),-o[2][3]),k(A(w(o[3][1],o[4][3]),w(-o[3][3],o[4][1])),o[2][4]))),o[1][0]),k(A(k(A(w(o[3][3],o[4][4]),w(-o[3][4],o[4][3])),o[2][0]),A(k(A(w(o[3][0],o[4][4]),w(-o[3][4],o[4][0])),-o[2][3]),k(A(w(o[3][0],o[4][3]),w(-o[3][3],o[4][0])),o[2][4]))),-o[1][1])),A(k(A(k(A(w(o[3][1],o[4][4]),w(-o[3][4],o[4][1])),o[2][0]),A(k(A(w(o[3][0],o[4][4]),w(-o[3][4],o[4][0])),-o[2][1]),k(A(w(o[3][0],o[4][1]),w(-o[3][1],o[4][0])),o[2][4]))),o[1][3]),k(A(k(A(w(o[3][1],o[4][3]),w(-o[3][3],o[4][1])),o[2][0]),A(k(A(w(o[3][0],o[4][3]),w(-o[3][3],o[4][0])),-o[2][1]),k(A(w(o[3][0],o[4][1]),w(-o[3][1],o[4][0])),o[2][3]))),-o[1][4]))),o[0][2]),A(k(A(A(k(A(k(A(w(o[3][2],o[4][4]),w(-o[3][4],o[4][2])),o[2][1]),A(k(A(w(o[3][1],o[4][4]),w(-o[3][4],o[4][1])),-o[2][2]),k(A(w(o[3][1],o[4][2]),w(-o[3][2],o[4][1])),o[2][4]))),o[1][0]),k(A(k(A(w(o[3][2],o[4][4]),w(-o[3][4],o[4][2])),o[2][0]),A(k(A(w(o[3][0],o[4][4]),w(-o[3][4],o[4][0])),-o[2][2]),k(A(w(o[3][0],o[4][2]),w(-o[3][2],o[4][0])),o[2][4]))),-o[1][1])),A(k(A(k(A(w(o[3][1],o[4][4]),w(-o[3][4],o[4][1])),o[2][0]),A(k(A(w(o[3][0],o[4][4]),w(-o[3][4],o[4][0])),-o[2][1]),k(A(w(o[3][0],o[4][1]),w(-o[3][1],o[4][0])),o[2][4]))),o[1][2]),k(A(k(A(w(o[3][1],o[4][2]),w(-o[3][2],o[4][1])),o[2][0]),A(k(A(w(o[3][0],o[4][2]),w(-o[3][2],o[4][0])),-o[2][1]),k(A(w(o[3][0],o[4][1]),w(-o[3][1],o[4][0])),o[2][2]))),-o[1][4]))),-o[0][3]),k(A(A(k(A(k(A(w(o[3][2],o[4][3]),w(-o[3][3],o[4][2])),o[2][1]),A(k(A(w(o[3][1],o[4][3]),w(-o[3][3],o[4][1])),-o[2][2]),k(A(w(o[3][1],o[4][2]),w(-o[3][2],o[4][1])),o[2][3]))),o[1][0]),k(A(k(A(w(o[3][2],o[4][3]),w(-o[3][3],o[4][2])),o[2][0]),A(k(A(w(o[3][0],o[4][3]),w(-o[3][3],o[4][0])),-o[2][2]),k(A(w(o[3][0],o[4][2]),w(-o[3][2],o[4][0])),o[2][3]))),-o[1][1])),A(k(A(k(A(w(o[3][1],o[4][3]),w(-o[3][3],o[4][1])),o[2][0]),A(k(A(w(o[3][0],o[4][3]),w(-o[3][3],o[4][0])),-o[2][1]),k(A(w(o[3][0],o[4][1]),w(-o[3][1],o[4][0])),o[2][3]))),o[1][2]),k(A(k(A(w(o[3][1],o[4][2]),w(-o[3][2],o[4][1])),o[2][0]),A(k(A(w(o[3][0],o[4][2]),w(-o[3][2],o[4][0])),-o[2][1]),k(A(w(o[3][0],o[4][1]),w(-o[3][1],o[4][0])),o[2][2]))),-o[1][3]))),o[0][4])))))}}function v(A){var k=A===2?s:A===3?m:A===4?f:A===5?S:void 0;return k(i,a,t,h)}var l=[function(){return[0]},function(k){return[k[0][0]]}];function g(A,k,w,E,b,o,P,x){return function(_){switch(_.length){case 0:return A(_);case 1:return k(_);case 2:return w(_);case 3:return E(_);case 4:return b(_);case 5:return o(_)}var G=P[_.length];return G||(G=P[_.length]=x(_.length)),G(_)}}function M(){for(;l.length<u;)l.push(v(l.length));d.exports=g.apply(void 0,l.concat([l,v]));for(var A=0;A<l.length;++A)d.exports[A]=l[A]}M()},9130:function(d,y,r){var t=r(9660),i=r(9662);d.exports=a;function a(h,u){for(var s=t(h[0],u[0]),m=1;m<h.length;++m)s=i(s,t(h[m],u[m]));return s}},2227:function(d,y,r){var t=r(9660),i=r(9662),a=r(4078),h=r(8289),u=6;function s(b){var o=b===3?v:b===4?l:b===5?g:M;return o(i,a,t,h)}function m(){return 0}function f(){return 0}function S(){return 0}function v(b,o,P,x){function z(_,G,F){var N=P(_[0],_[0]),U=x(N,G[0]),O=x(N,F[0]),H=P(G[0],G[0]),Y=x(H,_[0]),q=x(H,F[0]),ne=P(F[0],F[0]),oe=x(ne,_[0]),he=x(ne,G[0]),J=b(o(he,q),o(Y,U)),Z=o(oe,O),se=o(J,Z);return se[se.length-1]}return z}function l(b,o,P,x){function z(_,G,F,N){var U=b(P(_[0],_[0]),P(_[1],_[1])),O=x(U,G[0]),H=x(U,F[0]),Y=x(U,N[0]),q=b(P(G[0],G[0]),P(G[1],G[1])),ne=x(q,_[0]),oe=x(q,F[0]),he=x(q,N[0]),J=b(P(F[0],F[0]),P(F[1],F[1])),Z=x(J,_[0]),se=x(J,G[0]),$=x(J,N[0]),ee=b(P(N[0],N[0]),P(N[1],N[1])),le=x(ee,_[0]),Q=x(ee,G[0]),K=x(ee,F[0]),ue=b(b(x(o(K,$),G[1]),b(x(o(Q,he),-F[1]),x(o(se,oe),N[1]))),b(x(o(Q,he),_[1]),b(x(o(le,Y),-G[1]),x(o(ne,O),N[1])))),ie=b(b(x(o(K,$),_[1]),b(x(o(le,Y),-F[1]),x(o(Z,H),N[1]))),b(x(o(se,oe),_[1]),b(x(o(Z,H),-G[1]),x(o(ne,O),F[1])))),ce=o(ue,ie);return ce[ce.length-1]}return z}function g(b,o,P,x){function z(_,G,F,N,U){var O=b(P(_[0],_[0]),b(P(_[1],_[1]),P(_[2],_[2]))),H=x(O,G[0]),Y=x(O,F[0]),q=x(O,N[0]),ne=x(O,U[0]),oe=b(P(G[0],G[0]),b(P(G[1],G[1]),P(G[2],G[2]))),he=x(oe,_[0]),J=x(oe,F[0]),Z=x(oe,N[0]),se=x(oe,U[0]),$=b(P(F[0],F[0]),b(P(F[1],F[1]),P(F[2],F[2]))),ee=x($,_[0]),le=x($,G[0]),Q=x($,N[0]),K=x($,U[0]),ue=b(P(N[0],N[0]),b(P(N[1],N[1]),P(N[2],N[2]))),ie=x(ue,_[0]),ce=x(ue,G[0]),xe=x(ue,F[0]),Le=x(ue,U[0]),Ae=b(P(U[0],U[0]),b(P(U[1],U[1]),P(U[2],U[2]))),Oe=x(Ae,_[0]),ze=x(Ae,G[0]),Ee=x(Ae,F[0]),be=x(Ae,N[0]),Ce=b(b(b(x(b(x(o(be,Le),F[1]),b(x(o(Ee,K),-N[1]),x(o(xe,Q),U[1]))),G[2]),b(x(b(x(o(be,Le),G[1]),b(x(o(ze,se),-N[1]),x(o(ce,Z),U[1]))),-F[2]),x(b(x(o(Ee,K),G[1]),b(x(o(ze,se),-F[1]),x(o(le,J),U[1]))),N[2]))),b(x(b(x(o(xe,Q),G[1]),b(x(o(ce,Z),-F[1]),x(o(le,J),N[1]))),-U[2]),b(x(b(x(o(be,Le),G[1]),b(x(o(ze,se),-N[1]),x(o(ce,Z),U[1]))),_[2]),x(b(x(o(be,Le),_[1]),b(x(o(Oe,ne),-N[1]),x(o(ie,q),U[1]))),-G[2])))),b(b(x(b(x(o(ze,se),_[1]),b(x(o(Oe,ne),-G[1]),x(o(he,H),U[1]))),N[2]),b(x(b(x(o(ce,Z),_[1]),b(x(o(ie,q),-G[1]),x(o(he,H),N[1]))),-U[2]),x(b(x(o(xe,Q),G[1]),b(x(o(ce,Z),-F[1]),x(o(le,J),N[1]))),_[2]))),b(x(b(x(o(xe,Q),_[1]),b(x(o(ie,q),-F[1]),x(o(ee,Y),N[1]))),-G[2]),b(x(b(x(o(ce,Z),_[1]),b(x(o(ie,q),-G[1]),x(o(he,H),N[1]))),F[2]),x(b(x(o(le,J),_[1]),b(x(o(ee,Y),-G[1]),x(o(he,H),F[1]))),-N[2]))))),Ue=b(b(b(x(b(x(o(be,Le),F[1]),b(x(o(Ee,K),-N[1]),x(o(xe,Q),U[1]))),_[2]),x(b(x(o(be,Le),_[1]),b(x(o(Oe,ne),-N[1]),x(o(ie,q),U[1]))),-F[2])),b(x(b(x(o(Ee,K),_[1]),b(x(o(Oe,ne),-F[1]),x(o(ee,Y),U[1]))),N[2]),x(b(x(o(xe,Q),_[1]),b(x(o(ie,q),-F[1]),x(o(ee,Y),N[1]))),-U[2]))),b(b(x(b(x(o(Ee,K),G[1]),b(x(o(ze,se),-F[1]),x(o(le,J),U[1]))),_[2]),x(b(x(o(Ee,K),_[1]),b(x(o(Oe,ne),-F[1]),x(o(ee,Y),U[1]))),-G[2])),b(x(b(x(o(ze,se),_[1]),b(x(o(Oe,ne),-G[1]),x(o(he,H),U[1]))),F[2]),x(b(x(o(le,J),_[1]),b(x(o(ee,Y),-G[1]),x(o(he,H),F[1]))),-U[2])))),He=o(Ce,Ue);return He[He.length-1]}return z}function M(b,o,P,x){function z(_,G,F,N,U,O){var H=b(b(P(_[0],_[0]),P(_[1],_[1])),b(P(_[2],_[2]),P(_[3],_[3]))),Y=x(H,G[0]),q=x(H,F[0]),ne=x(H,N[0]),oe=x(H,U[0]),he=x(H,O[0]),J=b(b(P(G[0],G[0]),P(G[1],G[1])),b(P(G[2],G[2]),P(G[3],G[3]))),Z=x(J,_[0]),se=x(J,F[0]),$=x(J,N[0]),ee=x(J,U[0]),le=x(J,O[0]),Q=b(b(P(F[0],F[0]),P(F[1],F[1])),b(P(F[2],F[2]),P(F[3],F[3]))),K=x(Q,_[0]),ue=x(Q,G[0]),ie=x(Q,N[0]),ce=x(Q,U[0]),xe=x(Q,O[0]),Le=b(b(P(N[0],N[0]),P(N[1],N[1])),b(P(N[2],N[2]),P(N[3],N[3]))),Ae=x(Le,_[0]),Oe=x(Le,G[0]),ze=x(Le,F[0]),Ee=x(Le,U[0]),be=x(Le,O[0]),Ce=b(b(P(U[0],U[0]),P(U[1],U[1])),b(P(U[2],U[2]),P(U[3],U[3]))),Ue=x(Ce,_[0]),He=x(Ce,G[0]),Ie=x(Ce,F[0]),Ge=x(Ce,N[0]),at=x(Ce,O[0]),lt=b(b(P(O[0],O[0]),P(O[1],O[1])),b(P(O[2],O[2]),P(O[3],O[3]))),qe=x(lt,_[0]),et=x(lt,G[0]),ft=x(lt,F[0]),dt=x(lt,N[0]),pt=x(lt,U[0]),At=b(b(b(x(b(b(x(b(x(o(pt,at),N[1]),b(x(o(dt,be),-U[1]),x(o(Ge,Ee),O[1]))),F[2]),x(b(x(o(pt,at),F[1]),b(x(o(ft,xe),-U[1]),x(o(Ie,ce),O[1]))),-N[2])),b(x(b(x(o(dt,be),F[1]),b(x(o(ft,xe),-N[1]),x(o(ze,ie),O[1]))),U[2]),x(b(x(o(Ge,Ee),F[1]),b(x(o(Ie,ce),-N[1]),x(o(ze,ie),U[1]))),-O[2]))),G[3]),b(x(b(b(x(b(x(o(pt,at),N[1]),b(x(o(dt,be),-U[1]),x(o(Ge,Ee),O[1]))),G[2]),x(b(x(o(pt,at),G[1]),b(x(o(et,le),-U[1]),x(o(He,ee),O[1]))),-N[2])),b(x(b(x(o(dt,be),G[1]),b(x(o(et,le),-N[1]),x(o(Oe,$),O[1]))),U[2]),x(b(x(o(Ge,Ee),G[1]),b(x(o(He,ee),-N[1]),x(o(Oe,$),U[1]))),-O[2]))),-F[3]),x(b(b(x(b(x(o(pt,at),F[1]),b(x(o(ft,xe),-U[1]),x(o(Ie,ce),O[1]))),G[2]),x(b(x(o(pt,at),G[1]),b(x(o(et,le),-U[1]),x(o(He,ee),O[1]))),-F[2])),b(x(b(x(o(ft,xe),G[1]),b(x(o(et,le),-F[1]),x(o(ue,se),O[1]))),U[2]),x(b(x(o(Ie,ce),G[1]),b(x(o(He,ee),-F[1]),x(o(ue,se),U[1]))),-O[2]))),N[3]))),b(b(x(b(b(x(b(x(o(dt,be),F[1]),b(x(o(ft,xe),-N[1]),x(o(ze,ie),O[1]))),G[2]),x(b(x(o(dt,be),G[1]),b(x(o(et,le),-N[1]),x(o(Oe,$),O[1]))),-F[2])),b(x(b(x(o(ft,xe),G[1]),b(x(o(et,le),-F[1]),x(o(ue,se),O[1]))),N[2]),x(b(x(o(ze,ie),G[1]),b(x(o(Oe,$),-F[1]),x(o(ue,se),N[1]))),-O[2]))),-U[3]),x(b(b(x(b(x(o(Ge,Ee),F[1]),b(x(o(Ie,ce),-N[1]),x(o(ze,ie),U[1]))),G[2]),x(b(x(o(Ge,Ee),G[1]),b(x(o(He,ee),-N[1]),x(o(Oe,$),U[1]))),-F[2])),b(x(b(x(o(Ie,ce),G[1]),b(x(o(He,ee),-F[1]),x(o(ue,se),U[1]))),N[2]),x(b(x(o(ze,ie),G[1]),b(x(o(Oe,$),-F[1]),x(o(ue,se),N[1]))),-U[2]))),O[3])),b(x(b(b(x(b(x(o(pt,at),N[1]),b(x(o(dt,be),-U[1]),x(o(Ge,Ee),O[1]))),G[2]),x(b(x(o(pt,at),G[1]),b(x(o(et,le),-U[1]),x(o(He,ee),O[1]))),-N[2])),b(x(b(x(o(dt,be),G[1]),b(x(o(et,le),-N[1]),x(o(Oe,$),O[1]))),U[2]),x(b(x(o(Ge,Ee),G[1]),b(x(o(He,ee),-N[1]),x(o(Oe,$),U[1]))),-O[2]))),_[3]),x(b(b(x(b(x(o(pt,at),N[1]),b(x(o(dt,be),-U[1]),x(o(Ge,Ee),O[1]))),_[2]),x(b(x(o(pt,at),_[1]),b(x(o(qe,he),-U[1]),x(o(Ue,oe),O[1]))),-N[2])),b(x(b(x(o(dt,be),_[1]),b(x(o(qe,he),-N[1]),x(o(Ae,ne),O[1]))),U[2]),x(b(x(o(Ge,Ee),_[1]),b(x(o(Ue,oe),-N[1]),x(o(Ae,ne),U[1]))),-O[2]))),-G[3])))),b(b(b(x(b(b(x(b(x(o(pt,at),G[1]),b(x(o(et,le),-U[1]),x(o(He,ee),O[1]))),_[2]),x(b(x(o(pt,at),_[1]),b(x(o(qe,he),-U[1]),x(o(Ue,oe),O[1]))),-G[2])),b(x(b(x(o(et,le),_[1]),b(x(o(qe,he),-G[1]),x(o(Z,Y),O[1]))),U[2]),x(b(x(o(He,ee),_[1]),b(x(o(Ue,oe),-G[1]),x(o(Z,Y),U[1]))),-O[2]))),N[3]),x(b(b(x(b(x(o(dt,be),G[1]),b(x(o(et,le),-N[1]),x(o(Oe,$),O[1]))),_[2]),x(b(x(o(dt,be),_[1]),b(x(o(qe,he),-N[1]),x(o(Ae,ne),O[1]))),-G[2])),b(x(b(x(o(et,le),_[1]),b(x(o(qe,he),-G[1]),x(o(Z,Y),O[1]))),N[2]),x(b(x(o(Oe,$),_[1]),b(x(o(Ae,ne),-G[1]),x(o(Z,Y),N[1]))),-O[2]))),-U[3])),b(x(b(b(x(b(x(o(Ge,Ee),G[1]),b(x(o(He,ee),-N[1]),x(o(Oe,$),U[1]))),_[2]),x(b(x(o(Ge,Ee),_[1]),b(x(o(Ue,oe),-N[1]),x(o(Ae,ne),U[1]))),-G[2])),b(x(b(x(o(He,ee),_[1]),b(x(o(Ue,oe),-G[1]),x(o(Z,Y),U[1]))),N[2]),x(b(x(o(Oe,$),_[1]),b(x(o(Ae,ne),-G[1]),x(o(Z,Y),N[1]))),-U[2]))),O[3]),x(b(b(x(b(x(o(dt,be),F[1]),b(x(o(ft,xe),-N[1]),x(o(ze,ie),O[1]))),G[2]),x(b(x(o(dt,be),G[1]),b(x(o(et,le),-N[1]),x(o(Oe,$),O[1]))),-F[2])),b(x(b(x(o(ft,xe),G[1]),b(x(o(et,le),-F[1]),x(o(ue,se),O[1]))),N[2]),x(b(x(o(ze,ie),G[1]),b(x(o(Oe,$),-F[1]),x(o(ue,se),N[1]))),-O[2]))),_[3]))),b(b(x(b(b(x(b(x(o(dt,be),F[1]),b(x(o(ft,xe),-N[1]),x(o(ze,ie),O[1]))),_[2]),x(b(x(o(dt,be),_[1]),b(x(o(qe,he),-N[1]),x(o(Ae,ne),O[1]))),-F[2])),b(x(b(x(o(ft,xe),_[1]),b(x(o(qe,he),-F[1]),x(o(K,q),O[1]))),N[2]),x(b(x(o(ze,ie),_[1]),b(x(o(Ae,ne),-F[1]),x(o(K,q),N[1]))),-O[2]))),-G[3]),x(b(b(x(b(x(o(dt,be),G[1]),b(x(o(et,le),-N[1]),x(o(Oe,$),O[1]))),_[2]),x(b(x(o(dt,be),_[1]),b(x(o(qe,he),-N[1]),x(o(Ae,ne),O[1]))),-G[2])),b(x(b(x(o(et,le),_[1]),b(x(o(qe,he),-G[1]),x(o(Z,Y),O[1]))),N[2]),x(b(x(o(Oe,$),_[1]),b(x(o(Ae,ne),-G[1]),x(o(Z,Y),N[1]))),-O[2]))),F[3])),b(x(b(b(x(b(x(o(ft,xe),G[1]),b(x(o(et,le),-F[1]),x(o(ue,se),O[1]))),_[2]),x(b(x(o(ft,xe),_[1]),b(x(o(qe,he),-F[1]),x(o(K,q),O[1]))),-G[2])),b(x(b(x(o(et,le),_[1]),b(x(o(qe,he),-G[1]),x(o(Z,Y),O[1]))),F[2]),x(b(x(o(ue,se),_[1]),b(x(o(K,q),-G[1]),x(o(Z,Y),F[1]))),-O[2]))),-N[3]),x(b(b(x(b(x(o(ze,ie),G[1]),b(x(o(Oe,$),-F[1]),x(o(ue,se),N[1]))),_[2]),x(b(x(o(ze,ie),_[1]),b(x(o(Ae,ne),-F[1]),x(o(K,q),N[1]))),-G[2])),b(x(b(x(o(Oe,$),_[1]),b(x(o(Ae,ne),-G[1]),x(o(Z,Y),N[1]))),F[2]),x(b(x(o(ue,se),_[1]),b(x(o(K,q),-G[1]),x(o(Z,Y),F[1]))),-N[2]))),O[3]))))),Pt=b(b(b(x(b(b(x(b(x(o(pt,at),N[1]),b(x(o(dt,be),-U[1]),x(o(Ge,Ee),O[1]))),F[2]),x(b(x(o(pt,at),F[1]),b(x(o(ft,xe),-U[1]),x(o(Ie,ce),O[1]))),-N[2])),b(x(b(x(o(dt,be),F[1]),b(x(o(ft,xe),-N[1]),x(o(ze,ie),O[1]))),U[2]),x(b(x(o(Ge,Ee),F[1]),b(x(o(Ie,ce),-N[1]),x(o(ze,ie),U[1]))),-O[2]))),_[3]),b(x(b(b(x(b(x(o(pt,at),N[1]),b(x(o(dt,be),-U[1]),x(o(Ge,Ee),O[1]))),_[2]),x(b(x(o(pt,at),_[1]),b(x(o(qe,he),-U[1]),x(o(Ue,oe),O[1]))),-N[2])),b(x(b(x(o(dt,be),_[1]),b(x(o(qe,he),-N[1]),x(o(Ae,ne),O[1]))),U[2]),x(b(x(o(Ge,Ee),_[1]),b(x(o(Ue,oe),-N[1]),x(o(Ae,ne),U[1]))),-O[2]))),-F[3]),x(b(b(x(b(x(o(pt,at),F[1]),b(x(o(ft,xe),-U[1]),x(o(Ie,ce),O[1]))),_[2]),x(b(x(o(pt,at),_[1]),b(x(o(qe,he),-U[1]),x(o(Ue,oe),O[1]))),-F[2])),b(x(b(x(o(ft,xe),_[1]),b(x(o(qe,he),-F[1]),x(o(K,q),O[1]))),U[2]),x(b(x(o(Ie,ce),_[1]),b(x(o(Ue,oe),-F[1]),x(o(K,q),U[1]))),-O[2]))),N[3]))),b(b(x(b(b(x(b(x(o(dt,be),F[1]),b(x(o(ft,xe),-N[1]),x(o(ze,ie),O[1]))),_[2]),x(b(x(o(dt,be),_[1]),b(x(o(qe,he),-N[1]),x(o(Ae,ne),O[1]))),-F[2])),b(x(b(x(o(ft,xe),_[1]),b(x(o(qe,he),-F[1]),x(o(K,q),O[1]))),N[2]),x(b(x(o(ze,ie),_[1]),b(x(o(Ae,ne),-F[1]),x(o(K,q),N[1]))),-O[2]))),-U[3]),x(b(b(x(b(x(o(Ge,Ee),F[1]),b(x(o(Ie,ce),-N[1]),x(o(ze,ie),U[1]))),_[2]),x(b(x(o(Ge,Ee),_[1]),b(x(o(Ue,oe),-N[1]),x(o(Ae,ne),U[1]))),-F[2])),b(x(b(x(o(Ie,ce),_[1]),b(x(o(Ue,oe),-F[1]),x(o(K,q),U[1]))),N[2]),x(b(x(o(ze,ie),_[1]),b(x(o(Ae,ne),-F[1]),x(o(K,q),N[1]))),-U[2]))),O[3])),b(x(b(b(x(b(x(o(pt,at),F[1]),b(x(o(ft,xe),-U[1]),x(o(Ie,ce),O[1]))),G[2]),x(b(x(o(pt,at),G[1]),b(x(o(et,le),-U[1]),x(o(He,ee),O[1]))),-F[2])),b(x(b(x(o(ft,xe),G[1]),b(x(o(et,le),-F[1]),x(o(ue,se),O[1]))),U[2]),x(b(x(o(Ie,ce),G[1]),b(x(o(He,ee),-F[1]),x(o(ue,se),U[1]))),-O[2]))),_[3]),x(b(b(x(b(x(o(pt,at),F[1]),b(x(o(ft,xe),-U[1]),x(o(Ie,ce),O[1]))),_[2]),x(b(x(o(pt,at),_[1]),b(x(o(qe,he),-U[1]),x(o(Ue,oe),O[1]))),-F[2])),b(x(b(x(o(ft,xe),_[1]),b(x(o(qe,he),-F[1]),x(o(K,q),O[1]))),U[2]),x(b(x(o(Ie,ce),_[1]),b(x(o(Ue,oe),-F[1]),x(o(K,q),U[1]))),-O[2]))),-G[3])))),b(b(b(x(b(b(x(b(x(o(pt,at),G[1]),b(x(o(et,le),-U[1]),x(o(He,ee),O[1]))),_[2]),x(b(x(o(pt,at),_[1]),b(x(o(qe,he),-U[1]),x(o(Ue,oe),O[1]))),-G[2])),b(x(b(x(o(et,le),_[1]),b(x(o(qe,he),-G[1]),x(o(Z,Y),O[1]))),U[2]),x(b(x(o(He,ee),_[1]),b(x(o(Ue,oe),-G[1]),x(o(Z,Y),U[1]))),-O[2]))),F[3]),x(b(b(x(b(x(o(ft,xe),G[1]),b(x(o(et,le),-F[1]),x(o(ue,se),O[1]))),_[2]),x(b(x(o(ft,xe),_[1]),b(x(o(qe,he),-F[1]),x(o(K,q),O[1]))),-G[2])),b(x(b(x(o(et,le),_[1]),b(x(o(qe,he),-G[1]),x(o(Z,Y),O[1]))),F[2]),x(b(x(o(ue,se),_[1]),b(x(o(K,q),-G[1]),x(o(Z,Y),F[1]))),-O[2]))),-U[3])),b(x(b(b(x(b(x(o(Ie,ce),G[1]),b(x(o(He,ee),-F[1]),x(o(ue,se),U[1]))),_[2]),x(b(x(o(Ie,ce),_[1]),b(x(o(Ue,oe),-F[1]),x(o(K,q),U[1]))),-G[2])),b(x(b(x(o(He,ee),_[1]),b(x(o(Ue,oe),-G[1]),x(o(Z,Y),U[1]))),F[2]),x(b(x(o(ue,se),_[1]),b(x(o(K,q),-G[1]),x(o(Z,Y),F[1]))),-U[2]))),O[3]),x(b(b(x(b(x(o(Ge,Ee),F[1]),b(x(o(Ie,ce),-N[1]),x(o(ze,ie),U[1]))),G[2]),x(b(x(o(Ge,Ee),G[1]),b(x(o(He,ee),-N[1]),x(o(Oe,$),U[1]))),-F[2])),b(x(b(x(o(Ie,ce),G[1]),b(x(o(He,ee),-F[1]),x(o(ue,se),U[1]))),N[2]),x(b(x(o(ze,ie),G[1]),b(x(o(Oe,$),-F[1]),x(o(ue,se),N[1]))),-U[2]))),_[3]))),b(b(x(b(b(x(b(x(o(Ge,Ee),F[1]),b(x(o(Ie,ce),-N[1]),x(o(ze,ie),U[1]))),_[2]),x(b(x(o(Ge,Ee),_[1]),b(x(o(Ue,oe),-N[1]),x(o(Ae,ne),U[1]))),-F[2])),b(x(b(x(o(Ie,ce),_[1]),b(x(o(Ue,oe),-F[1]),x(o(K,q),U[1]))),N[2]),x(b(x(o(ze,ie),_[1]),b(x(o(Ae,ne),-F[1]),x(o(K,q),N[1]))),-U[2]))),-G[3]),x(b(b(x(b(x(o(Ge,Ee),G[1]),b(x(o(He,ee),-N[1]),x(o(Oe,$),U[1]))),_[2]),x(b(x(o(Ge,Ee),_[1]),b(x(o(Ue,oe),-N[1]),x(o(Ae,ne),U[1]))),-G[2])),b(x(b(x(o(He,ee),_[1]),b(x(o(Ue,oe),-G[1]),x(o(Z,Y),U[1]))),N[2]),x(b(x(o(Oe,$),_[1]),b(x(o(Ae,ne),-G[1]),x(o(Z,Y),N[1]))),-U[2]))),F[3])),b(x(b(b(x(b(x(o(Ie,ce),G[1]),b(x(o(He,ee),-F[1]),x(o(ue,se),U[1]))),_[2]),x(b(x(o(Ie,ce),_[1]),b(x(o(Ue,oe),-F[1]),x(o(K,q),U[1]))),-G[2])),b(x(b(x(o(He,ee),_[1]),b(x(o(Ue,oe),-G[1]),x(o(Z,Y),U[1]))),F[2]),x(b(x(o(ue,se),_[1]),b(x(o(K,q),-G[1]),x(o(Z,Y),F[1]))),-U[2]))),-N[3]),x(b(b(x(b(x(o(ze,ie),G[1]),b(x(o(Oe,$),-F[1]),x(o(ue,se),N[1]))),_[2]),x(b(x(o(ze,ie),_[1]),b(x(o(Ae,ne),-F[1]),x(o(K,q),N[1]))),-G[2])),b(x(b(x(o(Oe,$),_[1]),b(x(o(Ae,ne),-G[1]),x(o(Z,Y),N[1]))),F[2]),x(b(x(o(ue,se),_[1]),b(x(o(K,q),-G[1]),x(o(Z,Y),F[1]))),-N[2]))),U[3]))))),Ht=o(At,Pt);return Ht[Ht.length-1]}return z}var A=[m,f,S];function k(b){var o=A[b.length];return o||(o=A[b.length]=s(b.length)),o.apply(void 0,b)}function w(b,o,P,x,z,_,G,F){function N(U,O,H,Y,q,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return x(U,O);case 3:return z(U,O,H);case 4:return _(U,O,H,Y);case 5:return G(U,O,H,Y,q);case 6:return F(U,O,H,Y,q,ne)}for(var oe=new Array(arguments.length),he=0;he<arguments.length;++he)oe[he]=arguments[he];return b(oe)}return N}function E(){for(;A.length<=u;)A.push(s(A.length));d.exports=w.apply(void 0,[k].concat(A));for(var b=0;b<=u;++b)d.exports[b]=A[b]}E()},6606:function(d,y,r){var t=r(8167),i=6;function a(A){var k=A===2?s:A===3?m:A===4?f:A===5?S:v;return A<6?k(t[A]):k(t)}function h(){return[[0]]}function u(A,k){return[[k[0]],[A[0][0]]]}function s(A){return function(w,E){return[A([[+E[0],+w[0][1]],[+E[1],+w[1][1]]]),A([[+w[0][0],+E[0]],[+w[1][0],+E[1]]]),A(w)]}}function m(A){return function(w,E){return[A([[+E[0],+w[0][1],+w[0][2]],[+E[1],+w[1][1],+w[1][2]],[+E[2],+w[2][1],+w[2][2]]]),A([[+w[0][0],+E[0],+w[0][2]],[+w[1][0],+E[1],+w[1][2]],[+w[2][0],+E[2],+w[2][2]]]),A([[+w[0][0],+w[0][1],+E[0]],[+w[1][0],+w[1][1],+E[1]],[+w[2][0],+w[2][1],+E[2]]]),A(w)]}}function f(A){return function(w,E){return[A([[+E[0],+w[0][1],+w[0][2],+w[0][3]],[+E[1],+w[1][1],+w[1][2],+w[1][3]],[+E[2],+w[2][1],+w[2][2],+w[2][3]],[+E[3],+w[3][1],+w[3][2],+w[3][3]]]),A([[+w[0][0],+E[0],+w[0][2],+w[0][3]],[+w[1][0],+E[1],+w[1][2],+w[1][3]],[+w[2][0],+E[2],+w[2][2],+w[2][3]],[+w[3][0],+E[3],+w[3][2],+w[3][3]]]),A([[+w[0][0],+w[0][1],+E[0],+w[0][3]],[+w[1][0],+w[1][1],+E[1],+w[1][3]],[+w[2][0],+w[2][1],+E[2],+w[2][3]],[+w[3][0],+w[3][1],+E[3],+w[3][3]]]),A([[+w[0][0],+w[0][1],+w[0][2],+E[0]],[+w[1][0],+w[1][1],+w[1][2],+E[1]],[+w[2][0],+w[2][1],+w[2][2],+E[2]],[+w[3][0],+w[3][1],+w[3][2],+E[3]]]),A(w)]}}function S(A){return function(w,E){return[A([[+E[0],+w[0][1],+w[0][2],+w[0][3],+w[0][4]],[+E[1],+w[1][1],+w[1][2],+w[1][3],+w[1][4]],[+E[2],+w[2][1],+w[2][2],+w[2][3],+w[2][4]],[+E[3],+w[3][1],+w[3][2],+w[3][3],+w[3][4]],[+E[4],+w[4][1],+w[4][2],+w[4][3],+w[4][4]]]),A([[+w[0][0],+E[0],+w[0][2],+w[0][3],+w[0][4]],[+w[1][0],+E[1],+w[1][2],+w[1][3],+w[1][4]],[+w[2][0],+E[2],+w[2][2],+w[2][3],+w[2][4]],[+w[3][0],+E[3],+w[3][2],+w[3][3],+w[3][4]],[+w[4][0],+E[4],+w[4][2],+w[4][3],+w[4][4]]]),A([[+w[0][0],+w[0][1],+E[0],+w[0][3],+w[0][4]],[+w[1][0],+w[1][1],+E[1],+w[1][3],+w[1][4]],[+w[2][0],+w[2][1],+E[2],+w[2][3],+w[2][4]],[+w[3][0],+w[3][1],+E[3],+w[3][3],+w[3][4]],[+w[4][0],+w[4][1],+E[4],+w[4][3],+w[4][4]]]),A([[+w[0][0],+w[0][1],+w[0][2],+E[0],+w[0][4]],[+w[1][0],+w[1][1],+w[1][2],+E[1],+w[1][4]],[+w[2][0],+w[2][1],+w[2][2],+E[2],+w[2][4]],[+w[3][0],+w[3][1],+w[3][2],+E[3],+w[3][4]],[+w[4][0],+w[4][1],+w[4][2],+E[4],+w[4][4]]]),A([[+w[0][0],+w[0][1],+w[0][2],+w[0][3],+E[0]],[+w[1][0],+w[1][1],+w[1][2],+w[1][3],+E[1]],[+w[2][0],+w[2][1],+w[2][2],+w[2][3],+E[2]],[+w[3][0],+w[3][1],+w[3][2],+w[3][3],+E[3]],[+w[4][0],+w[4][1],+w[4][2],+w[4][3],+E[4]]]),A(w)]}}function v(A){return function(w,E){return[A([[+E[0],+w[0][1],+w[0][2],+w[0][3],+w[0][4],+w[0][5]],[+E[1],+w[1][1],+w[1][2],+w[1][3],+w[1][4],+w[1][5]],[+E[2],+w[2][1],+w[2][2],+w[2][3],+w[2][4],+w[2][5]],[+E[3],+w[3][1],+w[3][2],+w[3][3],+w[3][4],+w[3][5]],[+E[4],+w[4][1],+w[4][2],+w[4][3],+w[4][4],+w[4][5]],[+E[5],+w[5][1],+w[5][2],+w[5][3],+w[5][4],+w[5][5]]]),A([[+w[0][0],+E[0],+w[0][2],+w[0][3],+w[0][4],+w[0][5]],[+w[1][0],+E[1],+w[1][2],+w[1][3],+w[1][4],+w[1][5]],[+w[2][0],+E[2],+w[2][2],+w[2][3],+w[2][4],+w[2][5]],[+w[3][0],+E[3],+w[3][2],+w[3][3],+w[3][4],+w[3][5]],[+w[4][0],+E[4],+w[4][2],+w[4][3],+w[4][4],+w[4][5]],[+w[5][0],+E[5],+w[5][2],+w[5][3],+w[5][4],+w[5][5]]]),A([[+w[0][0],+w[0][1],+E[0],+w[0][3],+w[0][4],+w[0][5]],[+w[1][0],+w[1][1],+E[1],+w[1][3],+w[1][4],+w[1][5]],[+w[2][0],+w[2][1],+E[2],+w[2][3],+w[2][4],+w[2][5]],[+w[3][0],+w[3][1],+E[3],+w[3][3],+w[3][4],+w[3][5]],[+w[4][0],+w[4][1],+E[4],+w[4][3],+w[4][4],+w[4][5]],[+w[5][0],+w[5][1],+E[5],+w[5][3],+w[5][4],+w[5][5]]]),A([[+w[0][0],+w[0][1],+w[0][2],+E[0],+w[0][4],+w[0][5]],[+w[1][0],+w[1][1],+w[1][2],+E[1],+w[1][4],+w[1][5]],[+w[2][0],+w[2][1],+w[2][2],+E[2],+w[2][4],+w[2][5]],[+w[3][0],+w[3][1],+w[3][2],+E[3],+w[3][4],+w[3][5]],[+w[4][0],+w[4][1],+w[4][2],+E[4],+w[4][4],+w[4][5]],[+w[5][0],+w[5][1],+w[5][2],+E[5],+w[5][4],+w[5][5]]]),A([[+w[0][0],+w[0][1],+w[0][2],+w[0][3],+E[0],+w[0][5]],[+w[1][0],+w[1][1],+w[1][2],+w[1][3],+E[1],+w[1][5]],[+w[2][0],+w[2][1],+w[2][2],+w[2][3],+E[2],+w[2][5]],[+w[3][0],+w[3][1],+w[3][2],+w[3][3],+E[3],+w[3][5]],[+w[4][0],+w[4][1],+w[4][2],+w[4][3],+E[4],+w[4][5]],[+w[5][0],+w[5][1],+w[5][2],+w[5][3],+E[5],+w[5][5]]]),A([[+w[0][0],+w[0][1],+w[0][2],+w[0][3],+w[0][4],+E[0]],[+w[1][0],+w[1][1],+w[1][2],+w[1][3],+w[1][4],+E[1]],[+w[2][0],+w[2][1],+w[2][2],+w[2][3],+w[2][4],+E[2]],[+w[3][0],+w[3][1],+w[3][2],+w[3][3],+w[3][4],+E[3]],[+w[4][0],+w[4][1],+w[4][2],+w[4][3],+w[4][4],+E[4]],[+w[5][0],+w[5][1],+w[5][2],+w[5][3],+w[5][4],+E[5]]]),A(w)]}}var l=[h,u];function g(A,k,w,E,b,o,P,x){return function(_,G){switch(_.length){case 0:return A(_,G);case 1:return k(_,G);case 2:return w(_,G);case 3:return E(_,G);case 4:return b(_,G);case 5:return o(_,G)}var F=P[_.length];return F||(F=P[_.length]=x(_.length)),F(_,G)}}function M(){for(;l.length<i;)l.push(a(l.length));d.exports=g.apply(void 0,l.concat([l,a]));for(var A=0;A<i;++A)d.exports[A]=l[A]}M()},417:function(d,y,r){var t=r(9660),i=r(9662),a=r(8289),h=r(4078),u=5,s=11102230246251565e-32,m=(3+16*s)*s,f=(7+56*s)*s;function S(o,P,x,z){return function(G,F,N){var U=o(o(P(F[1],N[0]),P(-N[1],F[0])),o(P(G[1],F[0]),P(-F[1],G[0]))),O=o(P(G[1],N[0]),P(-N[1],G[0])),H=z(U,O);return H[H.length-1]}}function v(o,P,x,z){return function(G,F,N,U){var O=o(o(x(o(P(N[1],U[0]),P(-U[1],N[0])),F[2]),o(x(o(P(F[1],U[0]),P(-U[1],F[0])),-N[2]),x(o(P(F[1],N[0]),P(-N[1],F[0])),U[2]))),o(x(o(P(F[1],U[0]),P(-U[1],F[0])),G[2]),o(x(o(P(G[1],U[0]),P(-U[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),U[2])))),H=o(o(x(o(P(N[1],U[0]),P(-U[1],N[0])),G[2]),o(x(o(P(G[1],U[0]),P(-U[1],G[0])),-N[2]),x(o(P(G[1],N[0]),P(-N[1],G[0])),U[2]))),o(x(o(P(F[1],N[0]),P(-N[1],F[0])),G[2]),o(x(o(P(G[1],N[0]),P(-N[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),N[2])))),Y=z(O,H);return Y[Y.length-1]}}function l(o,P,x,z){return function(G,F,N,U,O){var H=o(o(o(x(o(x(o(P(U[1],O[0]),P(-O[1],U[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-U[2]),x(o(P(N[1],U[0]),P(-U[1],N[0])),O[2]))),F[3]),o(x(o(x(o(P(U[1],O[0]),P(-O[1],U[0])),F[2]),o(x(o(P(F[1],O[0]),P(-O[1],F[0])),-U[2]),x(o(P(F[1],U[0]),P(-U[1],F[0])),O[2]))),-N[3]),x(o(x(o(P(N[1],O[0]),P(-O[1],N[0])),F[2]),o(x(o(P(F[1],O[0]),P(-O[1],F[0])),-N[2]),x(o(P(F[1],N[0]),P(-N[1],F[0])),O[2]))),U[3]))),o(x(o(x(o(P(N[1],U[0]),P(-U[1],N[0])),F[2]),o(x(o(P(F[1],U[0]),P(-U[1],F[0])),-N[2]),x(o(P(F[1],N[0]),P(-N[1],F[0])),U[2]))),-O[3]),o(x(o(x(o(P(U[1],O[0]),P(-O[1],U[0])),F[2]),o(x(o(P(F[1],O[0]),P(-O[1],F[0])),-U[2]),x(o(P(F[1],U[0]),P(-U[1],F[0])),O[2]))),G[3]),x(o(x(o(P(U[1],O[0]),P(-O[1],U[0])),G[2]),o(x(o(P(G[1],O[0]),P(-O[1],G[0])),-U[2]),x(o(P(G[1],U[0]),P(-U[1],G[0])),O[2]))),-F[3])))),o(o(x(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),G[2]),o(x(o(P(G[1],O[0]),P(-O[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),O[2]))),U[3]),o(x(o(x(o(P(F[1],U[0]),P(-U[1],F[0])),G[2]),o(x(o(P(G[1],U[0]),P(-U[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),U[2]))),-O[3]),x(o(x(o(P(N[1],U[0]),P(-U[1],N[0])),F[2]),o(x(o(P(F[1],U[0]),P(-U[1],F[0])),-N[2]),x(o(P(F[1],N[0]),P(-N[1],F[0])),U[2]))),G[3]))),o(x(o(x(o(P(N[1],U[0]),P(-U[1],N[0])),G[2]),o(x(o(P(G[1],U[0]),P(-U[1],G[0])),-N[2]),x(o(P(G[1],N[0]),P(-N[1],G[0])),U[2]))),-F[3]),o(x(o(x(o(P(F[1],U[0]),P(-U[1],F[0])),G[2]),o(x(o(P(G[1],U[0]),P(-U[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),U[2]))),N[3]),x(o(x(o(P(F[1],N[0]),P(-N[1],F[0])),G[2]),o(x(o(P(G[1],N[0]),P(-N[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),N[2]))),-U[3]))))),Y=o(o(o(x(o(x(o(P(U[1],O[0]),P(-O[1],U[0])),N[2]),o(x(o(P(N[1],O[0]),P(-O[1],N[0])),-U[2]),x(o(P(N[1],U[0]),P(-U[1],N[0])),O[2]))),G[3]),x(o(x(o(P(U[1],O[0]),P(-O[1],U[0])),G[2]),o(x(o(P(G[1],O[0]),P(-O[1],G[0])),-U[2]),x(o(P(G[1],U[0]),P(-U[1],G[0])),O[2]))),-N[3])),o(x(o(x(o(P(N[1],O[0]),P(-O[1],N[0])),G[2]),o(x(o(P(G[1],O[0]),P(-O[1],G[0])),-N[2]),x(o(P(G[1],N[0]),P(-N[1],G[0])),O[2]))),U[3]),x(o(x(o(P(N[1],U[0]),P(-U[1],N[0])),G[2]),o(x(o(P(G[1],U[0]),P(-U[1],G[0])),-N[2]),x(o(P(G[1],N[0]),P(-N[1],G[0])),U[2]))),-O[3]))),o(o(x(o(x(o(P(N[1],O[0]),P(-O[1],N[0])),F[2]),o(x(o(P(F[1],O[0]),P(-O[1],F[0])),-N[2]),x(o(P(F[1],N[0]),P(-N[1],F[0])),O[2]))),G[3]),x(o(x(o(P(N[1],O[0]),P(-O[1],N[0])),G[2]),o(x(o(P(G[1],O[0]),P(-O[1],G[0])),-N[2]),x(o(P(G[1],N[0]),P(-N[1],G[0])),O[2]))),-F[3])),o(x(o(x(o(P(F[1],O[0]),P(-O[1],F[0])),G[2]),o(x(o(P(G[1],O[0]),P(-O[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),O[2]))),N[3]),x(o(x(o(P(F[1],N[0]),P(-N[1],F[0])),G[2]),o(x(o(P(G[1],N[0]),P(-N[1],G[0])),-F[2]),x(o(P(G[1],F[0]),P(-F[1],G[0])),N[2]))),-O[3])))),q=z(H,Y);return q[q.length-1]}}function g(o){var P=o===3?S:o===4?v:l;return P(i,t,a,h)}var M=g(3),A=g(4),k=[function(){return 0},function(){return 0},function(P,x){return x[0]-P[0]},function(P,x,z){var _=(P[1]-z[1])*(x[0]-z[0]),G=(P[0]-z[0])*(x[1]-z[1]),F=_-G,N;if(_>0){if(G<=0)return F;N=_+G}else if(_<0){if(G>=0)return F;N=-(_+G)}else return F;var U=m*N;return F>=U||F<=-U?F:M(P,x,z)},function(P,x,z,_){var G=P[0]-_[0],F=x[0]-_[0],N=z[0]-_[0],U=P[1]-_[1],O=x[1]-_[1],H=z[1]-_[1],Y=P[2]-_[2],q=x[2]-_[2],ne=z[2]-_[2],oe=F*H,he=N*O,J=N*U,Z=G*H,se=G*O,$=F*U,ee=Y*(oe-he)+q*(J-Z)+ne*(se-$),le=(Math.abs(oe)+Math.abs(he))*Math.abs(Y)+(Math.abs(J)+Math.abs(Z))*Math.abs(q)+(Math.abs(se)+Math.abs($))*Math.abs(ne),Q=f*le;return ee>Q||-ee>Q?ee:A(P,x,z,_)}];function w(o){var P=k[o.length];return P||(P=k[o.length]=g(o.length)),P.apply(void 0,o)}function E(o,P,x,z,_,G,F){return function(U,O,H,Y,q){switch(arguments.length){case 0:case 1:return 0;case 2:return z(U,O);case 3:return _(U,O,H);case 4:return G(U,O,H,Y);case 5:return F(U,O,H,Y,q)}for(var ne=new Array(arguments.length),oe=0;oe<arguments.length;++oe)ne[oe]=arguments[oe];return o(ne)}}function b(){for(;k.length<=u;)k.push(g(k.length));d.exports=E.apply(void 0,[w].concat(k));for(var o=0;o<=u;++o)d.exports[o]=k[o]}b()},2019:function(d,y,r){var t=r(9662),i=r(8289);d.exports=a;function a(h,u){if(h.length===1)return i(u,h[0]);if(u.length===1)return i(h,u[0]);if(h.length===0||u.length===0)return[0];var s=[0];if(h.length<u.length)for(var m=0;m<h.length;++m)s=t(s,i(u,h[m]));else for(var m=0;m<u.length;++m)s=t(s,i(h,u[m]));return s}},8289:function(d,y,r){var t=r(9660),i=r(87);d.exports=a;function a(h,u){var s=h.length;if(s===1){var m=t(h[0],u);return m[0]?m:[m[1]]}var f=new Array(2*s),S=[.1,.1],v=[.1,.1],l=0;t(h[0],u,S),S[0]&&(f[l++]=S[0]);for(var g=1;g<s;++g){t(h[g],u,v);var M=S[1];i(M,v[0],S),S[0]&&(f[l++]=S[0]);var A=v[1],k=S[1],w=A+k,E=w-A,b=k-E;S[1]=w,b&&(f[l++]=b)}return S[1]&&(f[l++]=S[1]),l===0&&(f[l++]=0),f.length=l,f}},4434:function(d,y,r){d.exports=a;var t=r(417)[3];function i(h,u,s,m){for(var f=0;f<2;++f){var S=h[f],v=u[f],l=Math.min(S,v),g=Math.max(S,v),M=s[f],A=m[f],k=Math.min(M,A),w=Math.max(M,A);if(w<l||g<k)return!1}return!0}function a(h,u,s,m){var f=t(h,s,m),S=t(u,s,m);if(f>0&&S>0||f<0&&S<0)return!1;var v=t(s,h,u),l=t(m,h,u);return v>0&&l>0||v<0&&l<0?!1:f===0&&S===0&&v===0&&l===0?i(h,u,s,m):!0}},4078:function(d){d.exports=r;function y(t,i){var a=t+i,h=a-t,u=a-h,s=i-h,m=t-u,f=m+s;return f?[f,a]:[a]}function r(t,i){var a=t.length|0,h=i.length|0;if(a===1&&h===1)return y(t[0],-i[0]);var u=a+h,s=new Array(u),m=0,f=0,S=0,v=Math.abs,l=t[f],g=v(l),M=-i[S],A=v(M),k,w;g<A?(w=l,f+=1,f<a&&(l=t[f],g=v(l))):(w=M,S+=1,S<h&&(M=-i[S],A=v(M))),f<a&&g<A||S>=h?(k=l,f+=1,f<a&&(l=t[f],g=v(l))):(k=M,S+=1,S<h&&(M=-i[S],A=v(M)));for(var E=k+w,b=E-k,o=w-b,P=o,x=E,z,_,G,F,N;f<a&&S<h;)g<A?(k=l,f+=1,f<a&&(l=t[f],g=v(l))):(k=M,S+=1,S<h&&(M=-i[S],A=v(M))),w=P,E=k+w,b=E-k,o=w-b,o&&(s[m++]=o),z=x+E,_=z-x,G=z-_,F=E-_,N=x-G,P=N+F,x=z;for(;f<a;)k=l,w=P,E=k+w,b=E-k,o=w-b,o&&(s[m++]=o),z=x+E,_=z-x,G=z-_,F=E-_,N=x-G,P=N+F,x=z,f+=1,f<a&&(l=t[f]);for(;S<h;)k=M,w=P,E=k+w,b=E-k,o=w-b,o&&(s[m++]=o),z=x+E,_=z-x,G=z-_,F=E-_,N=x-G,P=N+F,x=z,S+=1,S<h&&(M=-i[S]);return P&&(s[m++]=P),x&&(s[m++]=x),m||(s[m++]=0),s.length=m,s}},9662:function(d){d.exports=r;function y(t,i){var a=t+i,h=a-t,u=a-h,s=i-h,m=t-u,f=m+s;return f?[f,a]:[a]}function r(t,i){var a=t.length|0,h=i.length|0;if(a===1&&h===1)return y(t[0],i[0]);var u=a+h,s=new Array(u),m=0,f=0,S=0,v=Math.abs,l=t[f],g=v(l),M=i[S],A=v(M),k,w;g<A?(w=l,f+=1,f<a&&(l=t[f],g=v(l))):(w=M,S+=1,S<h&&(M=i[S],A=v(M))),f<a&&g<A||S>=h?(k=l,f+=1,f<a&&(l=t[f],g=v(l))):(k=M,S+=1,S<h&&(M=i[S],A=v(M)));for(var E=k+w,b=E-k,o=w-b,P=o,x=E,z,_,G,F,N;f<a&&S<h;)g<A?(k=l,f+=1,f<a&&(l=t[f],g=v(l))):(k=M,S+=1,S<h&&(M=i[S],A=v(M))),w=P,E=k+w,b=E-k,o=w-b,o&&(s[m++]=o),z=x+E,_=z-x,G=z-_,F=E-_,N=x-G,P=N+F,x=z;for(;f<a;)k=l,w=P,E=k+w,b=E-k,o=w-b,o&&(s[m++]=o),z=x+E,_=z-x,G=z-_,F=E-_,N=x-G,P=N+F,x=z,f+=1,f<a&&(l=t[f]);for(;S<h;)k=M,w=P,E=k+w,b=E-k,o=w-b,o&&(s[m++]=o),z=x+E,_=z-x,G=z-_,F=E-_,N=x-G,P=N+F,x=z,S+=1,S<h&&(M=i[S]);return P&&(s[m++]=P),x&&(s[m++]=x),m||(s[m++]=0),s.length=m,s}},8691:function(d,y,r){d.exports=a;var t=r(2692),i=r(7037);function a(h){return i(t(h))}},7212:function(d,y,r){d.exports=l;var t=r(5050),i=r(5306),a=r(8729),h=r(1168);function u(g){for(var M=g.length,A=0,k=0;k<M;++k)A=Math.max(A,g[k].length)|0;return A-1}function s(g,M){for(var A=g.length,k=i.mallocUint8(A),w=0;w<A;++w)k[w]=g[w]<M|0;return k}function m(g,M){for(var A=g.length,k=M*(M+1)/2*A|0,w=i.mallocUint32(k*2),E=0,b=0;b<A;++b)for(var o=g[b],M=o.length,P=0;P<M;++P)for(var x=0;x<P;++x){var z=o[x],_=o[P];w[E++]=Math.min(z,_)|0,w[E++]=Math.max(z,_)|0}var G=E/2|0;a(t(w,[G,2]));for(var F=2,b=2;b<E;b+=2)w[b-2]===w[b]&&w[b-1]===w[b+1]||(w[F++]=w[b],w[F++]=w[b+1]);return t(w,[F/2|0,2])}function f(g,M,A,k){for(var w=g.data,E=g.shape[0],b=i.mallocDouble(E),o=0,P=0;P<E;++P){var x=w[2*P],z=w[2*P+1];if(A[x]!==A[z]){var _=M[x],G=M[z];w[2*o]=x,w[2*o+1]=z,b[o++]=(G-k)/(G-_)}}return g.shape[0]=o,t(b,[o])}function S(g,M){var A=i.mallocInt32(M*2),k=g.shape[0],w=g.data;A[0]=0;for(var E=0,b=0;b<k;++b){var o=w[2*b];if(o!==E){for(A[2*E+1]=b;++E<o;)A[2*E]=b,A[2*E+1]=b;A[2*E]=b}}for(A[2*E+1]=k;++E<M;)A[2*E]=A[2*E+1]=k;return A}function v(g){for(var M=g.shape[0]|0,A=g.data,k=new Array(M),w=0;w<M;++w)k[w]=[A[2*w],A[2*w+1]];return k}function l(g,M,A,k){A=A||0,typeof k>"u"&&(k=u(g));var w=g.length;if(w===0||k<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=s(M,+A),b=m(g,k),o=f(b,M,E,+A),P=S(b,M.length|0),x=h(k)(g,b.data,P,E),z=v(b),_=[].slice.call(o.data,0,o.shape[0]);return i.free(E),i.free(b.data),i.free(o.data),i.free(P),{cells:x,vertexIds:z,vertexWeights:_}}},1168:function(d){d.exports=r;var y=[function(){function i(a,h,u,s){for(var m=a.length,f=[],S=0;S<m;++S){var v=a[S];v.length}return f}return i},function(){function i(h,u,s,m){for(var f=Math.min(s,m)|0,S=Math.max(s,m)|0,v=h[2*f],l=h[2*f+1];v<l;){var g=v+l>>1,M=u[2*g+1];if(M===S)return g;S<M?l=g:v=g+1}return v}function a(h,u,s,m){for(var f=h.length,S=[],v=0;v<f;++v){var l=h[v],g=l.length;if(g===2){var M=(m[l[0]]<<0)+(m[l[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:S.push([i(s,u,l[0],l[1])]);break;case 2:S.push([i(s,u,l[1],l[0])]);break}}}return S}return a},function(){function i(h,u,s,m){for(var f=Math.min(s,m)|0,S=Math.max(s,m)|0,v=h[2*f],l=h[2*f+1];v<l;){var g=v+l>>1,M=u[2*g+1];if(M===S)return g;S<M?l=g:v=g+1}return v}function a(h,u,s,m){for(var f=h.length,S=[],v=0;v<f;++v){var l=h[v],g=l.length;if(g===3){var M=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:S.push([i(s,u,l[0],l[2]),i(s,u,l[0],l[1])]);break;case 2:S.push([i(s,u,l[1],l[0]),i(s,u,l[1],l[2])]);break;case 3:S.push([i(s,u,l[0],l[2]),i(s,u,l[1],l[2])]);break;case 4:S.push([i(s,u,l[2],l[1]),i(s,u,l[2],l[0])]);break;case 5:S.push([i(s,u,l[2],l[1]),i(s,u,l[0],l[1])]);break;case 6:S.push([i(s,u,l[1],l[0]),i(s,u,l[2],l[0])]);break}}else if(g===2){var M=(m[l[0]]<<0)+(m[l[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:S.push([i(s,u,l[0],l[1])]);break;case 2:S.push([i(s,u,l[1],l[0])]);break}}}return S}return a},function(){function i(h,u,s,m){for(var f=Math.min(s,m)|0,S=Math.max(s,m)|0,v=h[2*f],l=h[2*f+1];v<l;){var g=v+l>>1,M=u[2*g+1];if(M===S)return g;S<M?l=g:v=g+1}return v}function a(h,u,s,m){for(var f=h.length,S=[],v=0;v<f;++v){var l=h[v],g=l.length;if(g===4){var M=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2)+(m[l[3]]<<3);if(M===0||M===15)continue;switch(M){case 0:break;case 1:S.push([i(s,u,l[0],l[1]),i(s,u,l[0],l[2]),i(s,u,l[0],l[3])]);break;case 2:S.push([i(s,u,l[1],l[2]),i(s,u,l[1],l[0]),i(s,u,l[1],l[3])]);break;case 3:S.push([i(s,u,l[1],l[2]),i(s,u,l[0],l[2]),i(s,u,l[0],l[3])],[i(s,u,l[1],l[3]),i(s,u,l[1],l[2]),i(s,u,l[0],l[3])]);break;case 4:S.push([i(s,u,l[2],l[0]),i(s,u,l[2],l[1]),i(s,u,l[2],l[3])]);break;case 5:S.push([i(s,u,l[0],l[1]),i(s,u,l[2],l[1]),i(s,u,l[0],l[3])],[i(s,u,l[2],l[1]),i(s,u,l[2],l[3]),i(s,u,l[0],l[3])]);break;case 6:S.push([i(s,u,l[2],l[0]),i(s,u,l[1],l[0]),i(s,u,l[1],l[3])],[i(s,u,l[2],l[3]),i(s,u,l[2],l[0]),i(s,u,l[1],l[3])]);break;case 7:S.push([i(s,u,l[0],l[3]),i(s,u,l[1],l[3]),i(s,u,l[2],l[3])]);break;case 8:S.push([i(s,u,l[3],l[1]),i(s,u,l[3],l[0]),i(s,u,l[3],l[2])]);break;case 9:S.push([i(s,u,l[3],l[1]),i(s,u,l[0],l[1]),i(s,u,l[0],l[2])],[i(s,u,l[3],l[2]),i(s,u,l[3],l[1]),i(s,u,l[0],l[2])]);break;case 10:S.push([i(s,u,l[1],l[0]),i(s,u,l[3],l[0]),i(s,u,l[1],l[2])],[i(s,u,l[3],l[0]),i(s,u,l[3],l[2]),i(s,u,l[1],l[2])]);break;case 11:S.push([i(s,u,l[1],l[2]),i(s,u,l[0],l[2]),i(s,u,l[3],l[2])]);break;case 12:S.push([i(s,u,l[3],l[0]),i(s,u,l[2],l[0]),i(s,u,l[2],l[1])],[i(s,u,l[3],l[1]),i(s,u,l[3],l[0]),i(s,u,l[2],l[1])]);break;case 13:S.push([i(s,u,l[0],l[1]),i(s,u,l[2],l[1]),i(s,u,l[3],l[1])]);break;case 14:S.push([i(s,u,l[2],l[0]),i(s,u,l[1],l[0]),i(s,u,l[3],l[0])]);break}}else if(g===3){var M=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:S.push([i(s,u,l[0],l[2]),i(s,u,l[0],l[1])]);break;case 2:S.push([i(s,u,l[1],l[0]),i(s,u,l[1],l[2])]);break;case 3:S.push([i(s,u,l[0],l[2]),i(s,u,l[1],l[2])]);break;case 4:S.push([i(s,u,l[2],l[1]),i(s,u,l[2],l[0])]);break;case 5:S.push([i(s,u,l[2],l[1]),i(s,u,l[0],l[1])]);break;case 6:S.push([i(s,u,l[1],l[0]),i(s,u,l[2],l[0])]);break}}else if(g===2){var M=(m[l[0]]<<0)+(m[l[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:S.push([i(s,u,l[0],l[1])]);break;case 2:S.push([i(s,u,l[1],l[0])]);break}}}return S}return a}];function r(t){return y[t]()}},8211:function(d,y,r){r(2288),r(1731);function t(i,a){var h=i.length,u=i.length-a.length,s=Math.min;if(u)return u;switch(h){case 0:return 0;case 1:return i[0]-a[0];case 2:var l=i[0]+i[1]-a[0]-a[1];return l||s(i[0],i[1])-s(a[0],a[1]);case 3:var m=i[0]+i[1],f=a[0]+a[1];if(l=m+i[2]-(f+a[2]),l)return l;var S=s(i[0],i[1]),v=s(a[0],a[1]),l=s(S,i[2])-s(v,a[2]);return l||s(S+i[2],m)-s(v+a[2],f);default:var g=i.slice(0);g.sort();var M=a.slice(0);M.sort();for(var A=0;A<h;++A)if(u=g[A]-M[A],u)return u;return 0}}y.H=t},9392:function(d,y){"use restrict";var r=32;y.INT_BITS=r,y.INT_MAX=2147483647,y.INT_MIN=-1<<r-1,y.sign=function(a){return(a>0)-(a<0)},y.abs=function(a){var h=a>>r-1;return(a^h)-h},y.min=function(a,h){return h^(a^h)&-(a<h)},y.max=function(a,h){return a^(a^h)&-(a<h)},y.isPow2=function(a){return!(a&a-1)&&!!a},y.log2=function(a){var h,u;return h=(a>65535)<<4,a>>>=h,u=(a>255)<<3,a>>>=u,h|=u,u=(a>15)<<2,a>>>=u,h|=u,u=(a>3)<<1,a>>>=u,h|=u,h|a>>1},y.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},y.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function t(a){var h=32;return a&=-a,a&&h--,a&65535&&(h-=16),a&16711935&&(h-=8),a&252645135&&(h-=4),a&858993459&&(h-=2),a&1431655765&&(h-=1),h}y.countTrailingZeros=t,y.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},y.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},y.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var i=new Array(256);(function(a){for(var h=0;h<256;++h){var u=h,s=h,m=7;for(u>>>=1;u;u>>>=1)s<<=1,s|=u&1,--m;a[h]=s<<m&255}})(i),y.reverse=function(a){return i[a&255]<<24|i[a>>>8&255]<<16|i[a>>>16&255]<<8|i[a>>>24&255]},y.interleave2=function(a,h){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,h&=65535,h=(h|h<<8)&16711935,h=(h|h<<4)&252645135,h=(h|h<<2)&858993459,h=(h|h<<1)&1431655765,a|h<<1},y.deinterleave2=function(a,h){return a=a>>>h&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},y.interleave3=function(a,h,u){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,h&=1023,h=(h|h<<16)&4278190335,h=(h|h<<8)&251719695,h=(h|h<<4)&3272356035,h=(h|h<<2)&1227133513,a|=h<<1,u&=1023,u=(u|u<<16)&4278190335,u=(u|u<<8)&251719695,u=(u|u<<4)&3272356035,u=(u|u<<2)&1227133513,a|u<<2},y.deinterleave3=function(a,h){return a=a>>>h&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},y.nextCombination=function(a){var h=a|a-1;return h+1|(~h&-~h)-1>>>t(a)+1}},6656:function(d,y,r){"use restrict";var t=r(9392),i=r(9521);function a(o){for(var P=0,x=Math.max,z=0,_=o.length;z<_;++z)P=x(P,o[z].length);return P-1}y.dimension=a;function h(o){for(var P=-1,x=Math.max,z=0,_=o.length;z<_;++z)for(var G=o[z],F=0,N=G.length;F<N;++F)P=x(P,G[F]);return P+1}y.countVertices=h;function u(o){for(var P=new Array(o.length),x=0,z=o.length;x<z;++x)P[x]=o[x].slice(0);return P}y.cloneCells=u;function s(o,P){var x=o.length,z=o.length-P.length,_=Math.min;if(z)return z;switch(x){case 0:return 0;case 1:return o[0]-P[0];case 2:var O=o[0]+o[1]-P[0]-P[1];return O||_(o[0],o[1])-_(P[0],P[1]);case 3:var G=o[0]+o[1],F=P[0]+P[1];if(O=G+o[2]-(F+P[2]),O)return O;var N=_(o[0],o[1]),U=_(P[0],P[1]),O=_(N,o[2])-_(U,P[2]);return O||_(N+o[2],G)-_(U+P[2],F);default:var H=o.slice(0);H.sort();var Y=P.slice(0);Y.sort();for(var q=0;q<x;++q)if(z=H[q]-Y[q],z)return z;return 0}}y.compareCells=s;function m(o,P){return s(o[0],P[0])}function f(o,P){if(P){for(var x=o.length,z=new Array(x),_=0;_<x;++_)z[_]=[o[_],P[_]];z.sort(m);for(var _=0;_<x;++_)o[_]=z[_][0],P[_]=z[_][1];return o}else return o.sort(s),o}y.normalize=f;function S(o){if(o.length===0)return[];for(var P=1,x=o.length,z=1;z<x;++z){var _=o[z];if(s(_,o[z-1])){if(z===P){P++;continue}o[P++]=_}}return o.length=P,o}y.unique=S;function v(o,P){for(var x=0,z=o.length-1,_=-1;x<=z;){var G=x+z>>1,F=s(o[G],P);F<=0?(F===0&&(_=G),x=G+1):F>0&&(z=G-1)}return _}y.findCell=v;function l(o,P){for(var x=new Array(o.length),z=0,_=x.length;z<_;++z)x[z]=[];for(var G=[],z=0,F=P.length;z<F;++z)for(var N=P[z],U=N.length,O=1,H=1<<U;O<H;++O){G.length=t.popCount(O);for(var Y=0,q=0;q<U;++q)O&1<<q&&(G[Y++]=N[q]);var ne=v(o,G);if(!(ne<0))for(;x[ne++].push(z),!(ne>=o.length||s(o[ne],G)!==0););}return x}y.incidence=l;function g(o,P){if(!P)return l(S(A(o,0)),o);for(var x=new Array(P),z=0;z<P;++z)x[z]=[];for(var z=0,_=o.length;z<_;++z)for(var G=o[z],F=0,N=G.length;F<N;++F)x[G[F]].push(z);return x}y.dual=g;function M(o){for(var P=[],x=0,z=o.length;x<z;++x)for(var _=o[x],G=_.length|0,F=1,N=1<<G;F<N;++F){for(var U=[],O=0;O<G;++O)F>>>O&1&&U.push(_[O]);P.push(U)}return f(P)}y.explode=M;function A(o,P){if(P<0)return[];for(var x=[],z=(1<<P+1)-1,_=0;_<o.length;++_)for(var G=o[_],F=z;F<1<<G.length;F=t.nextCombination(F)){for(var N=new Array(P+1),U=0,O=0;O<G.length;++O)F&1<<O&&(N[U++]=G[O]);x.push(N)}return f(x)}y.skeleton=A;function k(o){for(var P=[],x=0,z=o.length;x<z;++x)for(var _=o[x],G=0,F=_.length;G<F;++G){for(var N=new Array(_.length-1),U=0,O=0;U<F;++U)U!==G&&(N[O++]=_[U]);P.push(N)}return f(P)}y.boundary=k;function w(o,P){for(var x=new i(P),z=0;z<o.length;++z)for(var _=o[z],G=0;G<_.length;++G)for(var F=G+1;F<_.length;++F)x.link(_[G],_[F]);for(var N=[],U=x.ranks,z=0;z<U.length;++z)U[z]=-1;for(var z=0;z<o.length;++z){var O=x.find(o[z][0]);U[O]<0?(U[O]=N.length,N.push([o[z].slice(0)])):N[U[O]].push(o[z].slice(0))}return N}function E(o){for(var P=S(f(A(o,0))),x=new i(P.length),z=0;z<o.length;++z)for(var _=o[z],G=0;G<_.length;++G)for(var F=v(P,[_[G]]),N=G+1;N<_.length;++N)x.link(F,v(P,[_[N]]));for(var U=[],O=x.ranks,z=0;z<O.length;++z)O[z]=-1;for(var z=0;z<o.length;++z){var H=x.find(v(P,[o[z][0]]));O[H]<0?(O[H]=U.length,U.push([o[z].slice(0)])):U[O[H]].push(o[z].slice(0))}return U}function b(o,P){return P?w(o,P):E(o)}y.connectedComponents=b},9521:function(d){"use restrict";d.exports=y;function y(r){this.roots=new Array(r),this.ranks=new Array(r);for(var t=0;t<r;++t)this.roots[t]=t,this.ranks[t]=0}y.prototype.length=function(){return this.roots.length},y.prototype.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},y.prototype.find=function(r){for(var t=this.roots;t[r]!==r;){var i=t[r];t[r]=t[i],r=i}return r},y.prototype.link=function(r,t){var i=this.find(r),a=this.find(t);if(i!==a){var h=this.ranks,u=this.roots,s=h[i],m=h[a];s<m?u[i]=a:m<s?u[a]=i:(u[a]=i,++h[i])}}},8243:function(d,y,r){d.exports=h;var t=r(417),i=r(6656);function a(u,s,m){var f=Math.abs(t(u,s,m)),S=Math.sqrt(Math.pow(s[0]-m[0],2)+Math.pow(s[1]-m[1],2));return f/S}function h(u,s,m){for(var f=s.length,S=u.length,v=new Array(f),l=new Array(f),g=new Array(f),M=new Array(f),A=0;A<f;++A)v[A]=l[A]=-1,g[A]=1/0,M[A]=!1;for(var A=0;A<S;++A){var k=u[A];if(k.length!==2)throw new Error("Input must be a graph");var w=k[1],E=k[0];l[E]!==-1?l[E]=-2:l[E]=w,v[w]!==-1?v[w]=-2:v[w]=E}function b(J){if(M[J])return 1/0;var Z=v[J],se=l[J];return Z<0||se<0?1/0:a(s[J],s[Z],s[se])}function o(J,Z){var se=U[J],$=U[Z];U[J]=$,U[Z]=se,O[se]=Z,O[$]=J}function P(J){return g[U[J]]}function x(J){return J&1?J-1>>1:(J>>1)-1}function z(J){for(var Z=P(J);;){var se=Z,$=2*J+1,ee=2*(J+1),le=J;if($<Y){var Q=P($);Q<se&&(le=$,se=Q)}if(ee<Y){var K=P(ee);K<se&&(le=ee)}if(le===J)return J;o(J,le),J=le}}function _(J){for(var Z=P(J);J>0;){var se=x(J);if(se>=0){var $=P(se);if(Z<$){o(J,se),J=se;continue}}return J}}function G(){if(Y>0){var J=U[0];return o(0,Y-1),Y-=1,z(0),J}return-1}function F(J,Z){var se=U[J];return g[se]===Z?J:(g[se]=-1/0,_(J),G(),g[se]=Z,Y+=1,_(Y-1))}function N(J){if(!M[J]){M[J]=!0;var Z=v[J],se=l[J];v[se]>=0&&(v[se]=Z),l[Z]>=0&&(l[Z]=se),O[Z]>=0&&F(O[Z],b(Z)),O[se]>=0&&F(O[se],b(se))}}for(var U=[],O=new Array(f),A=0;A<f;++A){var H=g[A]=b(A);H<1/0?(O[A]=U.length,U.push(A)):O[A]=-1}for(var Y=U.length,A=Y>>1;A>=0;--A)z(A);for(;;){var q=G();if(q<0||g[q]>m)break;N(q)}for(var ne=[],A=0;A<f;++A)M[A]||(O[A]=ne.length,ne.push(s[A].slice()));ne.length;function oe(J,Z){if(J[Z]<0)return Z;var se=Z,$=Z;do{var ee=J[$];if(!M[$]||ee<0||ee===$||($=ee,ee=J[$],!M[$]||ee<0||ee===$))break;$=ee,se=J[se]}while(se!==$);for(var le=Z;le!==$;le=J[le])J[le]=$;return $}var he=[];return u.forEach(function(J){var Z=oe(v,J[0]),se=oe(l,J[1]);if(Z>=0&&se>=0&&Z!==se){var $=O[Z],ee=O[se];$!==ee&&he.push([$,ee])}}),i.unique(i.normalize(he)),{positions:ne,edges:he}}},6638:function(d,y,r){d.exports=a;var t=r(417);function i(h,u){var s,m;if(u[0][0]<u[1][0])s=u[0],m=u[1];else if(u[0][0]>u[1][0])s=u[1],m=u[0];else{var f=Math.min(h[0][1],h[1][1]),S=Math.max(h[0][1],h[1][1]),v=Math.min(u[0][1],u[1][1]),l=Math.max(u[0][1],u[1][1]);return S<v?S-v:f>l?f-l:S-l}var g,M;h[0][1]<h[1][1]?(g=h[0],M=h[1]):(g=h[1],M=h[0]);var A=t(m,s,g);return A||(A=t(m,s,M),A)?A:M-m}function a(h,u){var s,m;if(u[0][0]<u[1][0])s=u[0],m=u[1];else if(u[0][0]>u[1][0])s=u[1],m=u[0];else return i(u,h);var f,S;if(h[0][0]<h[1][0])f=h[0],S=h[1];else if(h[0][0]>h[1][0])f=h[1],S=h[0];else return-i(h,u);var v=t(s,m,S),l=t(s,m,f);if(v<0){if(l<=0)return v}else if(v>0){if(l>=0)return v}else if(l)return l;if(v=t(S,f,m),l=t(S,f,s),v<0){if(l<=0)return v}else if(v>0){if(l>=0)return v}else if(l)return l;return m[0]-S[0]}},4385:function(d,y,r){d.exports=l;var t=r(5070),i=r(7080),a=r(417),h=r(6638);function u(g,M,A){this.slabs=g,this.coordinates=M,this.horizontal=A}var s=u.prototype;function m(g,M){return g.y-M}function f(g,M){for(var A=null;g;){var k=g.key,w,E;k[0][0]<k[1][0]?(w=k[0],E=k[1]):(w=k[1],E=k[0]);var b=a(w,E,M);if(b<0)g=g.left;else if(b>0)if(M[0]!==k[1][0])A=g,g=g.right;else{var o=f(g.right,M);if(o)return o;g=g.left}else{if(M[0]!==k[1][0])return g;var o=f(g.right,M);if(o)return o;g=g.left}}return A}s.castUp=function(g){var M=t.le(this.coordinates,g[0]);if(M<0)return-1;this.slabs[M];var A=f(this.slabs[M],g),k=-1;if(A&&(k=A.value),this.coordinates[M]===g[0]){var w=null;if(A&&(w=A.key),M>0){var E=f(this.slabs[M-1],g);E&&(w?h(E.key,w)>0&&(w=E.key,k=E.value):(k=E.value,w=E.key))}var b=this.horizontal[M];if(b.length>0){var o=t.ge(b,g[1],m);if(o<b.length){var P=b[o];if(g[1]===P.y){if(P.closed)return P.index;for(;o<b.length-1&&b[o+1].y===g[1];)if(o=o+1,P=b[o],P.closed)return P.index;if(P.y===g[1]&&!P.start){if(o=o+1,o>=b.length)return k;P=b[o]}}if(P.start)if(w){var x=a(w[0],w[1],[g[0],P.y]);w[0][0]>w[1][0]&&(x=-x),x>0&&(k=P.index)}else k=P.index;else P.y!==g[1]&&(k=P.index)}}}return k};function S(g,M,A,k){this.y=g,this.index=M,this.start=A,this.closed=k}function v(g,M,A,k){this.x=g,this.segment=M,this.create=A,this.index=k}function l(g){for(var M=g.length,A=2*M,k=new Array(A),w=0;w<M;++w){var E=g[w],b=E[0][0]<E[1][0];k[2*w]=new v(E[0][0],E,b,w),k[2*w+1]=new v(E[1][0],E,!b,w)}k.sort(function(N,U){var O=N.x-U.x;return O||(O=N.create-U.create,O)?O:Math.min(N.segment[0][1],N.segment[1][1])-Math.min(U.segment[0][1],U.segment[1][1])});for(var o=i(h),P=[],x=[],z=[],w=0;w<A;){for(var _=k[w].x,G=[];w<A;){var F=k[w];if(F.x!==_)break;w+=1,F.segment[0][0]===F.x&&F.segment[1][0]===F.x?F.create&&(F.segment[0][1]<F.segment[1][1]?(G.push(new S(F.segment[0][1],F.index,!0,!0)),G.push(new S(F.segment[1][1],F.index,!1,!1))):(G.push(new S(F.segment[1][1],F.index,!0,!1)),G.push(new S(F.segment[0][1],F.index,!1,!0)))):F.create?o=o.insert(F.segment,F.index):o=o.remove(F.segment)}P.push(o.root),x.push(_),z.push(G)}return new u(P,x,z)}},4670:function(d,y,r){var t=r(9130),i=r(9662);d.exports=u,d.exports.positive=s,d.exports.negative=m;function a(f,S){var v=i(t(f,S),[S[S.length-1]]);return v[v.length-1]}function h(f,S,v,l){var g=l-S,M=-S/g;M<0?M=0:M>1&&(M=1);for(var A=1-M,k=f.length,w=new Array(k),E=0;E<k;++E)w[E]=M*f[E]+A*v[E];return w}function u(f,S){for(var v=[],l=[],g=a(f[f.length-1],S),M=f[f.length-1],A=f[0],k=0;k<f.length;++k,M=A){A=f[k];var w=a(A,S);if(g<0&&w>0||g>0&&w<0){var E=h(M,w,A,g);v.push(E),l.push(E.slice())}w<0?l.push(A.slice()):w>0?v.push(A.slice()):(v.push(A.slice()),l.push(A.slice())),g=w}return{positive:v,negative:l}}function s(f,S){for(var v=[],l=a(f[f.length-1],S),g=f[f.length-1],M=f[0],A=0;A<f.length;++A,g=M){M=f[A];var k=a(M,S);(l<0&&k>0||l>0&&k<0)&&v.push(h(g,k,M,l)),k>=0&&v.push(M.slice()),l=k}return v}function m(f,S){for(var v=[],l=a(f[f.length-1],S),g=f[f.length-1],M=f[0],A=0;A<f.length;++A,g=M){M=f[A];var k=a(M,S);(l<0&&k>0||l>0&&k<0)&&v.push(h(g,k,M,l)),k<=0&&v.push(M.slice()),l=k}return v}},8974:function(d,y,r){var t;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(f){return u(m(f),arguments)}function h(f,S){return a.apply(null,[f].concat(S||[]))}function u(f,S){var v=1,l=f.length,g,M="",A,k,w,E,b,o,P,x;for(A=0;A<l;A++)if(typeof f[A]=="string")M+=f[A];else if(typeof f[A]=="object"){if(w=f[A],w.keys)for(g=S[v],k=0;k<w.keys.length;k++){if(g==null)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',w.keys[k],w.keys[k-1]));g=g[w.keys[k]]}else w.param_no?g=S[w.param_no]:g=S[v++];if(i.not_type.test(w.type)&&i.not_primitive.test(w.type)&&g instanceof Function&&(g=g()),i.numeric_arg.test(w.type)&&typeof g!="number"&&isNaN(g))throw new TypeError(a("[sprintf] expecting number but found %T",g));switch(i.number.test(w.type)&&(P=g>=0),w.type){case"b":g=parseInt(g,10).toString(2);break;case"c":g=String.fromCharCode(parseInt(g,10));break;case"d":case"i":g=parseInt(g,10);break;case"j":g=JSON.stringify(g,null,w.width?parseInt(w.width):0);break;case"e":g=w.precision?parseFloat(g).toExponential(w.precision):parseFloat(g).toExponential();break;case"f":g=w.precision?parseFloat(g).toFixed(w.precision):parseFloat(g);break;case"g":g=w.precision?String(Number(g.toPrecision(w.precision))):parseFloat(g);break;case"o":g=(parseInt(g,10)>>>0).toString(8);break;case"s":g=String(g),g=w.precision?g.substring(0,w.precision):g;break;case"t":g=String(!!g),g=w.precision?g.substring(0,w.precision):g;break;case"T":g=Object.prototype.toString.call(g).slice(8,-1).toLowerCase(),g=w.precision?g.substring(0,w.precision):g;break;case"u":g=parseInt(g,10)>>>0;break;case"v":g=g.valueOf(),g=w.precision?g.substring(0,w.precision):g;break;case"x":g=(parseInt(g,10)>>>0).toString(16);break;case"X":g=(parseInt(g,10)>>>0).toString(16).toUpperCase();break}i.json.test(w.type)?M+=g:(i.number.test(w.type)&&(!P||w.sign)?(x=P?"+":"-",g=g.toString().replace(i.sign,"")):x="",b=w.pad_char?w.pad_char==="0"?"0":w.pad_char.charAt(1):" ",o=w.width-(x+g).length,E=w.width&&o>0?b.repeat(o):"",M+=w.align?x+g+E:b==="0"?x+E+g:E+x+g)}return M}var s=Object.create(null);function m(f){if(s[f])return s[f];for(var S=f,v,l=[],g=0;S;){if((v=i.text.exec(S))!==null)l.push(v[0]);else if((v=i.modulo.exec(S))!==null)l.push("%");else if((v=i.placeholder.exec(S))!==null){if(v[2]){g|=1;var M=[],A=v[2],k=[];if((k=i.key.exec(A))!==null)for(M.push(k[1]);(A=A.substring(k[0].length))!=="";)if((k=i.key_access.exec(A))!==null)M.push(k[1]);else if((k=i.index_access.exec(A))!==null)M.push(k[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");v[2]=M}else g|=2;if(g===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");l.push({placeholder:v[0],param_no:v[1],keys:v[2],sign:v[3],pad_char:v[4],align:v[5],width:v[6],precision:v[7],type:v[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");S=S.substring(v[0].length)}return s[f]=l}y.sprintf=a,y.vsprintf=h,typeof window<"u"&&(window.sprintf=a,window.vsprintf=h,t=(function(){return{sprintf:a,vsprintf:h}}).call(y,r,y,d),t!==void 0&&(d.exports=t))})()},4162:function(d,y,r){d.exports=m;var t=r(9284),i=r(9584),a={"2d":function(f,S,v){var l=f({order:S,scalarArguments:3,getters:v==="generic"?[0]:void 0,phase:function(M,A,k,w){return M>w|0},vertex:function(M,A,k,w,E,b,o,P,x,z,_,G,F){var N=(o<<0)+(P<<1)+(x<<2)+(z<<3)|0;if(!(N===0||N===15))switch(N){case 0:_.push([M-.5,A-.5]);break;case 1:_.push([M-.25-.25*(w+k-2*F)/(k-w),A-.25-.25*(E+k-2*F)/(k-E)]);break;case 2:_.push([M-.75-.25*(-w-k+2*F)/(w-k),A-.25-.25*(b+w-2*F)/(w-b)]);break;case 3:_.push([M-.5,A-.5-.5*(E+k+b+w-4*F)/(k-E+w-b)]);break;case 4:_.push([M-.25-.25*(b+E-2*F)/(E-b),A-.75-.25*(-E-k+2*F)/(E-k)]);break;case 5:_.push([M-.5-.5*(w+k+b+E-4*F)/(k-w+E-b),A-.5]);break;case 6:_.push([M-.5-.25*(-w-k+b+E)/(w-k+E-b),A-.5-.25*(-E-k+b+w)/(E-k+w-b)]);break;case 7:_.push([M-.75-.25*(b+E-2*F)/(E-b),A-.75-.25*(b+w-2*F)/(w-b)]);break;case 8:_.push([M-.75-.25*(-b-E+2*F)/(b-E),A-.75-.25*(-b-w+2*F)/(b-w)]);break;case 9:_.push([M-.5-.25*(w+k+-b-E)/(k-w+b-E),A-.5-.25*(E+k+-b-w)/(k-E+b-w)]);break;case 10:_.push([M-.5-.5*(-w-k+-b-E+4*F)/(w-k+b-E),A-.5]);break;case 11:_.push([M-.25-.25*(-b-E+2*F)/(b-E),A-.75-.25*(E+k-2*F)/(k-E)]);break;case 12:_.push([M-.5,A-.5-.5*(-E-k+-b-w+4*F)/(E-k+b-w)]);break;case 13:_.push([M-.75-.25*(w+k-2*F)/(k-w),A-.25-.25*(-b-w+2*F)/(b-w)]);break;case 14:_.push([M-.25-.25*(-w-k+2*F)/(w-k),A-.25-.25*(-E-k+2*F)/(E-k)]);break;case 15:_.push([M-.5,A-.5]);break}},cell:function(M,A,k,w,E,b,o,P,x){E?P.push([M,A]):P.push([A,M])}});return function(g,M){var A=[],k=[];return l(g,A,k,M),{positions:A,cells:k}}}};function h(f,S){var v=f.length+"d",l=a[v];if(l)return l(t,f,S)}function u(f,S){for(var v=i(f,S),l=v.length,g=new Array(l),M=new Array(l),A=0;A<l;++A)g[A]=[v[A]],M[A]=[A];return{positions:g,cells:M}}var s={};function m(f,g){if(f.dimension<=0)return{positions:[],cells:[]};if(f.dimension===1)return u(f,g);var v=f.order.join()+"-"+f.dtype,l=s[v],g=+g||0;return l||(l=s[v]=h(f.order,f.dtype)),l(f,g)}},6946:function(d,y,r){d.exports=u;var t=r(875),i=window||p.global||{},a=i.__TEXT_CACHE||{};i.__TEXT_CACHE={};function h(s){for(var m=s.cells,f=s.positions,S=new Float32Array(m.length*6),v=0,l=0,g=0;g<m.length;++g)for(var M=m[g],A=0;A<3;++A){var k=f[M[A]];S[v++]=k[0],S[v++]=k[1]+1.4,l=Math.max(k[0],l)}return{data:S,shape:l}}function u(s,m,S){var S=S||{},v=a[s];v||(v=a[s]={" ":{data:new Float32Array(0),shape:.2}});var l=v[m];if(!l)if(m.length<=1||!/\d/.test(m))l=v[m]=h(t(m,{triangles:!0,font:s,textAlign:S.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=m.split(/(\d|\s)/),M=new Array(g.length),A=0,k=0,w=0;w<g.length;++w)M[w]=u(s,g[w]),A+=M[w].data.length,k+=M[w].shape,w>0&&(k+=.02);for(var E=new Float32Array(A),b=0,o=-.5*k,w=0;w<M.length;++w){for(var P=M[w].data,x=0;x<P.length;x+=2)E[b++]=P[x]+o,E[b++]=P[x+1];o+=M[w].shape+.02}l=v[m]={data:E,shape:k}}return l}},14:function(d,y,r){var t=r(4405);d.exports=u;var i=96;function a(s,m){var f=t(getComputedStyle(s).getPropertyValue(m));return f[0]*u(f[1],s)}function h(s,m){var f=document.createElement("div");f.style["font-size"]="128"+s,m.appendChild(f);var S=a(f,"font-size")/128;return m.removeChild(f),S}function u(s,m){switch(m=m||document.body,s=(s||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),s){case"%":return m.clientHeight/100;case"ch":case"ex":return h(s,m);case"em":return a(m,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},3440:function(d,y,r){d.exports=M;var t=r(8444),i=r(7437),a=r(4422),h=r(903),u=r(899),s=r(9305);function m(A,k,w){return Math.sqrt(Math.pow(A,2)+Math.pow(k,2)+Math.pow(w,2))}function f(A){return Math.min(1,Math.max(-1,A))}function S(A){var k=Math.abs(A[0]),w=Math.abs(A[1]),E=Math.abs(A[2]),b=[0,0,0];k>Math.max(w,E)?b[2]=1:w>Math.max(k,E)?b[0]=1:b[1]=1;for(var o=0,P=0,x=0;x<3;++x)o+=A[x]*A[x],P+=b[x]*A[x];for(var x=0;x<3;++x)b[x]-=P/o*A[x];return u(b,b),b}function v(A,k,w,E,b,o,P,x){this.center=t(w),this.up=t(E),this.right=t(b),this.radius=t([o]),this.angle=t([P,x]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(A,k),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var z=0;z<16;++z)this.computedMatrix[z]=.5;this.recalcMatrix(0)}var l=v.prototype;l.setDistanceLimits=function(A,k){A>0?A=Math.log(A):A=-1/0,k>0?k=Math.log(k):k=1/0,k=Math.max(k,A),this.radius.bounds[0][0]=A,this.radius.bounds[1][0]=k},l.getDistanceLimits=function(A){var k=this.radius.bounds[0];return A?(A[0]=Math.exp(k[0][0]),A[1]=Math.exp(k[1][0]),A):[Math.exp(k[0][0]),Math.exp(k[1][0])]},l.recalcMatrix=function(A){this.center.curve(A),this.up.curve(A),this.right.curve(A),this.radius.curve(A),this.angle.curve(A);for(var k=this.computedUp,w=this.computedRight,E=0,b=0,o=0;o<3;++o)b+=k[o]*w[o],E+=k[o]*k[o];for(var P=Math.sqrt(E),x=0,o=0;o<3;++o)w[o]-=k[o]*b/E,x+=w[o]*w[o],k[o]/=P;for(var z=Math.sqrt(x),o=0;o<3;++o)w[o]/=z;var _=this.computedToward;h(_,k,w),u(_,_);for(var G=Math.exp(this.computedRadius[0]),F=this.computedAngle[0],N=this.computedAngle[1],U=Math.cos(F),O=Math.sin(F),H=Math.cos(N),Y=Math.sin(N),q=this.computedCenter,ne=U*H,oe=O*H,he=Y,J=-U*Y,Z=-O*Y,se=H,$=this.computedEye,ee=this.computedMatrix,o=0;o<3;++o){var le=ne*w[o]+oe*_[o]+he*k[o];ee[4*o+1]=J*w[o]+Z*_[o]+se*k[o],ee[4*o+2]=le,ee[4*o+3]=0}var Q=ee[1],K=ee[5],ue=ee[9],ie=ee[2],ce=ee[6],xe=ee[10],Le=K*xe-ue*ce,Ae=ue*ie-Q*xe,Oe=Q*ce-K*ie,ze=m(Le,Ae,Oe);Le/=ze,Ae/=ze,Oe/=ze,ee[0]=Le,ee[4]=Ae,ee[8]=Oe;for(var o=0;o<3;++o)$[o]=q[o]+ee[2+4*o]*G;for(var o=0;o<3;++o){for(var x=0,Ee=0;Ee<3;++Ee)x+=ee[o+4*Ee]*$[Ee];ee[12+o]=-x}ee[15]=1},l.getMatrix=function(A,k){this.recalcMatrix(A);var w=this.computedMatrix;if(k){for(var E=0;E<16;++E)k[E]=w[E];return k}return w};var g=[0,0,0];l.rotate=function(A,k,w,E){if(this.angle.move(A,k,w),E){this.recalcMatrix(A);var b=this.computedMatrix;g[0]=b[2],g[1]=b[6],g[2]=b[10];for(var o=this.computedUp,P=this.computedRight,x=this.computedToward,z=0;z<3;++z)b[4*z]=o[z],b[4*z+1]=P[z],b[4*z+2]=x[z];a(b,b,E,g);for(var z=0;z<3;++z)o[z]=b[4*z],P[z]=b[4*z+1];this.up.set(A,o[0],o[1],o[2]),this.right.set(A,P[0],P[1],P[2])}},l.pan=function(A,k,w,E){k=k||0,w=w||0,E=E||0,this.recalcMatrix(A);var b=this.computedMatrix;Math.exp(this.computedRadius[0]);var o=b[1],P=b[5],x=b[9],z=m(o,P,x);o/=z,P/=z,x/=z;var _=b[0],G=b[4],F=b[8],N=_*o+G*P+F*x;_-=o*N,G-=P*N,F-=x*N;var U=m(_,G,F);_/=U,G/=U,F/=U;var O=_*k+o*w,H=G*k+P*w,Y=F*k+x*w;this.center.move(A,O,H,Y);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+E),this.radius.set(A,Math.log(q))},l.translate=function(A,k,w,E){this.center.move(A,k||0,w||0,E||0)},l.setMatrix=function(A,k,w,E){var b=1;typeof w=="number"&&(b=w|0),(b<0||b>3)&&(b=1);var o=(b+2)%3;k||(this.recalcMatrix(A),k=this.computedMatrix);var P=k[b],x=k[b+4],z=k[b+8];if(E){var G=Math.abs(P),F=Math.abs(x),N=Math.abs(z),U=Math.max(G,F,N);G===U?(P=P<0?-1:1,x=z=0):N===U?(z=z<0?-1:1,P=x=0):(x=x<0?-1:1,P=z=0)}else{var _=m(P,x,z);P/=_,x/=_,z/=_}var O=k[o],H=k[o+4],Y=k[o+8],q=O*P+H*x+Y*z;O-=P*q,H-=x*q,Y-=z*q;var ne=m(O,H,Y);O/=ne,H/=ne,Y/=ne;var oe=x*Y-z*H,he=z*O-P*Y,J=P*H-x*O,Z=m(oe,he,J);oe/=Z,he/=Z,J/=Z,this.center.jump(A,He,Ie,Ge),this.radius.idle(A),this.up.jump(A,P,x,z),this.right.jump(A,O,H,Y);var se,$;if(b===2){var ee=k[1],le=k[5],Q=k[9],K=ee*O+le*H+Q*Y,ue=ee*oe+le*he+Q*J;Le<0?se=-Math.PI/2:se=Math.PI/2,$=Math.atan2(ue,K)}else{var ie=k[2],ce=k[6],xe=k[10],Le=ie*P+ce*x+xe*z,Ae=ie*O+ce*H+xe*Y,Oe=ie*oe+ce*he+xe*J;se=Math.asin(f(Le)),$=Math.atan2(Oe,Ae)}this.angle.jump(A,$,se),this.recalcMatrix(A);var ze=k[2],Ee=k[6],be=k[10],Ce=this.computedMatrix;i(Ce,k);var Ue=Ce[15],He=Ce[12]/Ue,Ie=Ce[13]/Ue,Ge=Ce[14]/Ue,at=Math.exp(this.computedRadius[0]);this.center.jump(A,He-ze*at,Ie-Ee*at,Ge-be*at)},l.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},l.idle=function(A){this.center.idle(A),this.up.idle(A),this.right.idle(A),this.radius.idle(A),this.angle.idle(A)},l.flush=function(A){this.center.flush(A),this.up.flush(A),this.right.flush(A),this.radius.flush(A),this.angle.flush(A)},l.setDistance=function(A,k){k>0&&this.radius.set(A,Math.log(k))},l.lookAt=function(A,k,w,E){this.recalcMatrix(A),k=k||this.computedEye,w=w||this.computedCenter,E=E||this.computedUp;var b=E[0],o=E[1],P=E[2],x=m(b,o,P);if(!(x<1e-6)){b/=x,o/=x,P/=x;var z=k[0]-w[0],_=k[1]-w[1],G=k[2]-w[2],F=m(z,_,G);if(!(F<1e-6)){z/=F,_/=F,G/=F;var N=this.computedRight,U=N[0],O=N[1],H=N[2],Y=b*U+o*O+P*H;U-=Y*b,O-=Y*o,H-=Y*P;var q=m(U,O,H);if(!(q<.01&&(U=o*G-P*_,O=P*z-b*G,H=b*_-o*z,q=m(U,O,H),q<1e-6))){U/=q,O/=q,H/=q,this.up.set(A,b,o,P),this.right.set(A,U,O,H),this.center.set(A,w[0],w[1],w[2]),this.radius.set(A,Math.log(F));var ne=o*H-P*O,oe=P*U-b*H,he=b*O-o*U,J=m(ne,oe,he);ne/=J,oe/=J,he/=J;var Z=b*z+o*_+P*G,se=U*z+O*_+H*G,$=ne*z+oe*_+he*G,ee=Math.asin(f(Z)),le=Math.atan2($,se),Q=this.angle._state,K=Q[Q.length-1],ue=Q[Q.length-2];K=K%(2*Math.PI);var ie=Math.abs(K+2*Math.PI-le),ce=Math.abs(K-le),xe=Math.abs(K-2*Math.PI-le);ie<ce&&(K+=2*Math.PI),xe<ce&&(K-=2*Math.PI),this.angle.jump(this.angle.lastT(),K,ue),this.angle.set(A,le,ee)}}}};function M(A){A=A||{};var k=A.center||[0,0,0],w=A.up||[0,1,0],E=A.right||S(w),b=A.radius||1,o=A.theta||0,P=A.phi||0;if(k=[].slice.call(k,0,3),w=[].slice.call(w,0,3),u(w,w),E=[].slice.call(E,0,3),u(E,E),"eye"in A){var x=A.eye,z=[x[0]-k[0],x[1]-k[1],x[2]-k[2]];h(E,z,w),m(E[0],E[1],E[2])<1e-6?E=S(w):u(E,E),b=m(z[0],z[1],z[2]);var _=s(w,z)/b,G=s(E,z)/b;P=Math.acos(_),o=Math.acos(G)}return b=Math.log(b),new v(A.zoomMin,A.zoomMax,k,w,E,b,o,P)}},9660:function(d){d.exports=r;var y=+(Math.pow(2,27)+1);function r(t,i,a){var h=t*i,u=y*t,s=u-t,m=u-s,f=t-m,S=y*i,v=S-i,l=S-v,g=i-l,M=h-m*l,A=M-f*l,k=A-m*g,w=f*g-k;return a?(a[0]=w,a[1]=h,a):[w,h]}},87:function(d){d.exports=y;function y(r,t,i){var a=r+t,h=a-r,u=a-h,s=t-h,m=r-u;return i?(i[0]=m+s,i[1]=a,i):[m+s,a]}},5306:function(d,y,r){var t=r(2288),i=r(3094),a=r(2146).lW;r.g.__TYPEDARRAY_POOL||(r.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var h=typeof Uint8ClampedArray<"u",u=typeof BigUint64Array<"u",s=typeof BigInt64Array<"u",m=r.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=i([32,0])),m.BIGUINT64||(m.BIGUINT64=i([32,0])),m.BIGINT64||(m.BIGINT64=i([32,0])),m.BUFFER||(m.BUFFER=i([32,0]));var f=m.DATA,S=m.BUFFER;y.free=function(U){if(a.isBuffer(U))S[t.log2(U.length)].push(U);else{if(Object.prototype.toString.call(U)!=="[object ArrayBuffer]"&&(U=U.buffer),!U)return;var O=U.length||U.byteLength,H=t.log2(O)|0;f[H].push(U)}};function v(N){if(N){var U=N.length||N.byteLength,O=t.log2(U);f[O].push(N)}}function l(N){v(N.buffer)}y.freeUint8=y.freeUint16=y.freeUint32=y.freeBigUint64=y.freeInt8=y.freeInt16=y.freeInt32=y.freeBigInt64=y.freeFloat32=y.freeFloat=y.freeFloat64=y.freeDouble=y.freeUint8Clamped=y.freeDataView=l,y.freeArrayBuffer=v,y.freeBuffer=function(U){S[t.log2(U.length)].push(U)},y.malloc=function(U,O){if(O===void 0||O==="arraybuffer")return g(U);switch(O){case"uint8":return M(U);case"uint16":return A(U);case"uint32":return k(U);case"int8":return w(U);case"int16":return E(U);case"int32":return b(U);case"float":case"float32":return o(U);case"double":case"float64":return P(U);case"uint8_clamped":return x(U);case"bigint64":return _(U);case"biguint64":return z(U);case"buffer":return F(U);case"data":case"dataview":return G(U);default:return null}return null};function g(U){var U=t.nextPow2(U),O=t.log2(U),H=f[O];return H.length>0?H.pop():new ArrayBuffer(U)}y.mallocArrayBuffer=g;function M(N){return new Uint8Array(g(N),0,N)}y.mallocUint8=M;function A(N){return new Uint16Array(g(2*N),0,N)}y.mallocUint16=A;function k(N){return new Uint32Array(g(4*N),0,N)}y.mallocUint32=k;function w(N){return new Int8Array(g(N),0,N)}y.mallocInt8=w;function E(N){return new Int16Array(g(2*N),0,N)}y.mallocInt16=E;function b(N){return new Int32Array(g(4*N),0,N)}y.mallocInt32=b;function o(N){return new Float32Array(g(4*N),0,N)}y.mallocFloat32=y.mallocFloat=o;function P(N){return new Float64Array(g(8*N),0,N)}y.mallocFloat64=y.mallocDouble=P;function x(N){return h?new Uint8ClampedArray(g(N),0,N):M(N)}y.mallocUint8Clamped=x;function z(N){return u?new BigUint64Array(g(8*N),0,N):null}y.mallocBigUint64=z;function _(N){return s?new BigInt64Array(g(8*N),0,N):null}y.mallocBigInt64=_;function G(N){return new DataView(g(N),0,N)}y.mallocDataView=G;function F(N){N=t.nextPow2(N);var U=t.log2(N),O=S[U];return O.length>0?O.pop():new a(N)}y.mallocBuffer=F,y.clearCache=function(){for(var U=0;U<32;++U)m.UINT8[U].length=0,m.UINT16[U].length=0,m.UINT32[U].length=0,m.INT8[U].length=0,m.INT16[U].length=0,m.INT32[U].length=0,m.FLOAT[U].length=0,m.DOUBLE[U].length=0,m.BIGUINT64[U].length=0,m.BIGINT64[U].length=0,m.UINT8C[U].length=0,f[U].length=0,S[U].length=0}},1731:function(d){"use restrict";d.exports=y;function y(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}var r=y.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var i=t,a=this.roots;a[t]!==t;)t=a[t];for(;a[i]!==t;){var h=a[i];a[i]=t,i=h}return t},r.link=function(t,i){var a=this.find(t),h=this.find(i);if(a!==h){var u=this.ranks,s=this.roots,m=u[a],f=u[h];m<f?s[a]=h:f<m?s[h]=a:(s[h]=a,++u[a])}}},1215:function(d){function y(i,a){for(var h=1,u=i.length,s=i[0],m=i[0],f=1;f<u;++f)if(m=s,s=i[f],a(s,m)){if(f===h){h++;continue}i[h++]=s}return i.length=h,i}function r(i){for(var a=1,h=i.length,u=i[0],s=i[0],m=1;m<h;++m,s=u)if(s=u,u=i[m],u!==s){if(m===a){a++;continue}i[a++]=u}return i.length=a,i}function t(i,a,h){return i.length===0?i:a?(h||i.sort(a),y(i,a)):(h||i.sort(),r(i))}d.exports=t},875:function(d,y,r){d.exports=h;var t=r(712),i=null,a=null;typeof document<"u"&&(i=document.createElement("canvas"),i.width=8192,i.height=1024,a=i.getContext("2d"));function h(u,s){return(typeof s!="object"||s===null)&&(s={}),t(u,s.canvas||i,s.context||a,s)}},712:function(d,y,r){d.exports=_,d.exports.processPixels=z;var t=r(4162),i=r(5050),a=r(8243),h=r(197),u=r(7761),s=r(8040),m="b",f="b|",S="i",v="i|",l="sup",g="+",M="+1",A="sub",k="-",w="-1";function E(G,F,N,U){for(var O="<"+G+">",H="</"+G+">",Y=O.length,q=H.length,ne=F[0]===g||F[0]===k,oe=0,he=-q;oe>-1&&(oe=N.indexOf(O,oe),!(oe===-1||(he=N.indexOf(H,oe+Y),he===-1)||he<=oe));){for(var J=oe;J<he+q;++J)if(J<oe+Y||J>=he)U[J]=null,N=N.substr(0,J)+" "+N.substr(J+1);else if(U[J]!==null){var Z=U[J].indexOf(F[0]);Z===-1?U[J]+=F:ne&&(U[J]=U[J].substr(0,Z+1)+(1+parseInt(U[J][Z+1]))+U[J].substr(Z+2))}var se=oe+Y,$=N.substr(se,he-se),ee=$.indexOf(O);ee!==-1?oe=ee:oe=he+q}return U}function b(G,F,N){for(var U=F.textAlign||"start",O=F.textBaseline||"alphabetic",H=[1<<30,1<<30],Y=[0,0],q=G.length,ne=0;ne<q;++ne)for(var oe=G[ne],he=0;he<2;++he)H[he]=Math.min(H[he],oe[he])|0,Y[he]=Math.max(Y[he],oe[he])|0;var J=0;switch(U){case"center":J=-.5*(H[0]+Y[0]);break;case"right":case"end":J=-Y[0];break;case"left":case"start":J=-H[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+U+"'")}var Z=0;switch(O){case"hanging":case"top":Z=-H[1];break;case"middle":Z=-.5*(H[1]+Y[1]);break;case"alphabetic":case"ideographic":Z=-3*N;break;case"bottom":Z=-Y[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+O+"'")}var se=1/N;return"lineHeight"in F?se*=+F.lineHeight:"width"in F?se=F.width/(Y[0]-H[0]):"height"in F&&(se=F.height/(Y[1]-H[1])),G.map(function($){return[se*($[0]+J),se*($[1]+Z)]})}function o(G,F,N,U,O,H){N=N.replace(/\n/g,""),H.breaklines===!0?N=N.replace(/\<br\>/g,`
`):N=N.replace(/\<br\>/g," ");var Y="",q=[];for(K=0;K<N.length;++K)q[K]=Y;H.bolds===!0&&(q=E(m,f,N,q)),H.italics===!0&&(q=E(S,v,N,q)),H.superscripts===!0&&(q=E(l,M,N,q)),H.subscripts===!0&&(q=E(A,w,N,q));var ne=[],oe="";for(K=0;K<N.length;++K)q[K]!==null&&(oe+=N[K],ne.push(q[K]));var he=oe.split(`
`),J=he.length,Z=Math.round(O*U),se=U,$=U*2,ee=0,le=J*Z+$;G.height<le&&(G.height=le),F.fillStyle="#000",F.fillRect(0,0,G.width,G.height),F.fillStyle="#fff";var Q,K,ue,ie,ce,xe=0,Le="";function Ae(){if(Le!==""){var Ge=F.measureText(Le).width;F.fillText(Le,se+ue,$+ie),ue+=Ge}}function Oe(){return""+Math.round(ce)+"px "}function ze(Ge,at){var lt=""+F.font;if(H.subscripts===!0){var qe=Ge.indexOf(k),et=at.indexOf(k),ft=qe>-1?parseInt(Ge[1+qe]):0,dt=et>-1?parseInt(at[1+et]):0;ft!==dt&&(lt=lt.replace(Oe(),"?px "),ce*=Math.pow(.75,dt-ft),lt=lt.replace("?px ",Oe())),ie+=.25*Z*(dt-ft)}if(H.superscripts===!0){var pt=Ge.indexOf(g),At=at.indexOf(g),Pt=pt>-1?parseInt(Ge[1+pt]):0,Ht=At>-1?parseInt(at[1+At]):0;Pt!==Ht&&(lt=lt.replace(Oe(),"?px "),ce*=Math.pow(.75,Ht-Pt),lt=lt.replace("?px ",Oe())),ie-=.25*Z*(Ht-Pt)}if(H.bolds===!0){var Je=Ge.indexOf(f)>-1,We=at.indexOf(f)>-1;!Je&&We&&(_e?lt=lt.replace("italic ","italic bold "):lt="bold "+lt),Je&&!We&&(lt=lt.replace("bold ",""))}if(H.italics===!0){var _e=Ge.indexOf(v)>-1,Ne=at.indexOf(v)>-1;!_e&&Ne&&(lt="italic "+lt),_e&&!Ne&&(lt=lt.replace("italic ",""))}F.font=lt}for(Q=0;Q<J;++Q){var Ee=he[Q]+`
`;for(ue=0,ie=Q*Z,ce=U,Le="",K=0;K<Ee.length;++K){var be=K+xe<ne.length?ne[K+xe]:ne[ne.length-1];Y===be?Le+=Ee[K]:(Ae(),Le=Ee[K],be!==void 0&&(ze(Y,be),Y=be))}Ae(),xe+=Ee.length;var Ce=Math.round(ue+2*se)|0;ee<Ce&&(ee=Ce)}var Ue=ee,He=$+Z*J,Ie=i(F.getImageData(0,0,Ue,He).data,[He,Ue,4]);return Ie.pick(-1,-1,0).transpose(1,0)}function P(G,F){var N=t(G,128);return F?a(N.cells,N.positions,.25):{edges:N.cells,positions:N.positions}}function x(G,F,N,U){var O=P(G,U),H=b(O.positions,F,N),Y=O.edges,q=F.orientation==="ccw";if(h(H,Y),F.polygons||F.polygon||F.polyline){for(var ne=s(Y,H),oe=new Array(ne.length),he=0;he<ne.length;++he){for(var J=ne[he],Z=new Array(J.length),se=0;se<J.length;++se){for(var $=J[se],ee=new Array($.length),le=0;le<$.length;++le)ee[le]=H[$[le]].slice();q&&ee.reverse(),Z[se]=ee}oe[he]=Z}return oe}else return F.triangles||F.triangulate||F.triangle?{cells:u(H,Y,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:Y,positions:H}}function z(G,F,N){try{return x(G,F,N,!0)}catch{}try{return x(G,F,N,!1)}catch{}return F.polygons||F.polyline||F.polygon?[]:F.triangles||F.triangulate||F.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(G,F,N,U){var O=64,H=1.25,Y={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};U&&(U.size&&U.size>0&&(O=U.size),U.lineSpacing&&U.lineSpacing>0&&(H=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(Y.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(Y.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(Y.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(Y.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(Y.superscripts=!!U.styletags.superscripts)),N.font=[U.fontStyle,U.fontVariant,U.fontWeight,O+"px",U.font].filter(function(ne){return ne}).join(" "),N.textAlign="start",N.textBaseline="alphabetic",N.direction="ltr";var q=o(F,N,G,O,H,Y);return z(q,U,O)}},5346:function(d){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function r(P){P.permitHostObjects___&&P.permitHostObjects___(r)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=r);var t=!1;if(typeof WeakMap=="function"){var i=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new i,h=Object.freeze({});if(a.set(h,1),a.get(h)!==1)t=!0;else{d.exports=WeakMap;return}}}var u=Object.getOwnPropertyNames,s=Object.defineProperty,m=Object.isExtensible,f="weakmap:",S=f+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var v=new ArrayBuffer(25),l=new Uint8Array(v);crypto.getRandomValues(l),S=f+"rand:"+Array.prototype.map.call(l,function(P){return(P%36).toString(36)}).join("")+"___"}function g(P){return!(P.substr(0,f.length)==f&&P.substr(P.length-3)==="___")}if(s(Object,"getOwnPropertyNames",{value:function(x){return u(x).filter(g)}}),"getPropertyNames"in Object){var M=Object.getPropertyNames;s(Object,"getPropertyNames",{value:function(x){return M(x).filter(g)}})}function A(P){if(P!==Object(P))throw new TypeError("Not an object: "+P);var x=P[S];if(x&&x.key===P)return x;if(m(P)){x={key:P};try{return s(P,S,{value:x,writable:!1,enumerable:!1,configurable:!1}),x}catch{return}}}(function(){var P=Object.freeze;s(Object,"freeze",{value:function(G){return A(G),P(G)}});var x=Object.seal;s(Object,"seal",{value:function(G){return A(G),x(G)}});var z=Object.preventExtensions;s(Object,"preventExtensions",{value:function(G){return A(G),z(G)}})})();function k(P){return P.prototype=null,Object.freeze(P)}var w=!1;function E(){!w&&typeof console<"u"&&(w=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var b=0,o=function(){this instanceof o||E();var P=[],x=[],z=b++;function _(U,O){var H,Y=A(U);return Y?z in Y?Y[z]:O:(H=P.indexOf(U),H>=0?x[H]:O)}function G(U){var O=A(U);return O?z in O:P.indexOf(U)>=0}function F(U,O){var H,Y=A(U);return Y?Y[z]=O:(H=P.indexOf(U),H>=0?x[H]=O:(H=P.length,x[H]=O,P[H]=U)),this}function N(U){var O=A(U),H,Y;return O?z in O&&delete O[z]:(H=P.indexOf(U),H<0?!1:(Y=P.length-1,P[H]=void 0,x[H]=x[Y],P[H]=P[Y],P.length=Y,x.length=Y,!0))}return Object.create(o.prototype,{get___:{value:k(_)},has___:{value:k(G)},set___:{value:k(F)},delete___:{value:k(N)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(x,z){return this.get___(x,z)},writable:!0,configurable:!0},has:{value:function(x){return this.has___(x)},writable:!0,configurable:!0},set:{value:function(x,z){return this.set___(x,z)},writable:!0,configurable:!0},delete:{value:function(x){return this.delete___(x)},writable:!0,configurable:!0}}),typeof i=="function"?function(){t&&typeof Proxy<"u"&&(Proxy=void 0);function P(){this instanceof o||E();var x=new i,z=void 0,_=!1;function G(O,H){return z?x.has(O)?x.get(O):z.get___(O,H):x.get(O,H)}function F(O){return x.has(O)||(z?z.has___(O):!1)}var N;t?N=function(O,H){return x.set(O,H),x.has(O)||(z||(z=new o),z.set(O,H)),this}:N=function(O,H){if(_)try{x.set(O,H)}catch{z||(z=new o),z.set___(O,H)}else x.set(O,H);return this};function U(O){var H=!!x.delete(O);return z&&z.delete___(O)||H}return Object.create(o.prototype,{get___:{value:k(G)},has___:{value:k(F)},set___:{value:k(N)},delete___:{value:k(U)},permitHostObjects___:{value:k(function(O){if(O===r)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}P.prototype=o.prototype,d.exports=P,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),d.exports=o)})()},9222:function(d,y,r){var t=r(7178);d.exports=i;function i(){var a={};return function(h){if((typeof h!="object"||h===null)&&typeof h!="function")throw new Error("Weakmap-shim: Key must be object");var u=h.valueOf(a);return u&&u.identity===a?u:t(h,a)}}},7178:function(d){d.exports=y;function y(r,t){var i={identity:t},a=r.valueOf;return Object.defineProperty(r,"valueOf",{value:function(h){return h!==t?a.apply(this,arguments):i},writable:!0}),i}},4037:function(d,y,r){var t=r(9222);d.exports=i;function i(){var a=t();return{get:function(h,u){var s=a(h);return s.hasOwnProperty("value")?s.value:u},set:function(h,u){return a(h).value=u,this},has:function(h){return"value"in a(h)},delete:function(h){return delete a(h).value}}}},6183:function(d){function y(){return function(u,s,m,f,S,v){var l=u[0],g=m[0],M=[0],A=g;f|=0;var k=0,w=g;for(k=0;k<l;++k){{var E=s[f]-v,b=s[f+A]-v;E>=0!=b>=0&&S.push(M[0]+.5+.5*(E+b)/(E-b))}f+=w,++M[0]}}}function r(){return y()}var t=r;function i(u){var s={};return function(f,S,v){var l=f.dtype,g=f.order,M=[l,g.join()].join(),A=s[M];return A||(s[M]=A=u([l,g])),A(f.shape.slice(0),f.data,f.stride,f.offset|0,S,v)}}function a(u){return i(t.bind(void 0,u))}function h(u){return a({funcName:u.funcName})}d.exports=h({funcName:"zeroCrossings"})},9584:function(d,y,r){d.exports=i;var t=r(6183);function i(a,h){var u=[];return h=+h||0,t(a.hi(a.shape[0]-1),u,h),u}},6601:function(){}},n={};function C(d){var y=n[d];if(y!==void 0)return y.exports;var r=n[d]={id:d,loaded:!1,exports:{}};return L[d].call(r.exports,r,r.exports,C),r.loaded=!0,r.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(d){return d.paths=[],d.children||(d.children=[]),d}}();var T=C(7386);return T}()})},12856:function(V,B,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p(Je,We){if(!(Je instanceof We))throw new TypeError("Cannot call a class as a function")}function L(Je,We){for(var _e=0;_e<We.length;_e++){var Ne=We[_e];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(Je,C(Ne.key),Ne)}}function n(Je,We,_e){return We&&L(Je.prototype,We),_e&&L(Je,_e),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function C(Je){var We=T(Je,"string");return u(We)==="symbol"?We:String(We)}function T(Je,We){if(u(Je)!=="object"||Je===null)return Je;var _e=Je[Symbol.toPrimitive];if(_e!==void 0){var Ne=_e.call(Je,We||"default");if(u(Ne)!=="object")return Ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(We==="string"?String:Number)(Je)}function d(Je,We){if(typeof We!="function"&&We!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(We&&We.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),We&&y(Je,We)}function y(Je,We){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Ne,ke){return Ne.__proto__=ke,Ne},y(Je,We)}function r(Je){var We=a();return function(){var Ne=h(Je),ke;if(We){var we=h(this).constructor;ke=Reflect.construct(Ne,arguments,we)}else ke=Ne.apply(this,arguments);return t(this,ke)}}function t(Je,We){if(We&&(u(We)==="object"||typeof We=="function"))return We;if(We!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i(Je)}function i(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(Je){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},h(Je)}function u(Je){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(We){return typeof We}:function(We){return We&&typeof Symbol=="function"&&We.constructor===Symbol&&We!==Symbol.prototype?"symbol":typeof We},u(Je)}var s=e(95341),m=e(95280),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=g,B.SlowBuffer=_,B.INSPECT_MAX_BYTES=50;var S=2147483647;B.kMaxLength=S,g.TYPED_ARRAY_SUPPORT=v(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{var Je=new Uint8Array(1),We={foo:function(){return 42}};return Object.setPrototypeOf(We,Uint8Array.prototype),Object.setPrototypeOf(Je,We),Je.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function l(Je){if(Je>S)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var We=new Uint8Array(Je);return Object.setPrototypeOf(We,g.prototype),We}function g(Je,We,_e){if(typeof Je=="number"){if(typeof We=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(Je)}return M(Je,We,_e)}g.poolSize=8192;function M(Je,We,_e){if(typeof Je=="string")return E(Je,We);if(ArrayBuffer.isView(Je))return o(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Je));if(dt(Je,ArrayBuffer)||Je&&dt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(Je,SharedArrayBuffer)||Je&&dt(Je.buffer,SharedArrayBuffer)))return P(Je,We,_e);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Ne=Je.valueOf&&Je.valueOf();if(Ne!=null&&Ne!==Je)return g.from(Ne,We,_e);var ke=x(Je);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return g.from(Je[Symbol.toPrimitive]("string"),We,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+u(Je))}g.from=function(Je,We,_e){return M(Je,We,_e)},Object.setPrototypeOf(g.prototype,Uint8Array.prototype),Object.setPrototypeOf(g,Uint8Array);function A(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function k(Je,We,_e){return A(Je),Je<=0?l(Je):We!==void 0?typeof _e=="string"?l(Je).fill(We,_e):l(Je).fill(We):l(Je)}g.alloc=function(Je,We,_e){return k(Je,We,_e)};function w(Je){return A(Je),l(Je<0?0:z(Je)|0)}g.allocUnsafe=function(Je){return w(Je)},g.allocUnsafeSlow=function(Je){return w(Je)};function E(Je,We){if((typeof We!="string"||We==="")&&(We="utf8"),!g.isEncoding(We))throw new TypeError("Unknown encoding: "+We);var _e=G(Je,We)|0,Ne=l(_e),ke=Ne.write(Je,We);return ke!==_e&&(Ne=Ne.slice(0,ke)),Ne}function b(Je){for(var We=Je.length<0?0:z(Je.length)|0,_e=l(We),Ne=0;Ne<We;Ne+=1)_e[Ne]=Je[Ne]&255;return _e}function o(Je){if(dt(Je,Uint8Array)){var We=new Uint8Array(Je);return P(We.buffer,We.byteOffset,We.byteLength)}return b(Je)}function P(Je,We,_e){if(We<0||Je.byteLength<We)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<We+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Ne;return We===void 0&&_e===void 0?Ne=new Uint8Array(Je):_e===void 0?Ne=new Uint8Array(Je,We):Ne=new Uint8Array(Je,We,_e),Object.setPrototypeOf(Ne,g.prototype),Ne}function x(Je){if(g.isBuffer(Je)){var We=z(Je.length)|0,_e=l(We);return _e.length===0||Je.copy(_e,0,0,We),_e}if(Je.length!==void 0)return typeof Je.length!="number"||pt(Je.length)?l(0):b(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return b(Je.data)}function z(Je){if(Je>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return Je|0}function _(Je){return+Je!=Je&&(Je=0),g.alloc(+Je)}g.isBuffer=function(We){return We!=null&&We._isBuffer===!0&&We!==g.prototype},g.compare=function(We,_e){if(dt(We,Uint8Array)&&(We=g.from(We,We.offset,We.byteLength)),dt(_e,Uint8Array)&&(_e=g.from(_e,_e.offset,_e.byteLength)),!g.isBuffer(We)||!g.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(We===_e)return 0;for(var Ne=We.length,ke=_e.length,we=0,me=Math.min(Ne,ke);we<me;++we)if(We[we]!==_e[we]){Ne=We[we],ke=_e[we];break}return Ne<ke?-1:ke<Ne?1:0},g.isEncoding=function(We){switch(String(We).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(We,_e){if(!Array.isArray(We))throw new TypeError('"list" argument must be an Array of Buffers');if(We.length===0)return g.alloc(0);var Ne;if(_e===void 0)for(_e=0,Ne=0;Ne<We.length;++Ne)_e+=We[Ne].length;var ke=g.allocUnsafe(_e),we=0;for(Ne=0;Ne<We.length;++Ne){var me=We[Ne];if(dt(me,Uint8Array))we+me.length>ke.length?(g.isBuffer(me)||(me=g.from(me)),me.copy(ke,we)):Uint8Array.prototype.set.call(ke,me,we);else if(g.isBuffer(me))me.copy(ke,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=me.length}return ke};function G(Je,We){if(g.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||dt(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+u(Je));var _e=Je.length,Ne=arguments.length>2&&arguments[2]===!0;if(!Ne&&_e===0)return 0;for(var ke=!1;;)switch(We){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return at(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e*2;case"hex":return _e>>>1;case"base64":return et(Je).length;default:if(ke)return Ne?-1:at(Je).length;We=(""+We).toLowerCase(),ke=!0}}g.byteLength=G;function F(Je,We,_e){var Ne=!1;if((We===void 0||We<0)&&(We=0),We>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0,We>>>=0,_e<=We))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return le(this,We,_e);case"utf8":case"utf-8":return J(this,We,_e);case"ascii":return $(this,We,_e);case"latin1":case"binary":return ee(this,We,_e);case"base64":return he(this,We,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,We,_e);default:if(Ne)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Ne=!0}}g.prototype._isBuffer=!0;function N(Je,We,_e){var Ne=Je[We];Je[We]=Je[_e],Je[_e]=Ne}g.prototype.swap16=function(){var We=this.length;if(We%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _e=0;_e<We;_e+=2)N(this,_e,_e+1);return this},g.prototype.swap32=function(){var We=this.length;if(We%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _e=0;_e<We;_e+=4)N(this,_e,_e+3),N(this,_e+1,_e+2);return this},g.prototype.swap64=function(){var We=this.length;if(We%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _e=0;_e<We;_e+=8)N(this,_e,_e+7),N(this,_e+1,_e+6),N(this,_e+2,_e+5),N(this,_e+3,_e+4);return this},g.prototype.toString=function(){var We=this.length;return We===0?"":arguments.length===0?J(this,0,We):F.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(We){if(!g.isBuffer(We))throw new TypeError("Argument must be a Buffer");return this===We?!0:g.compare(this,We)===0},g.prototype.inspect=function(){var We="",_e=B.INSPECT_MAX_BYTES;return We=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(We+=" ... "),"<Buffer "+We+">"},f&&(g.prototype[f]=g.prototype.inspect),g.prototype.compare=function(We,_e,Ne,ke,we){if(dt(We,Uint8Array)&&(We=g.from(We,We.offset,We.byteLength)),!g.isBuffer(We))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+u(We));if(_e===void 0&&(_e=0),Ne===void 0&&(Ne=We?We.length:0),ke===void 0&&(ke=0),we===void 0&&(we=this.length),_e<0||Ne>We.length||ke<0||we>this.length)throw new RangeError("out of range index");if(ke>=we&&_e>=Ne)return 0;if(ke>=we)return-1;if(_e>=Ne)return 1;if(_e>>>=0,Ne>>>=0,ke>>>=0,we>>>=0,this===We)return 0;for(var me=we-ke,Me=Ne-_e,Se=Math.min(me,Me),Ve=this.slice(ke,we),Ze=We.slice(_e,Ne),tt=0;tt<Se;++tt)if(Ve[tt]!==Ze[tt]){me=Ve[tt],Me=Ze[tt];break}return me<Me?-1:Me<me?1:0};function U(Je,We,_e,Ne,ke){if(Je.length===0)return-1;if(typeof _e=="string"?(Ne=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,pt(_e)&&(_e=ke?0:Je.length-1),_e<0&&(_e=Je.length+_e),_e>=Je.length){if(ke)return-1;_e=Je.length-1}else if(_e<0)if(ke)_e=0;else return-1;if(typeof We=="string"&&(We=g.from(We,Ne)),g.isBuffer(We))return We.length===0?-1:O(Je,We,_e,Ne,ke);if(typeof We=="number")return We=We&255,typeof Uint8Array.prototype.indexOf=="function"?ke?Uint8Array.prototype.indexOf.call(Je,We,_e):Uint8Array.prototype.lastIndexOf.call(Je,We,_e):O(Je,[We],_e,Ne,ke);throw new TypeError("val must be string, number or Buffer")}function O(Je,We,_e,Ne,ke){var we=1,me=Je.length,Me=We.length;if(Ne!==void 0&&(Ne=String(Ne).toLowerCase(),Ne==="ucs2"||Ne==="ucs-2"||Ne==="utf16le"||Ne==="utf-16le")){if(Je.length<2||We.length<2)return-1;we=2,me/=2,Me/=2,_e/=2}function Se(gt,jt){return we===1?gt[jt]:gt.readUInt16BE(jt*we)}var Ve;if(ke){var Ze=-1;for(Ve=_e;Ve<me;Ve++)if(Se(Je,Ve)===Se(We,Ze===-1?0:Ve-Ze)){if(Ze===-1&&(Ze=Ve),Ve-Ze+1===Me)return Ze*we}else Ze!==-1&&(Ve-=Ve-Ze),Ze=-1}else for(_e+Me>me&&(_e=me-Me),Ve=_e;Ve>=0;Ve--){for(var tt=!0,ct=0;ct<Me;ct++)if(Se(Je,Ve+ct)!==Se(We,ct)){tt=!1;break}if(tt)return Ve}return-1}g.prototype.includes=function(We,_e,Ne){return this.indexOf(We,_e,Ne)!==-1},g.prototype.indexOf=function(We,_e,Ne){return U(this,We,_e,Ne,!0)},g.prototype.lastIndexOf=function(We,_e,Ne){return U(this,We,_e,Ne,!1)};function H(Je,We,_e,Ne){_e=Number(_e)||0;var ke=Je.length-_e;Ne?(Ne=Number(Ne),Ne>ke&&(Ne=ke)):Ne=ke;var we=We.length;Ne>we/2&&(Ne=we/2);var me;for(me=0;me<Ne;++me){var Me=parseInt(We.substr(me*2,2),16);if(pt(Me))return me;Je[_e+me]=Me}return me}function Y(Je,We,_e,Ne){return ft(at(We,Je.length-_e),Je,_e,Ne)}function q(Je,We,_e,Ne){return ft(lt(We),Je,_e,Ne)}function ne(Je,We,_e,Ne){return ft(et(We),Je,_e,Ne)}function oe(Je,We,_e,Ne){return ft(qe(We,Je.length-_e),Je,_e,Ne)}g.prototype.write=function(We,_e,Ne,ke){if(_e===void 0)ke="utf8",Ne=this.length,_e=0;else if(Ne===void 0&&typeof _e=="string")ke=_e,Ne=this.length,_e=0;else if(isFinite(_e))_e=_e>>>0,isFinite(Ne)?(Ne=Ne>>>0,ke===void 0&&(ke="utf8")):(ke=Ne,Ne=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var we=this.length-_e;if((Ne===void 0||Ne>we)&&(Ne=we),We.length>0&&(Ne<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");for(var me=!1;;)switch(ke){case"hex":return H(this,We,_e,Ne);case"utf8":case"utf-8":return Y(this,We,_e,Ne);case"ascii":case"latin1":case"binary":return q(this,We,_e,Ne);case"base64":return ne(this,We,_e,Ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,We,_e,Ne);default:if(me)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),me=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function he(Je,We,_e){return We===0&&_e===Je.length?s.fromByteArray(Je):s.fromByteArray(Je.slice(We,_e))}function J(Je,We,_e){_e=Math.min(Je.length,_e);for(var Ne=[],ke=We;ke<_e;){var we=Je[ke],me=null,Me=we>239?4:we>223?3:we>191?2:1;if(ke+Me<=_e){var Se=void 0,Ve=void 0,Ze=void 0,tt=void 0;switch(Me){case 1:we<128&&(me=we);break;case 2:Se=Je[ke+1],(Se&192)===128&&(tt=(we&31)<<6|Se&63,tt>127&&(me=tt));break;case 3:Se=Je[ke+1],Ve=Je[ke+2],(Se&192)===128&&(Ve&192)===128&&(tt=(we&15)<<12|(Se&63)<<6|Ve&63,tt>2047&&(tt<55296||tt>57343)&&(me=tt));break;case 4:Se=Je[ke+1],Ve=Je[ke+2],Ze=Je[ke+3],(Se&192)===128&&(Ve&192)===128&&(Ze&192)===128&&(tt=(we&15)<<18|(Se&63)<<12|(Ve&63)<<6|Ze&63,tt>65535&&tt<1114112&&(me=tt))}}me===null?(me=65533,Me=1):me>65535&&(me-=65536,Ne.push(me>>>10&1023|55296),me=56320|me&1023),Ne.push(me),ke+=Me}return se(Ne)}var Z=4096;function se(Je){var We=Je.length;if(We<=Z)return String.fromCharCode.apply(String,Je);for(var _e="",Ne=0;Ne<We;)_e+=String.fromCharCode.apply(String,Je.slice(Ne,Ne+=Z));return _e}function $(Je,We,_e){var Ne="";_e=Math.min(Je.length,_e);for(var ke=We;ke<_e;++ke)Ne+=String.fromCharCode(Je[ke]&127);return Ne}function ee(Je,We,_e){var Ne="";_e=Math.min(Je.length,_e);for(var ke=We;ke<_e;++ke)Ne+=String.fromCharCode(Je[ke]);return Ne}function le(Je,We,_e){var Ne=Je.length;(!We||We<0)&&(We=0),(!_e||_e<0||_e>Ne)&&(_e=Ne);for(var ke="",we=We;we<_e;++we)ke+=At[Je[we]];return ke}function Q(Je,We,_e){for(var Ne=Je.slice(We,_e),ke="",we=0;we<Ne.length-1;we+=2)ke+=String.fromCharCode(Ne[we]+Ne[we+1]*256);return ke}g.prototype.slice=function(We,_e){var Ne=this.length;We=~~We,_e=_e===void 0?Ne:~~_e,We<0?(We+=Ne,We<0&&(We=0)):We>Ne&&(We=Ne),_e<0?(_e+=Ne,_e<0&&(_e=0)):_e>Ne&&(_e=Ne),_e<We&&(_e=We);var ke=this.subarray(We,_e);return Object.setPrototypeOf(ke,g.prototype),ke};function K(Je,We,_e){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+We>_e)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUintLE=g.prototype.readUIntLE=function(We,_e,Ne){We=We>>>0,_e=_e>>>0,Ne||K(We,_e,this.length);for(var ke=this[We],we=1,me=0;++me<_e&&(we*=256);)ke+=this[We+me]*we;return ke},g.prototype.readUintBE=g.prototype.readUIntBE=function(We,_e,Ne){We=We>>>0,_e=_e>>>0,Ne||K(We,_e,this.length);for(var ke=this[We+--_e],we=1;_e>0&&(we*=256);)ke+=this[We+--_e]*we;return ke},g.prototype.readUint8=g.prototype.readUInt8=function(We,_e){return We=We>>>0,_e||K(We,1,this.length),this[We]},g.prototype.readUint16LE=g.prototype.readUInt16LE=function(We,_e){return We=We>>>0,_e||K(We,2,this.length),this[We]|this[We+1]<<8},g.prototype.readUint16BE=g.prototype.readUInt16BE=function(We,_e){return We=We>>>0,_e||K(We,2,this.length),this[We]<<8|this[We+1]},g.prototype.readUint32LE=g.prototype.readUInt32LE=function(We,_e){return We=We>>>0,_e||K(We,4,this.length),(this[We]|this[We+1]<<8|this[We+2]<<16)+this[We+3]*16777216},g.prototype.readUint32BE=g.prototype.readUInt32BE=function(We,_e){return We=We>>>0,_e||K(We,4,this.length),this[We]*16777216+(this[We+1]<<16|this[We+2]<<8|this[We+3])},g.prototype.readBigUInt64LE=Pt(function(We){We=We>>>0,Ue(We,"offset");var _e=this[We],Ne=this[We+7];(_e===void 0||Ne===void 0)&&He(We,this.length-8);var ke=_e+this[++We]*Math.pow(2,8)+this[++We]*Math.pow(2,16)+this[++We]*Math.pow(2,24),we=this[++We]+this[++We]*Math.pow(2,8)+this[++We]*Math.pow(2,16)+Ne*Math.pow(2,24);return BigInt(ke)+(BigInt(we)<<BigInt(32))}),g.prototype.readBigUInt64BE=Pt(function(We){We=We>>>0,Ue(We,"offset");var _e=this[We],Ne=this[We+7];(_e===void 0||Ne===void 0)&&He(We,this.length-8);var ke=_e*Math.pow(2,24)+this[++We]*Math.pow(2,16)+this[++We]*Math.pow(2,8)+this[++We],we=this[++We]*Math.pow(2,24)+this[++We]*Math.pow(2,16)+this[++We]*Math.pow(2,8)+Ne;return(BigInt(ke)<<BigInt(32))+BigInt(we)}),g.prototype.readIntLE=function(We,_e,Ne){We=We>>>0,_e=_e>>>0,Ne||K(We,_e,this.length);for(var ke=this[We],we=1,me=0;++me<_e&&(we*=256);)ke+=this[We+me]*we;return we*=128,ke>=we&&(ke-=Math.pow(2,8*_e)),ke},g.prototype.readIntBE=function(We,_e,Ne){We=We>>>0,_e=_e>>>0,Ne||K(We,_e,this.length);for(var ke=_e,we=1,me=this[We+--ke];ke>0&&(we*=256);)me+=this[We+--ke]*we;return we*=128,me>=we&&(me-=Math.pow(2,8*_e)),me},g.prototype.readInt8=function(We,_e){return We=We>>>0,_e||K(We,1,this.length),this[We]&128?(255-this[We]+1)*-1:this[We]},g.prototype.readInt16LE=function(We,_e){We=We>>>0,_e||K(We,2,this.length);var Ne=this[We]|this[We+1]<<8;return Ne&32768?Ne|4294901760:Ne},g.prototype.readInt16BE=function(We,_e){We=We>>>0,_e||K(We,2,this.length);var Ne=this[We+1]|this[We]<<8;return Ne&32768?Ne|4294901760:Ne},g.prototype.readInt32LE=function(We,_e){return We=We>>>0,_e||K(We,4,this.length),this[We]|this[We+1]<<8|this[We+2]<<16|this[We+3]<<24},g.prototype.readInt32BE=function(We,_e){return We=We>>>0,_e||K(We,4,this.length),this[We]<<24|this[We+1]<<16|this[We+2]<<8|this[We+3]},g.prototype.readBigInt64LE=Pt(function(We){We=We>>>0,Ue(We,"offset");var _e=this[We],Ne=this[We+7];(_e===void 0||Ne===void 0)&&He(We,this.length-8);var ke=this[We+4]+this[We+5]*Math.pow(2,8)+this[We+6]*Math.pow(2,16)+(Ne<<24);return(BigInt(ke)<<BigInt(32))+BigInt(_e+this[++We]*Math.pow(2,8)+this[++We]*Math.pow(2,16)+this[++We]*Math.pow(2,24))}),g.prototype.readBigInt64BE=Pt(function(We){We=We>>>0,Ue(We,"offset");var _e=this[We],Ne=this[We+7];(_e===void 0||Ne===void 0)&&He(We,this.length-8);var ke=(_e<<24)+this[++We]*Math.pow(2,16)+this[++We]*Math.pow(2,8)+this[++We];return(BigInt(ke)<<BigInt(32))+BigInt(this[++We]*Math.pow(2,24)+this[++We]*Math.pow(2,16)+this[++We]*Math.pow(2,8)+Ne)}),g.prototype.readFloatLE=function(We,_e){return We=We>>>0,_e||K(We,4,this.length),m.read(this,We,!0,23,4)},g.prototype.readFloatBE=function(We,_e){return We=We>>>0,_e||K(We,4,this.length),m.read(this,We,!1,23,4)},g.prototype.readDoubleLE=function(We,_e){return We=We>>>0,_e||K(We,8,this.length),m.read(this,We,!0,52,8)},g.prototype.readDoubleBE=function(We,_e){return We=We>>>0,_e||K(We,8,this.length),m.read(this,We,!1,52,8)};function ue(Je,We,_e,Ne,ke,we){if(!g.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(We>ke||We<we)throw new RangeError('"value" argument is out of bounds');if(_e+Ne>Je.length)throw new RangeError("Index out of range")}g.prototype.writeUintLE=g.prototype.writeUIntLE=function(We,_e,Ne,ke){if(We=+We,_e=_e>>>0,Ne=Ne>>>0,!ke){var we=Math.pow(2,8*Ne)-1;ue(this,We,_e,Ne,we,0)}var me=1,Me=0;for(this[_e]=We&255;++Me<Ne&&(me*=256);)this[_e+Me]=We/me&255;return _e+Ne},g.prototype.writeUintBE=g.prototype.writeUIntBE=function(We,_e,Ne,ke){if(We=+We,_e=_e>>>0,Ne=Ne>>>0,!ke){var we=Math.pow(2,8*Ne)-1;ue(this,We,_e,Ne,we,0)}var me=Ne-1,Me=1;for(this[_e+me]=We&255;--me>=0&&(Me*=256);)this[_e+me]=We/Me&255;return _e+Ne},g.prototype.writeUint8=g.prototype.writeUInt8=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,1,255,0),this[_e]=We&255,_e+1},g.prototype.writeUint16LE=g.prototype.writeUInt16LE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,2,65535,0),this[_e]=We&255,this[_e+1]=We>>>8,_e+2},g.prototype.writeUint16BE=g.prototype.writeUInt16BE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,2,65535,0),this[_e]=We>>>8,this[_e+1]=We&255,_e+2},g.prototype.writeUint32LE=g.prototype.writeUInt32LE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,4,4294967295,0),this[_e+3]=We>>>24,this[_e+2]=We>>>16,this[_e+1]=We>>>8,this[_e]=We&255,_e+4},g.prototype.writeUint32BE=g.prototype.writeUInt32BE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,4,4294967295,0),this[_e]=We>>>24,this[_e+1]=We>>>16,this[_e+2]=We>>>8,this[_e+3]=We&255,_e+4};function ie(Je,We,_e,Ne,ke){Ce(We,Ne,ke,Je,_e,7);var we=Number(We&BigInt(4294967295));Je[_e++]=we,we=we>>8,Je[_e++]=we,we=we>>8,Je[_e++]=we,we=we>>8,Je[_e++]=we;var me=Number(We>>BigInt(32)&BigInt(4294967295));return Je[_e++]=me,me=me>>8,Je[_e++]=me,me=me>>8,Je[_e++]=me,me=me>>8,Je[_e++]=me,_e}function ce(Je,We,_e,Ne,ke){Ce(We,Ne,ke,Je,_e,7);var we=Number(We&BigInt(4294967295));Je[_e+7]=we,we=we>>8,Je[_e+6]=we,we=we>>8,Je[_e+5]=we,we=we>>8,Je[_e+4]=we;var me=Number(We>>BigInt(32)&BigInt(4294967295));return Je[_e+3]=me,me=me>>8,Je[_e+2]=me,me=me>>8,Je[_e+1]=me,me=me>>8,Je[_e]=me,_e+8}g.prototype.writeBigUInt64LE=Pt(function(We){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,We,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeBigUInt64BE=Pt(function(We){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,We,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),g.prototype.writeIntLE=function(We,_e,Ne,ke){if(We=+We,_e=_e>>>0,!ke){var we=Math.pow(2,8*Ne-1);ue(this,We,_e,Ne,we-1,-we)}var me=0,Me=1,Se=0;for(this[_e]=We&255;++me<Ne&&(Me*=256);)We<0&&Se===0&&this[_e+me-1]!==0&&(Se=1),this[_e+me]=(We/Me>>0)-Se&255;return _e+Ne},g.prototype.writeIntBE=function(We,_e,Ne,ke){if(We=+We,_e=_e>>>0,!ke){var we=Math.pow(2,8*Ne-1);ue(this,We,_e,Ne,we-1,-we)}var me=Ne-1,Me=1,Se=0;for(this[_e+me]=We&255;--me>=0&&(Me*=256);)We<0&&Se===0&&this[_e+me+1]!==0&&(Se=1),this[_e+me]=(We/Me>>0)-Se&255;return _e+Ne},g.prototype.writeInt8=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,1,127,-128),We<0&&(We=255+We+1),this[_e]=We&255,_e+1},g.prototype.writeInt16LE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,2,32767,-32768),this[_e]=We&255,this[_e+1]=We>>>8,_e+2},g.prototype.writeInt16BE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,2,32767,-32768),this[_e]=We>>>8,this[_e+1]=We&255,_e+2},g.prototype.writeInt32LE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,4,2147483647,-2147483648),this[_e]=We&255,this[_e+1]=We>>>8,this[_e+2]=We>>>16,this[_e+3]=We>>>24,_e+4},g.prototype.writeInt32BE=function(We,_e,Ne){return We=+We,_e=_e>>>0,Ne||ue(this,We,_e,4,2147483647,-2147483648),We<0&&(We=4294967295+We+1),this[_e]=We>>>24,this[_e+1]=We>>>16,this[_e+2]=We>>>8,this[_e+3]=We&255,_e+4},g.prototype.writeBigInt64LE=Pt(function(We){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ie(this,We,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),g.prototype.writeBigInt64BE=Pt(function(We){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ce(this,We,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(Je,We,_e,Ne,ke,we){if(_e+Ne>Je.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function Le(Je,We,_e,Ne,ke){return We=+We,_e=_e>>>0,ke||xe(Je,We,_e,4),m.write(Je,We,_e,Ne,23,4),_e+4}g.prototype.writeFloatLE=function(We,_e,Ne){return Le(this,We,_e,!0,Ne)},g.prototype.writeFloatBE=function(We,_e,Ne){return Le(this,We,_e,!1,Ne)};function Ae(Je,We,_e,Ne,ke){return We=+We,_e=_e>>>0,ke||xe(Je,We,_e,8),m.write(Je,We,_e,Ne,52,8),_e+8}g.prototype.writeDoubleLE=function(We,_e,Ne){return Ae(this,We,_e,!0,Ne)},g.prototype.writeDoubleBE=function(We,_e,Ne){return Ae(this,We,_e,!1,Ne)},g.prototype.copy=function(We,_e,Ne,ke){if(!g.isBuffer(We))throw new TypeError("argument should be a Buffer");if(Ne||(Ne=0),!ke&&ke!==0&&(ke=this.length),_e>=We.length&&(_e=We.length),_e||(_e=0),ke>0&&ke<Ne&&(ke=Ne),ke===Ne||We.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(Ne<0||Ne>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),We.length-_e<ke-Ne&&(ke=We.length-_e+Ne);var we=ke-Ne;return this===We&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,Ne,ke):Uint8Array.prototype.set.call(We,this.subarray(Ne,ke),_e),we},g.prototype.fill=function(We,_e,Ne,ke){if(typeof We=="string"){if(typeof _e=="string"?(ke=_e,_e=0,Ne=this.length):typeof Ne=="string"&&(ke=Ne,Ne=this.length),ke!==void 0&&typeof ke!="string")throw new TypeError("encoding must be a string");if(typeof ke=="string"&&!g.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(We.length===1){var we=We.charCodeAt(0);(ke==="utf8"&&we<128||ke==="latin1")&&(We=we)}}else typeof We=="number"?We=We&255:typeof We=="boolean"&&(We=Number(We));if(_e<0||this.length<_e||this.length<Ne)throw new RangeError("Out of range index");if(Ne<=_e)return this;_e=_e>>>0,Ne=Ne===void 0?this.length:Ne>>>0,We||(We=0);var me;if(typeof We=="number")for(me=_e;me<Ne;++me)this[me]=We;else{var Me=g.isBuffer(We)?We:g.from(We,ke),Se=Me.length;if(Se===0)throw new TypeError('The value "'+We+'" is invalid for argument "value"');for(me=0;me<Ne-_e;++me)this[me+_e]=Me[me%Se]}return this};var Oe={};function ze(Je,We,_e){Oe[Je]=function(Ne){d(we,Ne);var ke=r(we);function we(){var me;return p(this,we),me=ke.call(this),Object.defineProperty(i(me),"message",{value:We.apply(i(me),arguments),writable:!0,configurable:!0}),me.name="".concat(me.name," [").concat(Je,"]"),me.stack,delete me.name,me}return n(we,[{key:"code",get:function(){return Je},set:function(Me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Me,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),we}(_e)}ze("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),ze("ERR_INVALID_ARG_TYPE",function(Je,We){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(u(We))},TypeError),ze("ERR_OUT_OF_RANGE",function(Je,We,_e){var Ne='The value of "'.concat(Je,'" is out of range.'),ke=_e;return Number.isInteger(_e)&&Math.abs(_e)>Math.pow(2,32)?ke=Ee(String(_e)):typeof _e=="bigint"&&(ke=String(_e),(_e>Math.pow(BigInt(2),BigInt(32))||_e<-Math.pow(BigInt(2),BigInt(32)))&&(ke=Ee(ke)),ke+="n"),Ne+=" It must be ".concat(We,". Received ").concat(ke),Ne},RangeError);function Ee(Je){for(var We="",_e=Je.length,Ne=Je[0]==="-"?1:0;_e>=Ne+4;_e-=3)We="_".concat(Je.slice(_e-3,_e)).concat(We);return"".concat(Je.slice(0,_e)).concat(We)}function be(Je,We,_e){Ue(We,"offset"),(Je[We]===void 0||Je[We+_e]===void 0)&&He(We,Je.length-(_e+1))}function Ce(Je,We,_e,Ne,ke,we){if(Je>_e||Je<We){var me=typeof We=="bigint"?"n":"",Me;throw we>3?We===0||We===BigInt(0)?Me=">= 0".concat(me," and < 2").concat(me," ** ").concat((we+1)*8).concat(me):Me=">= -(2".concat(me," ** ").concat((we+1)*8-1).concat(me,") and < 2 ** ")+"".concat((we+1)*8-1).concat(me):Me=">= ".concat(We).concat(me," and <= ").concat(_e).concat(me),new Oe.ERR_OUT_OF_RANGE("value",Me,Je)}be(Ne,ke,we)}function Ue(Je,We){if(typeof Je!="number")throw new Oe.ERR_INVALID_ARG_TYPE(We,"number",Je)}function He(Je,We,_e){throw Math.floor(Je)!==Je?(Ue(Je,_e),new Oe.ERR_OUT_OF_RANGE(_e||"offset","an integer",Je)):We<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(_e||"offset",">= ".concat(_e?1:0," and <= ").concat(We),Je)}var Ie=/[^+/0-9A-Za-z-_]/g;function Ge(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(Ie,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function at(Je,We){We=We||1/0;for(var _e,Ne=Je.length,ke=null,we=[],me=0;me<Ne;++me){if(_e=Je.charCodeAt(me),_e>55295&&_e<57344){if(!ke){if(_e>56319){(We-=3)>-1&&we.push(239,191,189);continue}else if(me+1===Ne){(We-=3)>-1&&we.push(239,191,189);continue}ke=_e;continue}if(_e<56320){(We-=3)>-1&&we.push(239,191,189),ke=_e;continue}_e=(ke-55296<<10|_e-56320)+65536}else ke&&(We-=3)>-1&&we.push(239,191,189);if(ke=null,_e<128){if((We-=1)<0)break;we.push(_e)}else if(_e<2048){if((We-=2)<0)break;we.push(_e>>6|192,_e&63|128)}else if(_e<65536){if((We-=3)<0)break;we.push(_e>>12|224,_e>>6&63|128,_e&63|128)}else if(_e<1114112){if((We-=4)<0)break;we.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,_e&63|128)}else throw new Error("Invalid code point")}return we}function lt(Je){for(var We=[],_e=0;_e<Je.length;++_e)We.push(Je.charCodeAt(_e)&255);return We}function qe(Je,We){for(var _e,Ne,ke,we=[],me=0;me<Je.length&&!((We-=2)<0);++me)_e=Je.charCodeAt(me),Ne=_e>>8,ke=_e%256,we.push(ke),we.push(Ne);return we}function et(Je){return s.toByteArray(Ge(Je))}function ft(Je,We,_e,Ne){var ke;for(ke=0;ke<Ne&&!(ke+_e>=We.length||ke>=Je.length);++ke)We[ke+_e]=Je[ke];return ke}function dt(Je,We){return Je instanceof We||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===We.name}function pt(Je){return Je!==Je}var At=function(){for(var Je="0123456789abcdef",We=new Array(256),_e=0;_e<16;++_e)for(var Ne=_e*16,ke=0;ke<16;++ke)We[Ne+ke]=Je[_e]+Je[ke];return We}();function Pt(Je){return typeof BigInt>"u"?Ht:Je}function Ht(){throw new Error("BigInt not supported")}},35791:function(V){V.exports=L,V.exports.isMobile=L,V.exports.default=L;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function L(n){n||(n={});var C=n.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var T=B.test(C)&&!e.test(C)||!!n.tablet&&p.test(C);return!T&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(T=!0),T}},86781:function(V,B,e){e.r(B),e.d(B,{sankeyCenter:function(){return i},sankeyCircular:function(){return P},sankeyJustify:function(){return t},sankeyLeft:function(){return y},sankeyRight:function(){return r}});var p=e(33064),L=e(15140),n=e(45879),C=e(2502),T=e.n(C);function d(Ae){return Ae.target.depth}function y(Ae){return Ae.depth}function r(Ae,Oe){return Oe-1-Ae.height}function t(Ae,Oe){return Ae.sourceLinks.length?Ae.depth:Oe-1}function i(Ae){return Ae.targetLinks.length?Ae.depth:Ae.sourceLinks.length?(0,p.VV)(Ae.sourceLinks,d)-1:0}function a(Ae){return function(){return Ae}}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae};function u(Ae,Oe){return m(Ae.source,Oe.source)||Ae.index-Oe.index}function s(Ae,Oe){return m(Ae.target,Oe.target)||Ae.index-Oe.index}function m(Ae,Oe){return Ae.partOfCycle===Oe.partOfCycle?Ae.y0-Oe.y0:Ae.circularLinkType==="top"||Oe.circularLinkType==="bottom"?-1:1}function f(Ae){return Ae.value}function S(Ae){return(Ae.y0+Ae.y1)/2}function v(Ae){return S(Ae.source)}function l(Ae){return S(Ae.target)}function g(Ae){return Ae.index}function M(Ae){return Ae.nodes}function A(Ae){return Ae.links}function k(Ae,Oe){var ze=Ae.get(Oe);if(!ze)throw new Error("missing: "+Oe);return ze}function w(Ae,Oe){return Oe(Ae)}var E=25,b=10,o=.3;function P(){var Ae=0,Oe=0,ze=1,Ee=1,be=24,Ce,Ue=g,He=t,Ie=M,Ge=A,at=32,lt=2,qe,et=null;function ft(){var _e={nodes:Ie.apply(null,arguments),links:Ge.apply(null,arguments)};dt(_e),x(_e,Ue,et),pt(_e),Ht(_e),z(_e,Ue),Je(_e,at,Ue),We(_e);for(var Ne=4,ke=0;ke<Ne;ke++)K(_e,Ee,Ue),ue(_e,Ee,Ue),ee(_e,Oe,Ee,Ue),K(_e,Ee,Ue),ue(_e,Ee,Ue);return Le(_e,Oe,Ee),O(_e,lt,Ee,Ue),_e}ft.nodeId=function(_e){return arguments.length?(Ue=typeof _e=="function"?_e:a(_e),ft):Ue},ft.nodeAlign=function(_e){return arguments.length?(He=typeof _e=="function"?_e:a(_e),ft):He},ft.nodeWidth=function(_e){return arguments.length?(be=+_e,ft):be},ft.nodePadding=function(_e){return arguments.length?(Ce=+_e,ft):Ce},ft.nodes=function(_e){return arguments.length?(Ie=typeof _e=="function"?_e:a(_e),ft):Ie},ft.links=function(_e){return arguments.length?(Ge=typeof _e=="function"?_e:a(_e),ft):Ge},ft.size=function(_e){return arguments.length?(Ae=Oe=0,ze=+_e[0],Ee=+_e[1],ft):[ze-Ae,Ee-Oe]},ft.extent=function(_e){return arguments.length?(Ae=+_e[0][0],ze=+_e[1][0],Oe=+_e[0][1],Ee=+_e[1][1],ft):[[Ae,Oe],[ze,Ee]]},ft.iterations=function(_e){return arguments.length?(at=+_e,ft):at},ft.circularLinkGap=function(_e){return arguments.length?(lt=+_e,ft):lt},ft.nodePaddingRatio=function(_e){return arguments.length?(qe=+_e,ft):qe},ft.sortNodes=function(_e){return arguments.length?(et=_e,ft):et},ft.update=function(_e){return z(_e,Ue),We(_e),_e.links.forEach(function(Ne){Ne.circular&&(Ne.circularLinkType=Ne.y0+Ne.y1<Ee?"top":"bottom",Ne.source.circularLinkType=Ne.circularLinkType,Ne.target.circularLinkType=Ne.circularLinkType)}),K(_e,Ee,Ue,!1),ue(_e,Ee,Ue),O(_e,lt,Ee,Ue),_e};function dt(_e){_e.nodes.forEach(function(ke,we){ke.index=we,ke.sourceLinks=[],ke.targetLinks=[]});var Ne=(0,L.UI)(_e.nodes,Ue);return _e.links.forEach(function(ke,we){ke.index=we;var me=ke.source,Me=ke.target;(typeof me>"u"?"undefined":h(me))!=="object"&&(me=ke.source=k(Ne,me)),(typeof Me>"u"?"undefined":h(Me))!=="object"&&(Me=ke.target=k(Ne,Me)),me.sourceLinks.push(ke),Me.targetLinks.push(ke)}),_e}function pt(_e){_e.nodes.forEach(function(Ne){Ne.partOfCycle=!1,Ne.value=Math.max((0,p.Sm)(Ne.sourceLinks,f),(0,p.Sm)(Ne.targetLinks,f)),Ne.sourceLinks.forEach(function(ke){ke.circular&&(Ne.partOfCycle=!0,Ne.circularLinkType=ke.circularLinkType)}),Ne.targetLinks.forEach(function(ke){ke.circular&&(Ne.partOfCycle=!0,Ne.circularLinkType=ke.circularLinkType)})})}function At(_e){var Ne=0,ke=0,we=0,me=0,Me=(0,p.Fp)(_e.nodes,function(Se){return Se.column});return _e.links.forEach(function(Se){Se.circular&&(Se.circularLinkType=="top"?Ne=Ne+Se.width:ke=ke+Se.width,Se.target.column==0&&(me=me+Se.width),Se.source.column==Me&&(we=we+Se.width))}),Ne=Ne>0?Ne+E+b:Ne,ke=ke>0?ke+E+b:ke,we=we>0?we+E+b:we,me=me>0?me+E+b:me,{top:Ne,bottom:ke,left:me,right:we}}function Pt(_e,Ne){var ke=(0,p.Fp)(_e.nodes,function(tt){return tt.column}),we=ze-Ae,me=Ee-Oe,Me=we+Ne.right+Ne.left,Se=me+Ne.top+Ne.bottom,Ve=we/Me,Ze=me/Se;return Ae=Ae*Ve+Ne.left,ze=Ne.right==0?ze:ze*Ve,Oe=Oe*Ze+Ne.top,Ee=Ee*Ze,_e.nodes.forEach(function(tt){tt.x0=Ae+tt.column*((ze-Ae-be)/ke),tt.x1=tt.x0+be}),Ze}function Ht(_e){var Ne,ke,we;for(Ne=_e.nodes,ke=[],we=0;Ne.length;++we,Ne=ke,ke=[])Ne.forEach(function(me){me.depth=we,me.sourceLinks.forEach(function(Me){ke.indexOf(Me.target)<0&&!Me.circular&&ke.push(Me.target)})});for(Ne=_e.nodes,ke=[],we=0;Ne.length;++we,Ne=ke,ke=[])Ne.forEach(function(me){me.height=we,me.targetLinks.forEach(function(Me){ke.indexOf(Me.source)<0&&!Me.circular&&ke.push(Me.source)})});_e.nodes.forEach(function(me){me.column=Math.floor(He.call(null,me,we))})}function Je(_e,Ne,ke){var we=(0,L.b1)().key(function(tt){return tt.column}).sortKeys(p.j2).entries(_e.nodes).map(function(tt){return tt.values});Se(ke),Ze();for(var me=1,Me=Ne;Me>0;--Me)Ve(me*=.99,ke),Ze();function Se(tt){if(qe){var ct=1/0;we.forEach(function(Tt){var zt=Ee*qe/(Tt.length+1);ct=zt<ct?zt:ct}),Ce=ct}var gt=(0,p.VV)(we,function(Tt){return(Ee-Oe-(Tt.length-1)*Ce)/(0,p.Sm)(Tt,f)});gt=gt*o,_e.links.forEach(function(Tt){Tt.width=Tt.value*gt});var jt=At(_e),Kt=Pt(_e,jt);gt=gt*Kt,_e.links.forEach(function(Tt){Tt.width=Tt.value*gt}),we.forEach(function(Tt){var zt=Tt.length;Tt.forEach(function(qt,Sr){qt.depth==we.length-1&&zt==1||qt.depth==0&&zt==1?(qt.y0=Ee/2-qt.value*gt,qt.y1=qt.y0+qt.value*gt):qt.partOfCycle?F(qt,tt)==0?(qt.y0=Ee/2+Sr,qt.y1=qt.y0+qt.value*gt):qt.circularLinkType=="top"?(qt.y0=Oe+Sr,qt.y1=qt.y0+qt.value*gt):(qt.y0=Ee-qt.value*gt-Sr,qt.y1=qt.y0+qt.value*gt):jt.top==0||jt.bottom==0?(qt.y0=(Ee-Oe)/zt*Sr,qt.y1=qt.y0+qt.value*gt):(qt.y0=(Ee-Oe)/2-zt/2+Sr,qt.y1=qt.y0+qt.value*gt)})})}function Ve(tt,ct){var gt=we.length;we.forEach(function(jt){var Kt=jt.length,Tt=jt[0].depth;jt.forEach(function(zt){var qt;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&F(zt,ct)>0))if(Tt==0&&Kt==1)qt=zt.y1-zt.y0,zt.y0=Ee/2-qt/2,zt.y1=Ee/2+qt/2;else if(Tt==gt-1&&Kt==1)qt=zt.y1-zt.y0,zt.y0=Ee/2-qt/2,zt.y1=Ee/2+qt/2;else{var Sr=0,yt=(0,p.J6)(zt.sourceLinks,l),Zt=(0,p.J6)(zt.targetLinks,v);yt&&Zt?Sr=(yt+Zt)/2:Sr=yt||Zt;var Jt=(Sr-S(zt))*tt;zt.y0+=Jt,zt.y1+=Jt}})})}function Ze(){we.forEach(function(tt){var ct,gt,jt=Oe,Kt=tt.length,Tt;for(tt.sort(m),Tt=0;Tt<Kt;++Tt)ct=tt[Tt],gt=jt-ct.y0,gt>0&&(ct.y0+=gt,ct.y1+=gt),jt=ct.y1+Ce;if(gt=jt-Ce-Ee,gt>0)for(jt=ct.y0-=gt,ct.y1-=gt,Tt=Kt-2;Tt>=0;--Tt)ct=tt[Tt],gt=ct.y1+Ce-jt,gt>0&&(ct.y0-=gt,ct.y1-=gt),jt=ct.y0})}}function We(_e){_e.nodes.forEach(function(Ne){Ne.sourceLinks.sort(s),Ne.targetLinks.sort(u)}),_e.nodes.forEach(function(Ne){var ke=Ne.y0,we=ke,me=Ne.y1,Me=me;Ne.sourceLinks.forEach(function(Se){Se.circular?(Se.y0=me-Se.width/2,me=me-Se.width):(Se.y0=ke+Se.width/2,ke+=Se.width)}),Ne.targetLinks.forEach(function(Se){Se.circular?(Se.y1=Me-Se.width/2,Me=Me-Se.width):(Se.y1=we+Se.width/2,we+=Se.width)})})}return ft}function x(Ae,Oe,ze){var Ee=0;if(ze===null){for(var be=[],Ce=0;Ce<Ae.links.length;Ce++){var Ue=Ae.links[Ce],He=Ue.source.index,Ie=Ue.target.index;be[He]||(be[He]=[]),be[Ie]||(be[Ie]=[]),be[He].indexOf(Ie)===-1&&be[He].push(Ie)}var Ge=T()(be);Ge.sort(function(et,ft){return et.length-ft.length});var at={};for(Ce=0;Ce<Ge.length;Ce++){var lt=Ge[Ce],qe=lt.slice(-2);at[qe[0]]||(at[qe[0]]={}),at[qe[0]][qe[1]]=!0}Ae.links.forEach(function(et){var ft=et.target.index,dt=et.source.index;ft===dt||at[dt]&&at[dt][ft]?(et.circular=!0,et.circularLinkID=Ee,Ee=Ee+1):et.circular=!1})}else Ae.links.forEach(function(et){et.source[ze]<et.target[ze]?et.circular=!1:(et.circular=!0,et.circularLinkID=Ee,Ee=Ee+1)})}function z(Ae,Oe){var ze=0,Ee=0;Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=ze<Ee?"top":"bottom",be.circularLinkType=="top"?ze=ze+1:Ee=Ee+1,Ae.nodes.forEach(function(Ce){(w(Ce,Oe)==w(be.source,Oe)||w(Ce,Oe)==w(be.target,Oe))&&(Ce.circularLinkType=be.circularLinkType)}))}),Ae.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),xe(be,Oe)&&(be.circularLinkType=be.source.circularLinkType))})}function _(Ae){var Oe=Math.abs(Ae.y1-Ae.y0),ze=Math.abs(Ae.target.x0-Ae.source.x1);return Math.atan(ze/Oe)}function G(Ae,Oe){return Ae.source.column<Oe.target.column?!1:!(Ae.target.column>Oe.source.column)}function F(Ae,Oe){var ze=0;Ae.sourceLinks.forEach(function(be){ze=be.circular&&!xe(be,Oe)?ze+1:ze});var Ee=0;return Ae.targetLinks.forEach(function(be){Ee=be.circular&&!xe(be,Oe)?Ee+1:Ee}),ze+Ee}function N(Ae){var Oe=Ae.source.sourceLinks,ze=0;Oe.forEach(function(Ce){ze=Ce.circular?ze+1:ze});var Ee=Ae.target.targetLinks,be=0;return Ee.forEach(function(Ce){be=Ce.circular?be+1:be}),!(ze>1||be>1)}function U(Ae,Oe,ze){return Ae.sort(Y),Ae.forEach(function(Ee,be){var Ce=0;if(xe(Ee,ze)&&N(Ee))Ee.circularPathData.verticalBuffer=Ce+Ee.width/2;else{var Ue=0;for(Ue;Ue<be;Ue++)if(G(Ae[be],Ae[Ue])){var He=Ae[Ue].circularPathData.verticalBuffer+Ae[Ue].width/2+Oe;Ce=He>Ce?He:Ce}Ee.circularPathData.verticalBuffer=Ce+Ee.width/2}}),Ae}function O(Ae,Oe,ze,Ee){var be=5,Ce=(0,p.VV)(Ae.links,function(Ie){return Ie.source.y0});Ae.links.forEach(function(Ie){Ie.circular&&(Ie.circularPathData={})});var Ue=Ae.links.filter(function(Ie){return Ie.circularLinkType=="top"});U(Ue,Oe,Ee);var He=Ae.links.filter(function(Ie){return Ie.circularLinkType=="bottom"});U(He,Oe,Ee),Ae.links.forEach(function(Ie){if(Ie.circular){if(Ie.circularPathData.arcRadius=Ie.width+b,Ie.circularPathData.leftNodeBuffer=be,Ie.circularPathData.rightNodeBuffer=be,Ie.circularPathData.sourceWidth=Ie.source.x1-Ie.source.x0,Ie.circularPathData.sourceX=Ie.source.x0+Ie.circularPathData.sourceWidth,Ie.circularPathData.targetX=Ie.target.x0,Ie.circularPathData.sourceY=Ie.y0,Ie.circularPathData.targetY=Ie.y1,xe(Ie,Ee)&&N(Ie))Ie.circularPathData.leftSmallArcRadius=b+Ie.width/2,Ie.circularPathData.leftLargeArcRadius=b+Ie.width/2,Ie.circularPathData.rightSmallArcRadius=b+Ie.width/2,Ie.circularPathData.rightLargeArcRadius=b+Ie.width/2,Ie.circularLinkType=="bottom"?(Ie.circularPathData.verticalFullExtent=Ie.source.y1+E+Ie.circularPathData.verticalBuffer,Ie.circularPathData.verticalLeftInnerExtent=Ie.circularPathData.verticalFullExtent-Ie.circularPathData.leftLargeArcRadius,Ie.circularPathData.verticalRightInnerExtent=Ie.circularPathData.verticalFullExtent-Ie.circularPathData.rightLargeArcRadius):(Ie.circularPathData.verticalFullExtent=Ie.source.y0-E-Ie.circularPathData.verticalBuffer,Ie.circularPathData.verticalLeftInnerExtent=Ie.circularPathData.verticalFullExtent+Ie.circularPathData.leftLargeArcRadius,Ie.circularPathData.verticalRightInnerExtent=Ie.circularPathData.verticalFullExtent+Ie.circularPathData.rightLargeArcRadius);else{var Ge=Ie.source.column,at=Ie.circularLinkType,lt=Ae.links.filter(function(ft){return ft.source.column==Ge&&ft.circularLinkType==at});Ie.circularLinkType=="bottom"?lt.sort(ne):lt.sort(q);var qe=0;lt.forEach(function(ft,dt){ft.circularLinkID==Ie.circularLinkID&&(Ie.circularPathData.leftSmallArcRadius=b+Ie.width/2+qe,Ie.circularPathData.leftLargeArcRadius=b+Ie.width/2+dt*Oe+qe),qe=qe+ft.width}),Ge=Ie.target.column,lt=Ae.links.filter(function(ft){return ft.target.column==Ge&&ft.circularLinkType==at}),Ie.circularLinkType=="bottom"?lt.sort(he):lt.sort(oe),qe=0,lt.forEach(function(ft,dt){ft.circularLinkID==Ie.circularLinkID&&(Ie.circularPathData.rightSmallArcRadius=b+Ie.width/2+qe,Ie.circularPathData.rightLargeArcRadius=b+Ie.width/2+dt*Oe+qe),qe=qe+ft.width}),Ie.circularLinkType=="bottom"?(Ie.circularPathData.verticalFullExtent=Math.max(ze,Ie.source.y1,Ie.target.y1)+E+Ie.circularPathData.verticalBuffer,Ie.circularPathData.verticalLeftInnerExtent=Ie.circularPathData.verticalFullExtent-Ie.circularPathData.leftLargeArcRadius,Ie.circularPathData.verticalRightInnerExtent=Ie.circularPathData.verticalFullExtent-Ie.circularPathData.rightLargeArcRadius):(Ie.circularPathData.verticalFullExtent=Ce-E-Ie.circularPathData.verticalBuffer,Ie.circularPathData.verticalLeftInnerExtent=Ie.circularPathData.verticalFullExtent+Ie.circularPathData.leftLargeArcRadius,Ie.circularPathData.verticalRightInnerExtent=Ie.circularPathData.verticalFullExtent+Ie.circularPathData.rightLargeArcRadius)}Ie.circularPathData.leftInnerExtent=Ie.circularPathData.sourceX+Ie.circularPathData.leftNodeBuffer,Ie.circularPathData.rightInnerExtent=Ie.circularPathData.targetX-Ie.circularPathData.rightNodeBuffer,Ie.circularPathData.leftFullExtent=Ie.circularPathData.sourceX+Ie.circularPathData.leftLargeArcRadius+Ie.circularPathData.leftNodeBuffer,Ie.circularPathData.rightFullExtent=Ie.circularPathData.targetX-Ie.circularPathData.rightLargeArcRadius-Ie.circularPathData.rightNodeBuffer}if(Ie.circular)Ie.path=H(Ie);else{var et=(0,n.h5)().source(function(ft){var dt=ft.source.x0+(ft.source.x1-ft.source.x0),pt=ft.y0;return[dt,pt]}).target(function(ft){var dt=ft.target.x0,pt=ft.y1;return[dt,pt]});Ie.path=et(Ie)}})}function H(Ae){var Oe="";return Ae.circularLinkType=="top"?Oe="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 0 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY-Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 0 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 0 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY-Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 0 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY:Oe="M"+Ae.circularPathData.sourceX+" "+Ae.circularPathData.sourceY+" L"+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.sourceY+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftSmallArcRadius+" 0 0 1 "+Ae.circularPathData.leftFullExtent+" "+(Ae.circularPathData.sourceY+Ae.circularPathData.leftSmallArcRadius)+" L"+Ae.circularPathData.leftFullExtent+" "+Ae.circularPathData.verticalLeftInnerExtent+" A"+Ae.circularPathData.leftLargeArcRadius+" "+Ae.circularPathData.leftLargeArcRadius+" 0 0 1 "+Ae.circularPathData.leftInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" L"+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.verticalFullExtent+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightLargeArcRadius+" 0 0 1 "+Ae.circularPathData.rightFullExtent+" "+Ae.circularPathData.verticalRightInnerExtent+" L"+Ae.circularPathData.rightFullExtent+" "+(Ae.circularPathData.targetY+Ae.circularPathData.rightSmallArcRadius)+" A"+Ae.circularPathData.rightLargeArcRadius+" "+Ae.circularPathData.rightSmallArcRadius+" 0 0 1 "+Ae.circularPathData.rightInnerExtent+" "+Ae.circularPathData.targetY+" L"+Ae.circularPathData.targetX+" "+Ae.circularPathData.targetY,Oe}function Y(Ae,Oe){return J(Ae)==J(Oe)?Ae.circularLinkType=="bottom"?ne(Ae,Oe):q(Ae,Oe):J(Oe)-J(Ae)}function q(Ae,Oe){return Ae.y0-Oe.y0}function ne(Ae,Oe){return Oe.y0-Ae.y0}function oe(Ae,Oe){return Ae.y1-Oe.y1}function he(Ae,Oe){return Oe.y1-Ae.y1}function J(Ae){return Ae.target.column-Ae.source.column}function Z(Ae){return Ae.target.x0-Ae.source.x1}function se(Ae,Oe){var ze=_(Ae),Ee=Z(Oe)/Math.tan(ze),be=ce(Ae)=="up"?Ae.y1+Ee:Ae.y1-Ee;return be}function $(Ae,Oe){var ze=_(Ae),Ee=Z(Oe)/Math.tan(ze),be=ce(Ae)=="up"?Ae.y1-Ee:Ae.y1+Ee;return be}function ee(Ae,Oe,ze,Ee){Ae.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var Ce=be.source.column+1,Ue=be.target.column-1,He=1,Ie=Ue-Ce+1;for(He=1;Ce<=Ue;Ce++,He++)Ae.nodes.forEach(function(Ge){if(Ge.column==Ce){var at=He/(Ie+1),lt=Math.pow(1-at,3),qe=3*at*Math.pow(1-at,2),et=3*Math.pow(at,2)*(1-at),ft=Math.pow(at,3),dt=lt*be.y0+qe*be.y0+et*be.y1+ft*be.y1,pt=dt-be.width/2,At=dt+be.width/2,Pt;pt>Ge.y0&&pt<Ge.y1?(Pt=Ge.y1-pt+10,Pt=Ge.circularLinkType=="bottom"?Pt:-Pt,Ge=Q(Ge,Pt,Oe,ze),Ae.nodes.forEach(function(Ht){w(Ht,Ee)==w(Ge,Ee)||Ht.column!=Ge.column||le(Ge,Ht)&&Q(Ht,Pt,Oe,ze)})):At>Ge.y0&&At<Ge.y1?(Pt=At-Ge.y0+10,Ge=Q(Ge,Pt,Oe,ze),Ae.nodes.forEach(function(Ht){w(Ht,Ee)==w(Ge,Ee)||Ht.column!=Ge.column||Ht.y0<Ge.y1&&Ht.y1>Ge.y1&&Q(Ht,Pt,Oe,ze)})):pt<Ge.y0&&At>Ge.y1&&(Pt=At-Ge.y0+10,Ge=Q(Ge,Pt,Oe,ze),Ae.nodes.forEach(function(Ht){w(Ht,Ee)==w(Ge,Ee)||Ht.column!=Ge.column||Ht.y0<Ge.y1&&Ht.y1>Ge.y1&&Q(Ht,Pt,Oe,ze)}))}})}})}function le(Ae,Oe){return Ae.y0>Oe.y0&&Ae.y0<Oe.y1||Ae.y1>Oe.y0&&Ae.y1<Oe.y1?!0:Ae.y0<Oe.y0&&Ae.y1>Oe.y1}function Q(Ae,Oe,ze,Ee){return Ae.y0+Oe>=ze&&Ae.y1+Oe<=Ee&&(Ae.y0=Ae.y0+Oe,Ae.y1=Ae.y1+Oe,Ae.targetLinks.forEach(function(be){be.y1=be.y1+Oe}),Ae.sourceLinks.forEach(function(be){be.y0=be.y0+Oe})),Ae}function K(Ae,Oe,ze,Ee){Ae.nodes.forEach(function(be){Ee&&be.y+(be.y1-be.y0)>Oe&&(be.y=be.y-(be.y+(be.y1-be.y0)-Oe));var Ce=Ae.links.filter(function(Ie){return w(Ie.source,ze)==w(be,ze)}),Ue=Ce.length;Ue>1&&Ce.sort(function(Ie,Ge){if(!Ie.circular&&!Ge.circular){if(Ie.target.column==Ge.target.column)return Ie.y1-Ge.y1;if(ie(Ie,Ge)){if(Ie.target.column>Ge.target.column){var at=$(Ge,Ie);return Ie.y1-at}if(Ge.target.column>Ie.target.column){var lt=$(Ie,Ge);return lt-Ge.y1}}else return Ie.y1-Ge.y1}if(Ie.circular&&!Ge.circular)return Ie.circularLinkType=="top"?-1:1;if(Ge.circular&&!Ie.circular)return Ge.circularLinkType=="top"?1:-1;if(Ie.circular&&Ge.circular)return Ie.circularLinkType===Ge.circularLinkType&&Ie.circularLinkType=="top"?Ie.target.column===Ge.target.column?Ie.target.y1-Ge.target.y1:Ge.target.column-Ie.target.column:Ie.circularLinkType===Ge.circularLinkType&&Ie.circularLinkType=="bottom"?Ie.target.column===Ge.target.column?Ge.target.y1-Ie.target.y1:Ie.target.column-Ge.target.column:Ie.circularLinkType=="top"?-1:1});var He=be.y0;Ce.forEach(function(Ie){Ie.y0=He+Ie.width/2,He=He+Ie.width}),Ce.forEach(function(Ie,Ge){if(Ie.circularLinkType=="bottom"){var at=Ge+1,lt=0;for(at;at<Ue;at++)lt=lt+Ce[at].width;Ie.y0=be.y1-lt-Ie.width/2}})})}function ue(Ae,Oe,ze){Ae.nodes.forEach(function(Ee){var be=Ae.links.filter(function(He){return w(He.target,ze)==w(Ee,ze)}),Ce=be.length;Ce>1&&be.sort(function(He,Ie){if(!He.circular&&!Ie.circular){if(He.source.column==Ie.source.column)return He.y0-Ie.y0;if(ie(He,Ie)){if(Ie.source.column<He.source.column){var Ge=se(Ie,He);return He.y0-Ge}if(He.source.column<Ie.source.column){var at=se(He,Ie);return at-Ie.y0}}else return He.y0-Ie.y0}if(He.circular&&!Ie.circular)return He.circularLinkType=="top"?-1:1;if(Ie.circular&&!He.circular)return Ie.circularLinkType=="top"?1:-1;if(He.circular&&Ie.circular)return He.circularLinkType===Ie.circularLinkType&&He.circularLinkType=="top"?He.source.column===Ie.source.column?He.source.y1-Ie.source.y1:He.source.column-Ie.source.column:He.circularLinkType===Ie.circularLinkType&&He.circularLinkType=="bottom"?He.source.column===Ie.source.column?He.source.y1-Ie.source.y1:Ie.source.column-He.source.column:He.circularLinkType=="top"?-1:1});var Ue=Ee.y0;be.forEach(function(He){He.y1=Ue+He.width/2,Ue=Ue+He.width}),be.forEach(function(He,Ie){if(He.circularLinkType=="bottom"){var Ge=Ie+1,at=0;for(Ge;Ge<Ce;Ge++)at=at+be[Ge].width;He.y1=Ee.y1-at-He.width/2}})})}function ie(Ae,Oe){return ce(Ae)==ce(Oe)}function ce(Ae){return Ae.y0-Ae.y1>0?"up":"down"}function xe(Ae,Oe){return w(Ae.source,Oe)==w(Ae.target,Oe)}function Le(Ae,Oe,ze){var Ee=Ae.nodes,be=Ae.links,Ce=!1,Ue=!1;if(be.forEach(function(qe){qe.circularLinkType=="top"?Ce=!0:qe.circularLinkType=="bottom"&&(Ue=!0)}),Ce==!1||Ue==!1){var He=(0,p.VV)(Ee,function(qe){return qe.y0}),Ie=(0,p.Fp)(Ee,function(qe){return qe.y1}),Ge=Ie-He,at=ze-Oe,lt=at/Ge;Ee.forEach(function(qe){var et=(qe.y1-qe.y0)*lt;qe.y0=(qe.y0-He)*lt,qe.y1=qe.y0+et}),be.forEach(function(qe){qe.y0=(qe.y0-He)*lt,qe.y1=(qe.y1-He)*lt,qe.width=qe.width*lt})}}},30838:function(V,B,e){e.r(B),e.d(B,{sankey:function(){return g},sankeyCenter:function(){return y},sankeyJustify:function(){return d},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return w},sankeyRight:function(){return T}});var p=e(33064),L=e(15140);function n(E){return E.target.depth}function C(E){return E.depth}function T(E,b){return b-1-E.height}function d(E,b){return E.sourceLinks.length?E.depth:b-1}function y(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,p.VV)(E.sourceLinks,n)-1:0}function r(E){return function(){return E}}function t(E,b){return a(E.source,b.source)||E.index-b.index}function i(E,b){return a(E.target,b.target)||E.index-b.index}function a(E,b){return E.y0-b.y0}function h(E){return E.value}function u(E){return(E.y0+E.y1)/2}function s(E){return u(E.source)*E.value}function m(E){return u(E.target)*E.value}function f(E){return E.index}function S(E){return E.nodes}function v(E){return E.links}function l(E,b){var o=E.get(b);if(!o)throw new Error("missing: "+b);return o}function g(){var E=0,b=0,o=1,P=1,x=24,z=8,_=f,G=d,F=S,N=v,U=32,O=2/3;function H(){var J={nodes:F.apply(null,arguments),links:N.apply(null,arguments)};return Y(J),q(J),ne(J),oe(J),he(J),J}H.update=function(J){return he(J),J},H.nodeId=function(J){return arguments.length?(_=typeof J=="function"?J:r(J),H):_},H.nodeAlign=function(J){return arguments.length?(G=typeof J=="function"?J:r(J),H):G},H.nodeWidth=function(J){return arguments.length?(x=+J,H):x},H.nodePadding=function(J){return arguments.length?(z=+J,H):z},H.nodes=function(J){return arguments.length?(F=typeof J=="function"?J:r(J),H):F},H.links=function(J){return arguments.length?(N=typeof J=="function"?J:r(J),H):N},H.size=function(J){return arguments.length?(E=b=0,o=+J[0],P=+J[1],H):[o-E,P-b]},H.extent=function(J){return arguments.length?(E=+J[0][0],o=+J[1][0],b=+J[0][1],P=+J[1][1],H):[[E,b],[o,P]]},H.iterations=function(J){return arguments.length?(U=+J,H):U};function Y(J){J.nodes.forEach(function(se,$){se.index=$,se.sourceLinks=[],se.targetLinks=[]});var Z=(0,L.UI)(J.nodes,_);J.links.forEach(function(se,$){se.index=$;var ee=se.source,le=se.target;typeof ee!="object"&&(ee=se.source=l(Z,ee)),typeof le!="object"&&(le=se.target=l(Z,le)),ee.sourceLinks.push(se),le.targetLinks.push(se)})}function q(J){J.nodes.forEach(function(Z){Z.value=Math.max((0,p.Sm)(Z.sourceLinks,h),(0,p.Sm)(Z.targetLinks,h))})}function ne(J){var Z,se,$;for(Z=J.nodes,se=[],$=0;Z.length;++$,Z=se,se=[])Z.forEach(function(le){le.depth=$,le.sourceLinks.forEach(function(Q){se.indexOf(Q.target)<0&&se.push(Q.target)})});for(Z=J.nodes,se=[],$=0;Z.length;++$,Z=se,se=[])Z.forEach(function(le){le.height=$,le.targetLinks.forEach(function(Q){se.indexOf(Q.source)<0&&se.push(Q.source)})});var ee=(o-E-x)/($-1);J.nodes.forEach(function(le){le.x1=(le.x0=E+Math.max(0,Math.min($-1,Math.floor(G.call(null,le,$))))*ee)+x})}function oe(J){var Z=(0,L.b1)().key(function(ue){return ue.x0}).sortKeys(p.j2).entries(J.nodes).map(function(ue){return ue.values});ee(),K();for(var se=1,$=U;$>0;--$)Q(se*=.99),K(),le(se),K();function ee(){var ue=(0,p.Fp)(Z,function(xe){return xe.length}),ie=O*(P-b)/(ue-1);z>ie&&(z=ie);var ce=(0,p.VV)(Z,function(xe){return(P-b-(xe.length-1)*z)/(0,p.Sm)(xe,h)});Z.forEach(function(xe){xe.forEach(function(Le,Ae){Le.y1=(Le.y0=Ae)+Le.value*ce})}),J.links.forEach(function(xe){xe.width=xe.value*ce})}function le(ue){Z.forEach(function(ie){ie.forEach(function(ce){if(ce.targetLinks.length){var xe=((0,p.Sm)(ce.targetLinks,s)/(0,p.Sm)(ce.targetLinks,h)-u(ce))*ue;ce.y0+=xe,ce.y1+=xe}})})}function Q(ue){Z.slice().reverse().forEach(function(ie){ie.forEach(function(ce){if(ce.sourceLinks.length){var xe=((0,p.Sm)(ce.sourceLinks,m)/(0,p.Sm)(ce.sourceLinks,h)-u(ce))*ue;ce.y0+=xe,ce.y1+=xe}})})}function K(){Z.forEach(function(ue){var ie,ce,xe=b,Le=ue.length,Ae;for(ue.sort(a),Ae=0;Ae<Le;++Ae)ie=ue[Ae],ce=xe-ie.y0,ce>0&&(ie.y0+=ce,ie.y1+=ce),xe=ie.y1+z;if(ce=xe-z-P,ce>0)for(xe=ie.y0-=ce,ie.y1-=ce,Ae=Le-2;Ae>=0;--Ae)ie=ue[Ae],ce=ie.y1+z-xe,ce>0&&(ie.y0-=ce,ie.y1-=ce),xe=ie.y0})}}function he(J){J.nodes.forEach(function(Z){Z.sourceLinks.sort(i),Z.targetLinks.sort(t)}),J.nodes.forEach(function(Z){var se=Z.y0,$=se;Z.sourceLinks.forEach(function(ee){ee.y0=se+ee.width/2,se+=ee.width}),Z.targetLinks.forEach(function(ee){ee.y1=$+ee.width/2,$+=ee.width})})}return H}var M=e(45879);function A(E){return[E.source.x1,E.y0]}function k(E){return[E.target.x0,E.y1]}function w(){return(0,M.h5)().source(A).target(k)}},39898:function(V,B,e){var p,L;(function(){var n={version:"3.8.0"},C=[].slice,T=function(fe){return C.call(fe)},d=self.document;function y(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function r(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(d)try{T(d.documentElement.childNodes)[0].nodeType}catch{T=function(Pe){for(var Be=Pe.length,Qe=new Array(Be);Be--;)Qe[Be]=Pe[Be];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var t=this.Element.prototype,i=t.setAttribute,a=t.setAttributeNS,h=this.CSSStyleDeclaration.prototype,u=h.setProperty;t.setAttribute=function(Pe,Be){i.call(this,Pe,Be+"")},t.setAttributeNS=function(Pe,Be,Qe){a.call(this,Pe,Be,Qe+"")},h.setProperty=function(Pe,Be,Qe){u.call(this,Pe,Be+"",Qe)}}n.ascending=s;function s(fe,Pe){return fe<Pe?-1:fe>Pe?1:fe>=Pe?0:NaN}n.descending=function(fe,Pe){return Pe<fe?-1:Pe>fe?1:Pe>=fe?0:NaN},n.min=function(fe,Pe){var Be=-1,Qe=fe.length,rt,st;if(arguments.length===1){for(;++Be<Qe;)if((st=fe[Be])!=null&&st>=st){rt=st;break}for(;++Be<Qe;)(st=fe[Be])!=null&&rt>st&&(rt=st)}else{for(;++Be<Qe;)if((st=Pe.call(fe,fe[Be],Be))!=null&&st>=st){rt=st;break}for(;++Be<Qe;)(st=Pe.call(fe,fe[Be],Be))!=null&&rt>st&&(rt=st)}return rt},n.max=function(fe,Pe){var Be=-1,Qe=fe.length,rt,st;if(arguments.length===1){for(;++Be<Qe;)if((st=fe[Be])!=null&&st>=st){rt=st;break}for(;++Be<Qe;)(st=fe[Be])!=null&&st>rt&&(rt=st)}else{for(;++Be<Qe;)if((st=Pe.call(fe,fe[Be],Be))!=null&&st>=st){rt=st;break}for(;++Be<Qe;)(st=Pe.call(fe,fe[Be],Be))!=null&&st>rt&&(rt=st)}return rt},n.extent=function(fe,Pe){var Be=-1,Qe=fe.length,rt,st,Et;if(arguments.length===1){for(;++Be<Qe;)if((st=fe[Be])!=null&&st>=st){rt=Et=st;break}for(;++Be<Qe;)(st=fe[Be])!=null&&(rt>st&&(rt=st),Et<st&&(Et=st))}else{for(;++Be<Qe;)if((st=Pe.call(fe,fe[Be],Be))!=null&&st>=st){rt=Et=st;break}for(;++Be<Qe;)(st=Pe.call(fe,fe[Be],Be))!=null&&(rt>st&&(rt=st),Et<st&&(Et=st))}return[rt,Et]};function m(fe){return fe===null?NaN:+fe}function f(fe){return!isNaN(fe)}n.sum=function(fe,Pe){var Be=0,Qe=fe.length,rt,st=-1;if(arguments.length===1)for(;++st<Qe;)f(rt=+fe[st])&&(Be+=rt);else for(;++st<Qe;)f(rt=+Pe.call(fe,fe[st],st))&&(Be+=rt);return Be},n.mean=function(fe,Pe){var Be=0,Qe=fe.length,rt,st=-1,Et=Qe;if(arguments.length===1)for(;++st<Qe;)f(rt=m(fe[st]))?Be+=rt:--Et;else for(;++st<Qe;)f(rt=m(Pe.call(fe,fe[st],st)))?Be+=rt:--Et;if(Et)return Be/Et},n.quantile=function(fe,Pe){var Be=(fe.length-1)*Pe+1,Qe=Math.floor(Be),rt=+fe[Qe-1],st=Be-Qe;return st?rt+st*(fe[Qe]-rt):rt},n.median=function(fe,Pe){var Be=[],Qe=fe.length,rt,st=-1;if(arguments.length===1)for(;++st<Qe;)f(rt=m(fe[st]))&&Be.push(rt);else for(;++st<Qe;)f(rt=m(Pe.call(fe,fe[st],st)))&&Be.push(rt);if(Be.length)return n.quantile(Be.sort(s),.5)},n.variance=function(fe,Pe){var Be=fe.length,Qe=0,rt,st,Et=0,bt=-1,Vt=0;if(arguments.length===1)for(;++bt<Be;)f(rt=m(fe[bt]))&&(st=rt-Qe,Qe+=st/++Vt,Et+=st*(rt-Qe));else for(;++bt<Be;)f(rt=m(Pe.call(fe,fe[bt],bt)))&&(st=rt-Qe,Qe+=st/++Vt,Et+=st*(rt-Qe));if(Vt>1)return Et/(Vt-1)},n.deviation=function(){var fe=n.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function S(fe){return{left:function(Pe,Be,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Pe.length);Qe<rt;){var st=Qe+rt>>>1;fe(Pe[st],Be)<0?Qe=st+1:rt=st}return Qe},right:function(Pe,Be,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Pe.length);Qe<rt;){var st=Qe+rt>>>1;fe(Pe[st],Be)>0?rt=st:Qe=st+1}return Qe}}}var v=S(s);n.bisectLeft=v.left,n.bisect=n.bisectRight=v.right,n.bisector=function(fe){return S(fe.length===1?function(Pe,Be){return s(fe(Pe),Be)}:fe)},n.shuffle=function(fe,Pe,Be){(Qe=arguments.length)<3&&(Be=fe.length,Qe<2&&(Pe=0));for(var Qe=Be-Pe,rt,st;Qe;)st=Math.random()*Qe--|0,rt=fe[Qe+Pe],fe[Qe+Pe]=fe[st+Pe],fe[st+Pe]=rt;return fe},n.permute=function(fe,Pe){for(var Be=Pe.length,Qe=new Array(Be);Be--;)Qe[Be]=fe[Pe[Be]];return Qe},n.pairs=function(fe){for(var Pe=0,Be=fe.length-1,Qe=fe[0],rt=new Array(Be<0?0:Be);Pe<Be;)rt[Pe]=[Qe,Qe=fe[++Pe]];return rt},n.transpose=function(fe){if(!(st=fe.length))return[];for(var Pe=-1,Be=n.min(fe,l),Qe=new Array(Be);++Pe<Be;)for(var rt=-1,st,Et=Qe[Pe]=new Array(st);++rt<st;)Et[rt]=fe[rt][Pe];return Qe};function l(fe){return fe.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(fe){var Pe=[];for(var Be in fe)Pe.push(Be);return Pe},n.values=function(fe){var Pe=[];for(var Be in fe)Pe.push(fe[Be]);return Pe},n.entries=function(fe){var Pe=[];for(var Be in fe)Pe.push({key:Be,value:fe[Be]});return Pe},n.merge=function(fe){for(var Pe=fe.length,Be,Qe=-1,rt=0,st,Et;++Qe<Pe;)rt+=fe[Qe].length;for(st=new Array(rt);--Pe>=0;)for(Et=fe[Pe],Be=Et.length;--Be>=0;)st[--rt]=Et[Be];return st};var g=Math.abs;n.range=function(fe,Pe,Be){if(arguments.length<3&&(Be=1,arguments.length<2&&(Pe=fe,fe=0)),(Pe-fe)/Be===1/0)throw new Error("infinite range");var Qe=[],rt=M(g(Be)),st=-1,Et;if(fe*=rt,Pe*=rt,Be*=rt,Be<0)for(;(Et=fe+Be*++st)>Pe;)Qe.push(Et/rt);else for(;(Et=fe+Be*++st)<Pe;)Qe.push(Et/rt);return Qe};function M(fe){for(var Pe=1;fe*Pe%1;)Pe*=10;return Pe}function A(fe,Pe){for(var Be in Pe)Object.defineProperty(fe.prototype,Be,{value:Pe[Be],enumerable:!1})}n.map=function(fe,Pe){var Be=new k;if(fe instanceof k)fe.forEach(function(bt,Vt){Be.set(bt,Vt)});else if(Array.isArray(fe)){var Qe=-1,rt=fe.length,st;if(arguments.length===1)for(;++Qe<rt;)Be.set(Qe,fe[Qe]);else for(;++Qe<rt;)Be.set(Pe.call(fe,st=fe[Qe],Qe),st)}else for(var Et in fe)Be.set(Et,fe[Et]);return Be};function k(){this._=Object.create(null)}var w="__proto__",E="\0";A(k,{has:P,get:function(fe){return this._[b(fe)]},set:function(fe,Pe){return this._[b(fe)]=Pe},remove:x,keys:z,values:function(){var fe=[];for(var Pe in this._)fe.push(this._[Pe]);return fe},entries:function(){var fe=[];for(var Pe in this._)fe.push({key:o(Pe),value:this._[Pe]});return fe},size:_,empty:G,forEach:function(fe){for(var Pe in this._)fe.call(this,o(Pe),this._[Pe])}});function b(fe){return(fe+="")===w||fe[0]===E?E+fe:fe}function o(fe){return(fe+="")[0]===E?fe.slice(1):fe}function P(fe){return b(fe)in this._}function x(fe){return(fe=b(fe))in this._&&delete this._[fe]}function z(){var fe=[];for(var Pe in this._)fe.push(o(Pe));return fe}function _(){var fe=0;for(var Pe in this._)++fe;return fe}function G(){for(var fe in this._)return!1;return!0}n.nest=function(){var fe={},Pe=[],Be=[],Qe,rt;function st(bt,Vt,Gt){if(Gt>=Pe.length)return rt?rt.call(fe,Vt):Qe?Vt.sort(Qe):Vt;for(var nr=-1,Rr=Vt.length,kr=Pe[Gt++],qr,ln,Ir,Hr=new k,Kr;++nr<Rr;)(Kr=Hr.get(qr=kr(ln=Vt[nr])))?Kr.push(ln):Hr.set(qr,[ln]);return bt?(ln=bt(),Ir=function(cn,dn){ln.set(cn,st(bt,dn,Gt))}):(ln={},Ir=function(cn,dn){ln[cn]=st(bt,dn,Gt)}),Hr.forEach(Ir),ln}function Et(bt,Vt){if(Vt>=Pe.length)return bt;var Gt=[],nr=Be[Vt++];return bt.forEach(function(Rr,kr){Gt.push({key:Rr,values:Et(kr,Vt)})}),nr?Gt.sort(function(Rr,kr){return nr(Rr.key,kr.key)}):Gt}return fe.map=function(bt,Vt){return st(Vt,bt,0)},fe.entries=function(bt){return Et(st(n.map,bt,0),0)},fe.key=function(bt){return Pe.push(bt),fe},fe.sortKeys=function(bt){return Be[Pe.length-1]=bt,fe},fe.sortValues=function(bt){return Qe=bt,fe},fe.rollup=function(bt){return rt=bt,fe},fe},n.set=function(fe){var Pe=new F;if(fe)for(var Be=0,Qe=fe.length;Be<Qe;++Be)Pe.add(fe[Be]);return Pe};function F(){this._=Object.create(null)}A(F,{has:P,add:function(fe){return this._[b(fe+="")]=!0,fe},remove:x,values:z,size:_,empty:G,forEach:function(fe){for(var Pe in this._)fe.call(this,o(Pe))}}),n.behavior={};function N(fe){return fe}n.rebind=function(fe,Pe){for(var Be=1,Qe=arguments.length,rt;++Be<Qe;)fe[rt=arguments[Be]]=U(fe,Pe,Pe[rt]);return fe};function U(fe,Pe,Be){return function(){var Qe=Be.apply(Pe,arguments);return Qe===Pe?fe:Qe}}function O(fe,Pe){if(Pe in fe)return Pe;Pe=Pe.charAt(0).toUpperCase()+Pe.slice(1);for(var Be=0,Qe=H.length;Be<Qe;++Be){var rt=H[Be]+Pe;if(rt in fe)return rt}}var H=["webkit","ms","moz","Moz","o","O"];function Y(){}n.dispatch=function(){for(var fe=new q,Pe=-1,Be=arguments.length;++Pe<Be;)fe[arguments[Pe]]=ne(fe);return fe};function q(){}q.prototype.on=function(fe,Pe){var Be=fe.indexOf("."),Qe="";if(Be>=0&&(Qe=fe.slice(Be+1),fe=fe.slice(0,Be)),fe)return arguments.length<2?this[fe].on(Qe):this[fe].on(Qe,Pe);if(arguments.length===2){if(Pe==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(Qe,null);return this}};function ne(fe){var Pe=[],Be=new k;function Qe(){for(var rt=Pe,st=-1,Et=rt.length,bt;++st<Et;)(bt=rt[st].on)&&bt.apply(this,arguments);return fe}return Qe.on=function(rt,st){var Et=Be.get(rt),bt;return arguments.length<2?Et&&Et.on:(Et&&(Et.on=null,Pe=Pe.slice(0,bt=Pe.indexOf(Et)).concat(Pe.slice(bt+1)),Be.remove(rt)),st&&Pe.push(Be.set(rt,{on:st})),fe)},Qe}n.event=null;function oe(){n.event.preventDefault()}function he(){for(var fe=n.event,Pe;Pe=fe.sourceEvent;)fe=Pe;return fe}function J(fe){for(var Pe=new q,Be=0,Qe=arguments.length;++Be<Qe;)Pe[arguments[Be]]=ne(Pe);return Pe.of=function(rt,st){return function(Et){try{var bt=Et.sourceEvent=n.event;Et.target=fe,n.event=Et,Pe[Et.type].apply(rt,st)}finally{n.event=bt}}},Pe}n.requote=function(fe){return fe.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,se={}.__proto__?function(fe,Pe){fe.__proto__=Pe}:function(fe,Pe){for(var Be in Pe)fe[Be]=Pe[Be]};function $(fe){return se(fe,K),fe}var ee=function(fe,Pe){return Pe.querySelector(fe)},le=function(fe,Pe){return Pe.querySelectorAll(fe)},Q=function(fe,Pe){var Be=fe.matches||fe[O(fe,"matchesSelector")];return Q=function(Qe,rt){return Be.call(Qe,rt)},Q(fe,Pe)};typeof Sizzle=="function"&&(ee=function(fe,Pe){return Sizzle(fe,Pe)[0]||null},le=Sizzle,Q=Sizzle.matchesSelector),n.selection=function(){return n.select(d.documentElement)};var K=n.selection.prototype=[];K.select=function(fe){var Pe=[],Be,Qe,rt,st;fe=ue(fe);for(var Et=-1,bt=this.length;++Et<bt;){Pe.push(Be=[]),Be.parentNode=(rt=this[Et]).parentNode;for(var Vt=-1,Gt=rt.length;++Vt<Gt;)(st=rt[Vt])?(Be.push(Qe=fe.call(st,st.__data__,Vt,Et)),Qe&&"__data__"in st&&(Qe.__data__=st.__data__)):Be.push(null)}return $(Pe)};function ue(fe){return typeof fe=="function"?fe:function(){return ee(fe,this)}}K.selectAll=function(fe){var Pe=[],Be,Qe;fe=ie(fe);for(var rt=-1,st=this.length;++rt<st;)for(var Et=this[rt],bt=-1,Vt=Et.length;++bt<Vt;)(Qe=Et[bt])&&(Pe.push(Be=T(fe.call(Qe,Qe.__data__,bt,rt))),Be.parentNode=Qe);return $(Pe)};function ie(fe){return typeof fe=="function"?fe:function(){return le(fe,this)}}var ce="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:xe,qualify:function(fe){var Pe=fe.indexOf(":"),Be=fe;return Pe>=0&&(Be=fe.slice(0,Pe))!=="xmlns"&&(fe=fe.slice(Pe+1)),xe.hasOwnProperty(Be)?{space:xe[Be],local:fe}:fe}},K.attr=function(fe,Pe){if(arguments.length<2){if(typeof fe=="string"){var Be=this.node();return fe=n.ns.qualify(fe),fe.local?Be.getAttributeNS(fe.space,fe.local):Be.getAttribute(fe)}for(Pe in fe)this.each(Le(Pe,fe[Pe]));return this}return this.each(Le(fe,Pe))};function Le(fe,Pe){fe=n.ns.qualify(fe);function Be(){this.removeAttribute(fe)}function Qe(){this.removeAttributeNS(fe.space,fe.local)}function rt(){this.setAttribute(fe,Pe)}function st(){this.setAttributeNS(fe.space,fe.local,Pe)}function Et(){var Vt=Pe.apply(this,arguments);Vt==null?this.removeAttribute(fe):this.setAttribute(fe,Vt)}function bt(){var Vt=Pe.apply(this,arguments);Vt==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Vt)}return Pe==null?fe.local?Qe:Be:typeof Pe=="function"?fe.local?bt:Et:fe.local?st:rt}function Ae(fe){return fe.trim().replace(/\s+/g," ")}K.classed=function(fe,Pe){if(arguments.length<2){if(typeof fe=="string"){var Be=this.node(),Qe=(fe=ze(fe)).length,rt=-1;if(Pe=Be.classList){for(;++rt<Qe;)if(!Pe.contains(fe[rt]))return!1}else for(Pe=Be.getAttribute("class");++rt<Qe;)if(!Oe(fe[rt]).test(Pe))return!1;return!0}for(Pe in fe)this.each(Ee(Pe,fe[Pe]));return this}return this.each(Ee(fe,Pe))};function Oe(fe){return new RegExp("(?:^|\\s+)"+n.requote(fe)+"(?:\\s+|$)","g")}function ze(fe){return(fe+"").trim().split(/^|\s+/)}function Ee(fe,Pe){fe=ze(fe).map(be);var Be=fe.length;function Qe(){for(var st=-1;++st<Be;)fe[st](this,Pe)}function rt(){for(var st=-1,Et=Pe.apply(this,arguments);++st<Be;)fe[st](this,Et)}return typeof Pe=="function"?rt:Qe}function be(fe){var Pe=Oe(fe);return function(Be,Qe){if(rt=Be.classList)return Qe?rt.add(fe):rt.remove(fe);var rt=Be.getAttribute("class")||"";Qe?(Pe.lastIndex=0,Pe.test(rt)||Be.setAttribute("class",Ae(rt+" "+fe))):Be.setAttribute("class",Ae(rt.replace(Pe," ")))}}K.style=function(fe,Pe,Be){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Pe="");for(Be in fe)this.each(Ce(Be,fe[Be],Pe));return this}if(Qe<2){var rt=this.node();return r(rt).getComputedStyle(rt,null).getPropertyValue(fe)}Be=""}return this.each(Ce(fe,Pe,Be))};function Ce(fe,Pe,Be){function Qe(){this.style.removeProperty(fe)}function rt(){this.style.setProperty(fe,Pe,Be)}function st(){var Et=Pe.apply(this,arguments);Et==null?this.style.removeProperty(fe):this.style.setProperty(fe,Et,Be)}return Pe==null?Qe:typeof Pe=="function"?st:rt}K.property=function(fe,Pe){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Pe in fe)this.each(Ue(Pe,fe[Pe]));return this}return this.each(Ue(fe,Pe))};function Ue(fe,Pe){function Be(){delete this[fe]}function Qe(){this[fe]=Pe}function rt(){var st=Pe.apply(this,arguments);st==null?delete this[fe]:this[fe]=st}return Pe==null?Be:typeof Pe=="function"?rt:Qe}K.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Pe=fe.apply(this,arguments);this.textContent=Pe??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},K.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Pe=fe.apply(this,arguments);this.innerHTML=Pe??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},K.append=function(fe){return fe=He(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function He(fe){function Pe(){var Qe=this.ownerDocument,rt=this.namespaceURI;return rt===ce&&Qe.documentElement.namespaceURI===ce?Qe.createElement(fe):Qe.createElementNS(rt,fe)}function Be(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=n.ns.qualify(fe)).local?Be:Pe}K.insert=function(fe,Pe){return fe=He(fe),Pe=ue(Pe),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Pe.apply(this,arguments)||null)})},K.remove=function(){return this.each(Ie)};function Ie(){var fe=this.parentNode;fe&&fe.removeChild(this)}K.data=function(fe,Pe){var Be=-1,Qe=this.length,rt,st;if(!arguments.length){for(fe=new Array(Qe=(rt=this[0]).length);++Be<Qe;)(st=rt[Be])&&(fe[Be]=st.__data__);return fe}function Et(nr,Rr){var kr,qr=nr.length,ln=Rr.length,Ir=Math.min(qr,ln),Hr=new Array(ln),Kr=new Array(ln),cn=new Array(qr),dn,tn;if(Pe){var Hn=new k,oa=new Array(qr),da;for(kr=-1;++kr<qr;)(dn=nr[kr])&&(Hn.has(da=Pe.call(dn,dn.__data__,kr))?cn[kr]=dn:Hn.set(da,dn),oa[kr]=da);for(kr=-1;++kr<ln;)(dn=Hn.get(da=Pe.call(Rr,tn=Rr[kr],kr)))?dn!==!0&&(Hr[kr]=dn,dn.__data__=tn):Kr[kr]=Ge(tn),Hn.set(da,!0);for(kr=-1;++kr<qr;)kr in oa&&Hn.get(oa[kr])!==!0&&(cn[kr]=nr[kr])}else{for(kr=-1;++kr<Ir;)dn=nr[kr],tn=Rr[kr],dn?(dn.__data__=tn,Hr[kr]=dn):Kr[kr]=Ge(tn);for(;kr<ln;++kr)Kr[kr]=Ge(Rr[kr]);for(;kr<qr;++kr)cn[kr]=nr[kr]}Kr.update=Hr,Kr.parentNode=Hr.parentNode=cn.parentNode=nr.parentNode,bt.push(Kr),Vt.push(Hr),Gt.push(cn)}var bt=et([]),Vt=$([]),Gt=$([]);if(typeof fe=="function")for(;++Be<Qe;)Et(rt=this[Be],fe.call(rt,rt.parentNode.__data__,Be));else for(;++Be<Qe;)Et(rt=this[Be],fe);return Vt.enter=function(){return bt},Vt.exit=function(){return Gt},Vt};function Ge(fe){return{__data__:fe}}K.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},K.filter=function(fe){var Pe=[],Be,Qe,rt;typeof fe!="function"&&(fe=at(fe));for(var st=0,Et=this.length;st<Et;st++){Pe.push(Be=[]),Be.parentNode=(Qe=this[st]).parentNode;for(var bt=0,Vt=Qe.length;bt<Vt;bt++)(rt=Qe[bt])&&fe.call(rt,rt.__data__,bt,st)&&Be.push(rt)}return $(Pe)};function at(fe){return function(){return Q(this,fe)}}K.order=function(){for(var fe=-1,Pe=this.length;++fe<Pe;)for(var Be=this[fe],Qe=Be.length-1,rt=Be[Qe],st;--Qe>=0;)(st=Be[Qe])&&(rt&&rt!==st.nextSibling&&rt.parentNode.insertBefore(st,rt),rt=st);return this},K.sort=function(fe){fe=lt.apply(this,arguments);for(var Pe=-1,Be=this.length;++Pe<Be;)this[Pe].sort(fe);return this.order()};function lt(fe){return arguments.length||(fe=s),function(Pe,Be){return Pe&&Be?fe(Pe.__data__,Be.__data__):!Pe-!Be}}K.each=function(fe){return qe(this,function(Pe,Be,Qe){fe.call(Pe,Pe.__data__,Be,Qe)})};function qe(fe,Pe){for(var Be=0,Qe=fe.length;Be<Qe;Be++)for(var rt=fe[Be],st=0,Et=rt.length,bt;st<Et;st++)(bt=rt[st])&&Pe(bt,st,Be);return fe}K.call=function(fe){var Pe=T(arguments);return fe.apply(Pe[0]=this,Pe),this},K.empty=function(){return!this.node()},K.node=function(){for(var fe=0,Pe=this.length;fe<Pe;fe++)for(var Be=this[fe],Qe=0,rt=Be.length;Qe<rt;Qe++){var st=Be[Qe];if(st)return st}return null},K.size=function(){var fe=0;return qe(this,function(){++fe}),fe};function et(fe){return se(fe,ft),fe}var ft=[];n.selection.enter=et,n.selection.enter.prototype=ft,ft.append=K.append,ft.empty=K.empty,ft.node=K.node,ft.call=K.call,ft.size=K.size,ft.select=function(fe){for(var Pe=[],Be,Qe,rt,st,Et,bt=-1,Vt=this.length;++bt<Vt;){rt=(st=this[bt]).update,Pe.push(Be=[]),Be.parentNode=st.parentNode;for(var Gt=-1,nr=st.length;++Gt<nr;)(Et=st[Gt])?(Be.push(rt[Gt]=Qe=fe.call(st.parentNode,Et.__data__,Gt,bt)),Qe.__data__=Et.__data__):Be.push(null)}return $(Pe)},ft.insert=function(fe,Pe){return arguments.length<2&&(Pe=dt(this)),K.insert.call(this,fe,Pe)};function dt(fe){var Pe,Be;return function(Qe,rt,st){var Et=fe[st].update,bt=Et.length,Vt;for(st!=Be&&(Be=st,Pe=0),rt>=Pe&&(Pe=rt+1);!(Vt=Et[Pe])&&++Pe<bt;);return Vt}}n.select=function(fe){var Pe;return typeof fe=="string"?(Pe=[ee(fe,d)],Pe.parentNode=d.documentElement):(Pe=[fe],Pe.parentNode=y(fe)),$([Pe])},n.selectAll=function(fe){var Pe;return typeof fe=="string"?(Pe=T(le(fe,d)),Pe.parentNode=d.documentElement):(Pe=T(fe),Pe.parentNode=null),$([Pe])},K.on=function(fe,Pe,Be){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Pe=!1);for(Be in fe)this.each(pt(Be,fe[Be],Pe));return this}if(Qe<2)return(Qe=this.node()["__on"+fe])&&Qe._;Be=!1}return this.each(pt(fe,Pe,Be))};function pt(fe,Pe,Be){var Qe="__on"+fe,rt=fe.indexOf("."),st=Pt;rt>0&&(fe=fe.slice(0,rt));var Et=At.get(fe);Et&&(fe=Et,st=Ht);function bt(){var nr=this[Qe];nr&&(this.removeEventListener(fe,nr,nr.$),delete this[Qe])}function Vt(){var nr=st(Pe,T(arguments));bt.call(this),this.addEventListener(fe,this[Qe]=nr,nr.$=Be),nr._=Pe}function Gt(){var nr=new RegExp("^__on([^.]+)"+n.requote(fe)+"$"),Rr;for(var kr in this)if(Rr=kr.match(nr)){var qr=this[kr];this.removeEventListener(Rr[1],qr,qr.$),delete this[kr]}}return rt?Pe?Vt:bt:Pe?Y:Gt}var At=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});d&&At.forEach(function(fe){"on"+fe in d&&At.remove(fe)});function Pt(fe,Pe){return function(Be){var Qe=n.event;n.event=Be,Pe[0]=this.__data__;try{fe.apply(this,Pe)}finally{n.event=Qe}}}function Ht(fe,Pe){var Be=Pt(fe,Pe);return function(Qe){var rt=this,st=Qe.relatedTarget;(!st||st!==rt&&!(st.compareDocumentPosition(rt)&8))&&Be.call(rt,Qe)}}var Je,We=0;function _e(fe){var Pe=".dragsuppress-"+ ++We,Be="click"+Pe,Qe=n.select(r(fe)).on("touchmove"+Pe,oe).on("dragstart"+Pe,oe).on("selectstart"+Pe,oe);if(Je==null&&(Je="onselectstart"in fe?!1:O(fe.style,"userSelect")),Je){var rt=y(fe).style,st=rt[Je];rt[Je]="none"}return function(Et){if(Qe.on(Pe,null),Je&&(rt[Je]=st),Et){var bt=function(){Qe.on(Be,null)};Qe.on(Be,function(){oe(),bt()},!0),setTimeout(bt,0)}}}n.mouse=function(fe){return ke(fe,he())};var Ne=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ke(fe,Pe){Pe.changedTouches&&(Pe=Pe.changedTouches[0]);var Be=fe.ownerSVGElement||fe;if(Be.createSVGPoint){var Qe=Be.createSVGPoint();if(Ne<0){var rt=r(fe);if(rt.scrollX||rt.scrollY){Be=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var st=Be[0][0].getScreenCTM();Ne=!(st.f||st.e),Be.remove()}}return Ne?(Qe.x=Pe.pageX,Qe.y=Pe.pageY):(Qe.x=Pe.clientX,Qe.y=Pe.clientY),Qe=Qe.matrixTransform(fe.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Et=fe.getBoundingClientRect();return[Pe.clientX-Et.left-fe.clientLeft,Pe.clientY-Et.top-fe.clientTop]}n.touch=function(fe,Pe,Be){if(arguments.length<3&&(Be=Pe,Pe=he().changedTouches),Pe){for(var Qe=0,rt=Pe.length,st;Qe<rt;++Qe)if((st=Pe[Qe]).identifier===Be)return ke(fe,st)}},n.behavior.drag=function(){var fe=J(rt,"drag","dragstart","dragend"),Pe=null,Be=st(Y,n.mouse,r,"mousemove","mouseup"),Qe=st(we,n.touch,N,"touchmove","touchend");function rt(){this.on("mousedown.drag",Be).on("touchstart.drag",Qe)}function st(Et,bt,Vt,Gt,nr){return function(){var Rr=this,kr=n.event.target.correspondingElement||n.event.target,qr=Rr.parentNode,ln=fe.of(Rr,arguments),Ir=0,Hr=Et(),Kr=".drag"+(Hr==null?"":"-"+Hr),cn,dn=n.select(Vt(kr)).on(Gt+Kr,oa).on(nr+Kr,da),tn=_e(kr),Hn=bt(qr,Hr);Pe?(cn=Pe.apply(Rr,arguments),cn=[cn.x-Hn[0],cn.y-Hn[1]]):cn=[0,0],ln({type:"dragstart"});function oa(){var aa=bt(qr,Hr),fa,pa;aa&&(fa=aa[0]-Hn[0],pa=aa[1]-Hn[1],Ir|=fa|pa,Hn=aa,ln({type:"drag",x:aa[0]+cn[0],y:aa[1]+cn[1],dx:fa,dy:pa}))}function da(){bt(qr,Hr)&&(dn.on(Gt+Kr,null).on(nr+Kr,null),tn(Ir),ln({type:"dragend"}))}}}return rt.origin=function(Et){return arguments.length?(Pe=Et,rt):Pe},n.rebind(rt,fe,"on")};function we(){return n.event.changedTouches[0].identifier}n.touches=function(fe,Pe){return arguments.length<2&&(Pe=he().touches),Pe?T(Pe).map(function(Be){var Qe=ke(fe,Be);return Qe.identifier=Be.identifier,Qe}):[]};var me=1e-6,Me=me*me,Se=Math.PI,Ve=2*Se,Ze=Ve-me,tt=Se/2,ct=Se/180,gt=180/Se;function jt(fe,Pe,Be){return(Pe[0]-fe[0])*(Be[1]-fe[1])-(Pe[1]-fe[1])*(Be[0]-fe[0])}function Kt(fe){return fe>1?tt:fe<-1?-tt:Math.asin(fe)}function Tt(fe){return((fe=Math.exp(fe))-1/fe)/2}function zt(fe){return((fe=Math.exp(fe))+1/fe)/2}function qt(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var Sr=Math.SQRT2,yt=2,Zt=4;n.interpolateZoom=function(fe,Pe){var Be=fe[0],Qe=fe[1],rt=fe[2],st=Pe[0],Et=Pe[1],bt=Pe[2],Vt=st-Be,Gt=Et-Qe,nr=Vt*Vt+Gt*Gt,Rr,kr;if(nr<Me)kr=Math.log(bt/rt)/Sr,Rr=function(cn){return[Be+cn*Vt,Qe+cn*Gt,rt*Math.exp(Sr*cn*kr)]};else{var qr=Math.sqrt(nr),ln=(bt*bt-rt*rt+Zt*nr)/(2*rt*yt*qr),Ir=(bt*bt-rt*rt-Zt*nr)/(2*bt*yt*qr),Hr=Math.log(Math.sqrt(ln*ln+1)-ln),Kr=Math.log(Math.sqrt(Ir*Ir+1)-Ir);kr=(Kr-Hr)/Sr,Rr=function(cn){var dn=cn*kr,tn=zt(Hr),Hn=rt/(yt*qr)*(tn*qt(Sr*dn+Hr)-Tt(Hr));return[Be+Hn*Vt,Qe+Hn*Gt,rt*tn/zt(Sr*dn+Hr)]}}return Rr.duration=kr*1e3,Rr},n.behavior.zoom=function(){var fe={x:0,y:0,k:1},Pe,Be,Qe,rt=[960,500],st=Jt,Et=250,bt=0,Vt="mousedown.zoom",Gt="mousemove.zoom",nr="mouseup.zoom",Rr,kr="touchstart.zoom",qr,ln=J(dn,"zoomstart","zoom","zoomend"),Ir,Hr,Kr,cn;sr||(sr="onwheel"in d?(mr=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(mr=function(){return n.event.wheelDelta},"mousewheel"):(mr=function(){return-n.event.detail},"MozMousePixelScroll"));function dn(na){na.on(Vt,Fa).on(sr+".zoom",Zi).on("dblclick.zoom",vi).on(kr,si)}dn.event=function(na){na.each(function(){var Ha=ln.of(this,arguments),Ma=fe;Fr?n.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},pa(Ha)}).tween("zoom:zoom",function(){var Qa=rt[0],Si=rt[1],li=Be?Be[0]:Qa/2,co=Be?Be[1]:Si/2,ho=n.interpolateZoom([(li-fe.x)/fe.k,(co-fe.y)/fe.k,Qa/fe.k],[(li-Ma.x)/Ma.k,(co-Ma.y)/Ma.k,Qa/Ma.k]);return function(mo){var Mi=ho(mo),ko=Qa/Mi[2];this.__chart__=fe={x:li-Mi[0]*ko,y:co-Mi[1]*ko,k:ko},Ua(Ha)}}).each("interrupt.zoom",function(){La(Ha)}).each("end.zoom",function(){La(Ha)}):(this.__chart__=fe,pa(Ha),Ua(Ha),La(Ha))})},dn.translate=function(na){return arguments.length?(fe={x:+na[0],y:+na[1],k:fe.k},fa(),dn):[fe.x,fe.y]},dn.scale=function(na){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},oa(+na),fa(),dn):fe.k},dn.scaleExtent=function(na){return arguments.length?(st=na==null?Jt:[+na[0],+na[1]],dn):st},dn.center=function(na){return arguments.length?(Qe=na&&[+na[0],+na[1]],dn):Qe},dn.size=function(na){return arguments.length?(rt=na&&[+na[0],+na[1]],dn):rt},dn.duration=function(na){return arguments.length?(Et=+na,dn):Et},dn.x=function(na){return arguments.length?(Hr=na,Ir=na.copy(),fe={x:0,y:0,k:1},dn):Hr},dn.y=function(na){return arguments.length?(cn=na,Kr=na.copy(),fe={x:0,y:0,k:1},dn):cn};function tn(na){return[(na[0]-fe.x)/fe.k,(na[1]-fe.y)/fe.k]}function Hn(na){return[na[0]*fe.k+fe.x,na[1]*fe.k+fe.y]}function oa(na){fe.k=Math.max(st[0],Math.min(st[1],na))}function da(na,Ha){Ha=Hn(Ha),fe.x+=na[0]-Ha[0],fe.y+=na[1]-Ha[1]}function aa(na,Ha,Ma,Qa){na.__chart__={x:fe.x,y:fe.y,k:fe.k},oa(Math.pow(2,Qa)),da(Be=Ha,Ma),na=n.select(na),Et>0&&(na=na.transition().duration(Et)),na.call(dn.event)}function fa(){Hr&&Hr.domain(Ir.range().map(function(na){return(na-fe.x)/fe.k}).map(Ir.invert)),cn&&cn.domain(Kr.range().map(function(na){return(na-fe.y)/fe.k}).map(Kr.invert))}function pa(na){bt++||na({type:"zoomstart"})}function Ua(na){fa(),na({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function La(na){--bt||(na({type:"zoomend"}),Be=null)}function Fa(){var na=this,Ha=ln.of(na,arguments),Ma=0,Qa=n.select(r(na)).on(Gt,co).on(nr,ho),Si=tn(n.mouse(na)),li=_e(na);Bt.call(na),pa(Ha);function co(){Ma=1,da(n.mouse(na),Si),Ua(Ha)}function ho(){Qa.on(Gt,null).on(nr,null),li(Ma),La(Ha)}}function si(){var na=this,Ha=ln.of(na,arguments),Ma={},Qa=0,Si,li=".zoom-"+n.event.changedTouches[0].identifier,co="touchmove"+li,ho="touchend"+li,mo=[],Mi=n.select(na),ko=_e(na);Ra(),pa(Ha),Mi.on(Vt,null).on(kr,Ra);function ha(){var xo=n.touches(na);return Si=fe.k,xo.forEach(function(di){di.identifier in Ma&&(Ma[di.identifier]=tn(di))}),xo}function Ra(){var xo=n.event.target;n.select(xo).on(co,Xo).on(ho,rs),mo.push(xo);for(var di=n.event.changedTouches,ro=0,Xi=di.length;ro<Xi;++ro)Ma[di[ro].identifier]=null;var Ns=ha(),nl=Date.now();if(Ns.length===1){if(nl-qr<500){var Oi=Ns[0];aa(na,Oi,Ma[Oi.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),oe()}qr=nl}else if(Ns.length>1){var Oi=Ns[0],Eu=Ns[1],qa=Oi[0]-Eu[0],Bi=Oi[1]-Eu[1];Qa=qa*qa+Bi*Bi}}function Xo(){var xo=n.touches(na),di,ro,Xi,Ns;Bt.call(na);for(var nl=0,Oi=xo.length;nl<Oi;++nl,Ns=null)if(Xi=xo[nl],Ns=Ma[Xi.identifier]){if(ro)break;di=Xi,ro=Ns}if(Ns){var Eu=(Eu=Xi[0]-di[0])*Eu+(Eu=Xi[1]-di[1])*Eu,qa=Qa&&Math.sqrt(Eu/Qa);di=[(di[0]+Xi[0])/2,(di[1]+Xi[1])/2],ro=[(ro[0]+Ns[0])/2,(ro[1]+Ns[1])/2],oa(qa*Si)}qr=null,da(di,ro),Ua(Ha)}function rs(){if(n.event.touches.length){for(var xo=n.event.changedTouches,di=0,ro=xo.length;di<ro;++di)delete Ma[xo[di].identifier];for(var Xi in Ma)return void ha()}n.selectAll(mo).on(li,null),Mi.on(Vt,Fa).on(kr,si),ko(),La(Ha)}}function Zi(){var na=ln.of(this,arguments);Rr?clearTimeout(Rr):(Bt.call(this),Pe=tn(Be=Qe||n.mouse(this)),pa(na)),Rr=setTimeout(function(){Rr=null,La(na)},50),oe(),oa(Math.pow(2,mr()*.002)*fe.k),da(Be,Pe),Ua(na)}function vi(){var na=n.mouse(this),Ha=Math.log(fe.k)/Math.LN2;aa(this,na,tn(na),n.event.shiftKey?Math.ceil(Ha)-1:Math.floor(Ha)+1)}return n.rebind(dn,ln,"on")};var Jt=[0,1/0],mr,sr;n.color=vt;function vt(){}vt.prototype.toString=function(){return this.rgb()+""},n.hsl=it;function it(fe,Pe,Be){return this instanceof it?(this.h=+fe,this.s=+Pe,void(this.l=+Be)):arguments.length<2?fe instanceof it?new it(fe.h,fe.s,fe.l):yr(""+fe,vr,it):new it(fe,Pe,Be)}var xt=it.prototype=new vt;xt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new it(this.h,this.s,this.l/fe)},xt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new it(this.h,this.s,fe*this.l)},xt.rgb=function(){return St(this.h,this.s,this.l)};function St(fe,Pe,Be){var Qe,rt;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Pe=isNaN(Pe)||Pe<0?0:Pe>1?1:Pe,Be=Be<0?0:Be>1?1:Be,rt=Be<=.5?Be*(1+Pe):Be+Pe-Be*Pe,Qe=2*Be-rt;function st(bt){return bt>360?bt-=360:bt<0&&(bt+=360),bt<60?Qe+(rt-Qe)*bt/60:bt<180?rt:bt<240?Qe+(rt-Qe)*(240-bt)/60:Qe}function Et(bt){return Math.round(st(bt)*255)}return new fr(Et(fe+120),Et(fe),Et(fe-120))}n.hcl=Rt;function Rt(fe,Pe,Be){return this instanceof Rt?(this.h=+fe,this.c=+Pe,void(this.l=+Be)):arguments.length<2?fe instanceof Rt?new Rt(fe.h,fe.c,fe.l):fe instanceof Nt?It(fe.l,fe.a,fe.b):It((fe=Gr((fe=n.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new Rt(fe,Pe,Be)}var Lt=Rt.prototype=new vt;Lt.brighter=function(fe){return new Rt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?fe:1)))},Lt.darker=function(fe){return new Rt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?fe:1)))},Lt.rgb=function(){return Ot(this.h,this.c,this.l).rgb()};function Ot(fe,Pe,Be){return isNaN(fe)&&(fe=0),isNaN(Pe)&&(Pe=0),new Nt(Be,Math.cos(fe*=ct)*Pe,Math.sin(fe)*Pe)}n.lab=Nt;function Nt(fe,Pe,Be){return this instanceof Nt?(this.l=+fe,this.a=+Pe,void(this.b=+Be)):arguments.length<2?fe instanceof Nt?new Nt(fe.l,fe.a,fe.b):fe instanceof Rt?Ot(fe.h,fe.c,fe.l):Gr((fe=fr(fe)).r,fe.g,fe.b):new Nt(fe,Pe,Be)}var Xt=18,ur=.95047,cr=1,dr=1.08883,Ye=Nt.prototype=new vt;Ye.brighter=function(fe){return new Nt(Math.min(100,this.l+Xt*(arguments.length?fe:1)),this.a,this.b)},Ye.darker=function(fe){return new Nt(Math.max(0,this.l-Xt*(arguments.length?fe:1)),this.a,this.b)},Ye.rgb=function(){return je(this.l,this.a,this.b)};function je(fe,Pe,Be){var Qe=(fe+16)/116,rt=Qe+Pe/500,st=Qe-Be/200;return rt=Dt(rt)*ur,Qe=Dt(Qe)*cr,st=Dt(st)*dr,new fr(tr(3.2404542*rt-1.5371385*Qe-.4985314*st),tr(-.969266*rt+1.8760108*Qe+.041556*st),tr(.0556434*rt-.2040259*Qe+1.0572252*st))}function It(fe,Pe,Be){return fe>0?new Rt(Math.atan2(Be,Pe)*gt,Math.sqrt(Pe*Pe+Be*Be),fe):new Rt(NaN,NaN,fe)}function Dt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function Yt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function tr(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}n.rgb=fr;function fr(fe,Pe,Be){return this instanceof fr?(this.r=~~fe,this.g=~~Pe,void(this.b=~~Be)):arguments.length<2?fe instanceof fr?new fr(fe.r,fe.g,fe.b):yr(""+fe,fr,St):new fr(fe,Pe,Be)}function rr(fe){return new fr(fe>>16,fe>>8&255,fe&255)}function Ft(fe){return rr(fe)+""}var hr=fr.prototype=new vt;hr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Pe=this.r,Be=this.g,Qe=this.b,rt=30;return!Pe&&!Be&&!Qe?new fr(rt,rt,rt):(Pe&&Pe<rt&&(Pe=rt),Be&&Be<rt&&(Be=rt),Qe&&Qe<rt&&(Qe=rt),new fr(Math.min(255,Pe/fe),Math.min(255,Be/fe),Math.min(255,Qe/fe)))},hr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new fr(fe*this.r,fe*this.g,fe*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+br(this.r)+br(this.g)+br(this.b)};function br(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function yr(fe,Pe,Be){var Qe=0,rt=0,st=0,Et,bt,Vt;if(Et=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Et)switch(bt=Et[2].split(","),Et[1]){case"hsl":return Be(parseFloat(bt[0]),parseFloat(bt[1])/100,parseFloat(bt[2])/100);case"rgb":return Pe(Dr(bt[0]),Dr(bt[1]),Dr(bt[2]))}return(Vt=pn.get(fe))?Pe(Vt.r,Vt.g,Vt.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Vt=parseInt(fe.slice(1),16))&&(fe.length===4?(Qe=(Vt&3840)>>4,Qe=Qe>>4|Qe,rt=Vt&240,rt=rt>>4|rt,st=Vt&15,st=st<<4|st):fe.length===7&&(Qe=(Vt&16711680)>>16,rt=(Vt&65280)>>8,st=Vt&255)),Pe(Qe,rt,st))}function vr(fe,Pe,Be){var Qe=Math.min(fe/=255,Pe/=255,Be/=255),rt=Math.max(fe,Pe,Be),st=rt-Qe,Et,bt,Vt=(rt+Qe)/2;return st?(bt=Vt<.5?st/(rt+Qe):st/(2-rt-Qe),fe==rt?Et=(Pe-Be)/st+(Pe<Be?6:0):Pe==rt?Et=(Be-fe)/st+2:Et=(fe-Pe)/st+4,Et*=60):(Et=NaN,bt=Vt>0&&Vt<1?0:Et),new it(Et,bt,Vt)}function Gr(fe,Pe,Be){fe=_r(fe),Pe=_r(Pe),Be=_r(Be);var Qe=Yt((.4124564*fe+.3575761*Pe+.1804375*Be)/ur),rt=Yt((.2126729*fe+.7151522*Pe+.072175*Be)/cr),st=Yt((.0193339*fe+.119192*Pe+.9503041*Be)/dr);return Nt(116*rt-16,500*(Qe-rt),200*(rt-st))}function _r(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function Dr(fe){var Pe=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Pe*2.55):Pe}var pn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pn.forEach(function(fe,Pe){pn.set(fe,rr(Pe))});function nn(fe){return typeof fe=="function"?fe:function(){return fe}}n.functor=nn,n.xhr=Un(N);function Un(fe){return function(Pe,Be,Qe){return arguments.length===2&&typeof Be=="function"&&(Qe=Be,Be=null),Tn(Pe,Be,fe,Qe)}}function Tn(fe,Pe,Be,Qe){var rt={},st=n.dispatch("beforesend","progress","load","error"),Et={},bt=new XMLHttpRequest,Vt=null;self.XDomainRequest&&!("withCredentials"in bt)&&/^(http(s)?:)?\/\//.test(fe)&&(bt=new XDomainRequest),"onload"in bt?bt.onload=bt.onerror=Gt:bt.onreadystatechange=function(){bt.readyState>3&&Gt()};function Gt(){var nr=bt.status,Rr;if(!nr&&Lr(bt)||nr>=200&&nr<300||nr===304){try{Rr=Be.call(rt,bt)}catch(kr){st.error.call(rt,kr);return}st.load.call(rt,Rr)}else st.error.call(rt,bt)}return bt.onprogress=function(nr){var Rr=n.event;n.event=nr;try{st.progress.call(rt,bt)}finally{n.event=Rr}},rt.header=function(nr,Rr){return nr=(nr+"").toLowerCase(),arguments.length<2?Et[nr]:(Rr==null?delete Et[nr]:Et[nr]=Rr+"",rt)},rt.mimeType=function(nr){return arguments.length?(Pe=nr==null?null:nr+"",rt):Pe},rt.responseType=function(nr){return arguments.length?(Vt=nr,rt):Vt},rt.response=function(nr){return Be=nr,rt},["get","post"].forEach(function(nr){rt[nr]=function(){return rt.send.apply(rt,[nr].concat(T(arguments)))}}),rt.send=function(nr,Rr,kr){if(arguments.length===2&&typeof Rr=="function"&&(kr=Rr,Rr=null),bt.open(nr,fe,!0),Pe!=null&&!("accept"in Et)&&(Et.accept=Pe+",*/*"),bt.setRequestHeader)for(var qr in Et)bt.setRequestHeader(qr,Et[qr]);return Pe!=null&&bt.overrideMimeType&&bt.overrideMimeType(Pe),Vt!=null&&(bt.responseType=Vt),kr!=null&&rt.on("error",kr).on("load",function(ln){kr(null,ln)}),st.beforesend.call(rt,bt),bt.send(Rr??null),rt},rt.abort=function(){return bt.abort(),rt},n.rebind(rt,st,"on"),Qe==null?rt:rt.get(Cr(Qe))}function Cr(fe){return fe.length===1?function(Pe,Be){fe(Pe==null?Be:null)}:fe}function Lr(fe){var Pe=fe.responseType;return Pe&&Pe!=="text"?fe.response:fe.responseText}n.dsv=function(fe,Pe){var Be=new RegExp('["'+fe+`
]`),Qe=fe.charCodeAt(0);function rt(Gt,nr,Rr){arguments.length<3&&(Rr=nr,nr=null);var kr=Tn(Gt,Pe,nr==null?st:Et(nr),Rr);return kr.row=function(qr){return arguments.length?kr.response((nr=qr)==null?st:Et(qr)):nr},kr}function st(Gt){return rt.parse(Gt.responseText)}function Et(Gt){return function(nr){return rt.parse(nr.responseText,Gt)}}rt.parse=function(Gt,nr){var Rr;return rt.parseRows(Gt,function(kr,qr){if(Rr)return Rr(kr,qr-1);var ln=function(Ir){for(var Hr={},Kr=kr.length,cn=0;cn<Kr;++cn)Hr[kr[cn]]=Ir[cn];return Hr};Rr=nr?function(Ir,Hr){return nr(ln(Ir),Hr)}:ln})},rt.parseRows=function(Gt,nr){var Rr={},kr={},qr=[],ln=Gt.length,Ir=0,Hr=0,Kr,cn;function dn(){if(Ir>=ln)return kr;if(cn)return cn=!1,Rr;var Hn=Ir;if(Gt.charCodeAt(Hn)===34){for(var oa=Hn;oa++<ln;)if(Gt.charCodeAt(oa)===34){if(Gt.charCodeAt(oa+1)!==34)break;++oa}Ir=oa+2;var da=Gt.charCodeAt(oa+1);return da===13?(cn=!0,Gt.charCodeAt(oa+2)===10&&++Ir):da===10&&(cn=!0),Gt.slice(Hn+1,oa).replace(/""/g,'"')}for(;Ir<ln;){var da=Gt.charCodeAt(Ir++),aa=1;if(da===10)cn=!0;else if(da===13)cn=!0,Gt.charCodeAt(Ir)===10&&(++Ir,++aa);else if(da!==Qe)continue;return Gt.slice(Hn,Ir-aa)}return Gt.slice(Hn)}for(;(Kr=dn())!==kr;){for(var tn=[];Kr!==Rr&&Kr!==kr;)tn.push(Kr),Kr=dn();nr&&(tn=nr(tn,Hr++))==null||qr.push(tn)}return qr},rt.format=function(Gt){if(Array.isArray(Gt[0]))return rt.formatRows(Gt);var nr=new F,Rr=[];return Gt.forEach(function(kr){for(var qr in kr)nr.has(qr)||Rr.push(nr.add(qr))}),[Rr.map(Vt).join(fe)].concat(Gt.map(function(kr){return Rr.map(function(qr){return Vt(kr[qr])}).join(fe)})).join(`
`)},rt.formatRows=function(Gt){return Gt.map(bt).join(`
`)};function bt(Gt){return Gt.map(Vt).join(fe)}function Vt(Gt){return Be.test(Gt)?'"'+Gt.replace(/\"/g,'""')+'"':Gt}return rt},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var Zr,Wr,sn,yn,bn=this[O(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};n.timer=function(){Pn.apply(this,arguments)};function Pn(fe,Pe,Be){var Qe=arguments.length;Qe<2&&(Pe=0),Qe<3&&(Be=Date.now());var rt=Be+Pe,st={c:fe,t:rt,n:null};return Wr?Wr.n=st:Zr=st,Wr=st,sn||(yn=clearTimeout(yn),sn=1,bn(Bn)),st}function Bn(){var fe=sa(),Pe=Kn()-fe;Pe>24?(isFinite(Pe)&&(clearTimeout(yn),yn=setTimeout(Bn,Pe)),sn=0):(sn=1,bn(Bn))}n.timer.flush=function(){sa(),Kn()};function sa(){for(var fe=Date.now(),Pe=Zr;Pe;)fe>=Pe.t&&Pe.c(fe-Pe.t)&&(Pe.c=null),Pe=Pe.n;return fe}function Kn(){for(var fe,Pe=Zr,Be=1/0;Pe;)Pe.c?(Pe.t<Be&&(Be=Pe.t),Pe=(fe=Pe).n):Pe=fe?fe.n=Pe.n:Zr=Pe.n;return Wr=fe,Be}n.round=function(fe,Pe){return Pe?Math.round(fe*(Pe=Math.pow(10,Pe)))/Pe:Math.round(fe)},n.geom={};function ra(fe){return fe[0]}function $n(fe){return fe[1]}n.geom.hull=function(fe){var Pe=ra,Be=$n;if(arguments.length)return Qe(fe);function Qe(rt){if(rt.length<3)return[];var st=nn(Pe),Et=nn(Be),bt,Vt=rt.length,Gt=[],nr=[];for(bt=0;bt<Vt;bt++)Gt.push([+st.call(this,rt[bt],bt),+Et.call(this,rt[bt],bt),bt]);for(Gt.sort(Mr),bt=0;bt<Vt;bt++)nr.push([Gt[bt][0],-Gt[bt][1]]);var Rr=ta(Gt),kr=ta(nr),qr=kr[0]===Rr[0],ln=kr[kr.length-1]===Rr[Rr.length-1],Ir=[];for(bt=Rr.length-1;bt>=0;--bt)Ir.push(rt[Gt[Rr[bt]][2]]);for(bt=+qr;bt<kr.length-ln;++bt)Ir.push(rt[Gt[kr[bt]][2]]);return Ir}return Qe.x=function(rt){return arguments.length?(Pe=rt,Qe):Pe},Qe.y=function(rt){return arguments.length?(Be=rt,Qe):Be},Qe};function ta(fe){for(var Pe=fe.length,Be=[0,1],Qe=2,rt=2;rt<Pe;rt++){for(;Qe>1&&jt(fe[Be[Qe-2]],fe[Be[Qe-1]],fe[rt])<=0;)--Qe;Be[Qe++]=rt}return Be.slice(0,Qe)}function Mr(fe,Pe){return fe[0]-Pe[0]||fe[1]-Pe[1]}n.geom.polygon=function(fe){return se(fe,un),fe};var un=n.geom.polygon.prototype=[];un.area=function(){for(var fe=-1,Pe=this.length,Be,Qe=this[Pe-1],rt=0;++fe<Pe;)Be=Qe,Qe=this[fe],rt+=Be[1]*Qe[0]-Be[0]*Qe[1];return rt*.5},un.centroid=function(fe){var Pe=-1,Be=this.length,Qe=0,rt=0,st,Et=this[Be-1],bt;for(arguments.length||(fe=-1/(6*this.area()));++Pe<Be;)st=Et,Et=this[Pe],bt=st[0]*Et[1]-Et[0]*st[1],Qe+=(st[0]+Et[0])*bt,rt+=(st[1]+Et[1])*bt;return[Qe*fe,rt*fe]},un.clip=function(fe){for(var Pe,Be=Yn(fe),Qe=-1,rt=this.length-Yn(this),st,Et,bt=this[rt-1],Vt,Gt,nr;++Qe<rt;){for(Pe=fe.slice(),fe.length=0,Vt=this[Qe],Gt=Pe[(Et=Pe.length-Be)-1],st=-1;++st<Et;)nr=Pe[st],on(nr,bt,Vt)?(on(Gt,bt,Vt)||fe.push(mn(Gt,nr,bt,Vt)),fe.push(nr)):on(Gt,bt,Vt)&&fe.push(mn(Gt,nr,bt,Vt)),Gt=nr;Be&&fe.push(fe[0]),bt=Vt}return fe};function on(fe,Pe,Be){return(Be[0]-Pe[0])*(fe[1]-Pe[1])<(Be[1]-Pe[1])*(fe[0]-Pe[0])}function mn(fe,Pe,Be,Qe){var rt=fe[0],st=Be[0],Et=Pe[0]-rt,bt=Qe[0]-st,Vt=fe[1],Gt=Be[1],nr=Pe[1]-Vt,Rr=Qe[1]-Gt,kr=(bt*(Vt-Gt)-Rr*(rt-st))/(Rr*Et-bt*nr);return[rt+kr*Et,Vt+kr*nr]}function Yn(fe){var Pe=fe[0],Be=fe[fe.length-1];return!(Pe[0]-Be[0]||Pe[1]-Be[1])}var $t,xr,Nr,En=[],Qn,Ca,wr=[];function zr(){qo(this),this.edge=this.site=this.circle=null}function gr(fe){var Pe=En.pop()||new zr;return Pe.site=fe,Pe}function Br(fe){On(fe),Nr.remove(fe),En.push(fe),qo(fe)}function xn(fe){var Pe=fe.circle,Be=Pe.x,Qe=Pe.cy,rt={x:Be,y:Qe},st=fe.P,Et=fe.N,bt=[fe];Br(fe);for(var Vt=st;Vt.circle&&g(Be-Vt.circle.x)<me&&g(Qe-Vt.circle.cy)<me;)st=Vt.P,bt.unshift(Vt),Br(Vt),Vt=st;bt.unshift(Vt),On(Vt);for(var Gt=Et;Gt.circle&&g(Be-Gt.circle.x)<me&&g(Qe-Gt.circle.cy)<me;)Et=Gt.N,bt.push(Gt),Br(Gt),Gt=Et;bt.push(Gt),On(Gt);var nr=bt.length,Rr;for(Rr=1;Rr<nr;++Rr)Gt=bt[Rr],Vt=bt[Rr-1],ka(Gt.edge,Vt.site,Gt.site,rt);Vt=bt[0],Gt=bt[nr-1],Gt.edge=ca(Vt.site,Gt.site,null,rt),Cn(Vt),Cn(Gt)}function kn(fe){for(var Pe=fe.x,Be=fe.y,Qe,rt,st,Et,bt=Nr._;bt;)if(st=wn(bt,Be)-Pe,st>me)bt=bt.L;else if(Et=Pe-hn(bt,Be),Et>me){if(!bt.R){Qe=bt;break}bt=bt.R}else{st>-me?(Qe=bt.P,rt=bt):Et>-me?(Qe=bt,rt=bt.N):Qe=rt=bt;break}var Vt=gr(fe);if(Nr.insert(Qe,Vt),!(!Qe&&!rt)){if(Qe===rt){On(Qe),rt=gr(Qe.site),Nr.insert(Vt,rt),Vt.edge=rt.edge=ca(Qe.site,Vt.site),Cn(Qe),Cn(rt);return}if(!rt){Vt.edge=ca(Qe.site,Vt.site);return}On(Qe),On(rt);var Gt=Qe.site,nr=Gt.x,Rr=Gt.y,kr=fe.x-nr,qr=fe.y-Rr,ln=rt.site,Ir=ln.x-nr,Hr=ln.y-Rr,Kr=2*(kr*Hr-qr*Ir),cn=kr*kr+qr*qr,dn=Ir*Ir+Hr*Hr,tn={x:(Hr*cn-qr*dn)/Kr+nr,y:(kr*dn-Ir*cn)/Kr+Rr};ka(rt.edge,Gt,ln,tn),Vt.edge=ca(Gt,fe,null,tn),rt.edge=ca(fe,ln,null,tn),Cn(Qe),Cn(rt)}}function wn(fe,Pe){var Be=fe.site,Qe=Be.x,rt=Be.y,st=rt-Pe;if(!st)return Qe;var Et=fe.P;if(!Et)return-1/0;Be=Et.site;var bt=Be.x,Vt=Be.y,Gt=Vt-Pe;if(!Gt)return bt;var nr=bt-Qe,Rr=1/st-1/Gt,kr=nr/Gt;return Rr?(-kr+Math.sqrt(kr*kr-2*Rr*(nr*nr/(-2*Gt)-Vt+Gt/2+rt-st/2)))/Rr+Qe:(Qe+bt)/2}function hn(fe,Pe){var Be=fe.N;if(Be)return wn(Be,Pe);var Qe=fe.site;return Qe.y===Pe?Qe.x:1/0}function Pr(fe){this.site=fe,this.edges=[]}Pr.prototype.prepare=function(){for(var fe=this.edges,Pe=fe.length,Be;Pe--;)Be=fe[Pe].edge,(!Be.b||!Be.a)&&fe.splice(Pe,1);return fe.sort(Yr),fe.length};function Jr(fe){for(var Pe=fe[0][0],Be=fe[1][0],Qe=fe[0][1],rt=fe[1][1],st,Et,bt,Vt,Gt=xr,nr=Gt.length,Rr,kr,qr,ln,Ir,Hr;nr--;)if(Rr=Gt[nr],!(!Rr||!Rr.prepare()))for(qr=Rr.edges,ln=qr.length,kr=0;kr<ln;)Hr=qr[kr].end(),bt=Hr.x,Vt=Hr.y,Ir=qr[++kr%ln].start(),st=Ir.x,Et=Ir.y,(g(bt-st)>me||g(Vt-Et)>me)&&(qr.splice(kr,0,new mi(ma(Rr.site,Hr,g(bt-Pe)<me&&rt-Vt>me?{x:Pe,y:g(st-Pe)<me?Et:rt}:g(Vt-rt)<me&&Be-bt>me?{x:g(Et-rt)<me?st:Be,y:rt}:g(bt-Be)<me&&Vt-Qe>me?{x:Be,y:g(st-Be)<me?Et:Qe}:g(Vt-Qe)<me&&bt-Pe>me?{x:g(Et-Qe)<me?st:Pe,y:Qe}:null),Rr.site,null)),++ln)}function Yr(fe,Pe){return Pe.angle-fe.angle}function en(){qo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Cn(fe){var Pe=fe.P,Be=fe.N;if(!(!Pe||!Be)){var Qe=Pe.site,rt=fe.site,st=Be.site;if(Qe!==st){var Et=rt.x,bt=rt.y,Vt=Qe.x-Et,Gt=Qe.y-bt,nr=st.x-Et,Hr=st.y-bt,Rr=2*(Vt*Hr-Gt*nr);if(!(Rr>=-Me)){var kr=Vt*Vt+Gt*Gt,qr=nr*nr+Hr*Hr,ln=(Hr*kr-Gt*qr)/Rr,Ir=(Vt*qr-nr*kr)/Rr,Hr=Ir+bt,Kr=wr.pop()||new en;Kr.arc=fe,Kr.site=rt,Kr.x=ln+Et,Kr.y=Hr+Math.sqrt(ln*ln+Ir*Ir),Kr.cy=Hr,fe.circle=Kr;for(var cn=null,dn=Ca._;dn;)if(Kr.y<dn.y||Kr.y===dn.y&&Kr.x<=dn.x)if(dn.L)dn=dn.L;else{cn=dn.P;break}else if(dn.R)dn=dn.R;else{cn=dn;break}Ca.insert(cn,Kr),cn||(Qn=Kr)}}}}function On(fe){var Pe=fe.circle;Pe&&(Pe.P||(Qn=Pe.N),Ca.remove(Pe),wr.push(Pe),qo(Pe),fe.circle=null)}function zn(fe,Pe,Be,Qe){return function(rt){var st=rt.a,Et=rt.b,bt=st.x,Vt=st.y,Gt=Et.x,nr=Et.y,Rr=0,kr=1,qr=Gt-bt,ln=nr-Vt,Ir;if(Ir=fe-bt,!(!qr&&Ir>0)){if(Ir/=qr,qr<0){if(Ir<Rr)return;Ir<kr&&(kr=Ir)}else if(qr>0){if(Ir>kr)return;Ir>Rr&&(Rr=Ir)}if(Ir=Be-bt,!(!qr&&Ir<0)){if(Ir/=qr,qr<0){if(Ir>kr)return;Ir>Rr&&(Rr=Ir)}else if(qr>0){if(Ir<Rr)return;Ir<kr&&(kr=Ir)}if(Ir=Pe-Vt,!(!ln&&Ir>0)){if(Ir/=ln,ln<0){if(Ir<Rr)return;Ir<kr&&(kr=Ir)}else if(ln>0){if(Ir>kr)return;Ir>Rr&&(Rr=Ir)}if(Ir=Qe-Vt,!(!ln&&Ir<0)){if(Ir/=ln,ln<0){if(Ir>kr)return;Ir>Rr&&(Rr=Ir)}else if(ln>0){if(Ir<Rr)return;Ir<kr&&(kr=Ir)}return Rr>0&&(rt.a={x:bt+Rr*qr,y:Vt+Rr*ln}),kr<1&&(rt.b={x:bt+kr*qr,y:Vt+kr*ln}),rt}}}}}}function Wn(fe){for(var Pe=$t,Be=zn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),Qe=Pe.length,rt;Qe--;)rt=Pe[Qe],(!Vn(rt,fe)||!Be(rt)||g(rt.a.x-rt.b.x)<me&&g(rt.a.y-rt.b.y)<me)&&(rt.a=rt.b=null,Pe.splice(Qe,1))}function Vn(fe,Pe){var Be=fe.b;if(Be)return!0;var Qe=fe.a,rt=Pe[0][0],st=Pe[1][0],Et=Pe[0][1],bt=Pe[1][1],Vt=fe.l,Gt=fe.r,nr=Vt.x,Rr=Vt.y,kr=Gt.x,qr=Gt.y,ln=(nr+kr)/2,Ir=(Rr+qr)/2,Hr,Kr;if(qr===Rr){if(ln<rt||ln>=st)return;if(nr>kr){if(!Qe)Qe={x:ln,y:Et};else if(Qe.y>=bt)return;Be={x:ln,y:bt}}else{if(!Qe)Qe={x:ln,y:bt};else if(Qe.y<Et)return;Be={x:ln,y:Et}}}else if(Hr=(nr-kr)/(qr-Rr),Kr=Ir-Hr*ln,Hr<-1||Hr>1)if(nr>kr){if(!Qe)Qe={x:(Et-Kr)/Hr,y:Et};else if(Qe.y>=bt)return;Be={x:(bt-Kr)/Hr,y:bt}}else{if(!Qe)Qe={x:(bt-Kr)/Hr,y:bt};else if(Qe.y<Et)return;Be={x:(Et-Kr)/Hr,y:Et}}else if(Rr<qr){if(!Qe)Qe={x:rt,y:Hr*rt+Kr};else if(Qe.x>=st)return;Be={x:st,y:Hr*st+Kr}}else{if(!Qe)Qe={x:st,y:Hr*st+Kr};else if(Qe.x<rt)return;Be={x:rt,y:Hr*rt+Kr}}return fe.a=Qe,fe.b=Be,!0}function xa(fe,Pe){this.l=fe,this.r=Pe,this.a=this.b=null}function ca(fe,Pe,Be,Qe){var rt=new xa(fe,Pe);return $t.push(rt),Be&&ka(rt,fe,Pe,Be),Qe&&ka(rt,Pe,fe,Qe),xr[fe.i].edges.push(new mi(rt,fe,Pe)),xr[Pe.i].edges.push(new mi(rt,Pe,fe)),rt}function ma(fe,Pe,Be){var Qe=new xa(fe,null);return Qe.a=Pe,Qe.b=Be,$t.push(Qe),Qe}function ka(fe,Pe,Be,Qe){!fe.a&&!fe.b?(fe.a=Qe,fe.l=Pe,fe.r=Be):fe.l===Be?fe.b=Qe:fe.a=Qe}function mi(fe,Pe,Be){var Qe=fe.a,rt=fe.b;this.edge=fe,this.site=Pe,this.angle=Be?Math.atan2(Be.y-Pe.y,Be.x-Pe.x):fe.l===Pe?Math.atan2(rt.x-Qe.x,Qe.y-rt.y):Math.atan2(Qe.x-rt.x,rt.y-Qe.y)}mi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function oi(){this._=null}function qo(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}oi.prototype={insert:function(fe,Pe){var Be,Qe,rt;if(fe){if(Pe.P=fe,Pe.N=fe.N,fe.N&&(fe.N.P=Pe),fe.N=Pe,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Pe}else fe.R=Pe;Be=fe}else this._?(fe=su(this._),Pe.P=null,Pe.N=fe,fe.P=fe.L=Pe,Be=fe):(Pe.P=Pe.N=null,this._=Pe,Be=null);for(Pe.L=Pe.R=null,Pe.U=Be,Pe.C=!0,fe=Pe;Be&&Be.C;)Qe=Be.U,Be===Qe.L?(rt=Qe.R,rt&&rt.C?(Be.C=rt.C=!1,Qe.C=!0,fe=Qe):(fe===Be.R&&(Wo(this,Be),fe=Be,Be=fe.U),Be.C=!1,Qe.C=!0,po(this,Qe))):(rt=Qe.L,rt&&rt.C?(Be.C=rt.C=!1,Qe.C=!0,fe=Qe):(fe===Be.L&&(po(this,Be),fe=Be,Be=fe.U),Be.C=!1,Qe.C=!0,Wo(this,Qe))),Be=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Pe=fe.U,Be,Qe=fe.L,rt=fe.R,st,Et;if(Qe?rt?st=su(rt):st=Qe:st=rt,Pe?Pe.L===fe?Pe.L=st:Pe.R=st:this._=st,Qe&&rt?(Et=st.C,st.C=fe.C,st.L=Qe,Qe.U=st,st!==rt?(Pe=st.U,st.U=fe.U,fe=st.R,Pe.L=fe,st.R=rt,rt.U=st):(st.U=Pe,Pe=st,fe=st.R)):(Et=fe.C,fe=st),fe&&(fe.U=Pe),!Et){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Pe.L){if(Be=Pe.R,Be.C&&(Be.C=!1,Pe.C=!0,Wo(this,Pe),Be=Pe.R),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.R||!Be.R.C)&&(Be.L.C=!1,Be.C=!0,po(this,Be),Be=Pe.R),Be.C=Pe.C,Pe.C=Be.R.C=!1,Wo(this,Pe),fe=this._;break}}else if(Be=Pe.L,Be.C&&(Be.C=!1,Pe.C=!0,po(this,Pe),Be=Pe.L),Be.L&&Be.L.C||Be.R&&Be.R.C){(!Be.L||!Be.L.C)&&(Be.R.C=!1,Be.C=!0,Wo(this,Be),Be=Pe.L),Be.C=Pe.C,Pe.C=Be.L.C=!1,po(this,Pe),fe=this._;break}Be.C=!0,fe=Pe,Pe=Pe.U}while(!fe.C);fe&&(fe.C=!1)}}};function Wo(fe,Pe){var Be=Pe,Qe=Pe.R,rt=Be.U;rt?rt.L===Be?rt.L=Qe:rt.R=Qe:fe._=Qe,Qe.U=rt,Be.U=Qe,Be.R=Qe.L,Be.R&&(Be.R.U=Be),Qe.L=Be}function po(fe,Pe){var Be=Pe,Qe=Pe.L,rt=Be.U;rt?rt.L===Be?rt.L=Qe:rt.R=Qe:fe._=Qe,Qe.U=rt,Be.U=Qe,Be.L=Qe.R,Be.L&&(Be.L.U=Be),Qe.R=Be}function su(fe){for(;fe.L;)fe=fe.L;return fe}function ic(fe,Pe){var Be=fe.sort(Jc).pop(),Qe,rt,st;for($t=[],xr=new Array(fe.length),Nr=new oi,Ca=new oi;;)if(st=Qn,Be&&(!st||Be.y<st.y||Be.y===st.y&&Be.x<st.x))(Be.x!==Qe||Be.y!==rt)&&(xr[Be.i]=new Pr(Be),kn(Be),Qe=Be.x,rt=Be.y),Be=fe.pop();else if(st)xn(st.arc);else break;Pe&&(Wn(Pe),Jr(Pe));var Et={cells:xr,edges:$t};return Nr=Ca=$t=xr=null,Et}function Jc(fe,Pe){return Pe.y-fe.y||Pe.x-fe.x}n.geom.voronoi=function(fe){var Pe=ra,Be=$n,Qe=Pe,rt=Be,st=ni;if(fe)return Et(fe);function Et(Vt){var Gt=new Array(Vt.length),nr=st[0][0],Rr=st[0][1],kr=st[1][0],qr=st[1][1];return ic(bt(Vt),st).cells.forEach(function(ln,Ir){var Hr=ln.edges,Kr=ln.site,cn=Gt[Ir]=Hr.length?Hr.map(function(dn){var tn=dn.start();return[tn.x,tn.y]}):Kr.x>=nr&&Kr.x<=kr&&Kr.y>=Rr&&Kr.y<=qr?[[nr,qr],[kr,qr],[kr,Rr],[nr,Rr]]:[];cn.point=Vt[Ir]}),Gt}function bt(Vt){return Vt.map(function(Gt,nr){return{x:Math.round(Qe(Gt,nr)/me)*me,y:Math.round(rt(Gt,nr)/me)*me,i:nr}})}return Et.links=function(Vt){return ic(bt(Vt)).edges.filter(function(Gt){return Gt.l&&Gt.r}).map(function(Gt){return{source:Vt[Gt.l.i],target:Vt[Gt.r.i]}})},Et.triangles=function(Vt){var Gt=[];return ic(bt(Vt)).cells.forEach(function(nr,Rr){for(var kr=nr.site,qr=nr.edges.sort(Yr),ln=-1,Ir=qr.length,Hr,Kr=qr[Ir-1].edge,cn=Kr.l===kr?Kr.r:Kr.l;++ln<Ir;)Hr=cn,Kr=qr[ln].edge,cn=Kr.l===kr?Kr.r:Kr.l,Rr<Hr.i&&Rr<cn.i&&Hu(kr,Hr,cn)<0&&Gt.push([Vt[Rr],Vt[Hr.i],Vt[cn.i]])}),Gt},Et.x=function(Vt){return arguments.length?(Qe=nn(Pe=Vt),Et):Pe},Et.y=function(Vt){return arguments.length?(rt=nn(Be=Vt),Et):Be},Et.clipExtent=function(Vt){return arguments.length?(st=Vt??ni,Et):st===ni?null:st},Et.size=function(Vt){return arguments.length?Et.clipExtent(Vt&&[[0,0],Vt]):st===ni?null:st&&st[1]},Et};var ni=[[-1e6,-1e6],[1e6,1e6]];function Hu(fe,Pe,Be){return(fe.x-Be.x)*(Pe.y-fe.y)-(fe.x-Pe.x)*(Be.y-fe.y)}n.geom.delaunay=function(fe){return n.geom.voronoi().triangles(fe)},n.geom.quadtree=function(fe,Pe,Be,Qe,rt){var st=ra,Et=$n,bt;if(bt=arguments.length)return st=oc,Et=lo,bt===3&&(rt=Be,Qe=Pe,Be=Pe=0),Vt(fe);function Vt(Gt){var nr,Rr=nn(st),kr=nn(Et),qr,ln,Ir,Hr,Kr,cn,dn,tn;if(Pe!=null)Kr=Pe,cn=Be,dn=Qe,tn=rt;else if(dn=tn=-(Kr=cn=1/0),qr=[],ln=[],Hr=Gt.length,bt)for(Ir=0;Ir<Hr;++Ir)nr=Gt[Ir],nr.x<Kr&&(Kr=nr.x),nr.y<cn&&(cn=nr.y),nr.x>dn&&(dn=nr.x),nr.y>tn&&(tn=nr.y),qr.push(nr.x),ln.push(nr.y);else for(Ir=0;Ir<Hr;++Ir){var Hn=+Rr(nr=Gt[Ir],Ir),oa=+kr(nr,Ir);Hn<Kr&&(Kr=Hn),oa<cn&&(cn=oa),Hn>dn&&(dn=Hn),oa>tn&&(tn=oa),qr.push(Hn),ln.push(oa)}var da=dn-Kr,aa=tn-cn;da>aa?tn=cn+da:dn=Kr+aa;function fa(La,Fa,si,Zi,vi,na,Ha,Ma){if(!(isNaN(si)||isNaN(Zi)))if(La.leaf){var Qa=La.x,Si=La.y;if(Qa!=null)if(g(Qa-si)+g(Si-Zi)<.01)pa(La,Fa,si,Zi,vi,na,Ha,Ma);else{var li=La.point;La.x=La.y=La.point=null,pa(La,li,Qa,Si,vi,na,Ha,Ma),pa(La,Fa,si,Zi,vi,na,Ha,Ma)}else La.x=si,La.y=Zi,La.point=Fa}else pa(La,Fa,si,Zi,vi,na,Ha,Ma)}function pa(La,Fa,si,Zi,vi,na,Ha,Ma){var Qa=(vi+Ha)*.5,Si=(na+Ma)*.5,li=si>=Qa,co=Zi>=Si,ho=co<<1|li;La.leaf=!1,La=La.nodes[ho]||(La.nodes[ho]=Fo()),li?vi=Qa:Ha=Qa,co?na=Si:Ma=Si,fa(La,Fa,si,Zi,vi,na,Ha,Ma)}var Ua=Fo();if(Ua.add=function(La){fa(Ua,La,+Rr(La,++Ir),+kr(La,Ir),Kr,cn,dn,tn)},Ua.visit=function(La){lu(La,Ua,Kr,cn,dn,tn)},Ua.find=function(La){return Mf(Ua,La[0],La[1],Kr,cn,dn,tn)},Ir=-1,Pe==null){for(;++Ir<Hr;)fa(Ua,Gt[Ir],qr[Ir],ln[Ir],Kr,cn,dn,tn);--Ir}else Gt.forEach(Ua.add);return qr=ln=Gt=nr=null,Ua}return Vt.x=function(Gt){return arguments.length?(st=Gt,Vt):st},Vt.y=function(Gt){return arguments.length?(Et=Gt,Vt):Et},Vt.extent=function(Gt){return arguments.length?(Gt==null?Pe=Be=Qe=rt=null:(Pe=+Gt[0][0],Be=+Gt[0][1],Qe=+Gt[1][0],rt=+Gt[1][1]),Vt):Pe==null?null:[[Pe,Be],[Qe,rt]]},Vt.size=function(Gt){return arguments.length?(Gt==null?Pe=Be=Qe=rt=null:(Pe=Be=0,Qe=+Gt[0],rt=+Gt[1]),Vt):Pe==null?null:[Qe-Pe,rt-Be]},Vt};function oc(fe){return fe.x}function lo(fe){return fe.y}function Fo(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function lu(fe,Pe,Be,Qe,rt,st){if(!fe(Pe,Be,Qe,rt,st)){var Et=(Be+rt)*.5,bt=(Qe+st)*.5,Vt=Pe.nodes;Vt[0]&&lu(fe,Vt[0],Be,Qe,Et,bt),Vt[1]&&lu(fe,Vt[1],Et,Qe,rt,bt),Vt[2]&&lu(fe,Vt[2],Be,bt,Et,st),Vt[3]&&lu(fe,Vt[3],Et,bt,rt,st)}}function Mf(fe,Pe,Be,Qe,rt,st,Et){var bt=1/0,Vt;return function Gt(nr,Rr,kr,qr,ln){if(!(Rr>st||kr>Et||qr<Qe||ln<rt)){if(Ir=nr.point){var Ir,Hr=Pe-nr.x,Kr=Be-nr.y,cn=Hr*Hr+Kr*Kr;if(cn<bt){var dn=Math.sqrt(bt=cn);Qe=Pe-dn,rt=Be-dn,st=Pe+dn,Et=Be+dn,Vt=Ir}}for(var tn=nr.nodes,Hn=(Rr+qr)*.5,oa=(kr+ln)*.5,da=Pe>=Hn,aa=Be>=oa,fa=aa<<1|da,pa=fa+4;fa<pa;++fa)if(nr=tn[fa&3])switch(fa&3){case 0:Gt(nr,Rr,kr,Hn,oa);break;case 1:Gt(nr,Hn,kr,qr,oa);break;case 2:Gt(nr,Rr,oa,Hn,ln);break;case 3:Gt(nr,Hn,oa,qr,ln);break}}}(fe,Qe,rt,st,Et),Vt}n.interpolateRgb=Gi;function Gi(fe,Pe){fe=n.rgb(fe),Pe=n.rgb(Pe);var Be=fe.r,Qe=fe.g,rt=fe.b,st=Pe.r-Be,Et=Pe.g-Qe,bt=Pe.b-rt;return function(Vt){return"#"+br(Math.round(Be+st*Vt))+br(Math.round(Qe+Et*Vt))+br(Math.round(rt+bt*Vt))}}n.interpolateObject=uu;function uu(fe,Pe){var Be={},Qe={},rt;for(rt in fe)rt in Pe?Be[rt]=yo(fe[rt],Pe[rt]):Qe[rt]=fe[rt];for(rt in Pe)rt in fe||(Qe[rt]=Pe[rt]);return function(st){for(rt in Be)Qe[rt]=Be[rt](st);return Qe}}n.interpolateNumber=Yi;function Yi(fe,Pe){return fe=+fe,Pe=+Pe,function(Be){return fe*(1-Be)+Pe*Be}}n.interpolateString=eo;function eo(fe,Pe){var Be=fu.lastIndex=go.lastIndex=0,Qe,rt,st,Et=-1,bt=[],Vt=[];for(fe=fe+"",Pe=Pe+"";(Qe=fu.exec(fe))&&(rt=go.exec(Pe));)(st=rt.index)>Be&&(st=Pe.slice(Be,st),bt[Et]?bt[Et]+=st:bt[++Et]=st),(Qe=Qe[0])===(rt=rt[0])?bt[Et]?bt[Et]+=rt:bt[++Et]=rt:(bt[++Et]=null,Vt.push({i:Et,x:Yi(Qe,rt)})),Be=go.lastIndex;return Be<Pe.length&&(st=Pe.slice(Be),bt[Et]?bt[Et]+=st:bt[++Et]=st),bt.length<2?Vt[0]?(Pe=Vt[0].x,function(Gt){return Pe(Gt)+""}):function(){return Pe}:(Pe=Vt.length,function(Gt){for(var nr=0,Rr;nr<Pe;++nr)bt[(Rr=Vt[nr]).i]=Rr.x(Gt);return bt.join("")})}var fu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(fu.source,"g");n.interpolate=yo;function yo(fe,Pe){for(var Be=n.interpolators.length,Qe;--Be>=0&&!(Qe=n.interpolators[Be](fe,Pe)););return Qe}n.interpolators=[function(fe,Pe){var Be=typeof Pe;return(Be==="string"?pn.has(Pe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Pe)?Gi:eo:Pe instanceof vt?Gi:Array.isArray(Pe)?es:Be==="object"&&isNaN(Pe)?uu:Yi)(fe,Pe)}],n.interpolateArray=es;function es(fe,Pe){var Be=[],Qe=[],rt=fe.length,st=Pe.length,Et=Math.min(fe.length,Pe.length),bt;for(bt=0;bt<Et;++bt)Be.push(yo(fe[bt],Pe[bt]));for(;bt<rt;++bt)Qe[bt]=fe[bt];for(;bt<st;++bt)Qe[bt]=Pe[bt];return function(Vt){for(bt=0;bt<Et;++bt)Qe[bt]=Be[bt](Vt);return Qe}}var Qc=function(){return N},jo=n.map({linear:Qc,poly:qc,quad:function(){return dl},cubic:function(){return Fs},sin:function(){return gv},exp:function(){return Ef},circle:function(){return yv},elastic:mv,back:xv,bounce:function(){return uc}}),pv=n.map({in:N,out:uo,"in-out":sc,"out-in":function(fe){return sc(uo(fe))}});n.ease=function(fe){var Pe=fe.indexOf("-"),Be=Pe>=0?fe.slice(0,Pe):fe,Qe=Pe>=0?fe.slice(Pe+1):"in";return Be=jo.get(Be)||Qc,Qe=pv.get(Qe)||N,zs(Qe(Be.apply(null,C.call(arguments,1))))};function zs(fe){return function(Pe){return Pe<=0?0:Pe>=1?1:fe(Pe)}}function uo(fe){return function(Pe){return 1-fe(1-Pe)}}function sc(fe){return function(Pe){return .5*(Pe<.5?fe(2*Pe):2-fe(2-2*Pe))}}function dl(fe){return fe*fe}function Fs(fe){return fe*fe*fe}function lc(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Pe=fe*fe,Be=Pe*fe;return 4*(fe<.5?Be:3*(fe-Pe)+Be-.75)}function qc(fe){return function(Pe){return Math.pow(Pe,fe)}}function gv(fe){return 1-Math.cos(fe*tt)}function Ef(fe){return Math.pow(2,10*(fe-1))}function yv(fe){return 1-Math.sqrt(1-fe*fe)}function mv(fe,Pe){var Be;return arguments.length<2&&(Pe=.45),arguments.length?Be=Pe/Ve*Math.asin(1/fe):(fe=1,Be=Pe/4),function(Qe){return 1+fe*Math.pow(2,-10*Qe)*Math.sin((Qe-Be)*Ve/Pe)}}function xv(fe){return fe||(fe=1.70158),function(Pe){return Pe*Pe*((fe+1)*Pe-fe)}}function uc(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}n.interpolateHcl=bv;function bv(fe,Pe){fe=n.hcl(fe),Pe=n.hcl(Pe);var Be=fe.h,Qe=fe.c,rt=fe.l,st=Pe.h-Be,Et=Pe.c-Qe,bt=Pe.l-rt;return isNaN(Et)&&(Et=0,Qe=isNaN(Qe)?Pe.c:Qe),isNaN(st)?(st=0,Be=isNaN(Be)?Pe.h:Be):st>180?st-=360:st<-180&&(st+=360),function(Vt){return Ot(Be+st*Vt,Qe+Et*Vt,rt+bt*Vt)+""}}n.interpolateHsl=wv;function wv(fe,Pe){fe=n.hsl(fe),Pe=n.hsl(Pe);var Be=fe.h,Qe=fe.s,rt=fe.l,st=Pe.h-Be,Et=Pe.s-Qe,bt=Pe.l-rt;return isNaN(Et)&&(Et=0,Qe=isNaN(Qe)?Pe.s:Qe),isNaN(st)?(st=0,Be=isNaN(Be)?Pe.h:Be):st>180?st-=360:st<-180&&(st+=360),function(Vt){return St(Be+st*Vt,Qe+Et*Vt,rt+bt*Vt)+""}}n.interpolateLab=eh;function eh(fe,Pe){fe=n.lab(fe),Pe=n.lab(Pe);var Be=fe.l,Qe=fe.a,rt=fe.b,st=Pe.l-Be,Et=Pe.a-Qe,bt=Pe.b-rt;return function(Vt){return je(Be+st*Vt,Qe+Et*Vt,rt+bt*Vt)+""}}n.interpolateRound=th;function th(fe,Pe){return Pe-=fe,function(Be){return Math.round(fe+Pe*Be)}}n.transform=function(fe){var Pe=d.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(Be){if(Be!=null){Pe.setAttribute("transform",Be);var Qe=Pe.transform.baseVal.consolidate()}return new Bl(Qe?Qe.matrix:rh)})(fe)};function Bl(fe){var Pe=[fe.a,fe.b],Be=[fe.c,fe.d],Qe=Gu(Pe),rt=cu(Pe,Be),st=Gu(Wu(Be,Pe,-rt))||0;Pe[0]*Be[1]<Be[0]*Pe[1]&&(Pe[0]*=-1,Pe[1]*=-1,Qe*=-1,rt*=-1),this.rotate=(Qe?Math.atan2(Pe[1],Pe[0]):Math.atan2(-Be[0],Be[1]))*gt,this.translate=[fe.e,fe.f],this.scale=[Qe,st],this.skew=st?Math.atan2(rt,st)*gt:0}Bl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function cu(fe,Pe){return fe[0]*Pe[0]+fe[1]*Pe[1]}function Gu(fe){var Pe=Math.sqrt(cu(fe,fe));return Pe&&(fe[0]/=Pe,fe[1]/=Pe),Pe}function Wu(fe,Pe,Be){return fe[0]+=Be*Pe[0],fe[1]+=Be*Pe[1],fe}var rh={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Lf;function Ks(fe){return fe.length?fe.pop()+",":""}function Tv(fe,Pe,Be,Qe){if(fe[0]!==Pe[0]||fe[1]!==Pe[1]){var rt=Be.push("translate(",null,",",null,")");Qe.push({i:rt-4,x:Yi(fe[0],Pe[0])},{i:rt-2,x:Yi(fe[1],Pe[1])})}else(Pe[0]||Pe[1])&&Be.push("translate("+Pe+")")}function Cf(fe,Pe,Be,Qe){fe!==Pe?(fe-Pe>180?Pe+=360:Pe-fe>180&&(fe+=360),Qe.push({i:Be.push(Ks(Be)+"rotate(",null,")")-2,x:Yi(fe,Pe)})):Pe&&Be.push(Ks(Be)+"rotate("+Pe+")")}function nh(fe,Pe,Be,Qe){fe!==Pe?Qe.push({i:Be.push(Ks(Be)+"skewX(",null,")")-2,x:Yi(fe,Pe)}):Pe&&Be.push(Ks(Be)+"skewX("+Pe+")")}function ah(fe,Pe,Be,Qe){if(fe[0]!==Pe[0]||fe[1]!==Pe[1]){var rt=Be.push(Ks(Be)+"scale(",null,",",null,")");Qe.push({i:rt-4,x:Yi(fe[0],Pe[0])},{i:rt-2,x:Yi(fe[1],Pe[1])})}else(Pe[0]!==1||Pe[1]!==1)&&Be.push(Ks(Be)+"scale("+Pe+")")}function Lf(fe,Pe){var Be=[],Qe=[];return fe=n.transform(fe),Pe=n.transform(Pe),Tv(fe.translate,Pe.translate,Be,Qe),Cf(fe.rotate,Pe.rotate,Be,Qe),nh(fe.skew,Pe.skew,Be,Qe),ah(fe.scale,Pe.scale,Be,Qe),fe=Pe=null,function(rt){for(var st=-1,Et=Qe.length,bt;++st<Et;)Be[(bt=Qe[st]).i]=bt.x(rt);return Be.join("")}}function gs(fe,Pe){return Pe=(Pe-=fe=+fe)||1/Pe,function(Be){return(Be-fe)/Pe}}function hu(fe,Pe){return Pe=(Pe-=fe=+fe)||1/Pe,function(Be){return Math.max(0,Math.min(1,(Be-fe)/Pe))}}n.layout={},n.layout.bundle=function(){return function(fe){for(var Pe=[],Be=-1,Qe=fe.length;++Be<Qe;)Pe.push(Nl(fe[Be]));return Pe}};function Nl(fe){for(var Pe=fe.source,Be=fe.target,Qe=pl(Pe,Be),rt=[Pe];Pe!==Qe;)Pe=Pe.parent,rt.push(Pe);for(var st=rt.length;Be!==Qe;)rt.splice(st,0,Be),Be=Be.parent;return rt}function ju(fe){for(var Pe=[],Be=fe.parent;Be!=null;)Pe.push(fe),fe=Be,Be=Be.parent;return Pe.push(fe),Pe}function pl(fe,Pe){if(fe===Pe)return fe;for(var Be=ju(fe),Qe=ju(Pe),rt=Be.pop(),st=Qe.pop(),Et=null;rt===st;)Et=rt,rt=Be.pop(),st=Qe.pop();return Et}n.layout.chord=function(){var fe={},Pe,Be,Qe,rt,st=0,Et,bt,Vt;function Gt(){var Rr={},kr=[],qr=n.range(rt),ln=[],Ir,Hr,Kr,cn,dn;for(Pe=[],Be=[],Ir=0,cn=-1;++cn<rt;){for(Hr=0,dn=-1;++dn<rt;)Hr+=Qe[cn][dn];kr.push(Hr),ln.push(n.range(rt)),Ir+=Hr}for(Et&&qr.sort(function(Ua,La){return Et(kr[Ua],kr[La])}),bt&&ln.forEach(function(Ua,La){Ua.sort(function(Fa,si){return bt(Qe[La][Fa],Qe[La][si])})}),Ir=(Ve-st*rt)/Ir,Hr=0,cn=-1;++cn<rt;){for(Kr=Hr,dn=-1;++dn<rt;){var tn=qr[cn],Hn=ln[tn][dn],oa=Qe[tn][Hn],da=Hr,aa=Hr+=oa*Ir;Rr[tn+"-"+Hn]={index:tn,subindex:Hn,startAngle:da,endAngle:aa,value:oa}}Be[tn]={index:tn,startAngle:Kr,endAngle:Hr,value:kr[tn]},Hr+=st}for(cn=-1;++cn<rt;)for(dn=cn-1;++dn<rt;){var fa=Rr[cn+"-"+dn],pa=Rr[dn+"-"+cn];(fa.value||pa.value)&&Pe.push(fa.value<pa.value?{source:pa,target:fa}:{source:fa,target:pa})}Vt&&nr()}function nr(){Pe.sort(function(Rr,kr){return Vt((Rr.source.value+Rr.target.value)/2,(kr.source.value+kr.target.value)/2)})}return fe.matrix=function(Rr){return arguments.length?(rt=(Qe=Rr)&&Qe.length,Pe=Be=null,fe):Qe},fe.padding=function(Rr){return arguments.length?(st=Rr,Pe=Be=null,fe):st},fe.sortGroups=function(Rr){return arguments.length?(Et=Rr,Pe=Be=null,fe):Et},fe.sortSubgroups=function(Rr){return arguments.length?(bt=Rr,Pe=null,fe):bt},fe.sortChords=function(Rr){return arguments.length?(Vt=Rr,Pe&&nr(),fe):Vt},fe.chords=function(){return Pe||Gt(),Pe},fe.groups=function(){return Be||Gt(),Be},fe},n.layout.force=function(){var fe={},Pe=n.dispatch("start","tick","end"),Be,Qe=[1,1],rt,st,Et=.9,bt=cc,Vt=Av,Gt=-30,nr=Pf,Rr=.1,kr=.64,qr=[],ln=[],Ir,Hr,Kr;function cn(tn){return function(Hn,oa,da,aa){if(Hn.point!==tn){var fa=Hn.cx-tn.x,pa=Hn.cy-tn.y,Ua=aa-oa,La=fa*fa+pa*pa;if(Ua*Ua/kr<La){if(La<nr){var Fa=Hn.charge/La;tn.px-=fa*Fa,tn.py-=pa*Fa}return!0}if(Hn.point&&La&&La<nr){var Fa=Hn.pointCharge/La;tn.px-=fa*Fa,tn.py-=pa*Fa}}return!Hn.charge}}fe.tick=function(){if((st*=.99)<.005)return Be=null,Pe.end({type:"end",alpha:st=0}),!0;var tn=qr.length,Hn=ln.length,oa,da,aa,fa,pa,Ua,La,Fa,si;for(da=0;da<Hn;++da)aa=ln[da],fa=aa.source,pa=aa.target,Fa=pa.x-fa.x,si=pa.y-fa.y,(Ua=Fa*Fa+si*si)&&(Ua=st*Hr[da]*((Ua=Math.sqrt(Ua))-Ir[da])/Ua,Fa*=Ua,si*=Ua,pa.x-=Fa*(La=fa.weight+pa.weight?fa.weight/(fa.weight+pa.weight):.5),pa.y-=si*La,fa.x+=Fa*(La=1-La),fa.y+=si*La);if((La=st*Rr)&&(Fa=Qe[0]/2,si=Qe[1]/2,da=-1,La))for(;++da<tn;)aa=qr[da],aa.x+=(Fa-aa.x)*La,aa.y+=(si-aa.y)*La;if(Gt)for(Ni(oa=n.geom.quadtree(qr),st,Kr),da=-1;++da<tn;)(aa=qr[da]).fixed||oa.visit(cn(aa));for(da=-1;++da<tn;)aa=qr[da],aa.fixed?(aa.x=aa.px,aa.y=aa.py):(aa.x-=(aa.px-(aa.px=aa.x))*Et,aa.y-=(aa.py-(aa.py=aa.y))*Et);Pe.tick({type:"tick",alpha:st})},fe.nodes=function(tn){return arguments.length?(qr=tn,fe):qr},fe.links=function(tn){return arguments.length?(ln=tn,fe):ln},fe.size=function(tn){return arguments.length?(Qe=tn,fe):Qe},fe.linkDistance=function(tn){return arguments.length?(bt=typeof tn=="function"?tn:+tn,fe):bt},fe.distance=fe.linkDistance,fe.linkStrength=function(tn){return arguments.length?(Vt=typeof tn=="function"?tn:+tn,fe):Vt},fe.friction=function(tn){return arguments.length?(Et=+tn,fe):Et},fe.charge=function(tn){return arguments.length?(Gt=typeof tn=="function"?tn:+tn,fe):Gt},fe.chargeDistance=function(tn){return arguments.length?(nr=tn*tn,fe):Math.sqrt(nr)},fe.gravity=function(tn){return arguments.length?(Rr=+tn,fe):Rr},fe.theta=function(tn){return arguments.length?(kr=tn*tn,fe):Math.sqrt(kr)},fe.alpha=function(tn){return arguments.length?(tn=+tn,st?tn>0?st=tn:(Be.c=null,Be.t=NaN,Be=null,Pe.end({type:"end",alpha:st=0})):tn>0&&(Pe.start({type:"start",alpha:st=tn}),Be=Pn(fe.tick)),fe):st},fe.start=function(){var tn,Hn=qr.length,oa=ln.length,da=Qe[0],aa=Qe[1],fa,pa;for(tn=0;tn<Hn;++tn)(pa=qr[tn]).index=tn,pa.weight=0;for(tn=0;tn<oa;++tn)pa=ln[tn],typeof pa.source=="number"&&(pa.source=qr[pa.source]),typeof pa.target=="number"&&(pa.target=qr[pa.target]),++pa.source.weight,++pa.target.weight;for(tn=0;tn<Hn;++tn)pa=qr[tn],isNaN(pa.x)&&(pa.x=Ua("x",da)),isNaN(pa.y)&&(pa.y=Ua("y",aa)),isNaN(pa.px)&&(pa.px=pa.x),isNaN(pa.py)&&(pa.py=pa.y);if(Ir=[],typeof bt=="function")for(tn=0;tn<oa;++tn)Ir[tn]=+bt.call(this,ln[tn],tn);else for(tn=0;tn<oa;++tn)Ir[tn]=bt;if(Hr=[],typeof Vt=="function")for(tn=0;tn<oa;++tn)Hr[tn]=+Vt.call(this,ln[tn],tn);else for(tn=0;tn<oa;++tn)Hr[tn]=Vt;if(Kr=[],typeof Gt=="function")for(tn=0;tn<Hn;++tn)Kr[tn]=+Gt.call(this,qr[tn],tn);else for(tn=0;tn<Hn;++tn)Kr[tn]=Gt;function Ua(La,Fa){if(!fa){for(fa=new Array(Hn),vi=0;vi<Hn;++vi)fa[vi]=[];for(vi=0;vi<oa;++vi){var si=ln[vi];fa[si.source.index].push(si.target),fa[si.target.index].push(si.source)}}for(var Zi=fa[tn],vi=-1,na=Zi.length,Ha;++vi<na;)if(!isNaN(Ha=Zi[vi][La]))return Ha;return Math.random()*Fa}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(rt||(rt=n.behavior.drag().origin(N).on("dragstart.force",Os).on("drag.force",dn).on("dragend.force",fc)),!arguments.length)return rt;this.on("mouseover.force",vu).on("mouseout.force",ys).call(rt)};function dn(tn){tn.px=n.event.x,tn.py=n.event.y,fe.resume()}return n.rebind(fe,Pe,"on")};function Os(fe){fe.fixed|=2}function fc(fe){fe.fixed&=-7}function vu(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function ys(fe){fe.fixed&=-5}function Ni(fe,Pe,Be){var Qe=0,rt=0;if(fe.charge=0,!fe.leaf)for(var st=fe.nodes,Et=st.length,bt=-1,Vt;++bt<Et;)Vt=st[bt],Vt!=null&&(Ni(Vt,Pe,Be),fe.charge+=Vt.charge,Qe+=Vt.charge*Vt.cx,rt+=Vt.charge*Vt.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var Gt=Pe*Be[fe.point.index];fe.charge+=fe.pointCharge=Gt,Qe+=Gt*fe.point.x,rt+=Gt*fe.point.y}fe.cx=Qe/fe.charge,fe.cy=rt/fe.charge}var cc=20,Av=1,Pf=1/0;n.layout.hierarchy=function(){var fe=kf,Pe=Rf,Be=gu;function Qe(rt){var st=[rt],Et=[],bt;for(rt.depth=0;(bt=st.pop())!=null;)if(Et.push(bt),(Gt=Pe.call(Qe,bt,bt.depth))&&(Vt=Gt.length)){for(var Vt,Gt,nr;--Vt>=0;)st.push(nr=Gt[Vt]),nr.parent=bt,nr.depth=bt.depth+1;Be&&(bt.value=0),bt.children=Gt}else Be&&(bt.value=+Be.call(Qe,bt,bt.depth)||0),delete bt.children;return Yo(rt,function(Rr){var kr,qr;fe&&(kr=Rr.children)&&kr.sort(fe),Be&&(qr=Rr.parent)&&(qr.value+=Rr.value)}),Et}return Qe.sort=function(rt){return arguments.length?(fe=rt,Qe):fe},Qe.children=function(rt){return arguments.length?(Pe=rt,Qe):Pe},Qe.value=function(rt){return arguments.length?(Be=rt,Qe):Be},Qe.revalue=function(rt){return Be&&(pu(rt,function(st){st.children&&(st.value=0)}),Yo(rt,function(st){var Et;st.children||(st.value=+Be.call(Qe,st,st.depth)||0),(Et=st.parent)&&(Et.value+=st.value)})),rt},Qe};function du(fe,Pe){return n.rebind(fe,Pe,"sort","children","value"),fe.nodes=fe,fe.links=Sv,fe}function pu(fe,Pe){for(var Be=[fe];(fe=Be.pop())!=null;)if(Pe(fe),(rt=fe.children)&&(Qe=rt.length))for(var Qe,rt;--Qe>=0;)Be.push(rt[Qe])}function Yo(fe,Pe){for(var Be=[fe],Qe=[];(fe=Be.pop())!=null;)if(Qe.push(fe),(Et=fe.children)&&(st=Et.length))for(var rt=-1,st,Et;++rt<st;)Be.push(Et[rt]);for(;(fe=Qe.pop())!=null;)Pe(fe)}function Rf(fe){return fe.children}function gu(fe){return fe.value}function kf(fe,Pe){return Pe.value-fe.value}function Sv(fe){return n.merge(fe.map(function(Pe){return(Pe.children||[]).map(function(Be){return{source:Pe,target:Be}})}))}n.layout.partition=function(){var fe=n.layout.hierarchy(),Pe=[1,1];function Be(st,Et,bt,Vt){var Gt=st.children;if(st.x=Et,st.y=st.depth*Vt,st.dx=bt,st.dy=Vt,Gt&&(Rr=Gt.length)){var nr=-1,Rr,kr,qr;for(bt=st.value?bt/st.value:0;++nr<Rr;)Be(kr=Gt[nr],Et,qr=kr.value*bt,Vt),Et+=qr}}function Qe(st){var Et=st.children,bt=0;if(Et&&(Gt=Et.length))for(var Vt=-1,Gt;++Vt<Gt;)bt=Math.max(bt,Qe(Et[Vt]));return 1+bt}function rt(st,Et){var bt=fe.call(this,st,Et);return Be(bt[0],0,Pe[0],Pe[1]/Qe(bt[0])),bt}return rt.size=function(st){return arguments.length?(Pe=st,rt):Pe},du(rt,fe)},n.layout.pie=function(){var fe=Number,Pe=ih,Be=0,Qe=Ve,rt=0;function st(Et){var bt=Et.length,Vt=Et.map(function(cn,dn){return+fe.call(st,cn,dn)}),Gt=+(typeof Be=="function"?Be.apply(this,arguments):Be),nr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-Gt,Rr=Math.min(Math.abs(nr)/bt,+(typeof rt=="function"?rt.apply(this,arguments):rt)),kr=Rr*(nr<0?-1:1),qr=n.sum(Vt),ln=qr?(nr-bt*kr)/qr:0,Ir=n.range(bt),Hr=[],Kr;return Pe!=null&&Ir.sort(Pe===ih?function(cn,dn){return Vt[dn]-Vt[cn]}:function(cn,dn){return Pe(Et[cn],Et[dn])}),Ir.forEach(function(cn){Hr[cn]={data:Et[cn],value:Kr=Vt[cn],startAngle:Gt,endAngle:Gt+=Kr*ln+kr,padAngle:Rr}}),Hr}return st.value=function(Et){return arguments.length?(fe=Et,st):fe},st.sort=function(Et){return arguments.length?(Pe=Et,st):Pe},st.startAngle=function(Et){return arguments.length?(Be=Et,st):Be},st.endAngle=function(Et){return arguments.length?(Qe=Et,st):Qe},st.padAngle=function(Et){return arguments.length?(rt=Et,st):rt},st};var ih={};n.layout.stack=function(){var fe=N,Pe=Yu,Be=If,Qe=dc,rt=hc,st=vc;function Et(bt,Vt){if(!(ln=bt.length))return bt;var Gt=bt.map(function(cn,dn){return fe.call(Et,cn,dn)}),nr=Gt.map(function(cn){return cn.map(function(dn,tn){return[rt.call(Et,dn,tn),st.call(Et,dn,tn)]})}),Rr=Pe.call(Et,nr,Vt);Gt=n.permute(Gt,Rr),nr=n.permute(nr,Rr);var kr=Be.call(Et,nr,Vt),qr=Gt[0].length,ln,Ir,Hr,Kr;for(Hr=0;Hr<qr;++Hr)for(Qe.call(Et,Gt[0][Hr],Kr=kr[Hr],nr[0][Hr][1]),Ir=1;Ir<ln;++Ir)Qe.call(Et,Gt[Ir][Hr],Kr+=nr[Ir-1][Hr][1],nr[Ir][Hr][1]);return bt}return Et.values=function(bt){return arguments.length?(fe=bt,Et):fe},Et.order=function(bt){return arguments.length?(Pe=typeof bt=="function"?bt:yu.get(bt)||Yu,Et):Pe},Et.offset=function(bt){return arguments.length?(Be=typeof bt=="function"?bt:Df.get(bt)||If,Et):Be},Et.x=function(bt){return arguments.length?(rt=bt,Et):rt},Et.y=function(bt){return arguments.length?(st=bt,Et):st},Et.out=function(bt){return arguments.length?(Qe=bt,Et):Qe},Et};function hc(fe){return fe.x}function vc(fe){return fe.y}function dc(fe,Pe,Be){fe.y0=Pe,fe.y=Be}var yu=n.map({"inside-out":function(fe){var Pe=fe.length,Be,Qe,rt=fe.map(xi),st=fe.map(oh),Et=n.range(Pe).sort(function(Rr,kr){return rt[Rr]-rt[kr]}),bt=0,Vt=0,Gt=[],nr=[];for(Be=0;Be<Pe;++Be)Qe=Et[Be],bt<Vt?(bt+=st[Qe],Gt.push(Qe)):(Vt+=st[Qe],nr.push(Qe));return nr.reverse().concat(Gt)},reverse:function(fe){return n.range(fe.length).reverse()},default:Yu}),Df=n.map({silhouette:function(fe){var Pe=fe.length,Be=fe[0].length,Qe=[],rt=0,st,Et,bt,Vt=[];for(Et=0;Et<Be;++Et){for(st=0,bt=0;st<Pe;st++)bt+=fe[st][Et][1];bt>rt&&(rt=bt),Qe.push(bt)}for(Et=0;Et<Be;++Et)Vt[Et]=(rt-Qe[Et])/2;return Vt},wiggle:function(fe){var Pe=fe.length,Be=fe[0],Qe=Be.length,rt,st,Et,bt,Vt,Gt,nr,Rr,kr,qr=[];for(qr[0]=Rr=kr=0,st=1;st<Qe;++st){for(rt=0,bt=0;rt<Pe;++rt)bt+=fe[rt][st][1];for(rt=0,Vt=0,nr=Be[st][0]-Be[st-1][0];rt<Pe;++rt){for(Et=0,Gt=(fe[rt][st][1]-fe[rt][st-1][1])/(2*nr);Et<rt;++Et)Gt+=(fe[Et][st][1]-fe[Et][st-1][1])/nr;Vt+=Gt*fe[rt][st][1]}qr[st]=Rr-=bt?Vt/bt*nr:0,Rr<kr&&(kr=Rr)}for(st=0;st<Qe;++st)qr[st]-=kr;return qr},expand:function(fe){var Pe=fe.length,Be=fe[0].length,Qe=1/Pe,rt,st,Et,bt=[];for(st=0;st<Be;++st){for(rt=0,Et=0;rt<Pe;rt++)Et+=fe[rt][st][1];if(Et)for(rt=0;rt<Pe;rt++)fe[rt][st][1]/=Et;else for(rt=0;rt<Pe;rt++)fe[rt][st][1]=Qe}for(st=0;st<Be;++st)bt[st]=0;return bt},zero:If});function Yu(fe){return n.range(fe.length)}function If(fe){for(var Pe=-1,Be=fe[0].length,Qe=[];++Pe<Be;)Qe[Pe]=0;return Qe}function xi(fe){for(var Pe=1,Be=0,Qe=fe[0][1],rt,st=fe.length;Pe<st;++Pe)(rt=fe[Pe][1])>Qe&&(Be=Pe,Qe=rt);return Be}function oh(fe){return fe.reduce(ms,0)}function ms(fe,Pe){return fe+Pe[1]}n.layout.histogram=function(){var fe=!0,Pe=Number,Be=Ul,Qe=sh;function rt(st,kr){for(var bt=[],Vt=st.map(Pe,this),Gt=Be.call(this,Vt,kr),nr=Qe.call(this,Gt,Vt,kr),Rr,kr=-1,qr=Vt.length,ln=nr.length-1,Ir=fe?1:1/qr,Hr;++kr<ln;)Rr=bt[kr]=[],Rr.dx=nr[kr+1]-(Rr.x=nr[kr]),Rr.y=0;if(ln>0)for(kr=-1;++kr<qr;)Hr=Vt[kr],Hr>=Gt[0]&&Hr<=Gt[1]&&(Rr=bt[n.bisect(nr,Hr,1,ln)-1],Rr.y+=Ir,Rr.push(st[kr]));return bt}return rt.value=function(st){return arguments.length?(Pe=st,rt):Pe},rt.range=function(st){return arguments.length?(Be=nn(st),rt):Be},rt.bins=function(st){return arguments.length?(Qe=typeof st=="number"?function(Et){return pc(Et,st)}:nn(st),rt):Qe},rt.frequency=function(st){return arguments.length?(fe=!!st,rt):fe},rt};function sh(fe,Pe){return pc(fe,Math.ceil(Math.log(Pe.length)/Math.LN2+1))}function pc(fe,Pe){for(var Be=-1,Qe=+fe[0],rt=(fe[1]-Qe)/Pe,st=[];++Be<=Pe;)st[Be]=rt*Be+Qe;return st}function Ul(fe){return[n.min(fe),n.max(fe)]}n.layout.pack=function(){var fe=n.layout.hierarchy().sort(yl),Pe=0,Be=[1,1],Qe;function rt(st,Et){var bt=fe.call(this,st,Et),Vt=bt[0],Gt=Be[0],nr=Be[1],Rr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Vt.x=Vt.y=0,Yo(Vt,function(qr){qr.r=+Rr(qr.value)}),Yo(Vt,xs),Pe){var kr=Pe*(Qe?1:Math.max(2*Vt.r/Gt,2*Vt.r/nr))/2;Yo(Vt,function(qr){qr.r+=kr}),Yo(Vt,xs),Yo(Vt,function(qr){qr.r-=kr})}return ml(Vt,Gt/2,nr/2,Qe?1:1/Math.max(2*Vt.r/Gt,2*Vt.r/nr)),bt}return rt.size=function(st){return arguments.length?(Be=st,rt):Be},rt.radius=function(st){return arguments.length?(Qe=st==null||typeof st=="function"?st:+st,rt):Qe},rt.padding=function(st){return arguments.length?(Pe=+st,rt):Pe},du(rt,fe)};function yl(fe,Pe){return fe.value-Pe.value}function _f(fe,Pe){var Be=fe._pack_next;fe._pack_next=Pe,Pe._pack_prev=fe,Pe._pack_next=Be,Be._pack_prev=Pe}function Wi(fe,Pe){fe._pack_next=Pe,Pe._pack_prev=fe}function Zu(fe,Pe){var Be=Pe.x-fe.x,Qe=Pe.y-fe.y,rt=fe.r+Pe.r;return .999*rt*rt>Be*Be+Qe*Qe}function xs(fe){if(!(Pe=fe.children)||!(kr=Pe.length))return;var Pe,Be=1/0,Qe=-1/0,rt=1/0,st=-1/0,Et,bt,Vt,Gt,nr,Rr,kr;function qr(tn){Be=Math.min(tn.x-tn.r,Be),Qe=Math.max(tn.x+tn.r,Qe),rt=Math.min(tn.y-tn.r,rt),st=Math.max(tn.y+tn.r,st)}if(Pe.forEach(Js),Et=Pe[0],Et.x=-Et.r,Et.y=0,qr(Et),kr>1&&(bt=Pe[1],bt.x=bt.r,bt.y=0,qr(bt),kr>2))for(Vt=Pe[2],bs(Et,bt,Vt),qr(Vt),_f(Et,Vt),Et._pack_prev=Vt,_f(Vt,bt),bt=Et._pack_next,Gt=3;Gt<kr;Gt++){bs(Et,bt,Vt=Pe[Gt]);var ln=0,Ir=1,Hr=1;for(nr=bt._pack_next;nr!==bt;nr=nr._pack_next,Ir++)if(Zu(nr,Vt)){ln=1;break}if(ln==1)for(Rr=Et._pack_prev;Rr!==nr._pack_prev&&!Zu(Rr,Vt);Rr=Rr._pack_prev,Hr++);ln?(Ir<Hr||Ir==Hr&&bt.r<Et.r?Wi(Et,bt=nr):Wi(Et=Rr,bt),Gt--):(_f(Et,Vt),bt=Vt,qr(Vt))}var Kr=(Be+Qe)/2,cn=(rt+st)/2,dn=0;for(Gt=0;Gt<kr;Gt++)Vt=Pe[Gt],Vt.x-=Kr,Vt.y-=cn,dn=Math.max(dn,Vt.r+Math.sqrt(Vt.x*Vt.x+Vt.y*Vt.y));fe.r=dn,Pe.forEach(Vl)}function Js(fe){fe._pack_next=fe._pack_prev=fe}function Vl(fe){delete fe._pack_next,delete fe._pack_prev}function ml(fe,Pe,Be,Qe){var rt=fe.children;if(fe.x=Pe+=Qe*fe.x,fe.y=Be+=Qe*fe.y,fe.r*=Qe,rt)for(var st=-1,Et=rt.length;++st<Et;)ml(rt[st],Pe,Be,Qe)}function bs(fe,Pe,Be){var Qe=fe.r+Be.r,rt=Pe.x-fe.x,st=Pe.y-fe.y;if(Qe&&(rt||st)){var Et=Pe.r+Be.r,bt=rt*rt+st*st;Et*=Et,Qe*=Qe;var Vt=.5+(Qe-Et)/(2*bt),Gt=Math.sqrt(Math.max(0,2*Et*(Qe+bt)-(Qe-=bt)*Qe-Et*Et))/(2*bt);Be.x=fe.x+Vt*rt+Gt*st,Be.y=fe.y+Vt*st-Gt*rt}else Be.x=fe.x+Qe,Be.y=fe.y}n.layout.tree=function(){var fe=n.layout.hierarchy().sort(null).value(null),Pe=Qs,Be=[1,1],Qe=null;function rt(nr,Rr){var kr=fe.call(this,nr,Rr),qr=kr[0],ln=st(qr);if(Yo(ln,Et),ln.parent.m=-ln.z,pu(ln,bt),Qe)pu(qr,Gt);else{var Ir=qr,Hr=qr,Kr=qr;pu(qr,function(Hn){Hn.x<Ir.x&&(Ir=Hn),Hn.x>Hr.x&&(Hr=Hn),Hn.depth>Kr.depth&&(Kr=Hn)});var cn=Pe(Ir,Hr)/2-Ir.x,dn=Be[0]/(Hr.x+Pe(Hr,Ir)/2+cn),tn=Be[1]/(Kr.depth||1);pu(qr,function(Hn){Hn.x=(Hn.x+cn)*dn,Hn.y=Hn.depth*tn})}return kr}function st(nr){for(var Rr={A:null,children:[nr]},kr=[Rr],qr;(qr=kr.pop())!=null;)for(var ln=qr.children,Ir,Hr=0,Kr=ln.length;Hr<Kr;++Hr)kr.push((ln[Hr]=Ir={_:ln[Hr],parent:qr,children:(Ir=ln[Hr].children)&&Ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Hr}).a=Ir);return Rr.children[0]}function Et(nr){var Rr=nr.children,kr=nr.parent.children,qr=nr.i?kr[nr.i-1]:null;if(Rr.length){Mv(nr);var ln=(Rr[0].z+Rr[Rr.length-1].z)/2;qr?(nr.z=qr.z+Pe(nr._,qr._),nr.m=nr.z-ln):nr.z=ln}else qr&&(nr.z=qr.z+Pe(nr._,qr._));nr.parent.A=Vt(nr,qr,nr.parent.A||kr[0])}function bt(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Vt(nr,Rr,kr){if(Rr){for(var qr=nr,ln=nr,Ir=Rr,Hr=qr.parent.children[0],Kr=qr.m,cn=ln.m,dn=Ir.m,tn=Hr.m,Hn;Ir=os(Ir),qr=ws(qr),Ir&&qr;)Hr=ws(Hr),ln=os(ln),ln.a=nr,Hn=Ir.z+dn-qr.z-Kr+Pe(Ir._,qr._),Hn>0&&(Xu(Ev(Ir,nr,kr),nr,Hn),Kr+=Hn,cn+=Hn),dn+=Ir.m,Kr+=qr.m,tn+=Hr.m,cn+=ln.m;Ir&&!os(ln)&&(ln.t=Ir,ln.m+=dn-cn),qr&&!ws(Hr)&&(Hr.t=qr,Hr.m+=Kr-tn,kr=nr)}return kr}function Gt(nr){nr.x*=Be[0],nr.y=nr.depth*Be[1]}return rt.separation=function(nr){return arguments.length?(Pe=nr,rt):Pe},rt.size=function(nr){return arguments.length?(Qe=(Be=nr)==null?Gt:null,rt):Qe?null:Be},rt.nodeSize=function(nr){return arguments.length?(Qe=(Be=nr)==null?null:Gt,rt):Qe?Be:null},du(rt,fe)};function Qs(fe,Pe){return fe.parent==Pe.parent?1:2}function ws(fe){var Pe=fe.children;return Pe.length?Pe[0]:fe.t}function os(fe){var Pe=fe.children,Be;return(Be=Pe.length)?Pe[Be-1]:fe.t}function Xu(fe,Pe,Be){var Qe=Be/(Pe.i-fe.i);Pe.c-=Qe,Pe.s+=Be,fe.c+=Qe,Pe.z+=Be,Pe.m+=Be}function Mv(fe){for(var Pe=0,Be=0,Qe=fe.children,rt=Qe.length,st;--rt>=0;)st=Qe[rt],st.z+=Pe,st.m+=Pe,Pe+=st.s+(Be+=st.c)}function Ev(fe,Pe,Be){return fe.a.parent===Pe.parent?fe.a:Be}n.layout.cluster=function(){var fe=n.layout.hierarchy().sort(null).value(null),Pe=Qs,Be=[1,1],Qe=!1;function rt(st,Et){var bt=fe.call(this,st,Et),Vt=bt[0],Gt,nr=0;Yo(Vt,function(Ir){var Hr=Ir.children;Hr&&Hr.length?(Ir.x=Lv(Hr),Ir.y=Cv(Hr)):(Ir.x=Gt?nr+=Pe(Ir,Gt):0,Ir.y=0,Gt=Ir)});var Rr=gc(Vt),kr=lh(Vt),qr=Rr.x-Pe(Rr,kr)/2,ln=kr.x+Pe(kr,Rr)/2;return Yo(Vt,Qe?function(Ir){Ir.x=(Ir.x-Vt.x)*Be[0],Ir.y=(Vt.y-Ir.y)*Be[1]}:function(Ir){Ir.x=(Ir.x-qr)/(ln-qr)*Be[0],Ir.y=(1-(Vt.y?Ir.y/Vt.y:1))*Be[1]}),bt}return rt.separation=function(st){return arguments.length?(Pe=st,rt):Pe},rt.size=function(st){return arguments.length?(Qe=(Be=st)==null,rt):Qe?null:Be},rt.nodeSize=function(st){return arguments.length?(Qe=(Be=st)!=null,rt):Qe?Be:null},du(rt,fe)};function Cv(fe){return 1+n.max(fe,function(Pe){return Pe.y})}function Lv(fe){return fe.reduce(function(Pe,Be){return Pe+Be.x},0)/fe.length}function gc(fe){var Pe=fe.children;return Pe&&Pe.length?gc(Pe[0]):fe}function lh(fe){var Pe=fe.children,Be;return Pe&&(Be=Pe.length)?lh(Pe[Be-1]):fe}n.layout.treemap=function(){var fe=n.layout.hierarchy(),Pe=Math.round,Be=[1,1],Qe=null,rt=mu,st=!1,Et,bt="squarify",Vt=.5*(1+Math.sqrt(5));function Gt(Ir,Hr){for(var Kr=-1,cn=Ir.length,dn,tn;++Kr<cn;)tn=(dn=Ir[Kr]).value*(Hr<0?0:Hr),dn.area=isNaN(tn)||tn<=0?0:tn}function nr(Ir){var Hr=Ir.children;if(Hr&&Hr.length){var Kr=rt(Ir),cn=[],dn=Hr.slice(),tn,Hn=1/0,oa,da=bt==="slice"?Kr.dx:bt==="dice"?Kr.dy:bt==="slice-dice"?Ir.depth&1?Kr.dy:Kr.dx:Math.min(Kr.dx,Kr.dy),aa;for(Gt(dn,Kr.dx*Kr.dy/Ir.value),cn.area=0;(aa=dn.length)>0;)cn.push(tn=dn[aa-1]),cn.area+=tn.area,bt!=="squarify"||(oa=kr(cn,da))<=Hn?(dn.pop(),Hn=oa):(cn.area-=cn.pop().area,qr(cn,da,Kr,!1),da=Math.min(Kr.dx,Kr.dy),cn.length=cn.area=0,Hn=1/0);cn.length&&(qr(cn,da,Kr,!0),cn.length=cn.area=0),Hr.forEach(nr)}}function Rr(Ir){var Hr=Ir.children;if(Hr&&Hr.length){var Kr=rt(Ir),cn=Hr.slice(),dn,tn=[];for(Gt(cn,Kr.dx*Kr.dy/Ir.value),tn.area=0;dn=cn.pop();)tn.push(dn),tn.area+=dn.area,dn.z!=null&&(qr(tn,dn.z?Kr.dx:Kr.dy,Kr,!cn.length),tn.length=tn.area=0);Hr.forEach(Rr)}}function kr(Ir,Hr){for(var Kr=Ir.area,cn,dn=0,tn=1/0,Hn=-1,oa=Ir.length;++Hn<oa;)(cn=Ir[Hn].area)&&(cn<tn&&(tn=cn),cn>dn&&(dn=cn));return Kr*=Kr,Hr*=Hr,Kr?Math.max(Hr*dn*Vt/Kr,Kr/(Hr*tn*Vt)):1/0}function qr(Ir,Hr,Kr,cn){var dn=-1,tn=Ir.length,Hn=Kr.x,oa=Kr.y,da=Hr?Pe(Ir.area/Hr):0,aa;if(Hr==Kr.dx){for((cn||da>Kr.dy)&&(da=Kr.dy);++dn<tn;)aa=Ir[dn],aa.x=Hn,aa.y=oa,aa.dy=da,Hn+=aa.dx=Math.min(Kr.x+Kr.dx-Hn,da?Pe(aa.area/da):0);aa.z=!0,aa.dx+=Kr.x+Kr.dx-Hn,Kr.y+=da,Kr.dy-=da}else{for((cn||da>Kr.dx)&&(da=Kr.dx);++dn<tn;)aa=Ir[dn],aa.x=Hn,aa.y=oa,aa.dx=da,oa+=aa.dy=Math.min(Kr.y+Kr.dy-oa,da?Pe(aa.area/da):0);aa.z=!1,aa.dy+=Kr.y+Kr.dy-oa,Kr.x+=da,Kr.dx-=da}}function ln(Ir){var Hr=Et||fe(Ir),Kr=Hr[0];return Kr.x=Kr.y=0,Kr.value?(Kr.dx=Be[0],Kr.dy=Be[1]):Kr.dx=Kr.dy=0,Et&&fe.revalue(Kr),Gt([Kr],Kr.dx*Kr.dy/Kr.value),(Et?Rr:nr)(Kr),st&&(Et=Hr),Hr}return ln.size=function(Ir){return arguments.length?(Be=Ir,ln):Be},ln.padding=function(Ir){if(!arguments.length)return Qe;function Hr(dn){var tn=Ir.call(ln,dn,dn.depth);return tn==null?mu(dn):fo(dn,typeof tn=="number"?[tn,tn,tn,tn]:tn)}function Kr(dn){return fo(dn,Ir)}var cn;return rt=(Qe=Ir)==null?mu:(cn=typeof Ir)=="function"?Hr:(cn==="number"&&(Ir=[Ir,Ir,Ir,Ir]),Kr),ln},ln.round=function(Ir){return arguments.length?(Pe=Ir?Math.round:Number,ln):Pe!=Number},ln.sticky=function(Ir){return arguments.length?(st=Ir,Et=null,ln):st},ln.ratio=function(Ir){return arguments.length?(Vt=Ir,ln):Vt},ln.mode=function(Ir){return arguments.length?(bt=Ir+"",ln):bt},du(ln,fe)};function mu(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function fo(fe,Pe){var Be=fe.x+Pe[3],Qe=fe.y+Pe[0],rt=fe.dx-Pe[1]-Pe[3],st=fe.dy-Pe[0]-Pe[2];return rt<0&&(Be+=rt/2,rt=0),st<0&&(Qe+=st/2,st=0),{x:Be,y:Qe,dx:rt,dy:st}}n.random={normal:function(fe,Pe){var Be=arguments.length;return Be<2&&(Pe=1),Be<1&&(fe=0),function(){var Qe,rt,st;do Qe=Math.random()*2-1,rt=Math.random()*2-1,st=Qe*Qe+rt*rt;while(!st||st>1);return fe+Pe*Qe*Math.sqrt(-2*Math.log(st)/st)}},logNormal:function(){var fe=n.random.normal.apply(n,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Pe=n.random.irwinHall(fe);return function(){return Pe()/fe}},irwinHall:function(fe){return function(){for(var Pe=0,Be=0;Be<fe;Be++)Pe+=Math.random();return Pe}}},n.scale={};function ts(fe){var Pe=fe[0],Be=fe[fe.length-1];return Pe<Be?[Pe,Be]:[Be,Pe]}function xu(fe){return fe.rangeExtent?fe.rangeExtent():ts(fe.range())}function uh(fe,Pe,Be,Qe){var rt=Be(fe[0],fe[1]),st=Qe(Pe[0],Pe[1]);return function(Et){return st(rt(Et))}}function $u(fe,Pe){var Be=0,Qe=fe.length-1,rt=fe[Be],st=fe[Qe],Et;return st<rt&&(Et=Be,Be=Qe,Qe=Et,Et=rt,rt=st,st=Et),fe[Be]=Pe.floor(rt),fe[Qe]=Pe.ceil(st),fe}function qs(fe){return fe?{floor:function(Pe){return Math.floor(Pe/fe)*fe},ceil:function(Pe){return Math.ceil(Pe/fe)*fe}}:Pv}var Pv={floor:N,ceil:N};function fh(fe,Pe,Be,Qe){var rt=[],st=[],Et=0,bt=Math.min(fe.length,Pe.length)-1;for(fe[bt]<fe[0]&&(fe=fe.slice().reverse(),Pe=Pe.slice().reverse());++Et<=bt;)rt.push(Be(fe[Et-1],fe[Et])),st.push(Qe(Pe[Et-1],Pe[Et]));return function(Vt){var Gt=n.bisect(fe,Vt,1,bt)-1;return st[Gt](rt[Gt](Vt))}}n.scale.linear=function(){return ch([0,1],[0,1],yo,!1)};function ch(fe,Pe,Be,Qe){var rt,st;function Et(){var Vt=Math.min(fe.length,Pe.length)>2?fh:uh,Gt=Qe?hu:gs;return rt=Vt(fe,Pe,Gt,Be),st=Vt(Pe,fe,Gt,yo),bt}function bt(Vt){return rt(Vt)}return bt.invert=function(Vt){return st(Vt)},bt.domain=function(Vt){return arguments.length?(fe=Vt.map(Number),Et()):fe},bt.range=function(Vt){return arguments.length?(Pe=Vt,Et()):Pe},bt.rangeRound=function(Vt){return bt.range(Vt).interpolate(th)},bt.clamp=function(Vt){return arguments.length?(Qe=Vt,Et()):Qe},bt.interpolate=function(Vt){return arguments.length?(Be=Vt,Et()):Be},bt.ticks=function(Vt){return Ts(fe,Vt)},bt.tickFormat=function(Vt,Gt){return d3_scale_linearTickFormat(fe,Vt,Gt)},bt.nice=function(Vt){return hh(fe,Vt),Et()},bt.copy=function(){return ch(fe,Pe,Be,Qe)},Et()}function yc(fe,Pe){return n.rebind(fe,Pe,"range","rangeRound","interpolate","clamp")}function hh(fe,Pe){return $u(fe,qs(Oo(fe,Pe)[2])),$u(fe,qs(Oo(fe,Pe)[2])),fe}function Oo(fe,Pe){Pe==null&&(Pe=10);var Be=ts(fe),Qe=Be[1]-Be[0],rt=Math.pow(10,Math.floor(Math.log(Qe/Pe)/Math.LN10)),st=Pe/Qe*rt;return st<=.15?rt*=10:st<=.35?rt*=5:st<=.75&&(rt*=2),Be[0]=Math.ceil(Be[0]/rt)*rt,Be[1]=Math.floor(Be[1]/rt)*rt+rt*.5,Be[2]=rt,Be}function Ts(fe,Pe){return n.range.apply(n,Oo(fe,Pe))}n.scale.log=function(){return xl(n.scale.linear().domain([0,1]),10,!0,[1,10])};function xl(fe,Pe,Be,Qe){function rt(bt){return(Be?Math.log(bt<0?0:bt):-Math.log(bt>0?0:-bt))/Math.log(Pe)}function st(bt){return Be?Math.pow(Pe,bt):-Math.pow(Pe,-bt)}function Et(bt){return fe(rt(bt))}return Et.invert=function(bt){return st(fe.invert(bt))},Et.domain=function(bt){return arguments.length?(Be=bt[0]>=0,fe.domain((Qe=bt.map(Number)).map(rt)),Et):Qe},Et.base=function(bt){return arguments.length?(Pe=+bt,fe.domain(Qe.map(rt)),Et):Pe},Et.nice=function(){var bt=$u(Qe.map(rt),Be?Math:bu);return fe.domain(bt),Qe=bt.map(st),Et},Et.ticks=function(){var bt=ts(Qe),Vt=[],Gt=bt[0],nr=bt[1],Rr=Math.floor(rt(Gt)),kr=Math.ceil(rt(nr)),qr=Pe%1?2:Pe;if(isFinite(kr-Rr)){if(Be){for(;Rr<kr;Rr++)for(var ln=1;ln<qr;ln++)Vt.push(st(Rr)*ln);Vt.push(st(Rr))}else for(Vt.push(st(Rr));Rr++<kr;)for(var ln=qr-1;ln>0;ln--)Vt.push(st(Rr)*ln);for(Rr=0;Vt[Rr]<Gt;Rr++);for(kr=Vt.length;Vt[kr-1]>nr;kr--);Vt=Vt.slice(Rr,kr)}return Vt},Et.copy=function(){return xl(fe.copy(),Pe,Be,Qe)},yc(Et,fe)}var bu={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};n.scale.pow=function(){return zf(n.scale.linear(),1,[0,1])};function zf(fe,Pe,Be){var Qe=Hl(Pe),rt=Hl(1/Pe);function st(Et){return fe(Qe(Et))}return st.invert=function(Et){return rt(fe.invert(Et))},st.domain=function(Et){return arguments.length?(fe.domain((Be=Et.map(Number)).map(Qe)),st):Be},st.ticks=function(Et){return Ts(Be,Et)},st.tickFormat=function(Et,bt){return d3_scale_linearTickFormat(Be,Et,bt)},st.nice=function(Et){return st.domain(hh(Be,Et))},st.exponent=function(Et){return arguments.length?(Qe=Hl(Pe=Et),rt=Hl(1/Pe),fe.domain(Be.map(Qe)),st):Pe},st.copy=function(){return zf(fe.copy(),Pe,Be)},yc(st,fe)}function Hl(fe){return function(Pe){return Pe<0?-Math.pow(-Pe,fe):Math.pow(Pe,fe)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return Gl([],{t:"range",a:[[]]})};function Gl(fe,Pe){var Be,Qe,rt;function st(bt){return Qe[((Be.get(bt)||(Pe.t==="range"?Be.set(bt,fe.push(bt)):NaN))-1)%Qe.length]}function Et(bt,Vt){return n.range(fe.length).map(function(Gt){return bt+Vt*Gt})}return st.domain=function(bt){if(!arguments.length)return fe;fe=[],Be=new k;for(var Vt=-1,Gt=bt.length,nr;++Vt<Gt;)Be.has(nr=bt[Vt])||Be.set(nr,fe.push(nr));return st[Pe.t].apply(st,Pe.a)},st.range=function(bt){return arguments.length?(Qe=bt,rt=0,Pe={t:"range",a:arguments},st):Qe},st.rangePoints=function(bt,Vt){arguments.length<2&&(Vt=0);var Gt=bt[0],nr=bt[1],Rr=fe.length<2?(Gt=(Gt+nr)/2,0):(nr-Gt)/(fe.length-1+Vt);return Qe=Et(Gt+Rr*Vt/2,Rr),rt=0,Pe={t:"rangePoints",a:arguments},st},st.rangeRoundPoints=function(bt,Vt){arguments.length<2&&(Vt=0);var Gt=bt[0],nr=bt[1],Rr=fe.length<2?(Gt=nr=Math.round((Gt+nr)/2),0):(nr-Gt)/(fe.length-1+Vt)|0;return Qe=Et(Gt+Math.round(Rr*Vt/2+(nr-Gt-(fe.length-1+Vt)*Rr)/2),Rr),rt=0,Pe={t:"rangeRoundPoints",a:arguments},st},st.rangeBands=function(bt,Vt,Gt){arguments.length<2&&(Vt=0),arguments.length<3&&(Gt=Vt);var nr=bt[1]<bt[0],Rr=bt[nr-0],kr=bt[1-nr],qr=(kr-Rr)/(fe.length-Vt+2*Gt);return Qe=Et(Rr+qr*Gt,qr),nr&&Qe.reverse(),rt=qr*(1-Vt),Pe={t:"rangeBands",a:arguments},st},st.rangeRoundBands=function(bt,Vt,Gt){arguments.length<2&&(Vt=0),arguments.length<3&&(Gt=Vt);var nr=bt[1]<bt[0],Rr=bt[nr-0],kr=bt[1-nr],qr=Math.floor((kr-Rr)/(fe.length-Vt+2*Gt));return Qe=Et(Rr+Math.round((kr-Rr-(fe.length-Vt)*qr)/2),qr),nr&&Qe.reverse(),rt=Math.round(qr*(1-Vt)),Pe={t:"rangeRoundBands",a:arguments},st},st.rangeBand=function(){return rt},st.rangeExtent=function(){return ts(Pe.a[0])},st.copy=function(){return Gl(fe,Pe)},st.domain(fe)}n.scale.category10=function(){return n.scale.ordinal().range(vh)},n.scale.category20=function(){return n.scale.ordinal().range(el)},n.scale.category20b=function(){return n.scale.ordinal().range(wu)},n.scale.category20c=function(){return n.scale.ordinal().range(bl)};var vh=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ft),el=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ft),wu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ft),bl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ft);n.scale.quantile=function(){return tl([],[])};function tl(fe,Pe){var Be;function Qe(){var st=0,Et=Pe.length;for(Be=[];++st<Et;)Be[st-1]=n.quantile(fe,st/Et);return rt}function rt(st){if(!isNaN(st=+st))return Pe[n.bisect(Be,st)]}return rt.domain=function(st){return arguments.length?(fe=st.map(m).filter(f).sort(s),Qe()):fe},rt.range=function(st){return arguments.length?(Pe=st,Qe()):Pe},rt.quantiles=function(){return Be},rt.invertExtent=function(st){return st=Pe.indexOf(st),st<0?[NaN,NaN]:[st>0?Be[st-1]:fe[0],st<Be.length?Be[st]:fe[fe.length-1]]},rt.copy=function(){return tl(fe,Pe)},Qe()}n.scale.quantize=function(){return Ku(0,1,[0,1])};function Ku(fe,Pe,Be){var Qe,rt;function st(bt){return Be[Math.max(0,Math.min(rt,Math.floor(Qe*(bt-fe))))]}function Et(){return Qe=Be.length/(Pe-fe),rt=Be.length-1,st}return st.domain=function(bt){return arguments.length?(fe=+bt[0],Pe=+bt[bt.length-1],Et()):[fe,Pe]},st.range=function(bt){return arguments.length?(Be=bt,Et()):Be},st.invertExtent=function(bt){return bt=Be.indexOf(bt),bt=bt<0?NaN:bt/Qe+fe,[bt,bt+1/Qe]},st.copy=function(){return Ku(fe,Pe,Be)},Et()}n.scale.threshold=function(){return Tu([.5],[0,1])};function Tu(fe,Pe){function Be(Qe){if(Qe<=Qe)return Pe[n.bisect(fe,Qe)]}return Be.domain=function(Qe){return arguments.length?(fe=Qe,Be):fe},Be.range=function(Qe){return arguments.length?(Pe=Qe,Be):Pe},Be.invertExtent=function(Qe){return Qe=Pe.indexOf(Qe),[fe[Qe-1],fe[Qe]]},Be.copy=function(){return Tu(fe,Pe)},Be}n.scale.identity=function(){return pi([0,1])};function pi(fe){function Pe(Be){return+Be}return Pe.invert=Pe,Pe.domain=Pe.range=function(Be){return arguments.length?(fe=Be.map(Pe),Pe):fe},Pe.ticks=function(Be){return Ts(fe,Be)},Pe.tickFormat=function(Be,Qe){return d3_scale_linearTickFormat(fe,Be,Qe)},Pe.copy=function(){return pi(fe)},Pe}n.svg={};function Au(){return 0}n.svg.arc=function(){var fe=dh,Pe=Su,Be=Au,Qe=Ff,rt=Ju,st=Of,Et=mc;function bt(){var Gt=Math.max(0,+fe.apply(this,arguments)),nr=Math.max(0,+Pe.apply(this,arguments)),Rr=rt.apply(this,arguments)-tt,kr=st.apply(this,arguments)-tt,qr=Math.abs(kr-Rr),ln=Rr>kr?0:1;if(nr<Gt&&(Ir=nr,nr=Gt,Gt=Ir),qr>=Ze)return Vt(nr,ln)+(Gt?Vt(Gt,1-ln):"")+"Z";var Ir,Hr,Kr,cn,dn=0,tn=0,Hn,oa,da,aa,fa,pa,Ua,La,Fa=[];if((cn=(+Et.apply(this,arguments)||0)/2)&&(Kr=Qe===Ff?Math.sqrt(Gt*Gt+nr*nr):+Qe.apply(this,arguments),ln||(tn*=-1),nr&&(tn=Kt(Kr/nr*Math.sin(cn))),Gt&&(dn=Kt(Kr/Gt*Math.sin(cn)))),nr){Hn=nr*Math.cos(Rr+tn),oa=nr*Math.sin(Rr+tn),da=nr*Math.cos(kr-tn),aa=nr*Math.sin(kr-tn);var si=Math.abs(kr-Rr-2*tn)<=Se?0:1;if(tn&&Qu(Hn,oa,da,aa)===ln^si){var Zi=(Rr+kr)/2;Hn=nr*Math.cos(Zi),oa=nr*Math.sin(Zi),da=aa=null}}else Hn=oa=0;if(Gt){fa=Gt*Math.cos(kr-dn),pa=Gt*Math.sin(kr-dn),Ua=Gt*Math.cos(Rr+dn),La=Gt*Math.sin(Rr+dn);var vi=Math.abs(Rr-kr+2*dn)<=Se?0:1;if(dn&&Qu(fa,pa,Ua,La)===1-ln^vi){var na=(Rr+kr)/2;fa=Gt*Math.cos(na),pa=Gt*Math.sin(na),Ua=La=null}}else fa=pa=0;if(qr>me&&(Ir=Math.min(Math.abs(nr-Gt)/2,+Be.apply(this,arguments)))>.001){Hr=Gt<nr^ln?0:1;var Ha=Ir,Ma=Ir;if(qr<Se){var Qa=Ua==null?[fa,pa]:da==null?[Hn,oa]:mn([Hn,oa],[Ua,La],[da,aa],[fa,pa]),Si=Hn-Qa[0],li=oa-Qa[1],co=da-Qa[0],ho=aa-Qa[1],mo=1/Math.sin(Math.acos((Si*co+li*ho)/(Math.sqrt(Si*Si+li*li)*Math.sqrt(co*co+ho*ho)))/2),Mi=Math.sqrt(Qa[0]*Qa[0]+Qa[1]*Qa[1]);Ma=Math.min(Ir,(Gt-Mi)/(mo-1)),Ha=Math.min(Ir,(nr-Mi)/(mo+1))}if(da!=null){var ko=qu(Ua==null?[fa,pa]:[Ua,La],[Hn,oa],nr,Ha,ln),ha=qu([da,aa],[fa,pa],nr,Ha,ln);Ir===Ha?Fa.push("M",ko[0],"A",Ha,",",Ha," 0 0,",Hr," ",ko[1],"A",nr,",",nr," 0 ",1-ln^Qu(ko[1][0],ko[1][1],ha[1][0],ha[1][1]),",",ln," ",ha[1],"A",Ha,",",Ha," 0 0,",Hr," ",ha[0]):Fa.push("M",ko[0],"A",Ha,",",Ha," 0 1,",Hr," ",ha[0])}else Fa.push("M",Hn,",",oa);if(Ua!=null){var Ra=qu([Hn,oa],[Ua,La],Gt,-Ma,ln),Xo=qu([fa,pa],da==null?[Hn,oa]:[da,aa],Gt,-Ma,ln);Ir===Ma?Fa.push("L",Xo[0],"A",Ma,",",Ma," 0 0,",Hr," ",Xo[1],"A",Gt,",",Gt," 0 ",ln^Qu(Xo[1][0],Xo[1][1],Ra[1][0],Ra[1][1]),",",1-ln," ",Ra[1],"A",Ma,",",Ma," 0 0,",Hr," ",Ra[0]):Fa.push("L",Xo[0],"A",Ma,",",Ma," 0 0,",Hr," ",Ra[0])}else Fa.push("L",fa,",",pa)}else Fa.push("M",Hn,",",oa),da!=null&&Fa.push("A",nr,",",nr," 0 ",si,",",ln," ",da,",",aa),Fa.push("L",fa,",",pa),Ua!=null&&Fa.push("A",Gt,",",Gt," 0 ",vi,",",1-ln," ",Ua,",",La);return Fa.push("Z"),Fa.join("")}function Vt(Gt,nr){return"M0,"+Gt+"A"+Gt+","+Gt+" 0 1,"+nr+" 0,"+-Gt+"A"+Gt+","+Gt+" 0 1,"+nr+" 0,"+Gt}return bt.innerRadius=function(Gt){return arguments.length?(fe=nn(Gt),bt):fe},bt.outerRadius=function(Gt){return arguments.length?(Pe=nn(Gt),bt):Pe},bt.cornerRadius=function(Gt){return arguments.length?(Be=nn(Gt),bt):Be},bt.padRadius=function(Gt){return arguments.length?(Qe=Gt==Ff?Ff:nn(Gt),bt):Qe},bt.startAngle=function(Gt){return arguments.length?(rt=nn(Gt),bt):rt},bt.endAngle=function(Gt){return arguments.length?(st=nn(Gt),bt):st},bt.padAngle=function(Gt){return arguments.length?(Et=nn(Gt),bt):Et},bt.centroid=function(){var Gt=(+fe.apply(this,arguments)+ +Pe.apply(this,arguments))/2,nr=(+rt.apply(this,arguments)+ +st.apply(this,arguments))/2-tt;return[Math.cos(nr)*Gt,Math.sin(nr)*Gt]},bt};var Ff="auto";function dh(fe){return fe.innerRadius}function Su(fe){return fe.outerRadius}function Ju(fe){return fe.startAngle}function Of(fe){return fe.endAngle}function mc(fe){return fe&&fe.padAngle}function Qu(fe,Pe,Be,Qe){return(fe-Be)*Pe-(Pe-Qe)*fe>0?0:1}function qu(fe,Pe,Be,Qe,rt){var st=fe[0]-Pe[0],Et=fe[1]-Pe[1],bt=(rt?Qe:-Qe)/Math.sqrt(st*st+Et*Et),Vt=bt*Et,Gt=-bt*st,nr=fe[0]+Vt,Rr=fe[1]+Gt,kr=Pe[0]+Vt,qr=Pe[1]+Gt,ln=(nr+kr)/2,Ir=(Rr+qr)/2,Hr=kr-nr,Kr=qr-Rr,cn=Hr*Hr+Kr*Kr,dn=Be-Qe,tn=nr*qr-kr*Rr,Hn=(Kr<0?-1:1)*Math.sqrt(Math.max(0,dn*dn*cn-tn*tn)),oa=(tn*Kr-Hr*Hn)/cn,da=(-tn*Hr-Kr*Hn)/cn,aa=(tn*Kr+Hr*Hn)/cn,fa=(-tn*Hr+Kr*Hn)/cn,pa=oa-ln,Ua=da-Ir,La=aa-ln,Fa=fa-Ir;return pa*pa+Ua*Ua>La*La+Fa*Fa&&(oa=aa,da=fa),[[oa-Vt,da-Gt],[oa*Be/dn,da*Be/dn]]}function wl(){return!0}function ef(fe){var Pe=ra,Be=$n,Qe=wl,rt=to,st=rt.key,Et=.7;function bt(Vt){var Gt=[],nr=[],Rr=-1,kr=Vt.length,qr,ln=nn(Pe),Ir=nn(Be);function Hr(){Gt.push("M",rt(fe(nr),Et))}for(;++Rr<kr;)Qe.call(this,qr=Vt[Rr],Rr)?nr.push([+ln.call(this,qr,Rr),+Ir.call(this,qr,Rr)]):nr.length&&(Hr(),nr=[]);return nr.length&&Hr(),Gt.length?Gt.join(""):null}return bt.x=function(Vt){return arguments.length?(Pe=Vt,bt):Pe},bt.y=function(Vt){return arguments.length?(Be=Vt,bt):Be},bt.defined=function(Vt){return arguments.length?(Qe=Vt,bt):Qe},bt.interpolate=function(Vt){return arguments.length?(typeof Vt=="function"?st=rt=Vt:st=(rt=Tl.get(Vt)||to).key,bt):st},bt.tension=function(Vt){return arguments.length?(Et=Vt,bt):Et},bt}n.svg.line=function(){return ef(N)};var Tl=n.map({linear:to,"linear-closed":Bs,step:xc,"step-before":Wl,"step-after":Bf,basis:Mu,"basis-open":gh,"basis-closed":Al,bundle:kv,cardinal:ph,"cardinal-open":tf,"cardinal-closed":Rv,monotone:Uf});Tl.forEach(function(fe,Pe){Pe.key=fe,Pe.closed=/-closed$/.test(fe)});function to(fe){return fe.length>1?fe.join("L"):fe+"Z"}function Bs(fe){return fe.join("L")+"Z"}function xc(fe){for(var Pe=0,Be=fe.length,Qe=fe[0],rt=[Qe[0],",",Qe[1]];++Pe<Be;)rt.push("H",(Qe[0]+(Qe=fe[Pe])[0])/2,"V",Qe[1]);return Be>1&&rt.push("H",Qe[0]),rt.join("")}function Wl(fe){for(var Pe=0,Be=fe.length,Qe=fe[0],rt=[Qe[0],",",Qe[1]];++Pe<Be;)rt.push("V",(Qe=fe[Pe])[1],"H",Qe[0]);return rt.join("")}function Bf(fe){for(var Pe=0,Be=fe.length,Qe=fe[0],rt=[Qe[0],",",Qe[1]];++Pe<Be;)rt.push("H",(Qe=fe[Pe])[0],"V",Qe[1]);return rt.join("")}function tf(fe,Pe){return fe.length<4?to(fe):fe[1]+Ro(fe.slice(1,-1),rf(fe,Pe))}function Rv(fe,Pe){return fe.length<3?Bs(fe):fe[0]+Ro((fe.push(fe[0]),fe),rf([fe[fe.length-2]].concat(fe,[fe[1]]),Pe))}function ph(fe,Pe){return fe.length<3?to(fe):fe[0]+Ro(fe,rf(fe,Pe))}function Ro(fe,Pe){if(Pe.length<1||fe.length!=Pe.length&&fe.length!=Pe.length+2)return to(fe);var Be=fe.length!=Pe.length,Qe="",rt=fe[0],st=fe[1],Et=Pe[0],bt=Et,Vt=1;if(Be&&(Qe+="Q"+(st[0]-Et[0]*2/3)+","+(st[1]-Et[1]*2/3)+","+st[0]+","+st[1],rt=fe[1],Vt=2),Pe.length>1){bt=Pe[1],st=fe[Vt],Vt++,Qe+="C"+(rt[0]+Et[0])+","+(rt[1]+Et[1])+","+(st[0]-bt[0])+","+(st[1]-bt[1])+","+st[0]+","+st[1];for(var Gt=2;Gt<Pe.length;Gt++,Vt++)st=fe[Vt],bt=Pe[Gt],Qe+="S"+(st[0]-bt[0])+","+(st[1]-bt[1])+","+st[0]+","+st[1]}if(Be){var nr=fe[Vt];Qe+="Q"+(st[0]+bt[0]*2/3)+","+(st[1]+bt[1]*2/3)+","+nr[0]+","+nr[1]}return Qe}function rf(fe,Pe){for(var Be=[],Qe=(1-Pe)/2,rt,st=fe[0],Et=fe[1],bt=1,Vt=fe.length;++bt<Vt;)rt=st,st=Et,Et=fe[bt],Be.push([Qe*(Et[0]-rt[0]),Qe*(Et[1]-rt[1])]);return Be}function Mu(fe){if(fe.length<3)return to(fe);var Pe=1,Be=fe.length,Qe=fe[0],rt=Qe[0],st=Qe[1],Et=[rt,rt,rt,(Qe=fe[1])[0]],bt=[st,st,st,Qe[1]],Vt=[rt,",",st,"L",Zo(rl,Et),",",Zo(rl,bt)];for(fe.push(fe[Be-1]);++Pe<=Be;)Qe=fe[Pe],Et.shift(),Et.push(Qe[0]),bt.shift(),bt.push(Qe[1]),Sl(Vt,Et,bt);return fe.pop(),Vt.push("L",Qe),Vt.join("")}function gh(fe){if(fe.length<4)return to(fe);for(var Pe=[],Be=-1,Qe=fe.length,rt,st=[0],Et=[0];++Be<3;)rt=fe[Be],st.push(rt[0]),Et.push(rt[1]);for(Pe.push(Zo(rl,st)+","+Zo(rl,Et)),--Be;++Be<Qe;)rt=fe[Be],st.shift(),st.push(rt[0]),Et.shift(),Et.push(rt[1]),Sl(Pe,st,Et);return Pe.join("")}function Al(fe){for(var Pe,Be=-1,Qe=fe.length,rt=Qe+4,st,Et=[],bt=[];++Be<4;)st=fe[Be%Qe],Et.push(st[0]),bt.push(st[1]);for(Pe=[Zo(rl,Et),",",Zo(rl,bt)],--Be;++Be<rt;)st=fe[Be%Qe],Et.shift(),Et.push(st[0]),bt.shift(),bt.push(st[1]),Sl(Pe,Et,bt);return Pe.join("")}function kv(fe,Pe){var Be=fe.length-1;if(Be)for(var Qe=fe[0][0],rt=fe[0][1],st=fe[Be][0]-Qe,Et=fe[Be][1]-rt,bt=-1,Vt,Gt;++bt<=Be;)Vt=fe[bt],Gt=bt/Be,Vt[0]=Pe*Vt[0]+(1-Pe)*(Qe+Gt*st),Vt[1]=Pe*Vt[1]+(1-Pe)*(rt+Gt*Et);return Mu(fe)}function Zo(fe,Pe){return fe[0]*Pe[0]+fe[1]*Pe[1]+fe[2]*Pe[2]+fe[3]*Pe[3]}var nf=[0,2/3,1/3,0],Nf=[0,1/3,2/3,0],rl=[0,1/6,2/3,1/6];function Sl(fe,Pe,Be){fe.push("C",Zo(nf,Pe),",",Zo(nf,Be),",",Zo(Nf,Pe),",",Zo(Nf,Be),",",Zo(rl,Pe),",",Zo(rl,Be))}function bc(fe,Pe){return(Pe[1]-fe[1])/(Pe[0]-fe[0])}function af(fe){for(var Pe=0,Be=fe.length-1,Qe=[],rt=fe[0],st=fe[1],Et=Qe[0]=bc(rt,st);++Pe<Be;)Qe[Pe]=(Et+(Et=bc(rt=st,st=fe[Pe+1])))/2;return Qe[Pe]=Et,Qe}function of(fe){for(var Pe=[],Be,Qe,rt,st,Et=af(fe),bt=-1,Vt=fe.length-1;++bt<Vt;)Be=bc(fe[bt],fe[bt+1]),g(Be)<me?Et[bt]=Et[bt+1]=0:(Qe=Et[bt]/Be,rt=Et[bt+1]/Be,st=Qe*Qe+rt*rt,st>9&&(st=Be*3/Math.sqrt(st),Et[bt]=st*Qe,Et[bt+1]=st*rt));for(bt=-1;++bt<=Vt;)st=(fe[Math.min(Vt,bt+1)][0]-fe[Math.max(0,bt-1)][0])/(6*(1+Et[bt]*Et[bt])),Pe.push([st||0,Et[bt]*st||0]);return Pe}function Uf(fe){return fe.length<3?to(fe):fe[0]+Ro(fe,of(fe))}n.svg.line.radial=function(){var fe=ef(yh);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function yh(fe){for(var Pe,Be=-1,Qe=fe.length,rt,st;++Be<Qe;)Pe=fe[Be],rt=Pe[0],st=Pe[1]-tt,Pe[0]=rt*Math.cos(st),Pe[1]=rt*Math.sin(st);return fe}function sf(fe){var Pe=ra,Be=ra,Qe=0,rt=$n,st=wl,Et=to,bt=Et.key,Vt=Et,Gt="L",nr=.7;function Rr(kr){var qr=[],ln=[],Ir=[],Hr=-1,Kr=kr.length,cn,dn=nn(Pe),tn=nn(Qe),Hn=Pe===Be?function(){return da}:nn(Be),oa=Qe===rt?function(){return aa}:nn(rt),da,aa;function fa(){qr.push("M",Et(fe(Ir),nr),Gt,Vt(fe(ln.reverse()),nr),"Z")}for(;++Hr<Kr;)st.call(this,cn=kr[Hr],Hr)?(ln.push([da=+dn.call(this,cn,Hr),aa=+tn.call(this,cn,Hr)]),Ir.push([+Hn.call(this,cn,Hr),+oa.call(this,cn,Hr)])):ln.length&&(fa(),ln=[],Ir=[]);return ln.length&&fa(),qr.length?qr.join(""):null}return Rr.x=function(kr){return arguments.length?(Pe=Be=kr,Rr):Be},Rr.x0=function(kr){return arguments.length?(Pe=kr,Rr):Pe},Rr.x1=function(kr){return arguments.length?(Be=kr,Rr):Be},Rr.y=function(kr){return arguments.length?(Qe=rt=kr,Rr):rt},Rr.y0=function(kr){return arguments.length?(Qe=kr,Rr):Qe},Rr.y1=function(kr){return arguments.length?(rt=kr,Rr):rt},Rr.defined=function(kr){return arguments.length?(st=kr,Rr):st},Rr.interpolate=function(kr){return arguments.length?(typeof kr=="function"?bt=Et=kr:bt=(Et=Tl.get(kr)||to).key,Vt=Et.reverse||Et,Gt=Et.closed?"M":"L",Rr):bt},Rr.tension=function(kr){return arguments.length?(nr=kr,Rr):nr},Rr}Wl.reverse=Bf,Bf.reverse=Wl,n.svg.area=function(){return sf(N)},n.svg.area.radial=function(){var fe=sf(yh);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function wc(fe){return fe.source}function jl(fe){return fe.target}n.svg.chord=function(){var fe=wc,Pe=jl,Be=Tc,Qe=Ju,rt=Of;function st(nr,Rr){var kr=Et(this,fe,nr,Rr),qr=Et(this,Pe,nr,Rr);return"M"+kr.p0+Vt(kr.r,kr.p1,kr.a1-kr.a0)+(bt(kr,qr)?Gt(kr.r,kr.p1,kr.r,kr.p0):Gt(kr.r,kr.p1,qr.r,qr.p0)+Vt(qr.r,qr.p1,qr.a1-qr.a0)+Gt(qr.r,qr.p1,kr.r,kr.p0))+"Z"}function Et(nr,Rr,kr,qr){var ln=Rr.call(nr,kr,qr),Ir=Be.call(nr,ln,qr),Hr=Qe.call(nr,ln,qr)-tt,Kr=rt.call(nr,ln,qr)-tt;return{r:Ir,a0:Hr,a1:Kr,p0:[Ir*Math.cos(Hr),Ir*Math.sin(Hr)],p1:[Ir*Math.cos(Kr),Ir*Math.sin(Kr)]}}function bt(nr,Rr){return nr.a0==Rr.a0&&nr.a1==Rr.a1}function Vt(nr,Rr,kr){return"A"+nr+","+nr+" 0 "+ +(kr>Se)+",1 "+Rr}function Gt(nr,Rr,kr,qr){return"Q 0,0 "+qr}return st.radius=function(nr){return arguments.length?(Be=nn(nr),st):Be},st.source=function(nr){return arguments.length?(fe=nn(nr),st):fe},st.target=function(nr){return arguments.length?(Pe=nn(nr),st):Pe},st.startAngle=function(nr){return arguments.length?(Qe=nn(nr),st):Qe},st.endAngle=function(nr){return arguments.length?(rt=nn(nr),st):rt},st};function Tc(fe){return fe.radius}n.svg.diagonal=function(){var fe=wc,Pe=jl,Be=lf;function Qe(rt,st){var Et=fe.call(this,rt,st),bt=Pe.call(this,rt,st),Vt=(Et.y+bt.y)/2,Gt=[Et,{x:Et.x,y:Vt},{x:bt.x,y:Vt},bt];return Gt=Gt.map(Be),"M"+Gt[0]+"C"+Gt[1]+" "+Gt[2]+" "+Gt[3]}return Qe.source=function(rt){return arguments.length?(fe=nn(rt),Qe):fe},Qe.target=function(rt){return arguments.length?(Pe=nn(rt),Qe):Pe},Qe.projection=function(rt){return arguments.length?(Be=rt,Qe):Be},Qe};function lf(fe){return[fe.x,fe.y]}n.svg.diagonal.radial=function(){var fe=n.svg.diagonal(),Pe=lf,Be=fe.projection;return fe.projection=function(Qe){return arguments.length?Be(mh(Pe=Qe)):Pe},fe};function mh(fe){return function(){var Pe=fe.apply(this,arguments),Be=Pe[0],Qe=Pe[1]-tt;return[Be*Math.cos(Qe),Be*Math.sin(Qe)]}}n.svg.symbol=function(){var fe=nt,Pe=$e;function Be(Qe,rt){return(mt.get(fe.call(this,Qe,rt))||ht)(Pe.call(this,Qe,rt))}return Be.type=function(Qe){return arguments.length?(fe=nn(Qe),Be):fe},Be.size=function(Qe){return arguments.length?(Pe=nn(Qe),Be):Pe},Be};function $e(){return 64}function nt(){return"circle"}function ht(fe){var Pe=Math.sqrt(fe/Se);return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+Pe+"Z"}var mt=n.map({circle:ht,cross:function(fe){var Pe=Math.sqrt(fe/5)/2;return"M"+-3*Pe+","+-Pe+"H"+-Pe+"V"+-3*Pe+"H"+Pe+"V"+-Pe+"H"+3*Pe+"V"+Pe+"H"+Pe+"V"+3*Pe+"H"+-Pe+"V"+Pe+"H"+-3*Pe+"Z"},diamond:function(fe){var Pe=Math.sqrt(fe/(2*kt)),Be=Pe*kt;return"M0,"+-Pe+"L"+Be+",0 0,"+Pe+" "+-Be+",0Z"},square:function(fe){var Pe=Math.sqrt(fe)/2;return"M"+-Pe+","+-Pe+"L"+Pe+","+-Pe+" "+Pe+","+Pe+" "+-Pe+","+Pe+"Z"},"triangle-down":function(fe){var Pe=Math.sqrt(fe/_t),Be=Pe*_t/2;return"M0,"+Be+"L"+Pe+","+-Be+" "+-Pe+","+-Be+"Z"},"triangle-up":function(fe){var Pe=Math.sqrt(fe/_t),Be=Pe*_t/2;return"M0,"+-Be+"L"+Pe+","+Be+" "+-Pe+","+Be+"Z"}});n.svg.symbolTypes=mt.keys();var _t=Math.sqrt(3),kt=Math.tan(30*ct);K.transition=function(fe){for(var Pe=Fr||++Er,Be=Dn(fe),Qe=[],rt,st,Et=Vr||{time:Date.now(),ease:lc,delay:0,duration:250},bt=-1,Vt=this.length;++bt<Vt;){Qe.push(rt=[]);for(var Gt=this[bt],nr=-1,Rr=Gt.length;++nr<Rr;)(st=Gt[nr])&&In(st,nr,Be,Pe,Et),rt.push(st)}return Ar(Qe,Be,Pe)},K.interrupt=function(fe){return this.each(fe==null?Bt:pr(Dn(fe)))};var Bt=pr(Dn());function pr(fe){return function(){var Pe,Be,Qe;(Pe=this[fe])&&(Qe=Pe[Be=Pe.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Pe.count?delete Pe[Be]:delete this[fe],Pe.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function Ar(fe,Pe,Be){return se(fe,ir),fe.namespace=Pe,fe.id=Be,fe}var ir=[],Er=0,Fr,Vr;ir.call=K.call,ir.empty=K.empty,ir.node=K.node,ir.size=K.size,n.transition=function(fe,Pe){return fe&&fe.transition?Fr?fe.transition(Pe):fe:n.selection().transition(fe)},n.transition.prototype=ir,ir.select=function(fe){var Pe=this.id,Be=this.namespace,Qe=[],rt,st,Et;fe=ue(fe);for(var bt=-1,Vt=this.length;++bt<Vt;){Qe.push(rt=[]);for(var Gt=this[bt],nr=-1,Rr=Gt.length;++nr<Rr;)(Et=Gt[nr])&&(st=fe.call(Et,Et.__data__,nr,bt))?("__data__"in Et&&(st.__data__=Et.__data__),In(st,nr,Be,Pe,Et[Be][Pe]),rt.push(st)):rt.push(null)}return Ar(Qe,Be,Pe)},ir.selectAll=function(fe){var Pe=this.id,Be=this.namespace,Qe=[],rt,st,Et,bt,Vt;fe=ie(fe);for(var Gt=-1,nr=this.length;++Gt<nr;)for(var Rr=this[Gt],kr=-1,qr=Rr.length;++kr<qr;)if(Et=Rr[kr]){Vt=Et[Be][Pe],st=fe.call(Et,Et.__data__,kr,Gt),Qe.push(rt=[]);for(var ln=-1,Ir=st.length;++ln<Ir;)(bt=st[ln])&&In(bt,ln,Be,Pe,Vt),rt.push(bt)}return Ar(Qe,Be,Pe)},ir.filter=function(fe){var Pe=[],Be,Qe,rt;typeof fe!="function"&&(fe=at(fe));for(var st=0,Et=this.length;st<Et;st++){Pe.push(Be=[]);for(var Qe=this[st],bt=0,Vt=Qe.length;bt<Vt;bt++)(rt=Qe[bt])&&fe.call(rt,rt.__data__,bt,st)&&Be.push(rt)}return Ar(Pe,this.namespace,this.id)},ir.tween=function(fe,Pe){var Be=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][Be].tween.get(fe):qe(this,Pe==null?function(rt){rt[Qe][Be].tween.remove(fe)}:function(rt){rt[Qe][Be].tween.set(fe,Pe)})};function an(fe,Pe,Be,Qe){var rt=fe.id,st=fe.namespace;return qe(fe,typeof Be=="function"?function(Et,bt,Vt){Et[st][rt].tween.set(Pe,Qe(Be.call(Et,Et.__data__,bt,Vt)))}:(Be=Qe(Be),function(Et){Et[st][rt].tween.set(Pe,Be)}))}ir.attr=function(fe,Pe){if(arguments.length<2){for(Pe in fe)this.attr(Pe,fe[Pe]);return this}var Be=fe=="transform"?Lf:yo,Qe=n.ns.qualify(fe);function rt(){this.removeAttribute(Qe)}function st(){this.removeAttributeNS(Qe.space,Qe.local)}function Et(Vt){return Vt==null?rt:(Vt+="",function(){var Gt=this.getAttribute(Qe),nr;return Gt!==Vt&&(nr=Be(Gt,Vt),function(Rr){this.setAttribute(Qe,nr(Rr))})})}function bt(Vt){return Vt==null?st:(Vt+="",function(){var Gt=this.getAttributeNS(Qe.space,Qe.local),nr;return Gt!==Vt&&(nr=Be(Gt,Vt),function(Rr){this.setAttributeNS(Qe.space,Qe.local,nr(Rr))})})}return an(this,"attr."+fe,Pe,Qe.local?bt:Et)},ir.attrTween=function(fe,Pe){var Be=n.ns.qualify(fe);function Qe(st,Et){var bt=Pe.call(this,st,Et,this.getAttribute(Be));return bt&&function(Vt){this.setAttribute(Be,bt(Vt))}}function rt(st,Et){var bt=Pe.call(this,st,Et,this.getAttributeNS(Be.space,Be.local));return bt&&function(Vt){this.setAttributeNS(Be.space,Be.local,bt(Vt))}}return this.tween("attr."+fe,Be.local?rt:Qe)},ir.style=function(fe,Pe,Be){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Pe="");for(Be in fe)this.style(Be,fe[Be],Pe);return this}Be=""}function rt(){this.style.removeProperty(fe)}function st(Et){return Et==null?rt:(Et+="",function(){var bt=r(this).getComputedStyle(this,null).getPropertyValue(fe),Vt;return bt!==Et&&(Vt=yo(bt,Et),function(Gt){this.style.setProperty(fe,Vt(Gt),Be)})})}return an(this,"style."+fe,Pe,st)},ir.styleTween=function(fe,Pe,Be){arguments.length<3&&(Be="");function Qe(rt,st){var Et=Pe.call(this,rt,st,r(this).getComputedStyle(this,null).getPropertyValue(fe));return Et&&function(bt){this.style.setProperty(fe,Et(bt),Be)}}return this.tween("style."+fe,Qe)},ir.text=function(fe){return an(this,"text",fe,Sn)};function Sn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}ir.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Pe;this[fe].count<2&&(Pe=this.parentNode)&&Pe.removeChild(this)})},ir.ease=function(fe){var Pe=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Pe].ease:(typeof fe!="function"&&(fe=n.ease.apply(n,arguments)),qe(this,function(Qe){Qe[Be][Pe].ease=fe}))},ir.delay=function(fe){var Pe=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Pe].delay:qe(this,typeof fe=="function"?function(Qe,rt,st){Qe[Be][Pe].delay=+fe.call(Qe,Qe.__data__,rt,st)}:(fe=+fe,function(Qe){Qe[Be][Pe].delay=fe}))},ir.duration=function(fe){var Pe=this.id,Be=this.namespace;return arguments.length<1?this.node()[Be][Pe].duration:qe(this,typeof fe=="function"?function(Qe,rt,st){Qe[Be][Pe].duration=Math.max(1,fe.call(Qe,Qe.__data__,rt,st))}:(fe=Math.max(1,fe),function(Qe){Qe[Be][Pe].duration=fe}))},ir.each=function(fe,Pe){var Be=this.id,Qe=this.namespace;if(arguments.length<2){var rt=Vr,st=Fr;try{Fr=Be,qe(this,function(Et,bt,Vt){Vr=Et[Qe][Be],fe.call(Et,Et.__data__,bt,Vt)})}finally{Vr=rt,Fr=st}}else qe(this,function(Et){var bt=Et[Qe][Be];(bt.event||(bt.event=n.dispatch("start","end","interrupt"))).on(fe,Pe)});return this},ir.transition=function(){for(var fe=this.id,Pe=++Er,Be=this.namespace,Qe=[],rt,st,Et,bt,Vt=0,Gt=this.length;Vt<Gt;Vt++){Qe.push(rt=[]);for(var st=this[Vt],nr=0,Rr=st.length;nr<Rr;nr++)(Et=st[nr])&&(bt=Et[Be][fe],In(Et,nr,Be,Pe,{time:bt.time,ease:bt.ease,delay:bt.delay+bt.duration,duration:bt.duration})),rt.push(Et)}return Ar(Qe,Be,Pe)};function Dn(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function In(fe,Pe,Be,Qe,rt){var st=fe[Be]||(fe[Be]={active:0,count:0}),Et=st[Qe],bt,Vt,Gt,nr,Rr;function kr(Ir){var Hr=Et.delay;if(Vt.t=Hr+bt,Hr<=Ir)return qr(Ir-Hr);Vt.c=qr}function qr(Ir){var Hr=st.active,Kr=st[Hr];Kr&&(Kr.timer.c=null,Kr.timer.t=NaN,--st.count,delete st[Hr],Kr.event&&Kr.event.interrupt.call(fe,fe.__data__,Kr.index));for(var cn in st)if(+cn<Qe){var dn=st[cn];dn.timer.c=null,dn.timer.t=NaN,--st.count,delete st[cn]}Vt.c=ln,Pn(function(){return Vt.c&&ln(Ir||1)&&(Vt.c=null,Vt.t=NaN),1},0,bt),st.active=Qe,Et.event&&Et.event.start.call(fe,fe.__data__,Pe),Rr=[],Et.tween.forEach(function(tn,Hn){(Hn=Hn.call(fe,fe.__data__,Pe))&&Rr.push(Hn)}),nr=Et.ease,Gt=Et.duration}function ln(Ir){for(var Hr=Ir/Gt,Kr=nr(Hr),cn=Rr.length;cn>0;)Rr[--cn].call(fe,Kr);if(Hr>=1)return Et.event&&Et.event.end.call(fe,fe.__data__,Pe),--st.count?delete st[Qe]:delete fe[Be],1}Et||(bt=rt.time,Vt=Pn(kr,0,bt),Et=st[Qe]={tween:new k,time:bt,timer:Vt,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Pe},rt=null,++st.count)}n.svg.axis=function(){var fe=n.scale.linear(),Pe=qn,Be=6,Qe=6,rt=3,st=[10],Et=null,bt;function Vt(Gt){Gt.each(function(){var nr=n.select(this),Rr=this.__chart__||fe,kr=this.__chart__=fe.copy(),qr=Et??(kr.ticks?kr.ticks.apply(kr,st):kr.domain()),ln=bt??(kr.tickFormat?kr.tickFormat.apply(kr,st):N),Ir=nr.selectAll(".tick").data(qr,kr),Hr=Ir.enter().insert("g",".domain").attr("class","tick").style("opacity",me),Kr=n.transition(Ir.exit()).style("opacity",me).remove(),cn=n.transition(Ir.order()).style("opacity",1),dn=Math.max(Be,0)+rt,tn,Hn=xu(kr),oa=nr.selectAll(".domain").data([0]),da=(oa.enter().append("path").attr("class","domain"),n.transition(oa));Hr.append("line"),Hr.append("text");var aa=Hr.select("line"),fa=cn.select("line"),pa=Ir.select("text").text(ln),Ua=Hr.select("text"),La=cn.select("text"),Fa=Pe==="top"||Pe==="left"?-1:1,si,Zi,vi,na;if(Pe==="bottom"||Pe==="top"?(tn=Ia,si="x",vi="y",Zi="x2",na="y2",pa.attr("dy",Fa<0?"0em":".71em").style("text-anchor","middle"),da.attr("d","M"+Hn[0]+","+Fa*Qe+"V0H"+Hn[1]+"V"+Fa*Qe)):(tn=_a,si="y",vi="x",Zi="y2",na="x2",pa.attr("dy",".32em").style("text-anchor",Fa<0?"end":"start"),da.attr("d","M"+Fa*Qe+","+Hn[0]+"H0V"+Hn[1]+"H"+Fa*Qe)),aa.attr(na,Fa*Be),Ua.attr(vi,Fa*dn),fa.attr(Zi,0).attr(na,Fa*Be),La.attr(si,0).attr(vi,Fa*dn),kr.rangeBand){var Ha=kr,Ma=Ha.rangeBand()/2;Rr=kr=function(Qa){return Ha(Qa)+Ma}}else Rr.rangeBand?Rr=kr:Kr.call(tn,kr,Rr);Hr.call(tn,Rr,kr),cn.call(tn,kr,kr)})}return Vt.scale=function(Gt){return arguments.length?(fe=Gt,Vt):fe},Vt.orient=function(Gt){return arguments.length?(Pe=Gt in Da?Gt+"":qn,Vt):Pe},Vt.ticks=function(){return arguments.length?(st=T(arguments),Vt):st},Vt.tickValues=function(Gt){return arguments.length?(Et=Gt,Vt):Et},Vt.tickFormat=function(Gt){return arguments.length?(bt=Gt,Vt):bt},Vt.tickSize=function(Gt){var nr=arguments.length;return nr?(Be=+Gt,Qe=+arguments[nr-1],Vt):Be},Vt.innerTickSize=function(Gt){return arguments.length?(Be=+Gt,Vt):Be},Vt.outerTickSize=function(Gt){return arguments.length?(Qe=+Gt,Vt):Qe},Vt.tickPadding=function(Gt){return arguments.length?(rt=+Gt,Vt):rt},Vt.tickSubdivide=function(){return arguments.length&&Vt},Vt};var qn="bottom",Da={top:1,right:1,bottom:1,left:1};function Ia(fe,Pe,Be){fe.attr("transform",function(Qe){var rt=Pe(Qe);return"translate("+(isFinite(rt)?rt:Be(Qe))+",0)"})}function _a(fe,Pe,Be){fe.attr("transform",function(Qe){var rt=Pe(Qe);return"translate(0,"+(isFinite(rt)?rt:Be(Qe))+")"})}n.svg.brush=function(){var fe=J(nr,"brushstart","brush","brushend"),Pe=null,Be=null,Qe=[0,0],rt=[0,0],st,Et,bt=!0,Vt=!0,Gt=Ja[0];function nr(Ir){Ir.each(function(){var Hr=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ln).on("touchstart.brush",ln),Kr=Hr.selectAll(".background").data([0]);Kr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Hr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var cn=Hr.selectAll(".resize").data(Gt,N);cn.exit().remove(),cn.enter().append("g").attr("class",function(oa){return"resize "+oa}).style("cursor",function(oa){return Ba[oa]}).append("rect").attr("x",function(oa){return/[ew]$/.test(oa)?-3:null}).attr("y",function(oa){return/^[ns]/.test(oa)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),cn.style("display",nr.empty()?"none":null);var dn=n.transition(Hr),tn=n.transition(Kr),Hn;Pe&&(Hn=xu(Pe),tn.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),kr(dn)),Be&&(Hn=xu(Be),tn.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),qr(dn)),Rr(dn)})}nr.event=function(Ir){Ir.each(function(){var Hr=fe.of(this,arguments),Kr={x:Qe,y:rt,i:st,j:Et},cn=this.__chart__||Kr;this.__chart__=Kr,Fr?n.select(this).transition().each("start.brush",function(){st=cn.i,Et=cn.j,Qe=cn.x,rt=cn.y,Hr({type:"brushstart"})}).tween("brush:brush",function(){var dn=es(Qe,Kr.x),tn=es(rt,Kr.y);return st=Et=null,function(Hn){Qe=Kr.x=dn(Hn),rt=Kr.y=tn(Hn),Hr({type:"brush",mode:"resize"})}}).each("end.brush",function(){st=Kr.i,Et=Kr.j,Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"})}):(Hr({type:"brushstart"}),Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"}))})};function Rr(Ir){Ir.selectAll(".resize").attr("transform",function(Hr){return"translate("+Qe[+/e$/.test(Hr)]+","+rt[+/^s/.test(Hr)]+")"})}function kr(Ir){Ir.select(".extent").attr("x",Qe[0]),Ir.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function qr(Ir){Ir.select(".extent").attr("y",rt[0]),Ir.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function ln(){var Ir=this,Hr=n.select(n.event.target),Kr=fe.of(Ir,arguments),cn=n.select(Ir),dn=Hr.datum(),tn=!/^(n|s)$/.test(dn)&&Pe,Hn=!/^(e|w)$/.test(dn)&&Be,oa=Hr.classed("extent"),da=_e(Ir),aa,fa=n.mouse(Ir),pa,Ua=n.select(r(Ir)).on("keydown.brush",si).on("keyup.brush",Zi);if(n.event.changedTouches?Ua.on("touchmove.brush",vi).on("touchend.brush",Ha):Ua.on("mousemove.brush",vi).on("mouseup.brush",Ha),cn.interrupt().selectAll("*").interrupt(),oa)fa[0]=Qe[0]-fa[0],fa[1]=rt[0]-fa[1];else if(dn){var La=+/w$/.test(dn),Fa=+/^n/.test(dn);pa=[Qe[1-La]-fa[0],rt[1-Fa]-fa[1]],fa[0]=Qe[La],fa[1]=rt[Fa]}else n.event.altKey&&(aa=fa.slice());cn.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Hr.style("cursor")),Kr({type:"brushstart"}),vi();function si(){n.event.keyCode==32&&(oa||(aa=null,fa[0]-=Qe[1],fa[1]-=rt[1],oa=2),oe())}function Zi(){n.event.keyCode==32&&oa==2&&(fa[0]+=Qe[1],fa[1]+=rt[1],oa=0,oe())}function vi(){var Ma=n.mouse(Ir),Qa=!1;pa&&(Ma[0]+=pa[0],Ma[1]+=pa[1]),oa||(n.event.altKey?(aa||(aa=[(Qe[0]+Qe[1])/2,(rt[0]+rt[1])/2]),fa[0]=Qe[+(Ma[0]<aa[0])],fa[1]=rt[+(Ma[1]<aa[1])]):aa=null),tn&&na(Ma,Pe,0)&&(kr(cn),Qa=!0),Hn&&na(Ma,Be,1)&&(qr(cn),Qa=!0),Qa&&(Rr(cn),Kr({type:"brush",mode:oa?"move":"resize"}))}function na(Ma,Qa,Si){var li=xu(Qa),co=li[0],ho=li[1],mo=fa[Si],Mi=Si?rt:Qe,ko=Mi[1]-Mi[0],ha,Ra;if(oa&&(co-=mo,ho-=ko+mo),ha=(Si?Vt:bt)?Math.max(co,Math.min(ho,Ma[Si])):Ma[Si],oa?Ra=(ha+=mo)+ko:(aa&&(mo=Math.max(co,Math.min(ho,2*aa[Si]-ha))),mo<ha?(Ra=ha,ha=mo):Ra=mo),Mi[0]!=ha||Mi[1]!=Ra)return Si?Et=null:st=null,Mi[0]=ha,Mi[1]=Ra,!0}function Ha(){vi(),cn.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),n.select("body").style("cursor",null),Ua.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),da(),Kr({type:"brushend"})}}return nr.x=function(Ir){return arguments.length?(Pe=Ir,Gt=Ja[!Pe<<1|!Be],nr):Pe},nr.y=function(Ir){return arguments.length?(Be=Ir,Gt=Ja[!Pe<<1|!Be],nr):Be},nr.clamp=function(Ir){return arguments.length?(Pe&&Be?(bt=!!Ir[0],Vt=!!Ir[1]):Pe?bt=!!Ir:Be&&(Vt=!!Ir),nr):Pe&&Be?[bt,Vt]:Pe?bt:Be?Vt:null},nr.extent=function(Ir){var Hr,Kr,cn,dn,tn;return arguments.length?(Pe&&(Hr=Ir[0],Kr=Ir[1],Be&&(Hr=Hr[0],Kr=Kr[0]),st=[Hr,Kr],Pe.invert&&(Hr=Pe(Hr),Kr=Pe(Kr)),Kr<Hr&&(tn=Hr,Hr=Kr,Kr=tn),(Hr!=Qe[0]||Kr!=Qe[1])&&(Qe=[Hr,Kr])),Be&&(cn=Ir[0],dn=Ir[1],Pe&&(cn=cn[1],dn=dn[1]),Et=[cn,dn],Be.invert&&(cn=Be(cn),dn=Be(dn)),dn<cn&&(tn=cn,cn=dn,dn=tn),(cn!=rt[0]||dn!=rt[1])&&(rt=[cn,dn])),nr):(Pe&&(st?(Hr=st[0],Kr=st[1]):(Hr=Qe[0],Kr=Qe[1],Pe.invert&&(Hr=Pe.invert(Hr),Kr=Pe.invert(Kr)),Kr<Hr&&(tn=Hr,Hr=Kr,Kr=tn))),Be&&(Et?(cn=Et[0],dn=Et[1]):(cn=rt[0],dn=rt[1],Be.invert&&(cn=Be.invert(cn),dn=Be.invert(dn)),dn<cn&&(tn=cn,cn=dn,dn=tn))),Pe&&Be?[[Hr,cn],[Kr,dn]]:Pe?[Hr,Kr]:Be&&[cn,dn])},nr.clear=function(){return nr.empty()||(Qe=[0,0],rt=[0,0],st=Et=null),nr},nr.empty=function(){return!!Pe&&Qe[0]==Qe[1]||!!Be&&rt[0]==rt[1]},n.rebind(nr,fe,"on")};var Ba={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ja=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=Un(function(fe){return fe.responseText}),n.json=function(fe,Pe){return Tn(fe,"application/json",gi,Pe)};function gi(fe){return JSON.parse(fe.responseText)}n.html=function(fe,Pe){return Tn(fe,"text/html",ji,Pe)};function ji(fe){var Pe=d.createRange();return Pe.selectNode(d.body),Pe.createContextualFragment(fe.responseText)}n.xml=Un(function(fe){return fe.responseXML}),p=n,L=typeof p=="function"?p.call(B,e,B,V):p,L!==void 0&&(V.exports=L)}).apply(self)},97433:function(V){(function(B,e){V.exports=e()})(this,function(){var B,e,p;function L(n,C){if(!B)B=C;else if(!e)e=C;else{var T="var sharedChunk = {}; ("+B+")(sharedChunk); ("+e+")(sharedChunk);",d={};B(d),p=C(d),typeof window<"u"&&(p.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"})))}}return L(["exports"],function(n){function C(D,I){return I={exports:{}},D(I,I.exports),I.exports}var T="1.13.4",d=y;function y(D,I,W,ae){this.cx=3*D,this.bx=3*(W-D)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*I,this.by=3*(ae-I)-this.cy,this.ay=1-this.cy-this.by,this.p1x=D,this.p1y=ae,this.p2x=W,this.p2y=ae}y.prototype.sampleCurveX=function(D){return((this.ax*D+this.bx)*D+this.cx)*D},y.prototype.sampleCurveY=function(D){return((this.ay*D+this.by)*D+this.cy)*D},y.prototype.sampleCurveDerivativeX=function(D){return(3*this.ax*D+2*this.bx)*D+this.cx},y.prototype.solveCurveX=function(D,I){typeof I>"u"&&(I=1e-6);var W,ae,de,Te,De;for(de=D,De=0;De<8;De++){if(Te=this.sampleCurveX(de)-D,Math.abs(Te)<I)return de;var Ke=this.sampleCurveDerivativeX(de);if(Math.abs(Ke)<1e-6)break;de=de-Te/Ke}if(W=0,ae=1,de=D,de<W)return W;if(de>ae)return ae;for(;W<ae;){if(Te=this.sampleCurveX(de),Math.abs(Te-D)<I)return de;D>Te?W=de:ae=de,de=(ae-W)*.5+W}return de},y.prototype.solve=function(D,I){return this.sampleCurveY(this.solveCurveX(D,I))};var r=t;function t(D,I){this.x=D,this.y=I}t.prototype={clone:function(){return new t(this.x,this.y)},add:function(D){return this.clone()._add(D)},sub:function(D){return this.clone()._sub(D)},multByPoint:function(D){return this.clone()._multByPoint(D)},divByPoint:function(D){return this.clone()._divByPoint(D)},mult:function(D){return this.clone()._mult(D)},div:function(D){return this.clone()._div(D)},rotate:function(D){return this.clone()._rotate(D)},rotateAround:function(D,I){return this.clone()._rotateAround(D,I)},matMult:function(D){return this.clone()._matMult(D)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(D){return this.x===D.x&&this.y===D.y},dist:function(D){return Math.sqrt(this.distSqr(D))},distSqr:function(D){var I=D.x-this.x,W=D.y-this.y;return I*I+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(D){return Math.atan2(this.y-D.y,this.x-D.x)},angleWith:function(D){return this.angleWithSep(D.x,D.y)},angleWithSep:function(D,I){return Math.atan2(this.x*I-this.y*D,this.x*D+this.y*I)},_matMult:function(D){var I=D[0]*this.x+D[1]*this.y,W=D[2]*this.x+D[3]*this.y;return this.x=I,this.y=W,this},_add:function(D){return this.x+=D.x,this.y+=D.y,this},_sub:function(D){return this.x-=D.x,this.y-=D.y,this},_mult:function(D){return this.x*=D,this.y*=D,this},_div:function(D){return this.x/=D,this.y/=D,this},_multByPoint:function(D){return this.x*=D.x,this.y*=D.y,this},_divByPoint:function(D){return this.x/=D.x,this.y/=D.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var D=this.y;return this.y=this.x,this.x=-D,this},_rotate:function(D){var I=Math.cos(D),W=Math.sin(D),ae=I*this.x-W*this.y,de=W*this.x+I*this.y;return this.x=ae,this.y=de,this},_rotateAround:function(D,I){var W=Math.cos(D),ae=Math.sin(D),de=I.x+W*(this.x-I.x)-ae*(this.y-I.y),Te=I.y+ae*(this.x-I.x)+W*(this.y-I.y);return this.x=de,this.y=Te,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(D){return D instanceof t?D:Array.isArray(D)?new t(D[0],D[1]):D};var i=typeof self<"u"?self:{};function a(D,I){if(Array.isArray(D)){if(!Array.isArray(I)||D.length!==I.length)return!1;for(var W=0;W<D.length;W++)if(!a(D[W],I[W]))return!1;return!0}if(typeof D=="object"&&D!==null&&I!==null){if(typeof I!="object")return!1;var ae=Object.keys(D);if(ae.length!==Object.keys(I).length)return!1;for(var de in D)if(!a(D[de],I[de]))return!1;return!0}return D===I}var h=Math.pow(2,53)-1;function u(D){if(D<=0)return 0;if(D>=1)return 1;var I=D*D,W=I*D;return 4*(D<.5?W:3*(D-I)+W-.75)}function s(D,I,W,ae){var de=new d(D,I,W,ae);return function(Te){return de.solve(Te)}}var m=s(.25,.1,.25,1);function f(D,I,W){return Math.min(W,Math.max(I,D))}function S(D,I,W){var ae=W-I,de=((D-I)%ae+ae)%ae+I;return de===I?W:de}function v(D,I,W){if(!D.length)return W(null,[]);var ae=D.length,de=new Array(D.length),Te=null;D.forEach(function(De,Ke){I(De,function(ut,wt){ut&&(Te=ut),de[Ke]=wt,--ae===0&&W(Te,de)})})}function l(D){var I=[];for(var W in D)I.push(D[W]);return I}function g(D,I){var W=[];for(var ae in D)ae in I||W.push(ae);return W}function M(D){for(var I=[],W=arguments.length-1;W-- >0;)I[W]=arguments[W+1];for(var ae=0,de=I;ae<de.length;ae+=1){var Te=de[ae];for(var De in Te)D[De]=Te[De]}return D}function A(D,I){for(var W={},ae=0;ae<I.length;ae++){var de=I[ae];de in D&&(W[de]=D[de])}return W}var k=1;function w(){return k++}function E(){function D(I){return I?(I^Math.random()*16>>I/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,D)}return D()}function b(D){return D<=1?1:Math.pow(2,Math.ceil(Math.log(D)/Math.LN2))}function o(D){return D?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(D):!1}function P(D,I){D.forEach(function(W){I[W]&&(I[W]=I[W].bind(I))})}function x(D,I){return D.indexOf(I,D.length-I.length)!==-1}function z(D,I,W){var ae={};for(var de in D)ae[de]=I.call(W||this,D[de],de,D);return ae}function _(D,I,W){var ae={};for(var de in D)I.call(W||this,D[de],de,D)&&(ae[de]=D[de]);return ae}function G(D){return Array.isArray(D)?D.map(G):typeof D=="object"&&D?z(D,G):D}function F(D,I){for(var W=0;W<D.length;W++)if(I.indexOf(D[W])>=0)return!0;return!1}var N={};function U(D){N[D]||(typeof console<"u"&&console.warn(D),N[D]=!0)}function O(D,I,W){return(W.y-D.y)*(I.x-D.x)>(I.y-D.y)*(W.x-D.x)}function H(D){for(var I=0,W=0,ae=D.length,de=ae-1,Te=void 0,De=void 0;W<ae;de=W++)Te=D[W],De=D[de],I+=(De.x-Te.x)*(Te.y+De.y);return I}function Y(D){var I=D[0],W=D[1],ae=D[2];return W+=90,W*=Math.PI/180,ae*=Math.PI/180,{x:I*Math.cos(W)*Math.sin(ae),y:I*Math.sin(W)*Math.sin(ae),z:I*Math.cos(ae)}}function q(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ne(D){var I=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,W={};if(D.replace(I,function(de,Te,De,Ke){var ut=De||Ke;return W[Te]=ut?ut.toLowerCase():!0,""}),W["max-age"]){var ae=parseInt(W["max-age"],10);isNaN(ae)?delete W["max-age"]:W["max-age"]=ae}return W}var oe=null;function he(D){if(oe==null){var I=D.navigator?D.navigator.userAgent:null;oe=!!D.safari||!!(I&&(/\b(iPad|iPhone|iPod)\b/.test(I)||I.match("Safari")&&!I.match("Chrome")))}return oe}function J(D){try{var I=i[D];return I.setItem("_mapbox_test_",1),I.removeItem("_mapbox_test_"),!0}catch{return!1}}function Z(D){return i.btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(I,W){return String.fromCharCode(+("0x"+W))}))}function se(D){return decodeURIComponent(i.atob(D).split("").map(function(I){return"%"+("00"+I.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var $=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),ee=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,le=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame,Q,K,ue={now:$,frame:function(I){var W=ee(I);return{cancel:function(){return le(W)}}},getImageData:function(I,W){W===void 0&&(W=0);var ae=i.document.createElement("canvas"),de=ae.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return ae.width=I.width,ae.height=I.height,de.drawImage(I,0,0,I.width,I.height),de.getImageData(-W,-W,I.width+2*W,I.height+2*W)},resolveURL:function(I){return Q||(Q=i.document.createElement("a")),Q.href=I,Q.href},hardwareConcurrency:i.navigator&&i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},get prefersReducedMotion(){return i.matchMedia?(K==null&&(K=i.matchMedia("(prefers-reduced-motion: reduce)")),K.matches):!1}},ie={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ce={supported:!1,testSupport:ze},xe,Le=!1,Ae,Oe=!1;i.document&&(Ae=i.document.createElement("img"),Ae.onload=function(){xe&&Ee(xe),xe=null,Oe=!0},Ae.onerror=function(){Le=!0,xe=null},Ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function ze(D){Le||!Ae||(Oe?Ee(D):xe=D)}function Ee(D){var I=D.createTexture();D.bindTexture(D.TEXTURE_2D,I);try{if(D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,Ae),D.isContextLost())return;ce.supported=!0}catch{}D.deleteTexture(I),Le=!0}var be="01";function Ce(){for(var D="1",I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",W="",ae=0;ae<10;ae++)W+=I[Math.floor(Math.random()*62)];var de=12*60*60*1e3,Te=[D,be,W].join(""),De=Date.now()+de;return{token:Te,tokenExpiresAt:De}}var Ue=function(I,W){this._transformRequestFn=I,this._customAccessToken=W,this._createSkuToken()};Ue.prototype._createSkuToken=function(){var I=Ce();this._skuToken=I.token,this._skuTokenExpiresAt=I.tokenExpiresAt},Ue.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ue.prototype.transformRequest=function(I,W){return this._transformRequestFn?this._transformRequestFn(I,W)||{url:I}:{url:I}},Ue.prototype.normalizeStyleURL=function(I,W){if(!He(I))return I;var ae=et(I);return ae.path="/styles/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Ue.prototype.normalizeGlyphsURL=function(I,W){if(!He(I))return I;var ae=et(I);return ae.path="/fonts/v1"+ae.path,this._makeAPIURL(ae,this._customAccessToken||W)},Ue.prototype.normalizeSourceURL=function(I,W){if(!He(I))return I;var ae=et(I);return ae.path="/v4/"+ae.authority+".json",ae.params.push("secure"),this._makeAPIURL(ae,this._customAccessToken||W)},Ue.prototype.normalizeSpriteURL=function(I,W,ae,de){var Te=et(I);return He(I)?(Te.path="/styles/v1"+Te.path+"/sprite"+W+ae,this._makeAPIURL(Te,this._customAccessToken||de)):(Te.path+=""+W+ae,ft(Te))},Ue.prototype.normalizeTileURL=function(I,W){if(this._isSkuTokenExpired()&&this._createSkuToken(),I&&!He(I))return I;var ae=et(I),de=/(\.(png|jpg)\d*)(?=$)/,Te=/^.+\/v4\//,De=ue.devicePixelRatio>=2||W===512?"@2x":"",Ke=ce.supported?".webp":"$1";ae.path=ae.path.replace(de,""+De+Ke),ae.path=ae.path.replace(Te,"/"),ae.path="/v4"+ae.path;var ut=this._customAccessToken||lt(ae.params)||ie.ACCESS_TOKEN;return ie.REQUIRE_ACCESS_TOKEN&&ut&&this._skuToken&&ae.params.push("sku="+this._skuToken),this._makeAPIURL(ae,ut)},Ue.prototype.canonicalizeTileURL=function(I,W){var ae="/v4/",de=/\.[\w]+$/,Te=et(I);if(!Te.path.match(/(^\/v4\/)/)||!Te.path.match(de))return I;var De="mapbox://tiles/";De+=Te.path.replace(ae,"");var Ke=Te.params;return W&&(Ke=Ke.filter(function(ut){return!ut.match(/^access_token=/)})),Ke.length&&(De+="?"+Ke.join("&")),De},Ue.prototype.canonicalizeTileset=function(I,W){for(var ae=W?He(W):!1,de=[],Te=0,De=I.tiles||[];Te<De.length;Te+=1){var Ke=De[Te];Ge(Ke)?de.push(this.canonicalizeTileURL(Ke,ae)):de.push(Ke)}return de},Ue.prototype._makeAPIURL=function(I,W){var ae="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=et(ie.API_URL);if(I.protocol=de.protocol,I.authority=de.authority,I.protocol==="http"){var Te=I.params.indexOf("secure");Te>=0&&I.params.splice(Te,1)}if(de.path!=="/"&&(I.path=""+de.path+I.path),!ie.REQUIRE_ACCESS_TOKEN)return ft(I);if(W=W||ie.ACCESS_TOKEN,!W)throw new Error("An API access token is required to use Mapbox GL. "+ae);if(W[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ae);return I.params=I.params.filter(function(De){return De.indexOf("access_token")===-1}),I.params.push("access_token="+W),ft(I)};function He(D){return D.indexOf("mapbox:")===0}var Ie=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ge(D){return Ie.test(D)}function at(D){return D.indexOf("sku=")>0&&Ge(D)}function lt(D){for(var I=0,W=D;I<W.length;I+=1){var ae=W[I],de=ae.match(/^access_token=(.*)$/);if(de)return de[1]}return null}var qe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function et(D){var I=D.match(qe);if(!I)throw new Error("Unable to parse URL object");return{protocol:I[1],authority:I[2],path:I[3]||"/",params:I[4]?I[4].split("&"):[]}}function ft(D){var I=D.params.length?"?"+D.params.join("&"):"";return D.protocol+"://"+D.authority+D.path+I}var dt="mapbox.eventData";function pt(D){if(!D)return null;var I=D.split(".");if(!I||I.length!==3)return null;try{var W=JSON.parse(se(I[1]));return W}catch{return null}}var At=function(I){this.type=I,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};At.prototype.getStorageKey=function(I){var W=pt(ie.ACCESS_TOKEN),ae="";return W&&W.u?ae=Z(W.u):ae=ie.ACCESS_TOKEN||"",I?dt+"."+I+":"+ae:dt+":"+ae},At.prototype.fetchEventData=function(){var I=J("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(I)try{var de=i.localStorage.getItem(W);de&&(this.eventData=JSON.parse(de));var Te=i.localStorage.getItem(ae);Te&&(this.anonId=Te)}catch{U("Unable to read from LocalStorage")}},At.prototype.saveEventData=function(){var I=J("localStorage"),W=this.getStorageKey(),ae=this.getStorageKey("uuid");if(I)try{i.localStorage.setItem(ae,this.anonId),Object.keys(this.eventData).length>=1&&i.localStorage.setItem(W,JSON.stringify(this.eventData))}catch{U("Unable to write to LocalStorage")}},At.prototype.processRequests=function(I){},At.prototype.postEvent=function(I,W,ae,de){var Te=this;if(ie.EVENTS_URL){var De=et(ie.EVENTS_URL);De.params.push("access_token="+(de||ie.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(I).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:be,userId:this.anonId},ut=W?M(Ke,W):Ke,wt={url:ft(De),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ut])};this.pendingRequest=Nt(wt,function(Ct){Te.pendingRequest=null,ae(Ct),Te.saveEventData(),Te.processRequests(de)})}},At.prototype.queueRequest=function(I,W){this.queue.push(I),this.processRequests(W)};var Pt=function(D){function I(){D.call(this,"map.load"),this.success={},this.skuToken=""}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postMapLoadEvent=function(ae,de,Te,De){this.skuToken=Te,(ie.EVENTS_URL&&De||ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Ke){return He(Ke)||Ge(Ke)}))&&this.queueRequest({id:de,timestamp:Date.now()},De)},I.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){var Te=this.queue.shift(),De=Te.id,Ke=Te.timestamp;De&&this.success[De]||(this.anonId||this.fetchEventData(),o(this.anonId)||(this.anonId=E()),this.postEvent(Ke,{skuToken:this.skuToken},function(ut){ut||De&&(de.success[De]=!0)},ae))}},I}(At),Ht=function(D){function I(W){D.call(this,"appUserTurnstile"),this._customAccessToken=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.postTurnstileEvent=function(ae,de){ie.EVENTS_URL&&ie.ACCESS_TOKEN&&Array.isArray(ae)&&ae.some(function(Te){return He(Te)||Ge(Te)})&&this.queueRequest(Date.now(),de)},I.prototype.processRequests=function(ae){var de=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Te=pt(ie.ACCESS_TOKEN),De=Te?Te.u:ie.ACCESS_TOKEN,Ke=De!==this.eventData.tokenU;o(this.anonId)||(this.anonId=E(),Ke=!0);var ut=this.queue.shift();if(this.eventData.lastSuccess){var wt=new Date(this.eventData.lastSuccess),Ct=new Date(ut),Wt=(ut-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||Wt>=1||Wt<-1||wt.getDate()!==Ct.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(ut,{"enabled.telemetry":!1},function(ar){ar||(de.eventData.lastSuccess=ut,de.eventData.tokenU=De)},ae)}},I}(At),Je=new Ht,We=Je.postTurnstileEvent.bind(Je),_e=new Pt,Ne=_e.postMapLoadEvent.bind(_e),ke="mapbox-tiles",we=500,me=50,Me=1e3*60*7,Se;function Ve(){i.caches&&!Se&&(Se=i.caches.open(ke))}var Ze;function tt(D,I){if(Ze===void 0)try{new Response(new ReadableStream),Ze=!0}catch{Ze=!1}Ze?I(D.body):D.blob().then(I)}function ct(D,I,W){if(Ve(),!!Se){var ae={status:I.status,statusText:I.statusText,headers:new i.Headers};I.headers.forEach(function(De,Ke){return ae.headers.set(Ke,De)});var de=ne(I.headers.get("Cache-Control")||"");if(!de["no-store"]){de["max-age"]&&ae.headers.set("Expires",new Date(W+de["max-age"]*1e3).toUTCString());var Te=new Date(ae.headers.get("Expires")).getTime()-W;Te<Me||tt(I,function(De){var Ke=new i.Response(De,ae);Ve(),Se&&Se.then(function(ut){return ut.put(gt(D.url),Ke)}).catch(function(ut){return U(ut.message)})})}}}function gt(D){var I=D.indexOf("?");return I<0?D:D.slice(0,I)}function jt(D,I){if(Ve(),!Se)return I(null);var W=gt(D.url);Se.then(function(ae){ae.match(W).then(function(de){var Te=Kt(de);ae.delete(W),Te&&ae.put(W,de.clone()),I(null,de,Te)}).catch(I)}).catch(I)}function Kt(D){if(!D)return!1;var I=new Date(D.headers.get("Expires")||0),W=ne(D.headers.get("Cache-Control")||"");return I>Date.now()&&!W["no-cache"]}var Tt=1/0;function zt(D){Tt++,Tt>me&&(D.getActor().send("enforceCacheSizeLimit",we),Tt=0)}function qt(D){Ve(),Se&&Se.then(function(I){I.keys().then(function(W){for(var ae=0;ae<W.length-D;ae++)I.delete(W[ae])})})}function Sr(D){var I=i.caches.delete(ke);D&&I.catch(D).then(function(){return D()})}function yt(D,I){we=D,me=I}var Zt;function Jt(){return Zt==null&&(Zt=i.OffscreenCanvas&&new i.OffscreenCanvas(1,1).getContext("2d")&&typeof i.createImageBitmap=="function"),Zt}var mr={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(mr);var sr=function(D){function I(W,ae,de){ae===401&&Ge(de)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),D.call(this,W),this.status=ae,this.url=de,this.name=this.constructor.name,this.message=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},I}(Error),vt=q()?function(){return self.worker&&self.worker.referrer}:function(){return(i.location.protocol==="blob:"?i.parent:i).location.href},it=function(D){return/^file:/.test(D)||/^file:/.test(vt())&&!/^\w+:/.test(D)};function xt(D,I){var W=new i.AbortController,ae=new i.Request(D.url,{method:D.method||"GET",body:D.body,credentials:D.credentials,headers:D.headers,referrer:vt(),signal:W.signal}),de=!1,Te=!1,De=at(ae.url);D.type==="json"&&ae.headers.set("Accept","application/json");var Ke=function(wt,Ct,Wt){if(!Te){if(wt&&wt.message!=="SecurityError"&&U(wt),Ct&&Wt)return ut(Ct);var ar=Date.now();i.fetch(ae).then(function(er){if(er.ok){var Tr=De?er.clone():null;return ut(er,Tr,ar)}else return I(new sr(er.statusText,er.status,D.url))}).catch(function(er){er.code!==20&&I(new Error(er.message))})}},ut=function(wt,Ct,Wt){(D.type==="arrayBuffer"?wt.arrayBuffer():D.type==="json"?wt.json():wt.text()).then(function(ar){Te||(Ct&&Wt&&ct(ae,Ct,Wt),de=!0,I(null,ar,wt.headers.get("Cache-Control"),wt.headers.get("Expires")))}).catch(function(ar){Te||I(new Error(ar.message))})};return De?jt(ae,Ke):Ke(null,null),{cancel:function(){Te=!0,de||W.abort()}}}function St(D,I){var W=new i.XMLHttpRequest;W.open(D.method||"GET",D.url,!0),D.type==="arrayBuffer"&&(W.responseType="arraybuffer");for(var ae in D.headers)W.setRequestHeader(ae,D.headers[ae]);return D.type==="json"&&(W.responseType="text",W.setRequestHeader("Accept","application/json")),W.withCredentials=D.credentials==="include",W.onerror=function(){I(new Error(W.statusText))},W.onload=function(){if((W.status>=200&&W.status<300||W.status===0)&&W.response!==null){var de=W.response;if(D.type==="json")try{de=JSON.parse(W.response)}catch(Te){return I(Te)}I(null,de,W.getResponseHeader("Cache-Control"),W.getResponseHeader("Expires"))}else I(new sr(W.statusText,W.status,D.url))},W.send(D.body),{cancel:function(){return W.abort()}}}var Rt=function(D,I){if(!it(D.url)){if(i.fetch&&i.Request&&i.AbortController&&i.Request.prototype.hasOwnProperty("signal"))return xt(D,I);if(q()&&self.worker&&self.worker.actor){var W=!0;return self.worker.actor.send("getResource",D,I,void 0,W)}}return St(D,I)},Lt=function(D,I){return Rt(M(D,{type:"json"}),I)},Ot=function(D,I){return Rt(M(D,{type:"arrayBuffer"}),I)},Nt=function(D,I){return Rt(M(D,{method:"POST"}),I)};function Xt(D){var I=i.document.createElement("a");return I.href=D,I.protocol===i.document.location.protocol&&I.host===i.document.location.host}var ur="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function cr(D,I,W,ae){var de=new i.Image,Te=i.URL;de.onload=function(){I(null,de),Te.revokeObjectURL(de.src),de.onload=null,i.requestAnimationFrame(function(){de.src=ur})},de.onerror=function(){return I(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var De=new i.Blob([new Uint8Array(D)],{type:"image/png"});de.cacheControl=W,de.expires=ae,de.src=D.byteLength?Te.createObjectURL(De):ur}function dr(D,I){var W=new i.Blob([new Uint8Array(D)],{type:"image/png"});i.createImageBitmap(W).then(function(ae){I(null,ae)}).catch(function(ae){I(new Error("Could not load image because of "+ae.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Ye,je,It=function(){Ye=[],je=0};It();var Dt=function(D,I){if(ce.supported&&(D.headers||(D.headers={}),D.headers.accept="image/webp,*/*"),je>=ie.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:D,callback:I,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ye.push(W),W}je++;var ae=!1,de=function(){if(!ae)for(ae=!0,je--;Ye.length&&je<ie.MAX_PARALLEL_IMAGE_REQUESTS;){var De=Ye.shift(),Ke=De.requestParameters,ut=De.callback,wt=De.cancelled;wt||(De.cancel=Dt(Ke,ut).cancel)}},Te=Ot(D,function(De,Ke,ut,wt){de(),De?I(De):Ke&&(Jt()?dr(Ke,I):cr(Ke,I,ut,wt))});return{cancel:function(){Te.cancel(),de()}}},Yt=function(D,I){var W=i.document.createElement("video");W.muted=!0,W.onloadstart=function(){I(null,W)};for(var ae=0;ae<D.length;ae++){var de=i.document.createElement("source");Xt(D[ae])||(W.crossOrigin="Anonymous"),de.src=D[ae],W.appendChild(de)}return{cancel:function(){}}};function tr(D,I,W){var ae=W[D]&&W[D].indexOf(I)!==-1;ae||(W[D]=W[D]||[],W[D].push(I))}function fr(D,I,W){if(W&&W[D]){var ae=W[D].indexOf(I);ae!==-1&&W[D].splice(ae,1)}}var rr=function(I,W){W===void 0&&(W={}),M(this,W),this.type=I},Ft=function(D){function I(W,ae){ae===void 0&&(ae={}),D.call(this,"error",M({error:W},ae))}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(rr),hr=function(){};hr.prototype.on=function(I,W){return this._listeners=this._listeners||{},tr(I,W,this._listeners),this},hr.prototype.off=function(I,W){return fr(I,W,this._listeners),fr(I,W,this._oneTimeListeners),this},hr.prototype.once=function(I,W){return this._oneTimeListeners=this._oneTimeListeners||{},tr(I,W,this._oneTimeListeners),this},hr.prototype.fire=function(I,W){typeof I=="string"&&(I=new rr(I,W||{}));var ae=I.type;if(this.listens(ae)){I.target=this;for(var de=this._listeners&&this._listeners[ae]?this._listeners[ae].slice():[],Te=0,De=de;Te<De.length;Te+=1){var Ke=De[Te];Ke.call(this,I)}for(var ut=this._oneTimeListeners&&this._oneTimeListeners[ae]?this._oneTimeListeners[ae].slice():[],wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt];fr(ae,Wt,this._oneTimeListeners),Wt.call(this,I)}var ar=this._eventedParent;ar&&(M(I,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ar.fire(I))}else I instanceof Ft&&console.error(I.error);return this},hr.prototype.listens=function(I){return this._listeners&&this._listeners[I]&&this._listeners[I].length>0||this._oneTimeListeners&&this._oneTimeListeners[I]&&this._oneTimeListeners[I].length>0||this._eventedParent&&this._eventedParent.listens(I)},hr.prototype.setEventedParent=function(I,W){return this._eventedParent=I,this._eventedParentData=W,this};var br=8,yr={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},vr={"*":{type:"source"}},Gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],_r={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},Dr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},pn={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},nn={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Un={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Tn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Cr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Lr=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Zr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Wr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},sn={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},yn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},bn={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Pn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Bn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},sa={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Kn={type:"array",value:"*"},ra={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},$n={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ta={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},Mr={type:"array",value:"*",minimum:1},un={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},on=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],mn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},Yn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},$t={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},xr={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nr={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},En={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Qn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ca={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},wr={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},zr={"*":{type:"string"}},gr={$version:br,$root:yr,sources:vr,source:Gr,source_vector:_r,source_raster:Dr,source_raster_dem:pn,source_geojson:nn,source_video:Un,source_image:Tn,layer:Cr,layout:Lr,layout_background:Zr,layout_fill:Wr,layout_circle:sn,layout_heatmap:yn,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:bn,layout_symbol:Pn,layout_raster:Bn,layout_hillshade:sa,filter:Kn,filter_operator:ra,geometry_type:$n,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ta,expression:Mr,light:un,paint:on,paint_fill:mn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:Yn,paint_circle:$t,paint_heatmap:xr,paint_symbol:Nr,paint_raster:En,paint_hillshade:Qn,paint_background:Ca,transition:wr,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:zr},Br=function(I,W,ae,de){this.message=(I?I+": ":"")+ae,de&&(this.identifier=de),W!=null&&W.__line__&&(this.line=W.__line__)};function xn(D){var I=D.key,W=D.value;return W?[new Br(I,W,"constants have been deprecated as of v8")]:[]}function kn(D){for(var I=[],W=arguments.length-1;W-- >0;)I[W]=arguments[W+1];for(var ae=0,de=I;ae<de.length;ae+=1){var Te=de[ae];for(var De in Te)D[De]=Te[De]}return D}function wn(D){return D instanceof Number||D instanceof String||D instanceof Boolean?D.valueOf():D}function hn(D){if(Array.isArray(D))return D.map(hn);if(D instanceof Object&&!(D instanceof Number||D instanceof String||D instanceof Boolean)){var I={};for(var W in D)I[W]=hn(D[W]);return I}return wn(D)}var Pr=function(D){function I(W,ae){D.call(this,ae),this.message=ae,this.key=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Error),Jr=function(I,W){W===void 0&&(W=[]),this.parent=I,this.bindings={};for(var ae=0,de=W;ae<de.length;ae+=1){var Te=de[ae],De=Te[0],Ke=Te[1];this.bindings[De]=Ke}};Jr.prototype.concat=function(I){return new Jr(this,I)},Jr.prototype.get=function(I){if(this.bindings[I])return this.bindings[I];if(this.parent)return this.parent.get(I);throw new Error(I+" not found in scope.")},Jr.prototype.has=function(I){return this.bindings[I]?!0:this.parent?this.parent.has(I):!1};var Yr={kind:"null"},en={kind:"number"},Cn={kind:"string"},On={kind:"boolean"},zn={kind:"color"},Wn={kind:"object"},Vn={kind:"value"},xa={kind:"error"},ca={kind:"collator"},ma={kind:"formatted"},ka={kind:"resolvedImage"};function mi(D,I){return{kind:"array",itemType:D,N:I}}function oi(D){if(D.kind==="array"){var I=oi(D.itemType);return typeof D.N=="number"?"array<"+I+", "+D.N+">":D.itemType.kind==="value"?"array":"array<"+I+">"}else return D.kind}var qo=[Yr,en,Cn,On,zn,ma,Wn,mi(Vn),ka];function Wo(D,I){if(I.kind==="error")return null;if(D.kind==="array"){if(I.kind==="array"&&(I.N===0&&I.itemType.kind==="value"||!Wo(D.itemType,I.itemType))&&(typeof D.N!="number"||D.N===I.N))return null}else{if(D.kind===I.kind)return null;if(D.kind==="value")for(var W=0,ae=qo;W<ae.length;W+=1){var de=ae[W];if(!Wo(de,I))return null}}return"Expected "+oi(D)+" but found "+oi(I)+" instead."}function po(D,I){return I.some(function(W){return W.kind===D.kind})}function su(D,I){return I.some(function(W){return W==="null"?D===null:W==="array"?Array.isArray(D):W==="object"?D&&!Array.isArray(D)&&typeof D=="object":W===typeof D})}var ic=C(function(D,I){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(wt){return wt=Math.round(wt),wt<0?0:wt>255?255:wt}function de(wt){return wt<0?0:wt>1?1:wt}function Te(wt){return wt[wt.length-1]==="%"?ae(parseFloat(wt)/100*255):ae(parseInt(wt))}function De(wt){return wt[wt.length-1]==="%"?de(parseFloat(wt)/100):de(parseFloat(wt))}function Ke(wt,Ct,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?wt+(Ct-wt)*Wt*6:Wt*2<1?Ct:Wt*3<2?wt+(Ct-wt)*(2/3-Wt)*6:wt}function ut(wt){var Ct=wt.replace(/ /g,"").toLowerCase();if(Ct in W)return W[Ct].slice();if(Ct[0]==="#"){if(Ct.length===4){var Wt=parseInt(Ct.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Ct.length===7){var Wt=parseInt(Ct.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var ar=Ct.indexOf("("),er=Ct.indexOf(")");if(ar!==-1&&er+1===Ct.length){var Tr=Ct.substr(0,ar),Ur=Ct.substr(ar+1,er-(ar+1)).split(","),fn=1;switch(Tr){case"rgba":if(Ur.length!==4)return null;fn=De(Ur.pop());case"rgb":return Ur.length!==3?null:[Te(Ur[0]),Te(Ur[1]),Te(Ur[2]),fn];case"hsla":if(Ur.length!==4)return null;fn=De(Ur.pop());case"hsl":if(Ur.length!==3)return null;var rn=(parseFloat(Ur[0])%360+360)%360/360,Rn=De(Ur[1]),An=De(Ur[2]),Ln=An<=.5?An*(Rn+1):An+Rn-An*Rn,Fn=An*2-Ln;return[ae(Ke(Fn,Ln,rn+1/3)*255),ae(Ke(Fn,Ln,rn)*255),ae(Ke(Fn,Ln,rn-1/3)*255),fn];default:return null}}return null}try{I.parseCSSColor=ut}catch{}}),Jc=ic.parseCSSColor,ni=function(I,W,ae,de){de===void 0&&(de=1),this.r=I,this.g=W,this.b=ae,this.a=de};ni.parse=function(I){if(I){if(I instanceof ni)return I;if(typeof I=="string"){var W=Jc(I);if(W)return new ni(W[0]/255*W[3],W[1]/255*W[3],W[2]/255*W[3],W[3])}}},ni.prototype.toString=function(){var I=this.toArray(),W=I[0],ae=I[1],de=I[2],Te=I[3];return"rgba("+Math.round(W)+","+Math.round(ae)+","+Math.round(de)+","+Te+")"},ni.prototype.toArray=function(){var I=this,W=I.r,ae=I.g,de=I.b,Te=I.a;return Te===0?[0,0,0,0]:[W*255/Te,ae*255/Te,de*255/Te,Te]},ni.black=new ni(0,0,0,1),ni.white=new ni(1,1,1,1),ni.transparent=new ni(0,0,0,0),ni.red=new ni(1,0,0,1);var Hu=function(I,W,ae){I?this.sensitivity=W?"variant":"case":this.sensitivity=W?"accent":"base",this.locale=ae,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Hu.prototype.compare=function(I,W){return this.collator.compare(I,W)},Hu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var oc=function(I,W,ae,de,Te){this.text=I,this.image=W,this.scale=ae,this.fontStack=de,this.textColor=Te},lo=function(I){this.sections=I};lo.fromString=function(I){return new lo([new oc(I,null,null,null,null)])},lo.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(I){return I.text.length!==0||I.image&&I.image.name.length!==0})},lo.factory=function(I){return I instanceof lo?I:lo.fromString(I)},lo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(I){return I.text}).join("")},lo.prototype.serialize=function(){for(var I=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var de=ae[W];if(de.image){I.push(["image",de.image.name]);continue}I.push(de.text);var Te={};de.fontStack&&(Te["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(Te["font-scale"]=de.scale),de.textColor&&(Te["text-color"]=["rgba"].concat(de.textColor.toArray())),I.push(Te)}return I};var Fo=function(I){this.name=I.name,this.available=I.available};Fo.prototype.toString=function(){return this.name},Fo.fromString=function(I){return I?new Fo({name:I,available:!1}):null},Fo.prototype.serialize=function(){return["image",this.name]};function lu(D,I,W,ae){if(!(typeof D=="number"&&D>=0&&D<=255&&typeof I=="number"&&I>=0&&I<=255&&typeof W=="number"&&W>=0&&W<=255)){var de=typeof ae=="number"?[D,I,W,ae]:[D,I,W];return"Invalid rgba value ["+de.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ae>"u"||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[D,I,W,ae].join(", ")+"]: 'a' must be between 0 and 1."}function Mf(D){if(D===null)return!0;if(typeof D=="string")return!0;if(typeof D=="boolean")return!0;if(typeof D=="number")return!0;if(D instanceof ni)return!0;if(D instanceof Hu)return!0;if(D instanceof lo)return!0;if(D instanceof Fo)return!0;if(Array.isArray(D)){for(var I=0,W=D;I<W.length;I+=1){var ae=W[I];if(!Mf(ae))return!1}return!0}else if(typeof D=="object"){for(var de in D)if(!Mf(D[de]))return!1;return!0}else return!1}function Gi(D){if(D===null)return Yr;if(typeof D=="string")return Cn;if(typeof D=="boolean")return On;if(typeof D=="number")return en;if(D instanceof ni)return zn;if(D instanceof Hu)return ca;if(D instanceof lo)return ma;if(D instanceof Fo)return ka;if(Array.isArray(D)){for(var I=D.length,W,ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae],De=Gi(Te);if(!W)W=De;else{if(W===De)continue;W=Vn;break}}return mi(W||Vn,I)}else return Wn}function uu(D){var I=typeof D;return D===null?"":I==="string"||I==="number"||I==="boolean"?String(D):D instanceof ni||D instanceof lo||D instanceof Fo?D.toString():JSON.stringify(D)}var Yi=function(I,W){this.type=I,this.value=W};Yi.parse=function(I,W){if(I.length!==2)return W.error("'literal' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(!Mf(I[1]))return W.error("invalid value");var ae=I[1],de=Gi(ae),Te=W.expectedType;return de.kind==="array"&&de.N===0&&Te&&Te.kind==="array"&&(typeof Te.N!="number"||Te.N===0)&&(de=Te),new Yi(de,ae)},Yi.prototype.evaluate=function(){return this.value},Yi.prototype.eachChild=function(){},Yi.prototype.outputDefined=function(){return!0},Yi.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ni?["rgba"].concat(this.value.toArray()):this.value instanceof lo?this.value.serialize():this.value};var eo=function(I){this.name="ExpressionEvaluationError",this.message=I};eo.prototype.toJSON=function(){return this.message};var fu={string:Cn,number:en,boolean:On,object:Wn},go=function(I,W){this.type=I,this.args=W};go.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ae=1,de,Te=I[0];if(Te==="array"){var De;if(I.length>2){var Ke=I[1];if(typeof Ke!="string"||!(Ke in fu)||Ke==="object")return W.error('The item type argument of "array" must be one of string, number, boolean',1);De=fu[Ke],ae++}else De=Vn;var ut;if(I.length>3){if(I[2]!==null&&(typeof I[2]!="number"||I[2]<0||I[2]!==Math.floor(I[2])))return W.error('The length argument to "array" must be a positive integer literal',2);ut=I[2],ae++}de=mi(De,ut)}else de=fu[Te];for(var wt=[];ae<I.length;ae++){var Ct=W.parse(I[ae],ae,Vn);if(!Ct)return null;wt.push(Ct)}return new go(de,wt)},go.prototype.evaluate=function(I){for(var W=0;W<this.args.length;W++){var ae=this.args[W].evaluate(I),de=Wo(this.type,Gi(ae));if(de){if(W===this.args.length-1)throw new eo("Expected value to be of type "+oi(this.type)+", but found "+oi(Gi(ae))+" instead.")}else return ae}return null},go.prototype.eachChild=function(I){this.args.forEach(I)},go.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},go.prototype.serialize=function(){var I=this.type,W=[I.kind];if(I.kind==="array"){var ae=I.itemType;if(ae.kind==="string"||ae.kind==="number"||ae.kind==="boolean"){W.push(ae.kind);var de=I.N;(typeof de=="number"||this.args.length>1)&&W.push(de)}}return W.concat(this.args.map(function(Te){return Te.serialize()}))};var yo=function(I){this.type=ma,this.sections=I};yo.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ae=I[1];if(!Array.isArray(ae)&&typeof ae=="object")return W.error("First argument must be an image or text section.");for(var de=[],Te=!1,De=1;De<=I.length-1;++De){var Ke=I[De];if(Te&&typeof Ke=="object"&&!Array.isArray(Ke)){Te=!1;var ut=null;if(Ke["font-scale"]&&(ut=W.parse(Ke["font-scale"],1,en),!ut))return null;var wt=null;if(Ke["text-font"]&&(wt=W.parse(Ke["text-font"],1,mi(Cn)),!wt))return null;var Ct=null;if(Ke["text-color"]&&(Ct=W.parse(Ke["text-color"],1,zn),!Ct))return null;var Wt=de[de.length-1];Wt.scale=ut,Wt.font=wt,Wt.textColor=Ct}else{var ar=W.parse(I[De],1,Vn);if(!ar)return null;var er=ar.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return W.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Te=!0,de.push({content:ar,scale:null,font:null,textColor:null})}}return new yo(de)},yo.prototype.evaluate=function(I){var W=function(ae){var de=ae.content.evaluate(I);return Gi(de)===ka?new oc("",de,null,null,null):new oc(uu(de),null,ae.scale?ae.scale.evaluate(I):null,ae.font?ae.font.evaluate(I).join(","):null,ae.textColor?ae.textColor.evaluate(I):null)};return new lo(this.sections.map(W))},yo.prototype.eachChild=function(I){for(var W=0,ae=this.sections;W<ae.length;W+=1){var de=ae[W];I(de.content),de.scale&&I(de.scale),de.font&&I(de.font),de.textColor&&I(de.textColor)}},yo.prototype.outputDefined=function(){return!1},yo.prototype.serialize=function(){for(var I=["format"],W=0,ae=this.sections;W<ae.length;W+=1){var de=ae[W];I.push(de.content.serialize());var Te={};de.scale&&(Te["font-scale"]=de.scale.serialize()),de.font&&(Te["text-font"]=de.font.serialize()),de.textColor&&(Te["text-color"]=de.textColor.serialize()),I.push(Te)}return I};var es=function(I){this.type=ka,this.input=I};es.parse=function(I,W){if(I.length!==2)return W.error("Expected two arguments.");var ae=W.parse(I[1],1,Cn);return ae?new es(ae):W.error("No image name provided.")},es.prototype.evaluate=function(I){var W=this.input.evaluate(I),ae=Fo.fromString(W);return ae&&I.availableImages&&(ae.available=I.availableImages.indexOf(W)>-1),ae},es.prototype.eachChild=function(I){I(this.input)},es.prototype.outputDefined=function(){return!1},es.prototype.serialize=function(){return["image",this.input.serialize()]};var Qc={"to-boolean":On,"to-color":zn,"to-number":en,"to-string":Cn},jo=function(I,W){this.type=I,this.args=W};jo.parse=function(I,W){if(I.length<2)return W.error("Expected at least one argument.");var ae=I[0];if((ae==="to-boolean"||ae==="to-string")&&I.length!==2)return W.error("Expected one argument.");for(var de=Qc[ae],Te=[],De=1;De<I.length;De++){var Ke=W.parse(I[De],De,Vn);if(!Ke)return null;Te.push(Ke)}return new jo(de,Te)},jo.prototype.evaluate=function(I){if(this.type.kind==="boolean")return!!this.args[0].evaluate(I);if(this.type.kind==="color"){for(var W,ae,de=0,Te=this.args;de<Te.length;de+=1){var De=Te[de];if(W=De.evaluate(I),ae=null,W instanceof ni)return W;if(typeof W=="string"){var Ke=I.parseColor(W);if(Ke)return Ke}else if(Array.isArray(W)&&(W.length<3||W.length>4?ae="Invalid rbga value "+JSON.stringify(W)+": expected an array containing either three or four numeric values.":ae=lu(W[0],W[1],W[2],W[3]),!ae))return new ni(W[0]/255,W[1]/255,W[2]/255,W[3])}throw new eo(ae||"Could not parse color from value '"+(typeof W=="string"?W:String(JSON.stringify(W)))+"'")}else if(this.type.kind==="number"){for(var ut=null,wt=0,Ct=this.args;wt<Ct.length;wt+=1){var Wt=Ct[wt];if(ut=Wt.evaluate(I),ut===null)return 0;var ar=Number(ut);if(!isNaN(ar))return ar}throw new eo("Could not convert "+JSON.stringify(ut)+" to number.")}else return this.type.kind==="formatted"?lo.fromString(uu(this.args[0].evaluate(I))):this.type.kind==="resolvedImage"?Fo.fromString(uu(this.args[0].evaluate(I))):uu(this.args[0].evaluate(I))},jo.prototype.eachChild=function(I){this.args.forEach(I)},jo.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},jo.prototype.serialize=function(){if(this.type.kind==="formatted")return new yo([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new es(this.args[0]).serialize();var I=["to-"+this.type.kind];return this.eachChild(function(W){I.push(W.serialize())}),I};var pv=["Unknown","Point","LineString","Polygon"],zs=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};zs.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},zs.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?pv[this.feature.type]:this.feature.type:null},zs.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},zs.prototype.canonicalID=function(){return this.canonical},zs.prototype.properties=function(){return this.feature&&this.feature.properties||{}},zs.prototype.parseColor=function(I){var W=this._parseColorCache[I];return W||(W=this._parseColorCache[I]=ni.parse(I)),W};var uo=function(I,W,ae,de){this.name=I,this.type=W,this._evaluate=ae,this.args=de};uo.prototype.evaluate=function(I){return this._evaluate(I,this.args)},uo.prototype.eachChild=function(I){this.args.forEach(I)},uo.prototype.outputDefined=function(){return!1},uo.prototype.serialize=function(){return[this.name].concat(this.args.map(function(I){return I.serialize()}))},uo.parse=function(I,W){var ae,de=I[0],Te=uo.definitions[de];if(!Te)return W.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var De=Array.isArray(Te)?Te[0]:Te.type,Ke=Array.isArray(Te)?[[Te[1],Te[2]]]:Te.overloads,ut=Ke.filter(function(Sa){var Pa=Sa[0];return!Array.isArray(Pa)||Pa.length===I.length-1}),wt=null,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var ar=Wt[Ct],er=ar[0],Tr=ar[1];wt=new Os(W.registry,W.path,null,W.scope);for(var Ur=[],fn=!1,rn=1;rn<I.length;rn++){var Rn=I[rn],An=Array.isArray(er)?er[rn-1]:er.type,Ln=wt.parse(Rn,1+Ur.length,An);if(!Ln){fn=!0;break}Ur.push(Ln)}if(!fn){if(Array.isArray(er)&&er.length!==Ur.length){wt.error("Expected "+er.length+" arguments, but found "+Ur.length+" instead.");continue}for(var Fn=0;Fn<Ur.length;Fn++){var Zn=Array.isArray(er)?er[Fn]:er.type,ua=Ur[Fn];wt.concat(Fn+1).checkSubtype(Zn,ua.type)}if(wt.errors.length===0)return new uo(de,De,Tr,Ur)}}if(ut.length===1)(ae=W.errors).push.apply(ae,wt.errors);else{for(var ia=ut.length?ut:Ke,Aa=ia.map(function(Sa){var Pa=Sa[0];return sc(Pa)}).join(" | "),ya=[],Ta=1;Ta<I.length;Ta++){var Va=W.parse(I[Ta],1+ya.length);if(!Va)return null;ya.push(oi(Va.type))}W.error("Expected arguments of type "+Aa+", but found ("+ya.join(", ")+") instead.")}return null},uo.register=function(I,W){uo.definitions=W;for(var ae in W)I[ae]=uo};function sc(D){return Array.isArray(D)?"("+D.map(oi).join(", ")+")":"("+oi(D.type)+"...)"}var dl=function(I,W,ae){this.type=ca,this.locale=ae,this.caseSensitive=I,this.diacriticSensitive=W};dl.parse=function(I,W){if(I.length!==2)return W.error("Expected one argument.");var ae=I[1];if(typeof ae!="object"||Array.isArray(ae))return W.error("Collator options argument must be an object.");var de=W.parse(ae["case-sensitive"]===void 0?!1:ae["case-sensitive"],1,On);if(!de)return null;var Te=W.parse(ae["diacritic-sensitive"]===void 0?!1:ae["diacritic-sensitive"],1,On);if(!Te)return null;var De=null;return ae.locale&&(De=W.parse(ae.locale,1,Cn),!De)?null:new dl(de,Te,De)},dl.prototype.evaluate=function(I){return new Hu(this.caseSensitive.evaluate(I),this.diacriticSensitive.evaluate(I),this.locale?this.locale.evaluate(I):null)},dl.prototype.eachChild=function(I){I(this.caseSensitive),I(this.diacriticSensitive),this.locale&&I(this.locale)},dl.prototype.outputDefined=function(){return!1},dl.prototype.serialize=function(){var I={};return I["case-sensitive"]=this.caseSensitive.serialize(),I["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(I.locale=this.locale.serialize()),["collator",I]};var Fs=8192;function lc(D,I){D[0]=Math.min(D[0],I[0]),D[1]=Math.min(D[1],I[1]),D[2]=Math.max(D[2],I[0]),D[3]=Math.max(D[3],I[1])}function qc(D){return(180+D)/360}function gv(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function Ef(D,I){return!(D[0]<=I[0]||D[2]>=I[2]||D[1]<=I[1]||D[3]>=I[3])}function yv(D,I){var W=qc(D[0]),ae=gv(D[1]),de=Math.pow(2,I.z);return[Math.round(W*de*Fs),Math.round(ae*de*Fs)]}function mv(D,I,W){var ae=D[0]-I[0],de=D[1]-I[1],Te=D[0]-W[0],De=D[1]-W[1];return ae*De-Te*de===0&&ae*Te<=0&&de*De<=0}function xv(D,I,W){return I[1]>D[1]!=W[1]>D[1]&&D[0]<(W[0]-I[0])*(D[1]-I[1])/(W[1]-I[1])+I[0]}function uc(D,I){for(var W=!1,ae=0,de=I.length;ae<de;ae++)for(var Te=I[ae],De=0,Ke=Te.length;De<Ke-1;De++){if(mv(D,Te[De],Te[De+1]))return!1;xv(D,Te[De],Te[De+1])&&(W=!W)}return W}function bv(D,I){for(var W=0;W<I.length;W++)if(uc(D,I[W]))return!0;return!1}function wv(D,I){return D[0]*I[1]-D[1]*I[0]}function eh(D,I,W,ae){var de=D[0]-W[0],Te=D[1]-W[1],De=I[0]-W[0],Ke=I[1]-W[1],ut=ae[0]-W[0],wt=ae[1]-W[1],Ct=de*wt-ut*Te,Wt=De*wt-ut*Ke;return Ct>0&&Wt<0||Ct<0&&Wt>0}function th(D,I,W,ae){var de=[I[0]-D[0],I[1]-D[1]],Te=[ae[0]-W[0],ae[1]-W[1]];return wv(Te,de)===0?!1:!!(eh(D,I,W,ae)&&eh(W,ae,D,I))}function Bl(D,I,W){for(var ae=0,de=W;ae<de.length;ae+=1)for(var Te=de[ae],De=0;De<Te.length-1;++De)if(th(D,I,Te[De],Te[De+1]))return!0;return!1}function cu(D,I){for(var W=0;W<D.length;++W)if(!uc(D[W],I))return!1;for(var ae=0;ae<D.length-1;++ae)if(Bl(D[ae],D[ae+1],I))return!1;return!0}function Gu(D,I){for(var W=0;W<I.length;W++)if(cu(D,I[W]))return!0;return!1}function Wu(D,I,W){for(var ae=[],de=0;de<D.length;de++){for(var Te=[],De=0;De<D[de].length;De++){var Ke=yv(D[de][De],W);lc(I,Ke),Te.push(Ke)}ae.push(Te)}return ae}function rh(D,I,W){for(var ae=[],de=0;de<D.length;de++){var Te=Wu(D[de],I,W);ae.push(Te)}return ae}function Ks(D,I,W,ae){if(D[0]<W[0]||D[0]>W[2]){var de=ae*.5,Te=D[0]-W[0]>de?-ae:W[0]-D[0]>de?ae:0;Te===0&&(Te=D[0]-W[2]>de?-ae:W[2]-D[0]>de?ae:0),D[0]+=Te}lc(I,D)}function Tv(D){D[0]=D[1]=1/0,D[2]=D[3]=-1/0}function Cf(D,I,W,ae){for(var de=Math.pow(2,ae.z)*Fs,Te=[ae.x*Fs,ae.y*Fs],De=[],Ke=0,ut=D;Ke<ut.length;Ke+=1)for(var wt=ut[Ke],Ct=0,Wt=wt;Ct<Wt.length;Ct+=1){var ar=Wt[Ct],er=[ar.x+Te[0],ar.y+Te[1]];Ks(er,I,W,de),De.push(er)}return De}function nh(D,I,W,ae){for(var de=Math.pow(2,ae.z)*Fs,Te=[ae.x*Fs,ae.y*Fs],De=[],Ke=0,ut=D;Ke<ut.length;Ke+=1){for(var wt=ut[Ke],Ct=[],Wt=0,ar=wt;Wt<ar.length;Wt+=1){var er=ar[Wt],Tr=[er.x+Te[0],er.y+Te[1]];lc(I,Tr),Ct.push(Tr)}De.push(Ct)}if(I[2]-I[0]<=de/2){Tv(I);for(var Ur=0,fn=De;Ur<fn.length;Ur+=1)for(var rn=fn[Ur],Rn=0,An=rn;Rn<An.length;Rn+=1){var Ln=An[Rn];Ks(Ln,I,W,de)}}return De}function ah(D,I){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=D.canonicalID();if(I.type==="Polygon"){var Te=Wu(I.coordinates,ae,de),De=Cf(D.geometry(),W,ae,de);if(!Ef(W,ae))return!1;for(var Ke=0,ut=De;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(!uc(wt,Te))return!1}}if(I.type==="MultiPolygon"){var Ct=rh(I.coordinates,ae,de),Wt=Cf(D.geometry(),W,ae,de);if(!Ef(W,ae))return!1;for(var ar=0,er=Wt;ar<er.length;ar+=1){var Tr=er[ar];if(!bv(Tr,Ct))return!1}}return!0}function Lf(D,I){var W=[1/0,1/0,-1/0,-1/0],ae=[1/0,1/0,-1/0,-1/0],de=D.canonicalID();if(I.type==="Polygon"){var Te=Wu(I.coordinates,ae,de),De=nh(D.geometry(),W,ae,de);if(!Ef(W,ae))return!1;for(var Ke=0,ut=De;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(!cu(wt,Te))return!1}}if(I.type==="MultiPolygon"){var Ct=rh(I.coordinates,ae,de),Wt=nh(D.geometry(),W,ae,de);if(!Ef(W,ae))return!1;for(var ar=0,er=Wt;ar<er.length;ar+=1){var Tr=er[ar];if(!Gu(Tr,Ct))return!1}}return!0}var gs=function(I,W){this.type=On,this.geojson=I,this.geometries=W};gs.parse=function(I,W){if(I.length!==2)return W.error("'within' expression requires exactly one argument, but found "+(I.length-1)+" instead.");if(Mf(I[1])){var ae=I[1];if(ae.type==="FeatureCollection")for(var de=0;de<ae.features.length;++de){var Te=ae.features[de].geometry.type;if(Te==="Polygon"||Te==="MultiPolygon")return new gs(ae,ae.features[de].geometry)}else if(ae.type==="Feature"){var De=ae.geometry.type;if(De==="Polygon"||De==="MultiPolygon")return new gs(ae,ae.geometry)}else if(ae.type==="Polygon"||ae.type==="MultiPolygon")return new gs(ae,ae)}return W.error("'within' expression requires valid geojson object that contains polygon geometry type.")},gs.prototype.evaluate=function(I){if(I.geometry()!=null&&I.canonicalID()!=null){if(I.geometryType()==="Point")return ah(I,this.geometries);if(I.geometryType()==="LineString")return Lf(I,this.geometries)}return!1},gs.prototype.eachChild=function(){},gs.prototype.outputDefined=function(){return!0},gs.prototype.serialize=function(){return["within",this.geojson]};function hu(D){if(D instanceof uo){if(D.name==="get"&&D.args.length===1)return!1;if(D.name==="feature-state")return!1;if(D.name==="has"&&D.args.length===1)return!1;if(D.name==="properties"||D.name==="geometry-type"||D.name==="id")return!1;if(/^filter-/.test(D.name))return!1}if(D instanceof gs)return!1;var I=!0;return D.eachChild(function(W){I&&!hu(W)&&(I=!1)}),I}function Nl(D){if(D instanceof uo&&D.name==="feature-state")return!1;var I=!0;return D.eachChild(function(W){I&&!Nl(W)&&(I=!1)}),I}function ju(D,I){if(D instanceof uo&&I.indexOf(D.name)>=0)return!1;var W=!0;return D.eachChild(function(ae){W&&!ju(ae,I)&&(W=!1)}),W}var pl=function(I,W){this.type=W.type,this.name=I,this.boundExpression=W};pl.parse=function(I,W){if(I.length!==2||typeof I[1]!="string")return W.error("'var' expression requires exactly one string literal argument.");var ae=I[1];return W.scope.has(ae)?new pl(ae,W.scope.get(ae)):W.error('Unknown variable "'+ae+'". Make sure "'+ae+'" has been bound in an enclosing "let" expression before using it.',1)},pl.prototype.evaluate=function(I){return this.boundExpression.evaluate(I)},pl.prototype.eachChild=function(){},pl.prototype.outputDefined=function(){return!1},pl.prototype.serialize=function(){return["var",this.name]};var Os=function(I,W,ae,de,Te){W===void 0&&(W=[]),de===void 0&&(de=new Jr),Te===void 0&&(Te=[]),this.registry=I,this.path=W,this.key=W.map(function(De){return"["+De+"]"}).join(""),this.scope=de,this.errors=Te,this.expectedType=ae};Os.prototype.parse=function(I,W,ae,de,Te){return Te===void 0&&(Te={}),W?this.concat(W,ae,de)._parse(I,Te):this._parse(I,Te)},Os.prototype._parse=function(I,W){(I===null||typeof I=="string"||typeof I=="boolean"||typeof I=="number")&&(I=["literal",I]);function ae(Ct,Wt,ar){return ar==="assert"?new go(Wt,[Ct]):ar==="coerce"?new jo(Wt,[Ct]):Ct}if(Array.isArray(I)){if(I.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=I[0];if(typeof de!="string")return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Te=this.registry[de];if(Te){var De=Te.parse(I,this);if(!De)return null;if(this.expectedType){var Ke=this.expectedType,ut=De.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&ut.kind==="value")De=ae(De,Ke,W.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(ut.kind==="value"||ut.kind==="string"))De=ae(De,Ke,W.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,ut))return null}if(!(De instanceof Yi)&&De.type.kind!=="resolvedImage"&&fc(De)){var wt=new zs;try{De=new Yi(De.type,De.evaluate(wt))}catch(Ct){return this.error(Ct.message),null}}return De}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof I>"u"?this.error("'undefined' value invalid. Use null instead."):typeof I=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof I+" instead.")},Os.prototype.concat=function(I,W,ae){var de=typeof I=="number"?this.path.concat(I):this.path,Te=ae?this.scope.concat(ae):this.scope;return new Os(this.registry,de,W||null,Te,this.errors)},Os.prototype.error=function(I){for(var W=[],ae=arguments.length-1;ae-- >0;)W[ae]=arguments[ae+1];var de=""+this.key+W.map(function(Te){return"["+Te+"]"}).join("");this.errors.push(new Pr(de,I))},Os.prototype.checkSubtype=function(I,W){var ae=Wo(I,W);return ae&&this.error(ae),ae};function fc(D){if(D instanceof pl)return fc(D.boundExpression);if(D instanceof uo&&D.name==="error")return!1;if(D instanceof dl)return!1;if(D instanceof gs)return!1;var I=D instanceof jo||D instanceof go,W=!0;return D.eachChild(function(ae){I?W=W&&fc(ae):W=W&&ae instanceof Yi}),W?hu(D)&&ju(D,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function vu(D,I){for(var W=D.length-1,ae=0,de=W,Te=0,De,Ke;ae<=de;)if(Te=Math.floor((ae+de)/2),De=D[Te],Ke=D[Te+1],De<=I){if(Te===W||I<Ke)return Te;ae=Te+1}else if(De>I)de=Te-1;else throw new eo("Input is not a number.");return 0}var ys=function(I,W,ae){this.type=I,this.input=W,this.labels=[],this.outputs=[];for(var de=0,Te=ae;de<Te.length;de+=1){var De=Te[de],Ke=De[0],ut=De[1];this.labels.push(Ke),this.outputs.push(ut)}};ys.parse=function(I,W){if(I.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return W.error("Expected an even number of arguments.");var ae=W.parse(I[1],1,en);if(!ae)return null;var de=[],Te=null;W.expectedType&&W.expectedType.kind!=="value"&&(Te=W.expectedType);for(var De=1;De<I.length;De+=2){var Ke=De===1?-1/0:I[De],ut=I[De+1],wt=De,Ct=De+1;if(typeof Ke!="number")return W.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',wt);if(de.length&&de[de.length-1][0]>=Ke)return W.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',wt);var Wt=W.parse(ut,Ct,Te);if(!Wt)return null;Te=Te||Wt.type,de.push([Ke,Wt])}return new ys(Te,ae,de)},ys.prototype.evaluate=function(I){var W=this.labels,ae=this.outputs;if(W.length===1)return ae[0].evaluate(I);var de=this.input.evaluate(I);if(de<=W[0])return ae[0].evaluate(I);var Te=W.length;if(de>=W[Te-1])return ae[Te-1].evaluate(I);var De=vu(W,de);return ae[De].evaluate(I)},ys.prototype.eachChild=function(I){I(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1){var de=ae[W];I(de)}},ys.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},ys.prototype.serialize=function(){for(var I=["step",this.input.serialize()],W=0;W<this.labels.length;W++)W>0&&I.push(this.labels[W]),I.push(this.outputs[W].serialize());return I};function Ni(D,I,W){return D*(1-W)+I*W}function cc(D,I,W){return new ni(Ni(D.r,I.r,W),Ni(D.g,I.g,W),Ni(D.b,I.b,W),Ni(D.a,I.a,W))}function Av(D,I,W){return D.map(function(ae,de){return Ni(ae,I[de],W)})}var Pf=Object.freeze({__proto__:null,number:Ni,color:cc,array:Av}),du=.95047,pu=1,Yo=1.08883,Rf=4/29,gu=6/29,kf=3*gu*gu,Sv=gu*gu*gu,ih=Math.PI/180,hc=180/Math.PI;function vc(D){return D>Sv?Math.pow(D,.3333333333333333):D/kf+Rf}function dc(D){return D>gu?D*D*D:kf*(D-Rf)}function yu(D){return 255*(D<=.0031308?12.92*D:1.055*Math.pow(D,.4166666666666667)-.055)}function Df(D){return D/=255,D<=.04045?D/12.92:Math.pow((D+.055)/1.055,2.4)}function Yu(D){var I=Df(D.r),W=Df(D.g),ae=Df(D.b),de=vc((.4124564*I+.3575761*W+.1804375*ae)/du),Te=vc((.2126729*I+.7151522*W+.072175*ae)/pu),De=vc((.0193339*I+.119192*W+.9503041*ae)/Yo);return{l:116*Te-16,a:500*(de-Te),b:200*(Te-De),alpha:D.a}}function If(D){var I=(D.l+16)/116,W=isNaN(D.a)?I:I+D.a/500,ae=isNaN(D.b)?I:I-D.b/200;return I=pu*dc(I),W=du*dc(W),ae=Yo*dc(ae),new ni(yu(3.2404542*W-1.5371385*I-.4985314*ae),yu(-.969266*W+1.8760108*I+.041556*ae),yu(.0556434*W-.2040259*I+1.0572252*ae),D.alpha)}function xi(D,I,W){return{l:Ni(D.l,I.l,W),a:Ni(D.a,I.a,W),b:Ni(D.b,I.b,W),alpha:Ni(D.alpha,I.alpha,W)}}function oh(D){var I=Yu(D),W=I.l,ae=I.a,de=I.b,Te=Math.atan2(de,ae)*hc;return{h:Te<0?Te+360:Te,c:Math.sqrt(ae*ae+de*de),l:W,alpha:D.a}}function ms(D){var I=D.h*ih,W=D.c,ae=D.l;return If({l:ae,a:Math.cos(I)*W,b:Math.sin(I)*W,alpha:D.alpha})}function sh(D,I,W){var ae=I-D;return D+W*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}function pc(D,I,W){return{h:sh(D.h,I.h,W),c:Ni(D.c,I.c,W),l:Ni(D.l,I.l,W),alpha:Ni(D.alpha,I.alpha,W)}}var Ul={forward:Yu,reverse:If,interpolate:xi},yl={forward:oh,reverse:ms,interpolate:pc},_f=Object.freeze({__proto__:null,lab:Ul,hcl:yl}),Wi=function(I,W,ae,de,Te){this.type=I,this.operator=W,this.interpolation=ae,this.input=de,this.labels=[],this.outputs=[];for(var De=0,Ke=Te;De<Ke.length;De+=1){var ut=Ke[De],wt=ut[0],Ct=ut[1];this.labels.push(wt),this.outputs.push(Ct)}};Wi.interpolationFactor=function(I,W,ae,de){var Te=0;if(I.name==="exponential")Te=Zu(W,I.base,ae,de);else if(I.name==="linear")Te=Zu(W,1,ae,de);else if(I.name==="cubic-bezier"){var De=I.controlPoints,Ke=new d(De[0],De[1],De[2],De[3]);Te=Ke.solve(Zu(W,1,ae,de))}return Te},Wi.parse=function(I,W){var ae=I[0],de=I[1],Te=I[2],De=I.slice(3);if(!Array.isArray(de)||de.length===0)return W.error("Expected an interpolation type expression.",1);if(de[0]==="linear")de={name:"linear"};else if(de[0]==="exponential"){var Ke=de[1];if(typeof Ke!="number")return W.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:Ke}}else if(de[0]==="cubic-bezier"){var ut=de.slice(1);if(ut.length!==4||ut.some(function(rn){return typeof rn!="number"||rn<0||rn>1}))return W.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:ut}}else return W.error("Unknown interpolation type "+String(de[0]),1,0);if(I.length-1<4)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if((I.length-1)%2!==0)return W.error("Expected an even number of arguments.");if(Te=W.parse(Te,2,en),!Te)return null;var wt=[],Ct=null;ae==="interpolate-hcl"||ae==="interpolate-lab"?Ct=zn:W.expectedType&&W.expectedType.kind!=="value"&&(Ct=W.expectedType);for(var Wt=0;Wt<De.length;Wt+=2){var ar=De[Wt],er=De[Wt+1],Tr=Wt+3,Ur=Wt+4;if(typeof ar!="number")return W.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tr);if(wt.length&&wt[wt.length-1][0]>=ar)return W.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Tr);var fn=W.parse(er,Ur,Ct);if(!fn)return null;Ct=Ct||fn.type,wt.push([ar,fn])}return Ct.kind!=="number"&&Ct.kind!=="color"&&!(Ct.kind==="array"&&Ct.itemType.kind==="number"&&typeof Ct.N=="number")?W.error("Type "+oi(Ct)+" is not interpolatable."):new Wi(Ct,ae,de,Te,wt)},Wi.prototype.evaluate=function(I){var W=this.labels,ae=this.outputs;if(W.length===1)return ae[0].evaluate(I);var de=this.input.evaluate(I);if(de<=W[0])return ae[0].evaluate(I);var Te=W.length;if(de>=W[Te-1])return ae[Te-1].evaluate(I);var De=vu(W,de),Ke=W[De],ut=W[De+1],wt=Wi.interpolationFactor(this.interpolation,de,Ke,ut),Ct=ae[De].evaluate(I),Wt=ae[De+1].evaluate(I);return this.operator==="interpolate"?Pf[this.type.kind.toLowerCase()](Ct,Wt,wt):this.operator==="interpolate-hcl"?yl.reverse(yl.interpolate(yl.forward(Ct),yl.forward(Wt),wt)):Ul.reverse(Ul.interpolate(Ul.forward(Ct),Ul.forward(Wt),wt))},Wi.prototype.eachChild=function(I){I(this.input);for(var W=0,ae=this.outputs;W<ae.length;W+=1){var de=ae[W];I(de)}},Wi.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})},Wi.prototype.serialize=function(){var I;this.interpolation.name==="linear"?I=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?I=["linear"]:I=["exponential",this.interpolation.base]:I=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var W=[this.operator,I,this.input.serialize()],ae=0;ae<this.labels.length;ae++)W.push(this.labels[ae],this.outputs[ae].serialize());return W};function Zu(D,I,W,ae){var de=ae-W,Te=D-W;return de===0?0:I===1?Te/de:(Math.pow(I,Te)-1)/(Math.pow(I,de)-1)}var xs=function(I,W){this.type=I,this.args=W};xs.parse=function(I,W){if(I.length<2)return W.error("Expectected at least one argument.");var ae=null,de=W.expectedType;de&&de.kind!=="value"&&(ae=de);for(var Te=[],De=0,Ke=I.slice(1);De<Ke.length;De+=1){var ut=Ke[De],wt=W.parse(ut,1+Te.length,ae,void 0,{typeAnnotation:"omit"});if(!wt)return null;ae=ae||wt.type,Te.push(wt)}var Ct=de&&Te.some(function(Wt){return Wo(de,Wt.type)});return Ct?new xs(Vn,Te):new xs(ae,Te)},xs.prototype.evaluate=function(I){for(var W=null,ae=0,de,Te=0,De=this.args;Te<De.length;Te+=1){var Ke=De[Te];if(ae++,W=Ke.evaluate(I),W&&W instanceof Fo&&!W.available&&(de||(de=W.name),W=null,ae===this.args.length&&(W=de)),W!==null)break}return W},xs.prototype.eachChild=function(I){this.args.forEach(I)},xs.prototype.outputDefined=function(){return this.args.every(function(I){return I.outputDefined()})},xs.prototype.serialize=function(){var I=["coalesce"];return this.eachChild(function(W){I.push(W.serialize())}),I};var Js=function(I,W){this.type=W.type,this.bindings=[].concat(I),this.result=W};Js.prototype.evaluate=function(I){return this.result.evaluate(I)},Js.prototype.eachChild=function(I){for(var W=0,ae=this.bindings;W<ae.length;W+=1){var de=ae[W];I(de[1])}I(this.result)},Js.parse=function(I,W){if(I.length<4)return W.error("Expected at least 3 arguments, but found "+(I.length-1)+" instead.");for(var ae=[],de=1;de<I.length-1;de+=2){var Te=I[de];if(typeof Te!="string")return W.error("Expected string, but found "+typeof Te+" instead.",de);if(/[^a-zA-Z0-9_]/.test(Te))return W.error("Variable names must contain only alphanumeric characters or '_'.",de);var De=W.parse(I[de+1],de+1);if(!De)return null;ae.push([Te,De])}var Ke=W.parse(I[I.length-1],I.length-1,W.expectedType,ae);return Ke?new Js(ae,Ke):null},Js.prototype.outputDefined=function(){return this.result.outputDefined()},Js.prototype.serialize=function(){for(var I=["let"],W=0,ae=this.bindings;W<ae.length;W+=1){var de=ae[W],Te=de[0],De=de[1];I.push(Te,De.serialize())}return I.push(this.result.serialize()),I};var Vl=function(I,W,ae){this.type=I,this.index=W,this.input=ae};Vl.parse=function(I,W){if(I.length!==3)return W.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ae=W.parse(I[1],1,en),de=W.parse(I[2],2,mi(W.expectedType||Vn));if(!ae||!de)return null;var Te=de.type;return new Vl(Te.itemType,ae,de)},Vl.prototype.evaluate=function(I){var W=this.index.evaluate(I),ae=this.input.evaluate(I);if(W<0)throw new eo("Array index out of bounds: "+W+" < 0.");if(W>=ae.length)throw new eo("Array index out of bounds: "+W+" > "+(ae.length-1)+".");if(W!==Math.floor(W))throw new eo("Array index must be an integer, but found "+W+" instead.");return ae[W]},Vl.prototype.eachChild=function(I){I(this.index),I(this.input)},Vl.prototype.outputDefined=function(){return!1},Vl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ml=function(I,W){this.type=On,this.needle=I,this.haystack=W};ml.parse=function(I,W){if(I.length!==3)return W.error("Expected 2 arguments, but found "+(I.length-1)+" instead.");var ae=W.parse(I[1],1,Vn),de=W.parse(I[2],2,Vn);return!ae||!de?null:po(ae.type,[On,Cn,en,Yr,Vn])?new ml(ae,de):W.error("Expected first argument to be of type boolean, string, number or null, but found "+oi(ae.type)+" instead")},ml.prototype.evaluate=function(I){var W=this.needle.evaluate(I),ae=this.haystack.evaluate(I);if(!ae)return!1;if(!su(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+oi(Gi(W))+" instead.");if(!su(ae,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+oi(Gi(ae))+" instead.");return ae.indexOf(W)>=0},ml.prototype.eachChild=function(I){I(this.needle),I(this.haystack)},ml.prototype.outputDefined=function(){return!0},ml.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var bs=function(I,W,ae){this.type=en,this.needle=I,this.haystack=W,this.fromIndex=ae};bs.parse=function(I,W){if(I.length<=2||I.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ae=W.parse(I[1],1,Vn),de=W.parse(I[2],2,Vn);if(!ae||!de)return null;if(!po(ae.type,[On,Cn,en,Yr,Vn]))return W.error("Expected first argument to be of type boolean, string, number or null, but found "+oi(ae.type)+" instead");if(I.length===4){var Te=W.parse(I[3],3,en);return Te?new bs(ae,de,Te):null}else return new bs(ae,de)},bs.prototype.evaluate=function(I){var W=this.needle.evaluate(I),ae=this.haystack.evaluate(I);if(!su(W,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+oi(Gi(W))+" instead.");if(!su(ae,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+oi(Gi(ae))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(I);return ae.indexOf(W,de)}return ae.indexOf(W)},bs.prototype.eachChild=function(I){I(this.needle),I(this.haystack),this.fromIndex&&I(this.fromIndex)},bs.prototype.outputDefined=function(){return!1},bs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var I=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),I]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Qs=function(I,W,ae,de,Te,De){this.inputType=I,this.type=W,this.input=ae,this.cases=de,this.outputs=Te,this.otherwise=De};Qs.parse=function(I,W){if(I.length<5)return W.error("Expected at least 4 arguments, but found only "+(I.length-1)+".");if(I.length%2!==1)return W.error("Expected an even number of arguments.");var ae,de;W.expectedType&&W.expectedType.kind!=="value"&&(de=W.expectedType);for(var Te={},De=[],Ke=2;Ke<I.length-1;Ke+=2){var ut=I[Ke],wt=I[Ke+1];Array.isArray(ut)||(ut=[ut]);var Ct=W.concat(Ke);if(ut.length===0)return Ct.error("Expected at least one branch label.");for(var Wt=0,ar=ut;Wt<ar.length;Wt+=1){var er=ar[Wt];if(typeof er!="number"&&typeof er!="string")return Ct.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return Ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return Ct.error("Numeric branch labels must be integer values.");if(!ae)ae=Gi(er);else if(Ct.checkSubtype(ae,Gi(er)))return null;if(typeof Te[String(er)]<"u")return Ct.error("Branch labels must be unique.");Te[String(er)]=De.length}var Tr=W.parse(wt,Ke,de);if(!Tr)return null;de=de||Tr.type,De.push(Tr)}var Ur=W.parse(I[1],1,Vn);if(!Ur)return null;var fn=W.parse(I[I.length-1],I.length-1,de);return!fn||Ur.type.kind!=="value"&&W.concat(1).checkSubtype(ae,Ur.type)?null:new Qs(ae,de,Ur,Te,De,fn)},Qs.prototype.evaluate=function(I){var W=this.input.evaluate(I),ae=Gi(W)===this.inputType&&this.outputs[this.cases[W]]||this.otherwise;return ae.evaluate(I)},Qs.prototype.eachChild=function(I){I(this.input),this.outputs.forEach(I),I(this.otherwise)},Qs.prototype.outputDefined=function(){return this.outputs.every(function(I){return I.outputDefined()})&&this.otherwise.outputDefined()},Qs.prototype.serialize=function(){for(var I=this,W=["match",this.input.serialize()],ae=Object.keys(this.cases).sort(),de=[],Te={},De=0,Ke=ae;De<Ke.length;De+=1){var ut=Ke[De],wt=Te[this.cases[ut]];wt===void 0?(Te[this.cases[ut]]=de.length,de.push([this.cases[ut],[ut]])):de[wt][1].push(ut)}for(var Ct=function(Ur){return I.inputType.kind==="number"?Number(Ur):Ur},Wt=0,ar=de;Wt<ar.length;Wt+=1){var er=ar[Wt],wt=er[0],Tr=er[1];Tr.length===1?W.push(Ct(Tr[0])):W.push(Tr.map(Ct)),W.push(this.outputs[outputIndex$1].serialize())}return W.push(this.otherwise.serialize()),W};var ws=function(I,W,ae){this.type=I,this.branches=W,this.otherwise=ae};ws.parse=function(I,W){if(I.length<4)return W.error("Expected at least 3 arguments, but found only "+(I.length-1)+".");if(I.length%2!==0)return W.error("Expected an odd number of arguments.");var ae;W.expectedType&&W.expectedType.kind!=="value"&&(ae=W.expectedType);for(var de=[],Te=1;Te<I.length-1;Te+=2){var De=W.parse(I[Te],Te,On);if(!De)return null;var Ke=W.parse(I[Te+1],Te+1,ae);if(!Ke)return null;de.push([De,Ke]),ae=ae||Ke.type}var ut=W.parse(I[I.length-1],I.length-1,ae);return ut?new ws(ae,de,ut):null},ws.prototype.evaluate=function(I){for(var W=0,ae=this.branches;W<ae.length;W+=1){var de=ae[W],Te=de[0],De=de[1];if(Te.evaluate(I))return De.evaluate(I)}return this.otherwise.evaluate(I)},ws.prototype.eachChild=function(I){for(var W=0,ae=this.branches;W<ae.length;W+=1){var de=ae[W],Te=de[0],De=de[1];I(Te),I(De)}I(this.otherwise)},ws.prototype.outputDefined=function(){return this.branches.every(function(I){I[0];var W=I[1];return W.outputDefined()})&&this.otherwise.outputDefined()},ws.prototype.serialize=function(){var I=["case"];return this.eachChild(function(W){I.push(W.serialize())}),I};var os=function(I,W,ae,de){this.type=I,this.input=W,this.beginIndex=ae,this.endIndex=de};os.parse=function(I,W){if(I.length<=2||I.length>=5)return W.error("Expected 3 or 4 arguments, but found "+(I.length-1)+" instead.");var ae=W.parse(I[1],1,Vn),de=W.parse(I[2],2,en);if(!ae||!de)return null;if(!po(ae.type,[mi(Vn),Cn,Vn]))return W.error("Expected first argument to be of type array or string, but found "+oi(ae.type)+" instead");if(I.length===4){var Te=W.parse(I[3],3,en);return Te?new os(ae.type,ae,de,Te):null}else return new os(ae.type,ae,de)},os.prototype.evaluate=function(I){var W=this.input.evaluate(I),ae=this.beginIndex.evaluate(I);if(!su(W,["string","array"]))throw new eo("Expected first argument to be of type array or string, but found "+oi(Gi(W))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(I);return W.slice(ae,de)}return W.slice(ae)},os.prototype.eachChild=function(I){I(this.input),I(this.beginIndex),this.endIndex&&I(this.endIndex)},os.prototype.outputDefined=function(){return!1},os.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var I=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),I]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Xu(D,I){return D==="=="||D==="!="?I.kind==="boolean"||I.kind==="string"||I.kind==="number"||I.kind==="null"||I.kind==="value":I.kind==="string"||I.kind==="number"||I.kind==="value"}function Mv(D,I,W){return I===W}function Ev(D,I,W){return I!==W}function Cv(D,I,W){return I<W}function Lv(D,I,W){return I>W}function gc(D,I,W){return I<=W}function lh(D,I,W){return I>=W}function mu(D,I,W,ae){return ae.compare(I,W)===0}function fo(D,I,W,ae){return!mu(D,I,W,ae)}function ts(D,I,W,ae){return ae.compare(I,W)<0}function xu(D,I,W,ae){return ae.compare(I,W)>0}function uh(D,I,W,ae){return ae.compare(I,W)<=0}function $u(D,I,W,ae){return ae.compare(I,W)>=0}function qs(D,I,W){var ae=D!=="=="&&D!=="!=";return function(){function de(Te,De,Ke){this.type=On,this.lhs=Te,this.rhs=De,this.collator=Ke,this.hasUntypedArgument=Te.type.kind==="value"||De.type.kind==="value"}return de.parse=function(De,Ke){if(De.length!==3&&De.length!==4)return Ke.error("Expected two or three arguments.");var ut=De[0],wt=Ke.parse(De[1],1,Vn);if(!wt)return null;if(!Xu(ut,wt.type))return Ke.concat(1).error('"'+ut+`" comparisons are not supported for type '`+oi(wt.type)+"'.");var Ct=Ke.parse(De[2],2,Vn);if(!Ct)return null;if(!Xu(ut,Ct.type))return Ke.concat(2).error('"'+ut+`" comparisons are not supported for type '`+oi(Ct.type)+"'.");if(wt.type.kind!==Ct.type.kind&&wt.type.kind!=="value"&&Ct.type.kind!=="value")return Ke.error("Cannot compare types '"+oi(wt.type)+"' and '"+oi(Ct.type)+"'.");ae&&(wt.type.kind==="value"&&Ct.type.kind!=="value"?wt=new go(Ct.type,[wt]):wt.type.kind!=="value"&&Ct.type.kind==="value"&&(Ct=new go(wt.type,[Ct])));var Wt=null;if(De.length===4){if(wt.type.kind!=="string"&&Ct.type.kind!=="string"&&wt.type.kind!=="value"&&Ct.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(Wt=Ke.parse(De[3],3,ca),!Wt)return null}return new de(wt,Ct,Wt)},de.prototype.evaluate=function(De){var Ke=this.lhs.evaluate(De),ut=this.rhs.evaluate(De);if(ae&&this.hasUntypedArgument){var wt=Gi(Ke),Ct=Gi(ut);if(wt.kind!==Ct.kind||!(wt.kind==="string"||wt.kind==="number"))throw new eo('Expected arguments for "'+D+'" to be (string, string) or (number, number), but found ('+wt.kind+", "+Ct.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var Wt=Gi(Ke),ar=Gi(ut);if(Wt.kind!=="string"||ar.kind!=="string")return I(De,Ke,ut)}return this.collator?W(De,Ke,ut,this.collator.evaluate(De)):I(De,Ke,ut)},de.prototype.eachChild=function(De){De(this.lhs),De(this.rhs),this.collator&&De(this.collator)},de.prototype.outputDefined=function(){return!0},de.prototype.serialize=function(){var De=[D];return this.eachChild(function(Ke){De.push(Ke.serialize())}),De},de}()}var Pv=qs("==",Mv,mu),fh=qs("!=",Ev,fo),ch=qs("<",Cv,ts),yc=qs(">",Lv,xu),hh=qs("<=",gc,uh),Oo=qs(">=",lh,$u),Ts=function(I,W,ae,de,Te){this.type=Cn,this.number=I,this.locale=W,this.currency=ae,this.minFractionDigits=de,this.maxFractionDigits=Te};Ts.parse=function(I,W){if(I.length!==3)return W.error("Expected two arguments.");var ae=W.parse(I[1],1,en);if(!ae)return null;var de=I[2];if(typeof de!="object"||Array.isArray(de))return W.error("NumberFormat options argument must be an object.");var Te=null;if(de.locale&&(Te=W.parse(de.locale,1,Cn),!Te))return null;var De=null;if(de.currency&&(De=W.parse(de.currency,1,Cn),!De))return null;var Ke=null;if(de["min-fraction-digits"]&&(Ke=W.parse(de["min-fraction-digits"],1,en),!Ke))return null;var ut=null;return de["max-fraction-digits"]&&(ut=W.parse(de["max-fraction-digits"],1,en),!ut)?null:new Ts(ae,Te,De,Ke,ut)},Ts.prototype.evaluate=function(I){return new Intl.NumberFormat(this.locale?this.locale.evaluate(I):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(I):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(I):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(I):void 0}).format(this.number.evaluate(I))},Ts.prototype.eachChild=function(I){I(this.number),this.locale&&I(this.locale),this.currency&&I(this.currency),this.minFractionDigits&&I(this.minFractionDigits),this.maxFractionDigits&&I(this.maxFractionDigits)},Ts.prototype.outputDefined=function(){return!1},Ts.prototype.serialize=function(){var I={};return this.locale&&(I.locale=this.locale.serialize()),this.currency&&(I.currency=this.currency.serialize()),this.minFractionDigits&&(I["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(I["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),I]};var xl=function(I){this.type=en,this.input=I};xl.parse=function(I,W){if(I.length!==2)return W.error("Expected 1 argument, but found "+(I.length-1)+" instead.");var ae=W.parse(I[1],1);return ae?ae.type.kind!=="array"&&ae.type.kind!=="string"&&ae.type.kind!=="value"?W.error("Expected argument of type string or array, but found "+oi(ae.type)+" instead."):new xl(ae):null},xl.prototype.evaluate=function(I){var W=this.input.evaluate(I);if(typeof W=="string")return W.length;if(Array.isArray(W))return W.length;throw new eo("Expected value to be of type string or array, but found "+oi(Gi(W))+" instead.")},xl.prototype.eachChild=function(I){I(this.input)},xl.prototype.outputDefined=function(){return!1},xl.prototype.serialize=function(){var I=["length"];return this.eachChild(function(W){I.push(W.serialize())}),I};var bu={"==":Pv,"!=":fh,">":yc,"<":ch,">=":Oo,"<=":hh,array:go,at:Vl,boolean:go,case:ws,coalesce:xs,collator:dl,format:yo,image:es,in:ml,"index-of":bs,interpolate:Wi,"interpolate-hcl":Wi,"interpolate-lab":Wi,length:xl,let:Js,literal:Yi,match:Qs,number:go,"number-format":Ts,object:go,slice:os,step:ys,string:go,"to-boolean":jo,"to-color":jo,"to-number":jo,"to-string":jo,var:pl,within:gs};function zf(D,I){var W=I[0],ae=I[1],de=I[2],Te=I[3];W=W.evaluate(D),ae=ae.evaluate(D),de=de.evaluate(D);var De=Te?Te.evaluate(D):1,Ke=lu(W,ae,de,De);if(Ke)throw new eo(Ke);return new ni(W/255*De,ae/255*De,de/255*De,De)}function Hl(D,I){return D in I}function Gl(D,I){var W=I[D];return typeof W>"u"?null:W}function vh(D,I,W,ae){for(;W<=ae;){var de=W+ae>>1;if(I[de]===D)return!0;I[de]>D?ae=de-1:W=de+1}return!1}function el(D){return{type:D}}uo.register(bu,{error:[xa,[Cn],function(D,I){var W=I[0];throw new eo(W.evaluate(D))}],typeof:[Cn,[Vn],function(D,I){var W=I[0];return oi(Gi(W.evaluate(D)))}],"to-rgba":[mi(en,4),[zn],function(D,I){var W=I[0];return W.evaluate(D).toArray()}],rgb:[zn,[en,en,en],zf],rgba:[zn,[en,en,en,en],zf],has:{type:On,overloads:[[[Cn],function(D,I){var W=I[0];return Hl(W.evaluate(D),D.properties())}],[[Cn,Wn],function(D,I){var W=I[0],ae=I[1];return Hl(W.evaluate(D),ae.evaluate(D))}]]},get:{type:Vn,overloads:[[[Cn],function(D,I){var W=I[0];return Gl(W.evaluate(D),D.properties())}],[[Cn,Wn],function(D,I){var W=I[0],ae=I[1];return Gl(W.evaluate(D),ae.evaluate(D))}]]},"feature-state":[Vn,[Cn],function(D,I){var W=I[0];return Gl(W.evaluate(D),D.featureState||{})}],properties:[Wn,[],function(D){return D.properties()}],"geometry-type":[Cn,[],function(D){return D.geometryType()}],id:[Vn,[],function(D){return D.id()}],zoom:[en,[],function(D){return D.globals.zoom}],"heatmap-density":[en,[],function(D){return D.globals.heatmapDensity||0}],"line-progress":[en,[],function(D){return D.globals.lineProgress||0}],accumulated:[Vn,[],function(D){return D.globals.accumulated===void 0?null:D.globals.accumulated}],"+":[en,el(en),function(D,I){for(var W=0,ae=0,de=I;ae<de.length;ae+=1){var Te=de[ae];W+=Te.evaluate(D)}return W}],"*":[en,el(en),function(D,I){for(var W=1,ae=0,de=I;ae<de.length;ae+=1){var Te=de[ae];W*=Te.evaluate(D)}return W}],"-":{type:en,overloads:[[[en,en],function(D,I){var W=I[0],ae=I[1];return W.evaluate(D)-ae.evaluate(D)}],[[en],function(D,I){var W=I[0];return-W.evaluate(D)}]]},"/":[en,[en,en],function(D,I){var W=I[0],ae=I[1];return W.evaluate(D)/ae.evaluate(D)}],"%":[en,[en,en],function(D,I){var W=I[0],ae=I[1];return W.evaluate(D)%ae.evaluate(D)}],ln2:[en,[],function(){return Math.LN2}],pi:[en,[],function(){return Math.PI}],e:[en,[],function(){return Math.E}],"^":[en,[en,en],function(D,I){var W=I[0],ae=I[1];return Math.pow(W.evaluate(D),ae.evaluate(D))}],sqrt:[en,[en],function(D,I){var W=I[0];return Math.sqrt(W.evaluate(D))}],log10:[en,[en],function(D,I){var W=I[0];return Math.log(W.evaluate(D))/Math.LN10}],ln:[en,[en],function(D,I){var W=I[0];return Math.log(W.evaluate(D))}],log2:[en,[en],function(D,I){var W=I[0];return Math.log(W.evaluate(D))/Math.LN2}],sin:[en,[en],function(D,I){var W=I[0];return Math.sin(W.evaluate(D))}],cos:[en,[en],function(D,I){var W=I[0];return Math.cos(W.evaluate(D))}],tan:[en,[en],function(D,I){var W=I[0];return Math.tan(W.evaluate(D))}],asin:[en,[en],function(D,I){var W=I[0];return Math.asin(W.evaluate(D))}],acos:[en,[en],function(D,I){var W=I[0];return Math.acos(W.evaluate(D))}],atan:[en,[en],function(D,I){var W=I[0];return Math.atan(W.evaluate(D))}],min:[en,el(en),function(D,I){return Math.min.apply(Math,I.map(function(W){return W.evaluate(D)}))}],max:[en,el(en),function(D,I){return Math.max.apply(Math,I.map(function(W){return W.evaluate(D)}))}],abs:[en,[en],function(D,I){var W=I[0];return Math.abs(W.evaluate(D))}],round:[en,[en],function(D,I){var W=I[0],ae=W.evaluate(D);return ae<0?-Math.round(-ae):Math.round(ae)}],floor:[en,[en],function(D,I){var W=I[0];return Math.floor(W.evaluate(D))}],ceil:[en,[en],function(D,I){var W=I[0];return Math.ceil(W.evaluate(D))}],"filter-==":[On,[Cn,Vn],function(D,I){var W=I[0],ae=I[1];return D.properties()[W.value]===ae.value}],"filter-id-==":[On,[Vn],function(D,I){var W=I[0];return D.id()===W.value}],"filter-type-==":[On,[Cn],function(D,I){var W=I[0];return D.geometryType()===W.value}],"filter-<":[On,[Cn,Vn],function(D,I){var W=I[0],ae=I[1],de=D.properties()[W.value],Te=ae.value;return typeof de==typeof Te&&de<Te}],"filter-id-<":[On,[Vn],function(D,I){var W=I[0],ae=D.id(),de=W.value;return typeof ae==typeof de&&ae<de}],"filter->":[On,[Cn,Vn],function(D,I){var W=I[0],ae=I[1],de=D.properties()[W.value],Te=ae.value;return typeof de==typeof Te&&de>Te}],"filter-id->":[On,[Vn],function(D,I){var W=I[0],ae=D.id(),de=W.value;return typeof ae==typeof de&&ae>de}],"filter-<=":[On,[Cn,Vn],function(D,I){var W=I[0],ae=I[1],de=D.properties()[W.value],Te=ae.value;return typeof de==typeof Te&&de<=Te}],"filter-id-<=":[On,[Vn],function(D,I){var W=I[0],ae=D.id(),de=W.value;return typeof ae==typeof de&&ae<=de}],"filter->=":[On,[Cn,Vn],function(D,I){var W=I[0],ae=I[1],de=D.properties()[W.value],Te=ae.value;return typeof de==typeof Te&&de>=Te}],"filter-id->=":[On,[Vn],function(D,I){var W=I[0],ae=D.id(),de=W.value;return typeof ae==typeof de&&ae>=de}],"filter-has":[On,[Vn],function(D,I){var W=I[0];return W.value in D.properties()}],"filter-has-id":[On,[],function(D){return D.id()!==null&&D.id()!==void 0}],"filter-type-in":[On,[mi(Cn)],function(D,I){var W=I[0];return W.value.indexOf(D.geometryType())>=0}],"filter-id-in":[On,[mi(Vn)],function(D,I){var W=I[0];return W.value.indexOf(D.id())>=0}],"filter-in-small":[On,[Cn,mi(Vn)],function(D,I){var W=I[0],ae=I[1];return ae.value.indexOf(D.properties()[W.value])>=0}],"filter-in-large":[On,[Cn,mi(Vn)],function(D,I){var W=I[0],ae=I[1];return vh(D.properties()[W.value],ae.value,0,ae.value.length-1)}],all:{type:On,overloads:[[[On,On],function(D,I){var W=I[0],ae=I[1];return W.evaluate(D)&&ae.evaluate(D)}],[el(On),function(D,I){for(var W=0,ae=I;W<ae.length;W+=1){var de=ae[W];if(!de.evaluate(D))return!1}return!0}]]},any:{type:On,overloads:[[[On,On],function(D,I){var W=I[0],ae=I[1];return W.evaluate(D)||ae.evaluate(D)}],[el(On),function(D,I){for(var W=0,ae=I;W<ae.length;W+=1){var de=ae[W];if(de.evaluate(D))return!0}return!1}]]},"!":[On,[On],function(D,I){var W=I[0];return!W.evaluate(D)}],"is-supported-script":[On,[Cn],function(D,I){var W=I[0],ae=D.globals&&D.globals.isSupportedScript;return ae?ae(W.evaluate(D)):!0}],upcase:[Cn,[Cn],function(D,I){var W=I[0];return W.evaluate(D).toUpperCase()}],downcase:[Cn,[Cn],function(D,I){var W=I[0];return W.evaluate(D).toLowerCase()}],concat:[Cn,el(Vn),function(D,I){return I.map(function(W){return uu(W.evaluate(D))}).join("")}],"resolved-locale":[Cn,[ca],function(D,I){var W=I[0];return W.evaluate(D).resolvedLocale()}]});function wu(D){return{result:"success",value:D}}function bl(D){return{result:"error",value:D}}function tl(D){return D["property-type"]==="data-driven"||D["property-type"]==="cross-faded-data-driven"}function Ku(D){return!!D.expression&&D.expression.parameters.indexOf("zoom")>-1}function Tu(D){return!!D.expression&&D.expression.interpolated}function pi(D){return D instanceof Number?"number":D instanceof String?"string":D instanceof Boolean?"boolean":Array.isArray(D)?"array":D===null?"null":typeof D}function Au(D){return typeof D=="object"&&D!==null&&!Array.isArray(D)}function Ff(D){return D}function dh(D,I){var W=I.type==="color",ae=D.stops&&typeof D.stops[0][0]=="object",de=ae||D.property!==void 0,Te=ae||!de,De=D.type||(Tu(I)?"exponential":"interval");if(W&&(D=kn({},D),D.stops&&(D.stops=D.stops.map(function(ia){return[ia[0],ni.parse(ia[1])]})),D.default?D.default=ni.parse(D.default):D.default=ni.parse(I.default)),D.colorSpace&&D.colorSpace!=="rgb"&&!_f[D.colorSpace])throw new Error("Unknown color space: "+D.colorSpace);var Ke,ut,wt;if(De==="exponential")Ke=mc;else if(De==="interval")Ke=Of;else if(De==="categorical"){Ke=Ju,ut=Object.create(null);for(var Ct=0,Wt=D.stops;Ct<Wt.length;Ct+=1){var ar=Wt[Ct];ut[ar[0]]=ar[1]}wt=typeof D.stops[0][0]}else if(De==="identity")Ke=Qu;else throw new Error('Unknown function type "'+De+'"');if(ae){for(var er={},Tr=[],Ur=0;Ur<D.stops.length;Ur++){var fn=D.stops[Ur],rn=fn[0].zoom;er[rn]===void 0&&(er[rn]={zoom:rn,type:D.type,property:D.property,default:D.default,stops:[]},Tr.push(rn)),er[rn].stops.push([fn[0].value,fn[1]])}for(var Rn=[],An=0,Ln=Tr;An<Ln.length;An+=1){var Fn=Ln[An];Rn.push([er[Fn].zoom,dh(er[Fn],I)])}var Zn={name:"linear"};return{kind:"composite",interpolationType:Zn,interpolationFactor:Wi.interpolationFactor.bind(void 0,Zn),zoomStops:Rn.map(function(ia){return ia[0]}),evaluate:function(Aa,ya){var Ta=Aa.zoom;return mc({stops:Rn,base:D.base},I,Ta).evaluate(Ta,ya)}}}else if(Te){var ua=De==="exponential"?{name:"exponential",base:D.base!==void 0?D.base:1}:null;return{kind:"camera",interpolationType:ua,interpolationFactor:Wi.interpolationFactor.bind(void 0,ua),zoomStops:D.stops.map(function(ia){return ia[0]}),evaluate:function(ia){var Aa=ia.zoom;return Ke(D,I,Aa,ut,wt)}}}else return{kind:"source",evaluate:function(Aa,ya){var Ta=ya&&ya.properties?ya.properties[D.property]:void 0;return Ta===void 0?Su(D.default,I.default):Ke(D,I,Ta,ut,wt)}}}function Su(D,I,W){if(D!==void 0)return D;if(I!==void 0)return I;if(W!==void 0)return W}function Ju(D,I,W,ae,de){var Te=typeof W===de?ae[W]:void 0;return Su(Te,D.default,I.default)}function Of(D,I,W){if(pi(W)!=="number")return Su(D.default,I.default);var ae=D.stops.length;if(ae===1||W<=D.stops[0][0])return D.stops[0][1];if(W>=D.stops[ae-1][0])return D.stops[ae-1][1];var de=vu(D.stops.map(function(Te){return Te[0]}),W);return D.stops[de][1]}function mc(D,I,W){var ae=D.base!==void 0?D.base:1;if(pi(W)!=="number")return Su(D.default,I.default);var de=D.stops.length;if(de===1||W<=D.stops[0][0])return D.stops[0][1];if(W>=D.stops[de-1][0])return D.stops[de-1][1];var Te=vu(D.stops.map(function(Wt){return Wt[0]}),W),De=qu(W,ae,D.stops[Te][0],D.stops[Te+1][0]),Ke=D.stops[Te][1],ut=D.stops[Te+1][1],wt=Pf[I.type]||Ff;if(D.colorSpace&&D.colorSpace!=="rgb"){var Ct=_f[D.colorSpace];wt=function(Wt,ar){return Ct.reverse(Ct.interpolate(Ct.forward(Wt),Ct.forward(ar),De))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var ar=[],er=arguments.length;er--;)ar[er]=arguments[er];var Tr=Ke.evaluate.apply(void 0,ar),Ur=ut.evaluate.apply(void 0,ar);if(!(Tr===void 0||Ur===void 0))return wt(Tr,Ur,De)}}:wt(Ke,ut,De)}function Qu(D,I,W){return I.type==="color"?W=ni.parse(W):I.type==="formatted"?W=lo.fromString(W.toString()):I.type==="resolvedImage"?W=Fo.fromString(W.toString()):pi(W)!==I.type&&(I.type!=="enum"||!I.values[W])&&(W=void 0),Su(W,D.default,I.default)}function qu(D,I,W,ae){var de=ae-W,Te=D-W;return de===0?0:I===1?Te/de:(Math.pow(I,Te)-1)/(Math.pow(I,de)-1)}var wl=function(I,W){this.expression=I,this._warningHistory={},this._evaluator=new zs,this._defaultValue=W?ph(W):null,this._enumValues=W&&W.type==="enum"?W.values:null};wl.prototype.evaluateWithoutErrorHandling=function(I,W,ae,de,Te,De){return this._evaluator.globals=I,this._evaluator.feature=W,this._evaluator.featureState=ae,this._evaluator.canonical=de,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=De,this.expression.evaluate(this._evaluator)},wl.prototype.evaluate=function(I,W,ae,de,Te,De){this._evaluator.globals=I,this._evaluator.feature=W||null,this._evaluator.featureState=ae||null,this._evaluator.canonical=de,this._evaluator.availableImages=Te||null,this._evaluator.formattedSection=De||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new eo("Expected value to be one of "+Object.keys(this._enumValues).map(function(ut){return JSON.stringify(ut)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(ut){return this._warningHistory[ut.message]||(this._warningHistory[ut.message]=!0,typeof console<"u"&&console.warn(ut.message)),this._defaultValue}};function ef(D){return Array.isArray(D)&&D.length>0&&typeof D[0]=="string"&&D[0]in bu}function Tl(D,I){var W=new Os(bu,[],I?Rv(I):void 0),ae=W.parse(D,void 0,void 0,void 0,I&&I.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?wu(new wl(ae,I)):bl(W.errors)}var to=function(I,W){this.kind=I,this._styleExpression=W,this.isStateDependent=I!=="constant"&&!Nl(W.expression)};to.prototype.evaluateWithoutErrorHandling=function(I,W,ae,de,Te,De){return this._styleExpression.evaluateWithoutErrorHandling(I,W,ae,de,Te,De)},to.prototype.evaluate=function(I,W,ae,de,Te,De){return this._styleExpression.evaluate(I,W,ae,de,Te,De)};var Bs=function(I,W,ae,de){this.kind=I,this.zoomStops=ae,this._styleExpression=W,this.isStateDependent=I!=="camera"&&!Nl(W.expression),this.interpolationType=de};Bs.prototype.evaluateWithoutErrorHandling=function(I,W,ae,de,Te,De){return this._styleExpression.evaluateWithoutErrorHandling(I,W,ae,de,Te,De)},Bs.prototype.evaluate=function(I,W,ae,de,Te,De){return this._styleExpression.evaluate(I,W,ae,de,Te,De)},Bs.prototype.interpolationFactor=function(I,W,ae){return this.interpolationType?Wi.interpolationFactor(this.interpolationType,I,W,ae):0};function xc(D,I){if(D=Tl(D,I),D.result==="error")return D;var W=D.value.expression,ae=hu(W);if(!ae&&!tl(I))return bl([new Pr("","data expressions not supported")]);var de=ju(W,["zoom"]);if(!de&&!Ku(I))return bl([new Pr("","zoom expressions not supported")]);var Te=tf(W);if(!Te&&!de)return bl([new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Te instanceof Pr)return bl([Te]);if(Te instanceof Wi&&!Tu(I))return bl([new Pr("",'"interpolate" expressions cannot be used with this property')]);if(!Te)return wu(ae?new to("constant",D.value):new to("source",D.value));var De=Te instanceof Wi?Te.interpolation:void 0;return wu(ae?new Bs("camera",D.value,Te.labels,De):new Bs("composite",D.value,Te.labels,De))}var Wl=function(I,W){this._parameters=I,this._specification=W,kn(this,dh(this._parameters,this._specification))};Wl.deserialize=function(I){return new Wl(I._parameters,I._specification)},Wl.serialize=function(I){return{_parameters:I._parameters,_specification:I._specification}};function Bf(D,I){if(Au(D))return new Wl(D,I);if(ef(D)){var W=xc(D,I);if(W.result==="error")throw new Error(W.value.map(function(de){return de.key+": "+de.message}).join(", "));return W.value}else{var ae=D;return typeof D=="string"&&I.type==="color"&&(ae=ni.parse(D)),{kind:"constant",evaluate:function(){return ae}}}}function tf(D){var I=null;if(D instanceof Js)I=tf(D.result);else if(D instanceof xs)for(var W=0,ae=D.args;W<ae.length;W+=1){var de=ae[W];if(I=tf(de),I)break}else(D instanceof ys||D instanceof Wi)&&D.input instanceof uo&&D.input.name==="zoom"&&(I=D);return I instanceof Pr||D.eachChild(function(Te){var De=tf(Te);De instanceof Pr?I=De:!I&&De?I=new Pr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):I&&De&&I!==De&&(I=new Pr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),I}function Rv(D){var I={color:zn,string:Cn,number:en,enum:Cn,boolean:On,formatted:ma,resolvedImage:ka};return D.type==="array"?mi(I[D.value]||Vn,D.length):I[D.type]}function ph(D){return D.type==="color"&&Au(D.default)?new ni(0,0,0,0):D.type==="color"?ni.parse(D.default)||null:D.default===void 0?null:D.default}function Ro(D){var I=D.key,W=D.value,ae=D.valueSpec||{},de=D.objectElementValidators||{},Te=D.style,De=D.styleSpec,Ke=[],ut=pi(W);if(ut!=="object")return[new Br(I,W,"object expected, "+ut+" found")];for(var wt in W){var Ct=wt.split(".")[0],Wt=ae[Ct]||ae["*"],ar=void 0;if(de[Ct])ar=de[Ct];else if(ae[Ct])ar=Fr;else if(de["*"])ar=de["*"];else if(ae["*"])ar=Fr;else{Ke.push(new Br(I,W[wt],'unknown property "'+wt+'"'));continue}Ke=Ke.concat(ar({key:(I&&I+".")+wt,value:W[wt],valueSpec:Wt,style:Te,styleSpec:De,object:W,objectKey:wt},W))}for(var er in ae)de[er]||ae[er].required&&ae[er].default===void 0&&W[er]===void 0&&Ke.push(new Br(I,W,'missing required property "'+er+'"'));return Ke}function rf(D){var I=D.value,W=D.valueSpec,ae=D.style,de=D.styleSpec,Te=D.key,De=D.arrayElementValidator||Fr;if(pi(I)!=="array")return[new Br(Te,I,"array expected, "+pi(I)+" found")];if(W.length&&I.length!==W.length)return[new Br(Te,I,"array length "+W.length+" expected, length "+I.length+" found")];if(W["min-length"]&&I.length<W["min-length"])return[new Br(Te,I,"array length at least "+W["min-length"]+" expected, length "+I.length+" found")];var Ke={type:W.value,values:W.values};de.$version<7&&(Ke.function=W.function),pi(W.value)==="object"&&(Ke=W.value);for(var ut=[],wt=0;wt<I.length;wt++)ut=ut.concat(De({array:I,arrayIndex:wt,value:I[wt],valueSpec:Ke,style:ae,styleSpec:de,key:Te+"["+wt+"]"}));return ut}function Mu(D){var I=D.key,W=D.value,ae=D.valueSpec,de=pi(W);return de==="number"&&W!==W&&(de="NaN"),de!=="number"?[new Br(I,W,"number expected, "+de+" found")]:"minimum"in ae&&W<ae.minimum?[new Br(I,W,W+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&W>ae.maximum?[new Br(I,W,W+" is greater than the maximum value "+ae.maximum)]:[]}function gh(D){var I=D.valueSpec,W=wn(D.value.type),ae,de={},Te,De,Ke=W!=="categorical"&&D.value.property===void 0,ut=!Ke,wt=pi(D.value.stops)==="array"&&pi(D.value.stops[0])==="array"&&pi(D.value.stops[0][0])==="object",Ct=Ro({key:D.key,value:D.value,valueSpec:D.styleSpec.function,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{stops:Wt,default:Tr}});return W==="identity"&&Ke&&Ct.push(new Br(D.key,D.value,'missing required property "property"')),W!=="identity"&&!D.value.stops&&Ct.push(new Br(D.key,D.value,'missing required property "stops"')),W==="exponential"&&D.valueSpec.expression&&!Tu(D.valueSpec)&&Ct.push(new Br(D.key,D.value,"exponential functions not supported")),D.styleSpec.$version>=8&&(ut&&!tl(D.valueSpec)?Ct.push(new Br(D.key,D.value,"property functions not supported")):Ke&&!Ku(D.valueSpec)&&Ct.push(new Br(D.key,D.value,"zoom functions not supported"))),(W==="categorical"||wt)&&D.value.property===void 0&&Ct.push(new Br(D.key,D.value,'"property" property is required')),Ct;function Wt(Ur){if(W==="identity")return[new Br(Ur.key,Ur.value,'identity function may not have a "stops" property')];var fn=[],rn=Ur.value;return fn=fn.concat(rf({key:Ur.key,value:rn,valueSpec:Ur.valueSpec,style:Ur.style,styleSpec:Ur.styleSpec,arrayElementValidator:ar})),pi(rn)==="array"&&rn.length===0&&fn.push(new Br(Ur.key,rn,"array must have at least one stop")),fn}function ar(Ur){var fn=[],rn=Ur.value,Rn=Ur.key;if(pi(rn)!=="array")return[new Br(Rn,rn,"array expected, "+pi(rn)+" found")];if(rn.length!==2)return[new Br(Rn,rn,"array length 2 expected, length "+rn.length+" found")];if(wt){if(pi(rn[0])!=="object")return[new Br(Rn,rn,"object expected, "+pi(rn[0])+" found")];if(rn[0].zoom===void 0)return[new Br(Rn,rn,"object stop key must have zoom")];if(rn[0].value===void 0)return[new Br(Rn,rn,"object stop key must have value")];if(De&&De>wn(rn[0].zoom))return[new Br(Rn,rn[0].zoom,"stop zoom values must appear in ascending order")];wn(rn[0].zoom)!==De&&(De=wn(rn[0].zoom),Te=void 0,de={}),fn=fn.concat(Ro({key:Rn+"[0]",value:rn[0],valueSpec:{zoom:{}},style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{zoom:Mu,value:er}}))}else fn=fn.concat(er({key:Rn+"[0]",value:rn[0],valueSpec:{},style:Ur.style,styleSpec:Ur.styleSpec},rn));return ef(hn(rn[1]))?fn.concat([new Br(Rn+"[1]",rn[1],"expressions are not allowed in function stops.")]):fn.concat(Fr({key:Rn+"[1]",value:rn[1],valueSpec:I,style:Ur.style,styleSpec:Ur.styleSpec}))}function er(Ur,fn){var rn=pi(Ur.value),Rn=wn(Ur.value),An=Ur.value!==null?Ur.value:fn;if(!ae)ae=rn;else if(rn!==ae)return[new Br(Ur.key,An,rn+" stop domain type must match previous stop domain type "+ae)];if(rn!=="number"&&rn!=="string"&&rn!=="boolean")return[new Br(Ur.key,An,"stop domain value must be a number, string, or boolean")];if(rn!=="number"&&W!=="categorical"){var Ln="number expected, "+rn+" found";return tl(I)&&W===void 0&&(Ln+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Br(Ur.key,An,Ln)]}return W==="categorical"&&rn==="number"&&(!isFinite(Rn)||Math.floor(Rn)!==Rn)?[new Br(Ur.key,An,"integer expected, found "+Rn)]:W!=="categorical"&&rn==="number"&&Te!==void 0&&Rn<Te?[new Br(Ur.key,An,"stop domain values must appear in ascending order")]:(Te=Rn,W==="categorical"&&Rn in de?[new Br(Ur.key,An,"stop domain values must be unique")]:(de[Rn]=!0,[]))}function Tr(Ur){return Fr({key:Ur.key,value:Ur.value,valueSpec:I,style:Ur.style,styleSpec:Ur.styleSpec})}}function Al(D){var I=(D.expressionContext==="property"?xc:Tl)(hn(D.value),D.valueSpec);if(I.result==="error")return I.value.map(function(ae){return new Br(""+D.key+ae.key,D.value,ae.message)});var W=I.value.expression||I.value._styleExpression.expression;if(D.expressionContext==="property"&&D.propertyKey==="text-font"&&!W.outputDefined())return[new Br(D.key,D.value,'Invalid data expression for "'+D.propertyKey+'". Output values must be contained as literals within the expression.')];if(D.expressionContext==="property"&&D.propertyType==="layout"&&!Nl(W))return[new Br(D.key,D.value,'"feature-state" data expressions are not supported with layout properties.')];if(D.expressionContext==="filter"&&!Nl(W))return[new Br(D.key,D.value,'"feature-state" data expressions are not supported with filters.')];if(D.expressionContext&&D.expressionContext.indexOf("cluster")===0){if(!ju(W,["zoom","feature-state"]))return[new Br(D.key,D.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(D.expressionContext==="cluster-initial"&&!hu(W))return[new Br(D.key,D.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function kv(D){var I=D.value,W=D.key,ae=pi(I);return ae!=="boolean"?[new Br(W,I,"boolean expected, "+ae+" found")]:[]}function Zo(D){var I=D.key,W=D.value,ae=pi(W);return ae!=="string"?[new Br(I,W,"color expected, "+ae+" found")]:Jc(W)===null?[new Br(I,W,'color expected, "'+W+'" found')]:[]}function nf(D){var I=D.key,W=D.value,ae=D.valueSpec,de=[];return Array.isArray(ae.values)?ae.values.indexOf(wn(W))===-1&&de.push(new Br(I,W,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(ae.values).indexOf(wn(W))===-1&&de.push(new Br(I,W,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(W)+" found")),de}function Nf(D){if(D===!0||D===!1)return!0;if(!Array.isArray(D)||D.length===0)return!1;switch(D[0]){case"has":return D.length>=2&&D[1]!=="$id"&&D[1]!=="$type";case"in":return D.length>=3&&(typeof D[1]!="string"||Array.isArray(D[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return D.length!==3||Array.isArray(D[1])||Array.isArray(D[2]);case"any":case"all":for(var I=0,W=D.slice(1);I<W.length;I+=1){var ae=W[I];if(!Nf(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}var rl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Sl(D){if(D==null)return{filter:function(){return!0},needGeometry:!1};Nf(D)||(D=of(D));var I=Tl(D,rl);if(I.result==="error")throw new Error(I.value.map(function(ae){return ae.key+": "+ae.message}).join(", "));var W=af(D);return{filter:function(ae,de,Te){return I.value.evaluate(ae,de,{},Te)},needGeometry:W}}function bc(D,I){return D<I?-1:D>I?1:0}function af(D){if(!Array.isArray(D))return!1;if(D[0]==="within")return!0;for(var I=1;I<D.length;I++)if(af(D[I]))return!0;return!1}function of(D){if(!D)return!0;var I=D[0];if(D.length<=1)return I!=="any";var W=I==="=="?Uf(D[1],D[2],"=="):I==="!="?jl(Uf(D[1],D[2],"==")):I==="<"||I===">"||I==="<="||I===">="?Uf(D[1],D[2],I):I==="any"?yh(D.slice(1)):I==="all"?["all"].concat(D.slice(1).map(of)):I==="none"?["all"].concat(D.slice(1).map(of).map(jl)):I==="in"?sf(D[1],D.slice(2)):I==="!in"?jl(sf(D[1],D.slice(2))):I==="has"?wc(D[1]):I==="!has"?jl(wc(D[1])):I==="within"?D:!0;return W}function Uf(D,I,W){switch(D){case"$type":return["filter-type-"+W,I];case"$id":return["filter-id-"+W,I];default:return["filter-"+W,D,I]}}function yh(D){return["any"].concat(D.map(of))}function sf(D,I){if(I.length===0)return!1;switch(D){case"$type":return["filter-type-in",["literal",I]];case"$id":return["filter-id-in",["literal",I]];default:return I.length>200&&!I.some(function(W){return typeof W!=typeof I[0]})?["filter-in-large",D,["literal",I.sort(bc)]]:["filter-in-small",D,["literal",I]]}}function wc(D){switch(D){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",D]}}function jl(D){return["!",D]}function Tc(D){return Nf(hn(D.value))?Al(kn({},D,{expressionContext:"filter",valueSpec:{value:"boolean"}})):lf(D)}function lf(D){var I=D.value,W=D.key;if(pi(I)!=="array")return[new Br(W,I,"array expected, "+pi(I)+" found")];var ae=D.styleSpec,de,Te=[];if(I.length<1)return[new Br(W,I,"filter array must have at least 1 element")];switch(Te=Te.concat(nf({key:W+"[0]",value:I[0],valueSpec:ae.filter_operator,style:D.style,styleSpec:D.styleSpec})),wn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&wn(I[1])==="$type"&&Te.push(new Br(W,I,'"$type" cannot be use with operator "'+I[0]+'"'));case"==":case"!=":I.length!==3&&Te.push(new Br(W,I,'filter array for operator "'+I[0]+'" must have 3 elements'));case"in":case"!in":I.length>=2&&(de=pi(I[1]),de!=="string"&&Te.push(new Br(W+"[1]",I[1],"string expected, "+de+" found")));for(var De=2;De<I.length;De++)de=pi(I[De]),wn(I[1])==="$type"?Te=Te.concat(nf({key:W+"["+De+"]",value:I[De],valueSpec:ae.geometry_type,style:D.style,styleSpec:D.styleSpec})):de!=="string"&&de!=="number"&&de!=="boolean"&&Te.push(new Br(W+"["+De+"]",I[De],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<I.length;Ke++)Te=Te.concat(lf({key:W+"["+Ke+"]",value:I[Ke],style:D.style,styleSpec:D.styleSpec}));break;case"has":case"!has":de=pi(I[1]),I.length!==2?Te.push(new Br(W,I,'filter array for "'+I[0]+'" operator must have 2 elements')):de!=="string"&&Te.push(new Br(W+"[1]",I[1],"string expected, "+de+" found"));break;case"within":de=pi(I[1]),I.length!==2?Te.push(new Br(W,I,'filter array for "'+I[0]+'" operator must have 2 elements')):de!=="object"&&Te.push(new Br(W+"[1]",I[1],"object expected, "+de+" found"));break}return Te}function mh(D,I){var W=D.key,ae=D.style,de=D.styleSpec,Te=D.value,De=D.objectKey,Ke=de[I+"_"+D.layerType];if(!Ke)return[];var ut=De.match(/^(.*)-transition$/);if(I==="paint"&&ut&&Ke[ut[1]]&&Ke[ut[1]].transition)return Fr({key:W,value:Te,valueSpec:de.transition,style:ae,styleSpec:de});var wt=D.valueSpec||Ke[De];if(!wt)return[new Br(W,Te,'unknown property "'+De+'"')];var Ct;if(pi(Te)==="string"&&tl(wt)&&!wt.tokens&&(Ct=/^{([^}]+)}$/.exec(Te)))return[new Br(W,Te,'"'+De+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Ct[1])+" }`.")];var Wt=[];return D.layerType==="symbol"&&(De==="text-field"&&ae&&!ae.glyphs&&Wt.push(new Br(W,Te,'use of "text-field" requires a style "glyphs" property')),De==="text-font"&&Au(hn(Te))&&wn(Te.type)==="identity"&&Wt.push(new Br(W,Te,'"text-font" does not support identity functions'))),Wt.concat(Fr({key:D.key,value:Te,valueSpec:wt,style:ae,styleSpec:de,expressionContext:"property",propertyType:I,propertyKey:De}))}function $e(D){return mh(D,"paint")}function nt(D){return mh(D,"layout")}function ht(D){var I=[],W=D.value,ae=D.key,de=D.style,Te=D.styleSpec;!W.type&&!W.ref&&I.push(new Br(ae,W,'either "type" or "ref" is required'));var De=wn(W.type),Ke=wn(W.ref);if(W.id)for(var ut=wn(W.id),wt=0;wt<D.arrayIndex;wt++){var Ct=de.layers[wt];wn(Ct.id)===ut&&I.push(new Br(ae,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Ct.id.__line__))}if("ref"in W){["type","source","source-layer","filter","layout"].forEach(function(Tr){Tr in W&&I.push(new Br(ae,W[Tr],'"'+Tr+'" is prohibited for ref layers'))});var Wt;de.layers.forEach(function(Tr){wn(Tr.id)===Ke&&(Wt=Tr)}),Wt?Wt.ref?I.push(new Br(ae,W.ref,"ref cannot reference another ref layer")):De=wn(Wt.type):I.push(new Br(ae,W.ref,'ref layer "'+Ke+'" not found'))}else if(De!=="background")if(!W.source)I.push(new Br(ae,W,'missing required property "source"'));else{var ar=de.sources&&de.sources[W.source],er=ar&&wn(ar.type);ar?er==="vector"&&De==="raster"?I.push(new Br(ae,W.source,'layer "'+W.id+'" requires a raster source')):er==="raster"&&De!=="raster"?I.push(new Br(ae,W.source,'layer "'+W.id+'" requires a vector source')):er==="vector"&&!W["source-layer"]?I.push(new Br(ae,W,'layer "'+W.id+'" must specify a "source-layer"')):er==="raster-dem"&&De!=="hillshade"?I.push(new Br(ae,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):De==="line"&&W.paint&&W.paint["line-gradient"]&&(er!=="geojson"||!ar.lineMetrics)&&I.push(new Br(ae,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):I.push(new Br(ae,W.source,'source "'+W.source+'" not found'))}return I=I.concat(Ro({key:ae,value:W,valueSpec:Te.layer,style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Fr({key:ae+".type",value:W.type,valueSpec:Te.layer.type,style:D.style,styleSpec:D.styleSpec,object:W,objectKey:"type"})},filter:Tc,layout:function(Ur){return Ro({layer:W,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(rn){return nt(kn({layerType:De},rn))}}})},paint:function(Ur){return Ro({layer:W,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(rn){return $e(kn({layerType:De},rn))}}})}}})),I}function mt(D){var I=D.value,W=D.key,ae=pi(I);return ae!=="string"?[new Br(W,I,"string expected, "+ae+" found")]:[]}var _t={promoteId:Bt};function kt(D){var I=D.value,W=D.key,ae=D.styleSpec,de=D.style;if(!I.type)return[new Br(W,I,'"type" is required')];var Te=wn(I.type),De;switch(Te){case"vector":case"raster":case"raster-dem":return De=Ro({key:W,value:I,valueSpec:ae["source_"+Te.replace("-","_")],style:D.style,styleSpec:ae,objectElementValidators:_t}),De;case"geojson":if(De=Ro({key:W,value:I,valueSpec:ae.source_geojson,style:de,styleSpec:ae,objectElementValidators:_t}),I.cluster)for(var Ke in I.clusterProperties){var ut=I.clusterProperties[Ke],wt=ut[0],Ct=ut[1],Wt=typeof wt=="string"?[wt,["accumulated"],["get",Ke]]:wt;De.push.apply(De,Al({key:W+"."+Ke+".map",value:Ct,expressionContext:"cluster-map"})),De.push.apply(De,Al({key:W+"."+Ke+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return De;case"video":return Ro({key:W,value:I,valueSpec:ae.source_video,style:de,styleSpec:ae});case"image":return Ro({key:W,value:I,valueSpec:ae.source_image,style:de,styleSpec:ae});case"canvas":return[new Br(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return nf({key:W+".type",value:I.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:de,styleSpec:ae})}}function Bt(D){var I=D.key,W=D.value;if(pi(W)==="string")return mt({key:I,value:W});var ae=[];for(var de in W)ae.push.apply(ae,mt({key:I+"."+de,value:W[de]}));return ae}function pr(D){var I=D.value,W=D.styleSpec,ae=W.light,de=D.style,Te=[],De=pi(I);if(I===void 0)return Te;if(De!=="object")return Te=Te.concat([new Br("light",I,"object expected, "+De+" found")]),Te;for(var Ke in I){var ut=Ke.match(/^(.*)-transition$/);ut&&ae[ut[1]]&&ae[ut[1]].transition?Te=Te.concat(Fr({key:Ke,value:I[Ke],valueSpec:W.transition,style:de,styleSpec:W})):ae[Ke]?Te=Te.concat(Fr({key:Ke,value:I[Ke],valueSpec:ae[Ke],style:de,styleSpec:W})):Te=Te.concat([new Br(Ke,I[Ke],'unknown property "'+Ke+'"')])}return Te}function Ar(D){return mt(D).length===0?[]:Al(D)}function ir(D){return mt(D).length===0?[]:Al(D)}var Er={"*":function(){return[]},array:rf,boolean:kv,number:Mu,color:Zo,constants:xn,enum:nf,filter:Tc,function:gh,layer:ht,object:Ro,source:kt,light:pr,string:mt,formatted:Ar,resolvedImage:ir};function Fr(D){var I=D.value,W=D.valueSpec,ae=D.styleSpec;if(W.expression&&Au(wn(I)))return gh(D);if(W.expression&&ef(hn(I)))return Al(D);if(W.type&&Er[W.type])return Er[W.type](D);var de=Ro(kn({},D,{valueSpec:W.type?ae[W.type]:W}));return de}function Vr(D){var I=D.value,W=D.key,ae=mt(D);return ae.length||(I.indexOf("{fontstack}")===-1&&ae.push(new Br(W,I,'"glyphs" url must include a "{fontstack}" token')),I.indexOf("{range}")===-1&&ae.push(new Br(W,I,'"glyphs" url must include a "{range}" token'))),ae}function an(D,I){I===void 0&&(I=gr);var W=[];return W=W.concat(Fr({key:"",value:D,valueSpec:I.$root,styleSpec:I,style:D,objectElementValidators:{glyphs:Vr,"*":function(){return[]}}})),D.constants&&(W=W.concat(xn({key:"constants",value:D.constants,style:D,styleSpec:I}))),Sn(W)}an.source=Dn(kt),an.light=Dn(pr),an.layer=Dn(ht),an.filter=Dn(Tc),an.paintProperty=Dn($e),an.layoutProperty=Dn(nt);function Sn(D){return[].concat(D).sort(function(I,W){return I.line-W.line})}function Dn(D){return function(){for(var I=[],W=arguments.length;W--;)I[W]=arguments[W];return Sn(D.apply(this,I))}}var In=an,qn=In.light,Da=In.paintProperty,Ia=In.layoutProperty;function _a(D,I){var W=!1;if(I&&I.length)for(var ae=0,de=I;ae<de.length;ae+=1){var Te=de[ae];D.fire(new Ft(new Error(Te.message))),W=!0}return W}var Ba=gi,Ja=3;function gi(D,I,W){var ae=this.cells=[];if(D instanceof ArrayBuffer){this.arrayBuffer=D;var de=new Int32Array(this.arrayBuffer);D=de[0],I=de[1],W=de[2],this.d=I+2*W;for(var Te=0;Te<this.d*this.d;Te++){var De=de[Ja+Te],Ke=de[Ja+Te+1];ae.push(De===Ke?null:de.subarray(De,Ke))}var ut=de[Ja+ae.length],wt=de[Ja+ae.length+1];this.keys=de.subarray(ut,wt),this.bboxes=de.subarray(wt),this.insert=this._insertReadonly}else{this.d=I+2*W;for(var Ct=0;Ct<this.d*this.d;Ct++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=I,this.extent=D,this.padding=W,this.scale=I/D,this.uid=0;var Wt=W/I*D;this.min=-Wt,this.max=D+Wt}gi.prototype.insert=function(D,I,W,ae,de){this._forEachCell(I,W,ae,de,this._insertCell,this.uid++),this.keys.push(D),this.bboxes.push(I),this.bboxes.push(W),this.bboxes.push(ae),this.bboxes.push(de)},gi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},gi.prototype._insertCell=function(D,I,W,ae,de,Te){this.cells[de].push(Te)},gi.prototype.query=function(D,I,W,ae,de){var Te=this.min,De=this.max;if(D<=Te&&I<=Te&&De<=W&&De<=ae&&!de)return Array.prototype.slice.call(this.keys);var Ke=[],ut={};return this._forEachCell(D,I,W,ae,this._queryCell,Ke,ut,de),Ke},gi.prototype._queryCell=function(D,I,W,ae,de,Te,De,Ke){var ut=this.cells[de];if(ut!==null)for(var wt=this.keys,Ct=this.bboxes,Wt=0;Wt<ut.length;Wt++){var ar=ut[Wt];if(De[ar]===void 0){var er=ar*4;(Ke?Ke(Ct[er+0],Ct[er+1],Ct[er+2],Ct[er+3]):D<=Ct[er+2]&&I<=Ct[er+3]&&W>=Ct[er+0]&&ae>=Ct[er+1])?(De[ar]=!0,Te.push(wt[ar])):De[ar]=!1}}},gi.prototype._forEachCell=function(D,I,W,ae,de,Te,De,Ke){for(var ut=this._convertToCellCoord(D),wt=this._convertToCellCoord(I),Ct=this._convertToCellCoord(W),Wt=this._convertToCellCoord(ae),ar=ut;ar<=Ct;ar++)for(var er=wt;er<=Wt;er++){var Tr=this.d*er+ar;if(!(Ke&&!Ke(this._convertFromCellCoord(ar),this._convertFromCellCoord(er),this._convertFromCellCoord(ar+1),this._convertFromCellCoord(er+1)))&&de.call(this,D,I,W,ae,Tr,Te,De,Ke))return}},gi.prototype._convertFromCellCoord=function(D){return(D-this.padding)/this.scale},gi.prototype._convertToCellCoord=function(D){return Math.max(0,Math.min(this.d-1,Math.floor(D*this.scale)+this.padding))},gi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var D=this.cells,I=Ja+this.cells.length+1+1,W=0,ae=0;ae<this.cells.length;ae++)W+=this.cells[ae].length;var de=new Int32Array(I+W+this.keys.length+this.bboxes.length);de[0]=this.extent,de[1]=this.n,de[2]=this.padding;for(var Te=I,De=0;De<D.length;De++){var Ke=D[De];de[Ja+De]=Te,de.set(Ke,Te),Te+=Ke.length}return de[Ja+D.length]=Te,de.set(this.keys,Te),Te+=this.keys.length,de[Ja+D.length+1]=Te,de.set(this.bboxes,Te),Te+=this.bboxes.length,de.buffer};var ji=i.ImageData,fe=i.ImageBitmap,Pe={};function Be(D,I,W){W===void 0&&(W={}),Object.defineProperty(I,"_classRegistryKey",{value:D,writeable:!1}),Pe[D]={klass:I,omit:W.omit||[],shallow:W.shallow||[]}}Be("Object",Object),Ba.serialize=function(I,W){var ae=I.toArrayBuffer();return W&&W.push(ae),{buffer:ae}},Ba.deserialize=function(I){return new Ba(I.buffer)},Be("Grid",Ba),Be("Color",ni),Be("Error",Error),Be("ResolvedImage",Fo),Be("StylePropertyFunction",Wl),Be("StyleExpression",wl,{omit:["_evaluator"]}),Be("ZoomDependentExpression",Bs),Be("ZoomConstantExpression",to),Be("CompoundExpression",uo,{omit:["_evaluate"]});for(var Qe in bu)bu[Qe]._classRegistryKey||Be("Expression_"+Qe,bu[Qe]);function rt(D){return D&&typeof ArrayBuffer<"u"&&(D instanceof ArrayBuffer||D.constructor&&D.constructor.name==="ArrayBuffer")}function st(D){return fe&&D instanceof fe}function Et(D,I){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp)return D;if(rt(D)||st(D))return I&&I.push(D),D;if(ArrayBuffer.isView(D)){var W=D;return I&&I.push(W.buffer),W}if(D instanceof ji)return I&&I.push(D.data.buffer),D;if(Array.isArray(D)){for(var ae=[],de=0,Te=D;de<Te.length;de+=1){var De=Te[de];ae.push(Et(De,I))}return ae}if(typeof D=="object"){var Ke=D.constructor,ut=Ke._classRegistryKey;if(!ut)throw new Error("can't serialize object of unregistered class");var wt=Ke.serialize?Ke.serialize(D,I):{};if(!Ke.serialize){for(var Ct in D)if(D.hasOwnProperty(Ct)&&!(Pe[ut].omit.indexOf(Ct)>=0)){var Wt=D[Ct];wt[Ct]=Pe[ut].shallow.indexOf(Ct)>=0?Wt:Et(Wt,I)}D instanceof Error&&(wt.message=D.message)}if(wt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ut!=="Object"&&(wt.$name=ut),wt}throw new Error("can't serialize object of type "+typeof D)}function bt(D){if(D==null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||D instanceof Boolean||D instanceof Number||D instanceof String||D instanceof Date||D instanceof RegExp||rt(D)||st(D)||ArrayBuffer.isView(D)||D instanceof ji)return D;if(Array.isArray(D))return D.map(bt);if(typeof D=="object"){var I=D.$name||"Object",W=Pe[I],ae=W.klass;if(!ae)throw new Error("can't deserialize unregistered class "+I);if(ae.deserialize)return ae.deserialize(D);for(var de=Object.create(ae.prototype),Te=0,De=Object.keys(D);Te<De.length;Te+=1){var Ke=De[Te];if(Ke!=="$name"){var ut=D[Ke];de[Ke]=Pe[I].shallow.indexOf(Ke)>=0?ut:bt(ut)}}return de}throw new Error("can't deserialize object of type "+typeof D)}var Vt=function(){this.first=!0};Vt.prototype.update=function(I,W){var ae=Math.floor(I);return this.first?(this.first=!1,this.lastIntegerZoom=ae,this.lastIntegerZoomTime=0,this.lastZoom=I,this.lastFloorZoom=ae,!0):(this.lastFloorZoom>ae?(this.lastIntegerZoom=ae+1,this.lastIntegerZoomTime=W):this.lastFloorZoom<ae&&(this.lastIntegerZoom=ae,this.lastIntegerZoomTime=W),I!==this.lastZoom?(this.lastZoom=I,this.lastFloorZoom=ae,!0):!1)};var Gt={"Latin-1 Supplement":function(D){return D>=128&&D<=255},Arabic:function(D){return D>=1536&&D<=1791},"Arabic Supplement":function(D){return D>=1872&&D<=1919},"Arabic Extended-A":function(D){return D>=2208&&D<=2303},"Hangul Jamo":function(D){return D>=4352&&D<=4607},"Unified Canadian Aboriginal Syllabics":function(D){return D>=5120&&D<=5759},Khmer:function(D){return D>=6016&&D<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(D){return D>=6320&&D<=6399},"General Punctuation":function(D){return D>=8192&&D<=8303},"Letterlike Symbols":function(D){return D>=8448&&D<=8527},"Number Forms":function(D){return D>=8528&&D<=8591},"Miscellaneous Technical":function(D){return D>=8960&&D<=9215},"Control Pictures":function(D){return D>=9216&&D<=9279},"Optical Character Recognition":function(D){return D>=9280&&D<=9311},"Enclosed Alphanumerics":function(D){return D>=9312&&D<=9471},"Geometric Shapes":function(D){return D>=9632&&D<=9727},"Miscellaneous Symbols":function(D){return D>=9728&&D<=9983},"Miscellaneous Symbols and Arrows":function(D){return D>=11008&&D<=11263},"CJK Radicals Supplement":function(D){return D>=11904&&D<=12031},"Kangxi Radicals":function(D){return D>=12032&&D<=12255},"Ideographic Description Characters":function(D){return D>=12272&&D<=12287},"CJK Symbols and Punctuation":function(D){return D>=12288&&D<=12351},Hiragana:function(D){return D>=12352&&D<=12447},Katakana:function(D){return D>=12448&&D<=12543},Bopomofo:function(D){return D>=12544&&D<=12591},"Hangul Compatibility Jamo":function(D){return D>=12592&&D<=12687},Kanbun:function(D){return D>=12688&&D<=12703},"Bopomofo Extended":function(D){return D>=12704&&D<=12735},"CJK Strokes":function(D){return D>=12736&&D<=12783},"Katakana Phonetic Extensions":function(D){return D>=12784&&D<=12799},"Enclosed CJK Letters and Months":function(D){return D>=12800&&D<=13055},"CJK Compatibility":function(D){return D>=13056&&D<=13311},"CJK Unified Ideographs Extension A":function(D){return D>=13312&&D<=19903},"Yijing Hexagram Symbols":function(D){return D>=19904&&D<=19967},"CJK Unified Ideographs":function(D){return D>=19968&&D<=40959},"Yi Syllables":function(D){return D>=40960&&D<=42127},"Yi Radicals":function(D){return D>=42128&&D<=42191},"Hangul Jamo Extended-A":function(D){return D>=43360&&D<=43391},"Hangul Syllables":function(D){return D>=44032&&D<=55215},"Hangul Jamo Extended-B":function(D){return D>=55216&&D<=55295},"Private Use Area":function(D){return D>=57344&&D<=63743},"CJK Compatibility Ideographs":function(D){return D>=63744&&D<=64255},"Arabic Presentation Forms-A":function(D){return D>=64336&&D<=65023},"Vertical Forms":function(D){return D>=65040&&D<=65055},"CJK Compatibility Forms":function(D){return D>=65072&&D<=65103},"Small Form Variants":function(D){return D>=65104&&D<=65135},"Arabic Presentation Forms-B":function(D){return D>=65136&&D<=65279},"Halfwidth and Fullwidth Forms":function(D){return D>=65280&&D<=65519}};function nr(D){for(var I=0,W=D;I<W.length;I+=1){var ae=W[I];if(ln(ae.charCodeAt(0)))return!0}return!1}function Rr(D){for(var I=0,W=D;I<W.length;I+=1){var ae=W[I];if(!kr(ae.charCodeAt(0)))return!1}return!0}function kr(D){return!(Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D))}function qr(D){return D<11904?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)||Gt["Vertical Forms"](D)||Gt["Yi Radicals"](D)||Gt["Yi Syllables"](D))}function ln(D){return D===746||D===747?!0:D<4352?!1:!!(Gt["Bopomofo Extended"](D)||Gt.Bopomofo(D)||Gt["CJK Compatibility Forms"](D)&&!(D>=65097&&D<=65103)||Gt["CJK Compatibility Ideographs"](D)||Gt["CJK Compatibility"](D)||Gt["CJK Radicals Supplement"](D)||Gt["CJK Strokes"](D)||Gt["CJK Symbols and Punctuation"](D)&&!(D>=12296&&D<=12305)&&!(D>=12308&&D<=12319)&&D!==12336||Gt["CJK Unified Ideographs Extension A"](D)||Gt["CJK Unified Ideographs"](D)||Gt["Enclosed CJK Letters and Months"](D)||Gt["Hangul Compatibility Jamo"](D)||Gt["Hangul Jamo Extended-A"](D)||Gt["Hangul Jamo Extended-B"](D)||Gt["Hangul Jamo"](D)||Gt["Hangul Syllables"](D)||Gt.Hiragana(D)||Gt["Ideographic Description Characters"](D)||Gt.Kanbun(D)||Gt["Kangxi Radicals"](D)||Gt["Katakana Phonetic Extensions"](D)||Gt.Katakana(D)&&D!==12540||Gt["Halfwidth and Fullwidth Forms"](D)&&D!==65288&&D!==65289&&D!==65293&&!(D>=65306&&D<=65310)&&D!==65339&&D!==65341&&D!==65343&&!(D>=65371&&D<=65503)&&D!==65507&&!(D>=65512&&D<=65519)||Gt["Small Form Variants"](D)&&!(D>=65112&&D<=65118)&&!(D>=65123&&D<=65126)||Gt["Unified Canadian Aboriginal Syllabics"](D)||Gt["Unified Canadian Aboriginal Syllabics Extended"](D)||Gt["Vertical Forms"](D)||Gt["Yijing Hexagram Symbols"](D)||Gt["Yi Syllables"](D)||Gt["Yi Radicals"](D))}function Ir(D){return!!(Gt["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Gt["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Gt["Letterlike Symbols"](D)||Gt["Number Forms"](D)||Gt["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Gt["Control Pictures"](D)&&D!==9251||Gt["Optical Character Recognition"](D)||Gt["Enclosed Alphanumerics"](D)||Gt["Geometric Shapes"](D)||Gt["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Gt["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Gt["CJK Symbols and Punctuation"](D)||Gt.Katakana(D)||Gt["Private Use Area"](D)||Gt["CJK Compatibility Forms"](D)||Gt["Small Form Variants"](D)||Gt["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}function Hr(D){return!(ln(D)||Ir(D))}function Kr(D){return Gt.Arabic(D)||Gt["Arabic Supplement"](D)||Gt["Arabic Extended-A"](D)||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function cn(D){return D>=1424&&D<=2303||Gt["Arabic Presentation Forms-A"](D)||Gt["Arabic Presentation Forms-B"](D)}function dn(D,I){return!(!I&&cn(D)||D>=2304&&D<=3583||D>=3840&&D<=4255||Gt.Khmer(D))}function tn(D){for(var I=0,W=D;I<W.length;I+=1){var ae=W[I];if(cn(ae.charCodeAt(0)))return!0}return!1}function Hn(D,I){for(var W=0,ae=D;W<ae.length;W+=1){var de=ae[W];if(!dn(de.charCodeAt(0),I))return!1}return!0}var oa={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},da=null,aa=oa.unavailable,fa=null,pa=function(D){D&&typeof D=="string"&&D.indexOf("NetworkError")>-1&&(aa=oa.error),da&&da(D)};function Ua(){La.fire(new rr("pluginStateChange",{pluginStatus:aa,pluginURL:fa}))}var La=new hr,Fa=function(){return aa},si=function(D){return D({pluginStatus:aa,pluginURL:fa}),La.on("pluginStateChange",D),D},Zi=function(D,I,W){if(W===void 0&&(W=!1),aa===oa.deferred||aa===oa.loading||aa===oa.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");fa=ue.resolveURL(D),aa=oa.deferred,da=I,Ua(),W||vi()},vi=function(){if(aa!==oa.deferred||!fa)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");aa=oa.loading,Ua(),fa&&Ot({url:fa},function(D){D?pa(D):(aa=oa.loaded,Ua())})},na={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return aa===oa.loaded||na.applyArabicShaping!=null},isLoading:function(){return aa===oa.loading},setState:function(I){aa=I.pluginStatus,fa=I.pluginURL},isParsed:function(){return na.applyArabicShaping!=null&&na.processBidirectionalText!=null&&na.processStyledBidirectionalText!=null},getPluginURL:function(){return fa}},Ha=function(){!na.isLoading()&&!na.isLoaded()&&Fa()==="deferred"&&vi()},Ma=function(I,W){this.zoom=I,W?(this.now=W.now,this.fadeDuration=W.fadeDuration,this.zoomHistory=W.zoomHistory,this.transition=W.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vt,this.transition={})};Ma.prototype.isSupportedScript=function(I){return Hn(I,na.isLoaded())},Ma.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ma.prototype.getCrossfadeParameters=function(){var I=this.zoom,W=I-Math.floor(I),ae=this.crossFadingFactor();return I>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:W+(1-W)*ae}:{fromScale:.5,toScale:1,t:1-(1-ae)*W}};var Qa=function(I,W){this.property=I,this.value=W,this.expression=Bf(W===void 0?I.specification.default:W,I.specification)};Qa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Qa.prototype.possiblyEvaluate=function(I,W,ae){return this.property.possiblyEvaluate(this,I,W,ae)};var Si=function(I){this.property=I,this.value=new Qa(I,void 0)};Si.prototype.transitioned=function(I,W){return new co(this.property,this.value,W,M({},I.transition,this.transition),I.now)},Si.prototype.untransitioned=function(){return new co(this.property,this.value,null,{},0)};var li=function(I){this._properties=I,this._values=Object.create(I.defaultTransitionablePropertyValues)};li.prototype.getValue=function(I){return G(this._values[I].value.value)},li.prototype.setValue=function(I,W){this._values.hasOwnProperty(I)||(this._values[I]=new Si(this._values[I].property)),this._values[I].value=new Qa(this._values[I].property,W===null?void 0:G(W))},li.prototype.getTransition=function(I){return G(this._values[I].transition)},li.prototype.setTransition=function(I,W){this._values.hasOwnProperty(I)||(this._values[I]=new Si(this._values[I].property)),this._values[I].transition=G(W)||void 0},li.prototype.serialize=function(){for(var I={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var de=ae[W],Te=this.getValue(de);Te!==void 0&&(I[de]=Te);var De=this.getTransition(de);De!==void 0&&(I[de+"-transition"]=De)}return I},li.prototype.transitioned=function(I,W){for(var ae=new ho(this._properties),de=0,Te=Object.keys(this._values);de<Te.length;de+=1){var De=Te[de];ae._values[De]=this._values[De].transitioned(I,W._values[De])}return ae},li.prototype.untransitioned=function(){for(var I=new ho(this._properties),W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var de=ae[W];I._values[de]=this._values[de].untransitioned()}return I};var co=function(I,W,ae,de,Te){this.property=I,this.value=W,this.begin=Te+de.delay||0,this.end=this.begin+de.duration||0,I.specification.transition&&(de.delay||de.duration)&&(this.prior=ae)};co.prototype.possiblyEvaluate=function(I,W,ae){var de=I.now||0,Te=this.value.possiblyEvaluate(I,W,ae),De=this.prior;if(De){if(de>this.end)return this.prior=null,Te;if(this.value.isDataDriven())return this.prior=null,Te;if(de<this.begin)return De.possiblyEvaluate(I,W,ae);var Ke=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(De.possiblyEvaluate(I,W,ae),Te,u(Ke))}else return Te};var ho=function(I){this._properties=I,this._values=Object.create(I.defaultTransitioningPropertyValues)};ho.prototype.possiblyEvaluate=function(I,W,ae){for(var de=new ko(this._properties),Te=0,De=Object.keys(this._values);Te<De.length;Te+=1){var Ke=De[Te];de._values[Ke]=this._values[Ke].possiblyEvaluate(I,W,ae)}return de},ho.prototype.hasTransition=function(){for(var I=0,W=Object.keys(this._values);I<W.length;I+=1){var ae=W[I];if(this._values[ae].prior)return!0}return!1};var mo=function(I){this._properties=I,this._values=Object.create(I.defaultPropertyValues)};mo.prototype.getValue=function(I){return G(this._values[I].value)},mo.prototype.setValue=function(I,W){this._values[I]=new Qa(this._values[I].property,W===null?void 0:G(W))},mo.prototype.serialize=function(){for(var I={},W=0,ae=Object.keys(this._values);W<ae.length;W+=1){var de=ae[W],Te=this.getValue(de);Te!==void 0&&(I[de]=Te)}return I},mo.prototype.possiblyEvaluate=function(I,W,ae){for(var de=new ko(this._properties),Te=0,De=Object.keys(this._values);Te<De.length;Te+=1){var Ke=De[Te];de._values[Ke]=this._values[Ke].possiblyEvaluate(I,W,ae)}return de};var Mi=function(I,W,ae){this.property=I,this.value=W,this.parameters=ae};Mi.prototype.isConstant=function(){return this.value.kind==="constant"},Mi.prototype.constantOr=function(I){return this.value.kind==="constant"?this.value.value:I},Mi.prototype.evaluate=function(I,W,ae,de){return this.property.evaluate(this.value,this.parameters,I,W,ae,de)};var ko=function(I){this._properties=I,this._values=Object.create(I.defaultPossiblyEvaluatedValues)};ko.prototype.get=function(I){return this._values[I]};var ha=function(I){this.specification=I};ha.prototype.possiblyEvaluate=function(I,W){return I.expression.evaluate(W)},ha.prototype.interpolate=function(I,W,ae){var de=Pf[this.specification.type];return de?de(I,W,ae):I};var Ra=function(I,W){this.specification=I,this.overrides=W};Ra.prototype.possiblyEvaluate=function(I,W,ae,de){return I.expression.kind==="constant"||I.expression.kind==="camera"?new Mi(this,{kind:"constant",value:I.expression.evaluate(W,null,{},ae,de)},W):new Mi(this,I.expression,W)},Ra.prototype.interpolate=function(I,W,ae){if(I.value.kind!=="constant"||W.value.kind!=="constant")return I;if(I.value.value===void 0||W.value.value===void 0)return new Mi(this,{kind:"constant",value:void 0},I.parameters);var de=Pf[this.specification.type];return de?new Mi(this,{kind:"constant",value:de(I.value.value,W.value.value,ae)},I.parameters):I},Ra.prototype.evaluate=function(I,W,ae,de,Te,De){return I.kind==="constant"?I.value:I.evaluate(W,ae,de,Te,De)};var Xo=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ae,de,Te,De){if(ae.value===void 0)return new Mi(this,{kind:"constant",value:void 0},de);if(ae.expression.kind==="constant"){var Ke=ae.expression.evaluate(de,null,{},Te,De),ut=ae.property.specification.type==="resolvedImage",wt=ut&&typeof Ke!="string"?Ke.name:Ke,Ct=this._calculate(wt,wt,wt,de);return new Mi(this,{kind:"constant",value:Ct},de)}else if(ae.expression.kind==="camera"){var Wt=this._calculate(ae.expression.evaluate({zoom:de.zoom-1}),ae.expression.evaluate({zoom:de.zoom}),ae.expression.evaluate({zoom:de.zoom+1}),de);return new Mi(this,{kind:"constant",value:Wt},de)}else return new Mi(this,ae.expression,de)},I.prototype.evaluate=function(ae,de,Te,De,Ke,ut){if(ae.kind==="source"){var wt=ae.evaluate(de,Te,De,Ke,ut);return this._calculate(wt,wt,wt,de)}else return ae.kind==="composite"?this._calculate(ae.evaluate({zoom:Math.floor(de.zoom)-1},Te,De),ae.evaluate({zoom:Math.floor(de.zoom)},Te,De),ae.evaluate({zoom:Math.floor(de.zoom)+1},Te,De),de):ae.value},I.prototype._calculate=function(ae,de,Te,De){var Ke=De.zoom;return Ke>De.zoomHistory.lastIntegerZoom?{from:ae,to:de}:{from:Te,to:de}},I.prototype.interpolate=function(ae){return ae},I}(Ra),rs=function(I){this.specification=I};rs.prototype.possiblyEvaluate=function(I,W,ae,de){if(I.value!==void 0)if(I.expression.kind==="constant"){var Te=I.expression.evaluate(W,null,{},ae,de);return this._calculate(Te,Te,Te,W)}else return this._calculate(I.expression.evaluate(new Ma(Math.floor(W.zoom-1),W)),I.expression.evaluate(new Ma(Math.floor(W.zoom),W)),I.expression.evaluate(new Ma(Math.floor(W.zoom+1),W)),W)},rs.prototype._calculate=function(I,W,ae,de){var Te=de.zoom;return Te>de.zoomHistory.lastIntegerZoom?{from:I,to:W}:{from:ae,to:W}},rs.prototype.interpolate=function(I){return I};var xo=function(I){this.specification=I};xo.prototype.possiblyEvaluate=function(I,W,ae,de){return!!I.expression.evaluate(W,null,{},ae,de)},xo.prototype.interpolate=function(){return!1};var di=function(I){this.properties=I,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var W in I){var ae=I[W];ae.specification.overridable&&this.overridableProperties.push(W);var de=this.defaultPropertyValues[W]=new Qa(ae,void 0),Te=this.defaultTransitionablePropertyValues[W]=new Si(ae);this.defaultTransitioningPropertyValues[W]=Te.untransitioned(),this.defaultPossiblyEvaluatedValues[W]=de.possiblyEvaluate({})}};Be("DataDrivenProperty",Ra),Be("DataConstantProperty",ha),Be("CrossFadedDataDrivenProperty",Xo),Be("CrossFadedProperty",rs),Be("ColorRampProperty",xo);var ro="-transition",Xi=function(D){function I(W,ae){if(D.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(W=W,this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),ae.layout&&(this._unevaluatedLayout=new mo(ae.layout)),ae.paint)){this._transitionablePaint=new li(ae.paint);for(var de in W.paint)this.setPaintProperty(de,W.paint[de],{validate:!1});for(var Te in W.layout)this.setLayoutProperty(Te,W.layout[Te],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ko(ae.paint)}}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},I.prototype.getLayoutProperty=function(ae){return ae==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ae)},I.prototype.setLayoutProperty=function(ae,de,Te){if(Te===void 0&&(Te={}),de!=null){var De="layers."+this.id+".layout."+ae;if(this._validate(Ia,De,ae,de,Te))return}if(ae==="visibility"){this.visibility=de;return}this._unevaluatedLayout.setValue(ae,de)},I.prototype.getPaintProperty=function(ae){return x(ae,ro)?this._transitionablePaint.getTransition(ae.slice(0,-ro.length)):this._transitionablePaint.getValue(ae)},I.prototype.setPaintProperty=function(ae,de,Te){if(Te===void 0&&(Te={}),de!=null){var De="layers."+this.id+".paint."+ae;if(this._validate(Da,De,ae,de,Te))return!1}if(x(ae,ro))return this._transitionablePaint.setTransition(ae.slice(0,-ro.length),de||void 0),!1;var Ke=this._transitionablePaint._values[ae],ut=Ke.property.specification["property-type"]==="cross-faded-data-driven",wt=Ke.value.isDataDriven(),Ct=Ke.value;this._transitionablePaint.setValue(ae,de),this._handleSpecialPaintPropertyUpdate(ae);var Wt=this._transitionablePaint._values[ae].value,ar=Wt.isDataDriven();return ar||wt||ut||this._handleOverridablePaintPropertyUpdate(ae,Ct,Wt)},I.prototype._handleSpecialPaintPropertyUpdate=function(ae){},I.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Te){return!1},I.prototype.isHidden=function(ae){return this.minzoom&&ae<this.minzoom||this.maxzoom&&ae>=this.maxzoom?!0:this.visibility==="none"},I.prototype.updateTransitions=function(ae){this._transitioningPaint=this._transitionablePaint.transitioned(ae,this._transitioningPaint)},I.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},I.prototype.recalculate=function(ae,de){ae.getCrossfadeParameters&&(this._crossfadeParameters=ae.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ae,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(ae,void 0,de)},I.prototype.serialize=function(){var ae={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ae.layout=ae.layout||{},ae.layout.visibility=this.visibility),_(ae,function(de,Te){return de!==void 0&&!(Te==="layout"&&!Object.keys(de).length)&&!(Te==="paint"&&!Object.keys(de).length)})},I.prototype._validate=function(ae,de,Te,De,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:_a(this,ae.call(In,{key:de,layerType:this.type,objectKey:Te,value:De,styleSpec:gr,style:{glyphs:!0,sprite:!0}}))},I.prototype.is3D=function(){return!1},I.prototype.isTileClipped=function(){return!1},I.prototype.hasOffscreenPass=function(){return!1},I.prototype.resize=function(){},I.prototype.isStateDependent=function(){for(var ae in this.paint._values){var de=this.paint.get(ae);if(!(!(de instanceof Mi)||!tl(de.property.specification))&&(de.value.kind==="source"||de.value.kind==="composite")&&de.value.isStateDependent)return!0}return!1},I}(hr),Ns={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},nl=function(I,W){this._structArray=I,this._pos1=W*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Oi=128,Eu=5,qa=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};qa.serialize=function(I,W){return I._trim(),W&&(I.isTransferred=!0,W.push(I.arrayBuffer)),{length:I.length,arrayBuffer:I.arrayBuffer}},qa.deserialize=function(I){var W=Object.create(this.prototype);return W.arrayBuffer=I.arrayBuffer,W.length=I.length,W.capacity=I.arrayBuffer.byteLength/W.bytesPerElement,W._refreshViews(),W},qa.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},qa.prototype.clear=function(){this.length=0},qa.prototype.resize=function(I){this.reserve(I),this.length=I},qa.prototype.reserve=function(I){if(I>this.capacity){this.capacity=Math.max(I,Math.floor(this.capacity*Eu),Oi),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var W=this.uint8;this._refreshViews(),W&&this.uint8.set(W)}},qa.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Bi(D,I){I===void 0&&(I=1);var W=0,ae=0,de=D.map(function(De){var Ke=Dv(De.type),ut=W=Gg(W,Math.max(I,Ke)),wt=De.components||1;return ae=Math.max(ae,Ke),W+=Ke*wt,{name:De.name,type:De.type,components:wt,offset:ut}}),Te=Gg(W,Math.max(ae,I));return{members:de,size:Te,alignment:I}}function Dv(D){return Ns[D].BYTES_PER_ELEMENT}function Gg(D,I){return Math.ceil(D/I)*I}var Ac=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ae,de)},I.prototype.emplace=function(ae,de,Te){var De=ae*2;return this.int16[De+0]=de,this.int16[De+1]=Te,ae},I}(qa);Ac.prototype.bytesPerElement=4,Be("StructArrayLayout2i4",Ac);var Up=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,de,Te,De)},I.prototype.emplace=function(ae,de,Te,De,Ke){var ut=ae*4;return this.int16[ut+0]=de,this.int16[ut+1]=Te,this.int16[ut+2]=De,this.int16[ut+3]=Ke,ae},I}(qa);Up.prototype.bytesPerElement=8,Be("StructArrayLayout4i8",Up);var Vf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,ae,de,Te,De,Ke,ut)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt){var Ct=ae*6;return this.int16[Ct+0]=de,this.int16[Ct+1]=Te,this.int16[Ct+2]=De,this.int16[Ct+3]=Ke,this.int16[Ct+4]=ut,this.int16[Ct+5]=wt,ae},I}(qa);Vf.prototype.bytesPerElement=12,Be("StructArrayLayout2i4i12",Vf);var xh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,ae,de,Te,De,Ke,ut)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt){var Ct=ae*4,Wt=ae*8;return this.int16[Ct+0]=de,this.int16[Ct+1]=Te,this.uint8[Wt+4]=De,this.uint8[Wt+5]=Ke,this.uint8[Wt+6]=ut,this.uint8[Wt+7]=wt,ae},I}(qa);xh.prototype.bytesPerElement=8,Be("StructArrayLayout2i4ub8",xh);var bh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ae,de)},I.prototype.emplace=function(ae,de,Te){var De=ae*2;return this.float32[De+0]=de,this.float32[De+1]=Te,ae},I}(qa);bh.prototype.bytesPerElement=8,Be("StructArrayLayout2f8",bh);var As=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar){var er=this.length;return this.resize(er+1),this.emplace(er,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er){var Tr=ae*10;return this.uint16[Tr+0]=de,this.uint16[Tr+1]=Te,this.uint16[Tr+2]=De,this.uint16[Tr+3]=Ke,this.uint16[Tr+4]=ut,this.uint16[Tr+5]=wt,this.uint16[Tr+6]=Ct,this.uint16[Tr+7]=Wt,this.uint16[Tr+8]=ar,this.uint16[Tr+9]=er,ae},I}(qa);As.prototype.bytesPerElement=20,Be("StructArrayLayout10ui20",As);var Hf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr){var Ur=this.length;return this.resize(Ur+1),this.emplace(Ur,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur){var fn=ae*12;return this.int16[fn+0]=de,this.int16[fn+1]=Te,this.int16[fn+2]=De,this.int16[fn+3]=Ke,this.uint16[fn+4]=ut,this.uint16[fn+5]=wt,this.uint16[fn+6]=Ct,this.uint16[fn+7]=Wt,this.int16[fn+8]=ar,this.int16[fn+9]=er,this.int16[fn+10]=Tr,this.int16[fn+11]=Ur,ae},I}(qa);Hf.prototype.bytesPerElement=24,Be("StructArrayLayout4i4ui4i24",Hf);var Vp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Te)},I.prototype.emplace=function(ae,de,Te,De){var Ke=ae*3;return this.float32[Ke+0]=de,this.float32[Ke+1]=Te,this.float32[Ke+2]=De,ae},I}(qa);Vp.prototype.bytesPerElement=12,Be("StructArrayLayout3f12",Vp);var Hp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},I.prototype.emplace=function(ae,de){var Te=ae*1;return this.uint32[Te+0]=de,ae},I}(qa);Hp.prototype.bytesPerElement=4,Be("StructArrayLayout1ul4",Hp);var Iv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt){var ar=this.length;return this.resize(ar+1),this.emplace(ar,ae,de,Te,De,Ke,ut,wt,Ct,Wt)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar){var er=ae*10,Tr=ae*5;return this.int16[er+0]=de,this.int16[er+1]=Te,this.int16[er+2]=De,this.int16[er+3]=Ke,this.int16[er+4]=ut,this.int16[er+5]=wt,this.uint32[Tr+3]=Ct,this.uint16[er+8]=Wt,this.uint16[er+9]=ar,ae},I}(qa);Iv.prototype.bytesPerElement=20,Be("StructArrayLayout6i1ul2ui20",Iv);var gd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut){var wt=this.length;return this.resize(wt+1),this.emplace(wt,ae,de,Te,De,Ke,ut)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt){var Ct=ae*6;return this.int16[Ct+0]=de,this.int16[Ct+1]=Te,this.int16[Ct+2]=De,this.int16[Ct+3]=Ke,this.int16[Ct+4]=ut,this.int16[Ct+5]=wt,ae},I}(qa);gd.prototype.bytesPerElement=12,Be("StructArrayLayout2i2i2i12",gd);var uf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke){var ut=this.length;return this.resize(ut+1),this.emplace(ut,ae,de,Te,De,Ke)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut){var wt=ae*4,Ct=ae*8;return this.float32[wt+0]=de,this.float32[wt+1]=Te,this.float32[wt+2]=De,this.int16[Ct+6]=Ke,this.int16[Ct+7]=ut,ae},I}(qa);uf.prototype.bytesPerElement=16,Be("StructArrayLayout2f1f2i16",uf);var Us=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,de,Te,De)},I.prototype.emplace=function(ae,de,Te,De,Ke){var ut=ae*12,wt=ae*3;return this.uint8[ut+0]=de,this.uint8[ut+1]=Te,this.float32[wt+1]=De,this.float32[wt+2]=Ke,ae},I}(qa);Us.prototype.bytesPerElement=12,Be("StructArrayLayout2ub2f12",Us);var ff=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Te)},I.prototype.emplace=function(ae,de,Te,De){var Ke=ae*3;return this.uint16[Ke+0]=de,this.uint16[Ke+1]=Te,this.uint16[Ke+2]=De,ae},I}(qa);ff.prototype.bytesPerElement=6,Be("StructArrayLayout3ui6",ff);var _v=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An){var Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An,Ln){var Fn=ae*24,Zn=ae*12,ua=ae*48;return this.int16[Fn+0]=de,this.int16[Fn+1]=Te,this.uint16[Fn+2]=De,this.uint16[Fn+3]=Ke,this.uint32[Zn+2]=ut,this.uint32[Zn+3]=wt,this.uint32[Zn+4]=Ct,this.uint16[Fn+10]=Wt,this.uint16[Fn+11]=ar,this.uint16[Fn+12]=er,this.float32[Zn+7]=Tr,this.float32[Zn+8]=Ur,this.uint8[ua+36]=fn,this.uint8[ua+37]=rn,this.uint8[ua+38]=Rn,this.uint32[Zn+10]=An,this.int16[Fn+22]=Ln,ae},I}(qa);_v.prototype.bytesPerElement=48,Be("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",_v);var yd=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An,Ln,Fn,Zn,ua,ia,Aa,ya,Ta,Va,Sa,Pa){var ja=this.length;return this.resize(ja+1),this.emplace(ja,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An,Ln,Fn,Zn,ua,ia,Aa,ya,Ta,Va,Sa,Pa)},I.prototype.emplace=function(ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An,Ln,Fn,Zn,ua,ia,Aa,ya,Ta,Va,Sa,Pa,ja){var Na=ae*34,fi=ae*17;return this.int16[Na+0]=de,this.int16[Na+1]=Te,this.int16[Na+2]=De,this.int16[Na+3]=Ke,this.int16[Na+4]=ut,this.int16[Na+5]=wt,this.int16[Na+6]=Ct,this.int16[Na+7]=Wt,this.uint16[Na+8]=ar,this.uint16[Na+9]=er,this.uint16[Na+10]=Tr,this.uint16[Na+11]=Ur,this.uint16[Na+12]=fn,this.uint16[Na+13]=rn,this.uint16[Na+14]=Rn,this.uint16[Na+15]=An,this.uint16[Na+16]=Ln,this.uint16[Na+17]=Fn,this.uint16[Na+18]=Zn,this.uint16[Na+19]=ua,this.uint16[Na+20]=ia,this.uint16[Na+21]=Aa,this.uint16[Na+22]=ya,this.uint32[fi+12]=Ta,this.float32[fi+13]=Va,this.float32[fi+14]=Sa,this.float32[fi+15]=Pa,this.float32[fi+16]=ja,ae},I}(qa);yd.prototype.bytesPerElement=68,Be("StructArrayLayout8i15ui1ul4f68",yd);var wh=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},I.prototype.emplace=function(ae,de){var Te=ae*1;return this.float32[Te+0]=de,ae},I}(qa);wh.prototype.bytesPerElement=4,Be("StructArrayLayout1f4",wh);var Gp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Te)},I.prototype.emplace=function(ae,de,Te,De){var Ke=ae*3;return this.int16[Ke+0]=de,this.int16[Ke+1]=Te,this.int16[Ke+2]=De,ae},I}(qa);Gp.prototype.bytesPerElement=6,Be("StructArrayLayout3i6",Gp);var Gf=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te){var De=this.length;return this.resize(De+1),this.emplace(De,ae,de,Te)},I.prototype.emplace=function(ae,de,Te,De){var Ke=ae*2,ut=ae*4;return this.uint32[Ke+0]=de,this.uint16[ut+2]=Te,this.uint16[ut+3]=De,ae},I}(qa);Gf.prototype.bytesPerElement=8,Be("StructArrayLayout1ul2ui8",Gf);var zv=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de){var Te=this.length;return this.resize(Te+1),this.emplace(Te,ae,de)},I.prototype.emplace=function(ae,de,Te){var De=ae*2;return this.uint16[De+0]=de,this.uint16[De+1]=Te,ae},I}(qa);zv.prototype.bytesPerElement=4,Be("StructArrayLayout2ui4",zv);var Th=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae){var de=this.length;return this.resize(de+1),this.emplace(de,ae)},I.prototype.emplace=function(ae,de){var Te=ae*1;return this.uint16[Te+0]=de,ae},I}(qa);Th.prototype.bytesPerElement=2,Be("StructArrayLayout1ui2",Th);var Sc=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},I.prototype.emplaceBack=function(ae,de,Te,De){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ae,de,Te,De)},I.prototype.emplace=function(ae,de,Te,De,Ke){var ut=ae*4;return this.float32[ut+0]=de,this.float32[ut+1]=Te,this.float32[ut+2]=De,this.float32[ut+3]=Ke,ae},I}(qa);Sc.prototype.bytesPerElement=16,Be("StructArrayLayout4f16",Sc);var Wg=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(I.prototype,W),I}(nl);Wg.prototype.size=20;var Wp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Wg(this,ae)},I}(Iv);Be("CollisionBoxArray",Wp);var Mc=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(I.prototype,W),I}(nl);Mc.prototype.size=48;var jp=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Mc(this,ae)},I}(_v);Be("PlacedSymbolArray",jp);var Ah=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(I.prototype,W),I}(nl);Ah.prototype.size=68;var jg=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Ah(this,ae)},I}(yd);Be("SymbolInstanceArray",jg);var Yg=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getoffsetX=function(ae){return this.float32[ae*1+0]},I}(wh);Be("GlyphOffsetArray",Yg);var Yl=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.getx=function(ae){return this.int16[ae*3+0]},I.prototype.gety=function(ae){return this.int16[ae*3+1]},I.prototype.gettileUnitDistanceFromAnchor=function(ae){return this.int16[ae*3+2]},I}(Gp);Be("SymbolLineVertexArray",Yl);var Zg=function(D){function I(){D.apply(this,arguments)}D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(I.prototype,W),I}(nl);Zg.prototype.size=8;var Xg=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.get=function(ae){return new Zg(this,ae)},I}(Gf);Be("FeatureIndexArray",Xg);var ix=Bi([{name:"a_pos",components:2,type:"Int16"}],4),$g=ix.members,bo=function(I){I===void 0&&(I=[]),this.segments=I};bo.prototype.prepareSegment=function(I,W,ae,de){var Te=this.segments[this.segments.length-1];return I>bo.MAX_VERTEX_ARRAY_LENGTH&&U("Max vertices per segment is "+bo.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+I),(!Te||Te.vertexLength+I>bo.MAX_VERTEX_ARRAY_LENGTH||Te.sortKey!==de)&&(Te={vertexOffset:W.length,primitiveOffset:ae.length,vertexLength:0,primitiveLength:0},de!==void 0&&(Te.sortKey=de),this.segments.push(Te)),Te},bo.prototype.get=function(){return this.segments},bo.prototype.destroy=function(){for(var I=0,W=this.segments;I<W.length;I+=1){var ae=W[I];for(var de in ae.vaos)ae.vaos[de].destroy()}},bo.simpleSegment=function(I,W,ae,de){return new bo([{vertexOffset:I,primitiveOffset:W,vertexLength:ae,primitiveLength:de,vaos:{},sortKey:0}])},bo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Be("SegmentVector",bo);function ve(D,I){return D=f(Math.floor(D),0,255),I=f(Math.floor(I),0,255),256*D+I}var X=Bi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),pe=C(function(D){function I(W,ae){var de,Te,De,Ke,ut,wt,Ct,Wt;for(de=W.length&3,Te=W.length-de,De=ae,ut=3432918353,wt=461845907,Wt=0;Wt<Te;)Ct=W.charCodeAt(Wt)&255|(W.charCodeAt(++Wt)&255)<<8|(W.charCodeAt(++Wt)&255)<<16|(W.charCodeAt(++Wt)&255)<<24,++Wt,Ct=(Ct&65535)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295,Ct=Ct<<15|Ct>>>17,Ct=(Ct&65535)*wt+(((Ct>>>16)*wt&65535)<<16)&4294967295,De^=Ct,De=De<<13|De>>>19,Ke=(De&65535)*5+(((De>>>16)*5&65535)<<16)&4294967295,De=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(Ct=0,de){case 3:Ct^=(W.charCodeAt(Wt+2)&255)<<16;case 2:Ct^=(W.charCodeAt(Wt+1)&255)<<8;case 1:Ct^=W.charCodeAt(Wt)&255,Ct=(Ct&65535)*ut+(((Ct>>>16)*ut&65535)<<16)&4294967295,Ct=Ct<<15|Ct>>>17,Ct=(Ct&65535)*wt+(((Ct>>>16)*wt&65535)<<16)&4294967295,De^=Ct}return De^=W.length,De^=De>>>16,De=(De&65535)*2246822507+(((De>>>16)*2246822507&65535)<<16)&4294967295,De^=De>>>13,De=(De&65535)*3266489909+(((De>>>16)*3266489909&65535)<<16)&4294967295,De^=De>>>16,De>>>0}D.exports=I}),te=C(function(D){function I(W,ae){for(var de=W.length,Te=ae^de,De=0,Ke;de>=4;)Ke=W.charCodeAt(De)&255|(W.charCodeAt(++De)&255)<<8|(W.charCodeAt(++De)&255)<<16|(W.charCodeAt(++De)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)^Ke,de-=4,++De;switch(de){case 3:Te^=(W.charCodeAt(De+2)&255)<<16;case 2:Te^=(W.charCodeAt(De+1)&255)<<8;case 1:Te^=W.charCodeAt(De)&255,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16)}return Te^=Te>>>13,Te=(Te&65535)*1540483477+(((Te>>>16)*1540483477&65535)<<16),Te^=Te>>>15,Te>>>0}D.exports=I}),ye=pe,Fe=pe,Xe=te;ye.murmur3=Fe,ye.murmur2=Xe;var ot=function(){this.ids=[],this.positions=[],this.indexed=!1};ot.prototype.add=function(I,W,ae,de){this.ids.push(Ut(I)),this.positions.push(W,ae,de)},ot.prototype.getPositions=function(I){for(var W=Ut(I),ae=0,de=this.ids.length-1;ae<de;){var Te=ae+de>>1;this.ids[Te]>=W?de=Te:ae=Te+1}for(var De=[];this.ids[ae]===W;){var Ke=this.positions[3*ae],ut=this.positions[3*ae+1],wt=this.positions[3*ae+2];De.push({index:Ke,start:ut,end:wt}),ae++}return De},ot.serialize=function(I,W){var ae=new Float64Array(I.ids),de=new Uint32Array(I.positions);return Qt(ae,de,0,ae.length-1),W&&W.push(ae.buffer,de.buffer),{ids:ae,positions:de}},ot.deserialize=function(I){var W=new ot;return W.ids=I.ids,W.positions=I.positions,W.indexed=!0,W};var Mt=Math.pow(2,53)-1;function Ut(D){var I=+D;return!isNaN(I)&&I<=Mt?I:ye(String(D))}function Qt(D,I,W,ae){for(;W<ae;){for(var de=D[W+ae>>1],Te=W-1,De=ae+1;;){do Te++;while(D[Te]<de);do De--;while(D[De]>de);if(Te>=De)break;lr(D,Te,De),lr(I,3*Te,3*De),lr(I,3*Te+1,3*De+1),lr(I,3*Te+2,3*De+2)}De-W<ae-De?(Qt(D,I,W,De),W=De+1):(Qt(D,I,De+1,ae),ae=De)}}function lr(D,I,W){var ae=D[I];D[I]=D[W],D[W]=ae}Be("FeaturePositionMap",ot);var or=function(I,W){this.gl=I.gl,this.location=W},Or=function(D){function I(W,ae){D.call(this,W,ae),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1i(this.location,ae))},I}(or),$r=function(D){function I(W,ae){D.call(this,W,ae),this.current=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){this.current!==ae&&(this.current=ae,this.gl.uniform1f(this.location,ae))},I}(or),Xr=function(D){function I(W,ae){D.call(this,W,ae),this.current=[0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1])&&(this.current=ae,this.gl.uniform2f(this.location,ae[0],ae[1]))},I}(or),jr=function(D){function I(W,ae){D.call(this,W,ae),this.current=[0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2])&&(this.current=ae,this.gl.uniform3f(this.location,ae[0],ae[1],ae[2]))},I}(or),Qr=function(D){function I(W,ae){D.call(this,W,ae),this.current=[0,0,0,0]}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae[0]!==this.current[0]||ae[1]!==this.current[1]||ae[2]!==this.current[2]||ae[3]!==this.current[3])&&(this.current=ae,this.gl.uniform4f(this.location,ae[0],ae[1],ae[2],ae[3]))},I}(or),vn=function(D){function I(W,ae){D.call(this,W,ae),this.current=ni.transparent}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){(ae.r!==this.current.r||ae.g!==this.current.g||ae.b!==this.current.b||ae.a!==this.current.a)&&(this.current=ae,this.gl.uniform4f(this.location,ae.r,ae.g,ae.b,ae.a))},I}(or),_n=new Float32Array(16),Nn=function(D){function I(W,ae){D.call(this,W,ae),this.current=_n}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.set=function(ae){if(ae[12]!==this.current[12]||ae[0]!==this.current[0]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);return}for(var de=1;de<16;de++)if(ae[de]!==this.current[de]){this.current=ae,this.gl.uniformMatrix4fv(this.location,!1,ae);break}},I}(or);function Xn(D){return[ve(255*D.r,255*D.g),ve(255*D.b,255*D.a)]}var Jn=function(I,W,ae){this.value=I,this.uniformNames=W.map(function(de){return"u_"+de}),this.type=ae};Jn.prototype.setUniform=function(I,W,ae){I.set(ae.constantOr(this.value))},Jn.prototype.getBinding=function(I,W,ae){return this.type==="color"?new vn(I,W):new $r(I,W)};var jn=function(I,W){this.uniformNames=W.map(function(ae){return"u_"+ae}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};jn.prototype.setConstantPatternPositions=function(I,W){this.pixelRatioFrom=W.pixelRatio,this.pixelRatioTo=I.pixelRatio,this.patternFrom=W.tlbr,this.patternTo=I.tlbr},jn.prototype.setUniform=function(I,W,ae,de){var Te=de==="u_pattern_to"?this.patternTo:de==="u_pattern_from"?this.patternFrom:de==="u_pixel_ratio_to"?this.pixelRatioTo:de==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Te&&I.set(Te)},jn.prototype.getBinding=function(I,W,ae){return ae.substr(0,9)==="u_pattern"?new Qr(I,W):new $r(I,W)};var ea=function(I,W,ae,de){this.expression=I,this.type=ae,this.maxValue=0,this.paintVertexAttributes=W.map(function(Te){return{name:"a_"+Te,type:"Float32",components:ae==="color"?2:1,offset:0}}),this.paintVertexArray=new de};ea.prototype.populatePaintArray=function(I,W,ae,de,Te){var De=this.paintVertexArray.length,Ke=this.expression.evaluate(new Ma(0),W,{},de,[],Te);this.paintVertexArray.resize(I),this._setPaintValue(De,I,Ke)},ea.prototype.updatePaintArray=function(I,W,ae,de){var Te=this.expression.evaluate({zoom:0},ae,de);this._setPaintValue(I,W,Te)},ea.prototype._setPaintValue=function(I,W,ae){if(this.type==="color")for(var de=Xn(ae),Te=I;Te<W;Te++)this.paintVertexArray.emplace(Te,de[0],de[1]);else{for(var De=I;De<W;De++)this.paintVertexArray.emplace(De,ae);this.maxValue=Math.max(this.maxValue,Math.abs(ae))}},ea.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ea.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var la=function(I,W,ae,de,Te,De){this.expression=I,this.uniformNames=W.map(function(Ke){return"u_"+Ke+"_t"}),this.type=ae,this.useIntegerZoom=de,this.zoom=Te,this.maxValue=0,this.paintVertexAttributes=W.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:ae==="color"?4:2,offset:0}}),this.paintVertexArray=new De};la.prototype.populatePaintArray=function(I,W,ae,de,Te){var De=this.expression.evaluate(new Ma(this.zoom),W,{},de,[],Te),Ke=this.expression.evaluate(new Ma(this.zoom+1),W,{},de,[],Te),ut=this.paintVertexArray.length;this.paintVertexArray.resize(I),this._setPaintValue(ut,I,De,Ke)},la.prototype.updatePaintArray=function(I,W,ae,de){var Te=this.expression.evaluate({zoom:this.zoom},ae,de),De=this.expression.evaluate({zoom:this.zoom+1},ae,de);this._setPaintValue(I,W,Te,De)},la.prototype._setPaintValue=function(I,W,ae,de){if(this.type==="color")for(var Te=Xn(ae),De=Xn(de),Ke=I;Ke<W;Ke++)this.paintVertexArray.emplace(Ke,Te[0],Te[1],De[0],De[1]);else{for(var ut=I;ut<W;ut++)this.paintVertexArray.emplace(ut,ae,de);this.maxValue=Math.max(this.maxValue,Math.abs(ae),Math.abs(de))}},la.prototype.upload=function(I){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=I.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},la.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},la.prototype.setUniform=function(I,W){var ae=this.useIntegerZoom?Math.floor(W.zoom):W.zoom,de=f(this.expression.interpolationFactor(ae,this.zoom,this.zoom+1),0,1);I.set(de)},la.prototype.getBinding=function(I,W,ae){return new $r(I,W)};var va=function(I,W,ae,de,Te,De){this.expression=I,this.type=W,this.useIntegerZoom=ae,this.zoom=de,this.layerId=De,this.zoomInPaintVertexArray=new Te,this.zoomOutPaintVertexArray=new Te};va.prototype.populatePaintArray=function(I,W,ae){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(I),this.zoomOutPaintVertexArray.resize(I),this._setPaintValues(de,I,W.patterns&&W.patterns[this.layerId],ae)},va.prototype.updatePaintArray=function(I,W,ae,de,Te){this._setPaintValues(I,W,ae.patterns&&ae.patterns[this.layerId],Te)},va.prototype._setPaintValues=function(I,W,ae,de){if(!(!de||!ae)){var Te=ae.min,De=ae.mid,Ke=ae.max,ut=de[Te],wt=de[De],Ct=de[Ke];if(!(!ut||!wt||!Ct))for(var Wt=I;Wt<W;Wt++)this.zoomInPaintVertexArray.emplace(Wt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],ut.tl[0],ut.tl[1],ut.br[0],ut.br[1],wt.pixelRatio,ut.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,wt.tl[0],wt.tl[1],wt.br[0],wt.br[1],Ct.tl[0],Ct.tl[1],Ct.br[0],Ct.br[1],wt.pixelRatio,Ct.pixelRatio)}},va.prototype.upload=function(I){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=I.createVertexBuffer(this.zoomInPaintVertexArray,X.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=I.createVertexBuffer(this.zoomOutPaintVertexArray,X.members,this.expression.isStateDependent))},va.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var wa=function(I,W,ae){this.binders={},this._buffers=[];var de=[];for(var Te in I.paint._values)if(ae(Te)){var De=I.paint.get(Te);if(!(!(De instanceof Mi)||!tl(De.property.specification))){var Ke=Oa(Te,I.type),ut=De.value,wt=De.property.specification.type,Ct=De.property.useIntegerZoom,Wt=De.property.specification["property-type"],ar=Wt==="cross-faded"||Wt==="cross-faded-data-driven";if(ut.kind==="constant")this.binders[Te]=ar?new jn(ut.value,Ke):new Jn(ut.value,Ke,wt),de.push("/u_"+Te);else if(ut.kind==="source"||ar){var er=Xa(Te,wt,"source");this.binders[Te]=ar?new va(ut,wt,Ct,W,er,I.id):new ea(ut,Ke,wt,er),de.push("/a_"+Te)}else{var Tr=Xa(Te,wt,"composite");this.binders[Te]=new la(ut,Ke,wt,Ct,W,Tr),de.push("/z_"+Te)}}}this.cacheKey=de.sort().join("")};wa.prototype.getMaxValue=function(I){var W=this.binders[I];return W instanceof ea||W instanceof la?W.maxValue:0},wa.prototype.populatePaintArrays=function(I,W,ae,de,Te){for(var De in this.binders){var Ke=this.binders[De];(Ke instanceof ea||Ke instanceof la||Ke instanceof va)&&Ke.populatePaintArray(I,W,ae,de,Te)}},wa.prototype.setConstantPatternPositions=function(I,W){for(var ae in this.binders){var de=this.binders[ae];de instanceof jn&&de.setConstantPatternPositions(I,W)}},wa.prototype.updatePaintArrays=function(I,W,ae,de,Te){var De=!1;for(var Ke in I)for(var ut=W.getPositions(Ke),wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt],ar=ae.feature(Wt.index);for(var er in this.binders){var Tr=this.binders[er];if((Tr instanceof ea||Tr instanceof la||Tr instanceof va)&&Tr.expression.isStateDependent===!0){var Ur=de.paint.get(er);Tr.expression=Ur.value,Tr.updatePaintArray(Wt.start,Wt.end,ar,I[Ke],Te),De=!0}}}return De},wa.prototype.defines=function(){var I=[];for(var W in this.binders){var ae=this.binders[W];(ae instanceof Jn||ae instanceof jn)&&I.push.apply(I,ae.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return I},wa.prototype.getBinderAttributes=function(){var I=[];for(var W in this.binders){var ae=this.binders[W];if(ae instanceof ea||ae instanceof la)for(var de=0;de<ae.paintVertexAttributes.length;de++)I.push(ae.paintVertexAttributes[de].name);else if(ae instanceof va)for(var Te=0;Te<X.members.length;Te++)I.push(X.members[Te].name)}return I},wa.prototype.getBinderUniforms=function(){var I=[];for(var W in this.binders){var ae=this.binders[W];if(ae instanceof Jn||ae instanceof jn||ae instanceof la)for(var de=0,Te=ae.uniformNames;de<Te.length;de+=1){var De=Te[de];I.push(De)}}return I},wa.prototype.getPaintVertexBuffers=function(){return this._buffers},wa.prototype.getUniforms=function(I,W){var ae=[];for(var de in this.binders){var Te=this.binders[de];if(Te instanceof Jn||Te instanceof jn||Te instanceof la)for(var De=0,Ke=Te.uniformNames;De<Ke.length;De+=1){var ut=Ke[De];if(W[ut]){var wt=Te.getBinding(I,W[ut],ut);ae.push({name:ut,property:de,binding:wt})}}}return ae},wa.prototype.setUniforms=function(I,W,ae,de){for(var Te=0,De=W;Te<De.length;Te+=1){var Ke=De[Te],ut=Ke.name,wt=Ke.property,Ct=Ke.binding;this.binders[wt].setUniform(Ct,de,ae.get(wt),ut)}},wa.prototype.updatePaintBuffers=function(I){this._buffers=[];for(var W in this.binders){var ae=this.binders[W];if(I&&ae instanceof va){var de=I.fromScale===2?ae.zoomInPaintVertexBuffer:ae.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(ae instanceof ea||ae instanceof la)&&ae.paintVertexBuffer&&this._buffers.push(ae.paintVertexBuffer)}},wa.prototype.upload=function(I){for(var W in this.binders){var ae=this.binders[W];(ae instanceof ea||ae instanceof la||ae instanceof va)&&ae.upload(I)}this.updatePaintBuffers()},wa.prototype.destroy=function(){for(var I in this.binders){var W=this.binders[I];(W instanceof ea||W instanceof la||W instanceof va)&&W.destroy()}};var ga=function(I,W,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var de=0,Te=I;de<Te.length;de+=1){var De=Te[de];this.programConfigurations[De.id]=new wa(De,W,ae)}this.needsUpload=!1,this._featureMap=new ot,this._bufferOffset=0};ga.prototype.populatePaintArrays=function(I,W,ae,de,Te,De){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(I,W,de,Te,De);W.id!==void 0&&this._featureMap.add(W.id,ae,this._bufferOffset,I),this._bufferOffset=I,this.needsUpload=!0},ga.prototype.updatePaintArrays=function(I,W,ae,de){for(var Te=0,De=ae;Te<De.length;Te+=1){var Ke=De[Te];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(I,this._featureMap,W,Ke,de)||this.needsUpload}},ga.prototype.get=function(I){return this.programConfigurations[I]},ga.prototype.upload=function(I){if(this.needsUpload){for(var W in this.programConfigurations)this.programConfigurations[W].upload(I);this.needsUpload=!1}},ga.prototype.destroy=function(){for(var I in this.programConfigurations)this.programConfigurations[I].destroy()};function Oa(D,I){var W={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return W[D]||[D.replace(I+"-","").replace(/-/g,"_")]}function ti(D){var I={"line-pattern":{source:As,composite:As},"fill-pattern":{source:As,composite:As},"fill-extrusion-pattern":{source:As,composite:As}};return I[D]}function Xa(D,I,W){var ae={color:{source:bh,composite:Sc},number:{source:wh,composite:bh}},de=ti(D);return de&&de[W]||ae[I][W]}Be("ConstantBinder",Jn),Be("CrossFadedConstantBinder",jn),Be("SourceExpressionBinder",ea),Be("CrossFadedCompositeBinder",va),Be("CompositeExpressionBinder",la),Be("ProgramConfiguration",wa,{omit:["_buffers"]}),Be("ProgramConfigurationSet",ga);var Ea=8192,Ka=15,Ga=Math.pow(2,Ka-1)-1,ui=-Ga-1;function ai(D){for(var I=Ea/D.extent,W=D.loadGeometry(),ae=0;ae<W.length;ae++)for(var de=W[ae],Te=0;Te<de.length;Te++){var De=de[Te],Ke=Math.round(De.x*I),ut=Math.round(De.y*I);De.x=f(Ke,ui,Ga),De.y=f(ut,ui,Ga),(Ke<De.x||Ke>De.x+1||ut<De.y||ut>De.y+1)&&U("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return W}function Ci(D,I){return{type:D.type,id:D.id,properties:D.properties,geometry:I?ai(D):[]}}function ei(D,I,W,ae,de){D.emplaceBack(I*2+(ae+1)/2,W*2+(de+1)/2)}var wi=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Ac,this.indexArray=new ff,this.segments=new bo,this.programConfigurations=new ga(I.layers,I.zoom),this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};wi.prototype.populate=function(I,W,ae){var de=this.layers[0],Te=[],De=null;de.type==="circle"&&(De=de.layout.get("circle-sort-key"));for(var Ke=0,ut=I;Ke<ut.length;Ke+=1){var wt=ut[Ke],Ct=wt.feature,Wt=wt.id,ar=wt.index,er=wt.sourceLayerIndex,Tr=this.layers[0]._featureFilter.needGeometry,Ur=Ci(Ct,Tr);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Ur,ae)){var fn=De?De.evaluate(Ur,{},ae):void 0,rn={id:Wt,properties:Ct.properties,type:Ct.type,sourceLayerIndex:er,index:ar,geometry:Tr?Ur.geometry:ai(Ct),patterns:{},sortKey:fn};Te.push(rn)}}De&&Te.sort(function(ya,Ta){return ya.sortKey-Ta.sortKey});for(var Rn=0,An=Te;Rn<An.length;Rn+=1){var Ln=An[Rn],Fn=Ln,Zn=Fn.geometry,ua=Fn.index,ia=Fn.sourceLayerIndex,Aa=I[ua].feature;this.addFeature(Ln,Zn,ua,ae),W.featureIndex.insert(Aa,Zn,ua,ia,this.index)}},wi.prototype.update=function(I,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ae)},wi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},wi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},wi.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,$g),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},wi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},wi.prototype.addFeature=function(I,W,ae,de){for(var Te=0,De=W;Te<De.length;Te+=1)for(var Ke=De[Te],ut=0,wt=Ke;ut<wt.length;ut+=1){var Ct=wt[ut],Wt=Ct.x,ar=Ct.y;if(!(Wt<0||Wt>=Ea||ar<0||ar>=Ea)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,I.sortKey),Tr=er.vertexLength;ei(this.layoutVertexArray,Wt,ar,-1,-1),ei(this.layoutVertexArray,Wt,ar,1,-1),ei(this.layoutVertexArray,Wt,ar,1,1),ei(this.layoutVertexArray,Wt,ar,-1,1),this.indexArray.emplaceBack(Tr,Tr+1,Tr+2),this.indexArray.emplaceBack(Tr,Tr+3,Tr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,{},de)},Be("CircleBucket",wi,{omit:["layers"]});function Wa(D,I){for(var W=0;W<D.length;W++)if(Ss(I,D[W]))return!0;for(var ae=0;ae<I.length;ae++)if(Ss(D,I[ae]))return!0;return!!El(D,I)}function ri(D,I,W){return!!(Ss(D,I)||Cu(I,D,W))}function $i(D,I){if(D.length===1)return Lu(I,D[0]);for(var W=0;W<I.length;W++)for(var ae=I[W],de=0;de<ae.length;de++)if(Ss(D,ae[de]))return!0;for(var Te=0;Te<D.length;Te++)if(Lu(I,D[Te]))return!0;for(var De=0;De<I.length;De++)if(El(D,I[De]))return!0;return!1}function Do(D,I,W){for(var ae=0;ae<I.length;ae++){var de=I[ae];if(D.length>=3){for(var Te=0;Te<de.length;Te++)if(Ss(D,de[Te]))return!0}if(Ml(D,de,W))return!0}return!1}function Ml(D,I,W){if(D.length>1){if(El(D,I))return!0;for(var ae=0;ae<I.length;ae++)if(Cu(I[ae],D,W))return!0}for(var de=0;de<D.length;de++)if(Cu(D[de],I,W))return!0;return!1}function El(D,I){if(D.length===0||I.length===0)return!1;for(var W=0;W<D.length-1;W++)for(var ae=D[W],de=D[W+1],Te=0;Te<I.length-1;Te++){var De=I[Te],Ke=I[Te+1];if(Zl(ae,de,De,Ke))return!0}return!1}function Zl(D,I,W,ae){return O(D,W,ae)!==O(I,W,ae)&&O(D,I,W)!==O(D,I,ae)}function Cu(D,I,W){var ae=W*W;if(I.length===1)return D.distSqr(I[0])<ae;for(var de=1;de<I.length;de++){var Te=I[de-1],De=I[de];if(Ec(D,Te,De)<ae)return!0}return!1}function Ec(D,I,W){var ae=I.distSqr(W);if(ae===0)return D.distSqr(I);var de=((D.x-I.x)*(W.x-I.x)+(D.y-I.y)*(W.y-I.y))/ae;return de<0?D.distSqr(I):de>1?D.distSqr(W):D.distSqr(W.sub(I)._mult(de)._add(I))}function Lu(D,I){for(var W=!1,ae,de,Te,De=0;De<D.length;De++){ae=D[De];for(var Ke=0,ut=ae.length-1;Ke<ae.length;ut=Ke++)de=ae[Ke],Te=ae[ut],de.y>I.y!=Te.y>I.y&&I.x<(Te.x-de.x)*(I.y-de.y)/(Te.y-de.y)+de.x&&(W=!W)}return W}function Ss(D,I){for(var W=!1,ae=0,de=D.length-1;ae<D.length;de=ae++){var Te=D[ae],De=D[de];Te.y>I.y!=De.y>I.y&&I.x<(De.x-Te.x)*(I.y-Te.y)/(De.y-Te.y)+Te.x&&(W=!W)}return W}function Pu(D,I,W,ae,de){for(var Te=0,De=D;Te<De.length;Te+=1){var Ke=De[Te];if(I<=Ke.x&&W<=Ke.y&&ae>=Ke.x&&de>=Ke.y)return!0}var ut=[new r(I,W),new r(I,de),new r(ae,de),new r(ae,W)];if(D.length>2)for(var wt=0,Ct=ut;wt<Ct.length;wt+=1){var Wt=Ct[wt];if(Ss(D,Wt))return!0}for(var ar=0;ar<D.length-1;ar++){var er=D[ar],Tr=D[ar+1];if(Vs(er,Tr,ut))return!0}return!1}function Vs(D,I,W){var ae=W[0],de=W[2];if(D.x<ae.x&&I.x<ae.x||D.x>de.x&&I.x>de.x||D.y<ae.y&&I.y<ae.y||D.y>de.y&&I.y>de.y)return!1;var Te=O(D,I,W[0]);return Te!==O(D,I,W[1])||Te!==O(D,I,W[2])||Te!==O(D,I,W[3])}function Ms(D,I,W){var ae=I.paint.get(D).value;return ae.kind==="constant"?ae.value:W.programConfigurations.get(I.id).getMaxValue(D)}function Xl(D){return Math.sqrt(D[0]*D[0]+D[1]*D[1])}function cf(D,I,W,ae,de){if(!I[0]&&!I[1])return D;var Te=r.convert(I)._mult(de);W==="viewport"&&Te._rotate(-ae);for(var De=[],Ke=0;Ke<D.length;Ke++){var ut=D[Ke];De.push(ut.sub(Te))}return De}var $l=new di({"circle-sort-key":new Ra(gr.layout_circle["circle-sort-key"])}),md=new di({"circle-radius":new Ra(gr.paint_circle["circle-radius"]),"circle-color":new Ra(gr.paint_circle["circle-color"]),"circle-blur":new Ra(gr.paint_circle["circle-blur"]),"circle-opacity":new Ra(gr.paint_circle["circle-opacity"]),"circle-translate":new ha(gr.paint_circle["circle-translate"]),"circle-translate-anchor":new ha(gr.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ha(gr.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ha(gr.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ra(gr.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ra(gr.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ra(gr.paint_circle["circle-stroke-opacity"])}),Sh={paint:md,layout:$l},Bo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var D=arguments,I=0,W=arguments.length;W--;)I+=D[W]*D[W];return Math.sqrt(I)});function xd(){var D=new Bo(4);return Bo!=Float32Array&&(D[1]=0,D[2]=0),D[0]=1,D[3]=1,D}function Fv(D,I,W){var ae=I[0],de=I[1],Te=I[2],De=I[3],Ke=Math.sin(W),ut=Math.cos(W);return D[0]=ae*ut+Te*Ke,D[1]=de*ut+De*Ke,D[2]=ae*-Ke+Te*ut,D[3]=de*-Ke+De*ut,D}function ss(){var D=new Bo(9);return Bo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[5]=0,D[6]=0,D[7]=0),D[0]=1,D[4]=1,D[8]=1,D}function Mh(D,I){var W=Math.sin(I),ae=Math.cos(I);return D[0]=ae,D[1]=W,D[2]=0,D[3]=-W,D[4]=ae,D[5]=0,D[6]=0,D[7]=0,D[8]=1,D}function bd(){var D=new Bo(16);return Bo!=Float32Array&&(D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=0,D[12]=0,D[13]=0,D[14]=0),D[0]=1,D[5]=1,D[10]=1,D[15]=1,D}function wd(D){var I=new Bo(16);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[4]=D[4],I[5]=D[5],I[6]=D[6],I[7]=D[7],I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function Td(D){return D[0]=1,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=1,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=1,D[11]=0,D[12]=0,D[13]=0,D[14]=0,D[15]=1,D}function Eh(D,I){var W=I[0],ae=I[1],de=I[2],Te=I[3],De=I[4],Ke=I[5],ut=I[6],wt=I[7],Ct=I[8],Wt=I[9],ar=I[10],er=I[11],Tr=I[12],Ur=I[13],fn=I[14],rn=I[15],Rn=W*Ke-ae*De,An=W*ut-de*De,Ln=W*wt-Te*De,Fn=ae*ut-de*Ke,Zn=ae*wt-Te*Ke,ua=de*wt-Te*ut,ia=Ct*Ur-Wt*Tr,Aa=Ct*fn-ar*Tr,ya=Ct*rn-er*Tr,Ta=Wt*fn-ar*Ur,Va=Wt*rn-er*Ur,Sa=ar*rn-er*fn,Pa=Rn*Sa-An*Va+Ln*Ta+Fn*ya-Zn*Aa+ua*ia;return Pa?(Pa=1/Pa,D[0]=(Ke*Sa-ut*Va+wt*Ta)*Pa,D[1]=(de*Va-ae*Sa-Te*Ta)*Pa,D[2]=(Ur*ua-fn*Zn+rn*Fn)*Pa,D[3]=(ar*Zn-Wt*ua-er*Fn)*Pa,D[4]=(ut*ya-De*Sa-wt*Aa)*Pa,D[5]=(W*Sa-de*ya+Te*Aa)*Pa,D[6]=(fn*Ln-Tr*ua-rn*An)*Pa,D[7]=(Ct*ua-ar*Ln+er*An)*Pa,D[8]=(De*Va-Ke*ya+wt*ia)*Pa,D[9]=(ae*ya-W*Va-Te*ia)*Pa,D[10]=(Tr*Zn-Ur*Ln+rn*Rn)*Pa,D[11]=(Wt*Ln-Ct*Zn-er*Rn)*Pa,D[12]=(Ke*Aa-De*Ta-ut*ia)*Pa,D[13]=(W*Ta-ae*Aa+de*ia)*Pa,D[14]=(Ur*An-Tr*Fn-fn*Rn)*Pa,D[15]=(Ct*Fn-Wt*An+ar*Rn)*Pa,D):null}function Ch(D,I,W){var ae=I[0],de=I[1],Te=I[2],De=I[3],Ke=I[4],ut=I[5],wt=I[6],Ct=I[7],Wt=I[8],ar=I[9],er=I[10],Tr=I[11],Ur=I[12],fn=I[13],rn=I[14],Rn=I[15],An=W[0],Ln=W[1],Fn=W[2],Zn=W[3];return D[0]=An*ae+Ln*Ke+Fn*Wt+Zn*Ur,D[1]=An*de+Ln*ut+Fn*ar+Zn*fn,D[2]=An*Te+Ln*wt+Fn*er+Zn*rn,D[3]=An*De+Ln*Ct+Fn*Tr+Zn*Rn,An=W[4],Ln=W[5],Fn=W[6],Zn=W[7],D[4]=An*ae+Ln*Ke+Fn*Wt+Zn*Ur,D[5]=An*de+Ln*ut+Fn*ar+Zn*fn,D[6]=An*Te+Ln*wt+Fn*er+Zn*rn,D[7]=An*De+Ln*Ct+Fn*Tr+Zn*Rn,An=W[8],Ln=W[9],Fn=W[10],Zn=W[11],D[8]=An*ae+Ln*Ke+Fn*Wt+Zn*Ur,D[9]=An*de+Ln*ut+Fn*ar+Zn*fn,D[10]=An*Te+Ln*wt+Fn*er+Zn*rn,D[11]=An*De+Ln*Ct+Fn*Tr+Zn*Rn,An=W[12],Ln=W[13],Fn=W[14],Zn=W[15],D[12]=An*ae+Ln*Ke+Fn*Wt+Zn*Ur,D[13]=An*de+Ln*ut+Fn*ar+Zn*fn,D[14]=An*Te+Ln*wt+Fn*er+Zn*rn,D[15]=An*De+Ln*Ct+Fn*Tr+Zn*Rn,D}function no(D,I,W){var ae=W[0],de=W[1],Te=W[2],De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn;return I===D?(D[12]=I[0]*ae+I[4]*de+I[8]*Te+I[12],D[13]=I[1]*ae+I[5]*de+I[9]*Te+I[13],D[14]=I[2]*ae+I[6]*de+I[10]*Te+I[14],D[15]=I[3]*ae+I[7]*de+I[11]*Te+I[15]):(De=I[0],Ke=I[1],ut=I[2],wt=I[3],Ct=I[4],Wt=I[5],ar=I[6],er=I[7],Tr=I[8],Ur=I[9],fn=I[10],rn=I[11],D[0]=De,D[1]=Ke,D[2]=ut,D[3]=wt,D[4]=Ct,D[5]=Wt,D[6]=ar,D[7]=er,D[8]=Tr,D[9]=Ur,D[10]=fn,D[11]=rn,D[12]=De*ae+Ct*de+Tr*Te+I[12],D[13]=Ke*ae+Wt*de+Ur*Te+I[13],D[14]=ut*ae+ar*de+fn*Te+I[14],D[15]=wt*ae+er*de+rn*Te+I[15]),D}function Hs(D,I,W){var ae=W[0],de=W[1],Te=W[2];return D[0]=I[0]*ae,D[1]=I[1]*ae,D[2]=I[2]*ae,D[3]=I[3]*ae,D[4]=I[4]*de,D[5]=I[5]*de,D[6]=I[6]*de,D[7]=I[7]*de,D[8]=I[8]*Te,D[9]=I[9]*Te,D[10]=I[10]*Te,D[11]=I[11]*Te,D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function Gs(D,I,W){var ae=Math.sin(W),de=Math.cos(W),Te=I[4],De=I[5],Ke=I[6],ut=I[7],wt=I[8],Ct=I[9],Wt=I[10],ar=I[11];return I!==D&&(D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[4]=Te*de+wt*ae,D[5]=De*de+Ct*ae,D[6]=Ke*de+Wt*ae,D[7]=ut*de+ar*ae,D[8]=wt*de-Te*ae,D[9]=Ct*de-De*ae,D[10]=Wt*de-Ke*ae,D[11]=ar*de-ut*ae,D}function Ad(D,I,W){var ae=Math.sin(W),de=Math.cos(W),Te=I[0],De=I[1],Ke=I[2],ut=I[3],wt=I[4],Ct=I[5],Wt=I[6],ar=I[7];return I!==D&&(D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15]),D[0]=Te*de+wt*ae,D[1]=De*de+Ct*ae,D[2]=Ke*de+Wt*ae,D[3]=ut*de+ar*ae,D[4]=wt*de-Te*ae,D[5]=Ct*de-De*ae,D[6]=Wt*de-Ke*ae,D[7]=ar*de-ut*ae,D}function Yp(D,I,W,ae,de){var Te=1/Math.tan(I/2),De;return D[0]=Te/W,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=Te,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[11]=-1,D[12]=0,D[13]=0,D[15]=0,de!=null&&de!==1/0?(De=1/(ae-de),D[10]=(de+ae)*De,D[14]=2*de*ae*De):(D[10]=-1,D[14]=-2*ae),D}function ox(D,I,W,ae,de,Te,De){var Ke=1/(I-W),ut=1/(ae-de),wt=1/(Te-De);return D[0]=-2*Ke,D[1]=0,D[2]=0,D[3]=0,D[4]=0,D[5]=-2*ut,D[6]=0,D[7]=0,D[8]=0,D[9]=0,D[10]=2*wt,D[11]=0,D[12]=(I+W)*Ke,D[13]=(de+ae)*ut,D[14]=(De+Te)*wt,D[15]=1,D}var sx=Ch;function Ov(){var D=new Bo(3);return Bo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0),D}function lx(D){var I=new Bo(3);return I[0]=D[0],I[1]=D[1],I[2]=D[2],I}function Sd(D,I,W){return D[0]=I[0]+W[0],D[1]=I[1]+W[1],D[2]=I[2]+W[2],D}function ux(D,I,W){return D[0]=I[0]-W[0],D[1]=I[1]-W[1],D[2]=I[2]-W[2],D}function fx(D,I,W){return D[0]=I[0]*W,D[1]=I[1]*W,D[2]=I[2]*W,D}function Zp(D,I){var W=I[0],ae=I[1],de=I[2],Te=W*W+ae*ae+de*de;return Te>0&&(Te=1/Math.sqrt(Te)),D[0]=I[0]*Te,D[1]=I[1]*Te,D[2]=I[2]*Te,D}function qC(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]}function e7(D,I,W){var ae=I[0],de=I[1],Te=I[2],De=W[0],Ke=W[1],ut=W[2];return D[0]=de*ut-Te*Ke,D[1]=Te*De-ae*ut,D[2]=ae*Ke-de*De,D}function t7(D,I,W){var ae=I[0],de=I[1],Te=I[2];return D[0]=ae*W[0]+de*W[3]+Te*W[6],D[1]=ae*W[1]+de*W[4]+Te*W[7],D[2]=ae*W[2]+de*W[5]+Te*W[8],D}var r7=ux;(function(){var D=Ov();return function(I,W,ae,de,Te,De){var Ke,ut;for(W||(W=3),ae||(ae=0),de?ut=Math.min(de*W+ae,I.length):ut=I.length,Ke=ae;Ke<ut;Ke+=W)D[0]=I[Ke],D[1]=I[Ke+1],D[2]=I[Ke+2],Te(D,D,De),I[Ke]=D[0],I[Ke+1]=D[1],I[Ke+2]=D[2];return I}})();function n7(){var D=new Bo(4);return Bo!=Float32Array&&(D[0]=0,D[1]=0,D[2]=0,D[3]=0),D}function a7(D,I,W){return D[0]=I[0]*W,D[1]=I[1]*W,D[2]=I[2]*W,D[3]=I[3]*W,D}function i7(D,I){return D[0]*I[0]+D[1]*I[1]+D[2]*I[2]+D[3]*I[3]}function Kg(D,I,W){var ae=I[0],de=I[1],Te=I[2],De=I[3];return D[0]=W[0]*ae+W[4]*de+W[8]*Te+W[12]*De,D[1]=W[1]*ae+W[5]*de+W[9]*Te+W[13]*De,D[2]=W[2]*ae+W[6]*de+W[10]*Te+W[14]*De,D[3]=W[3]*ae+W[7]*de+W[11]*Te+W[15]*De,D}(function(){var D=n7();return function(I,W,ae,de,Te,De){var Ke,ut;for(W||(W=4),ae||(ae=0),de?ut=Math.min(de*W+ae,I.length):ut=I.length,Ke=ae;Ke<ut;Ke+=W)D[0]=I[Ke],D[1]=I[Ke+1],D[2]=I[Ke+2],D[3]=I[Ke+3],Te(D,D,De),I[Ke]=D[0],I[Ke+1]=D[1],I[Ke+2]=D[2],I[Ke+3]=D[3];return I}})();function o7(){var D=new Bo(2);return Bo!=Float32Array&&(D[0]=0,D[1]=0),D}function s7(D){var I=D[0],W=D[1];return I*I+W*W}var l7=s7;(function(){var D=o7();return function(I,W,ae,de,Te,De){var Ke,ut;for(W||(W=2),ae||(ae=0),de?ut=Math.min(de*W+ae,I.length):ut=I.length,Ke=ae;Ke<ut;Ke+=W)D[0]=I[Ke],D[1]=I[Ke+1],Te(D,D,De),I[Ke]=D[0],I[Ke+1]=D[1];return I}})();var u7=function(D){function I(W){D.call(this,W,Sh)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new wi(ae)},I.prototype.queryRadius=function(ae){var de=ae;return Ms("circle-radius",this,de)+Ms("circle-stroke-width",this,de)+Xl(this.paint.get("circle-translate"))},I.prototype.queryIntersectsFeature=function(ae,de,Te,De,Ke,ut,wt,Ct){for(var Wt=cf(ae,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ut.angle,wt),ar=this.paint.get("circle-radius").evaluate(de,Te),er=this.paint.get("circle-stroke-width").evaluate(de,Te),Tr=ar+er,Ur=this.paint.get("circle-pitch-alignment")==="map",fn=Ur?Wt:f7(Wt,Ct),rn=Ur?Tr*wt:Tr,Rn=0,An=De;Rn<An.length;Rn+=1)for(var Ln=An[Rn],Fn=0,Zn=Ln;Fn<Zn.length;Fn+=1){var ua=Zn[Fn],ia=Ur?ua:t5(ua,Ct),Aa=rn,ya=Kg([],[ua.x,ua.y,0,1],Ct);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Aa*=ya[3]/ut.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Aa*=ut.cameraToCenterDistance/ya[3]),ri(fn,ia,Aa))return!0}return!1},I}(Xi);function t5(D,I){var W=Kg([],[D.x,D.y,0,1],I);return new r(W[0]/W[3],W[1]/W[3])}function f7(D,I){return D.map(function(W){return t5(W,I)})}var r5=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(wi);Be("HeatmapBucket",r5,{omit:["layers"]});function cx(D,I,W,ae){var de=I.width,Te=I.height;if(!ae)ae=new Uint8Array(de*Te*W);else if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==de*Te*W)throw new RangeError("mismatched image size");return D.width=de,D.height=Te,D.data=ae,D}function n5(D,I,W){var ae=I.width,de=I.height;if(!(ae===D.width&&de===D.height)){var Te=cx({},{width:ae,height:de},W);hx(D,Te,{x:0,y:0},{x:0,y:0},{width:Math.min(D.width,ae),height:Math.min(D.height,de)},W),D.width=ae,D.height=de,D.data=Te.data}}function hx(D,I,W,ae,de,Te){if(de.width===0||de.height===0)return I;if(de.width>D.width||de.height>D.height||W.x>D.width-de.width||W.y>D.height-de.height)throw new RangeError("out of range source coordinates for image copy");if(de.width>I.width||de.height>I.height||ae.x>I.width-de.width||ae.y>I.height-de.height)throw new RangeError("out of range destination coordinates for image copy");for(var De=D.data,Ke=I.data,ut=0;ut<de.height;ut++)for(var wt=((W.y+ut)*D.width+W.x)*Te,Ct=((ae.y+ut)*I.width+ae.x)*Te,Wt=0;Wt<de.width*Te;Wt++)Ke[Ct+Wt]=De[wt+Wt];return I}var Bv=function(I,W){cx(this,I,1,W)};Bv.prototype.resize=function(I){n5(this,I,1)},Bv.prototype.clone=function(){return new Bv({width:this.width,height:this.height},new Uint8Array(this.data))},Bv.copy=function(I,W,ae,de,Te){hx(I,W,ae,de,Te,1)};var Ws=function(I,W){cx(this,I,4,W)};Ws.prototype.resize=function(I){n5(this,I,4)},Ws.prototype.replace=function(I,W){W?this.data.set(I):I instanceof Uint8ClampedArray?this.data=new Uint8Array(I.buffer):this.data=I},Ws.prototype.clone=function(){return new Ws({width:this.width,height:this.height},new Uint8Array(this.data))},Ws.copy=function(I,W,ae,de,Te){hx(I,W,ae,de,Te,4)},Be("AlphaImage",Bv),Be("RGBAImage",Ws);var c7=new di({"heatmap-radius":new Ra(gr.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ra(gr.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ha(gr.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xo(gr.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ha(gr.paint_heatmap["heatmap-opacity"])}),h7={paint:c7};function a5(D){var I={},W=D.resolution||256,ae=D.clips?D.clips.length:1,de=D.image||new Ws({width:W,height:ae}),Te=function(Rn,An,Ln){I[D.evaluationKey]=Ln;var Fn=D.expression.evaluate(I);de.data[Rn+An+0]=Math.floor(Fn.r*255/Fn.a),de.data[Rn+An+1]=Math.floor(Fn.g*255/Fn.a),de.data[Rn+An+2]=Math.floor(Fn.b*255/Fn.a),de.data[Rn+An+3]=Math.floor(Fn.a*255)};if(D.clips)for(var wt=0,Ct=0;wt<ae;++wt,Ct+=W*4)for(var Wt=0,ar=0;Wt<W;Wt++,ar+=4){var er=Wt/(W-1),Tr=D.clips[wt],Ur=Tr.start,fn=Tr.end,rn=Ur*(1-er)+fn*er;Te(Ct,ar,rn)}else for(var De=0,Ke=0;De<W;De++,Ke+=4){var ut=De/(W-1);Te(0,Ke,ut)}return de}var v7=function(D){function I(W){D.call(this,W,h7),this._updateColorRamp()}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new r5(ae)},I.prototype._handleSpecialPaintPropertyUpdate=function(ae){ae==="heatmap-color"&&this._updateColorRamp()},I.prototype._updateColorRamp=function(){var ae=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=a5({expression:ae,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},I.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},I}(Xi),d7=new di({"hillshade-illumination-direction":new ha(gr.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ha(gr.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ha(gr.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ha(gr.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ha(gr.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ha(gr.paint_hillshade["hillshade-accent-color"])}),p7={paint:d7},g7=function(D){function I(W){D.call(this,W,p7)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},I}(Xi),y7=Bi([{name:"a_pos",components:2,type:"Int16"}],4),m7=y7.members,vx=Jg,x7=Jg;function Jg(D,I,W){W=W||2;var ae=I&&I.length,de=ae?I[0]*W:D.length,Te=i5(D,0,de,W,!0),De=[];if(!Te||Te.next===Te.prev)return De;var Ke,ut,wt,Ct,Wt,ar,er;if(ae&&(Te=S7(D,I,Te,W)),D.length>80*W){Ke=wt=D[0],ut=Ct=D[1];for(var Tr=W;Tr<de;Tr+=W)Wt=D[Tr],ar=D[Tr+1],Wt<Ke&&(Ke=Wt),ar<ut&&(ut=ar),Wt>wt&&(wt=Wt),ar>Ct&&(Ct=ar);er=Math.max(wt-Ke,Ct-ut),er=er!==0?1/er:0}return Xp(Te,De,W,Ke,ut,er),De}function i5(D,I,W,ae,de){var Te,De;if(de===gx(D,I,W,ae)>0)for(Te=I;Te<W;Te+=ae)De=l5(Te,D[Te],D[Te+1],De);else for(Te=W-ae;Te>=I;Te-=ae)De=l5(Te,D[Te],D[Te+1],De);return De&&Qg(De,De.next)&&(Kp(De),De=De.next),De}function Lh(D,I){if(!D)return D;I||(I=D);var W=D,ae;do if(ae=!1,!W.steiner&&(Qg(W,W.next)||wo(W.prev,W,W.next)===0)){if(Kp(W),W=I=W.prev,W===W.next)break;ae=!0}else W=W.next;while(ae||W!==I);return I}function Xp(D,I,W,ae,de,Te,De){if(D){!De&&Te&&P7(D,ae,de,Te);for(var Ke=D,ut,wt;D.prev!==D.next;){if(ut=D.prev,wt=D.next,Te?w7(D,ae,de,Te):b7(D)){I.push(ut.i/W),I.push(D.i/W),I.push(wt.i/W),Kp(D),D=wt.next,Ke=wt.next;continue}if(D=wt,D===Ke){De?De===1?(D=T7(Lh(D),I,W),Xp(D,I,W,ae,de,Te,2)):De===2&&A7(D,I,W,ae,de,Te):Xp(Lh(D),I,W,ae,de,Te,1);break}}}}function b7(D){var I=D.prev,W=D,ae=D.next;if(wo(I,W,ae)>=0)return!1;for(var de=D.next.next;de!==D.prev;){if(Md(I.x,I.y,W.x,W.y,ae.x,ae.y,de.x,de.y)&&wo(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function w7(D,I,W,ae){var de=D.prev,Te=D,De=D.next;if(wo(de,Te,De)>=0)return!1;for(var Ke=de.x<Te.x?de.x<De.x?de.x:De.x:Te.x<De.x?Te.x:De.x,ut=de.y<Te.y?de.y<De.y?de.y:De.y:Te.y<De.y?Te.y:De.y,wt=de.x>Te.x?de.x>De.x?de.x:De.x:Te.x>De.x?Te.x:De.x,Ct=de.y>Te.y?de.y>De.y?de.y:De.y:Te.y>De.y?Te.y:De.y,Wt=dx(Ke,ut,I,W,ae),ar=dx(wt,Ct,I,W,ae),er=D.prevZ,Tr=D.nextZ;er&&er.z>=Wt&&Tr&&Tr.z<=ar;){if(er!==D.prev&&er!==D.next&&Md(de.x,de.y,Te.x,Te.y,De.x,De.y,er.x,er.y)&&wo(er.prev,er,er.next)>=0||(er=er.prevZ,Tr!==D.prev&&Tr!==D.next&&Md(de.x,de.y,Te.x,Te.y,De.x,De.y,Tr.x,Tr.y)&&wo(Tr.prev,Tr,Tr.next)>=0))return!1;Tr=Tr.nextZ}for(;er&&er.z>=Wt;){if(er!==D.prev&&er!==D.next&&Md(de.x,de.y,Te.x,Te.y,De.x,De.y,er.x,er.y)&&wo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;Tr&&Tr.z<=ar;){if(Tr!==D.prev&&Tr!==D.next&&Md(de.x,de.y,Te.x,Te.y,De.x,De.y,Tr.x,Tr.y)&&wo(Tr.prev,Tr,Tr.next)>=0)return!1;Tr=Tr.nextZ}return!0}function T7(D,I,W){var ae=D;do{var de=ae.prev,Te=ae.next.next;!Qg(de,Te)&&o5(de,ae,ae.next,Te)&&$p(de,Te)&&$p(Te,de)&&(I.push(de.i/W),I.push(ae.i/W),I.push(Te.i/W),Kp(ae),Kp(ae.next),ae=D=Te),ae=ae.next}while(ae!==D);return Lh(ae)}function A7(D,I,W,ae,de,Te){var De=D;do{for(var Ke=De.next.next;Ke!==De.prev;){if(De.i!==Ke.i&&D7(De,Ke)){var ut=s5(De,Ke);De=Lh(De,De.next),ut=Lh(ut,ut.next),Xp(De,I,W,ae,de,Te),Xp(ut,I,W,ae,de,Te);return}Ke=Ke.next}De=De.next}while(De!==D)}function S7(D,I,W,ae){var de=[],Te,De,Ke,ut,wt;for(Te=0,De=I.length;Te<De;Te++)Ke=I[Te]*ae,ut=Te<De-1?I[Te+1]*ae:D.length,wt=i5(D,Ke,ut,ae,!1),wt===wt.next&&(wt.steiner=!0),de.push(k7(wt));for(de.sort(M7),Te=0;Te<de.length;Te++)E7(de[Te],W),W=Lh(W,W.next);return W}function M7(D,I){return D.x-I.x}function E7(D,I){if(I=C7(D,I),I){var W=s5(I,D);Lh(I,I.next),Lh(W,W.next)}}function C7(D,I){var W=I,ae=D.x,de=D.y,Te=-1/0,De;do{if(de<=W.y&&de>=W.next.y&&W.next.y!==W.y){var Ke=W.x+(de-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(Ke<=ae&&Ke>Te){if(Te=Ke,Ke===ae){if(de===W.y)return W;if(de===W.next.y)return W.next}De=W.x<W.next.x?W:W.next}}W=W.next}while(W!==I);if(!De)return null;if(ae===Te)return De;var ut=De,wt=De.x,Ct=De.y,Wt=1/0,ar;W=De;do ae>=W.x&&W.x>=wt&&ae!==W.x&&Md(de<Ct?ae:Te,de,wt,Ct,de<Ct?Te:ae,de,W.x,W.y)&&(ar=Math.abs(de-W.y)/(ae-W.x),$p(W,D)&&(ar<Wt||ar===Wt&&(W.x>De.x||W.x===De.x&&L7(De,W)))&&(De=W,Wt=ar)),W=W.next;while(W!==ut);return De}function L7(D,I){return wo(D.prev,D,I.prev)<0&&wo(I.next,D,D.next)<0}function P7(D,I,W,ae){var de=D;do de.z===null&&(de.z=dx(de.x,de.y,I,W,ae)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==D);de.prevZ.nextZ=null,de.prevZ=null,R7(de)}function R7(D){var I,W,ae,de,Te,De,Ke,ut,wt=1;do{for(W=D,D=null,Te=null,De=0;W;){for(De++,ae=W,Ke=0,I=0;I<wt&&(Ke++,ae=ae.nextZ,!!ae);I++);for(ut=wt;Ke>0||ut>0&&ae;)Ke!==0&&(ut===0||!ae||W.z<=ae.z)?(de=W,W=W.nextZ,Ke--):(de=ae,ae=ae.nextZ,ut--),Te?Te.nextZ=de:D=de,de.prevZ=Te,Te=de;W=ae}Te.nextZ=null,wt*=2}while(De>1);return D}function dx(D,I,W,ae,de){return D=32767*(D-W)*de,I=32767*(I-ae)*de,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D|I<<1}function k7(D){var I=D,W=D;do(I.x<W.x||I.x===W.x&&I.y<W.y)&&(W=I),I=I.next;while(I!==D);return W}function Md(D,I,W,ae,de,Te,De,Ke){return(de-De)*(I-Ke)-(D-De)*(Te-Ke)>=0&&(D-De)*(ae-Ke)-(W-De)*(I-Ke)>=0&&(W-De)*(Te-Ke)-(de-De)*(ae-Ke)>=0}function D7(D,I){return D.next.i!==I.i&&D.prev.i!==I.i&&!I7(D,I)&&($p(D,I)&&$p(I,D)&&_7(D,I)&&(wo(D.prev,D,I.prev)||wo(D,I.prev,I))||Qg(D,I)&&wo(D.prev,D,D.next)>0&&wo(I.prev,I,I.next)>0)}function wo(D,I,W){return(I.y-D.y)*(W.x-I.x)-(I.x-D.x)*(W.y-I.y)}function Qg(D,I){return D.x===I.x&&D.y===I.y}function o5(D,I,W,ae){var de=ey(wo(D,I,W)),Te=ey(wo(D,I,ae)),De=ey(wo(W,ae,D)),Ke=ey(wo(W,ae,I));return!!(de!==Te&&De!==Ke||de===0&&qg(D,W,I)||Te===0&&qg(D,ae,I)||De===0&&qg(W,D,ae)||Ke===0&&qg(W,I,ae))}function qg(D,I,W){return I.x<=Math.max(D.x,W.x)&&I.x>=Math.min(D.x,W.x)&&I.y<=Math.max(D.y,W.y)&&I.y>=Math.min(D.y,W.y)}function ey(D){return D>0?1:D<0?-1:0}function I7(D,I){var W=D;do{if(W.i!==D.i&&W.next.i!==D.i&&W.i!==I.i&&W.next.i!==I.i&&o5(W,W.next,D,I))return!0;W=W.next}while(W!==D);return!1}function $p(D,I){return wo(D.prev,D,D.next)<0?wo(D,I,D.next)>=0&&wo(D,D.prev,I)>=0:wo(D,I,D.prev)<0||wo(D,D.next,I)<0}function _7(D,I){var W=D,ae=!1,de=(D.x+I.x)/2,Te=(D.y+I.y)/2;do W.y>Te!=W.next.y>Te&&W.next.y!==W.y&&de<(W.next.x-W.x)*(Te-W.y)/(W.next.y-W.y)+W.x&&(ae=!ae),W=W.next;while(W!==D);return ae}function s5(D,I){var W=new px(D.i,D.x,D.y),ae=new px(I.i,I.x,I.y),de=D.next,Te=I.prev;return D.next=I,I.prev=D,W.next=de,de.prev=W,ae.next=W,W.prev=ae,Te.next=ae,ae.prev=Te,ae}function l5(D,I,W,ae){var de=new px(D,I,W);return ae?(de.next=ae.next,de.prev=ae,ae.next.prev=de,ae.next=de):(de.prev=de,de.next=de),de}function Kp(D){D.next.prev=D.prev,D.prev.next=D.next,D.prevZ&&(D.prevZ.nextZ=D.nextZ),D.nextZ&&(D.nextZ.prevZ=D.prevZ)}function px(D,I,W){this.i=D,this.x=I,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Jg.deviation=function(D,I,W,ae){var de=I&&I.length,Te=de?I[0]*W:D.length,De=Math.abs(gx(D,0,Te,W));if(de)for(var Ke=0,ut=I.length;Ke<ut;Ke++){var wt=I[Ke]*W,Ct=Ke<ut-1?I[Ke+1]*W:D.length;De-=Math.abs(gx(D,wt,Ct,W))}var Wt=0;for(Ke=0;Ke<ae.length;Ke+=3){var ar=ae[Ke]*W,er=ae[Ke+1]*W,Tr=ae[Ke+2]*W;Wt+=Math.abs((D[ar]-D[Tr])*(D[er+1]-D[ar+1])-(D[ar]-D[er])*(D[Tr+1]-D[ar+1]))}return De===0&&Wt===0?0:Math.abs((Wt-De)/De)};function gx(D,I,W,ae){for(var de=0,Te=I,De=W-ae;Te<W;Te+=ae)de+=(D[De]-D[Te])*(D[Te+1]+D[De+1]),De=Te;return de}Jg.flatten=function(D){for(var I=D[0][0].length,W={vertices:[],holes:[],dimensions:I},ae=0,de=0;de<D.length;de++){for(var Te=0;Te<D[de].length;Te++)for(var De=0;De<I;De++)W.vertices.push(D[de][Te][De]);de>0&&(ae+=D[de-1].length,W.holes.push(ae))}return W},vx.default=x7;function z7(D,I,W,ae,de){u5(D,I,W||0,ae||D.length-1,de||F7)}function u5(D,I,W,ae,de){for(;ae>W;){if(ae-W>600){var Te=ae-W+1,De=I-W+1,Ke=Math.log(Te),ut=.5*Math.exp(2*Ke/3),wt=.5*Math.sqrt(Ke*ut*(Te-ut)/Te)*(De-Te/2<0?-1:1),Ct=Math.max(W,Math.floor(I-De*ut/Te+wt)),Wt=Math.min(ae,Math.floor(I+(Te-De)*ut/Te+wt));u5(D,I,Ct,Wt,de)}var ar=D[I],er=W,Tr=ae;for(Jp(D,W,I),de(D[ae],ar)>0&&Jp(D,W,ae);er<Tr;){for(Jp(D,er,Tr),er++,Tr--;de(D[er],ar)<0;)er++;for(;de(D[Tr],ar)>0;)Tr--}de(D[W],ar)===0?Jp(D,W,Tr):(Tr++,Jp(D,Tr,ae)),Tr<=I&&(W=Tr+1),I<=Tr&&(ae=Tr-1)}}function Jp(D,I,W){var ae=D[I];D[I]=D[W],D[W]=ae}function F7(D,I){return D<I?-1:D>I?1:0}function yx(D,I){var W=D.length;if(W<=1)return[D];for(var ae=[],de,Te,De=0;De<W;De++){var Ke=H(D[De]);Ke!==0&&(D[De].area=Math.abs(Ke),Te===void 0&&(Te=Ke<0),Te===Ke<0?(de&&ae.push(de),de=[D[De]]):de.push(D[De]))}if(de&&ae.push(de),I>1)for(var ut=0;ut<ae.length;ut++)ae[ut].length<=I||(z7(ae[ut],I,1,ae[ut].length-1,O7),ae[ut]=ae[ut].slice(0,I));return ae}function O7(D,I){return I.area-D.area}function mx(D,I,W){for(var ae=W.patternDependencies,de=!1,Te=0,De=I;Te<De.length;Te+=1){var Ke=De[Te],ut=Ke.paint.get(D+"-pattern");ut.isConstant()||(de=!0);var wt=ut.constantOr(null);wt&&(de=!0,ae[wt.to]=!0,ae[wt.from]=!0)}return de}function xx(D,I,W,ae,de){for(var Te=de.patternDependencies,De=0,Ke=I;De<Ke.length;De+=1){var ut=Ke[De],wt=ut.paint.get(D+"-pattern"),Ct=wt.value;if(Ct.kind!=="constant"){var Wt=Ct.evaluate({zoom:ae-1},W,{},de.availableImages),ar=Ct.evaluate({zoom:ae},W,{},de.availableImages),er=Ct.evaluate({zoom:ae+1},W,{},de.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,ar=ar&&ar.name?ar.name:ar,er=er&&er.name?er.name:er,Te[Wt]=!0,Te[ar]=!0,Te[er]=!0,W.patterns[ut.id]={min:Wt,mid:ar,max:er}}}return W}var B7=500,hf=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ac,this.indexArray=new ff,this.indexArray2=new zv,this.programConfigurations=new ga(I.layers,I.zoom),this.segments=new bo,this.segments2=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};hf.prototype.populate=function(I,W,ae){this.hasPattern=mx("fill",this.layers,W);for(var de=this.layers[0].layout.get("fill-sort-key"),Te=[],De=0,Ke=I;De<Ke.length;De+=1){var ut=Ke[De],wt=ut.feature,Ct=ut.id,Wt=ut.index,ar=ut.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,Tr=Ci(wt,er);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Tr,ae)){var Ur=de?de.evaluate(Tr,{},ae,W.availableImages):void 0,fn={id:Ct,properties:wt.properties,type:wt.type,sourceLayerIndex:ar,index:Wt,geometry:er?Tr.geometry:ai(wt),patterns:{},sortKey:Ur};Te.push(fn)}}de&&Te.sort(function(ya,Ta){return ya.sortKey-Ta.sortKey});for(var rn=0,Rn=Te;rn<Rn.length;rn+=1){var An=Rn[rn],Ln=An,Fn=Ln.geometry,Zn=Ln.index,ua=Ln.sourceLayerIndex;if(this.hasPattern){var ia=xx("fill",this.layers,An,this.zoom,W);this.patternFeatures.push(ia)}else this.addFeature(An,Fn,Zn,ae,{});var Aa=I[Zn].feature;W.featureIndex.insert(Aa,Fn,Zn,ua,this.index)}},hf.prototype.update=function(I,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ae)},hf.prototype.addFeatures=function(I,W,ae){for(var de=0,Te=this.patternFeatures;de<Te.length;de+=1){var De=Te[de];this.addFeature(De,De.geometry,De.index,W,ae)}},hf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},hf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},hf.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,m7),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.indexBuffer2=I.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(I),this.uploaded=!0},hf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},hf.prototype.addFeature=function(I,W,ae,de,Te){for(var De=0,Ke=yx(W,B7);De<Ke.length;De+=1){for(var ut=Ke[De],wt=0,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var ar=Wt[Ct];wt+=ar.length}for(var er=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray),Tr=er.vertexLength,Ur=[],fn=[],rn=0,Rn=ut;rn<Rn.length;rn+=1){var An=Rn[rn];if(An.length!==0){An!==ut[0]&&fn.push(Ur.length/2);var Ln=this.segments2.prepareSegment(An.length,this.layoutVertexArray,this.indexArray2),Fn=Ln.vertexLength;this.layoutVertexArray.emplaceBack(An[0].x,An[0].y),this.indexArray2.emplaceBack(Fn+An.length-1,Fn),Ur.push(An[0].x),Ur.push(An[0].y);for(var Zn=1;Zn<An.length;Zn++)this.layoutVertexArray.emplaceBack(An[Zn].x,An[Zn].y),this.indexArray2.emplaceBack(Fn+Zn-1,Fn+Zn),Ur.push(An[Zn].x),Ur.push(An[Zn].y);Ln.vertexLength+=An.length,Ln.primitiveLength+=An.length}}for(var ua=vx(Ur,fn),ia=0;ia<ua.length;ia+=3)this.indexArray.emplaceBack(Tr+ua[ia],Tr+ua[ia+1],Tr+ua[ia+2]);er.vertexLength+=wt,er.primitiveLength+=ua.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Te,de)},Be("FillBucket",hf,{omit:["layers","patternFeatures"]});var N7=new di({"fill-sort-key":new Ra(gr.layout_fill["fill-sort-key"])}),U7=new di({"fill-antialias":new ha(gr.paint_fill["fill-antialias"]),"fill-opacity":new Ra(gr.paint_fill["fill-opacity"]),"fill-color":new Ra(gr.paint_fill["fill-color"]),"fill-outline-color":new Ra(gr.paint_fill["fill-outline-color"]),"fill-translate":new ha(gr.paint_fill["fill-translate"]),"fill-translate-anchor":new ha(gr.paint_fill["fill-translate-anchor"]),"fill-pattern":new Xo(gr.paint_fill["fill-pattern"])}),V7={paint:U7,layout:N7},H7=function(D){function I(W){D.call(this,W,V7)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ae,de){D.prototype.recalculate.call(this,ae,de);var Te=this.paint._values["fill-outline-color"];Te.value.kind==="constant"&&Te.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},I.prototype.createBucket=function(ae){return new hf(ae)},I.prototype.queryRadius=function(){return Xl(this.paint.get("fill-translate"))},I.prototype.queryIntersectsFeature=function(ae,de,Te,De,Ke,ut,wt){var Ct=cf(ae,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ut.angle,wt);return $i(Ct,De)},I.prototype.isTileClipped=function(){return!0},I}(Xi),G7=Bi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),W7=G7.members,f5=Ed;function Ed(D,I,W,ae,de){this.properties={},this.extent=W,this.type=0,this._pbf=D,this._geometry=-1,this._keys=ae,this._values=de,D.readFields(j7,this,I)}function j7(D,I,W){D==1?I.id=W.readVarint():D==2?Y7(W,I):D==3?I.type=W.readVarint():D==4&&(I._geometry=W.pos)}function Y7(D,I){for(var W=D.readVarint()+D.pos;D.pos<W;){var ae=I._keys[D.readVarint()],de=I._values[D.readVarint()];I.properties[ae]=de}}Ed.types=["Unknown","Point","LineString","Polygon"],Ed.prototype.loadGeometry=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,W=1,ae=0,de=0,Te=0,De=[],Ke;D.pos<I;){if(ae<=0){var ut=D.readVarint();W=ut&7,ae=ut>>3}if(ae--,W===1||W===2)de+=D.readSVarint(),Te+=D.readSVarint(),W===1&&(Ke&&De.push(Ke),Ke=[]),Ke.push(new r(de,Te));else if(W===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+W)}return Ke&&De.push(Ke),De},Ed.prototype.bbox=function(){var D=this._pbf;D.pos=this._geometry;for(var I=D.readVarint()+D.pos,W=1,ae=0,de=0,Te=0,De=1/0,Ke=-1/0,ut=1/0,wt=-1/0;D.pos<I;){if(ae<=0){var Ct=D.readVarint();W=Ct&7,ae=Ct>>3}if(ae--,W===1||W===2)de+=D.readSVarint(),Te+=D.readSVarint(),de<De&&(De=de),de>Ke&&(Ke=de),Te<ut&&(ut=Te),Te>wt&&(wt=Te);else if(W!==7)throw new Error("unknown command "+W)}return[De,ut,Ke,wt]},Ed.prototype.toGeoJSON=function(D,I,W){var ae=this.extent*Math.pow(2,W),de=this.extent*D,Te=this.extent*I,De=this.loadGeometry(),Ke=Ed.types[this.type],ut,wt;function Ct(er){for(var Tr=0;Tr<er.length;Tr++){var Ur=er[Tr],fn=180-(Ur.y+Te)*360/ae;er[Tr]=[(Ur.x+de)*360/ae-180,360/Math.PI*Math.atan(Math.exp(fn*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(ut=0;ut<De.length;ut++)Wt[ut]=De[ut][0];De=Wt,Ct(De);break;case 2:for(ut=0;ut<De.length;ut++)Ct(De[ut]);break;case 3:for(De=Z7(De),ut=0;ut<De.length;ut++)for(wt=0;wt<De[ut].length;wt++)Ct(De[ut][wt]);break}De.length===1?De=De[0]:Ke="Multi"+Ke;var ar={type:"Feature",geometry:{type:Ke,coordinates:De},properties:this.properties};return"id"in this&&(ar.id=this.id),ar};function Z7(D){var I=D.length;if(I<=1)return[D];for(var W=[],ae,de,Te=0;Te<I;Te++){var De=X7(D[Te]);De!==0&&(de===void 0&&(de=De<0),de===De<0?(ae&&W.push(ae),ae=[D[Te]]):ae.push(D[Te]))}return ae&&W.push(ae),W}function X7(D){for(var I=0,W=0,ae=D.length,de=ae-1,Te,De;W<ae;de=W++)Te=D[W],De=D[de],I+=(De.x-Te.x)*(Te.y+De.y);return I}var c5=h5;function h5(D,I){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=D,this._keys=[],this._values=[],this._features=[],D.readFields($7,this,I),this.length=this._features.length}function $7(D,I,W){D===15?I.version=W.readVarint():D===1?I.name=W.readString():D===5?I.extent=W.readVarint():D===2?I._features.push(W.pos):D===3?I._keys.push(W.readString()):D===4&&I._values.push(K7(W))}function K7(D){for(var I=null,W=D.readVarint()+D.pos;D.pos<W;){var ae=D.readVarint()>>3;I=ae===1?D.readString():ae===2?D.readFloat():ae===3?D.readDouble():ae===4?D.readVarint64():ae===5?D.readVarint():ae===6?D.readSVarint():ae===7?D.readBoolean():null}return I}h5.prototype.feature=function(D){if(D<0||D>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[D];var I=this._pbf.readVarint()+this._pbf.pos;return new f5(this._pbf,I,this.extent,this._keys,this._values)};var J7=Q7;function Q7(D,I){this.layers=D.readFields(q7,{},I)}function q7(D,I,W){if(D===3){var ae=new c5(W,W.readVarint()+W.pos);ae.length&&(I[ae.name]=ae)}}var e9=J7,t9=f5,r9=c5,Cd={VectorTile:e9,VectorTileFeature:t9,VectorTileLayer:r9},n9=Cd.VectorTileFeature.types,a9=500,bx=Math.pow(2,13);function Qp(D,I,W,ae,de,Te,De,Ke){D.emplaceBack(I,W,Math.floor(ae*bx)*2+De,de*bx*2,Te*bx*2,Math.round(Ke))}var vf=function(I){this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(W){return W.id}),this.index=I.index,this.hasPattern=!1,this.layoutVertexArray=new Vf,this.indexArray=new ff,this.programConfigurations=new ga(I.layers,I.zoom),this.segments=new bo,this.stateDependentLayerIds=this.layers.filter(function(W){return W.isStateDependent()}).map(function(W){return W.id})};vf.prototype.populate=function(I,W,ae){this.features=[],this.hasPattern=mx("fill-extrusion",this.layers,W);for(var de=0,Te=I;de<Te.length;de+=1){var De=Te[de],Ke=De.feature,ut=De.id,wt=De.index,Ct=De.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,ar=Ci(Ke,Wt);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),ar,ae)){var er={id:ut,sourceLayerIndex:Ct,index:wt,geometry:Wt?ar.geometry:ai(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};this.hasPattern?this.features.push(xx("fill-extrusion",this.layers,er,this.zoom,W)):this.addFeature(er,er.geometry,wt,ae,{}),W.featureIndex.insert(Ke,er.geometry,wt,Ct,this.index,!0)}}},vf.prototype.addFeatures=function(I,W,ae){for(var de=0,Te=this.features;de<Te.length;de+=1){var De=Te[de],Ke=De.geometry;this.addFeature(De,Ke,De.index,W,ae)}},vf.prototype.update=function(I,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ae)},vf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vf.prototype.upload=function(I){this.uploaded||(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,W7),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},vf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},vf.prototype.addFeature=function(I,W,ae,de,Te){for(var De=0,Ke=yx(W,a9);De<Ke.length;De+=1){for(var ut=Ke[De],wt=0,Ct=0,Wt=ut;Ct<Wt.length;Ct+=1){var ar=Wt[Ct];wt+=ar.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Tr=0,Ur=ut;Tr<Ur.length;Tr+=1){var fn=Ur[Tr];if(fn.length!==0&&!o9(fn))for(var rn=0,Rn=0;Rn<fn.length;Rn++){var An=fn[Rn];if(Rn>=1){var Ln=fn[Rn-1];if(!i9(An,Ln)){er.vertexLength+4>bo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Fn=An.sub(Ln)._perp()._unit(),Zn=Ln.dist(An);rn+Zn>32768&&(rn=0),Qp(this.layoutVertexArray,An.x,An.y,Fn.x,Fn.y,0,0,rn),Qp(this.layoutVertexArray,An.x,An.y,Fn.x,Fn.y,0,1,rn),rn+=Zn,Qp(this.layoutVertexArray,Ln.x,Ln.y,Fn.x,Fn.y,0,0,rn),Qp(this.layoutVertexArray,Ln.x,Ln.y,Fn.x,Fn.y,0,1,rn);var ua=er.vertexLength;this.indexArray.emplaceBack(ua,ua+2,ua+1),this.indexArray.emplaceBack(ua+1,ua+2,ua+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+wt>bo.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(wt,this.layoutVertexArray,this.indexArray)),n9[I.type]==="Polygon"){for(var ia=[],Aa=[],ya=er.vertexLength,Ta=0,Va=ut;Ta<Va.length;Ta+=1){var Sa=Va[Ta];if(Sa.length!==0){Sa!==ut[0]&&Aa.push(ia.length/2);for(var Pa=0;Pa<Sa.length;Pa++){var ja=Sa[Pa];Qp(this.layoutVertexArray,ja.x,ja.y,0,0,1,1,0),ia.push(ja.x),ia.push(ja.y)}}}for(var Na=vx(ia,Aa),fi=0;fi<Na.length;fi+=3)this.indexArray.emplaceBack(ya+Na[fi],ya+Na[fi+2],ya+Na[fi+1]);er.primitiveLength+=Na.length/3,er.vertexLength+=wt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Te,de)},Be("FillExtrusionBucket",vf,{omit:["layers","features"]});function i9(D,I){return D.x===I.x&&(D.x<0||D.x>Ea)||D.y===I.y&&(D.y<0||D.y>Ea)}function o9(D){return D.every(function(I){return I.x<0})||D.every(function(I){return I.x>Ea})||D.every(function(I){return I.y<0})||D.every(function(I){return I.y>Ea})}var s9=new di({"fill-extrusion-opacity":new ha(gr["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ra(gr["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ha(gr["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ha(gr["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Xo(gr["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ra(gr["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ra(gr["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ha(gr["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),l9={paint:s9},u9=function(D){function I(W){D.call(this,W,l9)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.createBucket=function(ae){return new vf(ae)},I.prototype.queryRadius=function(){return Xl(this.paint.get("fill-extrusion-translate"))},I.prototype.is3D=function(){return!0},I.prototype.queryIntersectsFeature=function(ae,de,Te,De,Ke,ut,wt,Ct){var Wt=cf(ae,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ut.angle,wt),ar=this.paint.get("fill-extrusion-height").evaluate(de,Te),er=this.paint.get("fill-extrusion-base").evaluate(de,Te),Tr=h9(Wt,Ct,ut,0),Ur=c9(De,er,ar,Ct),fn=Ur[0],rn=Ur[1];return f9(fn,rn,Tr)},I}(Xi);function qp(D,I){return D.x*I.x+D.y*I.y}function v5(D,I){if(D.length===1){for(var W=0,ae=I[W++],de;!de||ae.equals(de);)if(de=I[W++],!de)return 1/0;for(;W<I.length;W++){var Te=I[W],De=D[0],Ke=de.sub(ae),ut=Te.sub(ae),wt=De.sub(ae),Ct=qp(Ke,Ke),Wt=qp(Ke,ut),ar=qp(ut,ut),er=qp(wt,Ke),Tr=qp(wt,ut),Ur=Ct*ar-Wt*Wt,fn=(ar*er-Wt*Tr)/Ur,rn=(Ct*Tr-Wt*er)/Ur,Rn=1-fn-rn,An=ae.z*Rn+de.z*fn+Te.z*rn;if(isFinite(An))return An}return 1/0}else{for(var Ln=1/0,Fn=0,Zn=I;Fn<Zn.length;Fn+=1){var ua=Zn[Fn];Ln=Math.min(Ln,ua.z)}return Ln}}function f9(D,I,W){var ae=1/0;$i(W,I)&&(ae=v5(W,I[0]));for(var de=0;de<I.length;de++)for(var Te=I[de],De=D[de],Ke=0;Ke<Te.length-1;Ke++){var ut=Te[Ke],wt=Te[Ke+1],Ct=De[Ke],Wt=De[Ke+1],ar=[ut,wt,Wt,Ct,ut];Wa(W,ar)&&(ae=Math.min(ae,v5(W,ar)))}return ae===1/0?!1:ae}function c9(D,I,W,ae){for(var de=[],Te=[],De=ae[8]*I,Ke=ae[9]*I,ut=ae[10]*I,wt=ae[11]*I,Ct=ae[8]*W,Wt=ae[9]*W,ar=ae[10]*W,er=ae[11]*W,Tr=0,Ur=D;Tr<Ur.length;Tr+=1){for(var fn=Ur[Tr],rn=[],Rn=[],An=0,Ln=fn;An<Ln.length;An+=1){var Fn=Ln[An],Zn=Fn.x,ua=Fn.y,ia=ae[0]*Zn+ae[4]*ua+ae[12],Aa=ae[1]*Zn+ae[5]*ua+ae[13],ya=ae[2]*Zn+ae[6]*ua+ae[14],Ta=ae[3]*Zn+ae[7]*ua+ae[15],Va=ia+De,Sa=Aa+Ke,Pa=ya+ut,ja=Ta+wt,Na=ia+Ct,fi=Aa+Wt,Ai=ya+ar,ci=Ta+er,hi=new r(Va/ja,Sa/ja);hi.z=Pa/ja,rn.push(hi);var ii=new r(Na/ci,fi/ci);ii.z=Ai/ci,Rn.push(ii)}de.push(rn),Te.push(Rn)}return[de,Te]}function h9(D,I,W,ae){for(var de=[],Te=0,De=D;Te<De.length;Te+=1){var Ke=De[Te],ut=[Ke.x,Ke.y,ae,1];Kg(ut,ut,I),de.push(new r(ut[0]/ut[3],ut[1]/ut[3]))}return de}var v9=Bi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),d9=v9.members,p9=Bi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),g9=p9.members,y9=Cd.VectorTileFeature.types,d5=63,m9=Math.cos(75/2*(Math.PI/180)),x9=15,b9=20,w9=15,p5=1/2,g5=Math.pow(2,w9-1)/p5,Es=function(I){var W=this;this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ae){return ae.id}),this.index=I.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(ae){W.gradients[ae.id]={}}),this.layoutVertexArray=new xh,this.layoutVertexArray2=new bh,this.indexArray=new ff,this.programConfigurations=new ga(I.layers,I.zoom),this.segments=new bo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(ae){return ae.isStateDependent()}).map(function(ae){return ae.id})};Es.prototype.populate=function(I,W,ae){this.hasPattern=mx("line",this.layers,W);for(var de=this.layers[0].layout.get("line-sort-key"),Te=[],De=0,Ke=I;De<Ke.length;De+=1){var ut=Ke[De],wt=ut.feature,Ct=ut.id,Wt=ut.index,ar=ut.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,Tr=Ci(wt,er);if(this.layers[0]._featureFilter.filter(new Ma(this.zoom),Tr,ae)){var Ur=de?de.evaluate(Tr,{},ae):void 0,fn={id:Ct,properties:wt.properties,type:wt.type,sourceLayerIndex:ar,index:Wt,geometry:er?Tr.geometry:ai(wt),patterns:{},sortKey:Ur};Te.push(fn)}}de&&Te.sort(function(ya,Ta){return ya.sortKey-Ta.sortKey});for(var rn=0,Rn=Te;rn<Rn.length;rn+=1){var An=Rn[rn],Ln=An,Fn=Ln.geometry,Zn=Ln.index,ua=Ln.sourceLayerIndex;if(this.hasPattern){var ia=xx("line",this.layers,An,this.zoom,W);this.patternFeatures.push(ia)}else this.addFeature(An,Fn,Zn,ae,{});var Aa=I[Zn].feature;W.featureIndex.insert(Aa,Fn,Zn,ua,this.index)}},Es.prototype.update=function(I,W,ae){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(I,W,this.stateDependentLayers,ae)},Es.prototype.addFeatures=function(I,W,ae){for(var de=0,Te=this.patternFeatures;de<Te.length;de+=1){var De=Te[de];this.addFeature(De,De.geometry,De.index,W,ae)}},Es.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(I){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=I.createVertexBuffer(this.layoutVertexArray2,g9)),this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,d9),this.indexBuffer=I.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(I),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Es.prototype.lineFeatureClips=function(I){if(I.properties&&I.properties.hasOwnProperty("mapbox_clip_start")&&I.properties.hasOwnProperty("mapbox_clip_end")){var W=+I.properties.mapbox_clip_start,ae=+I.properties.mapbox_clip_end;return{start:W,end:ae}}},Es.prototype.addFeature=function(I,W,ae,de,Te){var De=this.layers[0].layout,Ke=De.get("line-join").evaluate(I,{}),ut=De.get("line-cap"),wt=De.get("line-miter-limit"),Ct=De.get("line-round-limit");this.lineClips=this.lineFeatureClips(I);for(var Wt=0,ar=W;Wt<ar.length;Wt+=1){var er=ar[Wt];this.addLine(er,I,Ke,ut,wt,Ct)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,I,ae,Te,de)},Es.prototype.addLine=function(I,W,ae,de,Te,De){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var Ke=0;Ke<I.length-1;Ke++)this.totalDistance+=I[Ke].dist(I[Ke+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var ut=y9[W.type]==="Polygon",wt=I.length;wt>=2&&I[wt-1].equals(I[wt-2]);)wt--;for(var Ct=0;Ct<wt-1&&I[Ct].equals(I[Ct+1]);)Ct++;if(!(wt<(ut?3:2))){ae==="bevel"&&(Te=1.05);var Wt=this.overscaling<=16?x9*Ea/(512*this.overscaling):0,ar=this.segments.prepareSegment(wt*10,this.layoutVertexArray,this.indexArray),er,Tr=void 0,Ur=void 0,fn=void 0,rn=void 0;this.e1=this.e2=-1,ut&&(er=I[wt-2],rn=I[Ct].sub(er)._unit()._perp());for(var Rn=Ct;Rn<wt;Rn++)if(Ur=Rn===wt-1?ut?I[Ct+1]:void 0:I[Rn+1],!(Ur&&I[Rn].equals(Ur))){rn&&(fn=rn),er&&(Tr=er),er=I[Rn],rn=Ur?Ur.sub(er)._unit()._perp():fn,fn=fn||rn;var An=fn.add(rn);(An.x!==0||An.y!==0)&&An._unit();var Ln=fn.x*rn.x+fn.y*rn.y,Fn=An.x*rn.x+An.y*rn.y,Zn=Fn!==0?1/Fn:1/0,ua=2*Math.sqrt(2-2*Fn),ia=Fn<m9&&Tr&&Ur,Aa=fn.x*rn.y-fn.y*rn.x>0;if(ia&&Rn>Ct){var ya=er.dist(Tr);if(ya>2*Wt){var Ta=er.sub(er.sub(Tr)._mult(Wt/ya)._round());this.updateDistance(Tr,Ta),this.addCurrentVertex(Ta,fn,0,0,ar),Tr=Ta}}var Va=Tr&&Ur,Sa=Va?ae:ut?"butt":de;if(Va&&Sa==="round"&&(Zn<De?Sa="miter":Zn<=2&&(Sa="fakeround")),Sa==="miter"&&Zn>Te&&(Sa="bevel"),Sa==="bevel"&&(Zn>2&&(Sa="flipbevel"),Zn<Te&&(Sa="miter")),Tr&&this.updateDistance(Tr,er),Sa==="miter")An._mult(Zn),this.addCurrentVertex(er,An,0,0,ar);else if(Sa==="flipbevel"){if(Zn>100)An=rn.mult(-1);else{var Pa=Zn*fn.add(rn).mag()/fn.sub(rn).mag();An._perp()._mult(Pa*(Aa?-1:1))}this.addCurrentVertex(er,An,0,0,ar),this.addCurrentVertex(er,An.mult(-1),0,0,ar)}else if(Sa==="bevel"||Sa==="fakeround"){var ja=-Math.sqrt(Zn*Zn-1),Na=Aa?ja:0,fi=Aa?0:ja;if(Tr&&this.addCurrentVertex(er,fn,Na,fi,ar),Sa==="fakeround")for(var Ai=Math.round(ua*180/Math.PI/b9),ci=1;ci<Ai;ci++){var hi=ci/Ai;if(hi!==.5){var ii=hi-.5,Li=1.0904+Ln*(-3.2452+Ln*(3.55645-Ln*1.43519)),Ri=.848013+Ln*(-1.06021+Ln*.215638);hi=hi+hi*ii*(hi-1)*(Li*ii*ii+Ri)}var Ki=rn.sub(fn)._mult(hi)._add(fn)._unit()._mult(Aa?-1:1);this.addHalfVertex(er,Ki.x,Ki.y,!1,Aa,0,ar)}Ur&&this.addCurrentVertex(er,rn,-Na,-fi,ar)}else if(Sa==="butt")this.addCurrentVertex(er,An,0,0,ar);else if(Sa==="square"){var ao=Tr?1:-1;this.addCurrentVertex(er,An,ao,ao,ar)}else Sa==="round"&&(Tr&&(this.addCurrentVertex(er,fn,0,0,ar),this.addCurrentVertex(er,fn,1,1,ar,!0)),Ur&&(this.addCurrentVertex(er,rn,-1,-1,ar,!0),this.addCurrentVertex(er,rn,0,0,ar)));if(ia&&Rn<wt-1){var Uo=er.dist(Ur);if(Uo>2*Wt){var So=er.add(Ur.sub(er)._mult(Wt/Uo)._round());this.updateDistance(er,So),this.addCurrentVertex(So,rn,0,0,ar),er=So}}}}},Es.prototype.addCurrentVertex=function(I,W,ae,de,Te,De){De===void 0&&(De=!1);var Ke=W.x+W.y*ae,ut=W.y-W.x*ae,wt=-W.x+W.y*de,Ct=-W.y-W.x*de;this.addHalfVertex(I,Ke,ut,De,!1,ae,Te),this.addHalfVertex(I,wt,Ct,De,!0,-de,Te),this.distance>g5/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(I,W,ae,de,Te,De))},Es.prototype.addHalfVertex=function(I,W,ae,de,Te,De,Ke){var ut=I.x,wt=I.y,Ct=this.lineClips?this.scaledDistance*(g5-1):this.scaledDistance,Wt=Ct*p5;if(this.layoutVertexArray.emplaceBack((ut<<1)+(de?1:0),(wt<<1)+(Te?1:0),Math.round(d5*W)+128,Math.round(d5*ae)+128,(De===0?0:De<0?-1:1)+1|(Wt&63)<<2,Wt>>6),this.lineClips){var ar=this.scaledDistance-this.lineClips.start,er=this.lineClips.end-this.lineClips.start,Tr=ar/er;this.layoutVertexArray2.emplaceBack(Tr,this.lineClipsArray.length)}var Ur=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ur),Ke.primitiveLength++),Te?this.e2=Ur:this.e1=Ur},Es.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},Es.prototype.updateDistance=function(I,W){this.distance+=I.dist(W),this.updateScaledDistance()},Be("LineBucket",Es,{omit:["layers","patternFeatures"]});var T9=new di({"line-cap":new ha(gr.layout_line["line-cap"]),"line-join":new Ra(gr.layout_line["line-join"]),"line-miter-limit":new ha(gr.layout_line["line-miter-limit"]),"line-round-limit":new ha(gr.layout_line["line-round-limit"]),"line-sort-key":new Ra(gr.layout_line["line-sort-key"])}),A9=new di({"line-opacity":new Ra(gr.paint_line["line-opacity"]),"line-color":new Ra(gr.paint_line["line-color"]),"line-translate":new ha(gr.paint_line["line-translate"]),"line-translate-anchor":new ha(gr.paint_line["line-translate-anchor"]),"line-width":new Ra(gr.paint_line["line-width"]),"line-gap-width":new Ra(gr.paint_line["line-gap-width"]),"line-offset":new Ra(gr.paint_line["line-offset"]),"line-blur":new Ra(gr.paint_line["line-blur"]),"line-dasharray":new rs(gr.paint_line["line-dasharray"]),"line-pattern":new Xo(gr.paint_line["line-pattern"]),"line-gradient":new xo(gr.paint_line["line-gradient"])}),y5={paint:A9,layout:T9},S9=function(D){function I(){D.apply(this,arguments)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.possiblyEvaluate=function(ae,de){return de=new Ma(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),D.prototype.possiblyEvaluate.call(this,ae,de)},I.prototype.evaluate=function(ae,de,Te,De){return de=M({},de,{zoom:Math.floor(de.zoom)}),D.prototype.evaluate.call(this,ae,de,Te,De)},I}(Ra),m5=new S9(y5.paint.properties["line-width"].specification);m5.useIntegerZoom=!0;var M9=function(D){function I(W){D.call(this,W,y5),this.gradientVersion=0}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype._handleSpecialPaintPropertyUpdate=function(ae){if(ae==="line-gradient"){var de=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=de._styleExpression.expression instanceof ys,this.gradientVersion=(this.gradientVersion+1)%h}},I.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},I.prototype.recalculate=function(ae,de){D.prototype.recalculate.call(this,ae,de),this.paint._values["line-floorwidth"]=m5.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ae)},I.prototype.createBucket=function(ae){return new Es(ae)},I.prototype.queryRadius=function(ae){var de=ae,Te=x5(Ms("line-width",this,de),Ms("line-gap-width",this,de)),De=Ms("line-offset",this,de);return Te/2+Math.abs(De)+Xl(this.paint.get("line-translate"))},I.prototype.queryIntersectsFeature=function(ae,de,Te,De,Ke,ut,wt){var Ct=cf(ae,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ut.angle,wt),Wt=wt/2*x5(this.paint.get("line-width").evaluate(de,Te),this.paint.get("line-gap-width").evaluate(de,Te)),ar=this.paint.get("line-offset").evaluate(de,Te);return ar&&(De=E9(De,ar*wt)),Do(Ct,De,Wt)},I.prototype.isTileClipped=function(){return!0},I}(Xi);function x5(D,I){return I>0?I+2*D:D}function E9(D,I){for(var W=[],ae=new r(0,0),de=0;de<D.length;de++){for(var Te=D[de],De=[],Ke=0;Ke<Te.length;Ke++){var ut=Te[Ke-1],wt=Te[Ke],Ct=Te[Ke+1],Wt=Ke===0?ae:wt.sub(ut)._unit()._perp(),ar=Ke===Te.length-1?ae:Ct.sub(wt)._unit()._perp(),er=Wt._add(ar)._unit(),Tr=er.x*ar.x+er.y*ar.y;er._mult(1/Tr),De.push(er._mult(I)._add(wt))}W.push(De)}return W}var C9=Bi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),L9=Bi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Bi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var P9=Bi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Bi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var b5=Bi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),R9=Bi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Bi([{name:"triangle",components:3,type:"Uint16"}]),Bi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Bi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Bi([{type:"Float32",name:"offsetX"}]),Bi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function k9(D,I,W){var ae=I.layout.get("text-transform").evaluate(W,{});return ae==="uppercase"?D=D.toLocaleUpperCase():ae==="lowercase"&&(D=D.toLocaleLowerCase()),na.applyArabicShaping&&(D=na.applyArabicShaping(D)),D}function D9(D,I,W){return D.sections.forEach(function(ae){ae.text=k9(ae.text,I,W)}),D}function I9(D){var I={},W={},ae=[],de=0;function Te(rn){ae.push(D[rn]),de++}function De(rn,Rn,An){var Ln=W[rn];return delete W[rn],W[Rn]=Ln,ae[Ln].geometry[0].pop(),ae[Ln].geometry[0]=ae[Ln].geometry[0].concat(An[0]),Ln}function Ke(rn,Rn,An){var Ln=I[Rn];return delete I[Rn],I[rn]=Ln,ae[Ln].geometry[0].shift(),ae[Ln].geometry[0]=An[0].concat(ae[Ln].geometry[0]),Ln}function ut(rn,Rn,An){var Ln=An?Rn[0][Rn[0].length-1]:Rn[0][0];return rn+":"+Ln.x+":"+Ln.y}for(var wt=0;wt<D.length;wt++){var Ct=D[wt],Wt=Ct.geometry,ar=Ct.text?Ct.text.toString():null;if(!ar){Te(wt);continue}var er=ut(ar,Wt),Tr=ut(ar,Wt,!0);if(er in W&&Tr in I&&W[er]!==I[Tr]){var Ur=Ke(er,Tr,Wt),fn=De(er,Tr,ae[Ur].geometry);delete I[er],delete W[Tr],W[ut(ar,ae[fn].geometry,!0)]=fn,ae[Ur].geometry=null}else er in W?De(er,Tr,Wt):Tr in I?Ke(er,Tr,Wt):(Te(wt),I[er]=de-1,W[Tr]=de-1)}return ae.filter(function(rn){return rn.geometry})}var e0={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function _9(D){for(var I="",W=0;W<D.length;W++){var ae=D.charCodeAt(W+1)||null,de=D.charCodeAt(W-1)||null,Te=(!ae||!Hr(ae)||e0[D[W+1]])&&(!de||!Hr(de)||e0[D[W-1]]);Te&&e0[D[W]]?I+=e0[D[W]]:I+=D[W]}return I}var $o=24,z9=function(D,I,W,ae,de){var Te,De,Ke=de*8-ae-1,ut=(1<<Ke)-1,wt=ut>>1,Ct=-7,Wt=W?de-1:0,ar=W?-1:1,er=D[I+Wt];for(Wt+=ar,Te=er&(1<<-Ct)-1,er>>=-Ct,Ct+=Ke;Ct>0;Te=Te*256+D[I+Wt],Wt+=ar,Ct-=8);for(De=Te&(1<<-Ct)-1,Te>>=-Ct,Ct+=ae;Ct>0;De=De*256+D[I+Wt],Wt+=ar,Ct-=8);if(Te===0)Te=1-wt;else{if(Te===ut)return De?NaN:(er?-1:1)*(1/0);De=De+Math.pow(2,ae),Te=Te-wt}return(er?-1:1)*De*Math.pow(2,Te-ae)},F9=function(D,I,W,ae,de,Te){var De,Ke,ut,wt=Te*8-de-1,Ct=(1<<wt)-1,Wt=Ct>>1,ar=de===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=ae?0:Te-1,Tr=ae?1:-1,Ur=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(Ke=isNaN(I)?1:0,De=Ct):(De=Math.floor(Math.log(I)/Math.LN2),I*(ut=Math.pow(2,-De))<1&&(De--,ut*=2),De+Wt>=1?I+=ar/ut:I+=ar*Math.pow(2,1-Wt),I*ut>=2&&(De++,ut/=2),De+Wt>=Ct?(Ke=0,De=Ct):De+Wt>=1?(Ke=(I*ut-1)*Math.pow(2,de),De=De+Wt):(Ke=I*Math.pow(2,Wt-1)*Math.pow(2,de),De=0));de>=8;D[W+er]=Ke&255,er+=Tr,Ke/=256,de-=8);for(De=De<<de|Ke,wt+=de;wt>0;D[W+er]=De&255,er+=Tr,De/=256,wt-=8);D[W+er-Tr]|=Ur*128},ty={read:z9,write:F9},ry=Pi;function Pi(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0),this.pos=0,this.type=0,this.length=this.buf.length}Pi.Varint=0,Pi.Fixed64=1,Pi.Bytes=2,Pi.Fixed32=5;var wx=65536*65536,w5=1/wx,O9=12,T5=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Pi.prototype={destroy:function(){this.buf=null},readFields:function(D,I,W){for(W=W||this.length;this.pos<W;){var ae=this.readVarint(),de=ae>>3,Te=this.pos;this.type=ae&7,D(de,I,this),this.pos===Te&&this.skip(ae)}return I},readMessage:function(D,I){return this.readFields(D,I,this.readVarint()+this.pos)},readFixed32:function(){var D=ny(this.buf,this.pos);return this.pos+=4,D},readSFixed32:function(){var D=S5(this.buf,this.pos);return this.pos+=4,D},readFixed64:function(){var D=ny(this.buf,this.pos)+ny(this.buf,this.pos+4)*wx;return this.pos+=8,D},readSFixed64:function(){var D=ny(this.buf,this.pos)+S5(this.buf,this.pos+4)*wx;return this.pos+=8,D},readFloat:function(){var D=ty.read(this.buf,this.pos,!0,23,4);return this.pos+=4,D},readDouble:function(){var D=ty.read(this.buf,this.pos,!0,52,8);return this.pos+=8,D},readVarint:function(D){var I=this.buf,W,ae;return ae=I[this.pos++],W=ae&127,ae<128||(ae=I[this.pos++],W|=(ae&127)<<7,ae<128)||(ae=I[this.pos++],W|=(ae&127)<<14,ae<128)||(ae=I[this.pos++],W|=(ae&127)<<21,ae<128)?W:(ae=I[this.pos],W|=(ae&15)<<28,B9(W,D,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return D%2===1?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var D=this.readVarint()+this.pos,I=this.pos;return this.pos=D,D-I>=O9&&T5?Q9(this.buf,I,D):J9(this.buf,I,D)},readBytes:function(){var D=this.readVarint()+this.pos,I=this.buf.subarray(this.pos,D);return this.pos=D,I},readPackedVarint:function(D,I){if(this.type!==Pi.Bytes)return D.push(this.readVarint(I));var W=Cc(this);for(D=D||[];this.pos<W;)D.push(this.readVarint(I));return D},readPackedSVarint:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSVarint());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==Pi.Bytes)return D.push(this.readBoolean());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFloat());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readFloat());return D},readPackedDouble:function(D){if(this.type!==Pi.Bytes)return D.push(this.readDouble());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFixed32());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSFixed32());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==Pi.Bytes)return D.push(this.readFixed64());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==Pi.Bytes)return D.push(this.readSFixed64());var I=Cc(this);for(D=D||[];this.pos<I;)D.push(this.readSFixed64());return D},skip:function(D){var I=D&7;if(I===Pi.Varint)for(;this.buf[this.pos++]>127;);else if(I===Pi.Bytes)this.pos=this.readVarint()+this.pos;else if(I===Pi.Fixed32)this.pos+=4;else if(I===Pi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+I)},writeTag:function(D,I){this.writeVarint(D<<3|I)},realloc:function(D){for(var I=this.length||16;I<this.pos+D;)I*=2;if(I!==this.length){var W=new Uint8Array(I);W.set(this.buf),this.buf=W,this.length=I}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4),Pd(this.buf,D,this.pos),this.pos+=4},writeSFixed32:function(D){this.realloc(4),Pd(this.buf,D,this.pos),this.pos+=4},writeFixed64:function(D){this.realloc(8),Pd(this.buf,D&-1,this.pos),Pd(this.buf,Math.floor(D*w5),this.pos+4),this.pos+=8},writeSFixed64:function(D){this.realloc(8),Pd(this.buf,D&-1,this.pos),Pd(this.buf,Math.floor(D*w5),this.pos+4),this.pos+=8},writeVarint:function(D){if(D=+D||0,D>268435455||D<0){N9(D,this);return}this.realloc(4),this.buf[this.pos++]=D&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=(D>>>=7)&127|(D>127?128:0),!(D<=127)&&(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(D<0?-D*2-1:D*2)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D),this.realloc(D.length*4),this.pos++;var I=this.pos;this.pos=q9(this.buf,D,this.pos);var W=this.pos-I;W>=128&&A5(I,W,this),this.pos=I-1,this.writeVarint(W),this.pos+=W},writeFloat:function(D){this.realloc(4),ty.write(this.buf,D,this.pos,!0,23,4),this.pos+=4},writeDouble:function(D){this.realloc(8),ty.write(this.buf,D,this.pos,!0,52,8),this.pos+=8},writeBytes:function(D){var I=D.length;this.writeVarint(I),this.realloc(I);for(var W=0;W<I;W++)this.buf[this.pos++]=D[W]},writeRawMessage:function(D,I){this.pos++;var W=this.pos;D(I,this);var ae=this.pos-W;ae>=128&&A5(W,ae,this),this.pos=W-1,this.writeVarint(ae),this.pos+=ae},writeMessage:function(D,I,W){this.writeTag(D,Pi.Bytes),this.writeRawMessage(I,W)},writePackedVarint:function(D,I){I.length&&this.writeMessage(D,H9,I)},writePackedSVarint:function(D,I){I.length&&this.writeMessage(D,G9,I)},writePackedBoolean:function(D,I){I.length&&this.writeMessage(D,Y9,I)},writePackedFloat:function(D,I){I.length&&this.writeMessage(D,W9,I)},writePackedDouble:function(D,I){I.length&&this.writeMessage(D,j9,I)},writePackedFixed32:function(D,I){I.length&&this.writeMessage(D,Z9,I)},writePackedSFixed32:function(D,I){I.length&&this.writeMessage(D,X9,I)},writePackedFixed64:function(D,I){I.length&&this.writeMessage(D,$9,I)},writePackedSFixed64:function(D,I){I.length&&this.writeMessage(D,K9,I)},writeBytesField:function(D,I){this.writeTag(D,Pi.Bytes),this.writeBytes(I)},writeFixed32Field:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeFixed32(I)},writeSFixed32Field:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeSFixed32(I)},writeFixed64Field:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeFixed64(I)},writeSFixed64Field:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeSFixed64(I)},writeVarintField:function(D,I){this.writeTag(D,Pi.Varint),this.writeVarint(I)},writeSVarintField:function(D,I){this.writeTag(D,Pi.Varint),this.writeSVarint(I)},writeStringField:function(D,I){this.writeTag(D,Pi.Bytes),this.writeString(I)},writeFloatField:function(D,I){this.writeTag(D,Pi.Fixed32),this.writeFloat(I)},writeDoubleField:function(D,I){this.writeTag(D,Pi.Fixed64),this.writeDouble(I)},writeBooleanField:function(D,I){this.writeVarintField(D,!!I)}};function B9(D,I,W){var ae=W.buf,de,Te;if(Te=ae[W.pos++],de=(Te&112)>>4,Te<128||(Te=ae[W.pos++],de|=(Te&127)<<3,Te<128)||(Te=ae[W.pos++],de|=(Te&127)<<10,Te<128)||(Te=ae[W.pos++],de|=(Te&127)<<17,Te<128)||(Te=ae[W.pos++],de|=(Te&127)<<24,Te<128)||(Te=ae[W.pos++],de|=(Te&1)<<31,Te<128))return Ld(D,de,I);throw new Error("Expected varint not more than 10 bytes")}function Cc(D){return D.type===Pi.Bytes?D.readVarint()+D.pos:D.pos+1}function Ld(D,I,W){return W?I*4294967296+(D>>>0):(I>>>0)*4294967296+(D>>>0)}function N9(D,I){var W,ae;if(D>=0?(W=D%4294967296|0,ae=D/4294967296|0):(W=~(-D%4294967296),ae=~(-D/4294967296),W^4294967295?W=W+1|0:(W=0,ae=ae+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");I.realloc(10),U9(W,ae,I),V9(ae,I)}function U9(D,I,W){W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos++]=D&127|128,D>>>=7,W.buf[W.pos]=D&127}function V9(D,I){var W=(D&7)<<4;I.buf[I.pos++]|=W|((D>>>=3)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127|((D>>>=7)?128:0),D&&(I.buf[I.pos++]=D&127)))))}function A5(D,I,W){var ae=I<=16383?1:I<=2097151?2:I<=268435455?3:Math.floor(Math.log(I)/(Math.LN2*7));W.realloc(ae);for(var de=W.pos-1;de>=D;de--)W.buf[de+ae]=W.buf[de]}function H9(D,I){for(var W=0;W<D.length;W++)I.writeVarint(D[W])}function G9(D,I){for(var W=0;W<D.length;W++)I.writeSVarint(D[W])}function W9(D,I){for(var W=0;W<D.length;W++)I.writeFloat(D[W])}function j9(D,I){for(var W=0;W<D.length;W++)I.writeDouble(D[W])}function Y9(D,I){for(var W=0;W<D.length;W++)I.writeBoolean(D[W])}function Z9(D,I){for(var W=0;W<D.length;W++)I.writeFixed32(D[W])}function X9(D,I){for(var W=0;W<D.length;W++)I.writeSFixed32(D[W])}function $9(D,I){for(var W=0;W<D.length;W++)I.writeFixed64(D[W])}function K9(D,I){for(var W=0;W<D.length;W++)I.writeSFixed64(D[W])}function ny(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+D[I+3]*16777216}function Pd(D,I,W){D[W]=I,D[W+1]=I>>>8,D[W+2]=I>>>16,D[W+3]=I>>>24}function S5(D,I){return(D[I]|D[I+1]<<8|D[I+2]<<16)+(D[I+3]<<24)}function J9(D,I,W){for(var ae="",de=I;de<W;){var Te=D[de],De=null,Ke=Te>239?4:Te>223?3:Te>191?2:1;if(de+Ke>W)break;var ut,wt,Ct;Ke===1?Te<128&&(De=Te):Ke===2?(ut=D[de+1],(ut&192)===128&&(De=(Te&31)<<6|ut&63,De<=127&&(De=null))):Ke===3?(ut=D[de+1],wt=D[de+2],(ut&192)===128&&(wt&192)===128&&(De=(Te&15)<<12|(ut&63)<<6|wt&63,(De<=2047||De>=55296&&De<=57343)&&(De=null))):Ke===4&&(ut=D[de+1],wt=D[de+2],Ct=D[de+3],(ut&192)===128&&(wt&192)===128&&(Ct&192)===128&&(De=(Te&15)<<18|(ut&63)<<12|(wt&63)<<6|Ct&63,(De<=65535||De>=1114112)&&(De=null))),De===null?(De=65533,Ke=1):De>65535&&(De-=65536,ae+=String.fromCharCode(De>>>10&1023|55296),De=56320|De&1023),ae+=String.fromCharCode(De),de+=Ke}return ae}function Q9(D,I,W){return T5.decode(D.subarray(I,W))}function q9(D,I,W){for(var ae=0,de,Te;ae<I.length;ae++){if(de=I.charCodeAt(ae),de>55295&&de<57344)if(Te)if(de<56320){D[W++]=239,D[W++]=191,D[W++]=189,Te=de;continue}else de=Te-55296<<10|de-56320|65536,Te=null;else{de>56319||ae+1===I.length?(D[W++]=239,D[W++]=191,D[W++]=189):Te=de;continue}else Te&&(D[W++]=239,D[W++]=191,D[W++]=189,Te=null);de<128?D[W++]=de:(de<2048?D[W++]=de>>6|192:(de<65536?D[W++]=de>>12|224:(D[W++]=de>>18|240,D[W++]=de>>12&63|128),D[W++]=de>>6&63|128),D[W++]=de&63|128)}return W}var Tx=3;function eL(D,I,W){D===1&&W.readMessage(tL,I)}function tL(D,I,W){if(D===3){var ae=W.readMessage(rL,{}),de=ae.id,Te=ae.bitmap,De=ae.width,Ke=ae.height,ut=ae.left,wt=ae.top,Ct=ae.advance;I.push({id:de,bitmap:new Bv({width:De+2*Tx,height:Ke+2*Tx},Te),metrics:{width:De,height:Ke,left:ut,top:wt,advance:Ct}})}}function rL(D,I,W){D===1?I.id=W.readVarint():D===2?I.bitmap=W.readBytes():D===3?I.width=W.readVarint():D===4?I.height=W.readVarint():D===5?I.left=W.readSVarint():D===6?I.top=W.readSVarint():D===7&&(I.advance=W.readVarint())}function nL(D){return new ry(D).readFields(eL,[])}var M5=Tx;function E5(D){for(var I=0,W=0,ae=0,de=D;ae<de.length;ae+=1){var Te=de[ae];I+=Te.w*Te.h,W=Math.max(W,Te.w)}D.sort(function(fn,rn){return rn.h-fn.h});for(var De=Math.max(Math.ceil(Math.sqrt(I/.95)),W),Ke=[{x:0,y:0,w:De,h:1/0}],ut=0,wt=0,Ct=0,Wt=D;Ct<Wt.length;Ct+=1)for(var ar=Wt[Ct],er=Ke.length-1;er>=0;er--){var Tr=Ke[er];if(!(ar.w>Tr.w||ar.h>Tr.h)){if(ar.x=Tr.x,ar.y=Tr.y,wt=Math.max(wt,ar.y+ar.h),ut=Math.max(ut,ar.x+ar.w),ar.w===Tr.w&&ar.h===Tr.h){var Ur=Ke.pop();er<Ke.length&&(Ke[er]=Ur)}else ar.h===Tr.h?(Tr.x+=ar.w,Tr.w-=ar.w):ar.w===Tr.w?(Tr.y+=ar.h,Tr.h-=ar.h):(Ke.push({x:Tr.x+ar.w,y:Tr.y,w:Tr.w-ar.w,h:ar.h}),Tr.y+=ar.h,Tr.h-=ar.h);break}}return{w:ut,h:wt,fill:I/(ut*wt)||0}}var al=1,ay=function(I,W){var ae=W.pixelRatio,de=W.version,Te=W.stretchX,De=W.stretchY,Ke=W.content;this.paddedRect=I,this.pixelRatio=ae,this.stretchX=Te,this.stretchY=De,this.content=Ke,this.version=de},t0={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};t0.tl.get=function(){return[this.paddedRect.x+al,this.paddedRect.y+al]},t0.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-al,this.paddedRect.y+this.paddedRect.h-al]},t0.tlbr.get=function(){return this.tl.concat(this.br)},t0.displaySize.get=function(){return[(this.paddedRect.w-al*2)/this.pixelRatio,(this.paddedRect.h-al*2)/this.pixelRatio]},Object.defineProperties(ay.prototype,t0);var r0=function(I,W){var ae={},de={};this.haveRenderCallbacks=[];var Te=[];this.addImages(I,ae,Te),this.addImages(W,de,Te);var De=E5(Te),Ke=De.w,ut=De.h,wt=new Ws({width:Ke||1,height:ut||1});for(var Ct in I){var Wt=I[Ct],ar=ae[Ct].paddedRect;Ws.copy(Wt.data,wt,{x:0,y:0},{x:ar.x+al,y:ar.y+al},Wt.data)}for(var er in W){var Tr=W[er],Ur=de[er].paddedRect,fn=Ur.x+al,rn=Ur.y+al,Rn=Tr.data.width,An=Tr.data.height;Ws.copy(Tr.data,wt,{x:0,y:0},{x:fn,y:rn},Tr.data),Ws.copy(Tr.data,wt,{x:0,y:An-1},{x:fn,y:rn-1},{width:Rn,height:1}),Ws.copy(Tr.data,wt,{x:0,y:0},{x:fn,y:rn+An},{width:Rn,height:1}),Ws.copy(Tr.data,wt,{x:Rn-1,y:0},{x:fn-1,y:rn},{width:1,height:An}),Ws.copy(Tr.data,wt,{x:0,y:0},{x:fn+Rn,y:rn},{width:1,height:An})}this.image=wt,this.iconPositions=ae,this.patternPositions=de};r0.prototype.addImages=function(I,W,ae){for(var de in I){var Te=I[de],De={x:0,y:0,w:Te.data.width+2*al,h:Te.data.height+2*al};ae.push(De),W[de]=new ay(De,Te),Te.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},r0.prototype.patchUpdatedImages=function(I,W){I.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ae in I.updatedImages)this.patchUpdatedImage(this.iconPositions[ae],I.getImage(ae),W),this.patchUpdatedImage(this.patternPositions[ae],I.getImage(ae),W)},r0.prototype.patchUpdatedImage=function(I,W,ae){if(!(!I||!W)&&I.version!==W.version){I.version=W.version;var de=I.tl,Te=de[0],De=de[1];ae.update(W.data,void 0,{x:Te,y:De})}},Be("ImagePosition",ay),Be("ImageAtlas",r0);var Cl={horizontal:1,vertical:2,horizontalOnly:3},n0=-17;function aL(D){for(var I=0,W=D;I<W.length;I+=1){var ae=W[I];if(ae.positionedGlyphs.length!==0)return!1}return!0}var C5=57344,L5=63743,Rd=function(){this.scale=1,this.fontStack="",this.imageName=null};Rd.forText=function(I,W){var ae=new Rd;return ae.scale=I||1,ae.fontStack=W,ae},Rd.forImage=function(I){var W=new Rd;return W.imageName=I,W};var ls=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};ls.fromFeature=function(I,W){for(var ae=new ls,de=0;de<I.sections.length;de++){var Te=I.sections[de];Te.image?ae.addImageSection(Te):ae.addTextSection(Te,W)}return ae},ls.prototype.length=function(){return this.text.length},ls.prototype.getSection=function(I){return this.sections[this.sectionIndex[I]]},ls.prototype.getSectionIndex=function(I){return this.sectionIndex[I]},ls.prototype.getCharCode=function(I){return this.text.charCodeAt(I)},ls.prototype.verticalizePunctuation=function(){this.text=_9(this.text)},ls.prototype.trim=function(){for(var I=0,W=0;W<this.text.length&&Wf[this.text.charCodeAt(W)];W++)I++;for(var ae=this.text.length,de=this.text.length-1;de>=0&&de>=I&&Wf[this.text.charCodeAt(de)];de--)ae--;this.text=this.text.substring(I,ae),this.sectionIndex=this.sectionIndex.slice(I,ae)},ls.prototype.substring=function(I,W){var ae=new ls;return ae.text=this.text.substring(I,W),ae.sectionIndex=this.sectionIndex.slice(I,W),ae.sections=this.sections,ae},ls.prototype.toString=function(){return this.text},ls.prototype.getMaxScale=function(){var I=this;return this.sectionIndex.reduce(function(W,ae){return Math.max(W,I.sections[ae].scale)},0)},ls.prototype.addTextSection=function(I,W){this.text+=I.text,this.sections.push(Rd.forText(I.scale,I.fontStack||W));for(var ae=this.sections.length-1,de=0;de<I.text.length;++de)this.sectionIndex.push(ae)},ls.prototype.addImageSection=function(I){var W=I.image?I.image.name:"";if(W.length===0){U("Can't add FormattedSection with an empty image.");return}var ae=this.getNextImageSectionCharCode();if(!ae){U("Reached maximum number of images "+(L5-C5+2));return}this.text+=String.fromCharCode(ae),this.sections.push(Rd.forImage(W)),this.sectionIndex.push(this.sections.length-1)},ls.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=L5?null:++this.imageSectionID:(this.imageSectionID=C5,this.imageSectionID)};function iL(D,I){for(var W=[],ae=D.text,de=0,Te=0,De=I;Te<De.length;Te+=1){var Ke=De[Te];W.push(D.substring(de,Ke)),de=Ke}return de<ae.length&&W.push(D.substring(de,ae.length)),W}function iy(D,I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur){var fn=ls.fromFeature(D,de);Wt===Cl.vertical&&fn.verticalizePunctuation();var rn,Rn=na.processBidirectionalText,An=na.processStyledBidirectionalText;if(Rn&&fn.sections.length===1){rn=[];for(var Ln=Rn(fn.toString(),Ax(fn,wt,Te,I,ae,er,Tr)),Fn=0,Zn=Ln;Fn<Zn.length;Fn+=1){var ua=Zn[Fn],ia=new ls;ia.text=ua,ia.sections=fn.sections;for(var Aa=0;Aa<ua.length;Aa++)ia.sectionIndex.push(0);rn.push(ia)}}else if(An){rn=[];for(var ya=An(fn.text,fn.sectionIndex,Ax(fn,wt,Te,I,ae,er,Tr)),Ta=0,Va=ya;Ta<Va.length;Ta+=1){var Sa=Va[Ta],Pa=new ls;Pa.text=Sa[0],Pa.sectionIndex=Sa[1],Pa.sections=fn.sections,rn.push(Pa)}}else rn=iL(fn,Ax(fn,wt,Te,I,ae,er,Tr));var ja=[],Na={positionedLines:ja,text:fn.toString(),top:Ct[1],bottom:Ct[1],left:Ct[0],right:Ct[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return lL(Na,I,W,ae,rn,De,Ke,ut,Wt,wt,ar,Ur),aL(ja)?!1:Na}var Wf={};Wf[9]=!0,Wf[10]=!0,Wf[11]=!0,Wf[12]=!0,Wf[13]=!0,Wf[32]=!0;var il={};il[10]=!0,il[32]=!0,il[38]=!0,il[40]=!0,il[41]=!0,il[43]=!0,il[45]=!0,il[47]=!0,il[173]=!0,il[183]=!0,il[8203]=!0,il[8208]=!0,il[8211]=!0,il[8231]=!0;function P5(D,I,W,ae,de,Te){if(I.imageName){var ut=ae[I.imageName];return ut?ut.displaySize[0]*I.scale*$o/Te+de:0}else{var De=W[I.fontStack],Ke=De&&De[D];return Ke?Ke.metrics.advance*I.scale+de:0}}function oL(D,I,W,ae,de,Te){for(var De=0,Ke=0;Ke<D.length();Ke++){var ut=D.getSection(Ke);De+=P5(D.getCharCode(Ke),ut,ae,de,I,Te)}var wt=Math.max(1,Math.ceil(De/W));return De/wt}function R5(D,I,W,ae){var de=Math.pow(D-I,2);return ae?D<I?de/2:de*2:de+Math.abs(W)*W}function sL(D,I,W){var ae=0;return D===10&&(ae-=1e4),W&&(ae+=150),(D===40||D===65288)&&(ae+=50),(I===41||I===65289)&&(ae+=50),ae}function k5(D,I,W,ae,de,Te){for(var De=null,Ke=R5(I,W,de,Te),ut=0,wt=ae;ut<wt.length;ut+=1){var Ct=wt[ut],Wt=I-Ct.x,ar=R5(Wt,W,de,Te)+Ct.badness;ar<=Ke&&(De=Ct,Ke=ar)}return{index:D,x:I,priorBreak:De,badness:Ke}}function D5(D){return D?D5(D.priorBreak).concat(D.index):[]}function Ax(D,I,W,ae,de,Te,De){if(Te!=="point")return[];if(!D)return[];for(var Ke=[],ut=oL(D,I,W,ae,de,De),wt=D.text.indexOf("")>=0,Ct=0,Wt=0;Wt<D.length();Wt++){var ar=D.getSection(Wt),er=D.getCharCode(Wt);if(Wf[er]||(Ct+=P5(er,ar,ae,de,I,De)),Wt<D.length()-1){var Tr=qr(er);(il[er]||Tr||ar.imageName)&&Ke.push(k5(Wt+1,Ct,ut,Ke,sL(er,D.getCharCode(Wt+1),Tr&&wt),!1))}}return D5(k5(D.length(),Ct,ut,Ke,0,!0))}function Sx(D){var I=.5,W=.5;switch(D){case"right":case"top-right":case"bottom-right":I=1;break;case"left":case"top-left":case"bottom-left":I=0;break}switch(D){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0;break}return{horizontalAlign:I,verticalAlign:W}}function lL(D,I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt){for(var ar=0,er=n0,Tr=0,Ur=0,fn=Ke==="right"?1:Ke==="left"?0:.5,rn=0,Rn=0,An=de;Rn<An.length;Rn+=1){var Ln=An[Rn];Ln.trim();var Fn=Ln.getMaxScale(),Zn=(Fn-1)*$o,ua={positionedGlyphs:[],lineOffset:0};D.positionedLines[rn]=ua;var ia=ua.positionedGlyphs,Aa=0;if(!Ln.length()){er+=Te,++rn;continue}for(var ya=0;ya<Ln.length();ya++){var Ta=Ln.getSection(ya),Va=Ln.getSectionIndex(ya),Sa=Ln.getCharCode(ya),Pa=0,ja=null,Na=null,fi=null,Ai=$o,ci=!(ut===Cl.horizontal||!Ct&&!ln(Sa)||Ct&&(Wf[Sa]||Kr(Sa)));if(Ta.imageName){var Ki=ae[Ta.imageName];if(!Ki)continue;fi=Ta.imageName,D.iconsInText=D.iconsInText||!0,Na=Ki.paddedRect;var ao=Ki.displaySize;Ta.scale=Ta.scale*$o/Wt,ja={width:ao[0],height:ao[1],left:al,top:-M5,advance:ci?ao[1]:ao[0]};var Uo=$o-ao[1]*Ta.scale;Pa=Zn+Uo,Ai=ja.advance;var So=ci?ao[0]*Ta.scale-$o*Fn:ao[1]*Ta.scale-$o*Fn;So>0&&So>Aa&&(Aa=So)}else{var hi=W[Ta.fontStack],ii=hi&&hi[Sa];if(ii&&ii.rect)Na=ii.rect,ja=ii.metrics;else{var Li=I[Ta.fontStack],Ri=Li&&Li[Sa];if(!Ri)continue;ja=Ri.metrics}Pa=(Fn-Ta.scale)*$o}ci?(D.verticalizable=!0,ia.push({glyph:Sa,imageName:fi,x:ar,y:er+Pa,vertical:ci,scale:Ta.scale,fontStack:Ta.fontStack,sectionIndex:Va,metrics:ja,rect:Na}),ar+=Ai*Ta.scale+wt):(ia.push({glyph:Sa,imageName:fi,x:ar,y:er+Pa,vertical:ci,scale:Ta.scale,fontStack:Ta.fontStack,sectionIndex:Va,metrics:ja,rect:Na}),ar+=ja.advance*Ta.scale+wt)}if(ia.length!==0){var us=ar-wt;Tr=Math.max(us,Tr),uL(ia,0,ia.length-1,fn,Aa)}ar=0;var fs=Te*Fn+Aa;ua.lineOffset=Math.max(Aa,Zn),er+=fs,Ur=Math.max(fs,Ur),++rn}var Vo=er-n0,Cs=Sx(De),Ls=Cs.horizontalAlign,Io=Cs.verticalAlign;fL(D.positionedLines,fn,Ls,Io,Tr,Ur,Te,Vo,de.length),D.top+=-Io*Vo,D.bottom=D.top+Vo,D.left+=-Ls*Tr,D.right=D.left+Tr}function uL(D,I,W,ae,de){if(!(!ae&&!de))for(var Te=D[W],De=Te.metrics.advance*Te.scale,Ke=(D[W].x+De)*ae,ut=I;ut<=W;ut++)D[ut].x-=Ke,D[ut].y+=de}function fL(D,I,W,ae,de,Te,De,Ke,ut){var wt=(I-W)*de,Ct=0;Te!==De?Ct=-Ke*ae-n0:Ct=(-ae*ut+.5)*De;for(var Wt=0,ar=D;Wt<ar.length;Wt+=1)for(var er=ar[Wt],Tr=0,Ur=er.positionedGlyphs;Tr<Ur.length;Tr+=1){var fn=Ur[Tr];fn.x+=wt,fn.y+=Ct}}function cL(D,I,W){var ae=Sx(W),de=ae.horizontalAlign,Te=ae.verticalAlign,De=I[0],Ke=I[1],ut=De-D.displaySize[0]*de,wt=ut+D.displaySize[0],Ct=Ke-D.displaySize[1]*Te,Wt=Ct+D.displaySize[1];return{image:D,top:Ct,bottom:Wt,left:ut,right:wt}}function I5(D,I,W,ae,de,Te){var De=D.image,Ke;if(De.content){var ut=De.content,wt=De.pixelRatio||1;Ke=[ut[0]/wt,ut[1]/wt,De.displaySize[0]-ut[2]/wt,De.displaySize[1]-ut[3]/wt]}var Ct=I.left*Te,Wt=I.right*Te,ar,er,Tr,Ur;W==="width"||W==="both"?(Ur=de[0]+Ct-ae[3],er=de[0]+Wt+ae[1]):(Ur=de[0]+(Ct+Wt-De.displaySize[0])/2,er=Ur+De.displaySize[0]);var fn=I.top*Te,rn=I.bottom*Te;return W==="height"||W==="both"?(ar=de[1]+fn-ae[0],Tr=de[1]+rn+ae[2]):(ar=de[1]+(fn+rn-De.displaySize[1])/2,Tr=ar+De.displaySize[1]),{image:De,top:ar,right:er,bottom:Tr,left:Ur,collisionPadding:Ke}}var kd=function(D){function I(W,ae,de,Te){D.call(this,W,ae),this.angle=de,Te!==void 0&&(this.segment=Te)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.clone=function(){return new I(this.x,this.y,this.angle,this.segment)},I}(r);Be("Anchor",kd);var df=128;function Mx(D,I){var W=I.expression;if(W.kind==="constant"){var ae=W.evaluate(new Ma(D+1));return{kind:"constant",layoutSize:ae}}else{if(W.kind==="source")return{kind:"source"};for(var de=W.zoomStops,Te=W.interpolationType,De=0;De<de.length&&de[De]<=D;)De++;De=Math.max(0,De-1);for(var Ke=De;Ke<de.length&&de[Ke]<D+1;)Ke++;Ke=Math.min(de.length-1,Ke);var ut=de[De],wt=de[Ke];if(W.kind==="composite")return{kind:"composite",minZoom:ut,maxZoom:wt,interpolationType:Te};var Ct=W.evaluate(new Ma(ut)),Wt=W.evaluate(new Ma(wt));return{kind:"camera",minZoom:ut,maxZoom:wt,minSize:Ct,maxSize:Wt,interpolationType:Te}}}function _5(D,I,W){var ae=I.uSize,de=I.uSizeT,Te=W.lowerSize,De=W.upperSize;return D.kind==="source"?Te/df:D.kind==="composite"?Ni(Te/df,De/df,de):ae}function z5(D,I){var W=0,ae=0;if(D.kind==="constant")ae=D.layoutSize;else if(D.kind!=="source"){var de=D.interpolationType,Te=D.minZoom,De=D.maxZoom,Ke=de?f(Wi.interpolationFactor(de,I,Te,De),0,1):0;D.kind==="camera"?ae=Ni(D.minSize,D.maxSize,Ke):W=Ke}return{uSizeT:W,uSize:ae}}var hL=Object.freeze({__proto__:null,getSizeData:Mx,evaluateSizeForFeature:_5,evaluateSizeForZoom:z5,SIZE_PACK_FACTOR:df});function F5(D,I,W,ae,de){if(I.segment===void 0)return!0;for(var Te=I,De=I.segment+1,Ke=0;Ke>-W/2;){if(De--,De<0)return!1;Ke-=D[De].dist(Te),Te=D[De]}Ke+=D[De].dist(D[De+1]),De++;for(var ut=[],wt=0;Ke<W/2;){var Ct=D[De-1],Wt=D[De],ar=D[De+1];if(!ar)return!1;var er=Ct.angleTo(Wt)-Wt.angleTo(ar);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),ut.push({distance:Ke,angleDelta:er}),wt+=er;Ke-ut[0].distance>ae;)wt-=ut.shift().angleDelta;if(wt>de)return!1;De++,Ke+=Wt.dist(ar)}return!0}function O5(D){for(var I=0,W=0;W<D.length-1;W++)I+=D[W].dist(D[W+1]);return I}function B5(D,I,W){return D?.6*I*W:0}function N5(D,I){return Math.max(D?D.right-D.left:0,I?I.right-I.left:0)}function vL(D,I,W,ae,de,Te){for(var De=B5(W,de,Te),Ke=N5(W,ae)*Te,ut=0,wt=O5(D)/2,Ct=0;Ct<D.length-1;Ct++){var Wt=D[Ct],ar=D[Ct+1],er=Wt.dist(ar);if(ut+er>wt){var Tr=(wt-ut)/er,Ur=Ni(Wt.x,ar.x,Tr),fn=Ni(Wt.y,ar.y,Tr),rn=new kd(Ur,fn,ar.angleTo(Wt),Ct);return rn._round(),!De||F5(D,rn,Ke,De,I)?rn:void 0}ut+=er}}function dL(D,I,W,ae,de,Te,De,Ke,ut){var wt=B5(ae,Te,De),Ct=N5(ae,de),Wt=Ct*De,ar=D[0].x===0||D[0].x===ut||D[0].y===0||D[0].y===ut;I-Wt<I/4&&(I=Wt+I/4);var er=Te*2,Tr=ar?I/2*Ke%I:(Ct/2+er)*De*Ke%I;return U5(D,Tr,I,wt,W,Wt,ar,!1,ut)}function U5(D,I,W,ae,de,Te,De,Ke,ut){for(var wt=Te/2,Ct=O5(D),Wt=0,ar=I-W,er=[],Tr=0;Tr<D.length-1;Tr++){for(var Ur=D[Tr],fn=D[Tr+1],rn=Ur.dist(fn),Rn=fn.angleTo(Ur);ar+W<Wt+rn;){ar+=W;var An=(ar-Wt)/rn,Ln=Ni(Ur.x,fn.x,An),Fn=Ni(Ur.y,fn.y,An);if(Ln>=0&&Ln<ut&&Fn>=0&&Fn<ut&&ar-wt>=0&&ar+wt<=Ct){var Zn=new kd(Ln,Fn,Rn,Tr);Zn._round(),(!ae||F5(D,Zn,Te,ae,de))&&er.push(Zn)}}Wt+=rn}return!Ke&&!er.length&&!De&&(er=U5(D,Wt/2,W,ae,de,Te,De,!0,ut)),er}function V5(D,I,W,ae,de){for(var Te=[],De=0;De<D.length;De++)for(var Ke=D[De],ut=void 0,wt=0;wt<Ke.length-1;wt++){var Ct=Ke[wt],Wt=Ke[wt+1];Ct.x<I&&Wt.x<I||(Ct.x<I?Ct=new r(I,Ct.y+(Wt.y-Ct.y)*((I-Ct.x)/(Wt.x-Ct.x)))._round():Wt.x<I&&(Wt=new r(I,Ct.y+(Wt.y-Ct.y)*((I-Ct.x)/(Wt.x-Ct.x)))._round()),!(Ct.y<W&&Wt.y<W)&&(Ct.y<W?Ct=new r(Ct.x+(Wt.x-Ct.x)*((W-Ct.y)/(Wt.y-Ct.y)),W)._round():Wt.y<W&&(Wt=new r(Ct.x+(Wt.x-Ct.x)*((W-Ct.y)/(Wt.y-Ct.y)),W)._round()),!(Ct.x>=ae&&Wt.x>=ae)&&(Ct.x>=ae?Ct=new r(ae,Ct.y+(Wt.y-Ct.y)*((ae-Ct.x)/(Wt.x-Ct.x)))._round():Wt.x>=ae&&(Wt=new r(ae,Ct.y+(Wt.y-Ct.y)*((ae-Ct.x)/(Wt.x-Ct.x)))._round()),!(Ct.y>=de&&Wt.y>=de)&&(Ct.y>=de?Ct=new r(Ct.x+(Wt.x-Ct.x)*((de-Ct.y)/(Wt.y-Ct.y)),de)._round():Wt.y>=de&&(Wt=new r(Ct.x+(Wt.x-Ct.x)*((de-Ct.y)/(Wt.y-Ct.y)),de)._round()),(!ut||!Ct.equals(ut[ut.length-1]))&&(ut=[Ct],Te.push(ut)),ut.push(Wt)))))}return Te}var Dd=al;function H5(D,I,W,ae){var de=[],Te=D.image,De=Te.pixelRatio,Ke=Te.paddedRect.w-2*Dd,ut=Te.paddedRect.h-2*Dd,wt=D.right-D.left,Ct=D.bottom-D.top,Wt=Te.stretchX||[[0,Ke]],ar=Te.stretchY||[[0,ut]],er=function(hi,ii){return hi+ii[1]-ii[0]},Tr=Wt.reduce(er,0),Ur=ar.reduce(er,0),fn=Ke-Tr,rn=ut-Ur,Rn=0,An=Tr,Ln=0,Fn=Ur,Zn=0,ua=fn,ia=0,Aa=rn;if(Te.content&&ae){var ya=Te.content;Rn=oy(Wt,0,ya[0]),Ln=oy(ar,0,ya[1]),An=oy(Wt,ya[0],ya[2]),Fn=oy(ar,ya[1],ya[3]),Zn=ya[0]-Rn,ia=ya[1]-Ln,ua=ya[2]-ya[0]-An,Aa=ya[3]-ya[1]-Fn}var Ta=function(hi,ii,Li,Ri){var Ki=sy(hi.stretch-Rn,An,wt,D.left),ao=ly(hi.fixed-Zn,ua,hi.stretch,Tr),Uo=sy(ii.stretch-Ln,Fn,Ct,D.top),So=ly(ii.fixed-ia,Aa,ii.stretch,Ur),us=sy(Li.stretch-Rn,An,wt,D.left),fs=ly(Li.fixed-Zn,ua,Li.stretch,Tr),Vo=sy(Ri.stretch-Ln,Fn,Ct,D.top),Cs=ly(Ri.fixed-ia,Aa,Ri.stretch,Ur),Ls=new r(Ki,Uo),Io=new r(us,Uo),Ps=new r(us,Vo),Ll=new r(Ki,Vo),Rc=new r(ao/De,So/De),kh=new r(fs/De,Cs/De),Dh=I*Math.PI/180;if(Dh){var Ih=Math.sin(Dh),Ud=Math.cos(Dh),Ru=[Ud,-Ih,Ih,Ud];Ls._matMult(Ru),Io._matMult(Ru),Ll._matMult(Ru),Ps._matMult(Ru)}var dy=hi.stretch+hi.fixed,Ix=Li.stretch+Li.fixed,py=ii.stretch+ii.fixed,_x=Ri.stretch+Ri.fixed,Kl={x:Te.paddedRect.x+Dd+dy,y:Te.paddedRect.y+Dd+py,w:Ix-dy,h:_x-py},Vd=ua/De/wt,gy=Aa/De/Ct;return{tl:Ls,tr:Io,bl:Ll,br:Ps,tex:Kl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Rc,pixelOffsetBR:kh,minFontScaleX:Vd,minFontScaleY:gy,isSDF:W}};if(!ae||!Te.stretchX&&!Te.stretchY)de.push(Ta({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ut+1}));else for(var Va=G5(Wt,fn,Tr),Sa=G5(ar,rn,Ur),Pa=0;Pa<Va.length-1;Pa++)for(var ja=Va[Pa],Na=Va[Pa+1],fi=0;fi<Sa.length-1;fi++){var Ai=Sa[fi],ci=Sa[fi+1];de.push(Ta(ja,Ai,Na,ci))}return de}function oy(D,I,W){for(var ae=0,de=0,Te=D;de<Te.length;de+=1){var De=Te[de];ae+=Math.max(I,Math.min(W,De[1]))-Math.max(I,Math.min(W,De[0]))}return ae}function G5(D,I,W){for(var ae=[{fixed:-Dd,stretch:0}],de=0,Te=D;de<Te.length;de+=1){var De=Te[de],Ke=De[0],ut=De[1],wt=ae[ae.length-1];ae.push({fixed:Ke-wt.stretch,stretch:wt.stretch}),ae.push({fixed:Ke-wt.stretch,stretch:wt.stretch+(ut-Ke)})}return ae.push({fixed:I+Dd,stretch:W}),ae}function sy(D,I,W,ae){return D/I*W+ae}function ly(D,I,W,ae){return D-I*W/ae}function pL(D,I,W,ae,de,Te,De,Ke){for(var ut=ae.layout.get("text-rotate").evaluate(Te,{})*Math.PI/180,wt=[],Ct=0,Wt=I.positionedLines;Ct<Wt.length;Ct+=1)for(var ar=Wt[Ct],er=0,Tr=ar.positionedGlyphs;er<Tr.length;er+=1){var Ur=Tr[er];if(Ur.rect){var fn=Ur.rect||{},rn=1,Rn=M5+rn,An=!0,Ln=1,Fn=0,Zn=(de||Ke)&&Ur.vertical,ua=Ur.metrics.advance*Ur.scale/2;if(Ke&&I.verticalizable){var ia=(Ur.scale-1)*$o,Aa=($o-Ur.metrics.width*Ur.scale)/2;Fn=ar.lineOffset/2-(Ur.imageName?-Aa:ia)}if(Ur.imageName){var ya=De[Ur.imageName];An=ya.sdf,Ln=ya.pixelRatio,Rn=al/Ln}var Ta=de?[Ur.x+ua,Ur.y]:[0,0],Va=de?[0,0]:[Ur.x+ua+W[0],Ur.y+W[1]-Fn],Sa=[0,0];Zn&&(Sa=Va,Va=[0,0]);var Pa=(Ur.metrics.left-Rn)*Ur.scale-ua+Va[0],ja=(-Ur.metrics.top-Rn)*Ur.scale+Va[1],Na=Pa+fn.w*Ur.scale/Ln,fi=ja+fn.h*Ur.scale/Ln,Ai=new r(Pa,ja),ci=new r(Na,ja),hi=new r(Pa,fi),ii=new r(Na,fi);if(Zn){var Li=new r(-ua,ua-n0),Ri=-Math.PI/2,Ki=$o/2-ua,ao=Ur.imageName?Ki:0,Uo=new r(5-n0-Ki,-ao),So=new(Function.prototype.bind.apply(r,[null].concat(Sa)));Ai._rotateAround(Ri,Li)._add(Uo)._add(So),ci._rotateAround(Ri,Li)._add(Uo)._add(So),hi._rotateAround(Ri,Li)._add(Uo)._add(So),ii._rotateAround(Ri,Li)._add(Uo)._add(So)}if(ut){var us=Math.sin(ut),fs=Math.cos(ut),Vo=[fs,-us,us,fs];Ai._matMult(Vo),ci._matMult(Vo),hi._matMult(Vo),ii._matMult(Vo)}var Cs=new r(0,0),Ls=new r(0,0),Io=0,Ps=0;wt.push({tl:Ai,tr:ci,bl:hi,br:ii,tex:fn,writingMode:I.writingMode,glyphOffset:Ta,sectionIndex:Ur.sectionIndex,isSDF:An,pixelOffsetTL:Cs,pixelOffsetBR:Ls,minFontScaleX:Io,minFontScaleY:Ps})}}return wt}var uy=function(I,W,ae,de,Te,De,Ke,ut,wt,Ct){if(this.boxStartIndex=I.length,wt){var Wt=De.top,ar=De.bottom,er=De.collisionPadding;er&&(Wt-=er[1],ar+=er[3]);var Tr=ar-Wt;Tr>0&&(Tr=Math.max(10,Tr),this.circleDiameter=Tr)}else{var Ur=De.top*Ke-ut,fn=De.bottom*Ke+ut,rn=De.left*Ke-ut,Rn=De.right*Ke+ut,An=De.collisionPadding;if(An&&(rn-=An[0]*Ke,Ur-=An[1]*Ke,Rn+=An[2]*Ke,fn+=An[3]*Ke),Ct){var Ln=new r(rn,Ur),Fn=new r(Rn,Ur),Zn=new r(rn,fn),ua=new r(Rn,fn),ia=Ct*Math.PI/180;Ln._rotate(ia),Fn._rotate(ia),Zn._rotate(ia),ua._rotate(ia),rn=Math.min(Ln.x,Fn.x,Zn.x,ua.x),Rn=Math.max(Ln.x,Fn.x,Zn.x,ua.x),Ur=Math.min(Ln.y,Fn.y,Zn.y,ua.y),fn=Math.max(Ln.y,Fn.y,Zn.y,ua.y)}I.emplaceBack(W.x,W.y,rn,Ur,Rn,fn,ae,de,Te)}this.boxEndIndex=I.length},Id=function(I,W){if(I===void 0&&(I=[]),W===void 0&&(W=gL),this.data=I,this.length=this.data.length,this.compare=W,this.length>0)for(var ae=(this.length>>1)-1;ae>=0;ae--)this._down(ae)};Id.prototype.push=function(I){this.data.push(I),this.length++,this._up(this.length-1)},Id.prototype.pop=function(){if(this.length!==0){var I=this.data[0],W=this.data.pop();return this.length--,this.length>0&&(this.data[0]=W,this._down(0)),I}},Id.prototype.peek=function(){return this.data[0]},Id.prototype._up=function(I){for(var W=this,ae=W.data,de=W.compare,Te=ae[I];I>0;){var De=I-1>>1,Ke=ae[De];if(de(Te,Ke)>=0)break;ae[I]=Ke,I=De}ae[I]=Te},Id.prototype._down=function(I){for(var W=this,ae=W.data,de=W.compare,Te=this.length>>1,De=ae[I];I<Te;){var Ke=(I<<1)+1,ut=ae[Ke],wt=Ke+1;if(wt<this.length&&de(ae[wt],ut)<0&&(Ke=wt,ut=ae[wt]),de(ut,De)>=0)break;ae[I]=ut,I=Ke}ae[I]=De};function gL(D,I){return D<I?-1:D>I?1:0}function yL(D,I,W){I===void 0&&(I=1),W===void 0&&(W=!1);for(var ae=1/0,de=1/0,Te=-1/0,De=-1/0,Ke=D[0],ut=0;ut<Ke.length;ut++){var wt=Ke[ut];(!ut||wt.x<ae)&&(ae=wt.x),(!ut||wt.y<de)&&(de=wt.y),(!ut||wt.x>Te)&&(Te=wt.x),(!ut||wt.y>De)&&(De=wt.y)}var Ct=Te-ae,Wt=De-de,ar=Math.min(Ct,Wt),er=ar/2,Tr=new Id([],mL);if(ar===0)return new r(ae,de);for(var Ur=ae;Ur<Te;Ur+=ar)for(var fn=de;fn<De;fn+=ar)Tr.push(new _d(Ur+er,fn+er,er,D));for(var rn=bL(D),Rn=Tr.length;Tr.length;){var An=Tr.pop();(An.d>rn.d||!rn.d)&&(rn=An,W&&console.log("found best %d after %d probes",Math.round(1e4*An.d)/1e4,Rn)),!(An.max-rn.d<=I)&&(er=An.h/2,Tr.push(new _d(An.p.x-er,An.p.y-er,er,D)),Tr.push(new _d(An.p.x+er,An.p.y-er,er,D)),Tr.push(new _d(An.p.x-er,An.p.y+er,er,D)),Tr.push(new _d(An.p.x+er,An.p.y+er,er,D)),Rn+=4)}return W&&(console.log("num probes: "+Rn),console.log("best distance: "+rn.d)),rn.p}function mL(D,I){return I.max-D.max}function _d(D,I,W,ae){this.p=new r(D,I),this.h=W,this.d=xL(this.p,ae),this.max=this.d+this.h*Math.SQRT2}function xL(D,I){for(var W=!1,ae=1/0,de=0;de<I.length;de++)for(var Te=I[de],De=0,Ke=Te.length,ut=Ke-1;De<Ke;ut=De++){var wt=Te[De],Ct=Te[ut];wt.y>D.y!=Ct.y>D.y&&D.x<(Ct.x-wt.x)*(D.y-wt.y)/(Ct.y-wt.y)+wt.x&&(W=!W),ae=Math.min(ae,Ec(D,wt,Ct))}return(W?1:-1)*Math.sqrt(ae)}function bL(D){for(var I=0,W=0,ae=0,de=D[0],Te=0,De=de.length,Ke=De-1;Te<De;Ke=Te++){var ut=de[Te],wt=de[Ke],Ct=ut.x*wt.y-wt.x*ut.y;W+=(ut.x+wt.x)*Ct,ae+=(ut.y+wt.y)*Ct,I+=Ct*3}return new _d(W/I,ae/I,0,D)}var zd=7,Ex=Number.POSITIVE_INFINITY;function W5(D,I){function W(de,Te){var De=0,Ke=0;Te<0&&(Te=0);var ut=Te/Math.sqrt(2);switch(de){case"top-right":case"top-left":Ke=ut-zd;break;case"bottom-right":case"bottom-left":Ke=-ut+zd;break;case"bottom":Ke=-Te+zd;break;case"top":Ke=Te-zd;break}switch(de){case"top-right":case"bottom-right":De=-ut;break;case"top-left":case"bottom-left":De=ut;break;case"left":De=Te;break;case"right":De=-Te;break}return[De,Ke]}function ae(de,Te,De){var Ke=0,ut=0;switch(Te=Math.abs(Te),De=Math.abs(De),de){case"top-right":case"top-left":case"top":ut=De-zd;break;case"bottom-right":case"bottom-left":case"bottom":ut=-De+zd;break}switch(de){case"top-right":case"bottom-right":case"right":Ke=-Te;break;case"top-left":case"bottom-left":case"left":Ke=Te;break}return[Ke,ut]}return I[1]!==Ex?ae(D,I[0],I[1]):W(D,I[0])}function wL(D,I,W,ae,de,Te,De){D.createArrays();var Ke=512*D.overscaling;D.tilePixelRatio=Ea/Ke,D.compareText={},D.iconsNeedLinear=!1;var ut=D.layers[0].layout,wt=D.layers[0]._unevaluatedLayout._values,Ct={};if(D.textSizeData.kind==="composite"){var Wt=D.textSizeData,ar=Wt.minZoom,er=Wt.maxZoom;Ct.compositeTextSizes=[wt["text-size"].possiblyEvaluate(new Ma(ar),De),wt["text-size"].possiblyEvaluate(new Ma(er),De)]}if(D.iconSizeData.kind==="composite"){var Tr=D.iconSizeData,Ur=Tr.minZoom,fn=Tr.maxZoom;Ct.compositeIconSizes=[wt["icon-size"].possiblyEvaluate(new Ma(Ur),De),wt["icon-size"].possiblyEvaluate(new Ma(fn),De)]}Ct.layoutTextSize=wt["text-size"].possiblyEvaluate(new Ma(D.zoom+1),De),Ct.layoutIconSize=wt["icon-size"].possiblyEvaluate(new Ma(D.zoom+1),De),Ct.textMaxSize=wt["text-size"].possiblyEvaluate(new Ma(18));for(var rn=ut.get("text-line-height")*$o,Rn=ut.get("text-rotation-alignment")==="map"&&ut.get("symbol-placement")!=="point",An=ut.get("text-keep-upright"),Ln=ut.get("text-size"),Fn=function(){var ia=ua[Zn],Aa=ut.get("text-font").evaluate(ia,{},De).join(","),ya=Ln.evaluate(ia,{},De),Ta=Ct.layoutTextSize.evaluate(ia,{},De),Va=Ct.layoutIconSize.evaluate(ia,{},De),Sa={horizontal:{},vertical:void 0},Pa=ia.text,ja=[0,0];if(Pa){var Na=Pa.toString(),fi=ut.get("text-letter-spacing").evaluate(ia,{},De)*$o,Ai=Rr(Na)?fi:0,ci=ut.get("text-anchor").evaluate(ia,{},De),hi=ut.get("text-variable-anchor");if(!hi){var ii=ut.get("text-radial-offset").evaluate(ia,{},De);ii?ja=W5(ci,[ii*$o,Ex]):ja=ut.get("text-offset").evaluate(ia,{},De).map(function(Rc){return Rc*$o})}var Li=Rn?"center":ut.get("text-justify").evaluate(ia,{},De),Ri=ut.get("symbol-placement"),Ki=Ri==="point"?ut.get("text-max-width").evaluate(ia,{},De)*$o:0,ao=function(){D.allowVerticalPlacement&&nr(Na)&&(Sa.vertical=iy(Pa,I,W,de,Aa,Ki,rn,ci,"left",Ai,ja,Cl.vertical,!0,Ri,Ta,ya))};if(!Rn&&hi){for(var Uo=Li==="auto"?hi.map(function(Rc){return Cx(Rc)}):[Li],So=!1,us=0;us<Uo.length;us++){var fs=Uo[us];if(!Sa.horizontal[fs])if(So)Sa.horizontal[fs]=Sa.horizontal[0];else{var Vo=iy(Pa,I,W,de,Aa,Ki,rn,"center",fs,Ai,ja,Cl.horizontal,!1,Ri,Ta,ya);Vo&&(Sa.horizontal[fs]=Vo,So=Vo.positionedLines.length===1)}}ao()}else{Li==="auto"&&(Li=Cx(ci));var Cs=iy(Pa,I,W,de,Aa,Ki,rn,ci,Li,Ai,ja,Cl.horizontal,!1,Ri,Ta,ya);Cs&&(Sa.horizontal[Li]=Cs),ao(),nr(Na)&&Rn&&An&&(Sa.vertical=iy(Pa,I,W,de,Aa,Ki,rn,ci,Li,Ai,ja,Cl.vertical,!1,Ri,Ta,ya))}}var Ls=void 0,Io=!1;if(ia.icon&&ia.icon.name){var Ps=ae[ia.icon.name];Ps&&(Ls=cL(de[ia.icon.name],ut.get("icon-offset").evaluate(ia,{},De),ut.get("icon-anchor").evaluate(ia,{},De)),Io=Ps.sdf,D.sdfIcons===void 0?D.sdfIcons=Ps.sdf:D.sdfIcons!==Ps.sdf&&U("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ps.pixelRatio!==D.pixelRatio||ut.get("icon-rotate").constantOr(1)!==0)&&(D.iconsNeedLinear=!0))}var Ll=Y5(Sa.horizontal)||Sa.vertical;D.iconsInText=Ll?Ll.iconsInText:!1,(Ll||Ls)&&TL(D,ia,Sa,Ls,ae,Ct,Ta,Va,ja,Io,De)},Zn=0,ua=D.features;Zn<ua.length;Zn+=1)Fn();Te&&D.generateCollisionDebugBuffers()}function Cx(D){switch(D){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function TL(D,I,W,ae,de,Te,De,Ke,ut,wt,Ct){var Wt=Te.textMaxSize.evaluate(I,{});Wt===void 0&&(Wt=De);var ar=D.layers[0].layout,er=ar.get("icon-offset").evaluate(I,{},Ct),Tr=Y5(W.horizontal),Ur=24,fn=De/Ur,rn=D.tilePixelRatio*fn,Rn=D.tilePixelRatio*Wt/Ur,An=D.tilePixelRatio*Ke,Ln=D.tilePixelRatio*ar.get("symbol-spacing"),Fn=ar.get("text-padding")*D.tilePixelRatio,Zn=ar.get("icon-padding")*D.tilePixelRatio,ua=ar.get("text-max-angle")/180*Math.PI,ia=ar.get("text-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",Aa=ar.get("icon-rotation-alignment")==="map"&&ar.get("symbol-placement")!=="point",ya=ar.get("symbol-placement"),Ta=Ln/2,Va=ar.get("icon-text-fit"),Sa;ae&&Va!=="none"&&(D.allowVerticalPlacement&&W.vertical&&(Sa=I5(ae,W.vertical,Va,ar.get("icon-text-fit-padding"),er,fn)),Tr&&(ae=I5(ae,Tr,Va,ar.get("icon-text-fit-padding"),er,fn)));var Pa=function(Ud,Ru){Ru.x<0||Ru.x>=Ea||Ru.y<0||Ru.y>=Ea||AL(D,Ru,Ud,W,ae,de,Sa,D.layers[0],D.collisionBoxArray,I.index,I.sourceLayerIndex,D.index,rn,Fn,ia,ut,An,Zn,Aa,er,I,Te,wt,Ct,De)};if(ya==="line")for(var ja=0,Na=V5(I.geometry,0,0,Ea,Ea);ja<Na.length;ja+=1)for(var fi=Na[ja],Ai=dL(fi,Ln,ua,W.vertical||Tr,ae,Ur,Rn,D.overscaling,Ea),ci=0,hi=Ai;ci<hi.length;ci+=1){var ii=hi[ci],Li=Tr;(!Li||!SL(D,Li.text,Ta,ii))&&Pa(fi,ii)}else if(ya==="line-center")for(var Ri=0,Ki=I.geometry;Ri<Ki.length;Ri+=1){var ao=Ki[Ri];if(ao.length>1){var Uo=vL(ao,ua,W.vertical||Tr,ae,Ur,Rn);Uo&&Pa(ao,Uo)}}else if(I.type==="Polygon")for(var So=0,us=yx(I.geometry,0);So<us.length;So+=1){var fs=us[So],Vo=yL(fs,16);Pa(fs[0],new kd(Vo.x,Vo.y,0))}else if(I.type==="LineString")for(var Cs=0,Ls=I.geometry;Cs<Ls.length;Cs+=1){var Io=Ls[Cs];Pa(Io,new kd(Io[0].x,Io[0].y,0))}else if(I.type==="Point")for(var Ps=0,Ll=I.geometry;Ps<Ll.length;Ps+=1)for(var Rc=Ll[Ps],kh=0,Dh=Rc;kh<Dh.length;kh+=1){var Ih=Dh[kh];Pa([Ih],new kd(Ih.x,Ih.y,0))}}var a0=255,Ph=a0*df;function j5(D,I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr){var Ur=pL(I,W,Ke,de,Te,De,ae,D.allowVerticalPlacement),fn=D.textSizeData,rn=null;fn.kind==="source"?(rn=[df*de.layout.get("text-size").evaluate(De,{})],rn[0]>Ph&&U(D.layerIds[0]+': Value for "text-size" is >= '+a0+'. Reduce your "text-size".')):fn.kind==="composite"&&(rn=[df*er.compositeTextSizes[0].evaluate(De,{},Tr),df*er.compositeTextSizes[1].evaluate(De,{},Tr)],(rn[0]>Ph||rn[1]>Ph)&&U(D.layerIds[0]+': Value for "text-size" is >= '+a0+'. Reduce your "text-size".')),D.addSymbols(D.text,Ur,rn,Ke,Te,De,wt,I,ut.lineStartIndex,ut.lineLength,ar,Tr);for(var Rn=0,An=Ct;Rn<An.length;Rn+=1){var Ln=An[Rn];Wt[Ln]=D.text.placedSymbolArray.length-1}return Ur.length*4}function Y5(D){for(var I in D)return D[I];return null}function AL(D,I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar,er,Tr,Ur,fn,rn,Rn,An,Ln,Fn,Zn,ua,ia){var Aa,ya=D.addToLineVertexArray(I,W),Ta,Va,Sa,Pa,ja=0,Na=0,fi=0,Ai=0,ci=-1,hi=-1,ii={},Li=ye(""),Ri=0,Ki=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Aa=Ke.layout.get("text-offset").evaluate(Ln,{},ua).map(function(s0){return s0*$o}),Ri=Aa[0],Ki=Aa[1]):(Ri=Ke.layout.get("text-radial-offset").evaluate(Ln,{},ua)*$o,Ki=Ex),D.allowVerticalPlacement&&ae.vertical){var ao=Ke.layout.get("text-rotate").evaluate(Ln,{},ua),Uo=ao+90,So=ae.vertical;Sa=new uy(ut,I,wt,Ct,Wt,So,ar,er,Tr,Uo),De&&(Pa=new uy(ut,I,wt,Ct,Wt,De,fn,rn,Tr,Uo))}if(de){var us=Ke.layout.get("icon-rotate").evaluate(Ln,{}),fs=Ke.layout.get("icon-text-fit")!=="none",Vo=H5(de,us,Zn,fs),Cs=De?H5(De,us,Zn,fs):void 0;Va=new uy(ut,I,wt,Ct,Wt,de,fn,rn,!1,us),ja=Vo.length*4;var Ls=D.iconSizeData,Io=null;Ls.kind==="source"?(Io=[df*Ke.layout.get("icon-size").evaluate(Ln,{})],Io[0]>Ph&&U(D.layerIds[0]+': Value for "icon-size" is >= '+a0+'. Reduce your "icon-size".')):Ls.kind==="composite"&&(Io=[df*Fn.compositeIconSizes[0].evaluate(Ln,{},ua),df*Fn.compositeIconSizes[1].evaluate(Ln,{},ua)],(Io[0]>Ph||Io[1]>Ph)&&U(D.layerIds[0]+': Value for "icon-size" is >= '+a0+'. Reduce your "icon-size".')),D.addSymbols(D.icon,Vo,Io,An,Rn,Ln,!1,I,ya.lineStartIndex,ya.lineLength,-1,ua),ci=D.icon.placedSymbolArray.length-1,Cs&&(Na=Cs.length*4,D.addSymbols(D.icon,Cs,Io,An,Rn,Ln,Cl.vertical,I,ya.lineStartIndex,ya.lineLength,-1,ua),hi=D.icon.placedSymbolArray.length-1)}for(var Ps in ae.horizontal){var Ll=ae.horizontal[Ps];if(!Ta){Li=ye(Ll.text);var Rc=Ke.layout.get("text-rotate").evaluate(Ln,{},ua);Ta=new uy(ut,I,wt,Ct,Wt,Ll,ar,er,Tr,Rc)}var kh=Ll.positionedLines.length===1;if(fi+=j5(D,I,Ll,Te,Ke,Tr,Ln,Ur,ya,ae.vertical?Cl.horizontal:Cl.horizontalOnly,kh?Object.keys(ae.horizontal):[Ps],ii,ci,Fn,ua),kh)break}ae.vertical&&(Ai+=j5(D,I,ae.vertical,Te,Ke,Tr,Ln,Ur,ya,Cl.vertical,["vertical"],ii,hi,Fn,ua));var Dh=Ta?Ta.boxStartIndex:D.collisionBoxArray.length,Ih=Ta?Ta.boxEndIndex:D.collisionBoxArray.length,Ud=Sa?Sa.boxStartIndex:D.collisionBoxArray.length,Ru=Sa?Sa.boxEndIndex:D.collisionBoxArray.length,dy=Va?Va.boxStartIndex:D.collisionBoxArray.length,Ix=Va?Va.boxEndIndex:D.collisionBoxArray.length,py=Pa?Pa.boxStartIndex:D.collisionBoxArray.length,_x=Pa?Pa.boxEndIndex:D.collisionBoxArray.length,Kl=-1,Vd=function(s0,lT){return s0&&s0.circleDiameter?Math.max(s0.circleDiameter,lT):lT};Kl=Vd(Ta,Kl),Kl=Vd(Sa,Kl),Kl=Vd(Va,Kl),Kl=Vd(Pa,Kl);var gy=Kl>-1?1:0;gy&&(Kl*=ia/$o),D.glyphOffsetArray.length>=Ti.MAX_GLYPHS&&U("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ln.sortKey!==void 0&&D.addToSortKeyRanges(D.symbolInstances.length,Ln.sortKey),D.symbolInstances.emplaceBack(I.x,I.y,ii.right>=0?ii.right:-1,ii.center>=0?ii.center:-1,ii.left>=0?ii.left:-1,ii.vertical||-1,ci,hi,Li,Dh,Ih,Ud,Ru,dy,Ix,py,_x,wt,fi,Ai,ja,Na,gy,0,ar,Ri,Ki,Kl)}function SL(D,I,W,ae){var de=D.compareText;if(!(I in de))de[I]=[];else for(var Te=de[I],De=Te.length-1;De>=0;De--)if(ae.dist(Te[De])<W)return!0;return de[I].push(ae),!1}var ML=Cd.VectorTileFeature.types,EL=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function fy(D,I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar){var er=Ke?Math.min(Ph,Math.round(Ke[0])):0,Tr=Ke?Math.min(Ph,Math.round(Ke[1])):0;D.emplaceBack(I,W,Math.round(ae*32),Math.round(de*32),Te,De,(er<<1)+(ut?1:0),Tr,wt*16,Ct*16,Wt*256,ar*256)}function Lx(D,I,W){D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W),D.emplaceBack(I.x,I.y,W)}function CL(D){for(var I=0,W=D.sections;I<W.length;I+=1){var ae=W[I];if(tn(ae.text))return!0}return!1}var Fd=function(I){this.layoutVertexArray=new Hf,this.indexArray=new ff,this.programConfigurations=I,this.segments=new bo,this.dynamicLayoutVertexArray=new Vp,this.opacityVertexArray=new Hp,this.placedSymbolArray=new jp};Fd.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Fd.prototype.upload=function(I,W,ae,de){this.isEmpty()||(ae&&(this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,C9.members),this.indexBuffer=I.createIndexBuffer(this.indexArray,W),this.dynamicLayoutVertexBuffer=I.createVertexBuffer(this.dynamicLayoutVertexArray,L9.members,!0),this.opacityVertexBuffer=I.createVertexBuffer(this.opacityVertexArray,EL,!0),this.opacityVertexBuffer.itemSize=1),(ae||de)&&this.programConfigurations.upload(I))},Fd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Be("SymbolBuffers",Fd);var i0=function(I,W,ae){this.layoutVertexArray=new I,this.layoutAttributes=W,this.indexArray=new ae,this.segments=new bo,this.collisionVertexArray=new Us};i0.prototype.upload=function(I){this.layoutVertexBuffer=I.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=I.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=I.createVertexBuffer(this.collisionVertexArray,P9.members,!0)},i0.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Be("CollisionBuffers",i0);var Ti=function(I){this.collisionBoxArray=I.collisionBoxArray,this.zoom=I.zoom,this.overscaling=I.overscaling,this.layers=I.layers,this.layerIds=this.layers.map(function(ut){return ut.id}),this.index=I.index,this.pixelRatio=I.pixelRatio,this.sourceLayerIndex=I.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Td([]),this.placementViewportMatrix=Td([]);var W=this.layers[0],ae=W._unevaluatedLayout._values;this.textSizeData=Mx(this.zoom,ae["text-size"]),this.iconSizeData=Mx(this.zoom,ae["icon-size"]);var de=this.layers[0].layout,Te=de.get("symbol-sort-key"),De=de.get("symbol-z-order");this.canOverlap=de.get("text-allow-overlap")||de.get("icon-allow-overlap")||de.get("text-ignore-placement")||de.get("icon-ignore-placement"),this.sortFeaturesByKey=De!=="viewport-y"&&Te.constantOr(1)!==void 0;var Ke=De==="viewport-y"||De==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&this.canOverlap,de.get("symbol-placement")==="point"&&(this.writingModes=de.get("text-writing-mode").map(function(ut){return Cl[ut]})),this.stateDependentLayerIds=this.layers.filter(function(ut){return ut.isStateDependent()}).map(function(ut){return ut.id}),this.sourceID=I.sourceID};Ti.prototype.createArrays=function(){this.text=new Fd(new ga(this.layers,this.zoom,function(I){return/^text/.test(I)})),this.icon=new Fd(new ga(this.layers,this.zoom,function(I){return/^icon/.test(I)})),this.glyphOffsetArray=new Yg,this.lineVertexArray=new Yl,this.symbolInstances=new jg},Ti.prototype.calculateGlyphDependencies=function(I,W,ae,de,Te){for(var De=0;De<I.length;De++)if(W[I.charCodeAt(De)]=!0,(ae||de)&&Te){var Ke=e0[I.charAt(De)];Ke&&(W[Ke.charCodeAt(0)]=!0)}},Ti.prototype.populate=function(I,W,ae){var de=this.layers[0],Te=de.layout,De=Te.get("text-font"),Ke=Te.get("text-field"),ut=Te.get("icon-image"),wt=(Ke.value.kind!=="constant"||Ke.value.value instanceof lo&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(De.value.kind!=="constant"||De.value.value.length>0),Ct=ut.value.kind!=="constant"||!!ut.value.value||Object.keys(ut.parameters).length>0,Wt=Te.get("symbol-sort-key");if(this.features=[],!(!wt&&!Ct)){for(var ar=W.iconDependencies,er=W.glyphDependencies,Tr=W.availableImages,Ur=new Ma(this.zoom),fn=0,rn=I;fn<rn.length;fn+=1){var Rn=rn[fn],An=Rn.feature,Ln=Rn.id,Fn=Rn.index,Zn=Rn.sourceLayerIndex,ua=de._featureFilter.needGeometry,ia=Ci(An,ua);if(de._featureFilter.filter(Ur,ia,ae)){ua||(ia.geometry=ai(An));var Aa=void 0;if(wt){var ya=de.getValueAndResolveTokens("text-field",ia,ae,Tr),Ta=lo.factory(ya);CL(Ta)&&(this.hasRTLText=!0),(!this.hasRTLText||Fa()==="unavailable"||this.hasRTLText&&na.isParsed())&&(Aa=D9(Ta,de,ia))}var Va=void 0;if(Ct){var Sa=de.getValueAndResolveTokens("icon-image",ia,ae,Tr);Sa instanceof Fo?Va=Sa:Va=Fo.fromString(Sa)}if(!(!Aa&&!Va)){var Pa=this.sortFeaturesByKey?Wt.evaluate(ia,{},ae):void 0,ja={id:Ln,text:Aa,icon:Va,index:Fn,sourceLayerIndex:Zn,geometry:ia.geometry,properties:An.properties,type:ML[An.type],sortKey:Pa};if(this.features.push(ja),Va&&(ar[Va.name]=!0),Aa){var Na=De.evaluate(ia,{},ae).join(","),fi=Te.get("text-rotation-alignment")==="map"&&Te.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Cl.vertical)>=0;for(var Ai=0,ci=Aa.sections;Ai<ci.length;Ai+=1){var hi=ci[Ai];if(hi.image)ar[hi.image.name]=!0;else{var ii=nr(Aa.toString()),Li=hi.fontStack||Na,Ri=er[Li]=er[Li]||{};this.calculateGlyphDependencies(hi.text,Ri,fi,this.allowVerticalPlacement,ii)}}}}}}Te.get("symbol-placement")==="line"&&(this.features=I9(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Ki,ao){return Ki.sortKey-ao.sortKey})}},Ti.prototype.update=function(I,W,ae){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(I,W,this.layers,ae),this.icon.programConfigurations.updatePaintArrays(I,W,this.layers,ae))},Ti.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Ti.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Ti.prototype.upload=function(I){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(I),this.iconCollisionBox.upload(I)),this.text.upload(I,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(I,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Ti.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Ti.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Ti.prototype.addToLineVertexArray=function(I,W){var ae=this.lineVertexArray.length;if(I.segment!==void 0){for(var de=I.dist(W[I.segment+1]),Te=I.dist(W[I.segment]),De={},Ke=I.segment+1;Ke<W.length;Ke++)De[Ke]={x:W[Ke].x,y:W[Ke].y,tileUnitDistanceFromAnchor:de},Ke<W.length-1&&(de+=W[Ke+1].dist(W[Ke]));for(var ut=I.segment||0;ut>=0;ut--)De[ut]={x:W[ut].x,y:W[ut].y,tileUnitDistanceFromAnchor:Te},ut>0&&(Te+=W[ut-1].dist(W[ut]));for(var wt=0;wt<W.length;wt++){var Ct=De[wt];this.lineVertexArray.emplaceBack(Ct.x,Ct.y,Ct.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ae,lineLength:this.lineVertexArray.length-ae}},Ti.prototype.addSymbols=function(I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt,ar){for(var er=I.indexArray,Tr=I.layoutVertexArray,Ur=I.segments.prepareSegment(4*W.length,Tr,er,this.canOverlap?De.sortKey:void 0),fn=this.glyphOffsetArray.length,rn=Ur.vertexLength,Rn=this.allowVerticalPlacement&&Ke===Cl.vertical?Math.PI/2:0,An=De.text&&De.text.sections,Ln=0;Ln<W.length;Ln++){var Fn=W[Ln],Zn=Fn.tl,ua=Fn.tr,ia=Fn.bl,Aa=Fn.br,ya=Fn.tex,Ta=Fn.pixelOffsetTL,Va=Fn.pixelOffsetBR,Sa=Fn.minFontScaleX,Pa=Fn.minFontScaleY,ja=Fn.glyphOffset,Na=Fn.isSDF,fi=Fn.sectionIndex,Ai=Ur.vertexLength,ci=ja[1];fy(Tr,ut.x,ut.y,Zn.x,ci+Zn.y,ya.x,ya.y,ae,Na,Ta.x,Ta.y,Sa,Pa),fy(Tr,ut.x,ut.y,ua.x,ci+ua.y,ya.x+ya.w,ya.y,ae,Na,Va.x,Ta.y,Sa,Pa),fy(Tr,ut.x,ut.y,ia.x,ci+ia.y,ya.x,ya.y+ya.h,ae,Na,Ta.x,Va.y,Sa,Pa),fy(Tr,ut.x,ut.y,Aa.x,ci+Aa.y,ya.x+ya.w,ya.y+ya.h,ae,Na,Va.x,Va.y,Sa,Pa),Lx(I.dynamicLayoutVertexArray,ut,Rn),er.emplaceBack(Ai,Ai+1,Ai+2),er.emplaceBack(Ai+1,Ai+2,Ai+3),Ur.vertexLength+=4,Ur.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ja[0]),(Ln===W.length-1||fi!==W[Ln+1].sectionIndex)&&I.programConfigurations.populatePaintArrays(Tr.length,De,De.index,{},ar,An&&An[fi])}I.placedSymbolArray.emplaceBack(ut.x,ut.y,fn,this.glyphOffsetArray.length-fn,rn,wt,Ct,ut.segment,ae?ae[0]:0,ae?ae[1]:0,de[0],de[1],Ke,0,!1,0,Wt)},Ti.prototype._addCollisionDebugVertex=function(I,W,ae,de,Te,De){return W.emplaceBack(0,0),I.emplaceBack(ae.x,ae.y,de,Te,Math.round(De.x),Math.round(De.y))},Ti.prototype.addCollisionDebugVertices=function(I,W,ae,de,Te,De,Ke){var ut=Te.segments.prepareSegment(4,Te.layoutVertexArray,Te.indexArray),wt=ut.vertexLength,Ct=Te.layoutVertexArray,Wt=Te.collisionVertexArray,ar=Ke.anchorX,er=Ke.anchorY;this._addCollisionDebugVertex(Ct,Wt,De,ar,er,new r(I,W)),this._addCollisionDebugVertex(Ct,Wt,De,ar,er,new r(ae,W)),this._addCollisionDebugVertex(Ct,Wt,De,ar,er,new r(ae,de)),this._addCollisionDebugVertex(Ct,Wt,De,ar,er,new r(I,de)),ut.vertexLength+=4;var Tr=Te.indexArray;Tr.emplaceBack(wt,wt+1),Tr.emplaceBack(wt+1,wt+2),Tr.emplaceBack(wt+2,wt+3),Tr.emplaceBack(wt+3,wt),ut.primitiveLength+=4},Ti.prototype.addDebugCollisionBoxes=function(I,W,ae,de){for(var Te=I;Te<W;Te++){var De=this.collisionBoxArray.get(Te),Ke=De.x1,ut=De.y1,wt=De.x2,Ct=De.y2;this.addCollisionDebugVertices(Ke,ut,wt,Ct,de?this.textCollisionBox:this.iconCollisionBox,De.anchorPoint,ae)}},Ti.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new i0(gd,b5.members,zv),this.iconCollisionBox=new i0(gd,b5.members,zv);for(var I=0;I<this.symbolInstances.length;I++){var W=this.symbolInstances.get(I);this.addDebugCollisionBoxes(W.textBoxStartIndex,W.textBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W,!0),this.addDebugCollisionBoxes(W.iconBoxStartIndex,W.iconBoxEndIndex,W,!1),this.addDebugCollisionBoxes(W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex,W,!1)}},Ti.prototype._deserializeCollisionBoxesForSymbol=function(I,W,ae,de,Te,De,Ke,ut,wt){for(var Ct={},Wt=W;Wt<ae;Wt++){var ar=I.get(Wt);Ct.textBox={x1:ar.x1,y1:ar.y1,x2:ar.x2,y2:ar.y2,anchorPointX:ar.anchorPointX,anchorPointY:ar.anchorPointY},Ct.textFeatureIndex=ar.featureIndex;break}for(var er=de;er<Te;er++){var Tr=I.get(er);Ct.verticalTextBox={x1:Tr.x1,y1:Tr.y1,x2:Tr.x2,y2:Tr.y2,anchorPointX:Tr.anchorPointX,anchorPointY:Tr.anchorPointY},Ct.verticalTextFeatureIndex=Tr.featureIndex;break}for(var Ur=De;Ur<Ke;Ur++){var fn=I.get(Ur);Ct.iconBox={x1:fn.x1,y1:fn.y1,x2:fn.x2,y2:fn.y2,anchorPointX:fn.anchorPointX,anchorPointY:fn.anchorPointY},Ct.iconFeatureIndex=fn.featureIndex;break}for(var rn=ut;rn<wt;rn++){var Rn=I.get(rn);Ct.verticalIconBox={x1:Rn.x1,y1:Rn.y1,x2:Rn.x2,y2:Rn.y2,anchorPointX:Rn.anchorPointX,anchorPointY:Rn.anchorPointY},Ct.verticalIconFeatureIndex=Rn.featureIndex;break}return Ct},Ti.prototype.deserializeCollisionBoxes=function(I){this.collisionArrays=[];for(var W=0;W<this.symbolInstances.length;W++){var ae=this.symbolInstances.get(W);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(I,ae.textBoxStartIndex,ae.textBoxEndIndex,ae.verticalTextBoxStartIndex,ae.verticalTextBoxEndIndex,ae.iconBoxStartIndex,ae.iconBoxEndIndex,ae.verticalIconBoxStartIndex,ae.verticalIconBoxEndIndex))}},Ti.prototype.hasTextData=function(){return this.text.segments.get().length>0},Ti.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Ti.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Ti.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Ti.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Ti.prototype.addIndicesForPlacedSymbol=function(I,W){for(var ae=I.placedSymbolArray.get(W),de=ae.vertexStartIndex+ae.numGlyphs*4,Te=ae.vertexStartIndex;Te<de;Te+=4)I.indexArray.emplaceBack(Te,Te+1,Te+2),I.indexArray.emplaceBack(Te+1,Te+2,Te+3)},Ti.prototype.getSortedSymbolIndexes=function(I){if(this.sortedAngle===I&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var W=Math.sin(I),ae=Math.cos(I),de=[],Te=[],De=[],Ke=0;Ke<this.symbolInstances.length;++Ke){De.push(Ke);var ut=this.symbolInstances.get(Ke);de.push(Math.round(W*ut.anchorX+ae*ut.anchorY)|0),Te.push(ut.featureIndex)}return De.sort(function(wt,Ct){return de[wt]-de[Ct]||Te[Ct]-Te[wt]}),De},Ti.prototype.addToSortKeyRanges=function(I,W){var ae=this.sortKeyRanges[this.sortKeyRanges.length-1];ae&&ae.sortKey===W?ae.symbolInstanceEnd=I+1:this.sortKeyRanges.push({sortKey:W,symbolInstanceStart:I,symbolInstanceEnd:I+1})},Ti.prototype.sortFeatures=function(I){var W=this;if(this.sortFeaturesByY&&this.sortedAngle!==I&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(I),this.sortedAngle=I,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ae=0,de=this.symbolInstanceIndexes;ae<de.length;ae+=1){var Te=de[ae],De=this.symbolInstances.get(Te);this.featureSortOrder.push(De.featureIndex),[De.rightJustifiedTextSymbolIndex,De.centerJustifiedTextSymbolIndex,De.leftJustifiedTextSymbolIndex].forEach(function(Ke,ut,wt){Ke>=0&&wt.indexOf(Ke)===ut&&W.addIndicesForPlacedSymbol(W.text,Ke)}),De.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,De.verticalPlacedTextSymbolIndex),De.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.placedIconSymbolIndex),De.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,De.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Be("SymbolBucket",Ti,{omit:["layers","collisionBoxArray","features","compareText"]}),Ti.MAX_GLYPHS=65535,Ti.addDynamicAttributes=Lx;function LL(D,I){return I.replace(/{([^{}]+)}/g,function(W,ae){return ae in D?String(D[ae]):""})}var PL=new di({"symbol-placement":new ha(gr.layout_symbol["symbol-placement"]),"symbol-spacing":new ha(gr.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ha(gr.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ra(gr.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ha(gr.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ha(gr.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ha(gr.layout_symbol["icon-ignore-placement"]),"icon-optional":new ha(gr.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ha(gr.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ra(gr.layout_symbol["icon-size"]),"icon-text-fit":new ha(gr.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ha(gr.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ra(gr.layout_symbol["icon-image"]),"icon-rotate":new Ra(gr.layout_symbol["icon-rotate"]),"icon-padding":new ha(gr.layout_symbol["icon-padding"]),"icon-keep-upright":new ha(gr.layout_symbol["icon-keep-upright"]),"icon-offset":new Ra(gr.layout_symbol["icon-offset"]),"icon-anchor":new Ra(gr.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ha(gr.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ha(gr.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ha(gr.layout_symbol["text-rotation-alignment"]),"text-field":new Ra(gr.layout_symbol["text-field"]),"text-font":new Ra(gr.layout_symbol["text-font"]),"text-size":new Ra(gr.layout_symbol["text-size"]),"text-max-width":new Ra(gr.layout_symbol["text-max-width"]),"text-line-height":new ha(gr.layout_symbol["text-line-height"]),"text-letter-spacing":new Ra(gr.layout_symbol["text-letter-spacing"]),"text-justify":new Ra(gr.layout_symbol["text-justify"]),"text-radial-offset":new Ra(gr.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ha(gr.layout_symbol["text-variable-anchor"]),"text-anchor":new Ra(gr.layout_symbol["text-anchor"]),"text-max-angle":new ha(gr.layout_symbol["text-max-angle"]),"text-writing-mode":new ha(gr.layout_symbol["text-writing-mode"]),"text-rotate":new Ra(gr.layout_symbol["text-rotate"]),"text-padding":new ha(gr.layout_symbol["text-padding"]),"text-keep-upright":new ha(gr.layout_symbol["text-keep-upright"]),"text-transform":new Ra(gr.layout_symbol["text-transform"]),"text-offset":new Ra(gr.layout_symbol["text-offset"]),"text-allow-overlap":new ha(gr.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ha(gr.layout_symbol["text-ignore-placement"]),"text-optional":new ha(gr.layout_symbol["text-optional"])}),RL=new di({"icon-opacity":new Ra(gr.paint_symbol["icon-opacity"]),"icon-color":new Ra(gr.paint_symbol["icon-color"]),"icon-halo-color":new Ra(gr.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ra(gr.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ra(gr.paint_symbol["icon-halo-blur"]),"icon-translate":new ha(gr.paint_symbol["icon-translate"]),"icon-translate-anchor":new ha(gr.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ra(gr.paint_symbol["text-opacity"]),"text-color":new Ra(gr.paint_symbol["text-color"],{runtimeType:zn,getOverride:function(D){return D.textColor},hasOverride:function(D){return!!D.textColor}}),"text-halo-color":new Ra(gr.paint_symbol["text-halo-color"]),"text-halo-width":new Ra(gr.paint_symbol["text-halo-width"]),"text-halo-blur":new Ra(gr.paint_symbol["text-halo-blur"]),"text-translate":new ha(gr.paint_symbol["text-translate"]),"text-translate-anchor":new ha(gr.paint_symbol["text-translate-anchor"])}),Px={paint:RL,layout:PL},Od=function(I){this.type=I.property.overrides?I.property.overrides.runtimeType:Yr,this.defaultValue=I};Od.prototype.evaluate=function(I){if(I.formattedSection){var W=this.defaultValue.property.overrides;if(W&&W.hasOverride(I.formattedSection))return W.getOverride(I.formattedSection)}return I.feature&&I.featureState?this.defaultValue.evaluate(I.feature,I.featureState):this.defaultValue.property.specification.default},Od.prototype.eachChild=function(I){if(!this.defaultValue.isConstant()){var W=this.defaultValue.value;I(W._styleExpression.expression)}},Od.prototype.outputDefined=function(){return!1},Od.prototype.serialize=function(){return null},Be("FormatSectionOverride",Od,{omit:["defaultValue"]});var kL=function(D){function I(W){D.call(this,W,Px)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.recalculate=function(ae,de){if(D.prototype.recalculate.call(this,ae,de),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Te=this.layout.get("text-writing-mode");if(Te){for(var De=[],Ke=0,ut=Te;Ke<ut.length;Ke+=1){var wt=ut[Ke];De.indexOf(wt)<0&&De.push(wt)}this.layout._values["text-writing-mode"]=De}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},I.prototype.getValueAndResolveTokens=function(ae,de,Te,De){var Ke=this.layout.get(ae).evaluate(de,{},Te,De),ut=this._unevaluatedLayout._values[ae];return!ut.isDataDriven()&&!ef(ut.value)&&Ke?LL(de.properties,Ke):Ke},I.prototype.createBucket=function(ae){return new Ti(ae)},I.prototype.queryRadius=function(){return 0},I.prototype.queryIntersectsFeature=function(){return!1},I.prototype._setPaintOverrides=function(){for(var ae=0,de=Px.paint.overridableProperties;ae<de.length;ae+=1){var Te=de[ae];if(I.hasPaintOverride(this.layout,Te)){var De=this.paint.get(Te),Ke=new Od(De),ut=new wl(Ke,De.property.specification),wt=null;De.value.kind==="constant"||De.value.kind==="source"?wt=new to("source",ut):wt=new Bs("composite",ut,De.value.zoomStops,De.value._interpolationType),this.paint._values[Te]=new Mi(De.property,wt,De.parameters)}}},I.prototype._handleOverridablePaintPropertyUpdate=function(ae,de,Te){return!this.layout||de.isDataDriven()||Te.isDataDriven()?!1:I.hasPaintOverride(this.layout,ae)},I.hasPaintOverride=function(ae,de){var Te=ae.get("text-field"),De=Px.paint.properties[de],Ke=!1,ut=function(Wt){for(var ar=0,er=Wt;ar<er.length;ar+=1){var Tr=er[ar];if(De.overrides&&De.overrides.hasOverride(Tr)){Ke=!0;return}}};if(Te.value.kind==="constant"&&Te.value.value instanceof lo)ut(Te.value.value.sections);else if(Te.value.kind==="source"){var wt=function(Wt){if(!Ke)if(Wt instanceof Yi&&Gi(Wt.value)===ma){var ar=Wt.value;ut(ar.sections)}else Wt instanceof yo?ut(Wt.sections):Wt.eachChild(wt)},Ct=Te.value;Ct._styleExpression&&wt(Ct._styleExpression.expression)}return Ke},I}(Xi),DL=new di({"background-color":new ha(gr.paint_background["background-color"]),"background-pattern":new rs(gr.paint_background["background-pattern"]),"background-opacity":new ha(gr.paint_background["background-opacity"])}),IL={paint:DL},_L=function(D){function I(W){D.call(this,W,IL)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Xi),zL=new di({"raster-opacity":new ha(gr.paint_raster["raster-opacity"]),"raster-hue-rotate":new ha(gr.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ha(gr.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ha(gr.paint_raster["raster-brightness-max"]),"raster-saturation":new ha(gr.paint_raster["raster-saturation"]),"raster-contrast":new ha(gr.paint_raster["raster-contrast"]),"raster-resampling":new ha(gr.paint_raster["raster-resampling"]),"raster-fade-duration":new ha(gr.paint_raster["raster-fade-duration"])}),FL={paint:zL},OL=function(D){function I(W){D.call(this,W,FL)}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I}(Xi);function BL(D){var I=[],W=D.id;return W===void 0&&I.push({message:"layers."+W+': missing required property "id"'}),D.render===void 0&&I.push({message:"layers."+W+': missing required method "render"'}),D.renderingMode&&D.renderingMode!=="2d"&&D.renderingMode!=="3d"&&I.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),I}var NL=function(D){function I(W){D.call(this,W,{}),this.implementation=W}return D&&(I.__proto__=D),I.prototype=Object.create(D&&D.prototype),I.prototype.constructor=I,I.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},I.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},I.prototype.recalculate=function(){},I.prototype.updateTransitions=function(){},I.prototype.hasTransition=function(){},I.prototype.serialize=function(){},I.prototype.onAdd=function(ae){this.implementation.onAdd&&this.implementation.onAdd(ae,ae.painter.context.gl)},I.prototype.onRemove=function(ae){this.implementation.onRemove&&this.implementation.onRemove(ae,ae.painter.context.gl)},I}(Xi),UL={circle:u7,heatmap:v7,hillshade:g7,fill:H7,"fill-extrusion":u9,line:M9,symbol:kL,background:_L,raster:OL};function VL(D){return D.type==="custom"?new NL(D):new UL[D.type](D)}var Z5=i.HTMLImageElement,X5=i.HTMLCanvasElement,$5=i.HTMLVideoElement,K5=i.ImageData,cy=i.ImageBitmap,Nv=function(I,W,ae,de){this.context=I,this.format=ae,this.texture=I.gl.createTexture(),this.update(W,de)};Nv.prototype.update=function(I,W,ae){var de=I.width,Te=I.height,De=(!this.size||this.size[0]!==de||this.size[1]!==Te)&&!ae,Ke=this,ut=Ke.context,wt=ut.gl;if(this.useMipmap=!!(W&&W.useMipmap),wt.bindTexture(wt.TEXTURE_2D,this.texture),ut.pixelStoreUnpackFlipY.set(!1),ut.pixelStoreUnpack.set(1),ut.pixelStoreUnpackPremultiplyAlpha.set(this.format===wt.RGBA&&(!W||W.premultiply!==!1)),De)this.size=[de,Te],I instanceof Z5||I instanceof X5||I instanceof $5||I instanceof K5||cy&&I instanceof cy?wt.texImage2D(wt.TEXTURE_2D,0,this.format,this.format,wt.UNSIGNED_BYTE,I):wt.texImage2D(wt.TEXTURE_2D,0,this.format,de,Te,0,this.format,wt.UNSIGNED_BYTE,I.data);else{var Ct=ae||{x:0,y:0},Wt=Ct.x,ar=Ct.y;I instanceof Z5||I instanceof X5||I instanceof $5||I instanceof K5||cy&&I instanceof cy?wt.texSubImage2D(wt.TEXTURE_2D,0,Wt,ar,wt.RGBA,wt.UNSIGNED_BYTE,I):wt.texSubImage2D(wt.TEXTURE_2D,0,Wt,ar,de,Te,wt.RGBA,wt.UNSIGNED_BYTE,I.data)}this.useMipmap&&this.isSizePowerOfTwo()&&wt.generateMipmap(wt.TEXTURE_2D)},Nv.prototype.bind=function(I,W,ae){var de=this,Te=de.context,De=Te.gl;De.bindTexture(De.TEXTURE_2D,this.texture),ae===De.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ae=De.LINEAR),I!==this.filter&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MAG_FILTER,I),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_MIN_FILTER,ae||I),this.filter=I),W!==this.wrap&&(De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_S,W),De.texParameteri(De.TEXTURE_2D,De.TEXTURE_WRAP_T,W),this.wrap=W)},Nv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Nv.prototype.destroy=function(){var I=this.context,W=I.gl;W.deleteTexture(this.texture),this.texture=null};var Rx=function(I){var W=this;this._callback=I,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){W._triggered=!1,W._callback()})};Rx.prototype.trigger=function(){var I=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){I._triggered=!1,I._callback()},0))},Rx.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Bd=function(I,W,ae){this.target=I,this.parent=W,this.mapId=ae,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},P(["receive","process"],this),this.invoker=new Rx(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=q()?I:i};Bd.prototype.send=function(I,W,ae,de,Te){var De=this;Te===void 0&&(Te=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);ae&&(this.callbacks[Ke]=ae);var ut=he(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:I,hasCallback:!!ae,targetMapId:de,mustQueue:Te,sourceMapId:this.mapId,data:Et(W,ut)},ut),{cancel:function(){ae&&delete De.callbacks[Ke],De.target.postMessage({id:Ke,type:"<cancel>",targetMapId:de,sourceMapId:De.mapId})}}},Bd.prototype.receive=function(I){var W=I.data,ae=W.id;if(ae&&!(W.targetMapId&&this.mapId!==W.targetMapId))if(W.type==="<cancel>"){delete this.tasks[ae];var de=this.cancelCallbacks[ae];delete this.cancelCallbacks[ae],de&&de()}else q()||W.mustQueue?(this.tasks[ae]=W,this.taskQueue.push(ae),this.invoker.trigger()):this.processTask(ae,W)},Bd.prototype.process=function(){if(this.taskQueue.length){var I=this.taskQueue.shift(),W=this.tasks[I];delete this.tasks[I],this.taskQueue.length&&this.invoker.trigger(),W&&this.processTask(I,W)}},Bd.prototype.processTask=function(I,W){var ae=this;if(W.type==="<response>"){var de=this.callbacks[I];delete this.callbacks[I],de&&(W.error?de(bt(W.error)):de(null,bt(W.data)))}else{var Te=!1,De=he(this.globalScope)?void 0:[],Ke=W.hasCallback?function(ar,er){Te=!0,delete ae.cancelCallbacks[I],ae.target.postMessage({id:I,type:"<response>",sourceMapId:ae.mapId,error:ar?Et(ar):null,data:Et(er,De)},De)}:function(ar){Te=!0},ut=null,wt=bt(W.data);if(this.parent[W.type])ut=this.parent[W.type](W.sourceMapId,wt,Ke);else if(this.parent.getWorkerSource){var Ct=W.type.split("."),Wt=this.parent.getWorkerSource(W.sourceMapId,Ct[0],wt.source);ut=Wt[Ct[1]](wt,Ke)}else Ke(new Error("Could not find function "+W.type));!Te&&ut&&ut.cancel&&(this.cancelCallbacks[I]=ut.cancel)}},Bd.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function HL(D,I,W){I=Math.pow(2,W)-I-1;var ae=J5(D*256,I*256,W),de=J5((D+1)*256,(I+1)*256,W);return ae[0]+","+ae[1]+","+de[0]+","+de[1]}function J5(D,I,W){var ae=2*Math.PI*6378137/256/Math.pow(2,W),de=D*ae-2*Math.PI*6378137/2,Te=I*ae-2*Math.PI*6378137/2;return[de,Te]}var To=function(I,W){I&&(W?this.setSouthWest(I).setNorthEast(W):I.length===4?this.setSouthWest([I[0],I[1]]).setNorthEast([I[2],I[3]]):this.setSouthWest(I[0]).setNorthEast(I[1]))};To.prototype.setNorthEast=function(I){return this._ne=I instanceof Ui?new Ui(I.lng,I.lat):Ui.convert(I),this},To.prototype.setSouthWest=function(I){return this._sw=I instanceof Ui?new Ui(I.lng,I.lat):Ui.convert(I),this},To.prototype.extend=function(I){var W=this._sw,ae=this._ne,de,Te;if(I instanceof Ui)de=I,Te=I;else if(I instanceof To){if(de=I._sw,Te=I._ne,!de||!Te)return this}else{if(Array.isArray(I))if(I.length===4||I.every(Array.isArray)){var De=I;return this.extend(To.convert(De))}else{var Ke=I;return this.extend(Ui.convert(Ke))}return this}return!W&&!ae?(this._sw=new Ui(de.lng,de.lat),this._ne=new Ui(Te.lng,Te.lat)):(W.lng=Math.min(de.lng,W.lng),W.lat=Math.min(de.lat,W.lat),ae.lng=Math.max(Te.lng,ae.lng),ae.lat=Math.max(Te.lat,ae.lat)),this},To.prototype.getCenter=function(){return new Ui((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},To.prototype.getSouthWest=function(){return this._sw},To.prototype.getNorthEast=function(){return this._ne},To.prototype.getNorthWest=function(){return new Ui(this.getWest(),this.getNorth())},To.prototype.getSouthEast=function(){return new Ui(this.getEast(),this.getSouth())},To.prototype.getWest=function(){return this._sw.lng},To.prototype.getSouth=function(){return this._sw.lat},To.prototype.getEast=function(){return this._ne.lng},To.prototype.getNorth=function(){return this._ne.lat},To.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},To.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},To.prototype.isEmpty=function(){return!(this._sw&&this._ne)},To.prototype.contains=function(I){var W=Ui.convert(I),ae=W.lng,de=W.lat,Te=this._sw.lat<=de&&de<=this._ne.lat,De=this._sw.lng<=ae&&ae<=this._ne.lng;return this._sw.lng>this._ne.lng&&(De=this._sw.lng>=ae&&ae>=this._ne.lng),Te&&De},To.convert=function(I){return!I||I instanceof To?I:new To(I)};var Q5=63710088e-1,Ui=function(I,W){if(isNaN(I)||isNaN(W))throw new Error("Invalid LngLat object: ("+I+", "+W+")");if(this.lng=+I,this.lat=+W,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ui.prototype.wrap=function(){return new Ui(S(this.lng,-180,180),this.lat)},Ui.prototype.toArray=function(){return[this.lng,this.lat]},Ui.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ui.prototype.distanceTo=function(I){var W=Math.PI/180,ae=this.lat*W,de=I.lat*W,Te=Math.sin(ae)*Math.sin(de)+Math.cos(ae)*Math.cos(de)*Math.cos((I.lng-this.lng)*W),De=Q5*Math.acos(Math.min(Te,1));return De},Ui.prototype.toBounds=function(I){I===void 0&&(I=0);var W=40075017,ae=360*I/W,de=ae/Math.cos(Math.PI/180*this.lat);return new To(new Ui(this.lng-de,this.lat-ae),new Ui(this.lng+de,this.lat+ae))},Ui.convert=function(I){if(I instanceof Ui)return I;if(Array.isArray(I)&&(I.length===2||I.length===3))return new Ui(Number(I[0]),Number(I[1]));if(!Array.isArray(I)&&typeof I=="object"&&I!==null)return new Ui(Number("lng"in I?I.lng:I.lon),Number(I.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var q5=2*Math.PI*Q5;function eT(D){return q5*Math.cos(D*Math.PI/180)}function tT(D){return(180+D)/360}function rT(D){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+D*Math.PI/360)))/360}function nT(D,I){return D/eT(I)}function GL(D){return D*360-180}function kx(D){var I=180-D*360;return 360/Math.PI*Math.atan(Math.exp(I*Math.PI/180))-90}function WL(D,I){return D*eT(kx(I))}function jL(D){return 1/Math.cos(D*Math.PI/180)}var Uv=function(I,W,ae){ae===void 0&&(ae=0),this.x=+I,this.y=+W,this.z=+ae};Uv.fromLngLat=function(I,W){W===void 0&&(W=0);var ae=Ui.convert(I);return new Uv(tT(ae.lng),rT(ae.lat),nT(W,ae.lat))},Uv.prototype.toLngLat=function(){return new Ui(GL(this.x),kx(this.y))},Uv.prototype.toAltitude=function(){return WL(this.z,this.y)},Uv.prototype.meterInMercatorCoordinateUnits=function(){return 1/q5*jL(kx(this.y))};var Vv=function(I,W,ae){this.z=I,this.x=W,this.y=ae,this.key=o0(0,I,I,W,ae)};Vv.prototype.equals=function(I){return this.z===I.z&&this.x===I.x&&this.y===I.y},Vv.prototype.url=function(I,W){var ae=HL(this.x,this.y,this.z),de=YL(this.z,this.x,this.y);return I[(this.x+this.y)%I.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(W==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",de).replace("{bbox-epsg-3857}",ae)},Vv.prototype.getTilePoint=function(I){var W=Math.pow(2,this.z);return new r((I.x*W-this.x)*Ea,(I.y*W-this.y)*Ea)},Vv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var aT=function(I,W){this.wrap=I,this.canonical=W,this.key=o0(I,W.z,W.z,W.x,W.y)},Ao=function(I,W,ae,de,Te){this.overscaledZ=I,this.wrap=W,this.canonical=new Vv(ae,+de,+Te),this.key=o0(W,I,ae,de,Te)};Ao.prototype.equals=function(I){return this.overscaledZ===I.overscaledZ&&this.wrap===I.wrap&&this.canonical.equals(I.canonical)},Ao.prototype.scaledTo=function(I){var W=this.canonical.z-I;return I>this.canonical.z?new Ao(I,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ao(I,this.wrap,I,this.canonical.x>>W,this.canonical.y>>W)},Ao.prototype.calculateScaledKey=function(I,W){var ae=this.canonical.z-I;return I>this.canonical.z?o0(this.wrap*+W,I,this.canonical.z,this.canonical.x,this.canonical.y):o0(this.wrap*+W,I,I,this.canonical.x>>ae,this.canonical.y>>ae)},Ao.prototype.isChildOf=function(I){if(I.wrap!==this.wrap)return!1;var W=this.canonical.z-I.canonical.z;return I.overscaledZ===0||I.overscaledZ<this.overscaledZ&&I.canonical.x===this.canonical.x>>W&&I.canonical.y===this.canonical.y>>W},Ao.prototype.children=function(I){if(this.overscaledZ>=I)return[new Ao(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var W=this.canonical.z+1,ae=this.canonical.x*2,de=this.canonical.y*2;return[new Ao(W,this.wrap,W,ae,de),new Ao(W,this.wrap,W,ae+1,de),new Ao(W,this.wrap,W,ae,de+1),new Ao(W,this.wrap,W,ae+1,de+1)]},Ao.prototype.isLessThan=function(I){return this.wrap<I.wrap?!0:this.wrap>I.wrap?!1:this.overscaledZ<I.overscaledZ?!0:this.overscaledZ>I.overscaledZ?!1:this.canonical.x<I.canonical.x?!0:this.canonical.x>I.canonical.x?!1:this.canonical.y<I.canonical.y},Ao.prototype.wrapped=function(){return new Ao(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.unwrapTo=function(I){return new Ao(this.overscaledZ,I,this.canonical.z,this.canonical.x,this.canonical.y)},Ao.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ao.prototype.toUnwrapped=function(){return new aT(this.wrap,this.canonical)},Ao.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ao.prototype.getTilePoint=function(I){return this.canonical.getTilePoint(new Uv(I.x-this.wrap,I.y))};function o0(D,I,W,ae,de){D*=2,D<0&&(D=D*-1-1);var Te=1<<W;return(Te*Te*D+Te*de+ae).toString(36)+W.toString(36)+I.toString(36)}function YL(D,I,W){for(var ae="",de,Te=D;Te>0;Te--)de=1<<Te-1,ae+=(I&de?1:0)+(W&de?2:0);return ae}Be("CanonicalTileID",Vv),Be("OverscaledTileID",Ao,{omit:["posMatrix"]});var Lc=function(I,W,ae){if(this.uid=I,W.height!==W.width)throw new RangeError("DEM tiles must be square");if(ae&&ae!=="mapbox"&&ae!=="terrarium")return U('"'+ae+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=W.height;var de=this.dim=W.height-2;this.data=new Uint32Array(W.data.buffer),this.encoding=ae||"mapbox";for(var Te=0;Te<de;Te++)this.data[this._idx(-1,Te)]=this.data[this._idx(0,Te)],this.data[this._idx(de,Te)]=this.data[this._idx(de-1,Te)],this.data[this._idx(Te,-1)]=this.data[this._idx(Te,0)],this.data[this._idx(Te,de)]=this.data[this._idx(Te,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};Lc.prototype.get=function(I,W){var ae=new Uint8Array(this.data.buffer),de=this._idx(I,W)*4,Te=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Te(ae[de],ae[de+1],ae[de+2])},Lc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},Lc.prototype._idx=function(I,W){if(I<-1||I>=this.dim+1||W<-1||W>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(W+1)*this.stride+(I+1)},Lc.prototype._unpackMapbox=function(I,W,ae){return(I*256*256+W*256+ae)/10-1e4},Lc.prototype._unpackTerrarium=function(I,W,ae){return I*256+W+ae/256-32768},Lc.prototype.getPixels=function(){return new Ws({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Lc.prototype.backfillBorder=function(I,W,ae){if(this.dim!==I.dim)throw new Error("dem dimension mismatch");var de=W*this.dim,Te=W*this.dim+this.dim,De=ae*this.dim,Ke=ae*this.dim+this.dim;switch(W){case-1:de=Te-1;break;case 1:Te=de+1;break}switch(ae){case-1:De=Ke-1;break;case 1:Ke=De+1;break}for(var ut=-W*this.dim,wt=-ae*this.dim,Ct=De;Ct<Ke;Ct++)for(var Wt=de;Wt<Te;Wt++)this.data[this._idx(Wt,Ct)]=I.data[this._idx(Wt+ut,Ct+wt)]},Be("DEMData",Lc);function ZL(D,I){var W={};if(!I)return W;for(var ae=function(){var De=Te[de],Ke=De.layerIds.map(function(Wt){return I.getLayer(Wt)}).filter(Boolean);if(Ke.length!==0){De.layers=Ke,De.stateDependentLayerIds&&(De.stateDependentLayers=De.stateDependentLayerIds.map(function(Wt){return Ke.filter(function(ar){return ar.id===Wt})[0]}));for(var ut=0,wt=Ke;ut<wt.length;ut+=1){var Ct=wt[ut];W[Ct.id]=De}}},de=0,Te=D;de<Te.length;de+=1)ae();return W}var hy=function(I){this._stringToNumber={},this._numberToString=[];for(var W=0;W<I.length;W++){var ae=I[W];this._stringToNumber[ae]=W,this._numberToString[W]=ae}};hy.prototype.encode=function(I){return this._stringToNumber[I]},hy.prototype.decode=function(I){return this._numberToString[I]};var vy=function(I,W,ae,de,Te){this.type="Feature",this._vectorTileFeature=I,I._z=W,I._x=ae,I._y=de,this.properties=I.properties,this.id=Te},Dx={geometry:{configurable:!0}};Dx.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Dx.geometry.set=function(D){this._geometry=D},vy.prototype.toJSON=function(){var I={geometry:this.geometry};for(var W in this)W==="_geometry"||W==="_vectorTileFeature"||(I[W]=this[W]);return I},Object.defineProperties(vy.prototype,Dx);var Nd=function(){this.state={},this.stateChanges={},this.deletedStates={}};Nd.prototype.updateState=function(I,W,ae){var de=String(W);if(this.stateChanges[I]=this.stateChanges[I]||{},this.stateChanges[I][de]=this.stateChanges[I][de]||{},M(this.stateChanges[I][de],ae),this.deletedStates[I]===null){this.deletedStates[I]={};for(var Te in this.state[I])Te!==de&&(this.deletedStates[I][Te]=null)}else{var De=this.deletedStates[I]&&this.deletedStates[I][de]===null;if(De){this.deletedStates[I][de]={};for(var Ke in this.state[I][de])ae[Ke]||(this.deletedStates[I][de][Ke]=null)}else for(var ut in ae){var wt=this.deletedStates[I]&&this.deletedStates[I][de]&&this.deletedStates[I][de][ut]===null;wt&&delete this.deletedStates[I][de][ut]}}},Nd.prototype.removeFeatureState=function(I,W,ae){var de=this.deletedStates[I]===null;if(!de){var Te=String(W);if(this.deletedStates[I]=this.deletedStates[I]||{},ae&&W!==void 0)this.deletedStates[I][Te]!==null&&(this.deletedStates[I][Te]=this.deletedStates[I][Te]||{},this.deletedStates[I][Te][ae]=null);else if(W!==void 0){var De=this.stateChanges[I]&&this.stateChanges[I][Te];if(De){this.deletedStates[I][Te]={};for(ae in this.stateChanges[I][Te])this.deletedStates[I][Te][ae]=null}else this.deletedStates[I][Te]=null}else this.deletedStates[I]=null}},Nd.prototype.getState=function(I,W){var ae=String(W),de=this.state[I]||{},Te=this.stateChanges[I]||{},De=M({},de[ae],Te[ae]);if(this.deletedStates[I]===null)return{};if(this.deletedStates[I]){var Ke=this.deletedStates[I][W];if(Ke===null)return{};for(var ut in Ke)delete De[ut]}return De},Nd.prototype.initializeTileState=function(I,W){I.setFeatureState(this.state,W)},Nd.prototype.coalesceChanges=function(I,W){var ae={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var Te={};for(var De in this.stateChanges[de])this.state[de][De]||(this.state[de][De]={}),M(this.state[de][De],this.stateChanges[de][De]),Te[De]=this.state[de][De];ae[de]=Te}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var ut={};if(this.deletedStates[Ke]===null)for(var wt in this.state[Ke])ut[wt]={},this.state[Ke][wt]={};else for(var Ct in this.deletedStates[Ke]){var Wt=this.deletedStates[Ke][Ct]===null;if(Wt)this.state[Ke][Ct]={};else for(var ar=0,er=Object.keys(this.deletedStates[Ke][Ct]);ar<er.length;ar+=1){var Tr=er[ar];delete this.state[Ke][Ct][Tr]}ut[Ct]=this.state[Ke][Ct]}ae[Ke]=ae[Ke]||{},M(ae[Ke],ut)}if(this.stateChanges={},this.deletedStates={},Object.keys(ae).length!==0)for(var Ur in I){var fn=I[Ur];fn.setFeatureState(ae,W)}};var Pc=function(I,W){this.tileID=I,this.x=I.canonical.x,this.y=I.canonical.y,this.z=I.canonical.z,this.grid=new Ba(Ea,16,0),this.grid3D=new Ba(Ea,16,0),this.featureIndexArray=new Xg,this.promoteId=W};Pc.prototype.insert=function(I,W,ae,de,Te,De){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ae,de,Te);for(var ut=De?this.grid3D:this.grid,wt=0;wt<W.length;wt++){for(var Ct=W[wt],Wt=[1/0,1/0,-1/0,-1/0],ar=0;ar<Ct.length;ar++){var er=Ct[ar];Wt[0]=Math.min(Wt[0],er.x),Wt[1]=Math.min(Wt[1],er.y),Wt[2]=Math.max(Wt[2],er.x),Wt[3]=Math.max(Wt[3],er.y)}Wt[0]<Ea&&Wt[1]<Ea&&Wt[2]>=0&&Wt[3]>=0&&ut.insert(Ke,Wt[0],Wt[1],Wt[2],Wt[3])}},Pc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Cd.VectorTile(new ry(this.rawTileData)).layers,this.sourceLayerCoder=new hy(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Pc.prototype.query=function(I,W,ae,de){var Te=this;this.loadVTLayers();for(var De=I.params||{},Ke=Ea/I.tileSize/I.scale,ut=Sl(De.filter),wt=I.queryGeometry,Ct=I.queryPadding*Ke,Wt=oT(wt),ar=this.grid.query(Wt.minX-Ct,Wt.minY-Ct,Wt.maxX+Ct,Wt.maxY+Ct),er=oT(I.cameraQueryGeometry),Tr=this.grid3D.query(er.minX-Ct,er.minY-Ct,er.maxX+Ct,er.maxY+Ct,function(Zn,ua,ia,Aa){return Pu(I.cameraQueryGeometry,Zn-Ct,ua-Ct,ia+Ct,Aa+Ct)}),Ur=0,fn=Tr;Ur<fn.length;Ur+=1){var rn=fn[Ur];ar.push(rn)}ar.sort(XL);for(var Rn={},An,Ln=function(Zn){var ua=ar[Zn];if(ua!==An){An=ua;var ia=Te.featureIndexArray.get(ua),Aa=null;Te.loadMatchingFeature(Rn,ia.bucketIndex,ia.sourceLayerIndex,ia.featureIndex,ut,De.layers,De.availableImages,W,ae,de,function(ya,Ta,Va){return Aa||(Aa=ai(ya)),Ta.queryIntersectsFeature(wt,ya,Va,Aa,Te.z,I.transform,Ke,I.pixelPosMatrix)})}},Fn=0;Fn<ar.length;Fn++)Ln(Fn);return Rn},Pc.prototype.loadMatchingFeature=function(I,W,ae,de,Te,De,Ke,ut,wt,Ct,Wt){var ar=this.bucketLayerIDs[W];if(!(De&&!F(De,ar))){var er=this.sourceLayerCoder.decode(ae),Tr=this.vtLayers[er],Ur=Tr.feature(de);if(Te.needGeometry){var fn=Ci(Ur,!0);if(!Te.filter(new Ma(this.tileID.overscaledZ),fn,this.tileID.canonical))return}else if(!Te.filter(new Ma(this.tileID.overscaledZ),Ur))return;for(var rn=this.getId(Ur,er),Rn=0;Rn<ar.length;Rn++){var An=ar[Rn];if(!(De&&De.indexOf(An)<0)){var Ln=ut[An];if(Ln){var Fn={};rn!==void 0&&Ct&&(Fn=Ct.getState(Ln.sourceLayer||"_geojsonTileLayer",rn));var Zn=M({},wt[An]);Zn.paint=iT(Zn.paint,Ln.paint,Ur,Fn,Ke),Zn.layout=iT(Zn.layout,Ln.layout,Ur,Fn,Ke);var ua=!Wt||Wt(Ur,Ln,Fn);if(ua){var ia=new vy(Ur,this.z,this.x,this.y,rn);ia.layer=Zn;var Aa=I[An];Aa===void 0&&(Aa=I[An]=[]),Aa.push({featureIndex:de,feature:ia,intersectionZ:ua})}}}}}},Pc.prototype.lookupSymbolFeatures=function(I,W,ae,de,Te,De,Ke,ut){var wt={};this.loadVTLayers();for(var Ct=Sl(Te),Wt=0,ar=I;Wt<ar.length;Wt+=1){var er=ar[Wt];this.loadMatchingFeature(wt,ae,de,er,Ct,De,Ke,ut,W)}return wt},Pc.prototype.hasLayer=function(I){for(var W=0,ae=this.bucketLayerIDs;W<ae.length;W+=1)for(var de=ae[W],Te=0,De=de;Te<De.length;Te+=1){var Ke=De[Te];if(I===Ke)return!0}return!1},Pc.prototype.getId=function(I,W){var ae=I.id;if(this.promoteId){var de=typeof this.promoteId=="string"?this.promoteId:this.promoteId[W];ae=I.properties[de],typeof ae=="boolean"&&(ae=Number(ae))}return ae},Be("FeatureIndex",Pc,{omit:["rawTileData","sourceLayerCoder"]});function iT(D,I,W,ae,de){return z(D,function(Te,De){var Ke=I instanceof ko?I.get(De):null;return Ke&&Ke.evaluate?Ke.evaluate(W,ae,de):Ke})}function oT(D){for(var I=1/0,W=1/0,ae=-1/0,de=-1/0,Te=0,De=D;Te<De.length;Te+=1){var Ke=De[Te];I=Math.min(I,Ke.x),W=Math.min(W,Ke.y),ae=Math.max(ae,Ke.x),de=Math.max(de,Ke.y)}return{minX:I,minY:W,maxX:ae,maxY:de}}function XL(D,I){return I-D}var $L=3e4,No=function(I,W){this.tileID=I,this.uid=w(),this.uses=0,this.tileSize=W,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};No.prototype.registerFadeDuration=function(I){var W=I+this.timeAdded;W<ue.now()||this.fadeEndTime&&W<this.fadeEndTime||(this.fadeEndTime=W)},No.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},No.prototype.loadVectorData=function(I,W,ae){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!I){this.collisionBoxArray=new Wp;return}I.featureIndex&&(this.latestFeatureIndex=I.featureIndex,I.rawTileData?(this.latestRawTileData=I.rawTileData,this.latestFeatureIndex.rawTileData=I.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=I.collisionBoxArray,this.buckets=ZL(I.buckets,W.style),this.hasSymbolBuckets=!1;for(var de in this.buckets){var Te=this.buckets[de];if(Te instanceof Ti)if(this.hasSymbolBuckets=!0,ae)Te.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var De in this.buckets){var Ke=this.buckets[De];if(Ke instanceof Ti&&Ke.hasRTLText){this.hasRTLText=!0,Ha();break}}this.queryPadding=0;for(var ut in this.buckets){var wt=this.buckets[ut];this.queryPadding=Math.max(this.queryPadding,W.style.getLayer(ut).queryRadius(wt))}I.imageAtlas&&(this.imageAtlas=I.imageAtlas),I.glyphAtlasImage&&(this.glyphAtlasImage=I.glyphAtlasImage)},No.prototype.unloadVectorData=function(){for(var I in this.buckets)this.buckets[I].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},No.prototype.getBucket=function(I){return this.buckets[I.id]},No.prototype.upload=function(I){for(var W in this.buckets){var ae=this.buckets[W];ae.uploadPending()&&ae.upload(I)}var de=I.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Nv(I,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Nv(I,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},No.prototype.prepare=function(I){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(I,this.imageAtlasTexture)},No.prototype.queryRenderedFeatures=function(I,W,ae,de,Te,De,Ke,ut,wt,Ct){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:Te,scale:De,tileSize:this.tileSize,pixelPosMatrix:Ct,transform:ut,params:Ke,queryPadding:this.queryPadding*wt},I,W,ae)},No.prototype.querySourceFeatures=function(I,W){var ae=this.latestFeatureIndex;if(!(!ae||!ae.rawTileData)){var de=ae.loadVTLayers(),Te=W?W.sourceLayer:"",De=de._geojsonTileLayer||de[Te];if(De)for(var Ke=Sl(W&&W.filter),ut=this.tileID.canonical,wt=ut.z,Ct=ut.x,Wt=ut.y,ar={z:wt,x:Ct,y:Wt},er=0;er<De.length;er++){var Tr=De.feature(er);if(Ke.needGeometry){var Ur=Ci(Tr,!0);if(!Ke.filter(new Ma(this.tileID.overscaledZ),Ur,this.tileID.canonical))continue}else if(!Ke.filter(new Ma(this.tileID.overscaledZ),Tr))continue;var fn=ae.getId(Tr,Te),rn=new vy(Tr,wt,Ct,Wt,fn);rn.tile=ar,I.push(rn)}}},No.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},No.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},No.prototype.setExpiryData=function(I){var W=this.expirationTime;if(I.cacheControl){var ae=ne(I.cacheControl);ae["max-age"]&&(this.expirationTime=Date.now()+ae["max-age"]*1e3)}else I.expires&&(this.expirationTime=new Date(I.expires).getTime());if(this.expirationTime){var de=Date.now(),Te=!1;if(this.expirationTime>de)Te=!1;else if(!W)Te=!0;else if(this.expirationTime<W)Te=!0;else{var De=this.expirationTime-W;De?this.expirationTime=de+Math.max(De,$L):Te=!0}Te?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},No.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},No.prototype.setFeatureState=function(I,W){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(I).length===0)){var ae=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(W.style.hasLayer(de)){var Te=this.buckets[de],De=Te.layers[0].sourceLayer||"_geojsonTileLayer",Ke=ae[De],ut=I[De];if(!(!Ke||!ut||Object.keys(ut).length===0)){Te.update(ut,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var wt=W&&W.style&&W.style.getLayer(de);wt&&(this.queryPadding=Math.max(this.queryPadding,wt.queryRadius(Te)))}}}},No.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},No.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<ue.now()},No.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},No.prototype.setHoldDuration=function(I){this.symbolFadeHoldUntil=ue.now()+I},No.prototype.setDependencies=function(I,W){for(var ae={},de=0,Te=W;de<Te.length;de+=1){var De=Te[de];ae[De]=!0}this.dependencies[I]=ae},No.prototype.hasDependency=function(I,W){for(var ae=0,de=I;ae<de.length;ae+=1){var Te=de[ae],De=this.dependencies[Te];if(De)for(var Ke=0,ut=W;Ke<ut.length;Ke+=1){var wt=ut[Ke];if(De[wt])return!0}}return!1};var KL=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Rh=i.performance,sT=function(I){this._marks={start:[I.url,"start"].join("#"),end:[I.url,"end"].join("#"),measure:I.url.toString()},Rh.mark(this._marks.start)};sT.prototype.finish=function(){Rh.mark(this._marks.end);var I=Rh.getEntriesByName(this._marks.measure);return I.length===0&&(Rh.measure(this._marks.measure,this._marks.start,this._marks.end),I=Rh.getEntriesByName(this._marks.measure),Rh.clearMarks(this._marks.start),Rh.clearMarks(this._marks.end),Rh.clearMeasures(this._marks.measure)),I},n.Actor=Bd,n.AlphaImage=Bv,n.CanonicalTileID=Vv,n.CollisionBoxArray=Wp,n.Color=ni,n.DEMData=Lc,n.DataConstantProperty=ha,n.DictionaryCoder=hy,n.EXTENT=Ea,n.ErrorEvent=Ft,n.EvaluationParameters=Ma,n.Event=rr,n.Evented=hr,n.FeatureIndex=Pc,n.FillBucket=hf,n.FillExtrusionBucket=vf,n.ImageAtlas=r0,n.ImagePosition=ay,n.LineBucket=Es,n.LngLat=Ui,n.LngLatBounds=To,n.MercatorCoordinate=Uv,n.ONE_EM=$o,n.OverscaledTileID=Ao,n.Point=r,n.Point$1=r,n.Properties=di,n.Protobuf=ry,n.RGBAImage=Ws,n.RequestManager=Ue,n.RequestPerformance=sT,n.ResourceType=mr,n.SegmentVector=bo,n.SourceFeatureState=Nd,n.StructArrayLayout1ui2=Th,n.StructArrayLayout2f1f2i16=uf,n.StructArrayLayout2i4=Ac,n.StructArrayLayout3ui6=ff,n.StructArrayLayout4i8=Up,n.SymbolBucket=Ti,n.Texture=Nv,n.Tile=No,n.Transitionable=li,n.Uniform1f=$r,n.Uniform1i=Or,n.Uniform2f=Xr,n.Uniform3f=jr,n.Uniform4f=Qr,n.UniformColor=vn,n.UniformMatrix4f=Nn,n.UnwrappedTileID=aT,n.ValidationError=Br,n.WritingMode=Cl,n.ZoomHistory=Vt,n.add=Sd,n.addDynamicAttributes=Lx,n.asyncAll=v,n.bezier=s,n.bindAll=P,n.browser=ue,n.cacheEntryPossiblyAdded=zt,n.clamp=f,n.clearTileCache=Sr,n.clipLine=V5,n.clone=wd,n.clone$1=G,n.clone$2=lx,n.collisionCircleLayout=R9,n.config=ie,n.create=bd,n.create$1=ss,n.create$2=xd,n.createCommonjsModule=C,n.createExpression=Tl,n.createLayout=Bi,n.createStyleLayer=VL,n.cross=e7,n.deepEqual=a,n.dot=qC,n.dot$1=i7,n.ease=m,n.emitValidationErrors=_a,n.endsWith=x,n.enforceCacheSizeLimit=qt,n.evaluateSizeForFeature=_5,n.evaluateSizeForZoom=z5,n.evaluateVariableOffset=W5,n.evented=La,n.extend=M,n.featureFilter=Sl,n.filterObject=_,n.fromRotation=Mh,n.getAnchorAlignment=Sx,n.getAnchorJustification=Cx,n.getArrayBuffer=Ot,n.getImage=Dt,n.getJSON=Lt,n.getRTLTextPluginStatus=Fa,n.getReferrer=vt,n.getVideo=Yt,n.identity=Td,n.invert=Eh,n.isChar=Gt,n.isMapboxURL=He,n.keysDifference=g,n.makeRequest=Rt,n.mapObject=z,n.mercatorXfromLng=tT,n.mercatorYfromLat=rT,n.mercatorZfromAltitude=nT,n.mul=sx,n.multiply=Ch,n.mvt=Cd,n.nextPowerOfTwo=b,n.normalize=Zp,n.number=Ni,n.offscreenCanvasSupported=Jt,n.ortho=ox,n.parseGlyphPBF=nL,n.pbf=ry,n.performSymbolLayout=wL,n.perspective=Yp,n.pick=A,n.plugin=na,n.polygonIntersectsPolygon=Wa,n.postMapLoadEvent=Ne,n.postTurnstileEvent=We,n.potpack=E5,n.refProperties=KL,n.register=Be,n.registerForPluginStateChange=si,n.renderColorRamp=a5,n.rotate=Fv,n.rotateX=Gs,n.rotateZ=Ad,n.scale=Hs,n.scale$1=a7,n.scale$2=fx,n.setCacheLimits=yt,n.setRTLTextPlugin=Zi,n.sphericalToCartesian=Y,n.sqrLen=l7,n.styleSpec=gr,n.sub=r7,n.symbolSize=hL,n.transformMat3=t7,n.transformMat4=Kg,n.translate=no,n.triggerPluginCompletionEvent=pa,n.uniqueId=w,n.validateCustomStyleLayer=BL,n.validateLight=qn,n.validateStyle=In,n.values=l,n.vectorTile=Cd,n.version=T,n.warnOnce=U,n.webpSupported=ce,n.window=i,n.wrap=S}),L(["./shared"],function(n){function C(vt){var it=typeof vt;if(it==="number"||it==="boolean"||it==="string"||vt===void 0||vt===null)return JSON.stringify(vt);if(Array.isArray(vt)){for(var xt="[",St=0,Rt=vt;St<Rt.length;St+=1){var Lt=Rt[St];xt+=C(Lt)+","}return xt+"]"}for(var Ot=Object.keys(vt).sort(),Nt="{",Xt=0;Xt<Ot.length;Xt++)Nt+=JSON.stringify(Ot[Xt])+":"+C(vt[Ot[Xt]])+",";return Nt+"}"}function T(vt){for(var it="",xt=0,St=n.refProperties;xt<St.length;xt+=1){var Rt=St[xt];it+="/"+C(vt[Rt])}return it}function d(vt,it){for(var xt={},St=0;St<vt.length;St++){var Rt=it&&it[vt[St].id]||T(vt[St]);it&&(it[vt[St].id]=Rt);var Lt=xt[Rt];Lt||(Lt=xt[Rt]=[]),Lt.push(vt[St])}var Ot=[];for(var Nt in xt)Ot.push(xt[Nt]);return Ot}var y=function(it){this.keyCache={},it&&this.replace(it)};y.prototype.replace=function(it){this._layerConfigs={},this._layers={},this.update(it,[])},y.prototype.update=function(it,xt){for(var St=this,Rt=0,Lt=it;Rt<Lt.length;Rt+=1){var Ot=Lt[Rt];this._layerConfigs[Ot.id]=Ot;var Nt=this._layers[Ot.id]=n.createStyleLayer(Ot);Nt._featureFilter=n.featureFilter(Nt.filter),this.keyCache[Ot.id]&&delete this.keyCache[Ot.id]}for(var Xt=0,ur=xt;Xt<ur.length;Xt+=1){var cr=ur[Xt];delete this.keyCache[cr],delete this._layerConfigs[cr],delete this._layers[cr]}this.familiesBySource={};for(var dr=d(n.values(this._layerConfigs),this.keyCache),Ye=0,je=dr;Ye<je.length;Ye+=1){var It=je[Ye],Dt=It.map(function(hr){return St._layers[hr.id]}),Yt=Dt[0];if(Yt.visibility!=="none"){var tr=Yt.source||"",fr=this.familiesBySource[tr];fr||(fr=this.familiesBySource[tr]={});var rr=Yt.sourceLayer||"_geojsonTileLayer",Ft=fr[rr];Ft||(Ft=fr[rr]=[]),Ft.push(Dt)}}};var r=1,t=function(it){var xt={},St=[];for(var Rt in it){var Lt=it[Rt],Ot=xt[Rt]={};for(var Nt in Lt){var Xt=Lt[+Nt];if(!(!Xt||Xt.bitmap.width===0||Xt.bitmap.height===0)){var ur={x:0,y:0,w:Xt.bitmap.width+2*r,h:Xt.bitmap.height+2*r};St.push(ur),Ot[Nt]={rect:ur,metrics:Xt.metrics}}}}var cr=n.potpack(St),dr=cr.w,Ye=cr.h,je=new n.AlphaImage({width:dr||1,height:Ye||1});for(var It in it){var Dt=it[It];for(var Yt in Dt){var tr=Dt[+Yt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var fr=xt[It][Yt].rect;n.AlphaImage.copy(tr.bitmap,je,{x:0,y:0},{x:fr.x+r,y:fr.y+r},tr.bitmap)}}}this.image=je,this.positions=xt};n.register("GlyphAtlas",t);var i=function(it){this.tileID=new n.OverscaledTileID(it.tileID.overscaledZ,it.tileID.wrap,it.tileID.canonical.z,it.tileID.canonical.x,it.tileID.canonical.y),this.uid=it.uid,this.zoom=it.zoom,this.pixelRatio=it.pixelRatio,this.tileSize=it.tileSize,this.source=it.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=it.showCollisionBoxes,this.collectResourceTiming=!!it.collectResourceTiming,this.returnDependencies=!!it.returnDependencies,this.promoteId=it.promoteId};i.prototype.parse=function(it,xt,St,Rt,Lt){var Ot=this;this.status="parsing",this.data=it,this.collisionBoxArray=new n.CollisionBoxArray;var Nt=new n.DictionaryCoder(Object.keys(it.layers).sort()),Xt=new n.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var ur={},cr={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:St},dr=xt.familiesBySource[this.source];for(var Ye in dr){var je=it.layers[Ye];if(je){je.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Ye+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Nt.encode(Ye),Dt=[],Yt=0;Yt<je.length;Yt++){var tr=je.feature(Yt),fr=Xt.getId(tr,Ye);Dt.push({feature:tr,id:fr,index:Yt,sourceLayerIndex:It})}for(var rr=0,Ft=dr[Ye];rr<Ft.length;rr+=1){var hr=Ft[rr],br=hr[0];if(!(br.minzoom&&this.zoom<Math.floor(br.minzoom))&&!(br.maxzoom&&this.zoom>=br.maxzoom)&&br.visibility!=="none"){a(hr,this.zoom,St);var yr=ur[br.id]=br.createBucket({index:Xt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source});yr.populate(Dt,cr,this.tileID.canonical),Xt.bucketLayerIDs.push(hr.map(function(Cr){return Cr.id}))}}}}var vr,Gr,_r,Dr,pn=n.mapObject(cr.glyphDependencies,function(Cr){return Object.keys(Cr).map(Number)});Object.keys(pn).length?Rt.send("getGlyphs",{uid:this.uid,stacks:pn},function(Cr,Lr){vr||(vr=Cr,Gr=Lr,Tn.call(Ot))}):Gr={};var nn=Object.keys(cr.iconDependencies);nn.length?Rt.send("getImages",{icons:nn,source:this.source,tileID:this.tileID,type:"icons"},function(Cr,Lr){vr||(vr=Cr,_r=Lr,Tn.call(Ot))}):_r={};var Un=Object.keys(cr.patternDependencies);Un.length?Rt.send("getImages",{icons:Un,source:this.source,tileID:this.tileID,type:"patterns"},function(Cr,Lr){vr||(vr=Cr,Dr=Lr,Tn.call(Ot))}):Dr={},Tn.call(this);function Tn(){if(vr)return Lt(vr);if(Gr&&_r&&Dr){var Cr=new t(Gr),Lr=new n.ImageAtlas(_r,Dr);for(var Zr in ur){var Wr=ur[Zr];Wr instanceof n.SymbolBucket?(a(Wr.layers,this.zoom,St),n.performSymbolLayout(Wr,Gr,Cr.positions,_r,Lr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Wr.hasPattern&&(Wr instanceof n.LineBucket||Wr instanceof n.FillBucket||Wr instanceof n.FillExtrusionBucket)&&(a(Wr.layers,this.zoom,St),Wr.addFeatures(cr,this.tileID.canonical,Lr.patternPositions))}this.status="done",Lt(null,{buckets:n.values(ur).filter(function(sn){return!sn.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Cr.image,imageAtlas:Lr,glyphMap:this.returnDependencies?Gr:null,iconMap:this.returnDependencies?_r:null,glyphPositions:this.returnDependencies?Cr.positions:null})}}};function a(vt,it,xt){for(var St=new n.EvaluationParameters(it),Rt=0,Lt=vt;Rt<Lt.length;Rt+=1){var Ot=Lt[Rt];Ot.recalculate(St,xt)}}function h(vt,it){var xt=n.getArrayBuffer(vt.request,function(St,Rt,Lt,Ot){St?it(St):Rt&&it(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(Rt)),rawData:Rt,cacheControl:Lt,expires:Ot})});return function(){xt.cancel(),it()}}var u=function(it,xt,St,Rt){this.actor=it,this.layerIndex=xt,this.availableImages=St,this.loadVectorData=Rt||h,this.loading={},this.loaded={}};u.prototype.loadTile=function(it,xt){var St=this,Rt=it.uid;this.loading||(this.loading={});var Lt=it&&it.request&&it.request.collectResourceTiming?new n.RequestPerformance(it.request):!1,Ot=this.loading[Rt]=new i(it);Ot.abort=this.loadVectorData(it,function(Nt,Xt){if(delete St.loading[Rt],Nt||!Xt)return Ot.status="done",St.loaded[Rt]=Ot,xt(Nt);var ur=Xt.rawData,cr={};Xt.expires&&(cr.expires=Xt.expires),Xt.cacheControl&&(cr.cacheControl=Xt.cacheControl);var dr={};if(Lt){var Ye=Lt.finish();Ye&&(dr.resourceTiming=JSON.parse(JSON.stringify(Ye)))}Ot.vectorTile=Xt.vectorTile,Ot.parse(Xt.vectorTile,St.layerIndex,St.availableImages,St.actor,function(je,It){if(je||!It)return xt(je);xt(null,n.extend({rawTileData:ur.slice(0)},It,cr,dr))}),St.loaded=St.loaded||{},St.loaded[Rt]=Ot})},u.prototype.reloadTile=function(it,xt){var St=this,Rt=this.loaded,Lt=it.uid,Ot=this;if(Rt&&Rt[Lt]){var Nt=Rt[Lt];Nt.showCollisionBoxes=it.showCollisionBoxes;var Xt=function(ur,cr){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Ot.layerIndex,St.availableImages,Ot.actor,dr)),xt(ur,cr)};Nt.status==="parsing"?Nt.reloadCallback=Xt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},u.prototype.abortTile=function(it,xt){var St=this.loading,Rt=it.uid;St&&St[Rt]&&St[Rt].abort&&(St[Rt].abort(),delete St[Rt]),xt()},u.prototype.removeTile=function(it,xt){var St=this.loaded,Rt=it.uid;St&&St[Rt]&&delete St[Rt],xt()};var s=n.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(it,xt){var St=it.uid,Rt=it.encoding,Lt=it.rawImageData,Ot=s&&Lt instanceof s?this.getImageData(Lt):Lt,Nt=new n.DEMData(St,Ot,Rt);this.loaded=this.loaded||{},this.loaded[St]=Nt,xt(null,Nt)},m.prototype.getImageData=function(it){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(it.width,it.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=it.width,this.offscreenCanvas.height=it.height,this.offscreenCanvasContext.drawImage(it,0,0,it.width,it.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,it.width+2,it.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:xt.width,height:xt.height},xt.data)},m.prototype.removeTile=function(it){var xt=this.loaded,St=it.uid;xt&&xt[St]&&delete xt[St]};var f=S;function S(vt,it){var xt=vt&&vt.type,St;if(xt==="FeatureCollection")for(St=0;St<vt.features.length;St++)S(vt.features[St],it);else if(xt==="GeometryCollection")for(St=0;St<vt.geometries.length;St++)S(vt.geometries[St],it);else if(xt==="Feature")S(vt.geometry,it);else if(xt==="Polygon")v(vt.coordinates,it);else if(xt==="MultiPolygon")for(St=0;St<vt.coordinates.length;St++)v(vt.coordinates[St],it);return vt}function v(vt,it){if(vt.length!==0){l(vt[0],it);for(var xt=1;xt<vt.length;xt++)l(vt[xt],!it)}}function l(vt,it){for(var xt=0,St=0,Rt=vt.length,Lt=Rt-1;St<Rt;Lt=St++)xt+=(vt[St][0]-vt[Lt][0])*(vt[Lt][1]+vt[St][1]);xt>=0!=!!it&&vt.reverse()}var g=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(it){this._feature=it,this.extent=n.EXTENT,this.type=it.type,this.properties=it.tags,"id"in it&&!isNaN(it.id)&&(this.id=parseInt(it.id,10))};M.prototype.loadGeometry=function(){if(this._feature.type===1){for(var it=[],xt=0,St=this._feature.geometry;xt<St.length;xt+=1){var Rt=St[xt];it.push([new n.Point$1(Rt[0],Rt[1])])}return it}else{for(var Lt=[],Ot=0,Nt=this._feature.geometry;Ot<Nt.length;Ot+=1){for(var Xt=Nt[Ot],ur=[],cr=0,dr=Xt;cr<dr.length;cr+=1){var Ye=dr[cr];ur.push(new n.Point$1(Ye[0],Ye[1]))}Lt.push(ur)}return Lt}},M.prototype.toGeoJSON=function(it,xt,St){return g.call(this,it,xt,St)};var A=function(it){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=it.length,this._features=it};A.prototype.feature=function(it){return new M(this._features[it])};var k=n.vectorTile.VectorTileFeature,w=E;function E(vt,it){this.options=it||{},this.features=vt,this.length=vt.length}E.prototype.feature=function(vt){return new b(this.features[vt],this.options.extent)};function b(vt,it){this.id=typeof vt.id=="number"?vt.id:void 0,this.type=vt.type,this.rawGeometry=vt.type===1?[vt.geometry]:vt.geometry,this.properties=vt.tags,this.extent=it||4096}b.prototype.loadGeometry=function(){var vt=this.rawGeometry;this.geometry=[];for(var it=0;it<vt.length;it++){for(var xt=vt[it],St=[],Rt=0;Rt<xt.length;Rt++)St.push(new n.Point$1(xt[Rt][0],xt[Rt][1]));this.geometry.push(St)}return this.geometry},b.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var vt=this.geometry,it=1/0,xt=-1/0,St=1/0,Rt=-1/0,Lt=0;Lt<vt.length;Lt++)for(var Ot=vt[Lt],Nt=0;Nt<Ot.length;Nt++){var Xt=Ot[Nt];it=Math.min(it,Xt.x),xt=Math.max(xt,Xt.x),St=Math.min(St,Xt.y),Rt=Math.max(Rt,Xt.y)}return[it,St,xt,Rt]},b.prototype.toGeoJSON=k.prototype.toGeoJSON;var o=_,P=_,x=G,z=w;function _(vt){var it=new n.pbf;return F(vt,it),it.finish()}function G(vt,it){it=it||{};var xt={};for(var St in vt)xt[St]=new w(vt[St].features,it),xt[St].name=St,xt[St].version=it.version,xt[St].extent=it.extent;return _({layers:xt})}function F(vt,it){for(var xt in vt.layers)it.writeMessage(3,N,vt.layers[xt])}function N(vt,it){it.writeVarintField(15,vt.version||1),it.writeStringField(1,vt.name||""),it.writeVarintField(5,vt.extent||4096);var xt,St={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<vt.length;xt++)St.feature=vt.feature(xt),it.writeMessage(2,U,St);var Rt=St.keys;for(xt=0;xt<Rt.length;xt++)it.writeStringField(3,Rt[xt]);var Lt=St.values;for(xt=0;xt<Lt.length;xt++)it.writeMessage(4,ne,Lt[xt])}function U(vt,it){var xt=vt.feature;xt.id!==void 0&&it.writeVarintField(1,xt.id),it.writeMessage(2,O,vt),it.writeVarintField(3,xt.type),it.writeMessage(4,q,xt)}function O(vt,it){var xt=vt.feature,St=vt.keys,Rt=vt.values,Lt=vt.keycache,Ot=vt.valuecache;for(var Nt in xt.properties){var Xt=Lt[Nt];typeof Xt>"u"&&(St.push(Nt),Xt=St.length-1,Lt[Nt]=Xt),it.writeVarint(Xt);var ur=xt.properties[Nt],cr=typeof ur;cr!=="string"&&cr!=="boolean"&&cr!=="number"&&(ur=JSON.stringify(ur));var dr=cr+":"+ur,Ye=Ot[dr];typeof Ye>"u"&&(Rt.push(ur),Ye=Rt.length-1,Ot[dr]=Ye),it.writeVarint(Ye)}}function H(vt,it){return(it<<3)+(vt&7)}function Y(vt){return vt<<1^vt>>31}function q(vt,it){for(var xt=vt.loadGeometry(),St=vt.type,Rt=0,Lt=0,Ot=xt.length,Nt=0;Nt<Ot;Nt++){var Xt=xt[Nt],ur=1;St===1&&(ur=Xt.length),it.writeVarint(H(1,ur));for(var cr=St===3?Xt.length-1:Xt.length,dr=0;dr<cr;dr++){dr===1&&St!==1&&it.writeVarint(H(2,cr-1));var Ye=Xt[dr].x-Rt,je=Xt[dr].y-Lt;it.writeVarint(Y(Ye)),it.writeVarint(Y(je)),Rt+=Ye,Lt+=je}St===3&&it.writeVarint(H(7,1))}}function ne(vt,it){var xt=typeof vt;xt==="string"?it.writeStringField(1,vt):xt==="boolean"?it.writeBooleanField(7,vt):xt==="number"&&(vt%1!==0?it.writeDoubleField(3,vt):vt<0?it.writeSVarintField(6,vt):it.writeVarintField(5,vt))}o.fromVectorTileJs=P,o.fromGeojsonVt=x,o.GeoJSONWrapper=z;function oe(vt,it,xt,St,Rt,Lt){if(!(Rt-St<=xt)){var Ot=St+Rt>>1;he(vt,it,Ot,St,Rt,Lt%2),oe(vt,it,xt,St,Ot-1,Lt+1),oe(vt,it,xt,Ot+1,Rt,Lt+1)}}function he(vt,it,xt,St,Rt,Lt){for(;Rt>St;){if(Rt-St>600){var Ot=Rt-St+1,Nt=xt-St+1,Xt=Math.log(Ot),ur=.5*Math.exp(2*Xt/3),cr=.5*Math.sqrt(Xt*ur*(Ot-ur)/Ot)*(Nt-Ot/2<0?-1:1),dr=Math.max(St,Math.floor(xt-Nt*ur/Ot+cr)),Ye=Math.min(Rt,Math.floor(xt+(Ot-Nt)*ur/Ot+cr));he(vt,it,xt,dr,Ye,Lt)}var je=it[2*xt+Lt],It=St,Dt=Rt;for(J(vt,it,St,xt),it[2*Rt+Lt]>je&&J(vt,it,St,Rt);It<Dt;){for(J(vt,it,It,Dt),It++,Dt--;it[2*It+Lt]<je;)It++;for(;it[2*Dt+Lt]>je;)Dt--}it[2*St+Lt]===je?J(vt,it,St,Dt):(Dt++,J(vt,it,Dt,Rt)),Dt<=xt&&(St=Dt+1),xt<=Dt&&(Rt=Dt-1)}}function J(vt,it,xt,St){Z(vt,xt,St),Z(it,2*xt,2*St),Z(it,2*xt+1,2*St+1)}function Z(vt,it,xt){var St=vt[it];vt[it]=vt[xt],vt[xt]=St}function se(vt,it,xt,St,Rt,Lt,Ot){for(var Nt=[0,vt.length-1,0],Xt=[],ur,cr;Nt.length;){var dr=Nt.pop(),Ye=Nt.pop(),je=Nt.pop();if(Ye-je<=Ot){for(var It=je;It<=Ye;It++)ur=it[2*It],cr=it[2*It+1],ur>=xt&&ur<=Rt&&cr>=St&&cr<=Lt&&Xt.push(vt[It]);continue}var Dt=Math.floor((je+Ye)/2);ur=it[2*Dt],cr=it[2*Dt+1],ur>=xt&&ur<=Rt&&cr>=St&&cr<=Lt&&Xt.push(vt[Dt]);var Yt=(dr+1)%2;(dr===0?xt<=ur:St<=cr)&&(Nt.push(je),Nt.push(Dt-1),Nt.push(Yt)),(dr===0?Rt>=ur:Lt>=cr)&&(Nt.push(Dt+1),Nt.push(Ye),Nt.push(Yt))}return Xt}function $(vt,it,xt,St,Rt,Lt){for(var Ot=[0,vt.length-1,0],Nt=[],Xt=Rt*Rt;Ot.length;){var ur=Ot.pop(),cr=Ot.pop(),dr=Ot.pop();if(cr-dr<=Lt){for(var Ye=dr;Ye<=cr;Ye++)ee(it[2*Ye],it[2*Ye+1],xt,St)<=Xt&&Nt.push(vt[Ye]);continue}var je=Math.floor((dr+cr)/2),It=it[2*je],Dt=it[2*je+1];ee(It,Dt,xt,St)<=Xt&&Nt.push(vt[je]);var Yt=(ur+1)%2;(ur===0?xt-Rt<=It:St-Rt<=Dt)&&(Ot.push(dr),Ot.push(je-1),Ot.push(Yt)),(ur===0?xt+Rt>=It:St+Rt>=Dt)&&(Ot.push(je+1),Ot.push(cr),Ot.push(Yt))}return Nt}function ee(vt,it,xt,St){var Rt=vt-xt,Lt=it-St;return Rt*Rt+Lt*Lt}var le=function(vt){return vt[0]},Q=function(vt){return vt[1]},K=function(it,xt,St,Rt,Lt){xt===void 0&&(xt=le),St===void 0&&(St=Q),Rt===void 0&&(Rt=64),Lt===void 0&&(Lt=Float64Array),this.nodeSize=Rt,this.points=it;for(var Ot=it.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Ot(it.length),Xt=this.coords=new Lt(it.length*2),ur=0;ur<it.length;ur++)Nt[ur]=ur,Xt[2*ur]=xt(it[ur]),Xt[2*ur+1]=St(it[ur]);oe(Nt,Xt,Rt,0,Nt.length-1,0)};K.prototype.range=function(it,xt,St,Rt){return se(this.ids,this.coords,it,xt,St,Rt,this.nodeSize)},K.prototype.within=function(it,xt,St){return $(this.ids,this.coords,it,xt,St,this.nodeSize)};var ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(vt){return vt}},ie=function(it){this.options=Ce(Object.create(ue),it),this.trees=new Array(this.options.maxZoom+1)};ie.prototype.load=function(it){var xt=this.options,St=xt.log,Rt=xt.minZoom,Lt=xt.maxZoom,Ot=xt.nodeSize;St&&console.time("total time");var Nt="prepare "+it.length+" points";St&&console.time(Nt),this.points=it;for(var Xt=[],ur=0;ur<it.length;ur++)it[ur].geometry&&Xt.push(xe(it[ur],ur));this.trees[Lt+1]=new K(Xt,Ue,He,Ot,Float32Array),St&&console.timeEnd(Nt);for(var cr=Lt;cr>=Rt;cr--){var dr=+Date.now();Xt=this._cluster(Xt,cr),this.trees[cr]=new K(Xt,Ue,He,Ot,Float32Array),St&&console.log("z%d: %d clusters in %dms",cr,Xt.length,+Date.now()-dr)}return St&&console.timeEnd("total time"),this},ie.prototype.getClusters=function(it,xt){var St=((it[0]+180)%360+360)%360-180,Rt=Math.max(-90,Math.min(90,it[1])),Lt=it[2]===180?180:((it[2]+180)%360+360)%360-180,Ot=Math.max(-90,Math.min(90,it[3]));if(it[2]-it[0]>=360)St=-180,Lt=180;else if(St>Lt){var Nt=this.getClusters([St,Rt,180,Ot],xt),Xt=this.getClusters([-180,Rt,Lt,Ot],xt);return Nt.concat(Xt)}for(var ur=this.trees[this._limitZoom(xt)],cr=ur.range(Oe(St),ze(Ot),Oe(Lt),ze(Rt)),dr=[],Ye=0,je=cr;Ye<je.length;Ye+=1){var It=je[Ye],Dt=ur.points[It];dr.push(Dt.numPoints?Le(Dt):this.points[Dt.index])}return dr},ie.prototype.getChildren=function(it){var xt=this._getOriginId(it),St=this._getOriginZoom(it),Rt="No cluster with the specified id.",Lt=this.trees[St];if(!Lt)throw new Error(Rt);var Ot=Lt.points[xt];if(!Ot)throw new Error(Rt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),Xt=Lt.within(Ot.x,Ot.y,Nt),ur=[],cr=0,dr=Xt;cr<dr.length;cr+=1){var Ye=dr[cr],je=Lt.points[Ye];je.parentId===it&&ur.push(je.numPoints?Le(je):this.points[je.index])}if(ur.length===0)throw new Error(Rt);return ur},ie.prototype.getLeaves=function(it,xt,St){xt=xt||10,St=St||0;var Rt=[];return this._appendLeaves(Rt,it,xt,St,0),Rt},ie.prototype.getTile=function(it,xt,St){var Rt=this.trees[this._limitZoom(it)],Lt=Math.pow(2,it),Ot=this.options,Nt=Ot.extent,Xt=Ot.radius,ur=Xt/Nt,cr=(St-ur)/Lt,dr=(St+1+ur)/Lt,Ye={features:[]};return this._addTileFeatures(Rt.range((xt-ur)/Lt,cr,(xt+1+ur)/Lt,dr),Rt.points,xt,St,Lt,Ye),xt===0&&this._addTileFeatures(Rt.range(1-ur/Lt,cr,1,dr),Rt.points,Lt,St,Lt,Ye),xt===Lt-1&&this._addTileFeatures(Rt.range(0,cr,ur/Lt,dr),Rt.points,-1,St,Lt,Ye),Ye.features.length?Ye:null},ie.prototype.getClusterExpansionZoom=function(it){for(var xt=this._getOriginZoom(it)-1;xt<=this.options.maxZoom;){var St=this.getChildren(it);if(xt++,St.length!==1)break;it=St[0].properties.cluster_id}return xt},ie.prototype._appendLeaves=function(it,xt,St,Rt,Lt){for(var Ot=this.getChildren(xt),Nt=0,Xt=Ot;Nt<Xt.length;Nt+=1){var ur=Xt[Nt],cr=ur.properties;if(cr&&cr.cluster?Lt+cr.point_count<=Rt?Lt+=cr.point_count:Lt=this._appendLeaves(it,cr.cluster_id,St,Rt,Lt):Lt<Rt?Lt++:it.push(ur),it.length===St)break}return Lt},ie.prototype._addTileFeatures=function(it,xt,St,Rt,Lt,Ot){for(var Nt=0,Xt=it;Nt<Xt.length;Nt+=1){var ur=Xt[Nt],cr=xt[ur],dr=cr.numPoints,Ye={type:1,geometry:[[Math.round(this.options.extent*(cr.x*Lt-St)),Math.round(this.options.extent*(cr.y*Lt-Rt))]],tags:dr?Ae(cr):this.points[cr.index].properties},je=void 0;dr?je=cr.id:this.options.generateId?je=cr.index:this.points[cr.index].id&&(je=this.points[cr.index].id),je!==void 0&&(Ye.id=je),Ot.features.push(Ye)}},ie.prototype._limitZoom=function(it){return Math.max(this.options.minZoom,Math.min(+it,this.options.maxZoom+1))},ie.prototype._cluster=function(it,xt){for(var St=[],Rt=this.options,Lt=Rt.radius,Ot=Rt.extent,Nt=Rt.reduce,Xt=Rt.minPoints,ur=Lt/(Ot*Math.pow(2,xt)),cr=0;cr<it.length;cr++){var dr=it[cr];if(!(dr.zoom<=xt)){dr.zoom=xt;for(var Ye=this.trees[xt+1],je=Ye.within(dr.x,dr.y,ur),It=dr.numPoints||1,Dt=It,Yt=0,tr=je;Yt<tr.length;Yt+=1){var fr=tr[Yt],rr=Ye.points[fr];rr.zoom>xt&&(Dt+=rr.numPoints||1)}if(Dt>=Xt){for(var Ft=dr.x*It,hr=dr.y*It,br=Nt&&It>1?this._map(dr,!0):null,yr=(cr<<5)+(xt+1)+this.points.length,vr=0,Gr=je;vr<Gr.length;vr+=1){var _r=Gr[vr],Dr=Ye.points[_r];if(!(Dr.zoom<=xt)){Dr.zoom=xt;var pn=Dr.numPoints||1;Ft+=Dr.x*pn,hr+=Dr.y*pn,Dr.parentId=yr,Nt&&(br||(br=this._map(dr,!0)),Nt(br,this._map(Dr)))}}dr.parentId=yr,St.push(ce(Ft/Dt,hr/Dt,yr,Dt,br))}else if(St.push(dr),Dt>1)for(var nn=0,Un=je;nn<Un.length;nn+=1){var Tn=Un[nn],Cr=Ye.points[Tn];Cr.zoom<=xt||(Cr.zoom=xt,St.push(Cr))}}}return St},ie.prototype._getOriginId=function(it){return it-this.points.length>>5},ie.prototype._getOriginZoom=function(it){return(it-this.points.length)%32},ie.prototype._map=function(it,xt){if(it.numPoints)return xt?Ce({},it.properties):it.properties;var St=this.points[it.index].properties,Rt=this.options.map(St);return xt&&Rt===St?Ce({},Rt):Rt};function ce(vt,it,xt,St,Rt){return{x:vt,y:it,zoom:1/0,id:xt,parentId:-1,numPoints:St,properties:Rt}}function xe(vt,it){var xt=vt.geometry.coordinates,St=xt[0],Rt=xt[1];return{x:Oe(St),y:ze(Rt),zoom:1/0,index:it,parentId:-1}}function Le(vt){return{type:"Feature",id:vt.id,properties:Ae(vt),geometry:{type:"Point",coordinates:[Ee(vt.x),be(vt.y)]}}}function Ae(vt){var it=vt.numPoints,xt=it>=1e4?Math.round(it/1e3)+"k":it>=1e3?Math.round(it/100)/10+"k":it;return Ce(Ce({},vt.properties),{cluster:!0,cluster_id:vt.id,point_count:it,point_count_abbreviated:xt})}function Oe(vt){return vt/360+.5}function ze(vt){var it=Math.sin(vt*Math.PI/180),xt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return xt<0?0:xt>1?1:xt}function Ee(vt){return(vt-.5)*360}function be(vt){var it=(180-vt*360)*Math.PI/180;return 360*Math.atan(Math.exp(it))/Math.PI-90}function Ce(vt,it){for(var xt in it)vt[xt]=it[xt];return vt}function Ue(vt){return vt.x}function He(vt){return vt.y}function Ie(vt,it,xt,St){for(var Rt=St,Lt=xt-it>>1,Ot=xt-it,Nt,Xt=vt[it],ur=vt[it+1],cr=vt[xt],dr=vt[xt+1],Ye=it+3;Ye<xt;Ye+=3){var je=Ge(vt[Ye],vt[Ye+1],Xt,ur,cr,dr);if(je>Rt)Nt=Ye,Rt=je;else if(je===Rt){var It=Math.abs(Ye-Lt);It<Ot&&(Nt=Ye,Ot=It)}}Rt>St&&(Nt-it>3&&Ie(vt,it,Nt,St),vt[Nt+2]=Rt,xt-Nt>3&&Ie(vt,Nt,xt,St))}function Ge(vt,it,xt,St,Rt,Lt){var Ot=Rt-xt,Nt=Lt-St;if(Ot!==0||Nt!==0){var Xt=((vt-xt)*Ot+(it-St)*Nt)/(Ot*Ot+Nt*Nt);Xt>1?(xt=Rt,St=Lt):Xt>0&&(xt+=Ot*Xt,St+=Nt*Xt)}return Ot=vt-xt,Nt=it-St,Ot*Ot+Nt*Nt}function at(vt,it,xt,St){var Rt={id:typeof vt>"u"?null:vt,type:it,geometry:xt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return lt(Rt),Rt}function lt(vt){var it=vt.geometry,xt=vt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")qe(vt,it);else if(xt==="Polygon"||xt==="MultiLineString")for(var St=0;St<it.length;St++)qe(vt,it[St]);else if(xt==="MultiPolygon")for(St=0;St<it.length;St++)for(var Rt=0;Rt<it[St].length;Rt++)qe(vt,it[St][Rt])}function qe(vt,it){for(var xt=0;xt<it.length;xt+=3)vt.minX=Math.min(vt.minX,it[xt]),vt.minY=Math.min(vt.minY,it[xt+1]),vt.maxX=Math.max(vt.maxX,it[xt]),vt.maxY=Math.max(vt.maxY,it[xt+1])}function et(vt,it){var xt=[];if(vt.type==="FeatureCollection")for(var St=0;St<vt.features.length;St++)ft(xt,vt.features[St],it,St);else vt.type==="Feature"?ft(xt,vt,it):ft(xt,{geometry:vt},it);return xt}function ft(vt,it,xt,St){if(it.geometry){var Rt=it.geometry.coordinates,Lt=it.geometry.type,Ot=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Nt=[],Xt=it.id;if(xt.promoteId?Xt=it.properties[xt.promoteId]:xt.generateId&&(Xt=St||0),Lt==="Point")dt(Rt,Nt);else if(Lt==="MultiPoint")for(var ur=0;ur<Rt.length;ur++)dt(Rt[ur],Nt);else if(Lt==="LineString")pt(Rt,Nt,Ot,!1);else if(Lt==="MultiLineString")if(xt.lineMetrics){for(ur=0;ur<Rt.length;ur++)Nt=[],pt(Rt[ur],Nt,Ot,!1),vt.push(at(Xt,"LineString",Nt,it.properties));return}else At(Rt,Nt,Ot,!1);else if(Lt==="Polygon")At(Rt,Nt,Ot,!0);else if(Lt==="MultiPolygon")for(ur=0;ur<Rt.length;ur++){var cr=[];At(Rt[ur],cr,Ot,!0),Nt.push(cr)}else if(Lt==="GeometryCollection"){for(ur=0;ur<it.geometry.geometries.length;ur++)ft(vt,{id:Xt,geometry:it.geometry.geometries[ur],properties:it.properties},xt,St);return}else throw new Error("Input data is not a valid GeoJSON object.");vt.push(at(Xt,Lt,Nt,it.properties))}}function dt(vt,it){it.push(Pt(vt[0])),it.push(Ht(vt[1])),it.push(0)}function pt(vt,it,xt,St){for(var Rt,Lt,Ot=0,Nt=0;Nt<vt.length;Nt++){var Xt=Pt(vt[Nt][0]),ur=Ht(vt[Nt][1]);it.push(Xt),it.push(ur),it.push(0),Nt>0&&(St?Ot+=(Rt*ur-Xt*Lt)/2:Ot+=Math.sqrt(Math.pow(Xt-Rt,2)+Math.pow(ur-Lt,2))),Rt=Xt,Lt=ur}var cr=it.length-3;it[2]=1,Ie(it,0,cr,xt),it[cr+2]=1,it.size=Math.abs(Ot),it.start=0,it.end=it.size}function At(vt,it,xt,St){for(var Rt=0;Rt<vt.length;Rt++){var Lt=[];pt(vt[Rt],Lt,xt,St),it.push(Lt)}}function Pt(vt){return vt/360+.5}function Ht(vt){var it=Math.sin(vt*Math.PI/180),xt=.5-.25*Math.log((1+it)/(1-it))/Math.PI;return xt<0?0:xt>1?1:xt}function Je(vt,it,xt,St,Rt,Lt,Ot,Nt){if(xt/=it,St/=it,Lt>=xt&&Ot<St)return vt;if(Ot<xt||Lt>=St)return null;for(var Xt=[],ur=0;ur<vt.length;ur++){var cr=vt[ur],dr=cr.geometry,Ye=cr.type,je=Rt===0?cr.minX:cr.minY,It=Rt===0?cr.maxX:cr.maxY;if(je>=xt&&It<St){Xt.push(cr);continue}else if(It<xt||je>=St)continue;var Dt=[];if(Ye==="Point"||Ye==="MultiPoint")We(dr,Dt,xt,St,Rt);else if(Ye==="LineString")_e(dr,Dt,xt,St,Rt,!1,Nt.lineMetrics);else if(Ye==="MultiLineString")ke(dr,Dt,xt,St,Rt,!1);else if(Ye==="Polygon")ke(dr,Dt,xt,St,Rt,!0);else if(Ye==="MultiPolygon")for(var Yt=0;Yt<dr.length;Yt++){var tr=[];ke(dr[Yt],tr,xt,St,Rt,!0),tr.length&&Dt.push(tr)}if(Dt.length){if(Nt.lineMetrics&&Ye==="LineString"){for(Yt=0;Yt<Dt.length;Yt++)Xt.push(at(cr.id,Ye,Dt[Yt],cr.tags));continue}(Ye==="LineString"||Ye==="MultiLineString")&&(Dt.length===1?(Ye="LineString",Dt=Dt[0]):Ye="MultiLineString"),(Ye==="Point"||Ye==="MultiPoint")&&(Ye=Dt.length===3?"Point":"MultiPoint"),Xt.push(at(cr.id,Ye,Dt,cr.tags))}}return Xt.length?Xt:null}function We(vt,it,xt,St,Rt){for(var Lt=0;Lt<vt.length;Lt+=3){var Ot=vt[Lt+Rt];Ot>=xt&&Ot<=St&&(it.push(vt[Lt]),it.push(vt[Lt+1]),it.push(vt[Lt+2]))}}function _e(vt,it,xt,St,Rt,Lt,Ot){for(var Nt=Ne(vt),Xt=Rt===0?me:Me,ur=vt.start,cr,dr,Ye=0;Ye<vt.length-3;Ye+=3){var je=vt[Ye],It=vt[Ye+1],Dt=vt[Ye+2],Yt=vt[Ye+3],tr=vt[Ye+4],fr=Rt===0?je:It,rr=Rt===0?Yt:tr,Ft=!1;Ot&&(cr=Math.sqrt(Math.pow(je-Yt,2)+Math.pow(It-tr,2))),fr<xt?rr>xt&&(dr=Xt(Nt,je,It,Yt,tr,xt),Ot&&(Nt.start=ur+cr*dr)):fr>St?rr<St&&(dr=Xt(Nt,je,It,Yt,tr,St),Ot&&(Nt.start=ur+cr*dr)):we(Nt,je,It,Dt),rr<xt&&fr>=xt&&(dr=Xt(Nt,je,It,Yt,tr,xt),Ft=!0),rr>St&&fr<=St&&(dr=Xt(Nt,je,It,Yt,tr,St),Ft=!0),!Lt&&Ft&&(Ot&&(Nt.end=ur+cr*dr),it.push(Nt),Nt=Ne(vt)),Ot&&(ur+=cr)}var hr=vt.length-3;je=vt[hr],It=vt[hr+1],Dt=vt[hr+2],fr=Rt===0?je:It,fr>=xt&&fr<=St&&we(Nt,je,It,Dt),hr=Nt.length-3,Lt&&hr>=3&&(Nt[hr]!==Nt[0]||Nt[hr+1]!==Nt[1])&&we(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&it.push(Nt)}function Ne(vt){var it=[];return it.size=vt.size,it.start=vt.start,it.end=vt.end,it}function ke(vt,it,xt,St,Rt,Lt){for(var Ot=0;Ot<vt.length;Ot++)_e(vt[Ot],it,xt,St,Rt,Lt,!1)}function we(vt,it,xt,St){vt.push(it),vt.push(xt),vt.push(St)}function me(vt,it,xt,St,Rt,Lt){var Ot=(Lt-it)/(St-it);return vt.push(Lt),vt.push(xt+(Rt-xt)*Ot),vt.push(1),Ot}function Me(vt,it,xt,St,Rt,Lt){var Ot=(Lt-xt)/(Rt-xt);return vt.push(it+(St-it)*Ot),vt.push(Lt),vt.push(1),Ot}function Se(vt,it){var xt=it.buffer/it.extent,St=vt,Rt=Je(vt,1,-1-xt,xt,0,-1,2,it),Lt=Je(vt,1,1-xt,2+xt,0,-1,2,it);return(Rt||Lt)&&(St=Je(vt,1,-xt,1+xt,0,-1,2,it)||[],Rt&&(St=Ve(Rt,1).concat(St)),Lt&&(St=St.concat(Ve(Lt,-1)))),St}function Ve(vt,it){for(var xt=[],St=0;St<vt.length;St++){var Rt=vt[St],Lt=Rt.type,Ot;if(Lt==="Point"||Lt==="MultiPoint"||Lt==="LineString")Ot=Ze(Rt.geometry,it);else if(Lt==="MultiLineString"||Lt==="Polygon"){Ot=[];for(var Nt=0;Nt<Rt.geometry.length;Nt++)Ot.push(Ze(Rt.geometry[Nt],it))}else if(Lt==="MultiPolygon")for(Ot=[],Nt=0;Nt<Rt.geometry.length;Nt++){for(var Xt=[],ur=0;ur<Rt.geometry[Nt].length;ur++)Xt.push(Ze(Rt.geometry[Nt][ur],it));Ot.push(Xt)}xt.push(at(Rt.id,Lt,Ot,Rt.tags))}return xt}function Ze(vt,it){var xt=[];xt.size=vt.size,vt.start!==void 0&&(xt.start=vt.start,xt.end=vt.end);for(var St=0;St<vt.length;St+=3)xt.push(vt[St]+it,vt[St+1],vt[St+2]);return xt}function tt(vt,it){if(vt.transformed)return vt;var xt=1<<vt.z,St=vt.x,Rt=vt.y,Lt,Ot,Nt;for(Lt=0;Lt<vt.features.length;Lt++){var Xt=vt.features[Lt],ur=Xt.geometry,cr=Xt.type;if(Xt.geometry=[],cr===1)for(Ot=0;Ot<ur.length;Ot+=2)Xt.geometry.push(ct(ur[Ot],ur[Ot+1],it,xt,St,Rt));else for(Ot=0;Ot<ur.length;Ot++){var dr=[];for(Nt=0;Nt<ur[Ot].length;Nt+=2)dr.push(ct(ur[Ot][Nt],ur[Ot][Nt+1],it,xt,St,Rt));Xt.geometry.push(dr)}}return vt.transformed=!0,vt}function ct(vt,it,xt,St,Rt,Lt){return[Math.round(xt*(vt*St-Rt)),Math.round(xt*(it*St-Lt))]}function gt(vt,it,xt,St,Rt){for(var Lt=it===Rt.maxZoom?0:Rt.tolerance/((1<<it)*Rt.extent),Ot={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:St,z:it,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<vt.length;Nt++){Ot.numFeatures++,jt(Ot,vt[Nt],Lt,Rt);var Xt=vt[Nt].minX,ur=vt[Nt].minY,cr=vt[Nt].maxX,dr=vt[Nt].maxY;Xt<Ot.minX&&(Ot.minX=Xt),ur<Ot.minY&&(Ot.minY=ur),cr>Ot.maxX&&(Ot.maxX=cr),dr>Ot.maxY&&(Ot.maxY=dr)}return Ot}function jt(vt,it,xt,St){var Rt=it.geometry,Lt=it.type,Ot=[];if(Lt==="Point"||Lt==="MultiPoint")for(var Nt=0;Nt<Rt.length;Nt+=3)Ot.push(Rt[Nt]),Ot.push(Rt[Nt+1]),vt.numPoints++,vt.numSimplified++;else if(Lt==="LineString")Kt(Ot,Rt,vt,xt,!1,!1);else if(Lt==="MultiLineString"||Lt==="Polygon")for(Nt=0;Nt<Rt.length;Nt++)Kt(Ot,Rt[Nt],vt,xt,Lt==="Polygon",Nt===0);else if(Lt==="MultiPolygon")for(var Xt=0;Xt<Rt.length;Xt++){var ur=Rt[Xt];for(Nt=0;Nt<ur.length;Nt++)Kt(Ot,ur[Nt],vt,xt,!0,Nt===0)}if(Ot.length){var cr=it.tags||null;if(Lt==="LineString"&&St.lineMetrics){cr={};for(var dr in it.tags)cr[dr]=it.tags[dr];cr.mapbox_clip_start=Rt.start/Rt.size,cr.mapbox_clip_end=Rt.end/Rt.size}var Ye={geometry:Ot,type:Lt==="Polygon"||Lt==="MultiPolygon"?3:Lt==="LineString"||Lt==="MultiLineString"?2:1,tags:cr};it.id!==null&&(Ye.id=it.id),vt.features.push(Ye)}}function Kt(vt,it,xt,St,Rt,Lt){var Ot=St*St;if(St>0&&it.size<(Rt?Ot:St)){xt.numPoints+=it.length/3;return}for(var Nt=[],Xt=0;Xt<it.length;Xt+=3)(St===0||it[Xt+2]>Ot)&&(xt.numSimplified++,Nt.push(it[Xt]),Nt.push(it[Xt+1])),xt.numPoints++;Rt&&Tt(Nt,Lt),vt.push(Nt)}function Tt(vt,it){for(var xt=0,St=0,Rt=vt.length,Lt=Rt-2;St<Rt;Lt=St,St+=2)xt+=(vt[St]-vt[Lt])*(vt[St+1]+vt[Lt+1]);if(xt>0===it)for(St=0,Rt=vt.length;St<Rt/2;St+=2){var Ot=vt[St],Nt=vt[St+1];vt[St]=vt[Rt-2-St],vt[St+1]=vt[Rt-1-St],vt[Rt-2-St]=Ot,vt[Rt-1-St]=Nt}}function zt(vt,it){return new qt(vt,it)}function qt(vt,it){it=this.options=yt(Object.create(this.options),it);var xt=it.debug;if(xt&&console.time("preprocess data"),it.maxZoom<0||it.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(it.promoteId&&it.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=et(vt,it);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",it.indexMaxZoom,it.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),St=Se(St,it),St.length&&this.splitTile(St,0,0,0),xt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}qt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},qt.prototype.splitTile=function(vt,it,xt,St,Rt,Lt,Ot){for(var Nt=[vt,it,xt,St],Xt=this.options,ur=Xt.debug;Nt.length;){St=Nt.pop(),xt=Nt.pop(),it=Nt.pop(),vt=Nt.pop();var cr=1<<it,dr=Sr(it,xt,St),Ye=this.tiles[dr];if(!Ye&&(ur>1&&console.time("creation"),Ye=this.tiles[dr]=gt(vt,it,xt,St,Xt),this.tileCoords.push({z:it,x:xt,y:St}),ur)){ur>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",it,xt,St,Ye.numFeatures,Ye.numPoints,Ye.numSimplified),console.timeEnd("creation"));var je="z"+it;this.stats[je]=(this.stats[je]||0)+1,this.total++}if(Ye.source=vt,Rt){if(it===Xt.maxZoom||it===Rt)continue;var It=1<<Rt-it;if(xt!==Math.floor(Lt/It)||St!==Math.floor(Ot/It))continue}else if(it===Xt.indexMaxZoom||Ye.numPoints<=Xt.indexMaxPoints)continue;if(Ye.source=null,vt.length!==0){ur>1&&console.time("clipping");var Dt=.5*Xt.buffer/Xt.extent,Yt=.5-Dt,tr=.5+Dt,fr=1+Dt,rr,Ft,hr,br,yr,vr;rr=Ft=hr=br=null,yr=Je(vt,cr,xt-Dt,xt+tr,0,Ye.minX,Ye.maxX,Xt),vr=Je(vt,cr,xt+Yt,xt+fr,0,Ye.minX,Ye.maxX,Xt),vt=null,yr&&(rr=Je(yr,cr,St-Dt,St+tr,1,Ye.minY,Ye.maxY,Xt),Ft=Je(yr,cr,St+Yt,St+fr,1,Ye.minY,Ye.maxY,Xt),yr=null),vr&&(hr=Je(vr,cr,St-Dt,St+tr,1,Ye.minY,Ye.maxY,Xt),br=Je(vr,cr,St+Yt,St+fr,1,Ye.minY,Ye.maxY,Xt),vr=null),ur>1&&console.timeEnd("clipping"),Nt.push(rr||[],it+1,xt*2,St*2),Nt.push(Ft||[],it+1,xt*2,St*2+1),Nt.push(hr||[],it+1,xt*2+1,St*2),Nt.push(br||[],it+1,xt*2+1,St*2+1)}}},qt.prototype.getTile=function(vt,it,xt){var St=this.options,Rt=St.extent,Lt=St.debug;if(vt<0||vt>24)return null;var Ot=1<<vt;it=(it%Ot+Ot)%Ot;var Nt=Sr(vt,it,xt);if(this.tiles[Nt])return tt(this.tiles[Nt],Rt);Lt>1&&console.log("drilling down to z%d-%d-%d",vt,it,xt);for(var Xt=vt,ur=it,cr=xt,dr;!dr&&Xt>0;)Xt--,ur=Math.floor(ur/2),cr=Math.floor(cr/2),dr=this.tiles[Sr(Xt,ur,cr)];return!dr||!dr.source?null:(Lt>1&&console.log("found parent tile z%d-%d-%d",Xt,ur,cr),Lt>1&&console.time("drilling down"),this.splitTile(dr.source,Xt,ur,cr,vt,it,xt),Lt>1&&console.timeEnd("drilling down"),this.tiles[Nt]?tt(this.tiles[Nt],Rt):null)};function Sr(vt,it,xt){return((1<<vt)*xt+it)*32+vt}function yt(vt,it){for(var xt in it)vt[xt]=it[xt];return vt}function Zt(vt,it){var xt=vt.tileID.canonical;if(!this._geoJSONIndex)return it(null,null);var St=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!St)return it(null,null);var Rt=new A(St.features),Lt=o(Rt);(Lt.byteOffset!==0||Lt.byteLength!==Lt.buffer.byteLength)&&(Lt=new Uint8Array(Lt)),it(null,{vectorTile:Rt,rawData:Lt.buffer})}var Jt=function(vt){function it(xt,St,Rt,Lt){vt.call(this,xt,St,Rt,Zt),Lt&&(this.loadGeoJSON=Lt)}return vt&&(it.__proto__=vt),it.prototype=Object.create(vt&&vt.prototype),it.prototype.constructor=it,it.prototype.loadData=function(St,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Rt,this._pendingLoadDataParams=St,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},it.prototype._loadData=function(){var St=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Rt=this._pendingCallback,Lt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Ot=Lt&&Lt.request&&Lt.request.collectResourceTiming?new n.RequestPerformance(Lt.request):!1;this.loadGeoJSON(Lt,function(Nt,Xt){if(Nt||!Xt)return Rt(Nt);if(typeof Xt!="object")return Rt(new Error("Input data given to '"+Lt.source+"' is not a valid GeoJSON object."));f(Xt,!0);try{if(Lt.filter){var ur=n.createExpression(Lt.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ur.result==="error")throw new Error(ur.value.map(function(je){return je.key+": "+je.message}).join(", "));var cr=Xt.features.filter(function(je){return ur.value.evaluate({zoom:0},je)});Xt={type:"FeatureCollection",features:cr}}St._geoJSONIndex=Lt.cluster?new ie(mr(Lt)).load(Xt.features):zt(Xt,Lt.geojsonVtOptions)}catch(je){return Rt(je)}St.loaded={};var dr={};if(Ot){var Ye=Ot.finish();Ye&&(dr.resourceTiming={},dr.resourceTiming[Lt.source]=JSON.parse(JSON.stringify(Ye)))}Rt(null,dr)})}},it.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},it.prototype.reloadTile=function(St,Rt){var Lt=this.loaded,Ot=St.uid;return Lt&&Lt[Ot]?vt.prototype.reloadTile.call(this,St,Rt):this.loadTile(St,Rt)},it.prototype.loadGeoJSON=function(St,Rt){if(St.request)n.getJSON(St.request,Rt);else if(typeof St.data=="string")try{return Rt(null,JSON.parse(St.data))}catch{return Rt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))}else return Rt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))},it.prototype.removeSource=function(St,Rt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Rt()},it.prototype.getClusterExpansionZoom=function(St,Rt){try{Rt(null,this._geoJSONIndex.getClusterExpansionZoom(St.clusterId))}catch(Lt){Rt(Lt)}},it.prototype.getClusterChildren=function(St,Rt){try{Rt(null,this._geoJSONIndex.getChildren(St.clusterId))}catch(Lt){Rt(Lt)}},it.prototype.getClusterLeaves=function(St,Rt){try{Rt(null,this._geoJSONIndex.getLeaves(St.clusterId,St.limit,St.offset))}catch(Lt){Rt(Lt)}},it}(u);function mr(vt){var it=vt.superclusterOptions,xt=vt.clusterProperties;if(!xt||!it)return it;for(var St={},Rt={},Lt={accumulated:null,zoom:0},Ot={properties:null},Nt=Object.keys(xt),Xt=0,ur=Nt;Xt<ur.length;Xt+=1){var cr=ur[Xt],dr=xt[cr],Ye=dr[0],je=dr[1],It=n.createExpression(je),Dt=n.createExpression(typeof Ye=="string"?[Ye,["accumulated"],["get",cr]]:Ye);St[cr]=It.value,Rt[cr]=Dt.value}return it.map=function(Yt){Ot.properties=Yt;for(var tr={},fr=0,rr=Nt;fr<rr.length;fr+=1){var Ft=rr[fr];tr[Ft]=St[Ft].evaluate(Lt,Ot)}return tr},it.reduce=function(Yt,tr){Ot.properties=tr;for(var fr=0,rr=Nt;fr<rr.length;fr+=1){var Ft=rr[fr];Lt.accumulated=Yt[Ft],Yt[Ft]=Rt[Ft].evaluate(Lt,Ot)}},it}var sr=function(it){var xt=this;this.self=it,this.actor=new n.Actor(it,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:Jt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(St,Rt){if(xt.workerSourceTypes[St])throw new Error('Worker source with name "'+St+'" already registered.');xt.workerSourceTypes[St]=Rt},this.self.registerRTLTextPlugin=function(St){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=St.applyArabicShaping,n.plugin.processBidirectionalText=St.processBidirectionalText,n.plugin.processStyledBidirectionalText=St.processStyledBidirectionalText}};return sr.prototype.setReferrer=function(it,xt){this.referrer=xt},sr.prototype.setImages=function(it,xt,St){this.availableImages[it]=xt;for(var Rt in this.workerSources[it]){var Lt=this.workerSources[it][Rt];for(var Ot in Lt)Lt[Ot].availableImages=xt}St()},sr.prototype.setLayers=function(it,xt,St){this.getLayerIndex(it).replace(xt),St()},sr.prototype.updateLayers=function(it,xt,St){this.getLayerIndex(it).update(xt.layers,xt.removedIds),St()},sr.prototype.loadTile=function(it,xt,St){this.getWorkerSource(it,xt.type,xt.source).loadTile(xt,St)},sr.prototype.loadDEMTile=function(it,xt,St){this.getDEMWorkerSource(it,xt.source).loadTile(xt,St)},sr.prototype.reloadTile=function(it,xt,St){this.getWorkerSource(it,xt.type,xt.source).reloadTile(xt,St)},sr.prototype.abortTile=function(it,xt,St){this.getWorkerSource(it,xt.type,xt.source).abortTile(xt,St)},sr.prototype.removeTile=function(it,xt,St){this.getWorkerSource(it,xt.type,xt.source).removeTile(xt,St)},sr.prototype.removeDEMTile=function(it,xt){this.getDEMWorkerSource(it,xt.source).removeTile(xt)},sr.prototype.removeSource=function(it,xt,St){if(!(!this.workerSources[it]||!this.workerSources[it][xt.type]||!this.workerSources[it][xt.type][xt.source])){var Rt=this.workerSources[it][xt.type][xt.source];delete this.workerSources[it][xt.type][xt.source],Rt.removeSource!==void 0?Rt.removeSource(xt,St):St()}},sr.prototype.loadWorkerSource=function(it,xt,St){try{this.self.importScripts(xt.url),St()}catch(Rt){St(Rt.toString())}},sr.prototype.syncRTLPluginState=function(it,xt,St){try{n.plugin.setState(xt);var Rt=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&Rt!=null){this.self.importScripts(Rt);var Lt=n.plugin.isParsed(),Ot=Lt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Rt);St(Ot,Lt)}}catch(Nt){St(Nt.toString())}},sr.prototype.getAvailableImages=function(it){var xt=this.availableImages[it];return xt||(xt=[]),xt},sr.prototype.getLayerIndex=function(it){var xt=this.layerIndexes[it];return xt||(xt=this.layerIndexes[it]=new y),xt},sr.prototype.getWorkerSource=function(it,xt,St){var Rt=this;if(this.workerSources[it]||(this.workerSources[it]={}),this.workerSources[it][xt]||(this.workerSources[it][xt]={}),!this.workerSources[it][xt][St]){var Lt={send:function(Ot,Nt,Xt){Rt.actor.send(Ot,Nt,Xt,it)}};this.workerSources[it][xt][St]=new this.workerSourceTypes[xt](Lt,this.getLayerIndex(it),this.getAvailableImages(it))}return this.workerSources[it][xt][St]},sr.prototype.getDEMWorkerSource=function(it,xt){return this.demWorkerSources[it]||(this.demWorkerSources[it]={}),this.demWorkerSources[it][xt]||(this.demWorkerSources[it][xt]=new m),this.demWorkerSources[it][xt]},sr.prototype.enforceCacheSizeLimit=function(it,xt){n.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new sr(self)),sr}),L(["./shared"],function(n){var C=n.createCommonjsModule(function(ve){ve.exports?ve.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=pe);function X(jr){return!pe(jr)}function pe(jr){if(!te())return"not a browser";if(!ye())return"insufficent Array support";if(!Fe())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!ot())return"insufficient JSON support";if(!Mt())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Qt())return"insufficient ArrayBuffer support";if(!lr())return"insufficient Canvas/getImageData support";if(!Or(jr&&jr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function te(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Fe(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function ot(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function Mt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var jr=new Blob([""],{type:"text/javascript"}),Qr=URL.createObjectURL(jr),vn,_n;try{_n=new Worker(Qr),vn=!0}catch{vn=!1}return _n&&_n.terminate(),URL.revokeObjectURL(Qr),vn}function Ut(){return"Uint8ClampedArray"in window}function Qt(){return ArrayBuffer.isView}function lr(){var jr=document.createElement("canvas");jr.width=jr.height=1;var Qr=jr.getContext("2d");if(!Qr)return!1;var vn=Qr.getImageData(0,0,1,1);return vn&&vn.width===jr.width}var or={};function Or(jr){return or[jr]===void 0&&(or[jr]=Xr(jr)),or[jr]}X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function $r(jr){var Qr=document.createElement("canvas"),vn=Object.create(X.webGLContextAttributes);return vn.failIfMajorPerformanceCaveat=jr,Qr.probablySupportsContext?Qr.probablySupportsContext("webgl",vn)||Qr.probablySupportsContext("experimental-webgl",vn):Qr.supportsContext?Qr.supportsContext("webgl",vn)||Qr.supportsContext("experimental-webgl",vn):Qr.getContext("webgl",vn)||Qr.getContext("experimental-webgl",vn)}function Xr(jr){var Qr=$r(jr);if(!Qr)return!1;var vn=Qr.createShader(Qr.VERTEX_SHADER);return!vn||Qr.isContextLost()?!1:(Qr.shaderSource(vn,"void main() {}"),Qr.compileShader(vn),Qr.getShaderParameter(vn,Qr.COMPILE_STATUS)===!0)}}),T={};T.create=function(ve,X,pe){var te=n.window.document.createElement(ve);return X!==void 0&&(te.className=X),pe&&pe.appendChild(te),te},T.createNS=function(ve,X){var pe=n.window.document.createElementNS(ve,X);return pe};var d=n.window.document&&n.window.document.documentElement.style;function y(ve){if(!d)return ve[0];for(var X=0;X<ve.length;X++)if(ve[X]in d)return ve[X];return ve[0]}var r=y(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),t;T.disableDrag=function(){d&&r&&(t=d[r],d[r]="none")},T.enableDrag=function(){d&&r&&(d[r]=t)};var i=y(["transform","WebkitTransform"]);T.setTransform=function(ve,X){ve.style[i]=X};var a=!1;try{var h=Object.defineProperty({},"passive",{get:function(){a=!0}});n.window.addEventListener("test",h,h),n.window.removeEventListener("test",h,h)}catch{a=!1}T.addEventListener=function(ve,X,pe,te){te===void 0&&(te={}),"passive"in te&&a?ve.addEventListener(X,pe,te):ve.addEventListener(X,pe,te.capture)},T.removeEventListener=function(ve,X,pe,te){te===void 0&&(te={}),"passive"in te&&a?ve.removeEventListener(X,pe,te):ve.removeEventListener(X,pe,te.capture)};var u=function(ve){ve.preventDefault(),ve.stopPropagation(),n.window.removeEventListener("click",u,!0)};T.suppressClick=function(){n.window.addEventListener("click",u,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",u,!0)},0)},T.mousePos=function(ve,X){var pe=ve.getBoundingClientRect();return new n.Point(X.clientX-pe.left-ve.clientLeft,X.clientY-pe.top-ve.clientTop)},T.touchPos=function(ve,X){for(var pe=ve.getBoundingClientRect(),te=[],ye=0;ye<X.length;ye++)te.push(new n.Point(X[ye].clientX-pe.left-ve.clientLeft,X[ye].clientY-pe.top-ve.clientTop));return te},T.mouseButton=function(ve){return typeof n.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},T.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function s(ve,X,pe){var te,ye,Fe,Xe=n.browser.devicePixelRatio>1?"@2x":"",ot=n.getJSON(X.transformRequest(X.normalizeSpriteURL(ve,Xe,".json"),n.ResourceType.SpriteJSON),function(Qt,lr){ot=null,Fe||(Fe=Qt,te=lr,Ut())}),Mt=n.getImage(X.transformRequest(X.normalizeSpriteURL(ve,Xe,".png"),n.ResourceType.SpriteImage),function(Qt,lr){Mt=null,Fe||(Fe=Qt,ye=lr,Ut())});function Ut(){if(Fe)pe(Fe);else if(te&&ye){var Qt=n.browser.getImageData(ye),lr={};for(var or in te){var Or=te[or],$r=Or.width,Xr=Or.height,jr=Or.x,Qr=Or.y,vn=Or.sdf,_n=Or.pixelRatio,Nn=Or.stretchX,Xn=Or.stretchY,Jn=Or.content,jn=new n.RGBAImage({width:$r,height:Xr});n.RGBAImage.copy(Qt,jn,{x:jr,y:Qr},{x:0,y:0},{width:$r,height:Xr}),lr[or]={data:jn,pixelRatio:_n,sdf:vn,stretchX:Nn,stretchY:Xn,content:Jn}}pe(null,lr)}}return{cancel:function(){ot&&(ot.cancel(),ot=null),Mt&&(Mt.cancel(),Mt=null)}}}function m(ve){var X=ve.userImage;if(X&&X.render){var pe=X.render();if(pe)return ve.data.replace(new Uint8Array(X.data.buffer)),!0}return!1}var f=1,S=function(ve){function X(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(te){if(this.loaded!==te&&(this.loaded=te,te)){for(var ye=0,Fe=this.requestors;ye<Fe.length;ye+=1){var Xe=Fe[ye],ot=Xe.ids,Mt=Xe.callback;this._notify(ot,Mt)}this.requestors=[]}},X.prototype.getImage=function(te){return this.images[te]},X.prototype.addImage=function(te,ye){this._validate(te,ye)&&(this.images[te]=ye)},X.prototype._validate=function(te,ye){var Fe=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchX" value'))),Fe=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "stretchY" value'))),Fe=!1),this._validateContent(ye.content,ye)||(this.fire(new n.ErrorEvent(new Error('Image "'+te+'" has invalid "content" value'))),Fe=!1),Fe},X.prototype._validateStretch=function(te,ye){if(!te)return!0;for(var Fe=0,Xe=0,ot=te;Xe<ot.length;Xe+=1){var Mt=ot[Xe];if(Mt[0]<Fe||Mt[1]<Mt[0]||ye<Mt[1])return!1;Fe=Mt[1]}return!0},X.prototype._validateContent=function(te,ye){return te?!(te.length!==4||te[0]<0||ye.data.width<te[0]||te[1]<0||ye.data.height<te[1]||te[2]<0||ye.data.width<te[2]||te[3]<0||ye.data.height<te[3]||te[2]<te[0]||te[3]<te[1]):!0},X.prototype.updateImage=function(te,ye){var Fe=this.images[te];ye.version=Fe.version+1,this.images[te]=ye,this.updatedImages[te]=!0},X.prototype.removeImage=function(te){var ye=this.images[te];delete this.images[te],delete this.patterns[te],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(te,ye){var Fe=!0;if(!this.isLoaded())for(var Xe=0,ot=te;Xe<ot.length;Xe+=1){var Mt=ot[Xe];this.images[Mt]||(Fe=!1)}this.isLoaded()||Fe?this._notify(te,ye):this.requestors.push({ids:te,callback:ye})},X.prototype._notify=function(te,ye){for(var Fe={},Xe=0,ot=te;Xe<ot.length;Xe+=1){var Mt=ot[Xe];this.images[Mt]||this.fire(new n.Event("styleimagemissing",{id:Mt}));var Ut=this.images[Mt];Ut?Fe[Mt]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:n.warnOnce('Image "'+Mt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,Fe)},X.prototype.getPixelSize=function(){var te=this.atlasImage,ye=te.width,Fe=te.height;return{width:ye,height:Fe}},X.prototype.getPattern=function(te){var ye=this.patterns[te],Fe=this.getImage(te);if(!Fe)return null;if(ye&&ye.position.version===Fe.version)return ye.position;if(ye)ye.position.version=Fe.version;else{var Xe=Fe.data.width+f*2,ot=Fe.data.height+f*2,Mt={w:Xe,h:ot,x:0,y:0},Ut=new n.ImagePosition(Mt,Fe);this.patterns[te]={bin:Mt,position:Ut}}return this._updatePatternAtlas(),this.patterns[te].position},X.prototype.bind=function(te){var ye=te.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(te,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var te=[];for(var ye in this.patterns)te.push(this.patterns[ye].bin);var Fe=n.potpack(te),Xe=Fe.w,ot=Fe.h,Mt=this.atlasImage;Mt.resize({width:Xe||1,height:ot||1});for(var Ut in this.patterns){var Qt=this.patterns[Ut],lr=Qt.bin,or=lr.x+f,Or=lr.y+f,$r=this.images[Ut].data,Xr=$r.width,jr=$r.height;n.RGBAImage.copy($r,Mt,{x:0,y:0},{x:or,y:Or},{width:Xr,height:jr}),n.RGBAImage.copy($r,Mt,{x:0,y:jr-1},{x:or,y:Or-1},{width:Xr,height:1}),n.RGBAImage.copy($r,Mt,{x:0,y:0},{x:or,y:Or+jr},{width:Xr,height:1}),n.RGBAImage.copy($r,Mt,{x:Xr-1,y:0},{x:or-1,y:Or},{width:1,height:jr}),n.RGBAImage.copy($r,Mt,{x:0,y:0},{x:or+Xr,y:Or},{width:1,height:jr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(te){for(var ye=0,Fe=te;ye<Fe.length;ye+=1){var Xe=Fe[ye];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var ot=this.images[Xe],Mt=m(ot);Mt&&this.updateImage(Xe,ot)}}},X}(n.Evented);function v(ve,X,pe,te,ye){var Fe=X*256,Xe=Fe+255,ot=te.transformRequest(te.normalizeGlyphsURL(pe).replace("{fontstack}",ve).replace("{range}",Fe+"-"+Xe),n.ResourceType.Glyphs);n.getArrayBuffer(ot,function(Mt,Ut){if(Mt)ye(Mt);else if(Ut){for(var Qt={},lr=0,or=n.parseGlyphPBF(Ut);lr<or.length;lr+=1){var Or=or[lr];Qt[Or.id]=Or}ye(null,Qt)}})}var l=A,g=A,M=1e20;function A(ve,X,pe,te,ye,Fe){this.fontSize=ve||24,this.buffer=X===void 0?3:X,this.cutoff=te||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Fe||"normal",this.radius=pe||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}A.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),pe=new Uint8ClampedArray(this.size*this.size),te=0;te<this.size*this.size;te++){var ye=X.data[te*4+3]/255;this.gridOuter[te]=ye===1?0:ye===0?M:Math.pow(Math.max(0,.5-ye),2),this.gridInner[te]=ye===1?M:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(k(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),k(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),te=0;te<this.size*this.size;te++){var Fe=this.gridOuter[te]-this.gridInner[te];pe[te]=Math.max(0,Math.min(255,Math.round(255-255*(Fe/this.radius+this.cutoff))))}return pe};function k(ve,X,pe,te,ye,Fe,Xe){for(var ot=0;ot<X;ot++){for(var Mt=0;Mt<pe;Mt++)te[Mt]=ve[Mt*X+ot];for(w(te,ye,Fe,Xe,pe),Mt=0;Mt<pe;Mt++)ve[Mt*X+ot]=ye[Mt]}for(Mt=0;Mt<pe;Mt++){for(ot=0;ot<X;ot++)te[ot]=ve[Mt*X+ot];for(w(te,ye,Fe,Xe,X),ot=0;ot<X;ot++)ve[Mt*X+ot]=Math.sqrt(ye[ot])}}function w(ve,X,pe,te,ye){pe[0]=0,te[0]=-M,te[1]=+M;for(var Fe=1,Xe=0;Fe<ye;Fe++){for(var ot=(ve[Fe]+Fe*Fe-(ve[pe[Xe]]+pe[Xe]*pe[Xe]))/(2*Fe-2*pe[Xe]);ot<=te[Xe];)Xe--,ot=(ve[Fe]+Fe*Fe-(ve[pe[Xe]]+pe[Xe]*pe[Xe]))/(2*Fe-2*pe[Xe]);Xe++,pe[Xe]=Fe,te[Xe]=ot,te[Xe+1]=+M}for(Fe=0,Xe=0;Fe<ye;Fe++){for(;te[Xe+1]<Fe;)Xe++;X[Fe]=(Fe-pe[Xe])*(Fe-pe[Xe])+ve[pe[Xe]]}}l.default=g;var E=function(X,pe){this.requestManager=X,this.localIdeographFontFamily=pe,this.entries={}};E.prototype.setURL=function(X){this.url=X},E.prototype.getGlyphs=function(X,pe){var te=this,ye=[];for(var Fe in X)for(var Xe=0,ot=X[Fe];Xe<ot.length;Xe+=1){var Mt=ot[Xe];ye.push({stack:Fe,id:Mt})}n.asyncAll(ye,function(Ut,Qt){var lr=Ut.stack,or=Ut.id,Or=te.entries[lr];Or||(Or=te.entries[lr]={glyphs:{},requests:{},ranges:{}});var $r=Or.glyphs[or];if($r!==void 0){Qt(null,{stack:lr,id:or,glyph:$r});return}if($r=te._tinySDF(Or,lr,or),$r){Or.glyphs[or]=$r,Qt(null,{stack:lr,id:or,glyph:$r});return}var Xr=Math.floor(or/256);if(Xr*256>65535){Qt(new Error("glyphs > 65535 not supported"));return}if(Or.ranges[Xr]){Qt(null,{stack:lr,id:or,glyph:$r});return}var jr=Or.requests[Xr];jr||(jr=Or.requests[Xr]=[],E.loadGlyphRange(lr,Xr,te.url,te.requestManager,function(Qr,vn){if(vn){for(var _n in vn)te._doesCharSupportLocalGlyph(+_n)||(Or.glyphs[+_n]=vn[+_n]);Or.ranges[Xr]=!0}for(var Nn=0,Xn=jr;Nn<Xn.length;Nn+=1){var Jn=Xn[Nn];Jn(Qr,vn)}delete Or.requests[Xr]})),jr.push(function(Qr,vn){Qr?Qt(Qr):vn&&Qt(null,{stack:lr,id:or,glyph:vn[or]||null})})},function(Ut,Qt){if(Ut)pe(Ut);else if(Qt){for(var lr={},or=0,Or=Qt;or<Or.length;or+=1){var $r=Or[or],Xr=$r.stack,jr=$r.id,Qr=$r.glyph;(lr[Xr]||(lr[Xr]={}))[jr]=Qr&&{id:Qr.id,bitmap:Qr.bitmap.clone(),metrics:Qr.metrics}}pe(null,lr)}})},E.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](X)||n.isChar["Hangul Syllables"](X)||n.isChar.Hiragana(X)||n.isChar.Katakana(X))},E.prototype._tinySDF=function(X,pe,te){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(te)){var Fe=X.tinySDF;if(!Fe){var Xe="400";/bold/i.test(pe)?Xe="900":/medium/i.test(pe)?Xe="500":/light/i.test(pe)&&(Xe="200"),Fe=X.tinySDF=new E.TinySDF(24,3,8,.25,ye,Xe)}return{id:te,bitmap:new n.AlphaImage({width:30,height:30},Fe.draw(String.fromCharCode(te))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=v,E.TinySDF=l;var b=function(){this.specification=n.styleSpec.light.position};b.prototype.possiblyEvaluate=function(X,pe){return n.sphericalToCartesian(X.expression.evaluate(pe))},b.prototype.interpolate=function(X,pe,te){return{x:n.number(X.x,pe.x,te),y:n.number(X.y,pe.y,te),z:n.number(X.z,pe.z,te)}};var o=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new b,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),P="-transition",x=function(ve){function X(pe){ve.call(this),this._transitionable=new n.Transitionable(o),this.setLight(pe),this._transitioning=this._transitionable.untransitioned()}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(te,ye){if(ye===void 0&&(ye={}),!this._validate(n.validateLight,te,ye))for(var Fe in te){var Xe=te[Fe];n.endsWith(Fe,P)?this._transitionable.setTransition(Fe.slice(0,-P.length),Xe):this._transitionable.setValue(Fe,Xe)}},X.prototype.updateTransitions=function(te){this._transitioning=this._transitionable.transitioned(te,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(te){this.properties=this._transitioning.possiblyEvaluate(te)},X.prototype._validate=function(te,ye,Fe){return Fe&&Fe.validate===!1?!1:n.emitValidationErrors(this,te.call(n.validateStyle,n.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},X}(n.Evented),z=function(X,pe){this.width=X,this.height=pe,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};z.prototype.getDash=function(X,pe){var te=X.join(",")+String(pe);return this.dashEntry[te]||(this.dashEntry[te]=this.addDash(X,pe)),this.dashEntry[te]},z.prototype.getDashRanges=function(X,pe,te){var ye=X.length%2===1,Fe=[],Xe=ye?-X[X.length-1]*te:0,ot=X[0]*te,Mt=!0;Fe.push({left:Xe,right:ot,isDash:Mt,zeroLength:X[0]===0});for(var Ut=X[0],Qt=1;Qt<X.length;Qt++){Mt=!Mt;var lr=X[Qt];Xe=Ut*te,Ut+=lr,ot=Ut*te,Fe.push({left:Xe,right:ot,isDash:Mt,zeroLength:lr===0})}return Fe},z.prototype.addRoundDash=function(X,pe,te){for(var ye=pe/2,Fe=-te;Fe<=te;Fe++)for(var Xe=this.nextRow+te+Fe,ot=this.width*Xe,Mt=0,Ut=X[Mt],Qt=0;Qt<this.width;Qt++){Qt/Ut.right>1&&(Ut=X[++Mt]);var lr=Math.abs(Qt-Ut.left),or=Math.abs(Qt-Ut.right),Or=Math.min(lr,or),$r=void 0,Xr=Fe/te*(ye+1);if(Ut.isDash){var jr=ye-Math.abs(Xr);$r=Math.sqrt(Or*Or+jr*jr)}else $r=ye-Math.sqrt(Or*Or+Xr*Xr);this.data[ot+Qt]=Math.max(0,Math.min(255,$r+128))}},z.prototype.addRegularDash=function(X){for(var pe=X.length-1;pe>=0;--pe){var te=X[pe],ye=X[pe+1];te.zeroLength?X.splice(pe,1):ye&&ye.isDash===te.isDash&&(ye.left=te.left,X.splice(pe,1))}var Fe=X[0],Xe=X[X.length-1];Fe.isDash===Xe.isDash&&(Fe.left=Xe.left-this.width,Xe.right=Fe.right+this.width);for(var ot=this.width*this.nextRow,Mt=0,Ut=X[Mt],Qt=0;Qt<this.width;Qt++){Qt/Ut.right>1&&(Ut=X[++Mt]);var lr=Math.abs(Qt-Ut.left),or=Math.abs(Qt-Ut.right),Or=Math.min(lr,or),$r=Ut.isDash?Or:-Or;this.data[ot+Qt]=Math.max(0,Math.min(255,$r+128))}},z.prototype.addDash=function(X,pe){var te=pe?7:0,ye=2*te+1;if(this.nextRow+ye>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var Fe=0,Xe=0;Xe<X.length;Xe++)Fe+=X[Xe];if(Fe!==0){var ot=this.width/Fe,Mt=this.getDashRanges(X,this.width,ot);pe?this.addRoundDash(Mt,ot,te):this.addRegularDash(Mt)}var Ut={y:(this.nextRow+te+.5)/this.height,height:2*te/this.height,width:Fe};return this.nextRow+=ye,this.dirty=!0,Ut},z.prototype.bind=function(X){var pe=X.gl;this.texture?(pe.bindTexture(pe.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,this.width,this.height,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))):(this.texture=pe.createTexture(),pe.bindTexture(pe.TEXTURE_2D,this.texture),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_S,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_T,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MAG_FILTER,pe.LINEAR),pe.texImage2D(pe.TEXTURE_2D,0,pe.ALPHA,this.width,this.height,0,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))};var _=function ve(X,pe){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var te=this.workerPool.acquire(this.id),ye=0;ye<te.length;ye++){var Fe=te[ye],Xe=new ve.Actor(Fe,pe,this.id);Xe.name="Worker "+ye,this.actors.push(Xe)}};_.prototype.broadcast=function(X,pe,te){te=te||function(){},n.asyncAll(this.actors,function(ye,Fe){ye.send(X,pe,Fe)},te)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=n.Actor;function G(ve,X,pe){var te=function(ye,Fe){if(ye)return pe(ye);if(Fe){var Xe=n.pick(n.extend(Fe,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Fe.vector_layers&&(Xe.vectorLayers=Fe.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(ot){return ot.id})),Xe.tiles=X.canonicalizeTileset(Xe,ve.url),pe(null,Xe)}};return ve.url?n.getJSON(X.transformRequest(X.normalizeSourceURL(ve.url),n.ResourceType.Source),te):n.browser.frame(function(){return te(null,ve)})}var F=function(X,pe,te){this.bounds=n.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=pe||0,this.maxzoom=te||24};F.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},F.prototype.contains=function(X){var pe=Math.pow(2,X.z),te={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*pe),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*pe),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*pe),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*pe)},ye=X.x>=te.minX&&X.x<te.maxX&&X.y>=te.minY&&X.y<te.maxY;return ye};var N=function(ve){function X(pe,te,ye,Fe){if(ve.call(this),this.id=pe,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(te,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},te),this._collectResourceTiming=te.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Fe)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=G(this._options,this.map._requestManager,function(ye,Fe){te._tileJSONRequest=null,te._loaded=!0,ye?te.fire(new n.ErrorEvent(ye)):Fe&&(n.extend(te,Fe),Fe.bounds&&(te.tileBounds=new F(Fe.bounds,te.minzoom,te.maxzoom)),n.postTurnstileEvent(Fe.tiles,te.map._requestManager._customAccessToken),n.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken,te.map._requestManager._customAccessToken),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.setSourceProperty=function(te){this._tileJSONRequest&&this._tileJSONRequest.cancel(),te();var ye=this.map.style.sourceCaches[this.id];ye.clearTiles(),this.load()},X.prototype.setTiles=function(te){var ye=this;return this.setSourceProperty(function(){ye._options.tiles=te}),this},X.prototype.setUrl=function(te){var ye=this;return this.setSourceProperty(function(){ye.url=te,ye._options.url=te}),this},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return n.extend({},this._options)},X.prototype.loadTile=function(te,ye){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(Fe,n.ResourceType.Tile),uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,tileSize:this.tileSize*te.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!te.actor||te.state==="expired"?(te.actor=this.dispatcher.getActor(),te.request=te.actor.send("loadTile",Xe,ot.bind(this))):te.state==="loading"?te.reloadCallback=ye:te.request=te.actor.send("reloadTile",Xe,ot.bind(this));function ot(Mt,Ut){if(delete te.request,te.aborted)return ye(null);if(Mt&&Mt.status!==404)return ye(Mt);Ut&&Ut.resourceTiming&&(te.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&te.setExpiryData(Ut),te.loadVectorData(Ut,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),ye(null),te.reloadCallback&&(this.loadTile(te,te.reloadCallback),te.reloadCallback=null)}},X.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.actor&&te.actor.send("abortTile",{uid:te.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(te){te.unloadVectorData(),te.actor&&te.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(n.Evented),U=function(ve){function X(pe,te,ye,Fe){ve.call(this),this.id=pe,this.dispatcher=ye,this.setEventedParent(Fe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},te),n.extend(this,n.pick(te,["url","scheme","tileSize"]))}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=G(this._options,this.map._requestManager,function(ye,Fe){te._tileJSONRequest=null,te._loaded=!0,ye?te.fire(new n.ErrorEvent(ye)):Fe&&(n.extend(te,Fe),Fe.bounds&&(te.tileBounds=new F(Fe.bounds,te.minzoom,te.maxzoom)),n.postTurnstileEvent(Fe.tiles),n.postMapLoadEvent(Fe.tiles,te.map._getMapId(),te.map._requestManager._skuToken),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),te.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return n.extend({},this._options)},X.prototype.hasTile=function(te){return!this.tileBounds||this.tileBounds.contains(te.canonical)},X.prototype.loadTile=function(te,ye){var Fe=this,Xe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=n.getImage(this.map._requestManager.transformRequest(Xe,n.ResourceType.Tile),function(ot,Mt){if(delete te.request,te.aborted)te.state="unloaded",ye(null);else if(ot)te.state="errored",ye(ot);else if(Mt){Fe.map._refreshExpiredTiles&&te.setExpiryData(Mt),delete Mt.cacheControl,delete Mt.expires;var Ut=Fe.map.painter.context,Qt=Ut.gl;te.texture=Fe.map.painter.getTileTexture(Mt.width),te.texture?te.texture.update(Mt,{useMipmap:!0}):(te.texture=new n.Texture(Ut,Mt,Qt.RGBA,{useMipmap:!0}),te.texture.bind(Qt.LINEAR,Qt.CLAMP_TO_EDGE,Qt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Qt.texParameterf(Qt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),te.state="loaded",n.cacheEntryPossiblyAdded(Fe.dispatcher),ye(null)}})},X.prototype.abortTile=function(te,ye){te.request&&(te.request.cancel(),delete te.request),ye()},X.prototype.unloadTile=function(te,ye){te.texture&&this.map.painter.saveTileTexture(te.texture),ye()},X.prototype.hasTransition=function(){return!1},X}(n.Evented),O=function(ve){function X(pe,te,ye,Fe){ve.call(this,pe,te,ye,Fe),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},te),this.encoding=te.encoding||"mapbox"}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(te,ye){var Fe=this.map._requestManager.normalizeTileURL(te.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);te.request=n.getImage(this.map._requestManager.transformRequest(Fe,n.ResourceType.Tile),Xe.bind(this)),te.neighboringTiles=this._getNeighboringTiles(te.tileID);function Xe(Mt,Ut){if(delete te.request,te.aborted)te.state="unloaded",ye(null);else if(Mt)te.state="errored",ye(Mt);else if(Ut){this.map._refreshExpiredTiles&&te.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Qt=n.window.ImageBitmap&&Ut instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),lr=Qt?Ut:n.browser.getImageData(Ut,1),or={uid:te.uid,coord:te.tileID,source:this.id,rawImageData:lr,encoding:this.encoding};(!te.actor||te.state==="expired")&&(te.actor=this.dispatcher.getActor(),te.actor.send("loadDEMTile",or,ot.bind(this)))}}function ot(Mt,Ut){Mt&&(te.state="errored",ye(Mt)),Ut&&(te.dem=Ut,te.needsHillshadePrepare=!0,te.state="loaded",ye(null))}},X.prototype._getNeighboringTiles=function(te){var ye=te.canonical,Fe=Math.pow(2,ye.z),Xe=(ye.x-1+Fe)%Fe,ot=ye.x===0?te.wrap-1:te.wrap,Mt=(ye.x+1+Fe)%Fe,Ut=ye.x+1===Fe?te.wrap+1:te.wrap,Qt={};return Qt[new n.OverscaledTileID(te.overscaledZ,ot,ye.z,Xe,ye.y).key]={backfilled:!1},Qt[new n.OverscaledTileID(te.overscaledZ,Ut,ye.z,Mt,ye.y).key]={backfilled:!1},ye.y>0&&(Qt[new n.OverscaledTileID(te.overscaledZ,ot,ye.z,Xe,ye.y-1).key]={backfilled:!1},Qt[new n.OverscaledTileID(te.overscaledZ,te.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},Qt[new n.OverscaledTileID(te.overscaledZ,Ut,ye.z,Mt,ye.y-1).key]={backfilled:!1}),ye.y+1<Fe&&(Qt[new n.OverscaledTileID(te.overscaledZ,ot,ye.z,Xe,ye.y+1).key]={backfilled:!1},Qt[new n.OverscaledTileID(te.overscaledZ,te.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},Qt[new n.OverscaledTileID(te.overscaledZ,Ut,ye.z,Mt,ye.y+1).key]={backfilled:!1}),Qt},X.prototype.unloadTile=function(te){te.demTexture&&this.map.painter.saveTileTexture(te.demTexture),te.fbo&&(te.fbo.destroy(),delete te.fbo),te.dem&&delete te.dem,delete te.neighboringTiles,te.state="unloaded",te.actor&&te.actor.send("removeDEMTile",{uid:te.uid,source:this.id})},X}(U),H=function(ve){function X(pe,te,ye,Fe){ve.call(this),this.id=pe,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Fe),this._data=te.data,this._options=n.extend({},te),this._collectResourceTiming=te.collectResourceTiming,this._resourceTiming=[],te.maxzoom!==void 0&&(this.maxzoom=te.maxzoom),te.type&&(this.type=te.type),te.attribution&&(this.attribution=te.attribution),this.promoteId=te.promoteId;var Xe=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:te.cluster||!1,geojsonVtOptions:{buffer:(te.buffer!==void 0?te.buffer:128)*Xe,tolerance:(te.tolerance!==void 0?te.tolerance:.375)*Xe,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:te.lineMetrics||!1,generateId:te.generateId||!1},superclusterOptions:{maxZoom:te.clusterMaxZoom!==void 0?Math.min(te.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,te.clusterMinPoints||2),extent:n.EXTENT,radius:(te.clusterRadius||50)*Xe,log:!1,generateId:te.generateId||!1},clusterProperties:te.clusterProperties,filter:te.filter},te.workerOptions)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){te.fire(new n.ErrorEvent(ye));return}var Fe={dataType:"source",sourceDataType:"metadata"};te._collectResourceTiming&&te._resourceTiming&&te._resourceTiming.length>0&&(Fe.resourceTiming=te._resourceTiming,te._resourceTiming=[]),te.fire(new n.Event("data",Fe))})},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.setData=function(te){var ye=this;return this._data=te,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Fe){if(Fe){ye.fire(new n.ErrorEvent(Fe));return}var Xe={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Xe.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new n.Event("data",Xe))}),this},X.prototype.getClusterExpansionZoom=function(te,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:te,source:this.id},ye),this},X.prototype.getClusterChildren=function(te,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:te,source:this.id},ye),this},X.prototype.getClusterLeaves=function(te,ye,Fe,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:te,limit:ye,offset:Fe},Xe),this},X.prototype._updateWorkerData=function(te){var ye=this;this._loaded=!1;var Fe=n.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(Fe.request=this.map._requestManager.transformRequest(n.browser.resolveURL(Xe),n.ResourceType.Source),Fe.request.collectResourceTiming=this._collectResourceTiming):Fe.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",Fe,function(ot,Mt){ye._removed||Mt&&Mt.abandoned||(ye._loaded=!0,Mt&&Mt.resourceTiming&&Mt.resourceTiming[ye.id]&&(ye._resourceTiming=Mt.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:Fe.source},null),te(ot))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(te,ye){var Fe=this,Xe=te.actor?"reloadTile":"loadTile";te.actor=this.actor;var ot={type:this.type,uid:te.uid,tileID:te.tileID,zoom:te.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};te.request=this.actor.send(Xe,ot,function(Mt,Ut){return delete te.request,te.unloadVectorData(),te.aborted?ye(null):Mt?ye(Mt):(te.loadVectorData(Ut,Fe.map.painter,Xe==="reloadTile"),ye(null))})},X.prototype.abortTile=function(te){te.request&&(te.request.cancel(),delete te.request),te.aborted=!0},X.prototype.unloadTile=function(te){te.unloadVectorData(),this.actor.send("removeTile",{uid:te.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(n.Evented),Y=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(ve){function X(pe,te,ye,Fe){ve.call(this),this.id=pe,this.dispatcher=ye,this.coordinates=te.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Fe),this.options=te}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(te,ye){var Fe=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(Xe,ot){Fe._loaded=!0,Xe?Fe.fire(new n.ErrorEvent(Xe)):ot&&(Fe.image=ot,te&&(Fe.coordinates=te),ye&&ye(),Fe._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(te){var ye=this;return!this.image||!te.url?this:(this.options.url=te.url,this.load(te.coordinates,function(){ye.texture=null}),this)},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(te){this.map=te,this.load()},X.prototype.setCoordinates=function(te){var ye=this;this.coordinates=te;var Fe=te.map(n.MercatorCoordinate.fromLngLat);this.tileID=ne(Fe),this.minzoom=this.maxzoom=this.tileID.z;var Xe=Fe.map(function(ot){return ye.tileID.getTilePoint(ot)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var te=this.map.painter.context,ye=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(te,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Xe=this.tiles[Fe];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},X.prototype.loadTile=function(te,ye){this.tileID&&this.tileID.equals(te.tileID.canonical)?(this.tiles[String(te.tileID.wrap)]=te,te.buckets={},ye(null)):(te.state="errored",ye(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(n.Evented);function ne(ve){for(var X=1/0,pe=1/0,te=-1/0,ye=-1/0,Fe=0,Xe=ve;Fe<Xe.length;Fe+=1){var ot=Xe[Fe];X=Math.min(X,ot.x),pe=Math.min(pe,ot.y),te=Math.max(te,ot.x),ye=Math.max(ye,ot.y)}var Mt=te-X,Ut=ye-pe,Qt=Math.max(Mt,Ut),lr=Math.max(0,Math.floor(-Math.log(Qt)/Math.LN2)),or=Math.pow(2,lr);return new n.CanonicalTileID(lr,Math.floor((X+te)/2*or),Math.floor((pe+ye)/2*or))}var oe=function(ve){function X(pe,te,ye,Fe){ve.call(this,pe,te,ye,Fe),this.roundZoom=!0,this.type="video",this.options=te}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var te=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var Fe=0,Xe=ye.urls;Fe<Xe.length;Fe+=1){var ot=Xe[Fe];this.urls.push(this.map._requestManager.transformRequest(ot,n.ResourceType.Source).url)}n.getVideo(this.urls,function(Mt,Ut){te._loaded=!0,Mt?te.fire(new n.ErrorEvent(Mt)):Ut&&(te.video=Ut,te.video.loop=!0,te.video.addEventListener("playing",function(){te.map.triggerRepaint()}),te.map&&te.video.play(),te._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(te){if(this.video){var ye=this.video.seekable;te<ye.start(0)||te>ye.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=te}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(te){this.map||(this.map=te,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var te=this.map.painter.context,ye=te.gl;this.boundsBuffer||(this.boundsBuffer=te.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(te,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Xe=this.tiles[Fe];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}(q),he=function(ve){function X(pe,te,ye,Fe){ve.call(this,pe,te,ye,Fe),te.coordinates?(!Array.isArray(te.coordinates)||te.coordinates.length!==4||te.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(ot){return typeof ot!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+pe,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+pe,null,'missing required property "coordinates"'))),te.animate&&typeof te.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+pe,null,'optional "animate" property must be a boolean value'))),te.canvas?typeof te.canvas!="string"&&!(te.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+pe,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+pe,null,'missing required property "canvas"'))),this.options=te,this.animate=te.animate!==void 0?te.animate:!0}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(te){this.map=te,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var te=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,te=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,te=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,Fe=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,Y.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(te||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(ye,this.canvas,Fe.RGBA,{premultiply:!0});for(var Xe in this.tiles){var ot=this.tiles[Xe];ot.state!=="loaded"&&(ot.state="loaded",ot.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var te=0,ye=[this.canvas.width,this.canvas.height];te<ye.length;te+=1){var Fe=ye[te];if(isNaN(Fe)||Fe<=0)return!0}return!1},X}(q),J={vector:N,raster:U,"raster-dem":O,geojson:H,video:oe,image:q,canvas:he},Z=function(ve,X,pe,te){var ye=new J[X.type](ve,X,pe,te);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return n.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},se=function(ve){return J[ve]},$=function(ve,X){J[ve]=X};function ee(ve,X){var pe=n.identity([]);return n.translate(pe,pe,[1,1,0]),n.scale(pe,pe,[ve.width*.5,ve.height*.5,1]),n.multiply(pe,pe,ve.calculatePosMatrix(X.toUnwrapped()))}function le(ve,X,pe){if(ve)for(var te=0,ye=ve;te<ye.length;te+=1){var Fe=ye[te],Xe=X[Fe];if(Xe&&Xe.source===pe&&Xe.type==="fill-extrusion")return!0}else for(var ot in X){var Mt=X[ot];if(Mt.source===pe&&Mt.type==="fill-extrusion")return!0}return!1}function Q(ve,X,pe,te,ye,Fe){var Xe=le(ye&&ye.layers,X,ve.id),ot=Fe.maxPitchScaleFactor(),Mt=ve.tilesIn(te,ot,Xe);Mt.sort(ie);for(var Ut=[],Qt=0,lr=Mt;Qt<lr.length;Qt+=1){var or=lr[Qt];Ut.push({wrappedTileID:or.tileID.wrapped().key,queryResults:or.tile.queryRenderedFeatures(X,pe,ve._state,or.queryGeometry,or.cameraQueryGeometry,or.scale,ye,Fe,ot,ee(ve.transform,or.tileID))})}var Or=ce(Ut);for(var $r in Or)Or[$r].forEach(function(Xr){var jr=Xr.feature,Qr=ve.getFeatureState(jr.layer["source-layer"],jr.id);jr.source=jr.layer.source,jr.layer["source-layer"]&&(jr.sourceLayer=jr.layer["source-layer"]),jr.state=Qr});return Or}function K(ve,X,pe,te,ye,Fe,Xe){for(var ot={},Mt=Fe.queryRenderedSymbols(te),Ut=[],Qt=0,lr=Object.keys(Mt).map(Number);Qt<lr.length;Qt+=1){var or=lr[Qt];Ut.push(Xe[or])}Ut.sort(ie);for(var Or=function(){var vn=Xr[$r],_n=vn.featureIndex.lookupSymbolFeatures(Mt[vn.bucketInstanceId],X,vn.bucketIndex,vn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var Nn in _n){var Xn=ot[Nn]=ot[Nn]||[],Jn=_n[Nn];Jn.sort(function(va,wa){var ga=vn.featureSortOrder;if(ga){var Oa=ga.indexOf(va.featureIndex),ti=ga.indexOf(wa.featureIndex);return ti-Oa}else return wa.featureIndex-va.featureIndex});for(var jn=0,ea=Jn;jn<ea.length;jn+=1){var la=ea[jn];Xn.push(la)}}},$r=0,Xr=Ut;$r<Xr.length;$r+=1)Or();var jr=function(vn){ot[vn].forEach(function(_n){var Nn=_n.feature,Xn=ve[vn],Jn=pe[Xn.source],jn=Jn.getFeatureState(Nn.layer["source-layer"],Nn.id);Nn.source=Nn.layer.source,Nn.layer["source-layer"]&&(Nn.sourceLayer=Nn.layer["source-layer"]),Nn.state=jn})};for(var Qr in ot)jr(Qr);return ot}function ue(ve,X){for(var pe=ve.getRenderableIds().map(function(Mt){return ve.getTileByID(Mt)}),te=[],ye={},Fe=0;Fe<pe.length;Fe++){var Xe=pe[Fe],ot=Xe.tileID.canonical.key;ye[ot]||(ye[ot]=!0,Xe.querySourceFeatures(te,X))}return te}function ie(ve,X){var pe=ve.tileID,te=X.tileID;return pe.overscaledZ-te.overscaledZ||pe.canonical.y-te.canonical.y||pe.wrap-te.wrap||pe.canonical.x-te.canonical.x}function ce(ve){for(var X={},pe={},te=0,ye=ve;te<ye.length;te+=1){var Fe=ye[te],Xe=Fe.queryResults,ot=Fe.wrappedTileID,Mt=pe[ot]=pe[ot]||{};for(var Ut in Xe)for(var Qt=Xe[Ut],lr=Mt[Ut]=Mt[Ut]||{},or=X[Ut]=X[Ut]||[],Or=0,$r=Qt;Or<$r.length;Or+=1){var Xr=$r[Or];lr[Xr.featureIndex]||(lr[Xr.featureIndex]=!0,or.push(Xr))}}return X}var xe=function(X,pe){this.max=X,this.onRemove=pe,this.reset()};xe.prototype.reset=function(){for(var X in this.data)for(var pe=0,te=this.data[X];pe<te.length;pe+=1){var ye=te[pe];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},xe.prototype.add=function(X,pe,te){var ye=this,Fe=X.wrapped().key;this.data[Fe]===void 0&&(this.data[Fe]=[]);var Xe={value:pe,timeout:void 0};if(te!==void 0&&(Xe.timeout=setTimeout(function(){ye.remove(X,Xe)},te)),this.data[Fe].push(Xe),this.order.push(Fe),this.order.length>this.max){var ot=this._getAndRemoveByKey(this.order[0]);ot&&this.onRemove(ot)}return this},xe.prototype.has=function(X){return X.wrapped().key in this.data},xe.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},xe.prototype._getAndRemoveByKey=function(X){var pe=this.data[X].shift();return pe.timeout&&clearTimeout(pe.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),pe.value},xe.prototype.getByKey=function(X){var pe=this.data[X];return pe?pe[0].value:null},xe.prototype.get=function(X){if(!this.has(X))return null;var pe=this.data[X.wrapped().key][0];return pe.value},xe.prototype.remove=function(X,pe){if(!this.has(X))return this;var te=X.wrapped().key,ye=pe===void 0?0:this.data[te].indexOf(pe),Fe=this.data[te][ye];return this.data[te].splice(ye,1),Fe.timeout&&clearTimeout(Fe.timeout),this.data[te].length===0&&delete this.data[te],this.onRemove(Fe.value),this.order.splice(this.order.indexOf(te),1),this},xe.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var pe=this._getAndRemoveByKey(this.order[0]);pe&&this.onRemove(pe)}return this},xe.prototype.filter=function(X){var pe=[];for(var te in this.data)for(var ye=0,Fe=this.data[te];ye<Fe.length;ye+=1){var Xe=Fe[ye];X(Xe.value)||pe.push(Xe)}for(var ot=0,Mt=pe;ot<Mt.length;ot+=1){var Ut=Mt[ot];this.remove(Ut.value.tileID,Ut)}};var Le=function(X,pe,te){this.context=X;var ye=X.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!te,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Le.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Le.prototype.updateData=function(X){var pe=this.context.gl;this.context.unbindVAO(),this.bind(),pe.bufferSubData(pe.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Le.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ae={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Oe=function(X,pe,te,ye){this.length=pe.length,this.attributes=te,this.itemSize=pe.bytesPerElement,this.dynamicDraw=ye,this.context=X;var Fe=X.gl;this.buffer=Fe.createBuffer(),X.bindVertexBuffer.set(this.buffer),Fe.bufferData(Fe.ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?Fe.DYNAMIC_DRAW:Fe.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Oe.prototype.updateData=function(X){var pe=this.context.gl;this.bind(),pe.bufferSubData(pe.ARRAY_BUFFER,0,X.arrayBuffer)},Oe.prototype.enableAttributes=function(X,pe){for(var te=0;te<this.attributes.length;te++){var ye=this.attributes[te],Fe=pe.attributes[ye.name];Fe!==void 0&&X.enableVertexAttribArray(Fe)}},Oe.prototype.setVertexAttribPointers=function(X,pe,te){for(var ye=0;ye<this.attributes.length;ye++){var Fe=this.attributes[ye],Xe=pe.attributes[Fe.name];Xe!==void 0&&X.vertexAttribPointer(Xe,Fe.components,X[Ae[Fe.type]],!1,this.itemSize,Fe.offset+this.itemSize*(te||0))}},Oe.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var ze=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ze.prototype.get=function(){return this.current},ze.prototype.set=function(X){},ze.prototype.getDefault=function(){return this.default},ze.prototype.setDefault=function(){this.set(this.default)};var Ee=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return n.Color.transparent},X.prototype.set=function(te){var ye=this.current;te.r===ye.r&&te.g===ye.g&&te.b===ye.b&&te.a===ye.a&&!this.dirty||(this.gl.clearColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},X}(ze),be=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearDepth(te),this.current=te,this.dirty=!1)},X}(ze),Ce=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.clearStencil(te),this.current=te,this.dirty=!1)},X}(ze),Ue=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&te[2]===ye[2]&&te[3]===ye[3]&&!this.dirty||(this.gl.colorMask(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},X}(ze),He=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthMask(te),this.current=te,this.dirty=!1)},X}(ze),Ie=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.stencilMask(te),this.current=te,this.dirty=!1)},X}(ze),Ge=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(te){var ye=this.current;te.func===ye.func&&te.ref===ye.ref&&te.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(te.func,te.ref,te.mask),this.current=te,this.dirty=!1)},X}(ze),at=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var te=this.gl;return[te.KEEP,te.KEEP,te.KEEP]},X.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&te[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(te[0],te[1],te[2]),this.current=te,this.dirty=!1)},X}(ze),lt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=te,this.dirty=!1}},X}(ze),qe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&!this.dirty||(this.gl.depthRange(te[0],te[1]),this.current=te,this.dirty=!1)},X}(ze),et=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=te,this.dirty=!1}},X}(ze),ft=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.depthFunc(te),this.current=te,this.dirty=!1)},X}(ze),dt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=te,this.dirty=!1}},X}(ze),pt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var te=this.gl;return[te.ONE,te.ZERO]},X.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(te[0],te[1]),this.current=te,this.dirty=!1)},X}(ze),At=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return n.Color.transparent},X.prototype.set=function(te){var ye=this.current;te.r===ye.r&&te.g===ye.g&&te.b===ye.b&&te.a===ye.a&&!this.dirty||(this.gl.blendColor(te.r,te.g,te.b,te.a),this.current=te,this.dirty=!1)},X}(ze),Pt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.blendEquation(te),this.current=te,this.dirty=!1)},X}(ze),Ht=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;te?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=te,this.dirty=!1}},X}(ze),Je=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.cullFace(te),this.current=te,this.dirty=!1)},X}(ze),We=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.frontFace(te),this.current=te,this.dirty=!1)},X}(ze),_e=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.useProgram(te),this.current=te,this.dirty=!1)},X}(ze),Ne=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(te){te===this.current&&!this.dirty||(this.gl.activeTexture(te),this.current=te,this.dirty=!1)},X}(ze),ke=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var te=this.gl;return[0,0,te.drawingBufferWidth,te.drawingBufferHeight]},X.prototype.set=function(te){var ye=this.current;te[0]===ye[0]&&te[1]===ye[1]&&te[2]===ye[2]&&te[3]===ye[3]&&!this.dirty||(this.gl.viewport(te[0],te[1],te[2],te[3]),this.current=te,this.dirty=!1)},X}(ze),we=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,te),this.current=te,this.dirty=!1}},X}(ze),me=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,te),this.current=te,this.dirty=!1}},X}(ze),Me=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,te),this.current=te,this.dirty=!1}},X}(ze),Se=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,te),this.current=te,this.dirty=!1}},X}(ze),Ve=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,te),this.current=te,this.dirty=!1},X}(ze),Ze=function(ve){function X(pe){ve.call(this,pe),this.vao=pe.extVertexArrayObject}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(te){!this.vao||te===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(te),this.current=te,this.dirty=!1)},X}(ze),tt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,te),this.current=te,this.dirty=!1}},X}(ze),ct=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te),this.current=te,this.dirty=!1}},X}(ze),gt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,te),this.current=te,this.dirty=!1}},X}(ze),jt=function(ve){function X(pe,te){ve.call(this,pe),this.context=pe,this.parent=te}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(ze),Kt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,te,0),this.current=te,this.dirty=!1}},X}(jt),Tt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.set=function(te){if(!(te===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,te),this.current=te,this.dirty=!1}},X}(jt),zt=function(X,pe,te,ye){this.context=X,this.width=pe,this.height=te;var Fe=X.gl,Xe=this.framebuffer=Fe.createFramebuffer();this.colorAttachment=new Kt(X,Xe),ye&&(this.depthAttachment=new Tt(X,Xe))};zt.prototype.destroy=function(){var X=this.context.gl,pe=this.colorAttachment.get();if(pe&&X.deleteTexture(pe),this.depthAttachment){var te=this.depthAttachment.get();te&&X.deleteRenderbuffer(te)}X.deleteFramebuffer(this.framebuffer)};var qt=519,Sr=function(X,pe,te){this.func=X,this.mask=pe,this.range=te};Sr.ReadOnly=!1,Sr.ReadWrite=!0,Sr.disabled=new Sr(qt,Sr.ReadOnly,[0,1]);var yt=519,Zt=7680,Jt=function(X,pe,te,ye,Fe,Xe){this.test=X,this.ref=pe,this.mask=te,this.fail=ye,this.depthFail=Fe,this.pass=Xe};Jt.disabled=new Jt({func:yt,mask:0},0,0,Zt,Zt,Zt);var mr=0,sr=1,vt=771,it=function(X,pe,te){this.blendFunction=X,this.blendColor=pe,this.mask=te};it.Replace=[sr,mr],it.disabled=new it(it.Replace,n.Color.transparent,[!1,!1,!1,!1]),it.unblended=new it(it.Replace,n.Color.transparent,[!0,!0,!0,!0]),it.alphaBlended=new it([sr,vt],n.Color.transparent,[!0,!0,!0,!0]);var xt=1029,St=2305,Rt=function(X,pe,te){this.enable=X,this.mode=pe,this.frontFace=te};Rt.disabled=new Rt(!1,xt,St),Rt.backCCW=new Rt(!0,xt,St);var Lt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new be(this),this.clearStencil=new Ce(this),this.colorMask=new Ue(this),this.depthMask=new He(this),this.stencilMask=new Ie(this),this.stencilFunc=new Ge(this),this.stencilOp=new at(this),this.stencilTest=new lt(this),this.depthRange=new qe(this),this.depthTest=new et(this),this.depthFunc=new ft(this),this.blend=new dt(this),this.blendFunc=new pt(this),this.blendColor=new At(this),this.blendEquation=new Pt(this),this.cullFace=new Ht(this),this.cullFaceSide=new Je(this),this.frontFace=new We(this),this.program=new _e(this),this.activeTexture=new Ne(this),this.viewport=new ke(this),this.bindFramebuffer=new we(this),this.bindRenderbuffer=new me(this),this.bindTexture=new Me(this),this.bindVertexBuffer=new Se(this),this.bindElementBuffer=new Ve(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ze(this),this.pixelStoreUnpack=new tt(this),this.pixelStoreUnpackPremultiplyAlpha=new ct(this),this.pixelStoreUnpackFlipY=new gt(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=X.getParameter(X.MAX_TEXTURE_SIZE)};Lt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Lt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Lt.prototype.createIndexBuffer=function(X,pe){return new Le(this,X,pe)},Lt.prototype.createVertexBuffer=function(X,pe,te){return new Oe(this,X,pe,te)},Lt.prototype.createRenderbuffer=function(X,pe,te){var ye=this.gl,Fe=ye.createRenderbuffer();return this.bindRenderbuffer.set(Fe),ye.renderbufferStorage(ye.RENDERBUFFER,X,pe,te),this.bindRenderbuffer.set(null),Fe},Lt.prototype.createFramebuffer=function(X,pe,te){return new zt(this,X,pe,te)},Lt.prototype.clear=function(X){var pe=X.color,te=X.depth,ye=this.gl,Fe=0;pe&&(Fe|=ye.COLOR_BUFFER_BIT,this.clearColor.set(pe),this.colorMask.set([!0,!0,!0,!0])),typeof te<"u"&&(Fe|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(te),this.depthMask.set(!0)),ye.clear(Fe)},Lt.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Lt.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Lt.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Lt.prototype.setColorMode=function(X){n.deepEqual(X.blendFunction,it.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Lt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ot=function(ve){function X(pe,te,ye){var Fe=this;ve.call(this),this.id=pe,this.dispatcher=ye,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(Fe._sourceLoaded=!0),Fe._sourceLoaded&&!Fe._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(Fe.reload(),Fe.transform&&Fe.update(Fe.transform))}),this.on("error",function(){Fe._sourceErrored=!0}),this._source=Z(pe,te,ye,this),this._tiles={},this._cache=new xe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(te){this.map=te,this._maxTileCacheSize=te?te._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(te)},X.prototype.onRemove=function(te){this._source&&this._source.onRemove&&this._source.onRemove(te)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var te in this._tiles){var ye=this._tiles[te];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var te=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,te&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(te,ye){return this._source.loadTile(te,ye)},X.prototype._unloadTile=function(te){if(this._source.unloadTile)return this._source.unloadTile(te,function(){})},X.prototype._abortTile=function(te){if(this._source.abortTile)return this._source.abortTile(te,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(te){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var Fe=this._tiles[ye];Fe.upload(te),Fe.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return n.values(this._tiles).map(function(te){return te.tileID}).sort(Nt).map(function(te){return te.key})},X.prototype.getRenderableIds=function(te){var ye=this,Fe=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,te)&&Fe.push(this._tiles[Xe]);return te?Fe.sort(function(ot,Mt){var Ut=ot.tileID,Qt=Mt.tileID,lr=new n.Point(Ut.canonical.x,Ut.canonical.y)._rotate(ye.transform.angle),or=new n.Point(Qt.canonical.x,Qt.canonical.y)._rotate(ye.transform.angle);return Ut.overscaledZ-Qt.overscaledZ||or.y-lr.y||or.x-lr.x}).map(function(ot){return ot.tileID.key}):Fe.map(function(ot){return ot.tileID}).sort(Nt).map(function(ot){return ot.key})},X.prototype.hasRenderableParent=function(te){var ye=this.findLoadedParent(te,0);return ye?this._isIdRenderable(ye.tileID.key):!1},X.prototype._isIdRenderable=function(te,ye){return this._tiles[te]&&this._tiles[te].hasData()&&!this._coveredTiles[te]&&(ye||!this._tiles[te].holdingForFade())},X.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var te in this._tiles)this._tiles[te].state!=="errored"&&this._reloadTile(te,"reloading")},X.prototype._reloadTile=function(te,ye){var Fe=this._tiles[te];Fe&&(Fe.state!=="loading"&&(Fe.state=ye),this._loadTile(Fe,this._tileLoaded.bind(this,Fe,te,ye)))},X.prototype._tileLoaded=function(te,ye,Fe,Xe){if(Xe){te.state="errored",Xe.status!==404?this._source.fire(new n.ErrorEvent(Xe,{tile:te})):this.update(this.transform);return}te.timeAdded=n.browser.now(),Fe==="expired"&&(te.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,te),this.getSource().type==="raster-dem"&&te.dem&&this._backfillDEM(te),this._state.initializeTileState(te,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:te,coord:te.tileID}))},X.prototype._backfillDEM=function(te){for(var ye=this.getRenderableIds(),Fe=0;Fe<ye.length;Fe++){var Xe=ye[Fe];if(te.neighboringTiles&&te.neighboringTiles[Xe]){var ot=this.getTileByID(Xe);Mt(te,ot),Mt(ot,te)}}function Mt(Ut,Qt){Ut.needsHillshadePrepare=!0;var lr=Qt.tileID.canonical.x-Ut.tileID.canonical.x,or=Qt.tileID.canonical.y-Ut.tileID.canonical.y,Or=Math.pow(2,Ut.tileID.canonical.z),$r=Qt.tileID.key;lr===0&&or===0||Math.abs(or)>1||(Math.abs(lr)>1&&(Math.abs(lr+Or)===1?lr+=Or:Math.abs(lr-Or)===1&&(lr-=Or)),!(!Qt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Qt.dem,lr,or),Ut.neighboringTiles&&Ut.neighboringTiles[$r]&&(Ut.neighboringTiles[$r].backfilled=!0)))}},X.prototype.getTile=function(te){return this.getTileByID(te.key)},X.prototype.getTileByID=function(te){return this._tiles[te]},X.prototype._retainLoadedChildren=function(te,ye,Fe,Xe){for(var ot in this._tiles){var Mt=this._tiles[ot];if(!(Xe[ot]||!Mt.hasData()||Mt.tileID.overscaledZ<=ye||Mt.tileID.overscaledZ>Fe)){for(var Ut=Mt.tileID;Mt&&Mt.tileID.overscaledZ>ye+1;){var Qt=Mt.tileID.scaledTo(Mt.tileID.overscaledZ-1);Mt=this._tiles[Qt.key],Mt&&Mt.hasData()&&(Ut=Qt)}for(var lr=Ut;lr.overscaledZ>ye;)if(lr=lr.scaledTo(lr.overscaledZ-1),te[lr.key]){Xe[Ut.key]=Ut;break}}}},X.prototype.findLoadedParent=function(te,ye){if(te.key in this._loadedParentTiles){var Fe=this._loadedParentTiles[te.key];return Fe&&Fe.tileID.overscaledZ>=ye?Fe:null}for(var Xe=te.overscaledZ-1;Xe>=ye;Xe--){var ot=te.scaledTo(Xe),Mt=this._getLoadedTile(ot);if(Mt)return Mt}},X.prototype._getLoadedTile=function(te){var ye=this._tiles[te.key];if(ye&&ye.hasData())return ye;var Fe=this._cache.getByKey(te.wrapped().key);return Fe},X.prototype.updateCacheSize=function(te){var ye=Math.ceil(te.width/this._source.tileSize)+1,Fe=Math.ceil(te.height/this._source.tileSize)+1,Xe=ye*Fe,ot=5,Mt=Math.floor(Xe*ot),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,Mt):Mt;this._cache.setMaxSize(Ut)},X.prototype.handleWrapJump=function(te){var ye=this._prevLng===void 0?te:this._prevLng,Fe=te-ye,Xe=Fe/360,ot=Math.round(Xe);if(this._prevLng=te,ot){var Mt={};for(var Ut in this._tiles){var Qt=this._tiles[Ut];Qt.tileID=Qt.tileID.unwrapTo(Qt.tileID.wrap+ot),Mt[Qt.tileID.key]=Qt}this._tiles=Mt;for(var lr in this._timers)clearTimeout(this._timers[lr]),delete this._timers[lr];for(var or in this._tiles){var Or=this._tiles[or];this._setTileReloadTimer(or,Or)}}},X.prototype.update=function(te){var ye=this;if(this.transform=te,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(te),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Fe;this.used?this._source.tileID?Fe=te.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(va){return new n.OverscaledTileID(va.canonical.z,va.wrap,va.canonical.z,va.canonical.x,va.canonical.y)}):(Fe=te.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Fe=Fe.filter(function(va){return ye._source.hasTile(va)}))):Fe=[];var Xe=te.coveringZoomLevel(this._source),ot=Math.max(Xe-X.maxOverzooming,this._source.minzoom),Mt=Math.max(Xe+X.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(Fe,Xe);if(Xt(this._source.type)){for(var Qt={},lr={},or=Object.keys(Ut),Or=0,$r=or;Or<$r.length;Or+=1){var Xr=$r[Or],jr=Ut[Xr],Qr=this._tiles[Xr];if(!(!Qr||Qr.fadeEndTime&&Qr.fadeEndTime<=n.browser.now())){var vn=this.findLoadedParent(jr,ot);vn&&(this._addTile(vn.tileID),Qt[vn.tileID.key]=vn.tileID),lr[Xr]=jr}}this._retainLoadedChildren(lr,Xe,Mt,Ut);for(var _n in Qt)Ut[_n]||(this._coveredTiles[_n]=!0,Ut[_n]=Qt[_n])}for(var Nn in Ut)this._tiles[Nn].clearFadeHold();for(var Xn=n.keysDifference(this._tiles,Ut),Jn=0,jn=Xn;Jn<jn.length;Jn+=1){var ea=jn[Jn],la=this._tiles[ea];la.hasSymbolBuckets&&!la.holdingForFade()?la.setHoldDuration(this.map._fadeDuration):(!la.hasSymbolBuckets||la.symbolFadeFinished())&&this._removeTile(ea)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var te in this._tiles)this._tiles[te].holdingForFade()&&this._removeTile(te)},X.prototype._updateRetainedTiles=function(te,ye){for(var Fe={},Xe={},ot=Math.max(ye-X.maxOverzooming,this._source.minzoom),Mt=Math.max(ye+X.maxUnderzooming,this._source.minzoom),Ut={},Qt=0,lr=te;Qt<lr.length;Qt+=1){var or=lr[Qt],Or=this._addTile(or);Fe[or.key]=or,!Or.hasData()&&ye<this._source.maxzoom&&(Ut[or.key]=or)}this._retainLoadedChildren(Ut,ye,Mt,Fe);for(var $r=0,Xr=te;$r<Xr.length;$r+=1){var jr=Xr[$r],Qr=this._tiles[jr.key];if(!Qr.hasData()){if(ye+1>this._source.maxzoom){var vn=jr.children(this._source.maxzoom)[0],_n=this.getTile(vn);if(_n&&_n.hasData()){Fe[vn.key]=vn;continue}}else{var Nn=jr.children(this._source.maxzoom);if(Fe[Nn[0].key]&&Fe[Nn[1].key]&&Fe[Nn[2].key]&&Fe[Nn[3].key])continue}for(var Xn=Qr.wasRequested(),Jn=jr.overscaledZ-1;Jn>=ot;--Jn){var jn=jr.scaledTo(Jn);if(Xe[jn.key]||(Xe[jn.key]=!0,Qr=this.getTile(jn),!Qr&&Xn&&(Qr=this._addTile(jn)),Qr&&(Fe[jn.key]=jn,Xn=Qr.wasRequested(),Qr.hasData())))break}}}return Fe},X.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var te in this._tiles){for(var ye=[],Fe=void 0,Xe=this._tiles[te].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){Fe=this._loadedParentTiles[Xe.key];break}ye.push(Xe.key);var ot=Xe.scaledTo(Xe.overscaledZ-1);if(Fe=this._getLoadedTile(ot),Fe)break;Xe=ot}for(var Mt=0,Ut=ye;Mt<Ut.length;Mt+=1){var Qt=Ut[Mt];this._loadedParentTiles[Qt]=Fe}}},X.prototype._addTile=function(te){var ye=this._tiles[te.key];if(ye)return ye;ye=this._cache.getAndRemove(te),ye&&(this._setTileReloadTimer(te.key,ye),ye.tileID=te,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[te.key]&&(clearTimeout(this._cacheTimers[te.key]),delete this._cacheTimers[te.key],this._setTileReloadTimer(te.key,ye)));var Fe=!!ye;return Fe||(ye=new n.Tile(te,this._source.tileSize*te.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,te.key,ye.state))),ye?(ye.uses++,this._tiles[te.key]=ye,Fe||this._source.fire(new n.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},X.prototype._setTileReloadTimer=function(te,ye){var Fe=this;te in this._timers&&(clearTimeout(this._timers[te]),delete this._timers[te]);var Xe=ye.getExpiryTimeout();Xe&&(this._timers[te]=setTimeout(function(){Fe._reloadTile(te,"expired"),delete Fe._timers[te]},Xe))},X.prototype._removeTile=function(te){var ye=this._tiles[te];ye&&(ye.uses--,delete this._tiles[te],this._timers[te]&&(clearTimeout(this._timers[te]),delete this._timers[te]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},X.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var te in this._tiles)this._removeTile(te);this._cache.reset()},X.prototype.tilesIn=function(te,ye,Fe){var Xe=this,ot=[],Mt=this.transform;if(!Mt)return ot;for(var Ut=Fe?Mt.getCameraQueryGeometry(te):te,Qt=te.map(function(Jn){return Mt.pointCoordinate(Jn)}),lr=Ut.map(function(Jn){return Mt.pointCoordinate(Jn)}),or=this.getIds(),Or=1/0,$r=1/0,Xr=-1/0,jr=-1/0,Qr=0,vn=lr;Qr<vn.length;Qr+=1){var _n=vn[Qr];Or=Math.min(Or,_n.x),$r=Math.min($r,_n.y),Xr=Math.max(Xr,_n.x),jr=Math.max(jr,_n.y)}for(var Nn=function(Jn){var jn=Xe._tiles[or[Jn]];if(!jn.holdingForFade()){var ea=jn.tileID,la=Math.pow(2,Mt.zoom-jn.tileID.overscaledZ),va=ye*jn.queryPadding*n.EXTENT/jn.tileSize/la,wa=[ea.getTilePoint(new n.MercatorCoordinate(Or,$r)),ea.getTilePoint(new n.MercatorCoordinate(Xr,jr))];if(wa[0].x-va<n.EXTENT&&wa[0].y-va<n.EXTENT&&wa[1].x+va>=0&&wa[1].y+va>=0){var ga=Qt.map(function(ti){return ea.getTilePoint(ti)}),Oa=lr.map(function(ti){return ea.getTilePoint(ti)});ot.push({tile:jn,tileID:ea,queryGeometry:ga,cameraQueryGeometry:Oa,scale:la})}}},Xn=0;Xn<or.length;Xn++)Nn(Xn);return ot},X.prototype.getVisibleCoordinates=function(te){for(var ye=this,Fe=this.getRenderableIds(te).map(function(Ut){return ye._tiles[Ut].tileID}),Xe=0,ot=Fe;Xe<ot.length;Xe+=1){var Mt=ot[Xe];Mt.posMatrix=this.transform.calculatePosMatrix(Mt.toUnwrapped())}return Fe},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Xt(this._source.type))for(var te in this._tiles){var ye=this._tiles[te];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=n.browser.now())return!0}return!1},X.prototype.setFeatureState=function(te,ye,Fe){te=te||"_geojsonTileLayer",this._state.updateState(te,ye,Fe)},X.prototype.removeFeatureState=function(te,ye,Fe){te=te||"_geojsonTileLayer",this._state.removeFeatureState(te,ye,Fe)},X.prototype.getFeatureState=function(te,ye){return te=te||"_geojsonTileLayer",this._state.getState(te,ye)},X.prototype.setDependencies=function(te,ye,Fe){var Xe=this._tiles[te];Xe&&Xe.setDependencies(ye,Fe)},X.prototype.reloadTilesForDependencies=function(te,ye){for(var Fe in this._tiles){var Xe=this._tiles[Fe];Xe.hasDependency(te,ye)&&this._reloadTile(Fe,"reloading")}this._cache.filter(function(ot){return!ot.hasDependency(te,ye)})},X}(n.Evented);Ot.maxOverzooming=10,Ot.maxUnderzooming=3;function Nt(ve,X){var pe=Math.abs(ve.wrap*2)-+(ve.wrap<0),te=Math.abs(X.wrap*2)-+(X.wrap<0);return ve.overscaledZ-X.overscaledZ||te-pe||X.canonical.y-ve.canonical.y||X.canonical.x-ve.canonical.x}function Xt(ve){return ve==="raster"||ve==="image"||ve==="video"}function ur(){return new n.window.Worker(bo.workerUrl)}var cr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new ur);return this.active[X]=!0,this.workers.slice()},dr.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(pe){pe.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[cr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var Ye=Math.floor(n.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(Ye,6),1);var je;function It(){return je||(je=new dr),je}function Dt(){var ve=It();ve.acquire(cr)}function Yt(){var ve=je;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(cr),je=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(ve,X){var pe={};for(var te in ve)te!=="ref"&&(pe[te]=ve[te]);return n.refProperties.forEach(function(ye){ye in X&&(pe[ye]=X[ye])}),pe}function fr(ve){ve=ve.slice();for(var X=Object.create(null),pe=0;pe<ve.length;pe++)X[ve[pe].id]=ve[pe];for(var te=0;te<ve.length;te++)"ref"in ve[te]&&(ve[te]=tr(ve[te],X[ve[te].ref]));return ve}function rr(){var ve={},X=n.styleSpec.$version;for(var pe in n.styleSpec.$root){var te=n.styleSpec.$root[pe];if(te.required){var ye=null;pe==="version"?ye=X:te.type==="array"?ye=[]:ye={},ye!=null&&(ve[pe]=ye)}}return ve}var Ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(ve,X,pe){pe.push({command:Ft.addSource,args:[ve,X[ve]]})}function br(ve,X,pe){X.push({command:Ft.removeSource,args:[ve]}),pe[ve]=!0}function yr(ve,X,pe,te){br(ve,pe,te),hr(ve,X,pe)}function vr(ve,X,pe){var te;for(te in ve[pe])if(ve[pe].hasOwnProperty(te)&&te!=="data"&&!n.deepEqual(ve[pe][te],X[pe][te]))return!1;for(te in X[pe])if(X[pe].hasOwnProperty(te)&&te!=="data"&&!n.deepEqual(ve[pe][te],X[pe][te]))return!1;return!0}function Gr(ve,X,pe,te){ve=ve||{},X=X||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(X.hasOwnProperty(ye)||br(ye,pe,te));for(ye in X)X.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?n.deepEqual(ve[ye],X[ye])||(ve[ye].type==="geojson"&&X[ye].type==="geojson"&&vr(ve,X,ye)?pe.push({command:Ft.setGeoJSONSourceData,args:[ye,X[ye].data]}):yr(ye,X,pe,te)):hr(ye,X,pe))}function _r(ve,X,pe,te,ye,Fe){ve=ve||{},X=X||{};var Xe;for(Xe in ve)ve.hasOwnProperty(Xe)&&(n.deepEqual(ve[Xe],X[Xe])||pe.push({command:Fe,args:[te,Xe,X[Xe],ye]}));for(Xe in X)!X.hasOwnProperty(Xe)||ve.hasOwnProperty(Xe)||n.deepEqual(ve[Xe],X[Xe])||pe.push({command:Fe,args:[te,Xe,X[Xe],ye]})}function Dr(ve){return ve.id}function pn(ve,X){return ve[X.id]=X,ve}function nn(ve,X,pe){ve=ve||[],X=X||[];var te=ve.map(Dr),ye=X.map(Dr),Fe=ve.reduce(pn,{}),Xe=X.reduce(pn,{}),ot=te.slice(),Mt=Object.create(null),Ut,Qt,lr,or,Or,$r,Xr;for(Ut=0,Qt=0;Ut<te.length;Ut++)lr=te[Ut],Xe.hasOwnProperty(lr)?Qt++:(pe.push({command:Ft.removeLayer,args:[lr]}),ot.splice(ot.indexOf(lr,Qt),1));for(Ut=0,Qt=0;Ut<ye.length;Ut++)lr=ye[ye.length-1-Ut],ot[ot.length-1-Ut]!==lr&&(Fe.hasOwnProperty(lr)?(pe.push({command:Ft.removeLayer,args:[lr]}),ot.splice(ot.lastIndexOf(lr,ot.length-Qt),1)):Qt++,$r=ot[ot.length-Ut],pe.push({command:Ft.addLayer,args:[Xe[lr],$r]}),ot.splice(ot.length-Ut,0,lr),Mt[lr]=!0);for(Ut=0;Ut<ye.length;Ut++)if(lr=ye[Ut],or=Fe[lr],Or=Xe[lr],!(Mt[lr]||n.deepEqual(or,Or))){if(!n.deepEqual(or.source,Or.source)||!n.deepEqual(or["source-layer"],Or["source-layer"])||!n.deepEqual(or.type,Or.type)){pe.push({command:Ft.removeLayer,args:[lr]}),$r=ot[ot.lastIndexOf(lr)+1],pe.push({command:Ft.addLayer,args:[Or,$r]});continue}_r(or.layout,Or.layout,pe,lr,null,Ft.setLayoutProperty),_r(or.paint,Or.paint,pe,lr,null,Ft.setPaintProperty),n.deepEqual(or.filter,Or.filter)||pe.push({command:Ft.setFilter,args:[lr,Or.filter]}),(!n.deepEqual(or.minzoom,Or.minzoom)||!n.deepEqual(or.maxzoom,Or.maxzoom))&&pe.push({command:Ft.setLayerZoomRange,args:[lr,Or.minzoom,Or.maxzoom]});for(Xr in or)or.hasOwnProperty(Xr)&&(Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?_r(or[Xr],Or[Xr],pe,lr,Xr.slice(6),Ft.setPaintProperty):n.deepEqual(or[Xr],Or[Xr])||pe.push({command:Ft.setLayerProperty,args:[lr,Xr,Or[Xr]]})));for(Xr in Or)!Or.hasOwnProperty(Xr)||or.hasOwnProperty(Xr)||Xr==="layout"||Xr==="paint"||Xr==="filter"||Xr==="metadata"||Xr==="minzoom"||Xr==="maxzoom"||(Xr.indexOf("paint.")===0?_r(or[Xr],Or[Xr],pe,lr,Xr.slice(6),Ft.setPaintProperty):n.deepEqual(or[Xr],Or[Xr])||pe.push({command:Ft.setLayerProperty,args:[lr,Xr,Or[Xr]]}))}}function Un(ve,X){if(!ve)return[{command:Ft.setStyle,args:[X]}];var pe=[];try{if(!n.deepEqual(ve.version,X.version))return[{command:Ft.setStyle,args:[X]}];n.deepEqual(ve.center,X.center)||pe.push({command:Ft.setCenter,args:[X.center]}),n.deepEqual(ve.zoom,X.zoom)||pe.push({command:Ft.setZoom,args:[X.zoom]}),n.deepEqual(ve.bearing,X.bearing)||pe.push({command:Ft.setBearing,args:[X.bearing]}),n.deepEqual(ve.pitch,X.pitch)||pe.push({command:Ft.setPitch,args:[X.pitch]}),n.deepEqual(ve.sprite,X.sprite)||pe.push({command:Ft.setSprite,args:[X.sprite]}),n.deepEqual(ve.glyphs,X.glyphs)||pe.push({command:Ft.setGlyphs,args:[X.glyphs]}),n.deepEqual(ve.transition,X.transition)||pe.push({command:Ft.setTransition,args:[X.transition]}),n.deepEqual(ve.light,X.light)||pe.push({command:Ft.setLight,args:[X.light]});var te={},ye=[];Gr(ve.sources,X.sources,ye,te);var Fe=[];ve.layers&&ve.layers.forEach(function(Xe){te[Xe.source]?pe.push({command:Ft.removeLayer,args:[Xe.id]}):Fe.push(Xe)}),pe=pe.concat(ye),nn(Fe,X.layers,pe)}catch(Xe){console.warn("Unable to compute style diff:",Xe),pe=[{command:Ft.setStyle,args:[X]}]}return pe}var Tn=function(X,pe){this.reset(X,pe)};Tn.prototype.reset=function(X,pe){this.points=X||[],this._distances=[0];for(var te=1;te<this.points.length;te++)this._distances[te]=this._distances[te-1]+this.points[te].dist(this.points[te-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(pe||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Tn.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=n.clamp(X,0,1);for(var pe=1,te=this._distances[pe],ye=X*this.paddedLength+this.padding;te<ye&&pe<this._distances.length;)te=this._distances[++pe];var Fe=pe-1,Xe=this._distances[Fe],ot=te-Xe,Mt=ot>0?(ye-Xe)/ot:0;return this.points[Fe].mult(1-Mt).add(this.points[pe].mult(Mt))};var Cr=function(X,pe,te){var ye=this.boxCells=[],Fe=this.circleCells=[];this.xCellCount=Math.ceil(X/te),this.yCellCount=Math.ceil(pe/te);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)ye.push([]),Fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=pe,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/pe,this.boxUid=0,this.circleUid=0};Cr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Cr.prototype.insert=function(X,pe,te,ye,Fe){this._forEachCell(pe,te,ye,Fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(pe),this.bboxes.push(te),this.bboxes.push(ye),this.bboxes.push(Fe)},Cr.prototype.insertCircle=function(X,pe,te,ye){this._forEachCell(pe-ye,te-ye,pe+ye,te+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(pe),this.circles.push(te),this.circles.push(ye)},Cr.prototype._insertBoxCell=function(X,pe,te,ye,Fe,Xe){this.boxCells[Fe].push(Xe)},Cr.prototype._insertCircleCell=function(X,pe,te,ye,Fe,Xe){this.circleCells[Fe].push(Xe)},Cr.prototype._query=function(X,pe,te,ye,Fe,Xe){if(te<0||X>this.width||ye<0||pe>this.height)return Fe?!1:[];var ot=[];if(X<=0&&pe<=0&&this.width<=te&&this.height<=ye){if(Fe)return!0;for(var Mt=0;Mt<this.boxKeys.length;Mt++)ot.push({key:this.boxKeys[Mt],x1:this.bboxes[Mt*4],y1:this.bboxes[Mt*4+1],x2:this.bboxes[Mt*4+2],y2:this.bboxes[Mt*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Qt=this.circles[Ut*3],lr=this.circles[Ut*3+1],or=this.circles[Ut*3+2];ot.push({key:this.circleKeys[Ut],x1:Qt-or,y1:lr-or,x2:Qt+or,y2:lr+or})}return Xe?ot.filter(Xe):ot}else{var Or={hitTest:Fe,seenUids:{box:{},circle:{}}};return this._forEachCell(X,pe,te,ye,this._queryCell,ot,Or,Xe),Fe?ot.length>0:ot}},Cr.prototype._queryCircle=function(X,pe,te,ye,Fe){var Xe=X-te,ot=X+te,Mt=pe-te,Ut=pe+te;if(ot<0||Xe>this.width||Ut<0||Mt>this.height)return ye?!1:[];var Qt=[],lr={hitTest:ye,circle:{x:X,y:pe,radius:te},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,Mt,ot,Ut,this._queryCellCircle,Qt,lr,Fe),ye?Qt.length>0:Qt},Cr.prototype.query=function(X,pe,te,ye,Fe){return this._query(X,pe,te,ye,!1,Fe)},Cr.prototype.hitTest=function(X,pe,te,ye,Fe){return this._query(X,pe,te,ye,!0,Fe)},Cr.prototype.hitTestCircle=function(X,pe,te,ye){return this._queryCircle(X,pe,te,!0,ye)},Cr.prototype._queryCell=function(X,pe,te,ye,Fe,Xe,ot,Mt){var Ut=ot.seenUids,Qt=this.boxCells[Fe];if(Qt!==null)for(var lr=this.bboxes,or=0,Or=Qt;or<Or.length;or+=1){var $r=Or[or];if(!Ut.box[$r]){Ut.box[$r]=!0;var Xr=$r*4;if(X<=lr[Xr+2]&&pe<=lr[Xr+3]&&te>=lr[Xr+0]&&ye>=lr[Xr+1]&&(!Mt||Mt(this.boxKeys[$r]))){if(ot.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[$r],x1:lr[Xr],y1:lr[Xr+1],x2:lr[Xr+2],y2:lr[Xr+3]})}}}var jr=this.circleCells[Fe];if(jr!==null)for(var Qr=this.circles,vn=0,_n=jr;vn<_n.length;vn+=1){var Nn=_n[vn];if(!Ut.circle[Nn]){Ut.circle[Nn]=!0;var Xn=Nn*3;if(this._circleAndRectCollide(Qr[Xn],Qr[Xn+1],Qr[Xn+2],X,pe,te,ye)&&(!Mt||Mt(this.circleKeys[Nn]))){if(ot.hitTest)return Xe.push(!0),!0;var Jn=Qr[Xn],jn=Qr[Xn+1],ea=Qr[Xn+2];Xe.push({key:this.circleKeys[Nn],x1:Jn-ea,y1:jn-ea,x2:Jn+ea,y2:jn+ea})}}}},Cr.prototype._queryCellCircle=function(X,pe,te,ye,Fe,Xe,ot,Mt){var Ut=ot.circle,Qt=ot.seenUids,lr=this.boxCells[Fe];if(lr!==null)for(var or=this.bboxes,Or=0,$r=lr;Or<$r.length;Or+=1){var Xr=$r[Or];if(!Qt.box[Xr]){Qt.box[Xr]=!0;var jr=Xr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,or[jr+0],or[jr+1],or[jr+2],or[jr+3])&&(!Mt||Mt(this.boxKeys[Xr])))return Xe.push(!0),!0}}var Qr=this.circleCells[Fe];if(Qr!==null)for(var vn=this.circles,_n=0,Nn=Qr;_n<Nn.length;_n+=1){var Xn=Nn[_n];if(!Qt.circle[Xn]){Qt.circle[Xn]=!0;var Jn=Xn*3;if(this._circlesCollide(vn[Jn],vn[Jn+1],vn[Jn+2],Ut.x,Ut.y,Ut.radius)&&(!Mt||Mt(this.circleKeys[Xn])))return Xe.push(!0),!0}}},Cr.prototype._forEachCell=function(X,pe,te,ye,Fe,Xe,ot,Mt){for(var Ut=this._convertToXCellCoord(X),Qt=this._convertToYCellCoord(pe),lr=this._convertToXCellCoord(te),or=this._convertToYCellCoord(ye),Or=Ut;Or<=lr;Or++)for(var $r=Qt;$r<=or;$r++){var Xr=this.xCellCount*$r+Or;if(Fe.call(this,X,pe,te,ye,Xr,Xe,ot,Mt))return}},Cr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},Cr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},Cr.prototype._circlesCollide=function(X,pe,te,ye,Fe,Xe){var ot=ye-X,Mt=Fe-pe,Ut=te+Xe;return Ut*Ut>ot*ot+Mt*Mt},Cr.prototype._circleAndRectCollide=function(X,pe,te,ye,Fe,Xe,ot){var Mt=(Xe-ye)/2,Ut=Math.abs(X-(ye+Mt));if(Ut>Mt+te)return!1;var Qt=(ot-Fe)/2,lr=Math.abs(pe-(Fe+Qt));if(lr>Qt+te)return!1;if(Ut<=Mt||lr<=Qt)return!0;var or=Ut-Mt,Or=lr-Qt;return or*or+Or*Or<=te*te};function Lr(ve,X,pe,te,ye){var Fe=n.create();return X?(n.scale(Fe,Fe,[1/ye,1/ye,1]),pe||n.rotateZ(Fe,Fe,te.angle)):n.multiply(Fe,te.labelPlaneMatrix,ve),Fe}function Zr(ve,X,pe,te,ye){if(X){var Fe=n.clone(ve);return n.scale(Fe,Fe,[ye,ye,1]),pe||n.rotateZ(Fe,Fe,-te.angle),Fe}else return te.glCoordMatrix}function Wr(ve,X){var pe=[ve.x,ve.y,0,1];Mr(pe,pe,X);var te=pe[3];return{point:new n.Point(pe[0]/te,pe[1]/te),signedDistanceFromCamera:te}}function sn(ve,X){return .5+.5*(ve/X)}function yn(ve,X){var pe=ve[0]/ve[3],te=ve[1]/ve[3],ye=pe>=-X[0]&&pe<=X[0]&&te>=-X[1]&&te<=X[1];return ye}function bn(ve,X,pe,te,ye,Fe,Xe,ot){var Mt=te?ve.textSizeData:ve.iconSizeData,Ut=n.evaluateSizeForZoom(Mt,pe.transform.zoom),Qt=[256/pe.width*2+1,256/pe.height*2+1],lr=te?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;lr.clear();for(var or=ve.lineVertexArray,Or=te?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,$r=pe.transform.width/pe.transform.height,Xr=!1,jr=0;jr<Or.length;jr++){var Qr=Or.get(jr);if(Qr.hidden||Qr.writingMode===n.WritingMode.vertical&&!Xr){ta(Qr.numGlyphs,lr);continue}Xr=!1;var vn=[Qr.anchorX,Qr.anchorY,0,1];if(n.transformMat4(vn,vn,X),!yn(vn,Qt)){ta(Qr.numGlyphs,lr);continue}var _n=vn[3],Nn=sn(pe.transform.cameraToCenterDistance,_n),Xn=n.evaluateSizeForFeature(Mt,Ut,Qr),Jn=Xe?Xn/Nn:Xn*Nn,jn=new n.Point(Qr.anchorX,Qr.anchorY),ea=Wr(jn,ye).point,la={},va=sa(Qr,Jn,!1,ot,X,ye,Fe,ve.glyphOffsetArray,or,lr,ea,jn,la,$r);Xr=va.useVertical,(va.notEnoughRoom||Xr||va.needsFlipping&&sa(Qr,Jn,!0,ot,X,ye,Fe,ve.glyphOffsetArray,or,lr,ea,jn,la,$r).notEnoughRoom)&&ta(Qr.numGlyphs,lr)}te?ve.text.dynamicLayoutVertexBuffer.updateData(lr):ve.icon.dynamicLayoutVertexBuffer.updateData(lr)}function Pn(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt){var lr=ot.glyphStartIndex+ot.numGlyphs,or=ot.lineStartIndex,Or=ot.lineStartIndex+ot.lineLength,$r=X.getoffsetX(ot.glyphStartIndex),Xr=X.getoffsetX(lr-1),jr=ra(ve*$r,pe,te,ye,Fe,Xe,ot.segment,or,Or,Mt,Ut,Qt);if(!jr)return null;var Qr=ra(ve*Xr,pe,te,ye,Fe,Xe,ot.segment,or,Or,Mt,Ut,Qt);return Qr?{first:jr,last:Qr}:null}function Bn(ve,X,pe,te){if(ve===n.WritingMode.horizontal){var ye=Math.abs(pe.y-X.y),Fe=Math.abs(pe.x-X.x)*te;if(ye>Fe)return{useVertical:!0}}return(ve===n.WritingMode.vertical?X.y<pe.y:X.x>pe.x)?{needsFlipping:!0}:null}function sa(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt,lr,or,Or){var $r=X/24,Xr=ve.lineOffsetX*$r,jr=ve.lineOffsetY*$r,Qr;if(ve.numGlyphs>1){var vn=ve.glyphStartIndex+ve.numGlyphs,_n=ve.lineStartIndex,Nn=ve.lineStartIndex+ve.lineLength,Xn=Pn($r,ot,Xr,jr,pe,Qt,lr,ve,Mt,Fe,or);if(!Xn)return{notEnoughRoom:!0};var Jn=Wr(Xn.first.point,Xe).point,jn=Wr(Xn.last.point,Xe).point;if(te&&!pe){var ea=Bn(ve.writingMode,Jn,jn,Or);if(ea)return ea}Qr=[Xn.first];for(var la=ve.glyphStartIndex+1;la<vn-1;la++)Qr.push(ra($r*ot.getoffsetX(la),Xr,jr,pe,Qt,lr,ve.segment,_n,Nn,Mt,Fe,or));Qr.push(Xn.last)}else{if(te&&!pe){var va=Wr(lr,ye).point,wa=ve.lineStartIndex+ve.segment+1,ga=new n.Point(Mt.getx(wa),Mt.gety(wa)),Oa=Wr(ga,ye),ti=Oa.signedDistanceFromCamera>0?Oa.point:Kn(lr,ga,va,1,ye),Xa=Bn(ve.writingMode,va,ti,Or);if(Xa)return Xa}var Ea=ra($r*ot.getoffsetX(ve.glyphStartIndex),Xr,jr,pe,Qt,lr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,Mt,Fe,or);if(!Ea)return{notEnoughRoom:!0};Qr=[Ea]}for(var Ka=0,Ga=Qr;Ka<Ga.length;Ka+=1){var ui=Ga[Ka];n.addDynamicAttributes(Ut,ui.point,ui.angle)}return{}}function Kn(ve,X,pe,te,ye){var Fe=Wr(ve.add(ve.sub(X)._unit()),ye).point,Xe=pe.sub(Fe);return pe.add(Xe._mult(te/Xe.mag()))}function ra(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt,lr){var or=te?ve-X:ve+X,Or=or>0?1:-1,$r=0;te&&(Or*=-1,$r=Math.PI),Or<0&&($r+=Math.PI);for(var Xr=Or>0?ot+Xe:ot+Xe+1,jr=ye,Qr=ye,vn=0,_n=0,Nn=Math.abs(or),Xn=[];vn+_n<=Nn;){if(Xr+=Or,Xr<ot||Xr>=Mt)return null;if(Qr=jr,Xn.push(jr),jr=lr[Xr],jr===void 0){var Jn=new n.Point(Ut.getx(Xr),Ut.gety(Xr)),jn=Wr(Jn,Qt);if(jn.signedDistanceFromCamera>0)jr=lr[Xr]=jn.point;else{var ea=Xr-Or,la=vn===0?Fe:new n.Point(Ut.getx(ea),Ut.gety(ea));jr=Kn(la,Jn,Qr,Nn-vn+1,Qt)}}vn+=_n,_n=Qr.dist(jr)}var va=(Nn-vn)/_n,wa=jr.sub(Qr),ga=wa.mult(va)._add(Qr);ga._add(wa._unit()._perp()._mult(pe*Or));var Oa=$r+Math.atan2(jr.y-Qr.y,jr.x-Qr.x);return Xn.push(ga),{point:ga,angle:Oa,path:Xn}}var $n=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ta(ve,X){for(var pe=0;pe<ve;pe++){var te=X.length;X.resize(te+4),X.float32.set($n,te*3)}}function Mr(ve,X,pe){var te=X[0],ye=X[1];return ve[0]=pe[0]*te+pe[4]*ye+pe[12],ve[1]=pe[1]*te+pe[5]*ye+pe[13],ve[3]=pe[3]*te+pe[7]*ye+pe[15],ve}var un=100,on=function(X,pe,te){pe===void 0&&(pe=new Cr(X.width+2*un,X.height+2*un,25)),te===void 0&&(te=new Cr(X.width+2*un,X.height+2*un,25)),this.transform=X,this.grid=pe,this.ignoredGrid=te,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+un,this.screenBottomBoundary=X.height+un,this.gridRightBoundary=X.width+2*un,this.gridBottomBoundary=X.height+2*un};on.prototype.placeCollisionBox=function(X,pe,te,ye,Fe){var Xe=this.projectAndGetPerspectiveRatio(ye,X.anchorPointX,X.anchorPointY),ot=te*Xe.perspectiveRatio,Mt=X.x1*ot+Xe.point.x,Ut=X.y1*ot+Xe.point.y,Qt=X.x2*ot+Xe.point.x,lr=X.y2*ot+Xe.point.y;return!this.isInsideGrid(Mt,Ut,Qt,lr)||!pe&&this.grid.hitTest(Mt,Ut,Qt,lr,Fe)?{box:[],offscreen:!1}:{box:[Mt,Ut,Qt,lr],offscreen:this.isOffscreen(Mt,Ut,Qt,lr)}},on.prototype.placeCollisionCircles=function(X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt,lr,or,Or){var $r=[],Xr=new n.Point(pe.anchorX,pe.anchorY),jr=Wr(Xr,Xe),Qr=sn(this.transform.cameraToCenterDistance,jr.signedDistanceFromCamera),vn=Qt?Fe/Qr:Fe*Qr,_n=vn/n.ONE_EM,Nn=Wr(Xr,ot).point,Xn={},Jn=pe.lineOffsetX*_n,jn=pe.lineOffsetY*_n,ea=Pn(_n,ye,Jn,jn,!1,Nn,Xr,pe,te,ot,Xn),la=!1,va=!1,wa=!0;if(ea){for(var ga=or*.5*Qr+Or,Oa=new n.Point(-un,-un),ti=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),Xa=new Tn,Ea=ea.first,Ka=ea.last,Ga=[],ui=Ea.path.length-1;ui>=1;ui--)Ga.push(Ea.path[ui]);for(var ai=1;ai<Ka.path.length;ai++)Ga.push(Ka.path[ai]);var Ci=ga*2.5;if(Mt){var ei=Ga.map(function($l){return Wr($l,Mt)});ei.some(function($l){return $l.signedDistanceFromCamera<=0})?Ga=[]:Ga=ei.map(function($l){return $l.point})}var wi=[];if(Ga.length>0){for(var Wa=Ga[0].clone(),ri=Ga[0].clone(),$i=1;$i<Ga.length;$i++)Wa.x=Math.min(Wa.x,Ga[$i].x),Wa.y=Math.min(Wa.y,Ga[$i].y),ri.x=Math.max(ri.x,Ga[$i].x),ri.y=Math.max(ri.y,Ga[$i].y);Wa.x>=Oa.x&&ri.x<=ti.x&&Wa.y>=Oa.y&&ri.y<=ti.y?wi=[Ga]:ri.x<Oa.x||Wa.x>ti.x||ri.y<Oa.y||Wa.y>ti.y?wi=[]:wi=n.clipLine([Ga],Oa.x,Oa.y,ti.x,ti.y)}for(var Do=0,Ml=wi;Do<Ml.length;Do+=1){var El=Ml[Do];Xa.reset(El,ga*.25);var Zl=0;Xa.length<=.5*ga?Zl=1:Zl=Math.ceil(Xa.paddedLength/Ci)+1;for(var Cu=0;Cu<Zl;Cu++){var Ec=Cu/Math.max(Zl-1,1),Lu=Xa.lerp(Ec),Ss=Lu.x+un,Pu=Lu.y+un;$r.push(Ss,Pu,ga,0);var Vs=Ss-ga,Ms=Pu-ga,Xl=Ss+ga,cf=Pu+ga;if(wa=wa&&this.isOffscreen(Vs,Ms,Xl,cf),va=va||this.isInsideGrid(Vs,Ms,Xl,cf),!X&&this.grid.hitTestCircle(Ss,Pu,ga,lr)&&(la=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:la}}}}return{circles:!Ut&&la||!va?[]:$r,offscreen:wa,collisionDetected:la}},on.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var pe=[],te=1/0,ye=1/0,Fe=-1/0,Xe=-1/0,ot=0,Mt=X;ot<Mt.length;ot+=1){var Ut=Mt[ot],Qt=new n.Point(Ut.x+un,Ut.y+un);te=Math.min(te,Qt.x),ye=Math.min(ye,Qt.y),Fe=Math.max(Fe,Qt.x),Xe=Math.max(Xe,Qt.y),pe.push(Qt)}for(var lr=this.grid.query(te,ye,Fe,Xe).concat(this.ignoredGrid.query(te,ye,Fe,Xe)),or={},Or={},$r=0,Xr=lr;$r<Xr.length;$r+=1){var jr=Xr[$r],Qr=jr.key;if(or[Qr.bucketInstanceId]===void 0&&(or[Qr.bucketInstanceId]={}),!or[Qr.bucketInstanceId][Qr.featureIndex]){var vn=[new n.Point(jr.x1,jr.y1),new n.Point(jr.x2,jr.y1),new n.Point(jr.x2,jr.y2),new n.Point(jr.x1,jr.y2)];n.polygonIntersectsPolygon(pe,vn)&&(or[Qr.bucketInstanceId][Qr.featureIndex]=!0,Or[Qr.bucketInstanceId]===void 0&&(Or[Qr.bucketInstanceId]=[]),Or[Qr.bucketInstanceId].push(Qr.featureIndex))}}return Or},on.prototype.insertCollisionBox=function(X,pe,te,ye,Fe){var Xe=pe?this.ignoredGrid:this.grid,ot={bucketInstanceId:te,featureIndex:ye,collisionGroupID:Fe};Xe.insert(ot,X[0],X[1],X[2],X[3])},on.prototype.insertCollisionCircles=function(X,pe,te,ye,Fe){for(var Xe=pe?this.ignoredGrid:this.grid,ot={bucketInstanceId:te,featureIndex:ye,collisionGroupID:Fe},Mt=0;Mt<X.length;Mt+=4)Xe.insertCircle(ot,X[Mt],X[Mt+1],X[Mt+2])},on.prototype.projectAndGetPerspectiveRatio=function(X,pe,te){var ye=[pe,te,0,1];Mr(ye,ye,X);var Fe=new n.Point((ye[0]/ye[3]+1)/2*this.transform.width+un,(-ye[1]/ye[3]+1)/2*this.transform.height+un);return{point:Fe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},on.prototype.isOffscreen=function(X,pe,te,ye){return te<un||X>=this.screenRightBoundary||ye<un||pe>this.screenBottomBoundary},on.prototype.isInsideGrid=function(X,pe,te,ye){return te>=0&&X<this.gridRightBoundary&&ye>=0&&pe<this.gridBottomBoundary},on.prototype.getViewportMatrix=function(){var X=n.identity([]);return n.translate(X,X,[-un,-un,0]),X};function mn(ve,X,pe){return X*(n.EXTENT/(ve.tileSize*Math.pow(2,pe-ve.tileID.overscaledZ)))}var Yn=function(X,pe,te,ye){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?pe:-pe))):this.opacity=ye&&te?1:0,this.placed=te};Yn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var $t=function(X,pe,te,ye,Fe){this.text=new Yn(X?X.text:null,pe,te,Fe),this.icon=new Yn(X?X.icon:null,pe,ye,Fe)};$t.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var xr=function(X,pe,te){this.text=X,this.icon=pe,this.skipFade=te},Nr=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},En=function(X,pe,te,ye,Fe){this.bucketInstanceId=X,this.featureIndex=pe,this.sourceLayerIndex=te,this.bucketIndex=ye,this.tileID=Fe},Qn=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};Qn.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var pe=++this.maxGroupID;this.collisionGroups[X]={ID:pe,predicate:function(te){return te.collisionGroupID===pe}}}return this.collisionGroups[X]};function Ca(ve,X,pe,te,ye){var Fe=n.getAnchorAlignment(ve),Xe=Fe.horizontalAlign,ot=Fe.verticalAlign,Mt=-(Xe-.5)*X,Ut=-(ot-.5)*pe,Qt=n.evaluateVariableOffset(ve,te);return new n.Point(Mt+Qt[0]*ye,Ut+Qt[1]*ye)}function wr(ve,X,pe,te,ye,Fe){var Xe=ve.x1,ot=ve.x2,Mt=ve.y1,Ut=ve.y2,Qt=ve.anchorPointX,lr=ve.anchorPointY,or=new n.Point(X,pe);return te&&or._rotate(ye?Fe:-Fe),{x1:Xe+or.x,y1:Mt+or.y,x2:ot+or.x,y2:Ut+or.y,anchorPointX:Qt,anchorPointY:lr}}var zr=function(X,pe,te,ye){this.transform=X.clone(),this.collisionIndex=new on(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=pe,this.retainedQueryData={},this.collisionGroups=new Qn(te),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};zr.prototype.getBucketParts=function(X,pe,te,ye){var Fe=te.getBucket(pe),Xe=te.latestFeatureIndex;if(!(!Fe||!Xe||pe.id!==Fe.layerIds[0])){var ot=te.collisionBoxArray,Mt=Fe.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-te.tileID.overscaledZ),Qt=te.tileSize/n.EXTENT,lr=this.transform.calculatePosMatrix(te.tileID.toUnwrapped()),or=Mt.get("text-pitch-alignment")==="map",Or=Mt.get("text-rotation-alignment")==="map",$r=mn(te,1,this.transform.zoom),Xr=Lr(lr,or,Or,this.transform,$r),jr=null;if(or){var Qr=Zr(lr,or,Or,this.transform,$r);jr=n.multiply([],this.transform.labelPlaneMatrix,Qr)}this.retainedQueryData[Fe.bucketInstanceId]=new En(Fe.bucketInstanceId,Xe,Fe.sourceLayerIndex,Fe.index,te.tileID);var vn={bucket:Fe,layout:Mt,posMatrix:lr,textLabelPlaneMatrix:Xr,labelToScreenMatrix:jr,scale:Ut,textPixelRatio:Qt,holdingForFade:te.holdingForFade(),collisionBoxArray:ot,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(Fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Fe.sourceID)};if(ye)for(var _n=0,Nn=Fe.sortKeyRanges;_n<Nn.length;_n+=1){var Xn=Nn[_n],Jn=Xn.sortKey,jn=Xn.symbolInstanceStart,ea=Xn.symbolInstanceEnd;X.push({sortKey:Jn,symbolInstanceStart:jn,symbolInstanceEnd:ea,parameters:vn})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:Fe.symbolInstances.length,parameters:vn})}},zr.prototype.attemptAnchorPlacement=function(X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt,lr,or,Or,$r,Xr){var jr=[or.textOffset0,or.textOffset1],Qr=Ca(X,te,ye,jr,Fe),vn=this.collisionIndex.placeCollisionBox(wr(pe,Qr.x,Qr.y,Xe,ot,this.transform.angle),lr,Mt,Ut,Qt.predicate);if(Xr){var _n=this.collisionIndex.placeCollisionBox(wr(Xr,Qr.x,Qr.y,Xe,ot,this.transform.angle),lr,Mt,Ut,Qt.predicate);if(_n.box.length===0)return}if(vn.box.length>0){var Nn;return this.prevPlacement&&this.prevPlacement.variableOffsets[or.crossTileID]&&this.prevPlacement.placements[or.crossTileID]&&this.prevPlacement.placements[or.crossTileID].text&&(Nn=this.prevPlacement.variableOffsets[or.crossTileID].anchor),this.variableOffsets[or.crossTileID]={textOffset:jr,width:te,height:ye,anchor:X,textBoxScale:Fe,prevAnchor:Nn},this.markUsedJustification(Or,X,or,$r),Or.allowVerticalPlacement&&(this.markUsedOrientation(Or,$r,or),this.placedOrientations[or.crossTileID]=$r),{shift:Qr,placedGlyphBoxes:vn}}},zr.prototype.placeLayerBucketPart=function(X,pe,te){var ye=this,Fe=X.parameters,Xe=Fe.bucket,ot=Fe.layout,Mt=Fe.posMatrix,Ut=Fe.textLabelPlaneMatrix,Qt=Fe.labelToScreenMatrix,lr=Fe.textPixelRatio,or=Fe.holdingForFade,Or=Fe.collisionBoxArray,$r=Fe.partiallyEvaluatedTextSize,Xr=Fe.collisionGroup,jr=ot.get("text-optional"),Qr=ot.get("icon-optional"),vn=ot.get("text-allow-overlap"),_n=ot.get("icon-allow-overlap"),Nn=ot.get("text-rotation-alignment")==="map",Xn=ot.get("text-pitch-alignment")==="map",Jn=ot.get("icon-text-fit")!=="none",jn=ot.get("symbol-z-order")==="viewport-y",ea=vn&&(_n||!Xe.hasIconData()||Qr),la=_n&&(vn||!Xe.hasTextData()||jr);!Xe.collisionArrays&&Or&&Xe.deserializeCollisionBoxes(Or);var va=function(Ea,Ka){if(!pe[Ea.crossTileID]){if(or){ye.placements[Ea.crossTileID]=new xr(!1,!1,!1);return}var Ga=!1,ui=!1,ai=!0,Ci=null,ei={box:null,offscreen:null},wi={box:null,offscreen:null},Wa=null,ri=null,$i=null,Do=0,Ml=0,El=0;Ka.textFeatureIndex?Do=Ka.textFeatureIndex:Ea.useRuntimeCollisionCircles&&(Do=Ea.featureIndex),Ka.verticalTextFeatureIndex&&(Ml=Ka.verticalTextFeatureIndex);var Zl=Ka.textBox;if(Zl){var Cu=function(no){var Hs=n.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!no&&ye.prevPlacement){var Gs=ye.prevPlacement.placedOrientations[Ea.crossTileID];Gs&&(ye.placedOrientations[Ea.crossTileID]=Gs,Hs=Gs,ye.markUsedOrientation(Xe,Hs,Ea))}return Hs},Ec=function(no,Hs){if(Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&Ka.verticalTextBox)for(var Gs=0,Ad=Xe.writingModes;Gs<Ad.length;Gs+=1){var Yp=Ad[Gs];if(Yp===n.WritingMode.vertical?(ei=Hs(),wi=ei):ei=no(),ei&&ei.box&&ei.box.length)break}else ei=no()};if(ot.get("text-variable-anchor")){var Vs=ot.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[Ea.crossTileID]){var Ms=ye.prevPlacement.variableOffsets[Ea.crossTileID];Vs.indexOf(Ms.anchor)>0&&(Vs=Vs.filter(function(no){return no!==Ms.anchor}),Vs.unshift(Ms.anchor))}var Xl=function(no,Hs,Gs){for(var Ad=no.x2-no.x1,Yp=no.y2-no.y1,ox=Ea.textBoxScale,sx=Jn&&!_n?Hs:null,Ov={box:[],offscreen:!1},lx=vn?Vs.length*2:Vs.length,Sd=0;Sd<lx;++Sd){var ux=Vs[Sd%Vs.length],fx=Sd>=Vs.length,Zp=ye.attemptAnchorPlacement(ux,no,Ad,Yp,ox,Nn,Xn,lr,Mt,Xr,fx,Ea,Xe,Gs,sx);if(Zp&&(Ov=Zp.placedGlyphBoxes,Ov&&Ov.box&&Ov.box.length)){Ga=!0,Ci=Zp.shift;break}}return Ov},cf=function(){return Xl(Zl,Ka.iconBox,n.WritingMode.horizontal)},$l=function(){var no=Ka.verticalTextBox,Hs=ei&&ei.box&&ei.box.length;return Xe.allowVerticalPlacement&&!Hs&&Ea.numVerticalGlyphVertices>0&&no?Xl(no,Ka.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};Ec(cf,$l),ei&&(Ga=ei.box,ai=ei.offscreen);var md=Cu(ei&&ei.box);if(!Ga&&ye.prevPlacement){var Sh=ye.prevPlacement.variableOffsets[Ea.crossTileID];Sh&&(ye.variableOffsets[Ea.crossTileID]=Sh,ye.markUsedJustification(Xe,Sh.anchor,Ea,md))}}else{var Lu=function(no,Hs){var Gs=ye.collisionIndex.placeCollisionBox(no,vn,lr,Mt,Xr.predicate);return Gs&&Gs.box&&Gs.box.length&&(ye.markUsedOrientation(Xe,Hs,Ea),ye.placedOrientations[Ea.crossTileID]=Hs),Gs},Ss=function(){return Lu(Zl,n.WritingMode.horizontal)},Pu=function(){var no=Ka.verticalTextBox;return Xe.allowVerticalPlacement&&Ea.numVerticalGlyphVertices>0&&no?Lu(no,n.WritingMode.vertical):{box:null,offscreen:null}};Ec(Ss,Pu),Cu(ei&&ei.box&&ei.box.length)}}if(Wa=ei,Ga=Wa&&Wa.box&&Wa.box.length>0,ai=Wa&&Wa.offscreen,Ea.useRuntimeCollisionCircles){var Bo=Xe.text.placedSymbolArray.get(Ea.centerJustifiedTextSymbolIndex),xd=n.evaluateSizeForFeature(Xe.textSizeData,$r,Bo),Fv=ot.get("text-padding"),ss=Ea.collisionCircleDiameter;ri=ye.collisionIndex.placeCollisionCircles(vn,Bo,Xe.lineVertexArray,Xe.glyphOffsetArray,xd,Mt,Ut,Qt,te,Xn,Xr.predicate,ss,Fv),Ga=vn||ri.circles.length>0&&!ri.collisionDetected,ai=ai&&ri.offscreen}if(Ka.iconFeatureIndex&&(El=Ka.iconFeatureIndex),Ka.iconBox){var Mh=function(no){var Hs=Jn&&Ci?wr(no,Ci.x,Ci.y,Nn,Xn,ye.transform.angle):no;return ye.collisionIndex.placeCollisionBox(Hs,_n,lr,Mt,Xr.predicate)};wi&&wi.box&&wi.box.length&&Ka.verticalIconBox?($i=Mh(Ka.verticalIconBox),ui=$i.box.length>0):($i=Mh(Ka.iconBox),ui=$i.box.length>0),ai=ai&&$i.offscreen}var bd=jr||Ea.numHorizontalGlyphVertices===0&&Ea.numVerticalGlyphVertices===0,wd=Qr||Ea.numIconVertices===0;if(!bd&&!wd?ui=Ga=ui&&Ga:wd?bd||(ui=ui&&Ga):Ga=ui&&Ga,Ga&&Wa&&Wa.box&&(wi&&wi.box&&Ml?ye.collisionIndex.insertCollisionBox(Wa.box,ot.get("text-ignore-placement"),Xe.bucketInstanceId,Ml,Xr.ID):ye.collisionIndex.insertCollisionBox(Wa.box,ot.get("text-ignore-placement"),Xe.bucketInstanceId,Do,Xr.ID)),ui&&$i&&ye.collisionIndex.insertCollisionBox($i.box,ot.get("icon-ignore-placement"),Xe.bucketInstanceId,El,Xr.ID),ri&&(Ga&&ye.collisionIndex.insertCollisionCircles(ri.circles,ot.get("text-ignore-placement"),Xe.bucketInstanceId,Do,Xr.ID),te)){var Td=Xe.bucketInstanceId,Eh=ye.collisionCircleArrays[Td];Eh===void 0&&(Eh=ye.collisionCircleArrays[Td]=new Nr);for(var Ch=0;Ch<ri.circles.length;Ch+=4)Eh.circles.push(ri.circles[Ch+0]),Eh.circles.push(ri.circles[Ch+1]),Eh.circles.push(ri.circles[Ch+2]),Eh.circles.push(ri.collisionDetected?1:0)}ye.placements[Ea.crossTileID]=new xr(Ga||ea,ui||la,ai||Xe.justReloaded),pe[Ea.crossTileID]=!0}};if(jn)for(var wa=Xe.getSortedSymbolIndexes(this.transform.angle),ga=wa.length-1;ga>=0;--ga){var Oa=wa[ga];va(Xe.symbolInstances.get(Oa),Xe.collisionArrays[Oa])}else for(var ti=X.symbolInstanceStart;ti<X.symbolInstanceEnd;ti++)va(Xe.symbolInstances.get(ti),Xe.collisionArrays[ti]);if(te&&Xe.bucketInstanceId in this.collisionCircleArrays){var Xa=this.collisionCircleArrays[Xe.bucketInstanceId];n.invert(Xa.invProjMatrix,Mt),Xa.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},zr.prototype.markUsedJustification=function(X,pe,te,ye){var Fe={left:te.leftJustifiedTextSymbolIndex,center:te.centerJustifiedTextSymbolIndex,right:te.rightJustifiedTextSymbolIndex},Xe;ye===n.WritingMode.vertical?Xe=te.verticalPlacedTextSymbolIndex:Xe=Fe[n.getAnchorJustification(pe)];for(var ot=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex,te.verticalPlacedTextSymbolIndex],Mt=0,Ut=ot;Mt<Ut.length;Mt+=1){var Qt=Ut[Mt];Qt>=0&&(Xe>=0&&Qt!==Xe?X.text.placedSymbolArray.get(Qt).crossTileID=0:X.text.placedSymbolArray.get(Qt).crossTileID=te.crossTileID)}},zr.prototype.markUsedOrientation=function(X,pe,te){for(var ye=pe===n.WritingMode.horizontal||pe===n.WritingMode.horizontalOnly?pe:0,Fe=pe===n.WritingMode.vertical?pe:0,Xe=[te.leftJustifiedTextSymbolIndex,te.centerJustifiedTextSymbolIndex,te.rightJustifiedTextSymbolIndex],ot=0,Mt=Xe;ot<Mt.length;ot+=1){var Ut=Mt[ot];X.text.placedSymbolArray.get(Ut).placedOrientation=ye}te.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(te.verticalPlacedTextSymbolIndex).placedOrientation=Fe)},zr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var pe=this.prevPlacement,te=!1;this.prevZoomAdjustment=pe?pe.zoomAdjustment(this.transform.zoom):0;var ye=pe?pe.symbolFadeChange(X):1,Fe=pe?pe.opacities:{},Xe=pe?pe.variableOffsets:{},ot=pe?pe.placedOrientations:{};for(var Mt in this.placements){var Ut=this.placements[Mt],Qt=Fe[Mt];Qt?(this.opacities[Mt]=new $t(Qt,ye,Ut.text,Ut.icon),te=te||Ut.text!==Qt.text.placed||Ut.icon!==Qt.icon.placed):(this.opacities[Mt]=new $t(null,ye,Ut.text,Ut.icon,Ut.skipFade),te=te||Ut.text||Ut.icon)}for(var lr in Fe){var or=Fe[lr];if(!this.opacities[lr]){var Or=new $t(or,ye,!1,!1);Or.isHidden()||(this.opacities[lr]=Or,te=te||or.text.placed||or.icon.placed)}}for(var $r in Xe)!this.variableOffsets[$r]&&this.opacities[$r]&&!this.opacities[$r].isHidden()&&(this.variableOffsets[$r]=Xe[$r]);for(var Xr in ot)!this.placedOrientations[Xr]&&this.opacities[Xr]&&!this.opacities[Xr].isHidden()&&(this.placedOrientations[Xr]=ot[Xr]);te?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=pe?pe.lastPlacementChangeTime:X)},zr.prototype.updateLayerOpacities=function(X,pe){for(var te={},ye=0,Fe=pe;ye<Fe.length;ye+=1){var Xe=Fe[ye],ot=Xe.getBucket(X);ot&&Xe.latestFeatureIndex&&X.id===ot.layerIds[0]&&this.updateBucketOpacities(ot,te,Xe.collisionBoxArray)}},zr.prototype.updateBucketOpacities=function(X,pe,te){var ye=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var Fe=X.layers[0].layout,Xe=new $t(null,0,!1,!1,!0),ot=Fe.get("text-allow-overlap"),Mt=Fe.get("icon-allow-overlap"),Ut=Fe.get("text-variable-anchor"),Qt=Fe.get("text-rotation-alignment")==="map",lr=Fe.get("text-pitch-alignment")==="map",or=Fe.get("icon-text-fit")!=="none",Or=new $t(null,0,ot&&(Mt||!X.hasIconData()||Fe.get("icon-optional")),Mt&&(ot||!X.hasTextData()||Fe.get("text-optional")),!0);!X.collisionArrays&&te&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(te);for(var $r=function(vn,_n,Nn){for(var Xn=0;Xn<_n/4;Xn++)vn.opacityVertexArray.emplaceBack(Nn)},Xr=function(vn){var _n=X.symbolInstances.get(vn),Nn=_n.numHorizontalGlyphVertices,Xn=_n.numVerticalGlyphVertices,Jn=_n.crossTileID,jn=pe[Jn],ea=ye.opacities[Jn];jn?ea=Xe:ea||(ea=Or,ye.opacities[Jn]=ea),pe[Jn]=!0;var la=Nn>0||Xn>0,va=_n.numIconVertices>0,wa=ye.placedOrientations[_n.crossTileID],ga=wa===n.WritingMode.vertical,Oa=wa===n.WritingMode.horizontal||wa===n.WritingMode.horizontalOnly;if(la){var ti=Yr(ea.text),Xa=ga?en:ti;$r(X.text,Nn,Xa);var Ea=Oa?en:ti;$r(X.text,Xn,Ea);var Ka=ea.text.isHidden();[_n.rightJustifiedTextSymbolIndex,_n.centerJustifiedTextSymbolIndex,_n.leftJustifiedTextSymbolIndex].forEach(function(El){El>=0&&(X.text.placedSymbolArray.get(El).hidden=Ka||ga?1:0)}),_n.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(_n.verticalPlacedTextSymbolIndex).hidden=Ka||Oa?1:0);var Ga=ye.variableOffsets[_n.crossTileID];Ga&&ye.markUsedJustification(X,Ga.anchor,_n,wa);var ui=ye.placedOrientations[_n.crossTileID];ui&&(ye.markUsedJustification(X,"left",_n,ui),ye.markUsedOrientation(X,ui,_n))}if(va){var ai=Yr(ea.icon),Ci=!(or&&_n.verticalPlacedIconSymbolIndex&&ga);if(_n.placedIconSymbolIndex>=0){var ei=Ci?ai:en;$r(X.icon,_n.numIconVertices,ei),X.icon.placedSymbolArray.get(_n.placedIconSymbolIndex).hidden=ea.icon.isHidden()}if(_n.verticalPlacedIconSymbolIndex>=0){var wi=Ci?en:ai;$r(X.icon,_n.numVerticalIconVertices,wi),X.icon.placedSymbolArray.get(_n.verticalPlacedIconSymbolIndex).hidden=ea.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var Wa=X.collisionArrays[vn];if(Wa){var ri=new n.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var $i=!0;if(Ut){var Do=ye.variableOffsets[Jn];Do?(ri=Ca(Do.anchor,Do.width,Do.height,Do.textOffset,Do.textBoxScale),Qt&&ri._rotate(lr?ye.transform.angle:-ye.transform.angle)):$i=!1}Wa.textBox&&gr(X.textCollisionBox.collisionVertexArray,ea.text.placed,!$i||ga,ri.x,ri.y),Wa.verticalTextBox&&gr(X.textCollisionBox.collisionVertexArray,ea.text.placed,!$i||Oa,ri.x,ri.y)}var Ml=!!(!Oa&&Wa.verticalIconBox);Wa.iconBox&&gr(X.iconCollisionBox.collisionVertexArray,ea.icon.placed,Ml,or?ri.x:0,or?ri.y:0),Wa.verticalIconBox&&gr(X.iconCollisionBox.collisionVertexArray,ea.icon.placed,!Ml,or?ri.x:0,or?ri.y:0)}}},jr=0;jr<X.symbolInstances.length;jr++)Xr(jr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var Qr=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=Qr.invProjMatrix,X.placementViewportMatrix=Qr.viewportMatrix,X.collisionCircleArray=Qr.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},zr.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},zr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},zr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},zr.prototype.stillRecent=function(X,pe){var te=this.zoomAtLastRecencyCheck===pe?1-this.zoomAdjustment(pe):1;return this.zoomAtLastRecencyCheck=pe,this.commitTime+this.fadeDuration*te>X},zr.prototype.setStale=function(){this.stale=!0};function gr(ve,X,pe,te,ye){ve.emplaceBack(X?1:0,pe?1:0,te||0,ye||0),ve.emplaceBack(X?1:0,pe?1:0,te||0,ye||0),ve.emplaceBack(X?1:0,pe?1:0,te||0,ye||0),ve.emplaceBack(X?1:0,pe?1:0,te||0,ye||0)}var Br=Math.pow(2,25),xn=Math.pow(2,24),kn=Math.pow(2,17),wn=Math.pow(2,16),hn=Math.pow(2,9),Pr=Math.pow(2,8),Jr=Math.pow(2,1);function Yr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var X=ve.placed?1:0,pe=Math.floor(ve.opacity*127);return pe*Br+X*xn+pe*kn+X*wn+pe*hn+X*Pr+pe*Jr+X}var en=0,Cn=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Cn.prototype.continuePlacement=function(X,pe,te,ye,Fe){for(var Xe=this._bucketParts;this._currentTileIndex<X.length;){var ot=X[this._currentTileIndex];if(pe.getBucketParts(Xe,ye,ot,this._sortAcrossTiles),this._currentTileIndex++,Fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Ut,Qt){return Ut.sortKey-Qt.sortKey}));this._currentPartIndex<Xe.length;){var Mt=Xe[this._currentPartIndex];if(pe.placeLayerBucketPart(Mt,this._seenCrossTileIDs,te),this._currentPartIndex++,Fe())return!0}return!1};var On=function(X,pe,te,ye,Fe,Xe,ot){this.placement=new zr(X,Fe,Xe,ot),this._currentPlacementIndex=pe.length-1,this._forceFullPlacement=te,this._showCollisionBoxes=ye,this._done=!1};On.prototype.isDone=function(){return this._done},On.prototype.continuePlacement=function(X,pe,te){for(var ye=this,Fe=n.browser.now(),Xe=function(){var lr=n.browser.now()-Fe;return ye._forceFullPlacement?!1:lr>2};this._currentPlacementIndex>=0;){var ot=X[this._currentPlacementIndex],Mt=pe[ot],Ut=this.placement.collisionIndex.transform.zoom;if(Mt.type==="symbol"&&(!Mt.minzoom||Mt.minzoom<=Ut)&&(!Mt.maxzoom||Mt.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new Cn(Mt));var Qt=this._inProgressLayer.continuePlacement(te[Mt.source],this.placement,this._showCollisionBoxes,Mt,Xe);if(Qt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},On.prototype.commit=function(X){return this.placement.commit(X),this.placement};var zn=512/n.EXTENT/2,Wn=function(X,pe,te){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=te;for(var ye=0;ye<pe.length;ye++){var Fe=pe.get(ye),Xe=Fe.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:Fe.crossTileID,coord:this.getScaledCoordinates(Fe,X)})}};Wn.prototype.getScaledCoordinates=function(X,pe){var te=pe.canonical.z-this.tileID.canonical.z,ye=zn/Math.pow(2,te);return{x:Math.floor((pe.canonical.x*n.EXTENT+X.anchorX)*ye),y:Math.floor((pe.canonical.y*n.EXTENT+X.anchorY)*ye)}},Wn.prototype.findMatches=function(X,pe,te){for(var ye=this.tileID.canonical.z<pe.canonical.z?1:Math.pow(2,this.tileID.canonical.z-pe.canonical.z),Fe=0;Fe<X.length;Fe++){var Xe=X.get(Fe);if(!Xe.crossTileID){var ot=this.indexedSymbolInstances[Xe.key];if(ot)for(var Mt=this.getScaledCoordinates(Xe,pe),Ut=0,Qt=ot;Ut<Qt.length;Ut+=1){var lr=Qt[Ut];if(Math.abs(lr.coord.x-Mt.x)<=ye&&Math.abs(lr.coord.y-Mt.y)<=ye&&!te[lr.crossTileID]){te[lr.crossTileID]=!0,Xe.crossTileID=lr.crossTileID;break}}}}};var Vn=function(){this.maxCrossTileID=0};Vn.prototype.generate=function(){return++this.maxCrossTileID};var xa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};xa.prototype.handleWrapJump=function(X){var pe=Math.round((X-this.lng)/360);if(pe!==0)for(var te in this.indexes){var ye=this.indexes[te],Fe={};for(var Xe in ye){var ot=ye[Xe];ot.tileID=ot.tileID.unwrapTo(ot.tileID.wrap+pe),Fe[ot.tileID.key]=ot}this.indexes[te]=Fe}this.lng=X},xa.prototype.addBucket=function(X,pe,te){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===pe.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var ye=0;ye<pe.symbolInstances.length;ye++){var Fe=pe.symbolInstances.get(ye);Fe.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Xe=this.usedCrossTileIDs[X.overscaledZ];for(var ot in this.indexes){var Mt=this.indexes[ot];if(Number(ot)>X.overscaledZ)for(var Ut in Mt){var Qt=Mt[Ut];Qt.tileID.isChildOf(X)&&Qt.findMatches(pe.symbolInstances,X,Xe)}else{var lr=X.scaledTo(Number(ot)),or=Mt[lr.key];or&&or.findMatches(pe.symbolInstances,X,Xe)}}for(var Or=0;Or<pe.symbolInstances.length;Or++){var $r=pe.symbolInstances.get(Or);$r.crossTileID||($r.crossTileID=te.generate(),Xe[$r.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Wn(X,pe.symbolInstances,pe.bucketInstanceId),!0},xa.prototype.removeBucketCrossTileIDs=function(X,pe){for(var te in pe.indexedSymbolInstances)for(var ye=0,Fe=pe.indexedSymbolInstances[te];ye<Fe.length;ye+=1){var Xe=Fe[ye];delete this.usedCrossTileIDs[X][Xe.crossTileID]}},xa.prototype.removeStaleBuckets=function(X){var pe=!1;for(var te in this.indexes){var ye=this.indexes[te];for(var Fe in ye)X[ye[Fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(te,ye[Fe]),delete ye[Fe],pe=!0)}return pe};var ca=function(){this.layerIndexes={},this.crossTileIDs=new Vn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ca.prototype.addLayer=function(X,pe,te){var ye=this.layerIndexes[X.id];ye===void 0&&(ye=this.layerIndexes[X.id]=new xa);var Fe=!1,Xe={};ye.handleWrapJump(te);for(var ot=0,Mt=pe;ot<Mt.length;ot+=1){var Ut=Mt[ot],Qt=Ut.getBucket(X);!Qt||X.id!==Qt.layerIds[0]||(Qt.bucketInstanceId||(Qt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Ut.tileID,Qt,this.crossTileIDs)&&(Fe=!0),Xe[Qt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Xe)&&(Fe=!0),Fe},ca.prototype.pruneUnusedLayers=function(X){var pe={};X.forEach(function(ye){pe[ye]=!0});for(var te in this.layerIndexes)pe[te]||delete this.layerIndexes[te]};var ma=function(ve,X){return n.emitValidationErrors(ve,X&&X.filter(function(pe){return pe.identifier!=="source.canvas"}))},ka=n.pick(Ft,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),mi=n.pick(Ft,["setCenter","setZoom","setBearing","setPitch"]),oi=rr(),qo=function(ve){function X(pe,te){var ye=this;te===void 0&&(te={}),ve.call(this),this.map=pe,this.dispatcher=new _(It(),this),this.imageManager=new S,this.imageManager.setEventedParent(this),this.glyphManager=new E(pe._requestManager,te.localIdeographFontFamily),this.lineAtlas=new z(256,512),this.crossTileSymbolIndex=new ca,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var Fe=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Xe){var ot={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};Fe.dispatcher.broadcast("syncRTLPluginState",ot,function(Mt,Ut){if(n.triggerPluginCompletionEvent(Mt),Ut){var Qt=Ut.every(function(or){return or});if(Qt)for(var lr in Fe.sourceCaches)Fe.sourceCaches[lr].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var ot=ye.sourceCaches[Xe.sourceId];if(ot){var Mt=ot.getSource();if(!(!Mt||!Mt.vectorLayerIds))for(var Ut in ye._layers){var Qt=ye._layers[Ut];Qt.source===Mt.id&&ye._validateLayer(Qt)}}}})}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(te,ye){var Fe=this;ye===void 0&&(ye={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var Xe=typeof ye.validate=="boolean"?ye.validate:!n.isMapboxURL(te);te=this.map._requestManager.normalizeStyleURL(te,ye.accessToken);var ot=this.map._requestManager.transformRequest(te,n.ResourceType.Style);this._request=n.getJSON(ot,function(Mt,Ut){Fe._request=null,Mt?Fe.fire(new n.ErrorEvent(Mt)):Ut&&Fe._load(Ut,Xe)})},X.prototype.loadJSON=function(te,ye){var Fe=this;ye===void 0&&(ye={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){Fe._request=null,Fe._load(te,ye.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(oi,!1)},X.prototype._load=function(te,ye){if(!(ye&&ma(this,n.validateStyle(te)))){this._loaded=!0,this.stylesheet=te;for(var Fe in te.sources)this.addSource(Fe,te.sources[Fe],{validate:!1});te.sprite?this._loadSprite(te.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(te.glyphs);var Xe=fr(this.stylesheet.layers);this._order=Xe.map(function(Qt){return Qt.id}),this._layers={},this._serializedLayers={};for(var ot=0,Mt=Xe;ot<Mt.length;ot+=1){var Ut=Mt[ot];Ut=n.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new x(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},X.prototype._loadSprite=function(te){var ye=this;this._spriteRequest=s(te,this.map._requestManager,function(Fe,Xe){if(ye._spriteRequest=null,Fe)ye.fire(new n.ErrorEvent(Fe));else if(Xe)for(var ot in Xe)ye.imageManager.addImage(ot,Xe[ot]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new n.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(te){var ye=this.sourceCaches[te.source];if(ye){var Fe=te.sourceLayer;if(Fe){var Xe=ye.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(Fe)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+Fe+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+te.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var te in this.sourceCaches)if(!this.sourceCaches[te].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(te){for(var ye=[],Fe=0,Xe=te;Fe<Xe.length;Fe+=1){var ot=Xe[Fe],Mt=this._layers[ot];Mt.type!=="custom"&&ye.push(Mt.serialize())}return ye},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var te in this.sourceCaches)if(this.sourceCaches[te].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(te){if(this._loaded){var ye=this._changed;if(this._changed){var Fe=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(Fe.length||Xe.length)&&this._updateWorkerLayers(Fe,Xe);for(var ot in this._updatedSources){var Mt=this._updatedSources[ot];Mt==="reload"?this._reloadSource(ot):Mt==="clear"&&this._clearSource(ot)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(te);this.light.updateTransitions(te),this._resetUpdates()}var Qt={};for(var lr in this.sourceCaches){var or=this.sourceCaches[lr];Qt[lr]=or.used,or.used=!1}for(var Or=0,$r=this._order;Or<$r.length;Or+=1){var Xr=$r[Or],jr=this._layers[Xr];jr.recalculate(te,this._availableImages),!jr.isHidden(te.zoom)&&jr.source&&(this.sourceCaches[jr.source].used=!0)}for(var Qr in Qt){var vn=this.sourceCaches[Qr];Qt[Qr]!==vn.used&&vn.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Qr}))}this.light.recalculate(te),this.z=te.zoom,ye&&this.fire(new n.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var te=Object.keys(this._changedImages);if(te.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],te);this._changedImages={}}},X.prototype._updateWorkerLayers=function(te,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(te),removedIds:ye})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(te){var ye=this;if(this._checkLoaded(),ma(this,n.validateStyle(te)))return!1;te=n.clone$1(te),te.layers=fr(te.layers);var Fe=Un(this.serialize(),te).filter(function(ot){return!(ot.command in mi)});if(Fe.length===0)return!1;var Xe=Fe.filter(function(ot){return!(ot.command in ka)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(ot){return ot.command}).join(", ")+".");return Fe.forEach(function(ot){ot.command!=="setTransition"&&ye[ot.command].apply(ye,ot.args)}),this.stylesheet=te,!0},X.prototype.addImage=function(te,ye){if(this.getImage(te))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(te,ye),this._afterImageUpdated(te)},X.prototype.updateImage=function(te,ye){this.imageManager.updateImage(te,ye)},X.prototype.getImage=function(te){return this.imageManager.getImage(te)},X.prototype.removeImage=function(te){if(!this.getImage(te))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(te),this._afterImageUpdated(te)},X.prototype._afterImageUpdated=function(te){this._availableImages=this.imageManager.listImages(),this._changedImages[te]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(te,ye,Fe){var Xe=this;if(Fe===void 0&&(Fe={}),this._checkLoaded(),this.sourceCaches[te]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(ye).join(", ")+".");var ot=["vector","raster","geojson","video","image"],Mt=ot.indexOf(ye.type)>=0;if(!(Mt&&this._validate(n.validateStyle.source,"sources."+te,ye,null,Fe))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Ut=this.sourceCaches[te]=new Ot(te,ye,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Ut.serialize(),sourceId:te}}),Ut.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(te){if(this._checkLoaded(),this.sourceCaches[te]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===te)return this.fire(new n.ErrorEvent(new Error('Source "'+te+'" cannot be removed while layer "'+ye+'" is using it.')));var Fe=this.sourceCaches[te];delete this.sourceCaches[te],delete this._updatedSources[te],Fe.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:te})),Fe.setEventedParent(null),Fe.clearTiles(),Fe.onRemove&&Fe.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(te,ye){this._checkLoaded();var Fe=this.sourceCaches[te].getSource();Fe.setData(ye),this._changed=!0},X.prototype.getSource=function(te){return this.sourceCaches[te]&&this.sourceCaches[te].getSource()},X.prototype.addLayer=function(te,ye,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Xe=te.id;if(this.getLayer(Xe)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var ot;if(te.type==="custom"){if(ma(this,n.validateCustomStyleLayer(te)))return;ot=n.createStyleLayer(te)}else{if(typeof te.source=="object"&&(this.addSource(Xe,te.source),te=n.clone$1(te),te=n.extend(te,{source:Xe})),this._validate(n.validateStyle.layer,"layers."+Xe,te,{arrayIndex:-1},Fe))return;ot=n.createStyleLayer(te),this._validateLayer(ot),ot.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[ot.id]=ot.serialize()}var Mt=ye?this._order.indexOf(ye):this._order.length;if(ye&&Mt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(Mt,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=ot,this._removedLayers[Xe]&&ot.source&&ot.type!=="custom"){var Ut=this._removedLayers[Xe];delete this._removedLayers[Xe],Ut.type!==ot.type?this._updatedSources[ot.source]="clear":(this._updatedSources[ot.source]="reload",this.sourceCaches[ot.source].pause())}this._updateLayer(ot),ot.onAdd&&ot.onAdd(this.map)},X.prototype.moveLayer=function(te,ye){this._checkLoaded(),this._changed=!0;var Fe=this._layers[te];if(!Fe){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be moved.")));return}if(te!==ye){var Xe=this._order.indexOf(te);this._order.splice(Xe,1);var ot=ye?this._order.indexOf(ye):this._order.length;if(ye&&ot===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(ot,0,te),this._layerOrderChanged=!0}},X.prototype.removeLayer=function(te){this._checkLoaded();var ye=this._layers[te];if(!ye){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var Fe=this._order.indexOf(te);this._order.splice(Fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[te]=ye,delete this._layers[te],delete this._serializedLayers[te],delete this._updatedLayers[te],delete this._updatedPaintProps[te],ye.onRemove&&ye.onRemove(this.map)},X.prototype.getLayer=function(te){return this._layers[te]},X.prototype.hasLayer=function(te){return te in this._layers},X.prototype.setLayerZoomRange=function(te,ye,Fe){this._checkLoaded();var Xe=this.getLayer(te);if(!Xe){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===ye&&Xe.maxzoom===Fe||(ye!=null&&(Xe.minzoom=ye),Fe!=null&&(Xe.maxzoom=Fe),this._updateLayer(Xe))},X.prototype.setFilter=function(te,ye,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Xe=this.getLayer(te);if(!Xe){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual(Xe.filter,ye)){if(ye==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(n.validateStyle.filter,"layers."+Xe.id+".filter",ye,null,Fe)||(Xe.filter=n.clone$1(ye),this._updateLayer(Xe))}},X.prototype.getFilter=function(te){return n.clone$1(this.getLayer(te).filter)},X.prototype.setLayoutProperty=function(te,ye,Fe,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ot=this.getLayer(te);if(!ot){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(ot.getLayoutProperty(ye),Fe)||(ot.setLayoutProperty(ye,Fe,Xe),this._updateLayer(ot))},X.prototype.getLayoutProperty=function(te,ye){var Fe=this.getLayer(te);if(!Fe){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style.")));return}return Fe.getLayoutProperty(ye)},X.prototype.setPaintProperty=function(te,ye,Fe,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var ot=this.getLayer(te);if(!ot){this.fire(new n.ErrorEvent(new Error("The layer '"+te+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(ot.getPaintProperty(ye),Fe)){var Mt=ot.setPaintProperty(ye,Fe,Xe);Mt&&this._updateLayer(ot),this._changed=!0,this._updatedPaintProps[te]=!0}},X.prototype.getPaintProperty=function(te,ye){return this.getLayer(te).getPaintProperty(ye)},X.prototype.setFeatureState=function(te,ye){this._checkLoaded();var Fe=te.source,Xe=te.sourceLayer,ot=this.sourceCaches[Fe];if(ot===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var Mt=ot.getSource().type;if(Mt==="geojson"&&Xe){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(Mt==="vector"&&!Xe){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}te.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),ot.setFeatureState(Xe,te.id,ye)},X.prototype.removeFeatureState=function(te,ye){this._checkLoaded();var Fe=te.source,Xe=this.sourceCaches[Fe];if(Xe===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var ot=Xe.getSource().type,Mt=ot==="vector"?te.sourceLayer:void 0;if(ot==="vector"&&!Mt){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof te.id!="string"&&typeof te.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));return}Xe.removeFeatureState(Mt,te.id,ye)},X.prototype.getFeatureState=function(te){this._checkLoaded();var ye=te.source,Fe=te.sourceLayer,Xe=this.sourceCaches[ye];if(Xe===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var ot=Xe.getSource().type;if(ot==="vector"&&!Fe){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return te.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(Fe,te.id)},X.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(te){return te.serialize()}),layers:this._serializeLayers(this._order)},function(te){return te!==void 0})},X.prototype._updateLayer=function(te){this._updatedLayers[te.id]=!0,te.source&&!this._updatedSources[te.source]&&this.sourceCaches[te.source].getSource().type!=="raster"&&(this._updatedSources[te.source]="reload",this.sourceCaches[te.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(te){for(var ye=this,Fe=function(Oa){return ye._layers[Oa].type==="fill-extrusion"},Xe={},ot=[],Mt=this._order.length-1;Mt>=0;Mt--){var Ut=this._order[Mt];if(Fe(Ut)){Xe[Ut]=Mt;for(var Qt=0,lr=te;Qt<lr.length;Qt+=1){var or=lr[Qt],Or=or[Ut];if(Or)for(var $r=0,Xr=Or;$r<Xr.length;$r+=1){var jr=Xr[$r];ot.push(jr)}}}}ot.sort(function(Oa,ti){return ti.intersectionZ-Oa.intersectionZ});for(var Qr=[],vn=this._order.length-1;vn>=0;vn--){var _n=this._order[vn];if(Fe(_n))for(var Nn=ot.length-1;Nn>=0;Nn--){var Xn=ot[Nn].feature;if(Xe[Xn.layer.id]<vn)break;Qr.push(Xn),ot.pop()}else for(var Jn=0,jn=te;Jn<jn.length;Jn+=1){var ea=jn[Jn],la=ea[_n];if(la)for(var va=0,wa=la;va<wa.length;va+=1){var ga=wa[va];Qr.push(ga.feature)}}}return Qr},X.prototype.queryRenderedFeatures=function(te,ye,Fe){ye&&ye.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Xe={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var ot=0,Mt=ye.layers;ot<Mt.length;ot+=1){var Ut=Mt[ot],Qt=this._layers[Ut];if(!Qt)return this.fire(new n.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[Qt.source]=!0}}var lr=[];ye.availableImages=this._availableImages;for(var or in this.sourceCaches)ye.layers&&!Xe[or]||lr.push(Q(this.sourceCaches[or],this._layers,this._serializedLayers,te,ye,Fe));return this.placement&&lr.push(K(this._layers,this._serializedLayers,this.sourceCaches,te,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(lr)},X.prototype.querySourceFeatures=function(te,ye){ye&&ye.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var Fe=this.sourceCaches[te];return Fe?ue(Fe,ye):[]},X.prototype.addSourceType=function(te,ye,Fe){if(X.getSourceType(te))return Fe(new Error('A source type called "'+te+'" already exists.'));if(X.setSourceType(te,ye),!ye.workerSourceURL)return Fe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:te,url:ye.workerSourceURL},Fe)},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(te,ye){ye===void 0&&(ye={}),this._checkLoaded();var Fe=this.light.getLight(),Xe=!1;for(var ot in te)if(!n.deepEqual(te[ot],Fe[ot])){Xe=!0;break}if(Xe){var Mt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(te,ye),this.light.updateTransitions(Mt)}},X.prototype._validate=function(te,ye,Fe,Xe,ot){return ot===void 0&&(ot={}),ot&&ot.validate===!1?!1:ma(this,te.call(n.validateStyle,n.extend({key:ye,style:this.serialize(),value:Fe,styleSpec:n.styleSpec},Xe)))},X.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var te in this._layers){var ye=this._layers[te];ye.setEventedParent(null)}for(var Fe in this.sourceCaches)this.sourceCaches[Fe].clearTiles(),this.sourceCaches[Fe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(te){this.sourceCaches[te].clearTiles()},X.prototype._reloadSource=function(te){this.sourceCaches[te].resume(),this.sourceCaches[te].reload()},X.prototype._updateSources=function(te){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(te)},X.prototype._generateCollisionBoxes=function(){for(var te in this.sourceCaches)this._reloadSource(te)},X.prototype._updatePlacement=function(te,ye,Fe,Xe,ot){ot===void 0&&(ot=!1);for(var Mt=!1,Ut=!1,Qt={},lr=0,or=this._order;lr<or.length;lr+=1){var Or=or[lr],$r=this._layers[Or];if($r.type==="symbol"){if(!Qt[$r.source]){var Xr=this.sourceCaches[$r.source];Qt[$r.source]=Xr.getRenderableIds(!0).map(function(Jn){return Xr.getTileByID(Jn)}).sort(function(Jn,jn){return jn.tileID.overscaledZ-Jn.tileID.overscaledZ||(Jn.tileID.isLessThan(jn.tileID)?-1:1)})}var jr=this.crossTileSymbolIndex.addLayer($r,Qt[$r.source],te.center.lng);Mt=Mt||jr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),ot=ot||this._layerOrderChanged||Fe===0,(ot||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),te.zoom))&&(this.pauseablePlacement=new On(te,this._order,ot,ye,Fe,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Qt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Ut=!0),Mt&&this.pauseablePlacement.placement.setStale()),Ut||Mt)for(var Qr=0,vn=this._order;Qr<vn.length;Qr+=1){var _n=vn[Qr],Nn=this._layers[_n];Nn.type==="symbol"&&this.placement.updateLayerOpacities(Nn,Qt[Nn.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return Xn},X.prototype._releaseSymbolFadeTiles=function(){for(var te in this.sourceCaches)this.sourceCaches[te].releaseSymbolFadeTiles()},X.prototype.getImages=function(te,ye,Fe){this.imageManager.getImages(ye.icons,Fe),this._updateTilesForChangedImages();var Xe=this.sourceCaches[ye.source];Xe&&Xe.setDependencies(ye.tileID.key,ye.type,ye.icons)},X.prototype.getGlyphs=function(te,ye,Fe){this.glyphManager.getGlyphs(ye.stacks,Fe)},X.prototype.getResource=function(te,ye,Fe){return n.makeRequest(ye,Fe)},X}(n.Evented);qo.getSourceType=se,qo.setSourceType=$,qo.registerForPluginStateChange=n.registerForPluginStateChange;var Wo=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),po=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,su=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,ic=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Jc="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ni=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Hu="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",oc=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lo=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Fo="void main() {gl_FragColor=vec4(1.0);}",lu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Mf=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gi=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,uu=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Yi="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",eo="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",fu="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",go="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",yo="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",es="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Qc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",jo=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,pv=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,zs=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uo=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,sc=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,dl=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Fs=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lc=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,qc=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gv=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Ef=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,yv=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,mv=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,xv="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",uc=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,bv="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",wv=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eh=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,th=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bl=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,cu=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Wu=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,Ks=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tv="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",Cf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,nh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,ah=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lf=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,gs=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,Nl=xi(po,su),ju=xi(ic,Jc),pl=xi(ni,Hu),Os=xi(oc,lo),fc=xi(Fo,lu),vu=xi(Mf,Gi),ys=xi(uu,Yi),Ni=xi(eo,fu),cc=xi(go,yo),Av=xi(es,Qc),Pf=xi(jo,pv),du=xi(zs,uo),pu=xi(sc,dl),Yo=xi(Fs,lc),Rf=xi(qc,gv),gu=xi(Ef,yv),kf=xi(mv,xv),Sv=xi(uc,bv),ih=xi(wv,eh),hc=xi(th,Bl),vc=xi(cu,Gu),dc=xi(Wu,rh),yu=xi(Ks,Tv),Df=xi(Cf,nh),Yu=xi(ah,Lf),If=xi(gs,hu);function xi(ve,X){var pe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,te=X.match(/attribute ([\w]+) ([\w]+)/g),ye=ve.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Fe=X.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),Xe=Fe?Fe.concat(ye):ye,ot={};return ve=ve.replace(pe,function(Mt,Ut,Qt,lr,or){return ot[or]=!0,Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
varying `+Qt+" "+lr+" "+or+`;
#else
uniform `+Qt+" "+lr+" u_"+or+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+or+`
    `+Qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`}),X=X.replace(pe,function(Mt,Ut,Qt,lr,or){var Or=lr==="float"?"vec2":"vec4",$r=or.match(/color/)?"color":Or;return ot[or]?Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
uniform lowp float u_`+or+`_t;
attribute `+Qt+" "+Or+" a_"+or+`;
varying `+Qt+" "+lr+" "+or+`;
#else
uniform `+Qt+" "+lr+" u_"+or+`;
#endif
`:$r==="vec4"?`
#ifndef HAS_UNIFORM_u_`+or+`
    `+or+" = a_"+or+`;
#else
    `+Qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+or+`
    `+or+" = unpack_mix_"+$r+"(a_"+or+", u_"+or+`_t);
#else
    `+Qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:Ut==="define"?`
#ifndef HAS_UNIFORM_u_`+or+`
uniform lowp float u_`+or+`_t;
attribute `+Qt+" "+Or+" a_"+or+`;
#else
uniform `+Qt+" "+lr+" u_"+or+`;
#endif
`:$r==="vec4"?`
#ifndef HAS_UNIFORM_u_`+or+`
    `+Qt+" "+lr+" "+or+" = a_"+or+`;
#else
    `+Qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+or+`
    `+Qt+" "+lr+" "+or+" = unpack_mix_"+$r+"(a_"+or+", u_"+or+`_t);
#else
    `+Qt+" "+lr+" "+or+" = u_"+or+`;
#endif
`}),{fragmentSource:ve,vertexSource:X,staticAttributes:te,staticUniforms:Xe}}var oh=Object.freeze({__proto__:null,prelude:Nl,background:ju,backgroundPattern:pl,circle:Os,clippingMask:fc,heatmap:vu,heatmapTexture:ys,collisionBox:Ni,collisionCircle:cc,debug:Av,fill:Pf,fillOutline:du,fillOutlinePattern:pu,fillPattern:Yo,fillExtrusion:Rf,fillExtrusionPattern:gu,hillshadePrepare:kf,hillshade:Sv,line:ih,lineGradient:hc,linePattern:vc,lineSDF:dc,raster:yu,symbolIcon:Df,symbolSDF:Yu,symbolTextAndIcon:If}),ms=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ms.prototype.bind=function(X,pe,te,ye,Fe,Xe,ot,Mt){this.context=X;for(var Ut=this.boundPaintVertexBuffers.length!==ye.length,Qt=0;!Ut&&Qt<ye.length;Qt++)this.boundPaintVertexBuffers[Qt]!==ye[Qt]&&(Ut=!0);var lr=!this.vao||this.boundProgram!==pe||this.boundLayoutVertexBuffer!==te||Ut||this.boundIndexBuffer!==Fe||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==ot||this.boundDynamicVertexBuffer2!==Mt;!X.extVertexArrayObject||lr?this.freshBind(pe,te,ye,Fe,Xe,ot,Mt):(X.bindVertexArrayOES.set(this.vao),ot&&ot.bind(),Fe&&Fe.dynamicDraw&&Fe.bind(),Mt&&Mt.bind())},ms.prototype.freshBind=function(X,pe,te,ye,Fe,Xe,ot){var Mt,Ut=X.numAttributes,Qt=this.context,lr=Qt.gl;if(Qt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Qt.extVertexArrayObject.createVertexArrayOES(),Qt.bindVertexArrayOES.set(this.vao),Mt=0,this.boundProgram=X,this.boundLayoutVertexBuffer=pe,this.boundPaintVertexBuffers=te,this.boundIndexBuffer=ye,this.boundVertexOffset=Fe,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=ot;else{Mt=Qt.currentNumAttributes||0;for(var or=Ut;or<Mt;or++)lr.disableVertexAttribArray(or)}pe.enableAttributes(lr,X);for(var Or=0,$r=te;Or<$r.length;Or+=1){var Xr=$r[Or];Xr.enableAttributes(lr,X)}Xe&&Xe.enableAttributes(lr,X),ot&&ot.enableAttributes(lr,X),pe.bind(),pe.setVertexAttribPointers(lr,X,Fe);for(var jr=0,Qr=te;jr<Qr.length;jr+=1){var vn=Qr[jr];vn.bind(),vn.setVertexAttribPointers(lr,X,Fe)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(lr,X,Fe)),ye&&ye.bind(),ot&&(ot.bind(),ot.setVertexAttribPointers(lr,X,Fe)),Qt.currentNumAttributes=Ut},ms.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};function sh(ve){for(var X=[],pe=0;pe<ve.length;pe++)if(ve[pe]!==null){var te=ve[pe].split(" ");X.push(te.pop())}return X}var pc=function(X,pe,te,ye,Fe,Xe){var ot=X.gl;this.program=ot.createProgram();for(var Mt=sh(te.staticAttributes),Ut=ye?ye.getBinderAttributes():[],Qt=Mt.concat(Ut),lr=te.staticUniforms?sh(te.staticUniforms):[],or=ye?ye.getBinderUniforms():[],Or=lr.concat(or),$r=[],Xr=0,jr=Or;Xr<jr.length;Xr+=1){var Qr=jr[Xr];$r.indexOf(Qr)<0&&$r.push(Qr)}var vn=ye?ye.defines():[];Xe&&vn.push("#define OVERDRAW_INSPECTOR;");var _n=vn.concat(Nl.fragmentSource,te.fragmentSource).join(`
`),Nn=vn.concat(Nl.vertexSource,te.vertexSource).join(`
`),Xn=ot.createShader(ot.FRAGMENT_SHADER);if(ot.isContextLost()){this.failedToCreate=!0;return}ot.shaderSource(Xn,_n),ot.compileShader(Xn),ot.attachShader(this.program,Xn);var Jn=ot.createShader(ot.VERTEX_SHADER);if(ot.isContextLost()){this.failedToCreate=!0;return}ot.shaderSource(Jn,Nn),ot.compileShader(Jn),ot.attachShader(this.program,Jn),this.attributes={};var jn={};this.numAttributes=Qt.length;for(var ea=0;ea<this.numAttributes;ea++)Qt[ea]&&(ot.bindAttribLocation(this.program,ea,Qt[ea]),this.attributes[Qt[ea]]=ea);ot.linkProgram(this.program),ot.deleteShader(Jn),ot.deleteShader(Xn);for(var la=0;la<$r.length;la++){var va=$r[la];if(va&&!jn[va]){var wa=ot.getUniformLocation(this.program,va);wa&&(jn[va]=wa)}}this.fixedUniforms=Fe(X,jn),this.binderUniforms=ye?ye.getUniforms(X,jn):[]};pc.prototype.draw=function(X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt,lr,or,Or,$r,Xr,jr){var Qr,vn=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(te),X.setStencilMode(ye),X.setColorMode(Fe),X.setCullFace(Xe);for(var _n in this.fixedUniforms)this.fixedUniforms[_n].set(ot[_n]);$r&&$r.setUniforms(X,this.binderUniforms,or,{zoom:Or});for(var Nn=(Qr={},Qr[vn.LINES]=2,Qr[vn.TRIANGLES]=3,Qr[vn.LINE_STRIP]=1,Qr)[pe],Xn=0,Jn=lr.get();Xn<Jn.length;Xn+=1){var jn=Jn[Xn],ea=jn.vaos||(jn.vaos={}),la=ea[Mt]||(ea[Mt]=new ms);la.bind(X,this,Ut,$r?$r.getPaintVertexBuffers():[],Qt,jn.vertexOffset,Xr,jr),vn.drawElements(pe,jn.primitiveLength*Nn,vn.UNSIGNED_SHORT,jn.primitiveOffset*Nn*2)}}};function Ul(ve,X,pe){var te=1/mn(pe,1,X.transform.tileZoom),ye=Math.pow(2,pe.tileID.overscaledZ),Fe=pe.tileSize*Math.pow(2,X.transform.tileZoom)/ye,Xe=Fe*(pe.tileID.canonical.x+pe.tileID.wrap*ye),ot=Fe*pe.tileID.canonical.y;return{u_image:0,u_texsize:pe.imageAtlasTexture.size,u_scale:[te,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Xe>>16,ot>>16],u_pixel_coord_lower:[Xe&65535,ot&65535]}}function yl(ve,X,pe,te){var ye=pe.imageManager.getPattern(ve.from.toString()),Fe=pe.imageManager.getPattern(ve.to.toString()),Xe=pe.imageManager.getPixelSize(),ot=Xe.width,Mt=Xe.height,Ut=Math.pow(2,te.tileID.overscaledZ),Qt=te.tileSize*Math.pow(2,pe.transform.tileZoom)/Ut,lr=Qt*(te.tileID.canonical.x+te.tileID.wrap*Ut),or=Qt*te.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[ot,Mt],u_mix:X.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/mn(te,1,pe.transform.tileZoom),u_pixel_coord_upper:[lr>>16,or>>16],u_pixel_coord_lower:[lr&65535,or&65535]}}var _f=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new n.Uniform3f(ve,X.u_lightpos),u_lightintensity:new n.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,X.u_vertical_gradient),u_opacity:new n.Uniform1f(ve,X.u_opacity)}},Wi=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new n.Uniform3f(ve,X.u_lightpos),u_lightintensity:new n.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,X.u_vertical_gradient),u_height_factor:new n.Uniform1f(ve,X.u_height_factor),u_image:new n.Uniform1i(ve,X.u_image),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,X.u_scale),u_fade:new n.Uniform1f(ve,X.u_fade),u_opacity:new n.Uniform1f(ve,X.u_opacity)}},Zu=function(ve,X,pe,te){var ye=X.style.light,Fe=ye.properties.get("position"),Xe=[Fe.x,Fe.y,Fe.z],ot=n.create$1();ye.properties.get("anchor")==="viewport"&&n.fromRotation(ot,-X.transform.angle),n.transformMat3(Xe,Xe,ot);var Mt=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Xe,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[Mt.r,Mt.g,Mt.b],u_vertical_gradient:+pe,u_opacity:te}},xs=function(ve,X,pe,te,ye,Fe,Xe){return n.extend(Zu(ve,X,pe,te),Ul(Fe,X,Xe),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Xe.tileSize/8})},Js=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix)}},Vl=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_image:new n.Uniform1i(ve,X.u_image),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,X.u_scale),u_fade:new n.Uniform1f(ve,X.u_fade)}},ml=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_world:new n.Uniform2f(ve,X.u_world)}},bs=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_world:new n.Uniform2f(ve,X.u_world),u_image:new n.Uniform1i(ve,X.u_image),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,X.u_scale),u_fade:new n.Uniform1f(ve,X.u_fade)}},Qs=function(ve){return{u_matrix:ve}},ws=function(ve,X,pe,te){return n.extend(Qs(ve),Ul(pe,X,te))},os=function(ve,X){return{u_matrix:ve,u_world:X}},Xu=function(ve,X,pe,te,ye){return n.extend(ws(ve,X,pe,te),{u_world:ye})},Mv=function(ve,X){return{u_camera_to_center_distance:new n.Uniform1f(ve,X.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(ve,X.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(ve,X.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(ve,X.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(ve,X.u_matrix)}},Ev=function(ve,X,pe,te){var ye=ve.transform,Fe,Xe;if(te.paint.get("circle-pitch-alignment")==="map"){var ot=mn(pe,1,ye.zoom);Fe=!0,Xe=[ot,ot]}else Fe=!1,Xe=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(te.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(X.posMatrix,pe,te.paint.get("circle-translate"),te.paint.get("circle-translate-anchor")),u_pitch_with_map:+Fe,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:Xe}},Cv=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,X.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(ve,X.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(ve,X.u_extrude_scale),u_overscale_factor:new n.Uniform1f(ve,X.u_overscale_factor)}},Lv=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_inv_matrix:new n.UniformMatrix4f(ve,X.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,X.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(ve,X.u_viewport_size)}},gc=function(ve,X,pe){var te=mn(pe,1,X.zoom),ye=Math.pow(2,X.zoom-pe.tileID.overscaledZ),Fe=pe.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:te,u_extrude_scale:[X.pixelsToGLUnits[0]/(te*ye),X.pixelsToGLUnits[1]/(te*ye)],u_overscale_factor:Fe}},lh=function(ve,X,pe){return{u_matrix:ve,u_inv_matrix:X,u_camera_to_center_distance:pe.cameraToCenterDistance,u_viewport_size:[pe.width,pe.height]}},mu=function(ve,X){return{u_color:new n.UniformColor(ve,X.u_color),u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_overlay:new n.Uniform1i(ve,X.u_overlay),u_overlay_scale:new n.Uniform1f(ve,X.u_overlay_scale)}},fo=function(ve,X,pe){return pe===void 0&&(pe=1),{u_matrix:ve,u_color:X,u_overlay:0,u_overlay_scale:pe}},ts=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix)}},xu=function(ve){return{u_matrix:ve}},uh=function(ve,X){return{u_extrude_scale:new n.Uniform1f(ve,X.u_extrude_scale),u_intensity:new n.Uniform1f(ve,X.u_intensity),u_matrix:new n.UniformMatrix4f(ve,X.u_matrix)}},$u=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_world:new n.Uniform2f(ve,X.u_world),u_image:new n.Uniform1i(ve,X.u_image),u_color_ramp:new n.Uniform1i(ve,X.u_color_ramp),u_opacity:new n.Uniform1f(ve,X.u_opacity)}},qs=function(ve,X,pe,te){return{u_matrix:ve,u_extrude_scale:mn(X,1,pe),u_intensity:te}},Pv=function(ve,X,pe,te){var ye=n.create();n.ortho(ye,0,ve.width,ve.height,0,0,1);var Fe=ve.context.gl;return{u_matrix:ye,u_world:[Fe.drawingBufferWidth,Fe.drawingBufferHeight],u_image:pe,u_color_ramp:te,u_opacity:X.paint.get("heatmap-opacity")}},fh=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_image:new n.Uniform1i(ve,X.u_image),u_latrange:new n.Uniform2f(ve,X.u_latrange),u_light:new n.Uniform2f(ve,X.u_light),u_shadow:new n.UniformColor(ve,X.u_shadow),u_highlight:new n.UniformColor(ve,X.u_highlight),u_accent:new n.UniformColor(ve,X.u_accent)}},ch=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_image:new n.Uniform1i(ve,X.u_image),u_dimension:new n.Uniform2f(ve,X.u_dimension),u_zoom:new n.Uniform1f(ve,X.u_zoom),u_unpack:new n.Uniform4f(ve,X.u_unpack)}},yc=function(ve,X,pe){var te=pe.paint.get("hillshade-shadow-color"),ye=pe.paint.get("hillshade-highlight-color"),Fe=pe.paint.get("hillshade-accent-color"),Xe=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ve.transform.angle);var ot=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(X.tileID.toUnwrapped(),ot),u_image:0,u_latrange:Oo(ve,X.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),Xe],u_shadow:te,u_highlight:ye,u_accent:Fe}},hh=function(ve,X){var pe=X.stride,te=n.create();return n.ortho(te,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(te,te,[0,-n.EXTENT,0]),{u_matrix:te,u_image:1,u_dimension:[pe,pe],u_zoom:ve.overscaledZ,u_unpack:X.getUnpackVector()}};function Oo(ve,X){var pe=Math.pow(2,X.canonical.z),te=X.canonical.y;return[new n.MercatorCoordinate(0,te/pe).toLngLat().lat,new n.MercatorCoordinate(0,(te+1)/pe).toLngLat().lat]}var Ts=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_ratio:new n.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,X.u_units_to_pixels)}},xl=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_ratio:new n.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,X.u_units_to_pixels),u_image:new n.Uniform1i(ve,X.u_image),u_image_height:new n.Uniform1f(ve,X.u_image_height)}},bu=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_ratio:new n.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_image:new n.Uniform1i(ve,X.u_image),u_units_to_pixels:new n.Uniform2f(ve,X.u_units_to_pixels),u_scale:new n.Uniform3f(ve,X.u_scale),u_fade:new n.Uniform1f(ve,X.u_fade)}},zf=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_ratio:new n.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,X.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(ve,X.u_patternscale_a),u_patternscale_b:new n.Uniform2f(ve,X.u_patternscale_b),u_sdfgamma:new n.Uniform1f(ve,X.u_sdfgamma),u_image:new n.Uniform1i(ve,X.u_image),u_tex_y_a:new n.Uniform1f(ve,X.u_tex_y_a),u_tex_y_b:new n.Uniform1f(ve,X.u_tex_y_b),u_mix:new n.Uniform1f(ve,X.u_mix)}},Hl=function(ve,X,pe){var te=ve.transform;return{u_matrix:bl(ve,X,pe),u_ratio:1/mn(X,1,te.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/te.pixelsToGLUnits[0],1/te.pixelsToGLUnits[1]]}},Gl=function(ve,X,pe,te){return n.extend(Hl(ve,X,pe),{u_image:0,u_image_height:te})},vh=function(ve,X,pe,te){var ye=ve.transform,Fe=wu(X,ye);return{u_matrix:bl(ve,X,pe),u_texsize:X.imageAtlasTexture.size,u_ratio:1/mn(X,1,ye.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[Fe,te.fromScale,te.toScale],u_fade:te.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},el=function(ve,X,pe,te,ye){var Fe=ve.transform,Xe=ve.lineAtlas,ot=wu(X,Fe),Mt=pe.layout.get("line-cap")==="round",Ut=Xe.getDash(te.from,Mt),Qt=Xe.getDash(te.to,Mt),lr=Ut.width*ye.fromScale,or=Qt.width*ye.toScale;return n.extend(Hl(ve,X,pe),{u_patternscale_a:[ot/lr,-Ut.height/2],u_patternscale_b:[ot/or,-Qt.height/2],u_sdfgamma:Xe.width/(Math.min(lr,or)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Qt.y,u_mix:ye.t})};function wu(ve,X){return 1/mn(ve,1,X.tileZoom)}function bl(ve,X,pe){return ve.translatePosMatrix(X.tileID.posMatrix,X,pe.paint.get("line-translate"),pe.paint.get("line-translate-anchor"))}var tl=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_tl_parent:new n.Uniform2f(ve,X.u_tl_parent),u_scale_parent:new n.Uniform1f(ve,X.u_scale_parent),u_buffer_scale:new n.Uniform1f(ve,X.u_buffer_scale),u_fade_t:new n.Uniform1f(ve,X.u_fade_t),u_opacity:new n.Uniform1f(ve,X.u_opacity),u_image0:new n.Uniform1i(ve,X.u_image0),u_image1:new n.Uniform1i(ve,X.u_image1),u_brightness_low:new n.Uniform1f(ve,X.u_brightness_low),u_brightness_high:new n.Uniform1f(ve,X.u_brightness_high),u_saturation_factor:new n.Uniform1f(ve,X.u_saturation_factor),u_contrast_factor:new n.Uniform1f(ve,X.u_contrast_factor),u_spin_weights:new n.Uniform3f(ve,X.u_spin_weights)}},Ku=function(ve,X,pe,te,ye){return{u_matrix:ve,u_tl_parent:X,u_scale_parent:pe,u_buffer_scale:1,u_fade_t:te.mix,u_opacity:te.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:Au(ye.paint.get("raster-saturation")),u_contrast_factor:pi(ye.paint.get("raster-contrast")),u_spin_weights:Tu(ye.paint.get("raster-hue-rotate"))}};function Tu(ve){ve*=Math.PI/180;var X=Math.sin(ve),pe=Math.cos(ve);return[(2*pe+1)/3,(-Math.sqrt(3)*X-pe+1)/3,(Math.sqrt(3)*X-pe+1)/3]}function pi(ve){return ve>0?1/(1-ve):1+ve}function Au(ve){return ve>0?1-1/(1.001-ve):-ve}var Ff=function(ve,X){return{u_is_size_zoom_constant:new n.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,X.u_size_t),u_size:new n.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,X.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new n.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_texture:new n.Uniform1i(ve,X.u_texture)}},dh=function(ve,X){return{u_is_size_zoom_constant:new n.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,X.u_size_t),u_size:new n.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,X.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new n.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_texture:new n.Uniform1i(ve,X.u_texture),u_gamma_scale:new n.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,X.u_is_halo)}},Su=function(ve,X){return{u_is_size_zoom_constant:new n.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,X.u_size_t),u_size:new n.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,X.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new n.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_texsize_icon:new n.Uniform2f(ve,X.u_texsize_icon),u_texture:new n.Uniform1i(ve,X.u_texture),u_texture_icon:new n.Uniform1i(ve,X.u_texture_icon),u_gamma_scale:new n.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,X.u_is_halo)}},Ju=function(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut){var Qt=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Qt.cameraToCenterDistance,u_pitch:Qt.pitch/360*2*Math.PI,u_rotate_symbol:+pe,u_aspect_ratio:Qt.width/Qt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Fe,u_label_plane_matrix:Xe,u_coord_matrix:ot,u_is_text:+Mt,u_pitch_with_map:+te,u_texsize:Ut,u_texture:0}},Of=function(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt){var lr=ye.transform;return n.extend(Ju(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut),{u_gamma_scale:te?Math.cos(lr._pitch)*lr.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+Qt})},mc=function(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut){return n.extend(Of(ve,X,pe,te,ye,Fe,Xe,ot,!0,Mt,!0),{u_texsize_icon:Ut,u_texture_icon:1})},Qu=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_opacity:new n.Uniform1f(ve,X.u_opacity),u_color:new n.UniformColor(ve,X.u_color)}},qu=function(ve,X){return{u_matrix:new n.UniformMatrix4f(ve,X.u_matrix),u_opacity:new n.Uniform1f(ve,X.u_opacity),u_image:new n.Uniform1i(ve,X.u_image),u_pattern_tl_a:new n.Uniform2f(ve,X.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(ve,X.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(ve,X.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(ve,X.u_pattern_br_b),u_texsize:new n.Uniform2f(ve,X.u_texsize),u_mix:new n.Uniform1f(ve,X.u_mix),u_pattern_size_a:new n.Uniform2f(ve,X.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(ve,X.u_pattern_size_b),u_scale_a:new n.Uniform1f(ve,X.u_scale_a),u_scale_b:new n.Uniform1f(ve,X.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,X.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(ve,X.u_tile_units_to_pixels)}},wl=function(ve,X,pe){return{u_matrix:ve,u_opacity:X,u_color:pe}},ef=function(ve,X,pe,te,ye,Fe){return n.extend(yl(te,Fe,pe,ye),{u_matrix:ve,u_opacity:X})},Tl={fillExtrusion:_f,fillExtrusionPattern:Wi,fill:Js,fillPattern:Vl,fillOutline:ml,fillOutlinePattern:bs,circle:Mv,collisionBox:Cv,collisionCircle:Lv,debug:mu,clippingMask:ts,heatmap:uh,heatmapTexture:$u,hillshade:fh,hillshadePrepare:ch,line:Ts,lineGradient:xl,linePattern:bu,lineSDF:zf,raster:tl,symbolIcon:Ff,symbolSDF:dh,symbolTextAndIcon:Su,background:Qu,backgroundPattern:qu},to;function Bs(ve,X,pe,te,ye,Fe,Xe){for(var ot=ve.context,Mt=ot.gl,Ut=ve.useProgram("collisionBox"),Qt=[],lr=0,or=0,Or=0;Or<te.length;Or++){var $r=te[Or],Xr=X.getTile($r),jr=Xr.getBucket(pe);if(jr){var Qr=$r.posMatrix;(ye[0]!==0||ye[1]!==0)&&(Qr=ve.translatePosMatrix($r.posMatrix,Xr,ye,Fe));var vn=Xe?jr.textCollisionBox:jr.iconCollisionBox,_n=jr.collisionCircleArray;if(_n.length>0){var Nn=n.create(),Xn=Qr;n.mul(Nn,jr.placementInvProjMatrix,ve.transform.glCoordMatrix),n.mul(Nn,Nn,jr.placementViewportMatrix),Qt.push({circleArray:_n,circleOffset:or,transform:Xn,invTransform:Nn}),lr+=_n.length/4,or=lr}vn&&Ut.draw(ot,Mt.LINES,Sr.disabled,Jt.disabled,ve.colorModeForRenderPass(),Rt.disabled,gc(Qr,ve.transform,Xr),pe.id,vn.layoutVertexBuffer,vn.indexBuffer,vn.segments,null,ve.transform.zoom,null,null,vn.collisionVertexBuffer)}}if(!(!Xe||!Qt.length)){var Jn=ve.useProgram("collisionCircle"),jn=new n.StructArrayLayout2f1f2i16;jn.resize(lr*4),jn._trim();for(var ea=0,la=0,va=Qt;la<va.length;la+=1)for(var wa=va[la],ga=0;ga<wa.circleArray.length/4;ga++){var Oa=ga*4,ti=wa.circleArray[Oa+0],Xa=wa.circleArray[Oa+1],Ea=wa.circleArray[Oa+2],Ka=wa.circleArray[Oa+3];jn.emplace(ea++,ti,Xa,Ea,Ka,0),jn.emplace(ea++,ti,Xa,Ea,Ka,1),jn.emplace(ea++,ti,Xa,Ea,Ka,2),jn.emplace(ea++,ti,Xa,Ea,Ka,3)}(!to||to.length<lr*2)&&(to=xc(lr));for(var Ga=ot.createIndexBuffer(to,!0),ui=ot.createVertexBuffer(jn,n.collisionCircleLayout.members,!0),ai=0,Ci=Qt;ai<Ci.length;ai+=1){var ei=Ci[ai],wi=lh(ei.transform,ei.invTransform,ve.transform);Jn.draw(ot,Mt.TRIANGLES,Sr.disabled,Jt.disabled,ve.colorModeForRenderPass(),Rt.disabled,wi,pe.id,ui,Ga,n.SegmentVector.simpleSegment(0,ei.circleOffset*2,ei.circleArray.length,ei.circleArray.length/2),null,ve.transform.zoom,null,null,null)}ui.destroy(),Ga.destroy()}}function xc(ve){var X=ve*2,pe=new n.StructArrayLayout3ui6;pe.resize(X),pe._trim();for(var te=0;te<X;te++){var ye=te*6;pe.uint16[ye+0]=te*4+0,pe.uint16[ye+1]=te*4+1,pe.uint16[ye+2]=te*4+2,pe.uint16[ye+3]=te*4+2,pe.uint16[ye+4]=te*4+3,pe.uint16[ye+5]=te*4+0}return pe}var Wl=n.identity(new Float32Array(16));function Bf(ve,X,pe,te,ye){if(ve.renderPass==="translucent"){var Fe=Jt.disabled,Xe=ve.colorModeForRenderPass(),ot=pe.layout.get("text-variable-anchor");ot&&Rv(te,ve,pe,X,pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),ye),pe.paint.get("icon-opacity").constantOr(1)!==0&&rf(ve,X,pe,te,!1,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),pe.layout.get("icon-rotation-alignment"),pe.layout.get("icon-pitch-alignment"),pe.layout.get("icon-keep-upright"),Fe,Xe),pe.paint.get("text-opacity").constantOr(1)!==0&&rf(ve,X,pe,te,!0,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),pe.layout.get("text-keep-upright"),Fe,Xe),X.map.showCollisionBoxes&&(Bs(ve,X,pe,te,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),!0),Bs(ve,X,pe,te,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),!1))}}function tf(ve,X,pe,te,ye,Fe){var Xe=n.getAnchorAlignment(ve),ot=Xe.horizontalAlign,Mt=Xe.verticalAlign,Ut=-(ot-.5)*X,Qt=-(Mt-.5)*pe,lr=n.evaluateVariableOffset(ve,te);return new n.Point((Ut/ye+lr[0])*Fe,(Qt/ye+lr[1])*Fe)}function Rv(ve,X,pe,te,ye,Fe,Xe){for(var ot=X.transform,Mt=ye==="map",Ut=Fe==="map",Qt=0,lr=ve;Qt<lr.length;Qt+=1){var or=lr[Qt],Or=te.getTile(or),$r=Or.getBucket(pe);if(!(!$r||!$r.text||!$r.text.segments.get().length)){var Xr=$r.textSizeData,jr=n.evaluateSizeForZoom(Xr,ot.zoom),Qr=mn(Or,1,X.transform.zoom),vn=Lr(or.posMatrix,Ut,Mt,X.transform,Qr),_n=pe.layout.get("icon-text-fit")!=="none"&&$r.hasIconData();if(jr){var Nn=Math.pow(2,ot.zoom-Or.tileID.overscaledZ);ph($r,Mt,Ut,Xe,n.symbolSize,ot,vn,or.posMatrix,Nn,jr,_n)}}}}function ph(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt){var lr=ve.text.placedSymbolArray,or=ve.text.dynamicLayoutVertexArray,Or=ve.icon.dynamicLayoutVertexArray,$r={};or.clear();for(var Xr=0;Xr<lr.length;Xr++){var jr=lr.get(Xr),Qr=ve.allowVerticalPlacement&&!jr.placedOrientation,vn=!jr.hidden&&jr.crossTileID&&!Qr?te[jr.crossTileID]:null;if(!vn)ta(jr.numGlyphs,or);else{var _n=new n.Point(jr.anchorX,jr.anchorY),Nn=Wr(_n,pe?ot:Xe),Xn=sn(Fe.cameraToCenterDistance,Nn.signedDistanceFromCamera),Jn=ye.evaluateSizeForFeature(ve.textSizeData,Ut,jr)*Xn/n.ONE_EM;pe&&(Jn*=ve.tilePixelRatio/Mt);for(var jn=vn.width,ea=vn.height,la=vn.anchor,va=vn.textOffset,wa=vn.textBoxScale,ga=tf(la,jn,ea,va,wa,Jn),Oa=pe?Wr(_n.add(ga),Xe).point:Nn.point.add(X?ga.rotate(-Fe.angle):ga),ti=ve.allowVerticalPlacement&&jr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,Xa=0;Xa<jr.numGlyphs;Xa++)n.addDynamicAttributes(or,Oa,ti);Qt&&jr.associatedIconIndex>=0&&($r[jr.associatedIconIndex]={shiftedAnchor:Oa,angle:ti})}}if(Qt){Or.clear();for(var Ea=ve.icon.placedSymbolArray,Ka=0;Ka<Ea.length;Ka++){var Ga=Ea.get(Ka);if(Ga.hidden)ta(Ga.numGlyphs,Or);else{var ui=$r[Ka];if(!ui)ta(Ga.numGlyphs,Or);else for(var ai=0;ai<Ga.numGlyphs;ai++)n.addDynamicAttributes(Or,ui.shiftedAnchor,ui.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(Or)}ve.text.dynamicLayoutVertexBuffer.updateData(or)}function Ro(ve,X,pe){return pe.iconsInText&&X?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function rf(ve,X,pe,te,ye,Fe,Xe,ot,Mt,Ut,Qt,lr){for(var or=ve.context,Or=or.gl,$r=ve.transform,Xr=ot==="map",jr=Mt==="map",Qr=Xr&&pe.layout.get("symbol-placement")!=="point",vn=Xr&&!jr&&!Qr,_n=pe.layout.get("symbol-sort-key").constantOr(1)!==void 0,Nn=!1,Xn=ve.depthModeForSublayer(0,Sr.ReadOnly),Jn=pe.layout.get("text-variable-anchor"),jn=[],ea=0,la=te;ea<la.length;ea+=1){var va=la[ea],wa=X.getTile(va),ga=wa.getBucket(pe);if(ga){var Oa=ye?ga.text:ga.icon;if(!(!Oa||!Oa.segments.get().length)){var ti=Oa.programConfigurations.get(pe.id),Xa=ye||ga.sdfIcons,Ea=ye?ga.textSizeData:ga.iconSizeData,Ka=jr||$r.pitch!==0,Ga=ve.useProgram(Ro(Xa,ye,ga),ti),ui=n.evaluateSizeForZoom(Ea,$r.zoom),ai=void 0,Ci=[0,0],ei=void 0,wi=void 0,Wa=null,ri=void 0;if(ye){if(ei=wa.glyphAtlasTexture,wi=Or.LINEAR,ai=wa.glyphAtlasTexture.size,ga.iconsInText){Ci=wa.imageAtlasTexture.size,Wa=wa.imageAtlasTexture;var $i=Ea.kind==="composite"||Ea.kind==="camera";ri=Ka||ve.options.rotating||ve.options.zooming||$i?Or.LINEAR:Or.NEAREST}}else{var Do=pe.layout.get("icon-size").constantOr(0)!==1||ga.iconsNeedLinear;ei=wa.imageAtlasTexture,wi=Xa||ve.options.rotating||ve.options.zooming||Do||Ka?Or.LINEAR:Or.NEAREST,ai=wa.imageAtlasTexture.size}var Ml=mn(wa,1,ve.transform.zoom),El=Lr(va.posMatrix,jr,Xr,ve.transform,Ml),Zl=Zr(va.posMatrix,jr,Xr,ve.transform,Ml),Cu=Jn&&ga.hasTextData(),Ec=pe.layout.get("icon-text-fit")!=="none"&&Cu&&ga.hasIconData();Qr&&bn(ga,va.posMatrix,ve,ye,El,Zl,jr,Ut);var Lu=ve.translatePosMatrix(va.posMatrix,wa,Fe,Xe),Ss=Qr||ye&&Jn||Ec?Wl:El,Pu=ve.translatePosMatrix(Zl,wa,Fe,Xe,!0),Vs=Xa&&pe.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,Ms=void 0;Xa?ga.iconsInText?Ms=mc(Ea.kind,ui,vn,jr,ve,Lu,Ss,Pu,ai,Ci):Ms=Of(Ea.kind,ui,vn,jr,ve,Lu,Ss,Pu,ye,ai,!0):Ms=Ju(Ea.kind,ui,vn,jr,ve,Lu,Ss,Pu,ye,ai);var Xl={program:Ga,buffers:Oa,uniformValues:Ms,atlasTexture:ei,atlasTextureIcon:Wa,atlasInterpolation:wi,atlasInterpolationIcon:ri,isSDF:Xa,hasHalo:Vs};if(_n&&ga.canOverlap){Nn=!0;for(var cf=Oa.segments.get(),$l=0,md=cf;$l<md.length;$l+=1){var Sh=md[$l];jn.push({segments:new n.SegmentVector([Sh]),sortKey:Sh.sortKey,state:Xl})}}else jn.push({segments:Oa.segments,sortKey:0,state:Xl})}}}Nn&&jn.sort(function(bd,wd){return bd.sortKey-wd.sortKey});for(var Bo=0,xd=jn;Bo<xd.length;Bo+=1){var Fv=xd[Bo],ss=Fv.state;if(or.activeTexture.set(Or.TEXTURE0),ss.atlasTexture.bind(ss.atlasInterpolation,Or.CLAMP_TO_EDGE),ss.atlasTextureIcon&&(or.activeTexture.set(Or.TEXTURE1),ss.atlasTextureIcon&&ss.atlasTextureIcon.bind(ss.atlasInterpolationIcon,Or.CLAMP_TO_EDGE)),ss.isSDF){var Mh=ss.uniformValues;ss.hasHalo&&(Mh.u_is_halo=1,Mu(ss.buffers,Fv.segments,pe,ve,ss.program,Xn,Qt,lr,Mh)),Mh.u_is_halo=0}Mu(ss.buffers,Fv.segments,pe,ve,ss.program,Xn,Qt,lr,ss.uniformValues)}}function Mu(ve,X,pe,te,ye,Fe,Xe,ot,Mt){var Ut=te.context,Qt=Ut.gl;ye.draw(Ut,Qt.TRIANGLES,Fe,Xe,ot,Rt.disabled,Mt,pe.id,ve.layoutVertexBuffer,ve.indexBuffer,X,pe.paint,te.transform.zoom,ve.programConfigurations.get(pe.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function gh(ve,X,pe,te){if(ve.renderPass==="translucent"){var ye=pe.paint.get("circle-opacity"),Fe=pe.paint.get("circle-stroke-width"),Xe=pe.paint.get("circle-stroke-opacity"),ot=pe.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(Fe.constantOr(1)===0||Xe.constantOr(1)===0))){for(var Mt=ve.context,Ut=Mt.gl,Qt=ve.depthModeForSublayer(0,Sr.ReadOnly),lr=Jt.disabled,or=ve.colorModeForRenderPass(),Or=[],$r=0;$r<te.length;$r++){var Xr=te[$r],jr=X.getTile(Xr),Qr=jr.getBucket(pe);if(Qr){var vn=Qr.programConfigurations.get(pe.id),_n=ve.useProgram("circle",vn),Nn=Qr.layoutVertexBuffer,Xn=Qr.indexBuffer,Jn=Ev(ve,Xr,jr,pe),jn={programConfiguration:vn,program:_n,layoutVertexBuffer:Nn,indexBuffer:Xn,uniformValues:Jn};if(ot)for(var ea=Qr.segments.get(),la=0,va=ea;la<va.length;la+=1){var wa=va[la];Or.push({segments:new n.SegmentVector([wa]),sortKey:wa.sortKey,state:jn})}else Or.push({segments:Qr.segments,sortKey:0,state:jn})}}ot&&Or.sort(function(ei,wi){return ei.sortKey-wi.sortKey});for(var ga=0,Oa=Or;ga<Oa.length;ga+=1){var ti=Oa[ga],Xa=ti.state,Ea=Xa.programConfiguration,Ka=Xa.program,Ga=Xa.layoutVertexBuffer,ui=Xa.indexBuffer,ai=Xa.uniformValues,Ci=ti.segments;Ka.draw(Mt,Ut.TRIANGLES,Qt,lr,or,Rt.disabled,ai,pe.id,Ga,ui,Ci,pe.paint,ve.transform.zoom,Ea)}}}}function Al(ve,X,pe,te){if(pe.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,Fe=ye.gl,Xe=Jt.disabled,ot=new it([Fe.ONE,Fe.ONE],n.Color.transparent,[!0,!0,!0,!0]);kv(ye,ve,pe),ye.clear({color:n.Color.transparent});for(var Mt=0;Mt<te.length;Mt++){var Ut=te[Mt];if(!X.hasRenderableParent(Ut)){var Qt=X.getTile(Ut),lr=Qt.getBucket(pe);if(lr){var or=lr.programConfigurations.get(pe.id),Or=ve.useProgram("heatmap",or),$r=ve.transform,Xr=$r.zoom;Or.draw(ye,Fe.TRIANGLES,Sr.disabled,Xe,ot,Rt.disabled,qs(Ut.posMatrix,Qt,Xr,pe.paint.get("heatmap-intensity")),pe.id,lr.layoutVertexBuffer,lr.indexBuffer,lr.segments,pe.paint,ve.transform.zoom,or)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),nf(ve,pe))}function kv(ve,X,pe){var te=ve.gl;ve.activeTexture.set(te.TEXTURE1),ve.viewport.set([0,0,X.width/4,X.height/4]);var ye=pe.heatmapFbo;if(ye)te.bindTexture(te.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var Fe=te.createTexture();te.bindTexture(te.TEXTURE_2D,Fe),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_S,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_WRAP_T,te.CLAMP_TO_EDGE),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MIN_FILTER,te.LINEAR),te.texParameteri(te.TEXTURE_2D,te.TEXTURE_MAG_FILTER,te.LINEAR),ye=pe.heatmapFbo=ve.createFramebuffer(X.width/4,X.height/4,!1),Zo(ve,X,Fe,ye)}}function Zo(ve,X,pe,te){var ye=ve.gl,Fe=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,X.width/4,X.height/4,0,ye.RGBA,Fe,null),te.colorAttachment.set(pe)}function nf(ve,X){var pe=ve.context,te=pe.gl,ye=X.heatmapFbo;if(ye){pe.activeTexture.set(te.TEXTURE0),te.bindTexture(te.TEXTURE_2D,ye.colorAttachment.get()),pe.activeTexture.set(te.TEXTURE1);var Fe=X.colorRampTexture;Fe||(Fe=X.colorRampTexture=new n.Texture(pe,X.colorRamp,te.RGBA)),Fe.bind(te.LINEAR,te.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(pe,te.TRIANGLES,Sr.disabled,Jt.disabled,ve.colorModeForRenderPass(),Rt.disabled,Pv(ve,X,0,1),X.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,X.paint,ve.transform.zoom)}}function Nf(ve,X,pe,te){if(ve.renderPass==="translucent"){var ye=pe.paint.get("line-opacity"),Fe=pe.paint.get("line-width");if(!(ye.constantOr(1)===0||Fe.constantOr(1)===0))for(var Xe=ve.depthModeForSublayer(0,Sr.ReadOnly),ot=ve.colorModeForRenderPass(),Mt=pe.paint.get("line-dasharray"),Ut=pe.paint.get("line-pattern"),Qt=Ut.constantOr(1),lr=pe.paint.get("line-gradient"),or=pe.getCrossfadeParameters(),Or=Qt?"linePattern":Mt?"lineSDF":lr?"lineGradient":"line",$r=ve.context,Xr=$r.gl,jr=!0,Qr=0,vn=te;Qr<vn.length;Qr+=1){var _n=vn[Qr],Nn=X.getTile(_n);if(!(Qt&&!Nn.patternsLoaded())){var Xn=Nn.getBucket(pe);if(Xn){var Jn=Xn.programConfigurations.get(pe.id),jn=ve.context.program.get(),ea=ve.useProgram(Or,Jn),la=jr||ea.program!==jn,va=Ut.constantOr(null);if(va&&Nn.imageAtlas){var wa=Nn.imageAtlas,ga=wa.patternPositions[va.to.toString()],Oa=wa.patternPositions[va.from.toString()];ga&&Oa&&Jn.setConstantPatternPositions(ga,Oa)}var ti=Qt?vh(ve,Nn,pe,or):Mt?el(ve,Nn,pe,Mt,or):lr?Gl(ve,Nn,pe,Xn.lineClipsArray.length):Hl(ve,Nn,pe);if(Qt)$r.activeTexture.set(Xr.TEXTURE0),Nn.imageAtlasTexture.bind(Xr.LINEAR,Xr.CLAMP_TO_EDGE),Jn.updatePaintBuffers(or);else if(Mt&&(la||ve.lineAtlas.dirty))$r.activeTexture.set(Xr.TEXTURE0),ve.lineAtlas.bind($r);else if(lr){var Xa=Xn.gradients[pe.id],Ea=Xa.texture;if(pe.gradientVersion!==Xa.version){var Ka=256;if(pe.stepInterpolant){var Ga=X.getSource().maxzoom,ui=_n.canonical.z===Ga?Math.ceil(1<<ve.transform.maxZoom-_n.canonical.z):1,ai=Xn.maxLineLength/n.EXTENT,Ci=1024,ei=ai*Ci*ui;Ka=n.clamp(n.nextPowerOfTwo(ei),256,$r.maxTextureSize)}Xa.gradient=n.renderColorRamp({expression:pe.gradientExpression(),evaluationKey:"lineProgress",resolution:Ka,image:Xa.gradient||void 0,clips:Xn.lineClipsArray}),Xa.texture?Xa.texture.update(Xa.gradient):Xa.texture=new n.Texture($r,Xa.gradient,Xr.RGBA),Xa.version=pe.gradientVersion,Ea=Xa.texture}$r.activeTexture.set(Xr.TEXTURE0),Ea.bind(pe.stepInterpolant?Xr.NEAREST:Xr.LINEAR,Xr.CLAMP_TO_EDGE)}ea.draw($r,Xr.TRIANGLES,Xe,ve.stencilModeForClipping(_n),ot,Rt.disabled,ti,pe.id,Xn.layoutVertexBuffer,Xn.indexBuffer,Xn.segments,pe.paint,ve.transform.zoom,Jn,Xn.layoutVertexBuffer2),jr=!1}}}}}function rl(ve,X,pe,te){var ye=pe.paint.get("fill-color"),Fe=pe.paint.get("fill-opacity");if(Fe.constantOr(1)!==0){var Xe=ve.colorModeForRenderPass(),ot=pe.paint.get("fill-pattern"),Mt=ve.opaquePassEnabledForLayer()&&!ot.constantOr(1)&&ye.constantOr(n.Color.transparent).a===1&&Fe.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===Mt){var Ut=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?Sr.ReadWrite:Sr.ReadOnly);Sl(ve,X,pe,te,Ut,Xe,!1)}if(ve.renderPass==="translucent"&&pe.paint.get("fill-antialias")){var Qt=ve.depthModeForSublayer(pe.getPaintProperty("fill-outline-color")?2:0,Sr.ReadOnly);Sl(ve,X,pe,te,Qt,Xe,!0)}}}function Sl(ve,X,pe,te,ye,Fe,Xe){var ot=ve.context.gl,Mt=pe.paint.get("fill-pattern"),Ut=Mt&&Mt.constantOr(1),Qt=pe.getCrossfadeParameters(),lr,or,Or,$r,Xr;Xe?(or=Ut&&!pe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",lr=ot.LINES):(or=Ut?"fillPattern":"fill",lr=ot.TRIANGLES);for(var jr=0,Qr=te;jr<Qr.length;jr+=1){var vn=Qr[jr],_n=X.getTile(vn);if(!(Ut&&!_n.patternsLoaded())){var Nn=_n.getBucket(pe);if(Nn){var Xn=Nn.programConfigurations.get(pe.id),Jn=ve.useProgram(or,Xn);Ut&&(ve.context.activeTexture.set(ot.TEXTURE0),_n.imageAtlasTexture.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),Xn.updatePaintBuffers(Qt));var jn=Mt.constantOr(null);if(jn&&_n.imageAtlas){var ea=_n.imageAtlas,la=ea.patternPositions[jn.to.toString()],va=ea.patternPositions[jn.from.toString()];la&&va&&Xn.setConstantPatternPositions(la,va)}var wa=ve.translatePosMatrix(vn.posMatrix,_n,pe.paint.get("fill-translate"),pe.paint.get("fill-translate-anchor"));if(!Xe)$r=Nn.indexBuffer,Xr=Nn.segments,Or=Ut?ws(wa,ve,Qt,_n):Qs(wa);else{$r=Nn.indexBuffer2,Xr=Nn.segments2;var ga=[ot.drawingBufferWidth,ot.drawingBufferHeight];Or=or==="fillOutlinePattern"&&Ut?Xu(wa,ve,Qt,_n,ga):os(wa,ga)}Jn.draw(ve.context,lr,ye,ve.stencilModeForClipping(vn),Fe,Rt.disabled,Or,pe.id,Nn.layoutVertexBuffer,$r,Xr,pe.paint,ve.transform.zoom,Xn)}}}}function bc(ve,X,pe,te){var ye=pe.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var Fe=new Sr(ve.context.gl.LEQUAL,Sr.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!pe.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ve.colorModeForRenderPass();af(ve,X,pe,te,Fe,Jt.disabled,Xe)}else af(ve,X,pe,te,Fe,Jt.disabled,it.disabled),af(ve,X,pe,te,Fe,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function af(ve,X,pe,te,ye,Fe,Xe){for(var ot=ve.context,Mt=ot.gl,Ut=pe.paint.get("fill-extrusion-pattern"),Qt=Ut.constantOr(1),lr=pe.getCrossfadeParameters(),or=pe.paint.get("fill-extrusion-opacity"),Or=0,$r=te;Or<$r.length;Or+=1){var Xr=$r[Or],jr=X.getTile(Xr),Qr=jr.getBucket(pe);if(Qr){var vn=Qr.programConfigurations.get(pe.id),_n=ve.useProgram(Qt?"fillExtrusionPattern":"fillExtrusion",vn);Qt&&(ve.context.activeTexture.set(Mt.TEXTURE0),jr.imageAtlasTexture.bind(Mt.LINEAR,Mt.CLAMP_TO_EDGE),vn.updatePaintBuffers(lr));var Nn=Ut.constantOr(null);if(Nn&&jr.imageAtlas){var Xn=jr.imageAtlas,Jn=Xn.patternPositions[Nn.to.toString()],jn=Xn.patternPositions[Nn.from.toString()];Jn&&jn&&vn.setConstantPatternPositions(Jn,jn)}var ea=ve.translatePosMatrix(Xr.posMatrix,jr,pe.paint.get("fill-extrusion-translate"),pe.paint.get("fill-extrusion-translate-anchor")),la=pe.paint.get("fill-extrusion-vertical-gradient"),va=Qt?xs(ea,ve,la,or,Xr,lr,jr):Zu(ea,ve,la,or);_n.draw(ot,ot.gl.TRIANGLES,ye,Fe,Xe,Rt.backCCW,va,pe.id,Qr.layoutVertexBuffer,Qr.indexBuffer,Qr.segments,pe.paint,ve.transform.zoom,vn)}}}function of(ve,X,pe,te){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,Fe=ve.depthModeForSublayer(0,Sr.ReadOnly),Xe=ve.colorModeForRenderPass(),ot=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(te):[{},te],Mt=ot[0],Ut=ot[1],Qt=0,lr=Ut;Qt<lr.length;Qt+=1){var or=lr[Qt],Or=X.getTile(or);Or.needsHillshadePrepare&&ve.renderPass==="offscreen"?yh(ve,Or,pe,Fe,Jt.disabled,Xe):ve.renderPass==="translucent"&&Uf(ve,Or,pe,Fe,Mt[or.overscaledZ],Xe)}ye.viewport.set([0,0,ve.width,ve.height])}}function Uf(ve,X,pe,te,ye,Fe){var Xe=ve.context,ot=Xe.gl,Mt=X.fbo;if(Mt){var Ut=ve.useProgram("hillshade");Xe.activeTexture.set(ot.TEXTURE0),ot.bindTexture(ot.TEXTURE_2D,Mt.colorAttachment.get());var Qt=yc(ve,X,pe);Ut.draw(Xe,ot.TRIANGLES,te,ye,Fe,Rt.disabled,Qt,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function yh(ve,X,pe,te,ye,Fe){var Xe=ve.context,ot=Xe.gl,Mt=X.dem;if(Mt&&Mt.data){var Ut=Mt.dim,Qt=Mt.stride,lr=Mt.getPixels();if(Xe.activeTexture.set(ot.TEXTURE1),Xe.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||ve.getTileTexture(Qt),X.demTexture){var or=X.demTexture;or.update(lr,{premultiply:!1}),or.bind(ot.NEAREST,ot.CLAMP_TO_EDGE)}else X.demTexture=new n.Texture(Xe,lr,ot.RGBA,{premultiply:!1}),X.demTexture.bind(ot.NEAREST,ot.CLAMP_TO_EDGE);Xe.activeTexture.set(ot.TEXTURE0);var Or=X.fbo;if(!Or){var $r=new n.Texture(Xe,{width:Ut,height:Ut,data:null},ot.RGBA);$r.bind(ot.LINEAR,ot.CLAMP_TO_EDGE),Or=X.fbo=Xe.createFramebuffer(Ut,Ut,!0),Or.colorAttachment.set($r.texture)}Xe.bindFramebuffer.set(Or.framebuffer),Xe.viewport.set([0,0,Ut,Ut]),ve.useProgram("hillshadePrepare").draw(Xe,ot.TRIANGLES,te,ye,Fe,Rt.disabled,hh(X.tileID,Mt),pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function sf(ve,X,pe,te){if(ve.renderPass==="translucent"&&pe.paint.get("raster-opacity")!==0&&te.length)for(var ye=ve.context,Fe=ye.gl,Xe=X.getSource(),ot=ve.useProgram("raster"),Mt=ve.colorModeForRenderPass(),Ut=Xe instanceof q?[{},te]:ve.stencilConfigForOverlap(te),Qt=Ut[0],lr=Ut[1],or=lr[lr.length-1].overscaledZ,Or=!ve.options.moving,$r=0,Xr=lr;$r<Xr.length;$r+=1){var jr=Xr[$r],Qr=ve.depthModeForSublayer(jr.overscaledZ-or,pe.paint.get("raster-opacity")===1?Sr.ReadWrite:Sr.ReadOnly,Fe.LESS),vn=X.getTile(jr),_n=ve.transform.calculatePosMatrix(jr.toUnwrapped(),Or);vn.registerFadeDuration(pe.paint.get("raster-fade-duration"));var Nn=X.findLoadedParent(jr,0),Xn=wc(vn,Nn,X,pe,ve.transform),Jn=void 0,jn=void 0,ea=pe.paint.get("raster-resampling")==="nearest"?Fe.NEAREST:Fe.LINEAR;ye.activeTexture.set(Fe.TEXTURE0),vn.texture.bind(ea,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Fe.TEXTURE1),Nn?(Nn.texture.bind(ea,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),Jn=Math.pow(2,Nn.tileID.overscaledZ-vn.tileID.overscaledZ),jn=[vn.tileID.canonical.x*Jn%1,vn.tileID.canonical.y*Jn%1]):vn.texture.bind(ea,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST);var la=Ku(_n,jn||[0,0],Jn||1,Xn,pe);Xe instanceof q?ot.draw(ye,Fe.TRIANGLES,Qr,Jt.disabled,Mt,Rt.disabled,la,pe.id,Xe.boundsBuffer,ve.quadTriangleIndexBuffer,Xe.boundsSegments):ot.draw(ye,Fe.TRIANGLES,Qr,Qt[jr.overscaledZ],Mt,Rt.disabled,la,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function wc(ve,X,pe,te,ye){var Fe=te.paint.get("raster-fade-duration");if(Fe>0){var Xe=n.browser.now(),ot=(Xe-ve.timeAdded)/Fe,Mt=X?(Xe-X.timeAdded)/Fe:-1,Ut=pe.getSource(),Qt=ye.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),lr=!X||Math.abs(X.tileID.overscaledZ-Qt)>Math.abs(ve.tileID.overscaledZ-Qt),or=lr&&ve.refreshedUponExpiration?1:n.clamp(lr?ot:1-Mt,0,1);return ve.refreshedUponExpiration&&ot>=1&&(ve.refreshedUponExpiration=!1),X?{opacity:1,mix:1-or}:{opacity:or,mix:0}}else return{opacity:1,mix:0}}function jl(ve,X,pe){var te=pe.paint.get("background-color"),ye=pe.paint.get("background-opacity");if(ye!==0){var Fe=ve.context,Xe=Fe.gl,ot=ve.transform,Mt=ot.tileSize,Ut=pe.paint.get("background-pattern");if(!ve.isPatternMissing(Ut)){var Qt=!Ut&&te.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===Qt){var lr=Jt.disabled,or=ve.depthModeForSublayer(0,Qt==="opaque"?Sr.ReadWrite:Sr.ReadOnly),Or=ve.colorModeForRenderPass(),$r=ve.useProgram(Ut?"backgroundPattern":"background"),Xr=ot.coveringTiles({tileSize:Mt});Ut&&(Fe.activeTexture.set(Xe.TEXTURE0),ve.imageManager.bind(ve.context));for(var jr=pe.getCrossfadeParameters(),Qr=0,vn=Xr;Qr<vn.length;Qr+=1){var _n=vn[Qr],Nn=ve.transform.calculatePosMatrix(_n.toUnwrapped()),Xn=Ut?ef(Nn,ye,ve,Ut,{tileID:_n,tileSize:Mt},jr):wl(Nn,ye,te);$r.draw(Fe,Xe.TRIANGLES,or,lr,Or,Rt.disabled,Xn,pe.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var Tc=new n.Color(1,0,0,1),lf=new n.Color(0,1,0,1),mh=new n.Color(0,0,1,1),$e=new n.Color(1,0,1,1),nt=new n.Color(0,1,1,1);function ht(ve){var X=ve.transform.padding,pe=3;_t(ve,ve.transform.height-(X.top||0),pe,Tc),_t(ve,X.bottom||0,pe,lf),kt(ve,X.left||0,pe,mh),kt(ve,ve.transform.width-(X.right||0),pe,$e);var te=ve.transform.centerPoint;mt(ve,te.x,ve.transform.height-te.y,nt)}function mt(ve,X,pe,te){var ye=20,Fe=2;Bt(ve,X-Fe/2,pe-ye/2,Fe,ye,te),Bt(ve,X-ye/2,pe-Fe/2,ye,Fe,te)}function _t(ve,X,pe,te){Bt(ve,0,X+pe/2,ve.transform.width,pe,te)}function kt(ve,X,pe,te){Bt(ve,X-pe/2,0,pe,ve.transform.height,te)}function Bt(ve,X,pe,te,ye,Fe){var Xe=ve.context,ot=Xe.gl;ot.enable(ot.SCISSOR_TEST),ot.scissor(X*n.browser.devicePixelRatio,pe*n.browser.devicePixelRatio,te*n.browser.devicePixelRatio,ye*n.browser.devicePixelRatio),Xe.clear({color:Fe}),ot.disable(ot.SCISSOR_TEST)}function pr(ve,X,pe){for(var te=0;te<pe.length;te++)Ar(ve,X,pe[te])}function Ar(ve,X,pe){var te=ve.context,ye=te.gl,Fe=pe.posMatrix,Xe=ve.useProgram("debug"),ot=Sr.disabled,Mt=Jt.disabled,Ut=ve.colorModeForRenderPass(),Qt="$debug";te.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Xe.draw(te,ye.LINE_STRIP,ot,Mt,Ut,Rt.disabled,fo(Fe,n.Color.red),Qt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var lr=X.getTileByID(pe.key).latestRawTileData,or=lr&&lr.byteLength||0,Or=Math.floor(or/1024),$r=X.getTile(pe).tileSize,Xr=512/Math.min($r,512)*(pe.overscaledZ/ve.transform.zoom)*.5,jr=pe.canonical.toString();pe.overscaledZ!==pe.canonical.z&&(jr+=" => "+pe.overscaledZ);var Qr=jr+" "+Or+"kb";ir(ve,Qr),Xe.draw(te,ye.TRIANGLES,ot,Mt,it.alphaBlended,Rt.disabled,fo(Fe,n.Color.transparent,Xr),Qt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function ir(ve,X){ve.initDebugOverlayCanvas();var pe=ve.debugOverlayCanvas,te=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,pe.width,pe.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(X,5,5),ye.strokeText(X,5,5),ve.debugOverlayTexture.update(pe),ve.debugOverlayTexture.bind(te.LINEAR,te.CLAMP_TO_EDGE)}function Er(ve,X,pe){var te=ve.context,ye=pe.implementation;if(ve.renderPass==="offscreen"){var Fe=ye.prerender;Fe&&(ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),Fe.call(ye,te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),te.setColorMode(ve.colorModeForRenderPass()),te.setStencilMode(Jt.disabled);var Xe=ye.renderingMode==="3d"?new Sr(ve.context.gl.LEQUAL,Sr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Sr.ReadOnly);te.setDepthMode(Xe),ye.render(te.gl,ve.transform.customLayerMatrix()),te.setDirty(),ve.setBaseState(),te.bindFramebuffer.set(null)}}var Fr={symbol:Bf,circle:gh,heatmap:Al,line:Nf,fill:rl,"fill-extrusion":bc,hillshade:of,raster:sf,background:jl,debug:pr,custom:Er},Vr=function(X,pe){this.context=new Lt(X),this.transform=pe,this._tileTextures={},this.setup(),this.numSublayers=Ot.maxUnderzooming+Ot.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ca,this.gpuTimers={}};Vr.prototype.resize=function(X,pe){if(this.width=X*n.browser.devicePixelRatio,this.height=pe*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var te=0,ye=this.style._order;te<ye.length;te+=1){var Fe=ye[te];this.style._layers[Fe].resize()}},Vr.prototype.setup=function(){var X=this.context,pe=new n.StructArrayLayout2i4;pe.emplaceBack(0,0),pe.emplaceBack(n.EXTENT,0),pe.emplaceBack(0,n.EXTENT),pe.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(pe,Wo.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var te=new n.StructArrayLayout2i4;te.emplaceBack(0,0),te.emplaceBack(n.EXTENT,0),te.emplaceBack(0,n.EXTENT),te.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=X.createVertexBuffer(te,Wo.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var ye=new n.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(n.EXTENT,0,n.EXTENT,0),ye.emplaceBack(0,n.EXTENT,0,n.EXTENT),ye.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(ye,Y.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Fe=new n.StructArrayLayout2i4;Fe.emplaceBack(0,0),Fe.emplaceBack(1,0),Fe.emplaceBack(0,1),Fe.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(Fe,Wo.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Xe=new n.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Xe);var ot=new n.StructArrayLayout3ui6;ot.emplaceBack(0,1,2),ot.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(ot),this.emptyTexture=new n.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var Mt=this.context.gl;this.stencilClearMode=new Jt({func:Mt.ALWAYS,mask:0},0,255,Mt.ZERO,Mt.ZERO,Mt.ZERO)},Vr.prototype.clearStencil=function(){var X=this.context,pe=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var te=n.create();n.ortho(te,0,this.width,this.height,0,0,1),n.scale(te,te,[pe.drawingBufferWidth,pe.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,pe.TRIANGLES,Sr.disabled,this.stencilClearMode,it.disabled,Rt.disabled,xu(te),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Vr.prototype._renderTileClippingMasks=function(X,pe){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!pe||!pe.length)){this.currentStencilSource=X.source;var te=this.context,ye=te.gl;this.nextStencilID+pe.length>256&&this.clearStencil(),te.setColorMode(it.disabled),te.setDepthMode(Sr.disabled);var Fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,ot=pe;Xe<ot.length;Xe+=1){var Mt=ot[Xe],Ut=this._tileClippingMaskIDs[Mt.key]=this.nextStencilID++;Fe.draw(te,ye.TRIANGLES,Sr.disabled,new Jt({func:ye.ALWAYS,mask:0},Ut,255,ye.KEEP,ye.KEEP,ye.REPLACE),it.disabled,Rt.disabled,xu(Mt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Vr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,pe=this.context.gl;return new Jt({func:pe.NOTEQUAL,mask:255},X,255,pe.KEEP,pe.KEEP,pe.REPLACE)},Vr.prototype.stencilModeForClipping=function(X){var pe=this.context.gl;return new Jt({func:pe.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,pe.KEEP,pe.KEEP,pe.REPLACE)},Vr.prototype.stencilConfigForOverlap=function(X){var pe,te=this.context.gl,ye=X.sort(function(Ut,Qt){return Qt.overscaledZ-Ut.overscaledZ}),Fe=ye[ye.length-1].overscaledZ,Xe=ye[0].overscaledZ-Fe+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var ot={},Mt=0;Mt<Xe;Mt++)ot[Mt+Fe]=new Jt({func:te.GEQUAL,mask:255},Mt+this.nextStencilID,255,te.KEEP,te.KEEP,te.REPLACE);return this.nextStencilID+=Xe,[ot,ye]}return[(pe={},pe[Fe]=Jt.disabled,pe),ye]},Vr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var pe=8,te=1/pe;return new it([X.CONSTANT_COLOR,X.ONE],new n.Color(te,te,te,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?it.unblended:it.alphaBlended},Vr.prototype.depthModeForSublayer=function(X,pe,te){if(!this.opaquePassEnabledForLayer())return Sr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new Sr(te||this.context.gl.LEQUAL,pe,[ye,ye])},Vr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Vr.prototype.render=function(X,pe){var te=this;this.style=X,this.options=pe,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,Fe=this.style.sourceCaches;for(var Xe in Fe){var ot=Fe[Xe];ot.used&&ot.prepare(this.context)}var Mt={},Ut={},Qt={};for(var lr in Fe){var or=Fe[lr];Mt[lr]=or.getVisibleCoordinates(),Ut[lr]=Mt[lr].slice().reverse(),Qt[lr]=or.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var Or=0;Or<ye.length;Or++){var $r=ye[Or];if(this.style._layers[$r].is3D()){this.opaquePassCutoff=Or;break}}this.renderPass="offscreen";for(var Xr=0,jr=ye;Xr<jr.length;Xr+=1){var Qr=jr[Xr],vn=this.style._layers[Qr];if(!(!vn.hasOffscreenPass()||vn.isHidden(this.transform.zoom))){var _n=Ut[vn.source];vn.type!=="custom"&&!_n.length||this.renderLayer(this,Fe[vn.source],vn,_n)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:pe.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=pe.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Nn=this.style._layers[ye[this.currentLayer]],Xn=Fe[Nn.source],Jn=Mt[Nn.source];this._renderTileClippingMasks(Nn,Jn),this.renderLayer(this,Xn,Nn,Jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var jn=this.style._layers[ye[this.currentLayer]],ea=Fe[jn.source],la=(jn.type==="symbol"?Qt:Ut)[jn.source];this._renderTileClippingMasks(jn,Mt[jn.source]),this.renderLayer(this,ea,jn,la)}if(this.options.showTileBoundaries){var va,wa,ga=n.values(this.style._layers);ga.forEach(function(Oa){Oa.source&&!Oa.isHidden(te.transform.zoom)&&(Oa.source!==(wa&&wa.id)&&(wa=te.style.sourceCaches[Oa.source]),(!va||va.getSource().maxzoom<wa.getSource().maxzoom)&&(va=wa))}),va&&Fr.debug(this,va,va.getVisibleCoordinates())}this.options.showPadding&&ht(this),this.context.setDefault()},Vr.prototype.renderLayer=function(X,pe,te,ye){te.isHidden(this.transform.zoom)||te.type!=="background"&&te.type!=="custom"&&!ye.length||(this.id=te.id,this.gpuTimingStart(te),Fr[te.type](X,pe,te,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Vr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var pe=this.context.extTimerQuery,te=this.gpuTimers[X.id];te||(te=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:pe.createQueryEXT()}),te.calls++,pe.beginQueryEXT(pe.TIME_ELAPSED_EXT,te.query)}},Vr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Vr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Vr.prototype.queryGpuTimers=function(X){var pe={};for(var te in X){var ye=X[te],Fe=this.context.extTimerQuery,Xe=Fe.getQueryObjectEXT(ye.query,Fe.QUERY_RESULT_EXT)/(1e3*1e3);Fe.deleteQueryEXT(ye.query),pe[te]=Xe}return pe},Vr.prototype.translatePosMatrix=function(X,pe,te,ye,Fe){if(!te[0]&&!te[1])return X;var Xe=Fe?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Xe){var ot=Math.sin(Xe),Mt=Math.cos(Xe);te=[te[0]*Mt-te[1]*ot,te[0]*ot+te[1]*Mt]}var Ut=[Fe?te[0]:mn(pe,te[0],this.transform.zoom),Fe?te[1]:mn(pe,te[1],this.transform.zoom),0],Qt=new Float32Array(16);return n.translate(Qt,X,Ut),Qt},Vr.prototype.saveTileTexture=function(X){var pe=this._tileTextures[X.size[0]];pe?pe.push(X):this._tileTextures[X.size[0]]=[X]},Vr.prototype.getTileTexture=function(X){var pe=this._tileTextures[X];return pe&&pe.length>0?pe.pop():null},Vr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var pe=this.imageManager.getPattern(X.from.toString()),te=this.imageManager.getPattern(X.to.toString());return!pe||!te},Vr.prototype.useProgram=function(X,pe){this.cache=this.cache||{};var te=""+X+(pe?pe.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[te]||(this.cache[te]=new pc(this.context,X,oh[X],pe,Tl[X],this._showOverdrawInspector)),this.cache[te]},Vr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Vr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Vr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},Vr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var an=function(X,pe){this.points=X,this.planes=pe};an.fromInvProjectionMatrix=function(X,pe,te){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Fe=Math.pow(2,te),Xe=ye.map(function(Ut){return n.transformMat4([],Ut,X)}).map(function(Ut){return n.scale$1([],Ut,1/Ut[3]/pe*Fe)}),ot=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],Mt=ot.map(function(Ut){var Qt=n.sub([],Xe[Ut[0]],Xe[Ut[1]]),lr=n.sub([],Xe[Ut[2]],Xe[Ut[1]]),or=n.normalize([],n.cross([],Qt,lr)),Or=-n.dot(or,Xe[Ut[1]]);return or.concat(Or)});return new an(Xe,Mt)};var Sn=function(X,pe){this.min=X,this.max=pe,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};Sn.prototype.quadrant=function(X){for(var pe=[X%2===0,X<2],te=n.clone$2(this.min),ye=n.clone$2(this.max),Fe=0;Fe<pe.length;Fe++)te[Fe]=pe[Fe]?this.min[Fe]:this.center[Fe],ye[Fe]=pe[Fe]?this.center[Fe]:this.max[Fe];return ye[2]=this.max[2],new Sn(te,ye)},Sn.prototype.distanceX=function(X){var pe=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return pe-X[0]},Sn.prototype.distanceY=function(X){var pe=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return pe-X[1]},Sn.prototype.intersects=function(X){for(var pe=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],te=!0,ye=0;ye<X.planes.length;ye++){for(var Fe=X.planes[ye],Xe=0,ot=0;ot<pe.length;ot++)Xe+=n.dot$1(Fe,pe[ot])>=0;if(Xe===0)return 0;Xe!==pe.length&&(te=!1)}if(te)return 2;for(var Mt=0;Mt<3;Mt++){for(var Ut=Number.MAX_VALUE,Qt=-Number.MAX_VALUE,lr=0;lr<X.points.length;lr++){var or=X.points[lr][Mt]-this.min[Mt];Ut=Math.min(Ut,or),Qt=Math.max(Qt,or)}if(Qt<0||Ut>this.max[Mt]-this.min[Mt])return 0}return 1};var Dn=function(X,pe,te,ye){if(X===void 0&&(X=0),pe===void 0&&(pe=0),te===void 0&&(te=0),ye===void 0&&(ye=0),isNaN(X)||X<0||isNaN(pe)||pe<0||isNaN(te)||te<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=pe,this.left=te,this.right=ye};Dn.prototype.interpolate=function(X,pe,te){return pe.top!=null&&X.top!=null&&(this.top=n.number(X.top,pe.top,te)),pe.bottom!=null&&X.bottom!=null&&(this.bottom=n.number(X.bottom,pe.bottom,te)),pe.left!=null&&X.left!=null&&(this.left=n.number(X.left,pe.left,te)),pe.right!=null&&X.right!=null&&(this.right=n.number(X.right,pe.right,te)),this},Dn.prototype.getCenter=function(X,pe){var te=n.clamp((this.left+X-this.right)/2,0,X),ye=n.clamp((this.top+pe-this.bottom)/2,0,pe);return new n.Point(te,ye)},Dn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},Dn.prototype.clone=function(){return new Dn(this.top,this.bottom,this.left,this.right)},Dn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var In=function(X,pe,te,ye,Fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Fe===void 0?!0:Fe,this._minZoom=X||0,this._maxZoom=pe||22,this._minPitch=te??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Dn,this._posMatrixCache={},this._alignedPosMatrixCache={}},qn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};In.prototype.clone=function(){var X=new In(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},qn.minZoom.get=function(){return this._minZoom},qn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},qn.maxZoom.get=function(){return this._maxZoom},qn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},qn.minPitch.get=function(){return this._minPitch},qn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},qn.maxPitch.get=function(){return this._maxPitch},qn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},qn.renderWorldCopies.get=function(){return this._renderWorldCopies},qn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},qn.worldSize.get=function(){return this.tileSize*this.scale},qn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},qn.size.get=function(){return new n.Point(this.width,this.height)},qn.bearing.get=function(){return-this.angle/Math.PI*180},qn.bearing.set=function(ve){var X=-n.wrap(ve,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},qn.pitch.get=function(){return this._pitch/Math.PI*180},qn.pitch.set=function(ve){var X=n.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},qn.fov.get=function(){return this._fov/Math.PI*180},qn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},qn.zoom.get=function(){return this._zoom},qn.zoom.set=function(ve){var X=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},qn.center.get=function(){return this._center},qn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},qn.padding.get=function(){return this._edgeInsets.toJSON()},qn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},qn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},In.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},In.prototype.interpolatePadding=function(X,pe,te){this._unmodified=!1,this._edgeInsets.interpolate(X,pe,te),this._constrain(),this._calcMatrices()},In.prototype.coveringZoomLevel=function(X){var pe=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,pe)},In.prototype.getVisibleUnwrappedCoordinates=function(X){var pe=[new n.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var te=this.pointCoordinate(new n.Point(0,0)),ye=this.pointCoordinate(new n.Point(this.width,0)),Fe=this.pointCoordinate(new n.Point(this.width,this.height)),Xe=this.pointCoordinate(new n.Point(0,this.height)),ot=Math.floor(Math.min(te.x,ye.x,Fe.x,Xe.x)),Mt=Math.floor(Math.max(te.x,ye.x,Fe.x,Xe.x)),Ut=1,Qt=ot-Ut;Qt<=Mt+Ut;Qt++)Qt!==0&&pe.push(new n.UnwrappedTileID(Qt,X));return pe},In.prototype.coveringTiles=function(X){var pe=this.coveringZoomLevel(X),te=pe;if(X.minzoom!==void 0&&pe<X.minzoom)return[];X.maxzoom!==void 0&&pe>X.maxzoom&&(pe=X.maxzoom);var ye=n.MercatorCoordinate.fromLngLat(this.center),Fe=Math.pow(2,pe),Xe=[Fe*ye.x,Fe*ye.y,0],ot=an.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,pe),Mt=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Mt=pe);var Ut=3,Qt=function(ga){return{aabb:new Sn([ga*Fe,0,0],[(ga+1)*Fe,Fe,0]),zoom:0,x:0,y:0,wrap:ga,fullyVisible:!1}},lr=[],or=[],Or=pe,$r=X.reparseOverscaled?te:pe;if(this._renderWorldCopies)for(var Xr=1;Xr<=3;Xr++)lr.push(Qt(-Xr)),lr.push(Qt(Xr));for(lr.push(Qt(0));lr.length>0;){var jr=lr.pop(),Qr=jr.x,vn=jr.y,_n=jr.fullyVisible;if(!_n){var Nn=jr.aabb.intersects(ot);if(Nn===0)continue;_n=Nn===2}var Xn=jr.aabb.distanceX(Xe),Jn=jr.aabb.distanceY(Xe),jn=Math.max(Math.abs(Xn),Math.abs(Jn)),ea=Ut+(1<<Or-jr.zoom)-2;if(jr.zoom===Or||jn>ea&&jr.zoom>=Mt){or.push({tileID:new n.OverscaledTileID(jr.zoom===Or?$r:jr.zoom,jr.wrap,jr.zoom,Qr,vn),distanceSq:n.sqrLen([Xe[0]-.5-Qr,Xe[1]-.5-vn])});continue}for(var la=0;la<4;la++){var va=(Qr<<1)+la%2,wa=(vn<<1)+(la>>1);lr.push({aabb:jr.aabb.quadrant(la),zoom:jr.zoom+1,x:va,y:wa,wrap:jr.wrap,fullyVisible:_n})}}return or.sort(function(ga,Oa){return ga.distanceSq-Oa.distanceSq}).map(function(ga){return ga.tileID})},In.prototype.resize=function(X,pe){this.width=X,this.height=pe,this.pixelsToGLUnits=[2/X,-2/pe],this._constrain(),this._calcMatrices()},qn.unmodified.get=function(){return this._unmodified},In.prototype.zoomScale=function(X){return Math.pow(2,X)},In.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},In.prototype.project=function(X){var pe=n.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(X.lng)*this.worldSize,n.mercatorYfromLat(pe)*this.worldSize)},In.prototype.unproject=function(X){return new n.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},qn.point.get=function(){return this.project(this.center)},In.prototype.setLocationAtPoint=function(X,pe){var te=this.pointCoordinate(pe),ye=this.pointCoordinate(this.centerPoint),Fe=this.locationCoordinate(X),Xe=new n.MercatorCoordinate(Fe.x-(te.x-ye.x),Fe.y-(te.y-ye.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},In.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},In.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},In.prototype.locationCoordinate=function(X){return n.MercatorCoordinate.fromLngLat(X)},In.prototype.coordinateLocation=function(X){return X.toLngLat()},In.prototype.pointCoordinate=function(X){var pe=0,te=[X.x,X.y,0,1],ye=[X.x,X.y,1,1];n.transformMat4(te,te,this.pixelMatrixInverse),n.transformMat4(ye,ye,this.pixelMatrixInverse);var Fe=te[3],Xe=ye[3],ot=te[0]/Fe,Mt=ye[0]/Xe,Ut=te[1]/Fe,Qt=ye[1]/Xe,lr=te[2]/Fe,or=ye[2]/Xe,Or=lr===or?0:(pe-lr)/(or-lr);return new n.MercatorCoordinate(n.number(ot,Mt,Or)/this.worldSize,n.number(Ut,Qt,Or)/this.worldSize)},In.prototype.coordinatePoint=function(X){var pe=[X.x*this.worldSize,X.y*this.worldSize,0,1];return n.transformMat4(pe,pe,this.pixelMatrix),new n.Point(pe[0]/pe[3],pe[1]/pe[3])},In.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},In.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},In.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},In.prototype.calculatePosMatrix=function(X,pe){pe===void 0&&(pe=!1);var te=X.key,ye=pe?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[te])return ye[te];var Fe=X.canonical,Xe=this.worldSize/this.zoomScale(Fe.z),ot=Fe.x+Math.pow(2,Fe.z)*X.wrap,Mt=n.identity(new Float64Array(16));return n.translate(Mt,Mt,[ot*Xe,Fe.y*Xe,0]),n.scale(Mt,Mt,[Xe/n.EXTENT,Xe/n.EXTENT,1]),n.multiply(Mt,pe?this.alignedProjMatrix:this.projMatrix,Mt),ye[te]=new Float32Array(Mt),ye[te]},In.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},In.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,pe=90,te=-180,ye=180,Fe,Xe,ot,Mt,Ut=this.size,Qt=this._unmodified;if(this.latRange){var lr=this.latRange;X=n.mercatorYfromLat(lr[1])*this.worldSize,pe=n.mercatorYfromLat(lr[0])*this.worldSize,Fe=pe-X<Ut.y?Ut.y/(pe-X):0}if(this.lngRange){var or=this.lngRange;te=n.mercatorXfromLng(or[0])*this.worldSize,ye=n.mercatorXfromLng(or[1])*this.worldSize,Xe=ye-te<Ut.x?Ut.x/(ye-te):0}var Or=this.point,$r=Math.max(Xe||0,Fe||0);if($r){this.center=this.unproject(new n.Point(Xe?(ye+te)/2:Or.x,Fe?(pe+X)/2:Or.y)),this.zoom+=this.scaleZoom($r),this._unmodified=Qt,this._constraining=!1;return}if(this.latRange){var Xr=Or.y,jr=Ut.y/2;Xr-jr<X&&(Mt=X+jr),Xr+jr>pe&&(Mt=pe-jr)}if(this.lngRange){var Qr=Or.x,vn=Ut.x/2;Qr-vn<te&&(ot=te+vn),Qr+vn>ye&&(ot=ye-vn)}(ot!==void 0||Mt!==void 0)&&(this.center=this.unproject(new n.Point(ot!==void 0?ot:Or.x,Mt!==void 0?Mt:Or.y))),this._unmodified=Qt,this._constraining=!1}},In.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,pe=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var te=Math.PI/2+this._pitch,ye=this._fov*(.5+pe.y/this.height),Fe=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-te-ye,.01,Math.PI-.01)),Xe=this.point,ot=Xe.x,Mt=Xe.y,Ut=Math.cos(Math.PI/2-this._pitch)*Fe+this.cameraToCenterDistance,Qt=Ut*1.01,lr=this.height/50,or=new Float64Array(16);n.perspective(or,this._fov,this.width/this.height,lr,Qt),or[8]=-pe.x*2/this.width,or[9]=pe.y*2/this.height,n.scale(or,or,[1,-1,1]),n.translate(or,or,[0,0,-this.cameraToCenterDistance]),n.rotateX(or,or,this._pitch),n.rotateZ(or,or,this.angle),n.translate(or,or,[-ot,-Mt,0]),this.mercatorMatrix=n.scale([],or,[this.worldSize,this.worldSize,this.worldSize]),n.scale(or,or,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=or,this.invProjMatrix=n.invert([],this.projMatrix);var Or=this.width%2/2,$r=this.height%2/2,Xr=Math.cos(this.angle),jr=Math.sin(this.angle),Qr=ot-Math.round(ot)+Xr*Or+jr*$r,vn=Mt-Math.round(Mt)+Xr*$r+jr*Or,_n=new Float64Array(or);if(n.translate(_n,_n,[Qr>.5?Qr-1:Qr,vn>.5?vn-1:vn,0]),this.alignedProjMatrix=_n,or=n.create(),n.scale(or,or,[this.width/2,-this.height/2,1]),n.translate(or,or,[1,-1,0]),this.labelPlaneMatrix=or,or=n.create(),n.scale(or,or,[1,-1,1]),n.translate(or,or,[-1,-1,0]),n.scale(or,or,[2/this.width,2/this.height,1]),this.glCoordMatrix=or,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),or=n.invert(new Float64Array(16),this.pixelMatrix),!or)throw new Error("failed to invert matrix");this.pixelMatrixInverse=or,this._posMatrixCache={},this._alignedPosMatrixCache={}}},In.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new n.Point(0,0)),pe=[X.x*this.worldSize,X.y*this.worldSize,0,1],te=n.transformMat4(pe,pe,this.pixelMatrix);return te[3]/this.cameraToCenterDistance},In.prototype.getCameraPoint=function(){var X=this._pitch,pe=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,pe))},In.prototype.getCameraQueryGeometry=function(X){var pe=this.getCameraPoint();if(X.length===1)return[X[0],pe];for(var te=pe.x,ye=pe.y,Fe=pe.x,Xe=pe.y,ot=0,Mt=X;ot<Mt.length;ot+=1){var Ut=Mt[ot];te=Math.min(te,Ut.x),ye=Math.min(ye,Ut.y),Fe=Math.max(Fe,Ut.x),Xe=Math.max(Xe,Ut.y)}return[new n.Point(te,ye),new n.Point(Fe,ye),new n.Point(Fe,Xe),new n.Point(te,Xe),new n.Point(te,ye)]},Object.defineProperties(In.prototype,qn);function Da(ve,X){var pe=!1,te=null,ye=function(){te=null,pe&&(ve(),te=setTimeout(ye,X),pe=!1)};return function(){return pe=!0,te||ye(),te}}var Ia=function(X){this._hashName=X&&encodeURIComponent(X),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Da(this._updateHashUnthrottled.bind(this),30*1e3/100)};Ia.prototype.addTo=function(X){return this._map=X,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Ia.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Ia.prototype.getHashString=function(X){var pe=this._map.getCenter(),te=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((te*Math.LN2+Math.log(512/360/.5))/Math.LN10),Fe=Math.pow(10,ye),Xe=Math.round(pe.lng*Fe)/Fe,ot=Math.round(pe.lat*Fe)/Fe,Mt=this._map.getBearing(),Ut=this._map.getPitch(),Qt="";if(X?Qt+="/"+Xe+"/"+ot+"/"+te:Qt+=te+"/"+ot+"/"+Xe,(Mt||Ut)&&(Qt+="/"+Math.round(Mt*10)/10),Ut&&(Qt+="/"+Math.round(Ut)),this._hashName){var lr=this._hashName,or=!1,Or=n.window.location.hash.slice(1).split("&").map(function($r){var Xr=$r.split("=")[0];return Xr===lr?(or=!0,Xr+"="+Qt):$r}).filter(function($r){return $r});return or||Or.push(lr+"="+Qt),"#"+Or.join("&")}return"#"+Qt},Ia.prototype._getCurrentHash=function(){var X=this,pe=n.window.location.hash.replace("#","");if(this._hashName){var te;return pe.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===X._hashName&&(te=ye)}),(te&&te[1]||"").split("/")}return pe.split("/")},Ia.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(te){return isNaN(te)})){var pe=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:pe,pitch:+(X[4]||0)}),!0}return!1},Ia.prototype._updateHashUnthrottled=function(){var X=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,X)}catch{}};var _a={linearity:.3,easing:n.bezier(0,0,.3,1)},Ba=n.extend({deceleration:2500,maxSpeed:1400},_a),Ja=n.extend({deceleration:20,maxSpeed:1400},_a),gi=n.extend({deceleration:1e3,maxSpeed:360},_a),ji=n.extend({deceleration:1e3,maxSpeed:90},_a),fe=function(X){this._map=X,this.clear()};fe.prototype.clear=function(){this._inertiaBuffer=[]},fe.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:X})},fe.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,pe=n.browser.now(),te=160;X.length>0&&pe-X[0].time>te;)X.shift()},fe.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var pe={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},te=0,ye=this._inertiaBuffer;te<ye.length;te+=1){var Fe=ye[te],Xe=Fe.settings;pe.zoom+=Xe.zoomDelta||0,pe.bearing+=Xe.bearingDelta||0,pe.pitch+=Xe.pitchDelta||0,Xe.panDelta&&pe.pan._add(Xe.panDelta),Xe.around&&(pe.around=Xe.around),Xe.pinchAround&&(pe.pinchAround=Xe.pinchAround)}var ot=this._inertiaBuffer[this._inertiaBuffer.length-1],Mt=ot.time-this._inertiaBuffer[0].time,Ut={};if(pe.pan.mag()){var Qt=Be(pe.pan.mag(),Mt,n.extend({},Ba,X||{}));Ut.offset=pe.pan.mult(Qt.amount/pe.pan.mag()),Ut.center=this._map.transform.center,Pe(Ut,Qt)}if(pe.zoom){var lr=Be(pe.zoom,Mt,Ja);Ut.zoom=this._map.transform.zoom+lr.amount,Pe(Ut,lr)}if(pe.bearing){var or=Be(pe.bearing,Mt,gi);Ut.bearing=this._map.transform.bearing+n.clamp(or.amount,-179,179),Pe(Ut,or)}if(pe.pitch){var Or=Be(pe.pitch,Mt,ji);Ut.pitch=this._map.transform.pitch+Or.amount,Pe(Ut,Or)}if(Ut.zoom||Ut.bearing){var $r=pe.pinchAround===void 0?pe.around:pe.pinchAround;Ut.around=$r?this._map.unproject($r):this._map.getCenter()}return this.clear(),n.extend(Ut,{noMoveStart:!0})}};function Pe(ve,X){(!ve.duration||ve.duration<X.duration)&&(ve.duration=X.duration,ve.easing=X.easing)}function Be(ve,X,pe){var te=pe.maxSpeed,ye=pe.linearity,Fe=pe.deceleration,Xe=n.clamp(ve*ye/(X/1e3),-te,te),ot=Math.abs(Xe)/(Fe*ye);return{easing:pe.easing,duration:ot*1e3,amount:Xe*(ot/2)}}var Qe=function(ve){function X(te,ye,Fe,Xe){Xe===void 0&&(Xe={});var ot=T.mousePos(ye.getCanvasContainer(),Fe),Mt=ye.unproject(ot);ve.call(this,te,n.extend({point:ot,lngLat:Mt,originalEvent:Fe},Xe)),this._defaultPrevented=!1,this.target=ye}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(n.Event),rt=function(ve){function X(te,ye,Fe){var Xe=te==="touchend"?Fe.changedTouches:Fe.touches,ot=T.touchPos(ye.getCanvasContainer(),Xe),Mt=ot.map(function(lr){return ye.unproject(lr)}),Ut=ot.reduce(function(lr,or,Or,$r){return lr.add(or.div($r.length))},new n.Point(0,0)),Qt=ye.unproject(Ut);ve.call(this,te,{points:ot,point:Ut,lngLats:Mt,lngLat:Qt,originalEvent:Fe}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(n.Event),st=function(ve){function X(te,ye,Fe){ve.call(this,te,{originalEvent:Fe}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(n.Event),Et=function(X,pe){this._map=X,this._clickTolerance=pe.clickTolerance};Et.prototype.reset=function(){delete this._mousedownPos},Et.prototype.wheel=function(X){return this._firePreventable(new st(X.type,this._map,X))},Et.prototype.mousedown=function(X,pe){return this._mousedownPos=pe,this._firePreventable(new Qe(X.type,this._map,X))},Et.prototype.mouseup=function(X){this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.click=function(X,pe){this._mousedownPos&&this._mousedownPos.dist(pe)>=this._clickTolerance||this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.dblclick=function(X){return this._firePreventable(new Qe(X.type,this._map,X))},Et.prototype.mouseover=function(X){this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.mouseout=function(X){this._map.fire(new Qe(X.type,this._map,X))},Et.prototype.touchstart=function(X){return this._firePreventable(new rt(X.type,this._map,X))},Et.prototype.touchmove=function(X){this._map.fire(new rt(X.type,this._map,X))},Et.prototype.touchend=function(X){this._map.fire(new rt(X.type,this._map,X))},Et.prototype.touchcancel=function(X){this._map.fire(new rt(X.type,this._map,X))},Et.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},Et.prototype.isEnabled=function(){return!0},Et.prototype.isActive=function(){return!1},Et.prototype.enable=function(){},Et.prototype.disable=function(){};var bt=function(X){this._map=X};bt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},bt.prototype.mousemove=function(X){this._map.fire(new Qe(X.type,this._map,X))},bt.prototype.mousedown=function(){this._delayContextMenu=!0},bt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Qe("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},bt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new Qe(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},bt.prototype.isEnabled=function(){return!0},bt.prototype.isActive=function(){return!1},bt.prototype.enable=function(){},bt.prototype.disable=function(){};var Vt=function(X,pe){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=pe.clickTolerance||1};Vt.prototype.isEnabled=function(){return!!this._enabled},Vt.prototype.isActive=function(){return!!this._active},Vt.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},Vt.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Vt.prototype.mousedown=function(X,pe){this.isEnabled()&&X.shiftKey&&X.button===0&&(T.disableDrag(),this._startPos=this._lastPos=pe,this._active=!0)},Vt.prototype.mousemoveWindow=function(X,pe){if(this._active){var te=pe;if(!(this._lastPos.equals(te)||!this._box&&te.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=te,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var Fe=Math.min(ye.x,te.x),Xe=Math.max(ye.x,te.x),ot=Math.min(ye.y,te.y),Mt=Math.max(ye.y,te.y);T.setTransform(this._box,"translate("+Fe+"px,"+ot+"px)"),this._box.style.width=Xe-Fe+"px",this._box.style.height=Mt-ot+"px"}}},Vt.prototype.mouseupWindow=function(X,pe){var te=this;if(this._active&&X.button===0){var ye=this._startPos,Fe=pe;if(this.reset(),T.suppressClick(),ye.x===Fe.x&&ye.y===Fe.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(ye,Fe,te._map.getBearing(),{linear:!0})}}}},Vt.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},Vt.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},Vt.prototype._fireEvent=function(X,pe){return this._map.fire(new n.Event(X,{originalEvent:pe}))};function Gt(ve,X){for(var pe={},te=0;te<ve.length;te++)pe[ve[te].identifier]=X[te];return pe}function nr(ve){for(var X=new n.Point(0,0),pe=0,te=ve;pe<te.length;pe+=1){var ye=te[pe];X._add(ye)}return X.div(ve.length)}var Rr=500,kr=500,qr=30,ln=function(X){this.reset(),this.numTouches=X.numTouches};ln.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},ln.prototype.touchstart=function(X,pe,te){(this.centroid||te.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),te.length===this.numTouches&&(this.centroid=nr(pe),this.touches=Gt(te,pe)))},ln.prototype.touchmove=function(X,pe,te){if(!(this.aborted||!this.centroid)){var ye=Gt(te,pe);for(var Fe in this.touches){var Xe=this.touches[Fe],ot=ye[Fe];(!ot||ot.dist(Xe)>qr)&&(this.aborted=!0)}}},ln.prototype.touchend=function(X,pe,te){if((!this.centroid||X.timeStamp-this.startTime>kr)&&(this.aborted=!0),te.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var Ir=function(X){this.singleTap=new ln(X),this.numTaps=X.numTaps,this.reset()};Ir.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Ir.prototype.touchstart=function(X,pe,te){this.singleTap.touchstart(X,pe,te)},Ir.prototype.touchmove=function(X,pe,te){this.singleTap.touchmove(X,pe,te)},Ir.prototype.touchend=function(X,pe,te){var ye=this.singleTap.touchend(X,pe,te);if(ye){var Fe=X.timeStamp-this.lastTime<Rr,Xe=!this.lastTap||this.lastTap.dist(ye)<qr;if((!Fe||!Xe)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Hr=function(){this._zoomIn=new Ir({numTouches:1,numTaps:2}),this._zoomOut=new Ir({numTouches:2,numTaps:1}),this.reset()};Hr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Hr.prototype.touchstart=function(X,pe,te){this._zoomIn.touchstart(X,pe,te),this._zoomOut.touchstart(X,pe,te)},Hr.prototype.touchmove=function(X,pe,te){this._zoomIn.touchmove(X,pe,te),this._zoomOut.touchmove(X,pe,te)},Hr.prototype.touchend=function(X,pe,te){var ye=this,Fe=this._zoomIn.touchend(X,pe,te),Xe=this._zoomOut.touchend(X,pe,te);if(Fe)return this._active=!0,X.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()+1,around:ot.unproject(Fe)},{originalEvent:X})}};if(Xe)return this._active=!0,X.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(ot){return ot.easeTo({duration:300,zoom:ot.getZoom()-1,around:ot.unproject(Xe)},{originalEvent:X})}}},Hr.prototype.touchcancel=function(){this.reset()},Hr.prototype.enable=function(){this._enabled=!0},Hr.prototype.disable=function(){this._enabled=!1,this.reset()},Hr.prototype.isEnabled=function(){return this._enabled},Hr.prototype.isActive=function(){return this._active};var Kr=0,cn=2,dn={};dn[Kr]=1,dn[cn]=2;function tn(ve,X){var pe=dn[X];return ve.buttons===void 0||(ve.buttons&pe)!==pe}var Hn=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};Hn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},Hn.prototype._correctButton=function(X,pe){return!1},Hn.prototype._move=function(X,pe){return{}},Hn.prototype.mousedown=function(X,pe){if(!this._lastPoint){var te=T.mouseButton(X);this._correctButton(X,te)&&(this._lastPoint=pe,this._eventButton=te)}},Hn.prototype.mousemoveWindow=function(X,pe){var te=this._lastPoint;if(te){if(X.preventDefault(),tn(X,this._eventButton)){this.reset();return}if(!(!this._moved&&pe.dist(te)<this._clickTolerance))return this._moved=!0,this._lastPoint=pe,this._move(te,pe)}},Hn.prototype.mouseupWindow=function(X){if(this._lastPoint){var pe=T.mouseButton(X);pe===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())}},Hn.prototype.enable=function(){this._enabled=!0},Hn.prototype.disable=function(){this._enabled=!1,this.reset()},Hn.prototype.isEnabled=function(){return this._enabled},Hn.prototype.isActive=function(){return this._active};var oa=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(te,ye){ve.prototype.mousedown.call(this,te,ye),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(te,ye){return ye===Kr&&!te.ctrlKey},X.prototype._move=function(te,ye){return{around:ye,panDelta:ye.sub(te)}},X}(Hn),da=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(te,ye){return ye===Kr&&te.ctrlKey||ye===cn},X.prototype._move=function(te,ye){var Fe=.8,Xe=(ye.x-te.x)*Fe;if(Xe)return this._active=!0,{bearingDelta:Xe}},X.prototype.contextmenu=function(te){te.preventDefault()},X}(Hn),aa=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(te,ye){return ye===Kr&&te.ctrlKey||ye===cn},X.prototype._move=function(te,ye){var Fe=-.5,Xe=(ye.y-te.y)*Fe;if(Xe)return this._active=!0,{pitchDelta:Xe}},X.prototype.contextmenu=function(te){te.preventDefault()},X}(Hn),fa=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};fa.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},fa.prototype.touchstart=function(X,pe,te){return this._calculateTransform(X,pe,te)},fa.prototype.touchmove=function(X,pe,te){if(!(!this._active||te.length<this._minTouches))return X.preventDefault(),this._calculateTransform(X,pe,te)},fa.prototype.touchend=function(X,pe,te){this._calculateTransform(X,pe,te),this._active&&te.length<this._minTouches&&this.reset()},fa.prototype.touchcancel=function(){this.reset()},fa.prototype._calculateTransform=function(X,pe,te){te.length>0&&(this._active=!0);var ye=Gt(te,pe),Fe=new n.Point(0,0),Xe=new n.Point(0,0),ot=0;for(var Mt in ye){var Ut=ye[Mt],Qt=this._touches[Mt];Qt&&(Fe._add(Ut),Xe._add(Ut.sub(Qt)),ot++,ye[Mt]=Ut)}if(this._touches=ye,!(ot<this._minTouches||!Xe.mag())){var lr=Xe.div(ot);if(this._sum._add(lr),!(this._sum.mag()<this._clickTolerance)){var or=Fe.div(ot);return{around:or,panDelta:lr}}}},fa.prototype.enable=function(){this._enabled=!0},fa.prototype.disable=function(){this._enabled=!1,this.reset()},fa.prototype.isEnabled=function(){return this._enabled},fa.prototype.isActive=function(){return this._active};var pa=function(){this.reset()};pa.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},pa.prototype._start=function(X){},pa.prototype._move=function(X,pe,te){return{}},pa.prototype.touchstart=function(X,pe,te){this._firstTwoTouches||te.length<2||(this._firstTwoTouches=[te[0].identifier,te[1].identifier],this._start([pe[0],pe[1]]))},pa.prototype.touchmove=function(X,pe,te){if(this._firstTwoTouches){X.preventDefault();var ye=this._firstTwoTouches,Fe=ye[0],Xe=ye[1],ot=Ua(te,pe,Fe),Mt=Ua(te,pe,Xe);if(!(!ot||!Mt)){var Ut=this._aroundCenter?null:ot.add(Mt).div(2);return this._move([ot,Mt],Ut,X)}}},pa.prototype.touchend=function(X,pe,te){if(this._firstTwoTouches){var ye=this._firstTwoTouches,Fe=ye[0],Xe=ye[1],ot=Ua(te,pe,Fe),Mt=Ua(te,pe,Xe);ot&&Mt||(this._active&&T.suppressClick(),this.reset())}},pa.prototype.touchcancel=function(){this.reset()},pa.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},pa.prototype.disable=function(){this._enabled=!1,this.reset()},pa.prototype.isEnabled=function(){return this._enabled},pa.prototype.isActive=function(){return this._active};function Ua(ve,X,pe){for(var te=0;te<ve.length;te++)if(ve[te].identifier===pe)return X[te]}var La=.1;function Fa(ve,X){return Math.log(ve/X)/Math.LN2}var si=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(te){this._startDistance=this._distance=te[0].dist(te[1])},X.prototype._move=function(te,ye){var Fe=this._distance;if(this._distance=te[0].dist(te[1]),!(!this._active&&Math.abs(Fa(this._distance,this._startDistance))<La))return this._active=!0,{zoomDelta:Fa(this._distance,Fe),pinchAround:ye}},X}(pa),Zi=25;function vi(ve,X){return ve.angleWith(X)*180/Math.PI}var na=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(te){this._startVector=this._vector=te[0].sub(te[1]),this._minDiameter=te[0].dist(te[1])},X.prototype._move=function(te,ye){var Fe=this._vector;if(this._vector=te[0].sub(te[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:vi(this._vector,Fe),pinchAround:ye}},X.prototype._isBelowThreshold=function(te){this._minDiameter=Math.min(this._minDiameter,te.mag());var ye=Math.PI*this._minDiameter,Fe=Zi/ye*360,Xe=vi(te,this._startVector);return Math.abs(Xe)<Fe},X}(pa);function Ha(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Ma=100,Qa=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(te){this._lastPoints=te,Ha(te[0].sub(te[1]))&&(this._valid=!1)},X.prototype._move=function(te,ye,Fe){var Xe=te[0].sub(this._lastPoints[0]),ot=te[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,ot,Fe.timeStamp),!!this._valid){this._lastPoints=te,this._active=!0;var Mt=(Xe.y+ot.y)/2,Ut=-.5;return{pitchDelta:Mt*Ut}}},X.prototype.gestureBeginsVertically=function(te,ye,Fe){if(this._valid!==void 0)return this._valid;var Xe=2,ot=te.mag()>=Xe,Mt=ye.mag()>=Xe;if(!(!ot&&!Mt)){if(!ot||!Mt)return this._firstMove===void 0&&(this._firstMove=Fe),Fe-this._firstMove<Ma?void 0:!1;var Ut=te.y>0==ye.y>0;return Ha(te)&&Ha(ye)&&Ut}},X}(pa),Si={panStep:100,bearingStep:15,pitchStep:10},li=function(){var X=Si;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep,this._rotationDisabled=!1};li.prototype.reset=function(){this._active=!1},li.prototype.keydown=function(X){var pe=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var te=0,ye=0,Fe=0,Xe=0,ot=0;switch(X.keyCode){case 61:case 107:case 171:case 187:te=1;break;case 189:case 109:case 173:te=-1;break;case 37:X.shiftKey?ye=-1:(X.preventDefault(),Xe=-1);break;case 39:X.shiftKey?ye=1:(X.preventDefault(),Xe=1);break;case 38:X.shiftKey?Fe=1:(X.preventDefault(),ot=-1);break;case 40:X.shiftKey?Fe=-1:(X.preventDefault(),ot=1);break;default:return}return this._rotationDisabled&&(ye=0,Fe=0),{cameraAnimation:function(Mt){var Ut=Mt.getZoom();Mt.easeTo({duration:300,easeId:"keyboardHandler",easing:co,zoom:te?Math.round(Ut)+te*(X.shiftKey?2:1):Ut,bearing:Mt.getBearing()+ye*pe._bearingStep,pitch:Mt.getPitch()+Fe*pe._pitchStep,offset:[-Xe*pe._panStep,-ot*pe._panStep],center:Mt.getCenter()},{originalEvent:X})}}}},li.prototype.enable=function(){this._enabled=!0},li.prototype.disable=function(){this._enabled=!1,this.reset()},li.prototype.isEnabled=function(){return this._enabled},li.prototype.isActive=function(){return this._active},li.prototype.disableRotation=function(){this._rotationDisabled=!0},li.prototype.enableRotation=function(){this._rotationDisabled=!1};function co(ve){return ve*(2-ve)}var ho=4.000244140625,mo=1/100,Mi=1/450,ko=2,ha=function(X,pe){this._map=X,this._el=X.getCanvasContainer(),this._handler=pe,this._delta=0,this._defaultZoomRate=mo,this._wheelZoomRate=Mi,n.bindAll(["_onTimeout"],this)};ha.prototype.setZoomRate=function(X){this._defaultZoomRate=X},ha.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},ha.prototype.isEnabled=function(){return!!this._enabled},ha.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ha.prototype.isZooming=function(){return!!this._zooming},ha.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},ha.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ha.prototype.wheel=function(X){if(this.isEnabled()){var pe=X.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,te=n.browser.now(),ye=te-(this._lastWheelEventTime||0);this._lastWheelEventTime=te,pe!==0&&pe%ho===0?this._type="wheel":pe!==0&&Math.abs(pe)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=pe,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(ye*pe)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,pe+=this._lastValue)),X.shiftKey&&pe&&(pe=pe/4),this._type&&(this._lastWheelEvent=X,this._delta-=pe,this._active||this._start(X)),X.preventDefault()}},ha.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},ha.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var pe=T.mousePos(this._el,X);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(pe)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ha.prototype.renderFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var pe=this._map.transform;if(this._delta!==0){var te=this._type==="wheel"&&Math.abs(this._delta)>ho?this._wheelZoomRate:this._defaultZoomRate,ye=ko/(1+Math.exp(-Math.abs(this._delta*te)));this._delta<0&&ye!==0&&(ye=1/ye);var Fe=typeof this._targetZoom=="number"?pe.zoomScale(this._targetZoom):pe.scale;this._targetZoom=Math.min(pe.maxZoom,Math.max(pe.minZoom,pe.scaleZoom(Fe*ye))),this._type==="wheel"&&(this._startZoom=pe.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:pe.zoom,ot=this._startZoom,Mt=this._easing,Ut=!1,Qt;if(this._type==="wheel"&&ot&&Mt){var lr=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),or=Mt(lr);Qt=n.number(ot,Xe,or),lr<1?this._frameId||(this._frameId=!0):Ut=!0}else Qt=Xe,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Qt-pe.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ha.prototype._smoothOutEasing=function(X){var pe=n.ease;if(this._prevEase){var te=this._prevEase,ye=(n.browser.now()-te.start)/te.duration,Fe=te.easing(ye+.01)-te.easing(ye),Xe=.27/Math.sqrt(Fe*Fe+1e-4)*.01,ot=Math.sqrt(.27*.27-Xe*Xe);pe=n.bezier(Xe,ot,.25,1)}return this._prevEase={start:n.browser.now(),duration:X,easing:pe},pe},ha.prototype.reset=function(){this._active=!1};var Ra=function(X,pe){this._clickZoom=X,this._tapZoom=pe};Ra.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ra.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ra.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ra.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Xo=function(){this.reset()};Xo.prototype.reset=function(){this._active=!1},Xo.prototype.dblclick=function(X,pe){return X.preventDefault(),{cameraAnimation:function(te){te.easeTo({duration:300,zoom:te.getZoom()+(X.shiftKey?-1:1),around:te.unproject(pe)},{originalEvent:X})}}},Xo.prototype.enable=function(){this._enabled=!0},Xo.prototype.disable=function(){this._enabled=!1,this.reset()},Xo.prototype.isEnabled=function(){return this._enabled},Xo.prototype.isActive=function(){return this._active};var rs=function(){this._tap=new Ir({numTouches:1,numTaps:1}),this.reset()};rs.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},rs.prototype.touchstart=function(X,pe,te){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>Rr&&this.reset(),this._tapTime?te.length>0&&(this._swipePoint=pe[0],this._swipeTouch=te[0].identifier):this._tap.touchstart(X,pe,te))},rs.prototype.touchmove=function(X,pe,te){if(!this._tapTime)this._tap.touchmove(X,pe,te);else if(this._swipePoint){if(te[0].identifier!==this._swipeTouch)return;var ye=pe[0],Fe=ye.y-this._swipePoint.y;return this._swipePoint=ye,X.preventDefault(),this._active=!0,{zoomDelta:Fe/128}}},rs.prototype.touchend=function(X,pe,te){if(this._tapTime)this._swipePoint&&te.length===0&&this.reset();else{var ye=this._tap.touchend(X,pe,te);ye&&(this._tapTime=X.timeStamp)}},rs.prototype.touchcancel=function(){this.reset()},rs.prototype.enable=function(){this._enabled=!0},rs.prototype.disable=function(){this._enabled=!1,this.reset()},rs.prototype.isEnabled=function(){return this._enabled},rs.prototype.isActive=function(){return this._active};var xo=function(X,pe,te){this._el=X,this._mousePan=pe,this._touchPan=te};xo.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},xo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},xo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},xo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var di=function(X,pe,te){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=pe,this._mousePitch=te};di.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},di.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},di.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},di.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ro=function(X,pe,te,ye){this._el=X,this._touchZoom=pe,this._touchRotate=te,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};ro.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ro.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ro.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ro.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ro.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ro.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Xi=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Ns=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X}(n.Event);function nl(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var Oi=function(X,pe){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new fe(X),this._bearingSnap=pe.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(pe),n.bindAll(["handleEvent","handleWindowEvent"],this);var te=this._el;this._listeners=[[te,"touchstart",{passive:!0}],[te,"touchmove",{passive:!1}],[te,"touchend",void 0],[te,"touchcancel",void 0],[te,"mousedown",void 0],[te,"mousemove",void 0],[te,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[te,"mouseover",void 0],[te,"mouseout",void 0],[te,"dblclick",void 0],[te,"click",void 0],[te,"keydown",{capture:!1}],[te,"keyup",void 0],[te,"wheel",{passive:!1}],[te,"contextmenu",void 0],[n.window,"blur",void 0]];for(var ye=0,Fe=this._listeners;ye<Fe.length;ye+=1){var Xe=Fe[ye],ot=Xe[0],Mt=Xe[1],Ut=Xe[2];T.addEventListener(ot,Mt,ot===n.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};Oi.prototype.destroy=function(){for(var X=0,pe=this._listeners;X<pe.length;X+=1){var te=pe[X],ye=te[0],Fe=te[1],Xe=te[2];T.removeEventListener(ye,Fe,ye===n.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},Oi.prototype._addDefaultHandlers=function(X){var pe=this._map,te=pe.getCanvasContainer();this._add("mapEvent",new Et(pe,X));var ye=pe.boxZoom=new Vt(pe,X);this._add("boxZoom",ye);var Fe=new Hr,Xe=new Xo;pe.doubleClickZoom=new Ra(Xe,Fe),this._add("tapZoom",Fe),this._add("clickZoom",Xe);var ot=new rs;this._add("tapDragZoom",ot);var Mt=pe.touchPitch=new Qa;this._add("touchPitch",Mt);var Ut=new da(X),Qt=new aa(X);pe.dragRotate=new di(X,Ut,Qt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Qt,["mouseRotate"]);var lr=new oa(X),or=new fa(X);pe.dragPan=new xo(te,lr,or),this._add("mousePan",lr),this._add("touchPan",or,["touchZoom","touchRotate"]);var Or=new na,$r=new si;pe.touchZoomRotate=new ro(te,$r,Or,ot),this._add("touchRotate",Or,["touchPan","touchZoom"]),this._add("touchZoom",$r,["touchPan","touchRotate"]);var Xr=pe.scrollZoom=new ha(pe,this);this._add("scrollZoom",Xr,["mousePan"]);var jr=pe.keyboard=new li;this._add("keyboard",jr),this._add("blockableMapEvent",new bt(pe));for(var Qr=0,vn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Qr<vn.length;Qr+=1){var _n=vn[Qr];X.interactive&&X[_n]&&pe[_n].enable(X[_n])}},Oi.prototype._add=function(X,pe,te){this._handlers.push({handlerName:X,handler:pe,allowed:te}),this._handlersById[X]=pe},Oi.prototype.stop=function(X){if(!this._updatingCamera){for(var pe=0,te=this._handlers;pe<te.length;pe+=1){var ye=te[pe],Fe=ye.handler;Fe.reset()}this._inertia.clear(),this._fireEvents({},{},X),this._changes=[]}},Oi.prototype.isActive=function(){for(var X=0,pe=this._handlers;X<pe.length;X+=1){var te=pe[X],ye=te.handler;if(ye.isActive())return!0}return!1},Oi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Oi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Oi.prototype.isMoving=function(){return!!Xi(this._eventsInProgress)||this.isZooming()},Oi.prototype._blockedByActive=function(X,pe,te){for(var ye in X)if(ye!==te&&(!pe||pe.indexOf(ye)<0))return!0;return!1},Oi.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},Oi.prototype._getMapTouches=function(X){for(var pe=[],te=0,ye=X;te<ye.length;te+=1){var Fe=ye[te],Xe=Fe.target;this._el.contains(Xe)&&pe.push(Fe)}return pe},Oi.prototype.handleEvent=function(X,pe){if(X.type==="blur"){this.stop(!0);return}this._updatingCamera=!0;for(var te=X.type==="renderFrame"?void 0:X,ye={needsRenderFrame:!1},Fe={},Xe={},ot=X.touches?this._getMapTouches(X.touches):void 0,Mt=ot?T.touchPos(this._el,ot):T.mousePos(this._el,X),Ut=0,Qt=this._handlers;Ut<Qt.length;Ut+=1){var lr=Qt[Ut],or=lr.handlerName,Or=lr.handler,$r=lr.allowed;if(Or.isEnabled()){var Xr=void 0;this._blockedByActive(Xe,$r,or)?Or.reset():Or[pe||X.type]&&(Xr=Or[pe||X.type](X,Mt,ot),this.mergeHandlerResult(ye,Fe,Xr,or,te),Xr&&Xr.needsRenderFrame&&this._triggerRenderFrame()),(Xr||Or.isActive())&&(Xe[or]=Or)}}var jr={};for(var Qr in this._previousActiveHandlers)Xe[Qr]||(jr[Qr]=te);this._previousActiveHandlers=Xe,(Object.keys(jr).length||nl(ye))&&(this._changes.push([ye,Fe,jr]),this._triggerRenderFrame()),(Object.keys(Xe).length||nl(ye))&&this._map._stop(!0),this._updatingCamera=!1;var vn=ye.cameraAnimation;vn&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],vn(this._map))},Oi.prototype.mergeHandlerResult=function(X,pe,te,ye,Fe){if(te){n.extend(X,te);var Xe={handlerName:ye,originalEvent:te.originalEvent||Fe};te.zoomDelta!==void 0&&(pe.zoom=Xe),te.panDelta!==void 0&&(pe.drag=Xe),te.pitchDelta!==void 0&&(pe.pitch=Xe),te.bearingDelta!==void 0&&(pe.rotate=Xe)}},Oi.prototype._applyChanges=function(){for(var X={},pe={},te={},ye=0,Fe=this._changes;ye<Fe.length;ye+=1){var Xe=Fe[ye],ot=Xe[0],Mt=Xe[1],Ut=Xe[2];ot.panDelta&&(X.panDelta=(X.panDelta||new n.Point(0,0))._add(ot.panDelta)),ot.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+ot.zoomDelta),ot.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+ot.bearingDelta),ot.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+ot.pitchDelta),ot.around!==void 0&&(X.around=ot.around),ot.pinchAround!==void 0&&(X.pinchAround=ot.pinchAround),ot.noInertia&&(X.noInertia=ot.noInertia),n.extend(pe,Mt),n.extend(te,Ut)}this._updateMapTransform(X,pe,te),this._changes=[]},Oi.prototype._updateMapTransform=function(X,pe,te){var ye=this._map,Fe=ye.transform;if(!nl(X))return this._fireEvents(pe,te,!0);var Xe=X.panDelta,ot=X.zoomDelta,Mt=X.bearingDelta,Ut=X.pitchDelta,Qt=X.around,lr=X.pinchAround;lr!==void 0&&(Qt=lr),ye._stop(!0),Qt=Qt||ye.transform.centerPoint;var or=Fe.pointLocation(Xe?Qt.sub(Xe):Qt);Mt&&(Fe.bearing+=Mt),Ut&&(Fe.pitch+=Ut),ot&&(Fe.zoom+=ot),Fe.setLocationAtPoint(or,Qt),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(pe,te,!0)},Oi.prototype._fireEvents=function(X,pe,te){var ye=this,Fe=Xi(this._eventsInProgress),Xe=Xi(X),ot={};for(var Mt in X){var Ut=X[Mt],Qt=Ut.originalEvent;this._eventsInProgress[Mt]||(ot[Mt+"start"]=Qt),this._eventsInProgress[Mt]=X[Mt]}!Fe&&Xe&&this._fireEvent("movestart",Xe.originalEvent);for(var lr in ot)this._fireEvent(lr,ot[lr]);Xe&&this._fireEvent("move",Xe.originalEvent);for(var or in X){var Or=X[or],$r=Or.originalEvent;this._fireEvent(or,$r)}var Xr={},jr;for(var Qr in this._eventsInProgress){var vn=this._eventsInProgress[Qr],_n=vn.handlerName,Nn=vn.originalEvent;this._handlersById[_n].isActive()||(delete this._eventsInProgress[Qr],jr=pe[_n]||Nn,Xr[Qr+"end"]=jr)}for(var Xn in Xr)this._fireEvent(Xn,Xr[Xn]);var Jn=Xi(this._eventsInProgress);if(te&&(Fe||Xe)&&!Jn){this._updatingCamera=!0;var jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),ea=function(la){return la!==0&&-ye._bearingSnap<la&&la<ye._bearingSnap};jn?(ea(jn.bearing||this._map.getBearing())&&(jn.bearing=0),this._map.easeTo(jn,{originalEvent:jr})):(this._map.fire(new n.Event("moveend",{originalEvent:jr})),ea(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Oi.prototype._fireEvent=function(X,pe){this._map.fire(new n.Event(X,pe?{originalEvent:pe}:{}))},Oi.prototype._requestFrame=function(){var X=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(pe){delete X._frameId,X.handleEvent(new Ns("renderFrame",{timeStamp:pe})),X._applyChanges()})},Oi.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Eu=function(ve){function X(pe,te){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=pe,this._bearingSnap=te.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(te,ye){return this.jumpTo({center:te},ye)},X.prototype.panBy=function(te,ye,Fe){return te=n.Point.convert(te).mult(-1),this.panTo(this.transform.center,n.extend({offset:te},ye),Fe)},X.prototype.panTo=function(te,ye,Fe){return this.easeTo(n.extend({center:te},ye),Fe)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(te,ye){return this.jumpTo({zoom:te},ye),this},X.prototype.zoomTo=function(te,ye,Fe){return this.easeTo(n.extend({zoom:te},ye),Fe)},X.prototype.zoomIn=function(te,ye){return this.zoomTo(this.getZoom()+1,te,ye),this},X.prototype.zoomOut=function(te,ye){return this.zoomTo(this.getZoom()-1,te,ye),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(te,ye){return this.jumpTo({bearing:te},ye),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(te,ye){return this.jumpTo({padding:te},ye),this},X.prototype.rotateTo=function(te,ye,Fe){return this.easeTo(n.extend({bearing:te},ye),Fe)},X.prototype.resetNorth=function(te,ye){return this.rotateTo(0,n.extend({duration:1e3},te),ye),this},X.prototype.resetNorthPitch=function(te,ye){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},te),ye),this},X.prototype.snapToNorth=function(te,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(te,ye):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(te,ye){return this.jumpTo({pitch:te},ye),this},X.prototype.cameraForBounds=function(te,ye){te=n.LngLatBounds.convert(te);var Fe=ye&&ye.bearing||0;return this._cameraForBoxAndBearing(te.getNorthWest(),te.getSouthEast(),Fe,ye)},X.prototype._cameraForBoxAndBearing=function(te,ye,Fe,Xe){var ot={top:0,bottom:0,right:0,left:0};if(Xe=n.extend({padding:ot,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var Mt=Xe.padding;Xe.padding={top:Mt,bottom:Mt,right:Mt,left:Mt}}Xe.padding=n.extend(ot,Xe.padding);var Ut=this.transform,Qt=Ut.padding,lr=Ut.project(n.LngLat.convert(te)),or=Ut.project(n.LngLat.convert(ye)),Or=lr.rotate(-Fe*Math.PI/180),$r=or.rotate(-Fe*Math.PI/180),Xr=new n.Point(Math.max(Or.x,$r.x),Math.max(Or.y,$r.y)),jr=new n.Point(Math.min(Or.x,$r.x),Math.min(Or.y,$r.y)),Qr=Xr.sub(jr),vn=(Ut.width-(Qt.left+Qt.right+Xe.padding.left+Xe.padding.right))/Qr.x,_n=(Ut.height-(Qt.top+Qt.bottom+Xe.padding.top+Xe.padding.bottom))/Qr.y;if(_n<0||vn<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Nn=Math.min(Ut.scaleZoom(Ut.scale*Math.min(vn,_n)),Xe.maxZoom),Xn=typeof Xe.offset.x=="number"?new n.Point(Xe.offset.x,Xe.offset.y):n.Point.convert(Xe.offset),Jn=(Xe.padding.left-Xe.padding.right)/2,jn=(Xe.padding.top-Xe.padding.bottom)/2,ea=new n.Point(Jn,jn),la=ea.rotate(Fe*Math.PI/180),va=Xn.add(la),wa=va.mult(Ut.scale/Ut.zoomScale(Nn)),ga=Ut.unproject(lr.add(or).div(2).sub(wa));return{center:ga,zoom:Nn,bearing:Fe}},X.prototype.fitBounds=function(te,ye,Fe){return this._fitInternal(this.cameraForBounds(te,ye),ye,Fe)},X.prototype.fitScreenCoordinates=function(te,ye,Fe,Xe,ot){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(te)),this.transform.pointLocation(n.Point.convert(ye)),Fe,Xe),Xe,ot)},X.prototype._fitInternal=function(te,ye,Fe){return te?(ye=n.extend(te,ye),delete ye.padding,ye.linear?this.easeTo(ye,Fe):this.flyTo(ye,Fe)):this},X.prototype.jumpTo=function(te,ye){this.stop();var Fe=this.transform,Xe=!1,ot=!1,Mt=!1;return"zoom"in te&&Fe.zoom!==+te.zoom&&(Xe=!0,Fe.zoom=+te.zoom),te.center!==void 0&&(Fe.center=n.LngLat.convert(te.center)),"bearing"in te&&Fe.bearing!==+te.bearing&&(ot=!0,Fe.bearing=+te.bearing),"pitch"in te&&Fe.pitch!==+te.pitch&&(Mt=!0,Fe.pitch=+te.pitch),te.padding!=null&&!Fe.isPaddingEqual(te.padding)&&(Fe.padding=te.padding),this.fire(new n.Event("movestart",ye)).fire(new n.Event("move",ye)),Xe&&this.fire(new n.Event("zoomstart",ye)).fire(new n.Event("zoom",ye)).fire(new n.Event("zoomend",ye)),ot&&this.fire(new n.Event("rotatestart",ye)).fire(new n.Event("rotate",ye)).fire(new n.Event("rotateend",ye)),Mt&&this.fire(new n.Event("pitchstart",ye)).fire(new n.Event("pitch",ye)).fire(new n.Event("pitchend",ye)),this.fire(new n.Event("moveend",ye))},X.prototype.easeTo=function(te,ye){var Fe=this;this._stop(!1,te.easeId),te=n.extend({offset:[0,0],duration:500,easing:n.ease},te),(te.animate===!1||!te.essential&&n.browser.prefersReducedMotion)&&(te.duration=0);var Xe=this.transform,ot=this.getZoom(),Mt=this.getBearing(),Ut=this.getPitch(),Qt=this.getPadding(),lr="zoom"in te?+te.zoom:ot,or="bearing"in te?this._normalizeBearing(te.bearing,Mt):Mt,Or="pitch"in te?+te.pitch:Ut,$r="padding"in te?te.padding:Xe.padding,Xr=n.Point.convert(te.offset),jr=Xe.centerPoint.add(Xr),Qr=Xe.pointLocation(jr),vn=n.LngLat.convert(te.center||Qr);this._normalizeCenter(vn);var _n=Xe.project(Qr),Nn=Xe.project(vn).sub(_n),Xn=Xe.zoomScale(lr-ot),Jn,jn;te.around&&(Jn=n.LngLat.convert(te.around),jn=Xe.locationPoint(Jn));var ea={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||lr!==ot,this._rotating=this._rotating||Mt!==or,this._pitching=this._pitching||Or!==Ut,this._padding=!Xe.isPaddingEqual($r),this._easeId=te.easeId,this._prepareEase(ye,te.noMoveStart,ea),this._ease(function(la){if(Fe._zooming&&(Xe.zoom=n.number(ot,lr,la)),Fe._rotating&&(Xe.bearing=n.number(Mt,or,la)),Fe._pitching&&(Xe.pitch=n.number(Ut,Or,la)),Fe._padding&&(Xe.interpolatePadding(Qt,$r,la),jr=Xe.centerPoint.add(Xr)),Jn)Xe.setLocationAtPoint(Jn,jn);else{var va=Xe.zoomScale(Xe.zoom-ot),wa=lr>ot?Math.min(2,Xn):Math.max(.5,Xn),ga=Math.pow(wa,1-la),Oa=Xe.unproject(_n.add(Nn.mult(la*ga)).mult(va));Xe.setLocationAtPoint(Xe.renderWorldCopies?Oa.wrap():Oa,jr)}Fe._fireMoveEvents(ye)},function(la){Fe._afterEase(ye,la)},te),this},X.prototype._prepareEase=function(te,ye,Fe){Fe===void 0&&(Fe={}),this._moving=!0,!ye&&!Fe.moving&&this.fire(new n.Event("movestart",te)),this._zooming&&!Fe.zooming&&this.fire(new n.Event("zoomstart",te)),this._rotating&&!Fe.rotating&&this.fire(new n.Event("rotatestart",te)),this._pitching&&!Fe.pitching&&this.fire(new n.Event("pitchstart",te))},X.prototype._fireMoveEvents=function(te){this.fire(new n.Event("move",te)),this._zooming&&this.fire(new n.Event("zoom",te)),this._rotating&&this.fire(new n.Event("rotate",te)),this._pitching&&this.fire(new n.Event("pitch",te))},X.prototype._afterEase=function(te,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var Fe=this._zooming,Xe=this._rotating,ot=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Fe&&this.fire(new n.Event("zoomend",te)),Xe&&this.fire(new n.Event("rotateend",te)),ot&&this.fire(new n.Event("pitchend",te)),this.fire(new n.Event("moveend",te))}},X.prototype.flyTo=function(te,ye){var Fe=this;if(!te.essential&&n.browser.prefersReducedMotion){var Xe=n.pick(te,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,ye)}this.stop(),te=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},te);var ot=this.transform,Mt=this.getZoom(),Ut=this.getBearing(),Qt=this.getPitch(),lr=this.getPadding(),or="zoom"in te?n.clamp(+te.zoom,ot.minZoom,ot.maxZoom):Mt,Or="bearing"in te?this._normalizeBearing(te.bearing,Ut):Ut,$r="pitch"in te?+te.pitch:Qt,Xr="padding"in te?te.padding:ot.padding,jr=ot.zoomScale(or-Mt),Qr=n.Point.convert(te.offset),vn=ot.centerPoint.add(Qr),_n=ot.pointLocation(vn),Nn=n.LngLat.convert(te.center||_n);this._normalizeCenter(Nn);var Xn=ot.project(_n),Jn=ot.project(Nn).sub(Xn),jn=te.curve,ea=Math.max(ot.width,ot.height),la=ea/jr,va=Jn.mag();if("minZoom"in te){var wa=n.clamp(Math.min(te.minZoom,Mt,or),ot.minZoom,ot.maxZoom),ga=ea/ot.zoomScale(wa-Mt);jn=Math.sqrt(ga/va*2)}var Oa=jn*jn;function ti(Wa){var ri=(la*la-ea*ea+(Wa?-1:1)*Oa*Oa*va*va)/(2*(Wa?la:ea)*Oa*va);return Math.log(Math.sqrt(ri*ri+1)-ri)}function Xa(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ea(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Ka(Wa){return Xa(Wa)/Ea(Wa)}var Ga=ti(0),ui=function(Wa){return Ea(Ga)/Ea(Ga+jn*Wa)},ai=function(Wa){return ea*((Ea(Ga)*Ka(Ga+jn*Wa)-Xa(Ga))/Oa)/va},Ci=(ti(1)-Ga)/jn;if(Math.abs(va)<1e-6||!isFinite(Ci)){if(Math.abs(ea-la)<1e-6)return this.easeTo(te,ye);var ei=la<ea?-1:1;Ci=Math.abs(Math.log(la/ea))/jn,ai=function(){return 0},ui=function(Wa){return Math.exp(ei*jn*Wa)}}if("duration"in te)te.duration=+te.duration;else{var wi="screenSpeed"in te?+te.screenSpeed/jn:+te.speed;te.duration=1e3*Ci/wi}return te.maxDuration&&te.duration>te.maxDuration&&(te.duration=0),this._zooming=!0,this._rotating=Ut!==Or,this._pitching=$r!==Qt,this._padding=!ot.isPaddingEqual(Xr),this._prepareEase(ye,!1),this._ease(function(Wa){var ri=Wa*Ci,$i=1/ui(ri);ot.zoom=Wa===1?or:Mt+ot.scaleZoom($i),Fe._rotating&&(ot.bearing=n.number(Ut,Or,Wa)),Fe._pitching&&(ot.pitch=n.number(Qt,$r,Wa)),Fe._padding&&(ot.interpolatePadding(lr,Xr,Wa),vn=ot.centerPoint.add(Qr));var Do=Wa===1?Nn:ot.unproject(Xn.add(Jn.mult(ai(ri))).mult($i));ot.setLocationAtPoint(ot.renderWorldCopies?Do.wrap():Do,vn),Fe._fireMoveEvents(ye)},function(){return Fe._afterEase(ye)},te),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(te,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Fe=this._onEaseEnd;delete this._onEaseEnd,Fe.call(this,ye)}if(!te){var Xe=this.handlers;Xe&&Xe.stop(!1)}return this},X.prototype._ease=function(te,ye,Fe){Fe.animate===!1||Fe.duration===0?(te(1),ye()):(this._easeStart=n.browser.now(),this._easeOptions=Fe,this._onEaseFrame=te,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var te=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(te)),te<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(te,ye){te=n.wrap(te,-180,180);var Fe=Math.abs(te-ye);return Math.abs(te-360-ye)<Fe&&(te-=360),Math.abs(te+360-ye)<Fe&&(te+=360),te},X.prototype._normalizeCenter=function(te){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var Fe=te.lng-ye.center.lng;te.lng+=Fe>180?-360:Fe<-180?360:0}},X}(n.Evented),qa=function(X){X===void 0&&(X={}),this.options=X,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};qa.prototype.getDefaultPosition=function(){return"bottom-right"},qa.prototype.onAdd=function(X){var pe=this.options&&this.options.compact;return this._map=X,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=T.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),pe&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),pe===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},qa.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},qa.prototype._setElementTitle=function(X,pe){var te=this._map._getUIString("AttributionControl."+pe);X.title=te,X.setAttribute("aria-label",te)},qa.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},qa.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var pe=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(X){var te=pe.reduce(function(ye,Fe,Xe){return Fe.value&&(ye+=Fe.key+"="+Fe.value+(Xe<pe.length-1?"&":"")),ye},"?");X.href=n.config.FEEDBACK_URL+"/"+te+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow",this._setElementTitle(X,"MapFeedback")}},qa.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.sourceDataType==="visibility"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},qa.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(Mt){return typeof Mt!="string"?"":Mt})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var pe=this._map.style.stylesheet;this.styleOwner=pe.owner,this.styleId=pe.id}var te=this._map.style.sourceCaches;for(var ye in te){var Fe=te[ye];if(Fe.used){var Xe=Fe.getSource();Xe.attribution&&X.indexOf(Xe.attribution)<0&&X.push(Xe.attribution)}}X.sort(function(Mt,Ut){return Mt.length-Ut.length}),X=X.filter(function(Mt,Ut){for(var Qt=Ut+1;Qt<X.length;Qt++)if(X[Qt].indexOf(Mt)>=0)return!1;return!0});var ot=X.join(" | ");ot!==this._attribHTML&&(this._attribHTML=ot,X.length?(this._innerContainer.innerHTML=ot,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},qa.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var Bi=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};Bi.prototype.onAdd=function(X){this._map=X,this._container=T.create("div","mapboxgl-ctrl");var pe=T.create("a","mapboxgl-ctrl-logo");return pe.target="_blank",pe.rel="noopener nofollow",pe.href="https://www.mapbox.com/",pe.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),pe.setAttribute("rel","noopener nofollow"),this._container.appendChild(pe),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Bi.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Bi.prototype.getDefaultPosition=function(){return"bottom-left"},Bi.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},Bi.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var pe in X){var te=X[pe].getSource();if(te.mapbox_logo)return!0}return!1}},Bi.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var pe=X[0];this._map.getCanvasContainer().offsetWidth<250?pe.classList.add("mapboxgl-compact"):pe.classList.remove("mapboxgl-compact")}};var Dv=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Dv.prototype.add=function(X){var pe=++this._id,te=this._queue;return te.push({callback:X,id:pe,cancelled:!1}),pe},Dv.prototype.remove=function(X){for(var pe=this._currentlyRunning,te=pe?this._queue.concat(pe):this._queue,ye=0,Fe=te;ye<Fe.length;ye+=1){var Xe=Fe[ye];if(Xe.id===X){Xe.cancelled=!0;return}}},Dv.prototype.run=function(X){X===void 0&&(X=0);var pe=this._currentlyRunning=this._queue;this._queue=[];for(var te=0,ye=pe;te<ye.length;te+=1){var Fe=ye[te];if(!Fe.cancelled&&(Fe.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Dv.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Gg={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Ac=n.window.HTMLImageElement,Up=n.window.HTMLElement,Vf=n.window.ImageBitmap,xh=-2,bh=22,As=0,Hf=60,Vp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:xh,maxZoom:bh,minPitch:As,maxPitch:Hf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Hp=function(ve){function X(te){var ye=this;if(te=n.extend({},Vp,te),te.minZoom!=null&&te.maxZoom!=null&&te.minZoom>te.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(te.minPitch!=null&&te.maxPitch!=null&&te.minPitch>te.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(te.minPitch!=null&&te.minPitch<As)throw new Error("minPitch must be greater than or equal to "+As);if(te.maxPitch!=null&&te.maxPitch>Hf)throw new Error("maxPitch must be less than or equal to "+Hf);var Fe=new In(te.minZoom,te.maxZoom,te.minPitch,te.maxPitch,te.renderWorldCopies);if(ve.call(this,Fe,te),this._interactive=te.interactive,this._maxTileCacheSize=te.maxTileCacheSize,this._failIfMajorPerformanceCaveat=te.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=te.preserveDrawingBuffer,this._antialias=te.antialias,this._trackResize=te.trackResize,this._bearingSnap=te.bearingSnap,this._refreshExpiredTiles=te.refreshExpiredTiles,this._fadeDuration=te.fadeDuration,this._crossSourceCollisions=te.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=te.collectResourceTiming,this._renderTaskQueue=new Dv,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},Gg,te.locale),this._clickTolerance=te.clickTolerance,this._requestManager=new n.RequestManager(te.transformRequest,te.accessToken),typeof te.container=="string"){if(this._container=n.window.document.getElementById(te.container),!this._container)throw new Error("Container '"+te.container+"' not found.")}else if(te.container instanceof Up)this._container=te.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(te.maxBounds&&this.setMaxBounds(te.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Oi(this,te);var Xe=typeof te.hash=="string"&&te.hash||void 0;this._hash=te.hash&&new Ia(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:te.center,zoom:te.zoom,bearing:te.bearing,pitch:te.pitch}),te.bounds&&(this.resize(),this.fitBounds(te.bounds,n.extend({},te.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=te.localIdeographFontFamily,te.style&&this.setStyle(te.style,{localIdeographFontFamily:te.localIdeographFontFamily}),te.attributionControl&&this.addControl(new qa({customAttribution:te.customAttribution})),this.addControl(new Bi,te.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(ot){ye._update(ot.dataType==="style"),ye.fire(new n.Event(ot.dataType+"data",ot))}),this.on("dataloading",function(ot){ye.fire(new n.Event(ot.dataType+"dataloading",ot))})}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(ye,Fe){if(Fe===void 0&&(ye.getDefaultPosition?Fe=ye.getDefaultPosition():Fe="top-right"),!ye||!ye.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=ye.onAdd(this);this._controls.push(ye);var ot=this._controlPositions[Fe];return Fe.indexOf("bottom")!==-1?ot.insertBefore(Xe,ot.firstChild):ot.appendChild(Xe),this},X.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Fe=this._controls.indexOf(ye);return Fe>-1&&this._controls.splice(Fe,1),ye.onRemove(this),this},X.prototype.hasControl=function(ye){return this._controls.indexOf(ye)>-1},X.prototype.resize=function(ye){var Fe=this._containerDimensions(),Xe=Fe[0],ot=Fe[1];this._resizeCanvas(Xe,ot),this.transform.resize(Xe,ot),this.painter.resize(Xe,ot);var Mt=!this._moving;return Mt&&(this.stop(),this.fire(new n.Event("movestart",ye)).fire(new n.Event("move",ye))),this.fire(new n.Event("resize",ye)),Mt&&this.fire(new n.Event("moveend",ye)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(n.LngLatBounds.convert(ye)),this._update()},X.prototype.setMinZoom=function(ye){if(ye=ye??xh,ye>=xh&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+xh+" and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(ye){if(ye=ye??bh,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(ye){if(ye=ye??As,ye<As)throw new Error("minPitch must be greater than or equal to "+As);if(ye>=As&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+As+" and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(ye){if(ye=ye??Hf,ye>Hf)throw new Error("maxPitch must be less than or equal to "+Hf);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},X.prototype.project=function(ye){return this.transform.locationPoint(n.LngLat.convert(ye))},X.prototype.unproject=function(ye){return this.transform.pointLocation(n.Point.convert(ye))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(ye,Fe,Xe){var ot=this,Mt;if(ye==="mouseenter"||ye==="mouseover"){var Ut=!1,Qt=function(jr){var Qr=ot.getLayer(Fe)?ot.queryRenderedFeatures(jr.point,{layers:[Fe]}):[];Qr.length?Ut||(Ut=!0,Xe.call(ot,new Qe(ye,ot,jr.originalEvent,{features:Qr}))):Ut=!1},lr=function(){Ut=!1};return{layer:Fe,listener:Xe,delegates:{mousemove:Qt,mouseout:lr}}}else if(ye==="mouseleave"||ye==="mouseout"){var or=!1,Or=function(jr){var Qr=ot.getLayer(Fe)?ot.queryRenderedFeatures(jr.point,{layers:[Fe]}):[];Qr.length?or=!0:or&&(or=!1,Xe.call(ot,new Qe(ye,ot,jr.originalEvent)))},$r=function(jr){or&&(or=!1,Xe.call(ot,new Qe(ye,ot,jr.originalEvent)))};return{layer:Fe,listener:Xe,delegates:{mousemove:Or,mouseout:$r}}}else{var Xr=function(jr){var Qr=ot.getLayer(Fe)?ot.queryRenderedFeatures(jr.point,{layers:[Fe]}):[];Qr.length&&(jr.features=Qr,Xe.call(ot,jr),delete jr.features)};return{layer:Fe,listener:Xe,delegates:(Mt={},Mt[ye]=Xr,Mt)}}},X.prototype.on=function(ye,Fe,Xe){if(Xe===void 0)return ve.prototype.on.call(this,ye,Fe);var ot=this._createDelegatedListener(ye,Fe,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(ot);for(var Mt in ot.delegates)this.on(Mt,ot.delegates[Mt]);return this},X.prototype.once=function(ye,Fe,Xe){if(Xe===void 0)return ve.prototype.once.call(this,ye,Fe);var ot=this._createDelegatedListener(ye,Fe,Xe);for(var Mt in ot.delegates)this.once(Mt,ot.delegates[Mt]);return this},X.prototype.off=function(ye,Fe,Xe){var ot=this;if(Xe===void 0)return ve.prototype.off.call(this,ye,Fe);var Mt=function(Ut){for(var Qt=Ut[ye],lr=0;lr<Qt.length;lr++){var or=Qt[lr];if(or.layer===Fe&&or.listener===Xe){for(var Or in or.delegates)ot.off(Or,or.delegates[Or]);return Qt.splice(lr,1),ot}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&Mt(this._delegatedListeners),this},X.prototype.queryRenderedFeatures=function(ye,Fe){if(!this.style)return[];Fe===void 0&&ye!==void 0&&!(ye instanceof n.Point)&&!Array.isArray(ye)&&(Fe=ye,ye=void 0),Fe=Fe||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(ye instanceof n.Point||typeof ye[0]=="number")Xe=[n.Point.convert(ye)];else{var ot=n.Point.convert(ye[0]),Mt=n.Point.convert(ye[1]);Xe=[ot,new n.Point(Mt.x,ot.y),Mt,new n.Point(ot.x,Mt.y),ot]}return this.style.queryRenderedFeatures(Xe,Fe,this.transform)},X.prototype.querySourceFeatures=function(ye,Fe){return this.style.querySourceFeatures(ye,Fe)},X.prototype.setStyle=function(ye,Fe){return Fe=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Fe),Fe.diff!==!1&&Fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,Fe),this):(this._localIdeographFontFamily=Fe.localIdeographFontFamily,this._updateStyle(ye,Fe))},X.prototype._getUIString=function(ye){var Fe=this._locale[ye];if(Fe==null)throw new Error("Missing UI string '"+ye+"'");return Fe},X.prototype._updateStyle=function(ye,Fe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new qo(this,Fe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new qo(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(ye,Fe){var Xe=this;if(typeof ye=="string"){var ot=this._requestManager.normalizeStyleURL(ye),Mt=this._requestManager.transformRequest(ot,n.ResourceType.Style);n.getJSON(Mt,function(Ut,Qt){Ut?Xe.fire(new n.ErrorEvent(Ut)):Qt&&Xe._updateDiff(Qt,Fe)})}else typeof ye=="object"&&this._updateDiff(ye,Fe)},X.prototype._updateDiff=function(ye,Fe){try{this.style.setState(ye)&&this._update(!0)}catch(Xe){n.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(ye,Fe)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(ye,Fe){return this._lazyInitEmptyStyle(),this.style.addSource(ye,Fe),this._update(!0)},X.prototype.isSourceLoaded=function(ye){var Fe=this.style&&this.style.sourceCaches[ye];if(Fe===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return Fe.loaded()},X.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var Fe in ye){var Xe=ye[Fe],ot=Xe._tiles;for(var Mt in ot){var Ut=ot[Mt];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},X.prototype.addSourceType=function(ye,Fe,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,Fe,Xe)},X.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},X.prototype.getSource=function(ye){return this.style.getSource(ye)},X.prototype.addImage=function(ye,Fe,Xe){Xe===void 0&&(Xe={});var ot=Xe.pixelRatio;ot===void 0&&(ot=1);var Mt=Xe.sdf;Mt===void 0&&(Mt=!1);var Ut=Xe.stretchX,Qt=Xe.stretchY,lr=Xe.content;this._lazyInitEmptyStyle();var or=0;if(Fe instanceof Ac||Vf&&Fe instanceof Vf){var Or=n.browser.getImageData(Fe),$r=Or.width,Xr=Or.height,jr=Or.data;this.style.addImage(ye,{data:new n.RGBAImage({width:$r,height:Xr},jr),pixelRatio:ot,stretchX:Ut,stretchY:Qt,content:lr,sdf:Mt,version:or})}else{if(Fe.width===void 0||Fe.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Qr=Fe.width,vn=Fe.height,_n=Fe.data,Nn=Fe;this.style.addImage(ye,{data:new n.RGBAImage({width:Qr,height:vn},new Uint8Array(_n)),pixelRatio:ot,stretchX:Ut,stretchY:Qt,content:lr,sdf:Mt,version:or,userImage:Nn}),Nn.onAdd&&Nn.onAdd(this,ye)}},X.prototype.updateImage=function(ye,Fe){var Xe=this.style.getImage(ye);if(!Xe)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var ot=Fe instanceof Ac||Vf&&Fe instanceof Vf?n.browser.getImageData(Fe):Fe,Mt=ot.width,Ut=ot.height,Qt=ot.data;if(Mt===void 0||Ut===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Mt!==Xe.data.width||Ut!==Xe.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var lr=!(Fe instanceof Ac||Vf&&Fe instanceof Vf);Xe.data.replace(Qt,lr),this.style.updateImage(ye,Xe)},X.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(ye){this.style.removeImage(ye)},X.prototype.loadImage=function(ye,Fe){n.getImage(this._requestManager.transformRequest(ye,n.ResourceType.Image),Fe)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(ye,Fe){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,Fe),this._update(!0)},X.prototype.moveLayer=function(ye,Fe){return this.style.moveLayer(ye,Fe),this._update(!0)},X.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},X.prototype.getLayer=function(ye){return this.style.getLayer(ye)},X.prototype.setLayerZoomRange=function(ye,Fe,Xe){return this.style.setLayerZoomRange(ye,Fe,Xe),this._update(!0)},X.prototype.setFilter=function(ye,Fe,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(ye,Fe,Xe),this._update(!0)},X.prototype.getFilter=function(ye){return this.style.getFilter(ye)},X.prototype.setPaintProperty=function(ye,Fe,Xe,ot){return ot===void 0&&(ot={}),this.style.setPaintProperty(ye,Fe,Xe,ot),this._update(!0)},X.prototype.getPaintProperty=function(ye,Fe){return this.style.getPaintProperty(ye,Fe)},X.prototype.setLayoutProperty=function(ye,Fe,Xe,ot){return ot===void 0&&(ot={}),this.style.setLayoutProperty(ye,Fe,Xe,ot),this._update(!0)},X.prototype.getLayoutProperty=function(ye,Fe){return this.style.getLayoutProperty(ye,Fe)},X.prototype.setLight=function(ye,Fe){return Fe===void 0&&(Fe={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,Fe),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(ye,Fe){return this.style.setFeatureState(ye,Fe),this._update()},X.prototype.removeFeatureState=function(ye,Fe){return this.style.removeFeatureState(ye,Fe),this._update()},X.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var ye=0,Fe=0;return this._container&&(ye=this._container.clientWidth||400,Fe=this._container.clientHeight||300),[ye,Fe]},X.prototype._detectMissingCSS=function(){var ye=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var Fe=this._missingCSSCanary=T.create("div","mapboxgl-canary",ye);Fe.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=T.create("div","mapboxgl-canvas-container",ye);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var ot=this._containerDimensions();this._resizeCanvas(ot[0],ot[1]);var Mt=this._controlContainer=T.create("div","mapboxgl-control-container",ye),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Qt){Ut[Qt]=T.create("div","mapboxgl-ctrl-"+Qt,Mt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},X.prototype._resizeCanvas=function(ye,Fe){var Xe=n.browser.devicePixelRatio||1;this._canvas.width=Xe*ye,this._canvas.height=Xe*Fe,this._canvas.style.width=ye+"px",this._canvas.style.height=Fe+"px"},X.prototype._setupPainter=function(){var ye=n.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Fe=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!Fe){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Vr(Fe,this.transform),n.webpSupported.testSupport(Fe)},X.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:ye}))},X.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:ye}))},X.prototype._onMapScroll=function(ye){if(ye.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},X.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},X.prototype._render=function(ye){var Fe=this,Xe,ot=0,Mt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=Mt.createQueryEXT(),Mt.beginQueryEXT(Mt.TIME_ELAPSED_EXT,Xe),ot=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Qt=this.transform.zoom,lr=n.browser.now();this.style.zoomHistory.update(Qt,lr);var or=new n.EvaluationParameters(Qt,{now:lr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Or=or.crossFadingFactor();(Or!==1||Or!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=Or),this.style.update(or)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var $r=n.browser.now()-ot;Mt.endQueryEXT(Mt.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var Qr=Mt.getQueryObjectEXT(Xe,Mt.QUERY_RESULT_EXT)/1e6;Mt.deleteQueryEXT(Xe),Fe.fire(new n.Event("gpu-timing-frame",{cpuTime:$r,gpuTime:Qr}))},50)}if(this.listens("gpu-timing-layer")){var Xr=this.painter.collectGpuTimers();setTimeout(function(){var Qr=Fe.painter.queryGpuTimers(Xr);Fe.fire(new n.Event("gpu-timing-layer",{layerTimes:Qr}))},50)}var jr=this._sourcesDirty||this._styleDirty||this._placementDirty;return jr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),this._loaded&&!this._fullyLoaded&&!jr&&(this._fullyLoaded=!0),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,Fe=this._controls;ye<Fe.length;ye+=1){var Xe=Fe[ye];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var ot=this.painter.context.gl.getExtension("WEBGL_lose_context");ot&&ot.loseContext&&ot.loseContext(),Iv(this._canvasContainer),Iv(this._controlContainer),Iv(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},X.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(Fe){ye._frame=null,ye._render(Fe)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},pe.showTileBoundaries.get=function(){return!!this._showTileBoundaries},pe.showTileBoundaries.set=function(te){this._showTileBoundaries!==te&&(this._showTileBoundaries=te,this._update())},pe.showPadding.get=function(){return!!this._showPadding},pe.showPadding.set=function(te){this._showPadding!==te&&(this._showPadding=te,this._update())},pe.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},pe.showCollisionBoxes.set=function(te){this._showCollisionBoxes!==te&&(this._showCollisionBoxes=te,te?this.style._generateCollisionBoxes():this._update())},pe.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},pe.showOverdrawInspector.set=function(te){this._showOverdrawInspector!==te&&(this._showOverdrawInspector=te,this._update())},pe.repaint.get=function(){return!!this._repaint},pe.repaint.set=function(te){this._repaint!==te&&(this._repaint=te,this.triggerRepaint())},pe.vertices.get=function(){return!!this._vertices},pe.vertices.set=function(te){this._vertices=te,this._update()},X.prototype._setCacheLimits=function(ye,Fe){n.setCacheLimits(ye,Fe)},pe.version.get=function(){return n.version},Object.defineProperties(X.prototype,pe),X}(Eu);function Iv(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var gd={showCompass:!0,showZoom:!0,visualizePitch:!1},uf=function(X){var pe=this;this.options=n.extend({},gd,X),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(te){return te.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(te){return pe._map.zoomIn({},{originalEvent:te})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(te){return pe._map.zoomOut({},{originalEvent:te})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(te){pe.options.visualizePitch?pe._map.resetNorthPitch({},{originalEvent:te}):pe._map.resetNorth({},{originalEvent:te})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};uf.prototype._updateZoomButtons=function(){var X=this._map.getZoom(),pe=X===this._map.getMaxZoom(),te=X===this._map.getMinZoom();this._zoomInButton.disabled=pe,this._zoomOutButton.disabled=te,this._zoomInButton.setAttribute("aria-disabled",pe.toString()),this._zoomOutButton.setAttribute("aria-disabled",te.toString())},uf.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},uf.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Us(this._map,this._compass,this.options.visualizePitch)),this._container},uf.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},uf.prototype._createButton=function(X,pe){var te=T.create("button",X,this._container);return te.type="button",te.addEventListener("click",pe),te},uf.prototype._setButtonTitle=function(X,pe){var te=this._map._getUIString("NavigationControl."+pe);X.title=te,X.setAttribute("aria-label",te)};var Us=function(X,pe,te){te===void 0&&(te=!1),this._clickTolerance=10,this.element=pe,this.mouseRotate=new da({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,te&&(this.mousePitch=new aa({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(pe,"mousedown",this.mousedown),T.addEventListener(pe,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(pe,"touchmove",this.touchmove),T.addEventListener(pe,"touchend",this.touchend),T.addEventListener(pe,"touchcancel",this.reset)};Us.prototype.down=function(X,pe){this.mouseRotate.mousedown(X,pe),this.mousePitch&&this.mousePitch.mousedown(X,pe),T.disableDrag()},Us.prototype.move=function(X,pe){var te=this.map,ye=this.mouseRotate.mousemoveWindow(X,pe);if(ye&&ye.bearingDelta&&te.setBearing(te.getBearing()+ye.bearingDelta),this.mousePitch){var Fe=this.mousePitch.mousemoveWindow(X,pe);Fe&&Fe.pitchDelta&&te.setPitch(te.getPitch()+Fe.pitchDelta)}},Us.prototype.off=function(){var X=this.element;T.removeEventListener(X,"mousedown",this.mousedown),T.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(X,"touchmove",this.touchmove),T.removeEventListener(X,"touchend",this.touchend),T.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},Us.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(n.window,"mousemove",this.mousemove),T.removeEventListener(n.window,"mouseup",this.mouseup)},Us.prototype.mousedown=function(X){this.down(n.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),T.mousePos(this.element,X)),T.addEventListener(n.window,"mousemove",this.mousemove),T.addEventListener(n.window,"mouseup",this.mouseup)},Us.prototype.mousemove=function(X){this.move(X,T.mousePos(this.element,X))},Us.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},Us.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},Us.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},Us.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Us.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function ff(ve,X,pe){if(ve=new n.LngLat(ve.lng,ve.lat),X){var te=new n.LngLat(ve.lng-360,ve.lat),ye=new n.LngLat(ve.lng+360,ve.lat),Fe=pe.locationPoint(ve).distSqr(X);pe.locationPoint(te).distSqr(X)<Fe?ve=te:pe.locationPoint(ye).distSqr(X)<Fe&&(ve=ye)}for(;Math.abs(ve.lng-pe.center.lng)>180;){var Xe=pe.locationPoint(ve);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=pe.width&&Xe.y<=pe.height)break;ve.lng>pe.center.lng?ve.lng-=360:ve.lng+=360}return ve}var _v={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function yd(ve,X,pe){var te=ve.classList;for(var ye in _v)te.remove("mapboxgl-"+pe+"-anchor-"+ye);te.add("mapboxgl-"+pe+"-anchor-"+X)}var wh=function(ve){function X(pe,te){if(ve.call(this),(pe instanceof n.window.HTMLElement||te)&&(pe=n.extend({element:pe},te)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=pe&&pe.anchor||"center",this._color=pe&&pe.color||"#3FB1CE",this._scale=pe&&pe.scale||1,this._draggable=pe&&pe.draggable||!1,this._clickTolerance=pe&&pe.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=pe&&pe.rotation||0,this._rotationAlignment=pe&&pe.rotationAlignment||"auto",this._pitchAlignment=pe&&pe.pitchAlignment&&pe.pitchAlignment!=="auto"?pe.pitchAlignment:this._rotationAlignment,!pe||!pe.element){this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var ye=T.createNS("http://www.w3.org/2000/svg","svg"),Fe=41,Xe=27;ye.setAttributeNS(null,"display","block"),ye.setAttributeNS(null,"height",Fe+"px"),ye.setAttributeNS(null,"width",Xe+"px"),ye.setAttributeNS(null,"viewBox","0 0 "+Xe+" "+Fe);var ot=T.createNS("http://www.w3.org/2000/svg","g");ot.setAttributeNS(null,"stroke","none"),ot.setAttributeNS(null,"stroke-width","1"),ot.setAttributeNS(null,"fill","none"),ot.setAttributeNS(null,"fill-rule","evenodd");var Mt=T.createNS("http://www.w3.org/2000/svg","g");Mt.setAttributeNS(null,"fill-rule","nonzero");var Ut=T.createNS("http://www.w3.org/2000/svg","g");Ut.setAttributeNS(null,"transform","translate(3.0, 29.0)"),Ut.setAttributeNS(null,"fill","#000000");for(var Qt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],lr=0,or=Qt;lr<or.length;lr+=1){var Or=or[lr],$r=T.createNS("http://www.w3.org/2000/svg","ellipse");$r.setAttributeNS(null,"opacity","0.04"),$r.setAttributeNS(null,"cx","10.5"),$r.setAttributeNS(null,"cy","5.80029008"),$r.setAttributeNS(null,"rx",Or.rx),$r.setAttributeNS(null,"ry",Or.ry),Ut.appendChild($r)}var Xr=T.createNS("http://www.w3.org/2000/svg","g");Xr.setAttributeNS(null,"fill",this._color);var jr=T.createNS("http://www.w3.org/2000/svg","path");jr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Xr.appendChild(jr);var Qr=T.createNS("http://www.w3.org/2000/svg","g");Qr.setAttributeNS(null,"opacity","0.25"),Qr.setAttributeNS(null,"fill","#000000");var vn=T.createNS("http://www.w3.org/2000/svg","path");vn.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Qr.appendChild(vn);var _n=T.createNS("http://www.w3.org/2000/svg","g");_n.setAttributeNS(null,"transform","translate(6.0, 7.0)"),_n.setAttributeNS(null,"fill","#FFFFFF");var Nn=T.createNS("http://www.w3.org/2000/svg","g");Nn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Xn=T.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#000000"),Xn.setAttributeNS(null,"opacity","0.25"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962");var Jn=T.createNS("http://www.w3.org/2000/svg","circle");Jn.setAttributeNS(null,"fill","#FFFFFF"),Jn.setAttributeNS(null,"cx","5.5"),Jn.setAttributeNS(null,"cy","5.5"),Jn.setAttributeNS(null,"r","5.4999962"),Nn.appendChild(Xn),Nn.appendChild(Jn),Mt.appendChild(Ut),Mt.appendChild(Xr),Mt.appendChild(Qr),Mt.appendChild(_n),Mt.appendChild(Nn),ye.appendChild(Mt),ye.setAttributeNS(null,"height",Fe*this._scale+"px"),ye.setAttributeNS(null,"width",Xe*this._scale+"px"),this._element.appendChild(ye),this._offset=n.Point.convert(pe&&pe.offset||[0,-14])}else this._element=pe.element,this._offset=n.Point.convert(pe&&pe.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(jn){jn.preventDefault()}),this._element.addEventListener("mousedown",function(jn){jn.preventDefault()}),yd(this._element,this._anchor,"marker"),this._popup=null}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.addTo=function(te){return this.remove(),this._map=te,te.getCanvasContainer().appendChild(this._element),te.on("move",this._update),te.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(te){return this._lngLat=n.LngLat.convert(te),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(te){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),te){if(!("offset"in te.options)){var ye=38.1,Fe=13.5,Xe=Math.sqrt(Math.pow(Fe,2)/2);te.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Xe,(ye-Fe+Xe)*-1],"bottom-right":[-Xe,(ye-Fe+Xe)*-1],left:[Fe,(ye-Fe)*-1],right:[-Fe,(ye-Fe)*-1]}:this._offset}this._popup=te,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(te){var ye=te.code,Fe=te.charCode||te.keyCode;(ye==="Space"||ye==="Enter"||Fe===32||Fe===13)&&this.togglePopup()},X.prototype._onMapClick=function(te){var ye=te.originalEvent.target,Fe=this._element;this._popup&&(ye===Fe||Fe.contains(ye))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var te=this._popup;if(te)te.isOpen()?te.remove():te.addTo(this._map);else return this;return this},X.prototype._update=function(te){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ff(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Fe="rotateX(0deg)":this._pitchAlignment==="map"&&(Fe="rotateX("+this._map.getPitch()+"deg)"),(!te||te.type==="moveend")&&(this._pos=this._pos.round()),T.setTransform(this._element,_v[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Fe+" "+ye)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(te){return this._offset=n.Point.convert(te),this._update(),this},X.prototype._onMove=function(te){if(!this._isDragging){var ye=this._clickTolerance||this._map._clickTolerance;this._isDragging=te.point.dist(this._pointerdownPos)>=ye}this._isDragging&&(this._pos=te.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(te){this._element.contains(te.originalEvent.target)&&(te.preventDefault(),this._positionDelta=te.point.sub(this._pos).add(this._offset),this._pointerdownPos=te.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(te){return this._draggable=!!te,this._map&&(te?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(te){return this._rotation=te||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(te){return this._rotationAlignment=te||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(te){return this._pitchAlignment=te&&te!=="auto"?te:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(n.Evented),Gp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Gf;function zv(ve){Gf!==void 0?ve(Gf):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(X){Gf=X.state!=="denied",ve(Gf)}):(Gf=!!n.window.navigator.geolocation,ve(Gf))}var Th=0,Sc=!1,Wg=function(ve){function X(pe){ve.call(this),this.options=n.extend({},Gp,pe),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(te){return this._map=te,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),zv(this._setupUI),this._container},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Th=0,Sc=!1},X.prototype._isOutOfMapMaxBounds=function(te){var ye=this._map.getMaxBounds(),Fe=te.coords;return ye&&(Fe.longitude<ye.getWest()||Fe.longitude>ye.getEast()||Fe.latitude<ye.getSouth()||Fe.latitude>ye.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},X.prototype._onSuccess=function(te){if(this._map){if(this._isOutOfMapMaxBounds(te)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",te)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=te,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(te),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(te),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",te)),this._finish()}},X.prototype._updateCamera=function(te){var ye=new n.LngLat(te.coords.longitude,te.coords.latitude),Fe=te.coords.accuracy,Xe=this._map.getBearing(),ot=n.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(Fe),ot,{geolocateSource:!0})},X.prototype._updateMarker=function(te){if(te){var ye=new n.LngLat(te.coords.longitude,te.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=te.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var te=this._map._container.clientHeight/2,ye=this._map.unproject([0,te]),Fe=this._map.unproject([1,te]),Xe=ye.distanceTo(Fe),ot=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=ot+"px",this._circleElement.style.height=ot+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(te){if(this._map){if(this.options.trackUserLocation)if(te.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(te.code===3&&Sc)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",te)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(te){var ye=this;if(this._container.addEventListener("contextmenu",function(ot){return ot.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",te===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Fe,this._geolocateButton.setAttribute("aria-label",Fe)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new wh(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new wh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(ot){var Mt=ot.originalEvent&&ot.originalEvent.type==="resize";!ot.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!Mt&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new n.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Th--,Sc=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Th++;var te;Th>1?(te={maximumAge:6e5,timeout:0},Sc=!0):(te=this.options.positionOptions,Sc=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,te)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(n.Evented),Wp={maxWidth:100,unit:"metric"},Mc=function(X){this.options=n.extend({},Wp,X),n.bindAll(["_onMove","setUnit"],this)};Mc.prototype.getDefaultPosition=function(){return"bottom-left"},Mc.prototype._onMove=function(){jp(this._map,this._container,this.options)},Mc.prototype.onAdd=function(X){return this._map=X,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Mc.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Mc.prototype.setUnit=function(X){this.options.unit=X,jp(this._map,this._container,this.options)};function jp(ve,X,pe){var te=pe&&pe.maxWidth||100,ye=ve._container.clientHeight/2,Fe=ve.unproject([0,ye]),Xe=ve.unproject([te,ye]),ot=Fe.distanceTo(Xe);if(pe&&pe.unit==="imperial"){var Mt=3.2808*ot;if(Mt>5280){var Ut=Mt/5280;Ah(X,te,Ut,ve._getUIString("ScaleControl.Miles"))}else Ah(X,te,Mt,ve._getUIString("ScaleControl.Feet"))}else if(pe&&pe.unit==="nautical"){var Qt=ot/1852;Ah(X,te,Qt,ve._getUIString("ScaleControl.NauticalMiles"))}else ot>=1e3?Ah(X,te,ot/1e3,ve._getUIString("ScaleControl.Kilometers")):Ah(X,te,ot,ve._getUIString("ScaleControl.Meters"))}function Ah(ve,X,pe,te){var ye=Yg(pe),Fe=ye/pe;ve.style.width=X*Fe+"px",ve.innerHTML=ye+"&nbsp;"+te}function jg(ve){var X=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*X)/X}function Yg(ve){var X=Math.pow(10,(""+Math.floor(ve)).length-1),pe=ve/X;return pe=pe>=10?10:pe>=5?5:pe>=3?3:pe>=2?2:pe>=1?1:jg(pe),X*pe}var Yl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof n.window.HTMLElement?this._container=X.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};Yl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Yl.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Yl.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},Yl.prototype._setupUI=function(){var X=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Yl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},Yl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Yl.prototype._isFullscreen=function(){return this._fullscreen},Yl.prototype._changeIcon=function(){var X=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Yl.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Zg={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Xg=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),ix=function(ve){function X(pe){ve.call(this),this.options=n.extend(Object.create(Zg),pe),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.addTo=function(te){return this._map&&this.remove(),this._map=te,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(te){return this._lngLat=n.LngLat.convert(te),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(te){return this.setDOMContent(n.window.document.createTextNode(te))},X.prototype.setHTML=function(te){var ye=n.window.document.createDocumentFragment(),Fe=n.window.document.createElement("body"),Xe;for(Fe.innerHTML=te;Xe=Fe.firstChild,!!Xe;)ye.appendChild(Xe);return this.setDOMContent(ye)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(te){return this.options.maxWidth=te,this._update(),this},X.prototype.setDOMContent=function(te){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=T.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(te),this._createCloseButton(),this._update(),this._focusFirstElement(),this},X.prototype.addClassName=function(te){this._container&&this._container.classList.add(te)},X.prototype.removeClassName=function(te){this._container&&this._container.classList.remove(te)},X.prototype.setOffset=function(te){return this.options.offset=te,this._update(),this},X.prototype.toggleClassName=function(te){if(this._container)return this._container.classList.toggle(te)},X.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(te){this._update(te.point)},X.prototype._onMouseMove=function(te){this._update(te.point)},X.prototype._onDrag=function(te){this._update(te.point)},X.prototype._update=function(te){var ye=this,Fe=this._lngLat||this._trackPointer;if(!(!this._map||!Fe||!this._content)&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Or){return ye._container.classList.add(Or)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ff(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!te))){var Xe=this._pos=this._trackPointer&&te?te:this._map.project(this._lngLat),ot=this.options.anchor,Mt=$g(this.options.offset);if(!ot){var Ut=this._container.offsetWidth,Qt=this._container.offsetHeight,lr;Xe.y+Mt.bottom.y<Qt?lr=["top"]:Xe.y>this._map.transform.height-Qt?lr=["bottom"]:lr=[],Xe.x<Ut/2?lr.push("left"):Xe.x>this._map.transform.width-Ut/2&&lr.push("right"),lr.length===0?ot="bottom":ot=lr.join("-")}var or=Xe.add(Mt[ot]).round();T.setTransform(this._container,_v[ot]+" translate("+or.x+"px,"+or.y+"px)"),yd(this._container,ot,"popup")}},X.prototype._focusFirstElement=function(){if(!(!this.options.focusAfterOpen||!this._container)){var te=this._container.querySelector(Xg);te&&te.focus()}},X.prototype._onClose=function(){this.remove()},X}(n.Evented);function $g(ve){if(ve)if(typeof ve=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new n.Point(0,0),top:new n.Point(0,ve),"top-left":new n.Point(X,X),"top-right":new n.Point(-X,X),bottom:new n.Point(0,-ve),"bottom-left":new n.Point(X,-X),"bottom-right":new n.Point(-X,-X),left:new n.Point(ve,0),right:new n.Point(-ve,0)}}else if(ve instanceof n.Point||Array.isArray(ve)){var pe=n.Point.convert(ve);return{center:pe,top:pe,"top-left":pe,"top-right":pe,bottom:pe,"bottom-left":pe,"bottom-right":pe,left:pe,right:pe}}else return{center:n.Point.convert(ve.center||[0,0]),top:n.Point.convert(ve.top||[0,0]),"top-left":n.Point.convert(ve["top-left"]||[0,0]),"top-right":n.Point.convert(ve["top-right"]||[0,0]),bottom:n.Point.convert(ve.bottom||[0,0]),"bottom-left":n.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ve["bottom-right"]||[0,0]),left:n.Point.convert(ve.left||[0,0]),right:n.Point.convert(ve.right||[0,0])};else return $g(new n.Point(0,0))}var bo={version:n.version,supported:C,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:Hp,NavigationControl:uf,GeolocateControl:Wg,AttributionControl:qa,ScaleControl:Mc,FullscreenControl:Yl,Popup:ix,Marker:wh,Style:qo,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:Dt,clearPrewarmedResources:Yt,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(ve){n.config.ACCESS_TOKEN=ve},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(ve){n.config.API_URL=ve},get workerCount(){return dr.workerCount},set workerCount(ve){dr.workerCount=ve},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){n.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(X){n.clearTileCache(X)},workerUrl:""};return bo}),p})},88294:function(V,B,e){V.exports=e(62849)},62849:function(V,B,e){var p=e(91358),L=e(53435),n=e(18863),C=e(21527),T=e(71299),d=e(46775),y=e(30120),r=e(64941),t=e(90660),i=e(27084),a=1073741824;V.exports=function(s,m){m||(m={}),s=y(s,"float64"),m=T(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var f=d(m.maxDepth,255),S=d(m.bounds,C(s,2));S[0]===S[2]&&S[2]++,S[1]===S[3]&&S[3]++;var v=h(s,S),l=s.length>>>1,g;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?g=new(t(m.dtype))(l):m.dtype&&(g=m.dtype,Array.isArray(g)&&(g.length=l));for(var M=0;M<l;++M)g[M]=M;var A=[],k=[],w=[],E=[];G(0,0,1,g,0,1);for(var b=0,o=0;o<A.length;o++){var P=A[o];if(g.set)g.set(P,b);else for(var x=0,z=P.length;x<z;x++)g[x+b]=P[x];var _=b+A[o].length;E[o]=[b,_],b=_}return g.range=F,g;function G(O,H,Y,q,ne,oe){if(!q.length)return null;var he=A[ne]||(A[ne]=[]),J=w[ne]||(w[ne]=[]),Z=k[ne]||(k[ne]=[]),se=he.length;if(ne++,ne>f||oe>a){for(var $=0;$<q.length;$++)he.push(q[$]),J.push(oe),Z.push(null,null,null,null);return se}if(he.push(q[0]),J.push(oe),q.length<=1)return Z.push(null,null,null,null),se;for(var ee=Y*.5,le=O+ee,Q=H+ee,K=[],ue=[],ie=[],ce=[],xe=1,Le=q.length;xe<Le;xe++){var Ae=q[xe],Oe=v[Ae*2],ze=v[Ae*2+1];Oe<le?ze<Q?K.push(Ae):ue.push(Ae):ze<Q?ie.push(Ae):ce.push(Ae)}return oe<<=2,Z.push(G(O,H,ee,K,ne,oe),G(O,Q,ee,ue,ne,oe+1),G(le,H,ee,ie,ne,oe+2),G(le,Q,ee,ce,ne,oe+3)),se}function F(){for(var O=[],H=arguments.length;H--;)O[H]=arguments[H];var Y;if(r(O[O.length-1])){var q=O.pop();!O.length&&(q.x!=null||q.l!=null||q.left!=null)&&(O=[q],Y={}),Y=T(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Y={};O.length||(O=S);var ne=n.apply(void 0,O),oe=[Math.min(ne.x,ne.x+ne.width),Math.min(ne.y,ne.y+ne.height),Math.max(ne.x,ne.x+ne.width),Math.max(ne.y,ne.y+ne.height)],he=oe[0],J=oe[1],Z=oe[2],se=oe[3],$=h([he,J,Z,se],S),ee=$[0],le=$[1],Q=$[2],K=$[3],ue=d(Y.level,A.length);if(Y.d!=null){var ie;typeof Y.d=="number"?ie=[Y.d,Y.d]:Y.d.length&&(ie=Y.d),ue=Math.min(Math.max(Math.ceil(-i(Math.abs(ie[0])/(S[2]-S[0]))),Math.ceil(-i(Math.abs(ie[1])/(S[3]-S[1])))),ue)}if(ue=Math.min(ue,A.length),Y.lod)return N(ee,le,Q,K,ue);var ce=[];xe(0,0,1,0,0,1);function xe(Ae,Oe,ze,Ee,be,Ce){if(!(be===null||Ce===null)){var Ue=Ae+ze,He=Oe+ze;if(!(ee>Ue||le>He||Q<Ae||K<Oe)&&!(Ee>=ue)&&be!==Ce){var Ie=A[Ee];Ce===void 0&&(Ce=Ie.length);for(var Ge=be;Ge<Ce;Ge++){var at=Ie[Ge],lt=s[at*2],qe=s[at*2+1];lt>=he&&lt<=Z&&qe>=J&&qe<=se&&ce.push(at)}var et=k[Ee],ft=et[be*4+0],dt=et[be*4+1],pt=et[be*4+2],At=et[be*4+3],Pt=Le(et,be+1),Ht=ze*.5,Je=Ee+1;xe(Ae,Oe,Ht,Je,ft,dt||pt||At||Pt),xe(Ae,Oe+Ht,Ht,Je,dt,pt||At||Pt),xe(Ae+Ht,Oe,Ht,Je,pt,At||Pt),xe(Ae+Ht,Oe+Ht,Ht,Je,At,Pt)}}}function Le(Ae,Oe){for(var ze=null,Ee=0;ze===null;)if(ze=Ae[Oe*4+Ee],Ee++,Ee>Ae.length)return null;return ze}return ce}function N(O,H,Y,q,ne){for(var oe=[],he=0;he<ne;he++){var J=w[he],Z=E[he][0],se=U(O,H,he),$=U(Y,q,he),ee=p.ge(J,se),le=p.gt(J,$,ee,J.length-1);oe[he]=[ee+Z,le+Z]}return oe}function U(O,H,Y){for(var q=1,ne=.5,oe=.5,he=.5,J=0;J<Y;J++)q<<=2,q+=O<ne?H<oe?0:1:H<oe?2:3,he*=.5,ne+=O<ne?-he:he,oe+=H<oe?-he:he;return q}};function h(u,s){for(var m=s[0],f=s[1],S=s[2],v=s[3],l=1/(S-m),g=1/(v-f),M=new Array(u.length),A=0,k=u.length/2;A<k;A++)M[2*A]=L((u[2*A]-m)*l,0,1),M[2*A+1]=L((u[2*A+1]-f)*g,0,1);return M}},30774:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(60302),L=6378137;function n(r){return p.geomReduce(r,function(t,i){return t+C(i)},0)}B.default=n;function C(r){var t=0,i;switch(r.type){case"Polygon":return T(r.coordinates);case"MultiPolygon":for(i=0;i<r.coordinates.length;i++)t+=T(r.coordinates[i]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function T(r){var t=0;if(r&&r.length>0){t+=Math.abs(d(r[0]));for(var i=1;i<r.length;i++)t-=Math.abs(d(r[i]))}return t}function d(r){var t,i,a,h,u,s,m,f=0,S=r.length;if(S>2){for(m=0;m<S;m++)m===S-2?(h=S-2,u=S-1,s=0):m===S-1?(h=S-1,u=0,s=1):(h=m,u=m+1,s=m+2),t=r[h],i=r[u],a=r[s],f+=(y(a[0])-y(t[0]))*Math.sin(y(i[1]));f=f*L*L/2}return f}function y(r){return r*Math.PI/180}},23132:function(V,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,o,P){P===void 0&&(P={});var x={type:"Feature"};return(P.id===0||P.id)&&(x.id=P.id),P.bbox&&(x.bbox=P.bbox),x.properties=o||{},x.geometry=b,x}B.feature=e;function p(b,o,P){switch(b){case"Point":return L(o).geometry;case"LineString":return d(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return i(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return a(o).geometry;default:throw new Error(b+" is invalid")}}B.geometry=p;function L(b,o,P){if(P===void 0&&(P={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(b[0])||!A(b[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:b};return e(x,o,P)}B.point=L;function n(b,o,P){return P===void 0&&(P={}),r(b.map(function(x){return L(x,o)}),P)}B.points=n;function C(b,o,P){P===void 0&&(P={});for(var x=0,z=b;x<z.length;x++){var _=z[x];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var G=0;G<_[_.length-1].length;G++)if(_[_.length-1][G]!==_[0][G])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,o,P)}B.polygon=C;function T(b,o,P){return P===void 0&&(P={}),r(b.map(function(x){return C(x,o)}),P)}B.polygons=T;function d(b,o,P){if(P===void 0&&(P={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:b};return e(x,o,P)}B.lineString=d;function y(b,o,P){return P===void 0&&(P={}),r(b.map(function(x){return d(x,o)}),P)}B.lineStrings=y;function r(b,o){o===void 0&&(o={});var P={type:"FeatureCollection"};return o.id&&(P.id=o.id),o.bbox&&(P.bbox=o.bbox),P.features=b,P}B.featureCollection=r;function t(b,o,P){P===void 0&&(P={});var x={type:"MultiLineString",coordinates:b};return e(x,o,P)}B.multiLineString=t;function i(b,o,P){P===void 0&&(P={});var x={type:"MultiPoint",coordinates:b};return e(x,o,P)}B.multiPoint=i;function a(b,o,P){P===void 0&&(P={});var x={type:"MultiPolygon",coordinates:b};return e(x,o,P)}B.multiPolygon=a;function h(b,o,P){P===void 0&&(P={});var x={type:"GeometryCollection",geometries:b};return e(x,o,P)}B.geometryCollection=h;function u(b,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,o||0);return Math.round(b*P)/P}B.round=u;function s(b,o){o===void 0&&(o="kilometers");var P=B.factors[o];if(!P)throw new Error(o+" units is invalid");return b*P}B.radiansToLength=s;function m(b,o){o===void 0&&(o="kilometers");var P=B.factors[o];if(!P)throw new Error(o+" units is invalid");return b/P}B.lengthToRadians=m;function f(b,o){return v(m(b,o))}B.lengthToDegrees=f;function S(b){var o=b%360;return o<0&&(o+=360),o}B.bearingToAzimuth=S;function v(b){var o=b%(2*Math.PI);return o*180/Math.PI}B.radiansToDegrees=v;function l(b){var o=b%360;return o*Math.PI/180}B.degreesToRadians=l;function g(b,o,P){if(o===void 0&&(o="kilometers"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("length must be a positive number");return s(m(b,o),P)}B.convertLength=g;function M(b,o,P){if(o===void 0&&(o="meters"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("area must be a positive number");var x=B.areaFactors[o];if(!x)throw new Error("invalid original units");var z=B.areaFactors[P];if(!z)throw new Error("invalid final units");return b/x*z}B.convertArea=M;function A(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}B.isNumber=A;function k(b){return!!b&&b.constructor===Object}B.isObject=k;function w(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(o){if(!A(o))throw new Error("bbox must only contain numbers")})}B.validateBBox=w;function E(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}B.validateId=E},60302:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(23132);function L(l,g,M){if(l!==null)for(var A,k,w,E,b,o,P,x=0,z=0,_,G=l.type,F=G==="FeatureCollection",N=G==="Feature",U=F?l.features.length:1,O=0;O<U;O++){P=F?l.features[O].geometry:N?l.geometry:l,_=P?P.type==="GeometryCollection":!1,b=_?P.geometries.length:1;for(var H=0;H<b;H++){var Y=0,q=0;if(E=_?P.geometries[H]:P,E!==null){o=E.coordinates;var ne=E.type;switch(x=M&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(g(o,z,O,Y,q)===!1)return!1;z++,Y++;break;case"LineString":case"MultiPoint":for(A=0;A<o.length;A++){if(g(o[A],z,O,Y,q)===!1)return!1;z++,ne==="MultiPoint"&&Y++}ne==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(A=0;A<o.length;A++){for(k=0;k<o[A].length-x;k++){if(g(o[A][k],z,O,Y,q)===!1)return!1;z++}ne==="MultiLineString"&&Y++,ne==="Polygon"&&q++}ne==="Polygon"&&Y++;break;case"MultiPolygon":for(A=0;A<o.length;A++){for(q=0,k=0;k<o[A].length;k++){for(w=0;w<o[A][k].length-x;w++){if(g(o[A][k][w],z,O,Y,q)===!1)return!1;z++}q++}Y++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(L(E.geometries[A],g,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(l,g,M,A){var k=M;return L(l,function(w,E,b,o,P){E===0&&M===void 0?k=w:k=g(k,w,E,b,o,P)},A),k}function C(l,g){var M;switch(l.type){case"FeatureCollection":for(M=0;M<l.features.length&&g(l.features[M].properties,M)!==!1;M++);break;case"Feature":g(l.properties,0);break}}function T(l,g,M){var A=M;return C(l,function(k,w){w===0&&M===void 0?A=k:A=g(A,k,w)}),A}function d(l,g){if(l.type==="Feature")g(l,0);else if(l.type==="FeatureCollection")for(var M=0;M<l.features.length&&g(l.features[M],M)!==!1;M++);}function y(l,g,M){var A=M;return d(l,function(k,w){w===0&&M===void 0?A=k:A=g(A,k,w)}),A}function r(l){var g=[];return L(l,function(M){g.push(M)}),g}function t(l,g){var M,A,k,w,E,b,o,P,x,z,_=0,G=l.type==="FeatureCollection",F=l.type==="Feature",N=G?l.features.length:1;for(M=0;M<N;M++){for(b=G?l.features[M].geometry:F?l.geometry:l,P=G?l.features[M].properties:F?l.properties:{},x=G?l.features[M].bbox:F?l.bbox:void 0,z=G?l.features[M].id:F?l.id:void 0,o=b?b.type==="GeometryCollection":!1,E=o?b.geometries.length:1,k=0;k<E;k++){if(w=o?b.geometries[k]:b,w===null){if(g(null,_,P,x,z)===!1)return!1;continue}switch(w.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(w,_,P,x,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<w.geometries.length;A++)if(g(w.geometries[A],_,P,x,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(l,g,M){var A=M;return t(l,function(k,w,E,b,o){w===0&&M===void 0?A=k:A=g(A,k,w,E,b,o)}),A}function a(l,g){t(l,function(M,A,k,w,E){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return g(p.feature(M,k,{bbox:w,id:E}),A,0)===!1?!1:void 0}var o;switch(b){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var P=0;P<M.coordinates.length;P++){var x=M.coordinates[P],z={type:o,coordinates:x};if(g(p.feature(z,k),A,P)===!1)return!1}})}function h(l,g,M){var A=M;return a(l,function(k,w,E){w===0&&E===0&&M===void 0?A=k:A=g(A,k,w,E)}),A}function u(l,g){a(l,function(M,A,k){var w=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,o=0,P=0,x=0;if(L(M,function(z,_,G,F,N){if(b===void 0||A>o||F>P||N>x){b=z,o=A,P=F,x=N,w=0;return}var U=p.lineString([b,z],M.properties);if(g(U,A,k,N,w)===!1)return!1;w++,b=z})===!1)return!1}}})}function s(l,g,M){var A=M,k=!1;return u(l,function(w,E,b,o,P){k===!1&&M===void 0?A=w:A=g(A,w,E,b,o,P),k=!0}),A}function m(l,g){if(!l)throw new Error("geojson is required");a(l,function(M,A,k){if(M.geometry!==null){var w=M.geometry.type,E=M.geometry.coordinates;switch(w){case"LineString":if(g(M,A,k,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(g(p.lineString(E[b],M.properties),A,k,b)===!1)return!1;break}}})}function f(l,g,M){var A=M;return m(l,function(k,w,E,b){w===0&&M===void 0?A=k:A=g(A,k,w,E,b)}),A}function S(l,g){if(g=g||{},!p.isObject(g))throw new Error("options is invalid");var M=g.featureIndex||0,A=g.multiFeatureIndex||0,k=g.geometryIndex||0,w=g.segmentIndex||0,E=g.properties,b;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,b=l.features[M].geometry;break;case"Feature":E=E||l.properties,b=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=l;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var o=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=o.length+w-1),p.lineString([o[w],o[w+1]],E,g);case"Polygon":return k<0&&(k=o.length+k),w<0&&(w=o[k].length+w-1),p.lineString([o[k][w],o[k][w+1]],E,g);case"MultiLineString":return A<0&&(A=o.length+A),w<0&&(w=o[A].length+w-1),p.lineString([o[A][w],o[A][w+1]],E,g);case"MultiPolygon":return A<0&&(A=o.length+A),k<0&&(k=o[A].length+k),w<0&&(w=o[A][k].length-w-1),p.lineString([o[A][k][w],o[A][k][w+1]],E,g)}throw new Error("geojson is invalid")}function v(l,g){if(g=g||{},!p.isObject(g))throw new Error("options is invalid");var M=g.featureIndex||0,A=g.multiFeatureIndex||0,k=g.geometryIndex||0,w=g.coordIndex||0,E=g.properties,b;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,b=l.features[M].geometry;break;case"Feature":E=E||l.properties,b=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=l;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var o=b.coordinates;switch(b.type){case"Point":return p.point(o,E,g);case"MultiPoint":return A<0&&(A=o.length+A),p.point(o[A],E,g);case"LineString":return w<0&&(w=o.length+w),p.point(o[w],E,g);case"Polygon":return k<0&&(k=o.length+k),w<0&&(w=o[k].length+w),p.point(o[k][w],E,g);case"MultiLineString":return A<0&&(A=o.length+A),w<0&&(w=o[A].length+w),p.point(o[A][w],E,g);case"MultiPolygon":return A<0&&(A=o.length+A),k<0&&(k=o[A].length+k),w<0&&(w=o[A][k].length-w),p.point(o[A][k][w],E,g)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=n,B.propEach=C,B.propReduce=T,B.featureEach=d,B.featureReduce=y,B.coordAll=r,B.geomEach=t,B.geomReduce=i,B.flattenEach=a,B.flattenReduce=h,B.segmentEach=u,B.segmentReduce=s,B.lineEach=m,B.lineReduce=f,B.findSegment=S,B.findPoint=v},85268:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(27138);function L(n){var C=[1/0,1/0,-1/0,-1/0];return p.coordEach(n,function(T){C[0]>T[0]&&(C[0]=T[0]),C[1]>T[1]&&(C[1]=T[1]),C[2]<T[0]&&(C[2]=T[0]),C[3]<T[1]&&(C[3]=T[1])}),C}L.default=L,B.default=L},94228:function(V,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(b,o,P){P===void 0&&(P={});var x={type:"Feature"};return(P.id===0||P.id)&&(x.id=P.id),P.bbox&&(x.bbox=P.bbox),x.properties=o||{},x.geometry=b,x}B.feature=e;function p(b,o,P){switch(b){case"Point":return L(o).geometry;case"LineString":return d(o).geometry;case"Polygon":return C(o).geometry;case"MultiPoint":return i(o).geometry;case"MultiLineString":return t(o).geometry;case"MultiPolygon":return a(o).geometry;default:throw new Error(b+" is invalid")}}B.geometry=p;function L(b,o,P){if(P===void 0&&(P={}),!b)throw new Error("coordinates is required");if(!Array.isArray(b))throw new Error("coordinates must be an Array");if(b.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!A(b[0])||!A(b[1]))throw new Error("coordinates must contain numbers");var x={type:"Point",coordinates:b};return e(x,o,P)}B.point=L;function n(b,o,P){return P===void 0&&(P={}),r(b.map(function(x){return L(x,o)}),P)}B.points=n;function C(b,o,P){P===void 0&&(P={});for(var x=0,z=b;x<z.length;x++){var _=z[x];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var G=0;G<_[_.length-1].length;G++)if(_[_.length-1][G]!==_[0][G])throw new Error("First and last Position are not equivalent.")}var F={type:"Polygon",coordinates:b};return e(F,o,P)}B.polygon=C;function T(b,o,P){return P===void 0&&(P={}),r(b.map(function(x){return C(x,o)}),P)}B.polygons=T;function d(b,o,P){if(P===void 0&&(P={}),b.length<2)throw new Error("coordinates must be an array of two or more positions");var x={type:"LineString",coordinates:b};return e(x,o,P)}B.lineString=d;function y(b,o,P){return P===void 0&&(P={}),r(b.map(function(x){return d(x,o)}),P)}B.lineStrings=y;function r(b,o){o===void 0&&(o={});var P={type:"FeatureCollection"};return o.id&&(P.id=o.id),o.bbox&&(P.bbox=o.bbox),P.features=b,P}B.featureCollection=r;function t(b,o,P){P===void 0&&(P={});var x={type:"MultiLineString",coordinates:b};return e(x,o,P)}B.multiLineString=t;function i(b,o,P){P===void 0&&(P={});var x={type:"MultiPoint",coordinates:b};return e(x,o,P)}B.multiPoint=i;function a(b,o,P){P===void 0&&(P={});var x={type:"MultiPolygon",coordinates:b};return e(x,o,P)}B.multiPolygon=a;function h(b,o,P){P===void 0&&(P={});var x={type:"GeometryCollection",geometries:b};return e(x,o,P)}B.geometryCollection=h;function u(b,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var P=Math.pow(10,o||0);return Math.round(b*P)/P}B.round=u;function s(b,o){o===void 0&&(o="kilometers");var P=B.factors[o];if(!P)throw new Error(o+" units is invalid");return b*P}B.radiansToLength=s;function m(b,o){o===void 0&&(o="kilometers");var P=B.factors[o];if(!P)throw new Error(o+" units is invalid");return b/P}B.lengthToRadians=m;function f(b,o){return v(m(b,o))}B.lengthToDegrees=f;function S(b){var o=b%360;return o<0&&(o+=360),o}B.bearingToAzimuth=S;function v(b){var o=b%(2*Math.PI);return o*180/Math.PI}B.radiansToDegrees=v;function l(b){var o=b%360;return o*Math.PI/180}B.degreesToRadians=l;function g(b,o,P){if(o===void 0&&(o="kilometers"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("length must be a positive number");return s(m(b,o),P)}B.convertLength=g;function M(b,o,P){if(o===void 0&&(o="meters"),P===void 0&&(P="kilometers"),!(b>=0))throw new Error("area must be a positive number");var x=B.areaFactors[o];if(!x)throw new Error("invalid original units");var z=B.areaFactors[P];if(!z)throw new Error("invalid final units");return b/x*z}B.convertArea=M;function A(b){return!isNaN(b)&&b!==null&&!Array.isArray(b)}B.isNumber=A;function k(b){return!!b&&b.constructor===Object}B.isObject=k;function w(b){if(!b)throw new Error("bbox is required");if(!Array.isArray(b))throw new Error("bbox must be an Array");if(b.length!==4&&b.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");b.forEach(function(o){if(!A(o))throw new Error("bbox must only contain numbers")})}B.validateBBox=w;function E(b){if(!b)throw new Error("id is required");if(["string","number"].indexOf(typeof b)===-1)throw new Error("id must be a number or a string")}B.validateId=E},27138:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(94228);function L(l,g,M){if(l!==null)for(var A,k,w,E,b,o,P,x=0,z=0,_,G=l.type,F=G==="FeatureCollection",N=G==="Feature",U=F?l.features.length:1,O=0;O<U;O++){P=F?l.features[O].geometry:N?l.geometry:l,_=P?P.type==="GeometryCollection":!1,b=_?P.geometries.length:1;for(var H=0;H<b;H++){var Y=0,q=0;if(E=_?P.geometries[H]:P,E!==null){o=E.coordinates;var ne=E.type;switch(x=M&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(g(o,z,O,Y,q)===!1)return!1;z++,Y++;break;case"LineString":case"MultiPoint":for(A=0;A<o.length;A++){if(g(o[A],z,O,Y,q)===!1)return!1;z++,ne==="MultiPoint"&&Y++}ne==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(A=0;A<o.length;A++){for(k=0;k<o[A].length-x;k++){if(g(o[A][k],z,O,Y,q)===!1)return!1;z++}ne==="MultiLineString"&&Y++,ne==="Polygon"&&q++}ne==="Polygon"&&Y++;break;case"MultiPolygon":for(A=0;A<o.length;A++){for(q=0,k=0;k<o[A].length;k++){for(w=0;w<o[A][k].length-x;w++){if(g(o[A][k][w],z,O,Y,q)===!1)return!1;z++}q++}Y++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(L(E.geometries[A],g,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(l,g,M,A){var k=M;return L(l,function(w,E,b,o,P){E===0&&M===void 0?k=w:k=g(k,w,E,b,o,P)},A),k}function C(l,g){var M;switch(l.type){case"FeatureCollection":for(M=0;M<l.features.length&&g(l.features[M].properties,M)!==!1;M++);break;case"Feature":g(l.properties,0);break}}function T(l,g,M){var A=M;return C(l,function(k,w){w===0&&M===void 0?A=k:A=g(A,k,w)}),A}function d(l,g){if(l.type==="Feature")g(l,0);else if(l.type==="FeatureCollection")for(var M=0;M<l.features.length&&g(l.features[M],M)!==!1;M++);}function y(l,g,M){var A=M;return d(l,function(k,w){w===0&&M===void 0?A=k:A=g(A,k,w)}),A}function r(l){var g=[];return L(l,function(M){g.push(M)}),g}function t(l,g){var M,A,k,w,E,b,o,P,x,z,_=0,G=l.type==="FeatureCollection",F=l.type==="Feature",N=G?l.features.length:1;for(M=0;M<N;M++){for(b=G?l.features[M].geometry:F?l.geometry:l,P=G?l.features[M].properties:F?l.properties:{},x=G?l.features[M].bbox:F?l.bbox:void 0,z=G?l.features[M].id:F?l.id:void 0,o=b?b.type==="GeometryCollection":!1,E=o?b.geometries.length:1,k=0;k<E;k++){if(w=o?b.geometries[k]:b,w===null){if(g(null,_,P,x,z)===!1)return!1;continue}switch(w.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(w,_,P,x,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<w.geometries.length;A++)if(g(w.geometries[A],_,P,x,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(l,g,M){var A=M;return t(l,function(k,w,E,b,o){w===0&&M===void 0?A=k:A=g(A,k,w,E,b,o)}),A}function a(l,g){t(l,function(M,A,k,w,E){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return g(p.feature(M,k,{bbox:w,id:E}),A,0)===!1?!1:void 0}var o;switch(b){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var P=0;P<M.coordinates.length;P++){var x=M.coordinates[P],z={type:o,coordinates:x};if(g(p.feature(z,k),A,P)===!1)return!1}})}function h(l,g,M){var A=M;return a(l,function(k,w,E){w===0&&E===0&&M===void 0?A=k:A=g(A,k,w,E)}),A}function u(l,g){a(l,function(M,A,k){var w=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,o=0,P=0,x=0;if(L(M,function(z,_,G,F,N){if(b===void 0||A>o||F>P||N>x){b=z,o=A,P=F,x=N,w=0;return}var U=p.lineString([b,z],M.properties);if(g(U,A,k,N,w)===!1)return!1;w++,b=z})===!1)return!1}}})}function s(l,g,M){var A=M,k=!1;return u(l,function(w,E,b,o,P){k===!1&&M===void 0?A=w:A=g(A,w,E,b,o,P),k=!0}),A}function m(l,g){if(!l)throw new Error("geojson is required");a(l,function(M,A,k){if(M.geometry!==null){var w=M.geometry.type,E=M.geometry.coordinates;switch(w){case"LineString":if(g(M,A,k,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(g(p.lineString(E[b],M.properties),A,k,b)===!1)return!1;break}}})}function f(l,g,M){var A=M;return m(l,function(k,w,E,b){w===0&&M===void 0?A=k:A=g(A,k,w,E,b)}),A}function S(l,g){if(g=g||{},!p.isObject(g))throw new Error("options is invalid");var M=g.featureIndex||0,A=g.multiFeatureIndex||0,k=g.geometryIndex||0,w=g.segmentIndex||0,E=g.properties,b;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,b=l.features[M].geometry;break;case"Feature":E=E||l.properties,b=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=l;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var o=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=o.length+w-1),p.lineString([o[w],o[w+1]],E,g);case"Polygon":return k<0&&(k=o.length+k),w<0&&(w=o[k].length+w-1),p.lineString([o[k][w],o[k][w+1]],E,g);case"MultiLineString":return A<0&&(A=o.length+A),w<0&&(w=o[A].length+w-1),p.lineString([o[A][w],o[A][w+1]],E,g);case"MultiPolygon":return A<0&&(A=o.length+A),k<0&&(k=o[A].length+k),w<0&&(w=o[A][k].length-w-1),p.lineString([o[A][k][w],o[A][k][w+1]],E,g)}throw new Error("geojson is invalid")}function v(l,g){if(g=g||{},!p.isObject(g))throw new Error("options is invalid");var M=g.featureIndex||0,A=g.multiFeatureIndex||0,k=g.geometryIndex||0,w=g.coordIndex||0,E=g.properties,b;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,b=l.features[M].geometry;break;case"Feature":E=E||l.properties,b=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=l;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var o=b.coordinates;switch(b.type){case"Point":return p.point(o,E,g);case"MultiPoint":return A<0&&(A=o.length+A),p.point(o[A],E,g);case"LineString":return w<0&&(w=o.length+w),p.point(o[w],E,g);case"Polygon":return k<0&&(k=o.length+k),w<0&&(w=o[k].length+w),p.point(o[k][w],E,g);case"MultiLineString":return A<0&&(A=o.length+A),w<0&&(w=o[A].length+w),p.point(o[A][w],E,g);case"MultiPolygon":return A<0&&(A=o.length+A),k<0&&(k=o[A].length+k),w<0&&(w=o[A][k].length-w),p.point(o[A][k][w],E,g)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=n,B.propEach=C,B.propReduce=T,B.featureEach=d,B.featureReduce=y,B.coordAll=r,B.geomEach=t,B.geomReduce=i,B.flattenEach=a,B.flattenReduce=h,B.segmentEach=u,B.segmentReduce=s,B.lineEach=m,B.lineReduce=f,B.findSegment=S,B.findPoint=v},29261:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(88553),L=e(64182);function n(C,T){T===void 0&&(T={});var d=0,y=0,r=0;return p.coordEach(C,function(t){d+=t[0],y+=t[1],r++}),L.point([d/r,y/r],T.properties)}B.default=n},64182:function(V,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(F,N,U){U===void 0&&(U={});var O={type:"Feature"};return(U.id===0||U.id)&&(O.id=U.id),U.bbox&&(O.bbox=U.bbox),O.properties=N||{},O.geometry=F,O}B.feature=e;function p(F,N,U){switch(F){case"Point":return L(N).geometry;case"LineString":return d(N).geometry;case"Polygon":return C(N).geometry;case"MultiPoint":return i(N).geometry;case"MultiLineString":return t(N).geometry;case"MultiPolygon":return a(N).geometry;default:throw new Error(F+" is invalid")}}B.geometry=p;function L(F,N,U){U===void 0&&(U={});var O={type:"Point",coordinates:F};return e(O,N,U)}B.point=L;function n(F,N,U){return U===void 0&&(U={}),r(F.map(function(O){return L(O,N)}),U)}B.points=n;function C(F,N,U){U===void 0&&(U={});for(var O=0,H=F;O<H.length;O++){var Y=H[O];if(Y.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<Y[Y.length-1].length;q++)if(Y[Y.length-1][q]!==Y[0][q])throw new Error("First and last Position are not equivalent.")}var ne={type:"Polygon",coordinates:F};return e(ne,N,U)}B.polygon=C;function T(F,N,U){return U===void 0&&(U={}),r(F.map(function(O){return C(O,N)}),U)}B.polygons=T;function d(F,N,U){if(U===void 0&&(U={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var O={type:"LineString",coordinates:F};return e(O,N,U)}B.lineString=d;function y(F,N,U){return U===void 0&&(U={}),r(F.map(function(O){return d(O,N)}),U)}B.lineStrings=y;function r(F,N){N===void 0&&(N={});var U={type:"FeatureCollection"};return N.id&&(U.id=N.id),N.bbox&&(U.bbox=N.bbox),U.features=F,U}B.featureCollection=r;function t(F,N,U){U===void 0&&(U={});var O={type:"MultiLineString",coordinates:F};return e(O,N,U)}B.multiLineString=t;function i(F,N,U){U===void 0&&(U={});var O={type:"MultiPoint",coordinates:F};return e(O,N,U)}B.multiPoint=i;function a(F,N,U){U===void 0&&(U={});var O={type:"MultiPolygon",coordinates:F};return e(O,N,U)}B.multiPolygon=a;function h(F,N,U){U===void 0&&(U={});var O={type:"GeometryCollection",geometries:F};return e(O,N,U)}B.geometryCollection=h;function u(F,N){if(N===void 0&&(N=0),N&&!(N>=0))throw new Error("precision must be a positive number");var U=Math.pow(10,N||0);return Math.round(F*U)/U}B.round=u;function s(F,N){N===void 0&&(N="kilometers");var U=B.factors[N];if(!U)throw new Error(N+" units is invalid");return F*U}B.radiansToLength=s;function m(F,N){N===void 0&&(N="kilometers");var U=B.factors[N];if(!U)throw new Error(N+" units is invalid");return F/U}B.lengthToRadians=m;function f(F,N){return v(m(F,N))}B.lengthToDegrees=f;function S(F){var N=F%360;return N<0&&(N+=360),N}B.bearingToAzimuth=S;function v(F){var N=F%(2*Math.PI);return N*180/Math.PI}B.radiansToDegrees=v;function l(F){var N=F%360;return N*Math.PI/180}B.degreesToRadians=l;function g(F,N,U){if(N===void 0&&(N="kilometers"),U===void 0&&(U="kilometers"),!(F>=0))throw new Error("length must be a positive number");return s(m(F,N),U)}B.convertLength=g;function M(F,N,U){if(N===void 0&&(N="meters"),U===void 0&&(U="kilometers"),!(F>=0))throw new Error("area must be a positive number");var O=B.areaFactors[N];if(!O)throw new Error("invalid original units");var H=B.areaFactors[U];if(!H)throw new Error("invalid final units");return F/O*H}B.convertArea=M;function A(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)&&!/^\s*$/.test(F)}B.isNumber=A;function k(F){return!!F&&F.constructor===Object}B.isObject=k;function w(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(N){if(!A(N))throw new Error("bbox must only contain numbers")})}B.validateBBox=w;function E(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}B.validateId=E;function b(){throw new Error("method has been renamed to `radiansToDegrees`")}B.radians2degrees=b;function o(){throw new Error("method has been renamed to `degreesToRadians`")}B.degrees2radians=o;function P(){throw new Error("method has been renamed to `lengthToDegrees`")}B.distanceToDegrees=P;function x(){throw new Error("method has been renamed to `lengthToRadians`")}B.distanceToRadians=x;function z(){throw new Error("method has been renamed to `radiansToLength`")}B.radiansToDistance=z;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}B.bearingToAngle=_;function G(){throw new Error("method has been renamed to `convertLength`")}B.convertDistance=G},88553:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(64182);function L(l,g,M){if(l!==null)for(var A,k,w,E,b,o,P,x=0,z=0,_,G=l.type,F=G==="FeatureCollection",N=G==="Feature",U=F?l.features.length:1,O=0;O<U;O++){P=F?l.features[O].geometry:N?l.geometry:l,_=P?P.type==="GeometryCollection":!1,b=_?P.geometries.length:1;for(var H=0;H<b;H++){var Y=0,q=0;if(E=_?P.geometries[H]:P,E!==null){o=E.coordinates;var ne=E.type;switch(x=M&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(g(o,z,O,Y,q)===!1)return!1;z++,Y++;break;case"LineString":case"MultiPoint":for(A=0;A<o.length;A++){if(g(o[A],z,O,Y,q)===!1)return!1;z++,ne==="MultiPoint"&&Y++}ne==="LineString"&&Y++;break;case"Polygon":case"MultiLineString":for(A=0;A<o.length;A++){for(k=0;k<o[A].length-x;k++){if(g(o[A][k],z,O,Y,q)===!1)return!1;z++}ne==="MultiLineString"&&Y++,ne==="Polygon"&&q++}ne==="Polygon"&&Y++;break;case"MultiPolygon":for(A=0;A<o.length;A++){for(q=0,k=0;k<o[A].length;k++){for(w=0;w<o[A][k].length-x;w++){if(g(o[A][k][w],z,O,Y,q)===!1)return!1;z++}q++}Y++}break;case"GeometryCollection":for(A=0;A<E.geometries.length;A++)if(L(E.geometries[A],g,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(l,g,M,A){var k=M;return L(l,function(w,E,b,o,P){E===0&&M===void 0?k=w:k=g(k,w,E,b,o,P)},A),k}function C(l,g){var M;switch(l.type){case"FeatureCollection":for(M=0;M<l.features.length&&g(l.features[M].properties,M)!==!1;M++);break;case"Feature":g(l.properties,0);break}}function T(l,g,M){var A=M;return C(l,function(k,w){w===0&&M===void 0?A=k:A=g(A,k,w)}),A}function d(l,g){if(l.type==="Feature")g(l,0);else if(l.type==="FeatureCollection")for(var M=0;M<l.features.length&&g(l.features[M],M)!==!1;M++);}function y(l,g,M){var A=M;return d(l,function(k,w){w===0&&M===void 0?A=k:A=g(A,k,w)}),A}function r(l){var g=[];return L(l,function(M){g.push(M)}),g}function t(l,g){var M,A,k,w,E,b,o,P,x,z,_=0,G=l.type==="FeatureCollection",F=l.type==="Feature",N=G?l.features.length:1;for(M=0;M<N;M++){for(b=G?l.features[M].geometry:F?l.geometry:l,P=G?l.features[M].properties:F?l.properties:{},x=G?l.features[M].bbox:F?l.bbox:void 0,z=G?l.features[M].id:F?l.id:void 0,o=b?b.type==="GeometryCollection":!1,E=o?b.geometries.length:1,k=0;k<E;k++){if(w=o?b.geometries[k]:b,w===null){if(g(null,_,P,x,z)===!1)return!1;continue}switch(w.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(w,_,P,x,z)===!1)return!1;break}case"GeometryCollection":{for(A=0;A<w.geometries.length;A++)if(g(w.geometries[A],_,P,x,z)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function i(l,g,M){var A=M;return t(l,function(k,w,E,b,o){w===0&&M===void 0?A=k:A=g(A,k,w,E,b,o)}),A}function a(l,g){t(l,function(M,A,k,w,E){var b=M===null?null:M.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return g(p.feature(M,k,{bbox:w,id:E}),A,0)===!1?!1:void 0}var o;switch(b){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon";break}for(var P=0;P<M.coordinates.length;P++){var x=M.coordinates[P],z={type:o,coordinates:x};if(g(p.feature(z,k),A,P)===!1)return!1}})}function h(l,g,M){var A=M;return a(l,function(k,w,E){w===0&&E===0&&M===void 0?A=k:A=g(A,k,w,E)}),A}function u(l,g){a(l,function(M,A,k){var w=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var b,o=0,P=0,x=0;if(L(M,function(z,_,G,F,N){if(b===void 0||A>o||F>P||N>x){b=z,o=A,P=F,x=N,w=0;return}var U=p.lineString([b,z],M.properties);if(g(U,A,k,N,w)===!1)return!1;w++,b=z})===!1)return!1}}})}function s(l,g,M){var A=M,k=!1;return u(l,function(w,E,b,o,P){k===!1&&M===void 0?A=w:A=g(A,w,E,b,o,P),k=!0}),A}function m(l,g){if(!l)throw new Error("geojson is required");a(l,function(M,A,k){if(M.geometry!==null){var w=M.geometry.type,E=M.geometry.coordinates;switch(w){case"LineString":if(g(M,A,k,0,0)===!1)return!1;break;case"Polygon":for(var b=0;b<E.length;b++)if(g(p.lineString(E[b],M.properties),A,k,b)===!1)return!1;break}}})}function f(l,g,M){var A=M;return m(l,function(k,w,E,b){w===0&&M===void 0?A=k:A=g(A,k,w,E,b)}),A}function S(l,g){if(g=g||{},!p.isObject(g))throw new Error("options is invalid");var M=g.featureIndex||0,A=g.multiFeatureIndex||0,k=g.geometryIndex||0,w=g.segmentIndex||0,E=g.properties,b;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,b=l.features[M].geometry;break;case"Feature":E=E||l.properties,b=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=l;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var o=b.coordinates;switch(b.type){case"Point":case"MultiPoint":return null;case"LineString":return w<0&&(w=o.length+w-1),p.lineString([o[w],o[w+1]],E,g);case"Polygon":return k<0&&(k=o.length+k),w<0&&(w=o[k].length+w-1),p.lineString([o[k][w],o[k][w+1]],E,g);case"MultiLineString":return A<0&&(A=o.length+A),w<0&&(w=o[A].length+w-1),p.lineString([o[A][w],o[A][w+1]],E,g);case"MultiPolygon":return A<0&&(A=o.length+A),k<0&&(k=o[A].length+k),w<0&&(w=o[A][k].length-w-1),p.lineString([o[A][k][w],o[A][k][w+1]],E,g)}throw new Error("geojson is invalid")}function v(l,g){if(g=g||{},!p.isObject(g))throw new Error("options is invalid");var M=g.featureIndex||0,A=g.multiFeatureIndex||0,k=g.geometryIndex||0,w=g.coordIndex||0,E=g.properties,b;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,b=l.features[M].geometry;break;case"Feature":E=E||l.properties,b=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":b=l;break;default:throw new Error("geojson is invalid")}if(b===null)return null;var o=b.coordinates;switch(b.type){case"Point":return p.point(o,E,g);case"MultiPoint":return A<0&&(A=o.length+A),p.point(o[A],E,g);case"LineString":return w<0&&(w=o.length+w),p.point(o[w],E,g);case"Polygon":return k<0&&(k=o.length+k),w<0&&(w=o[k].length+w),p.point(o[k][w],E,g);case"MultiLineString":return A<0&&(A=o.length+A),w<0&&(w=o[A].length+w),p.point(o[A][w],E,g);case"MultiPolygon":return A<0&&(A=o.length+A),k<0&&(k=o[A].length+k),w<0&&(w=o[A][k].length-w),p.point(o[A][k][w],E,g)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=n,B.propEach=C,B.propReduce=T,B.featureEach=d,B.featureReduce=y,B.coordAll=r,B.geomEach=t,B.geomReduce=i,B.flattenEach=a,B.flattenReduce=h,B.segmentEach=u,B.segmentReduce=s,B.lineEach=m,B.lineReduce=f,B.findSegment=S,B.findPoint=v},65185:function(V){V.exports=B;function B(e){var p=0,L=0,n=0,C=0;return e.map(function(T){T=T.slice();var d=T[0],y=d.toUpperCase();if(d!=y)switch(T[0]=y,d){case"a":T[6]+=n,T[7]+=C;break;case"v":T[1]+=C;break;case"h":T[1]+=n;break;default:for(var r=1;r<T.length;)T[r++]+=n,T[r++]+=C}switch(y){case"Z":n=p,C=L;break;case"H":n=T[1];break;case"V":C=T[1];break;case"M":n=p=T[1],C=L=T[2];break;default:n=T[T.length-2],C=T[T.length-1]}return T})}},21527:function(V){V.exports=B;function B(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),n=0;n<p;n++){for(var C=-1/0,T=1/0,d=n,y=e.length;d<y;d+=p)e[d]>C&&(C=e[d]),e[d]<T&&(T=e[d]);L[n]=T,L[p+n]=C}return L}},6851:function(V){V.exports=function(B,e,p){if(typeof Array.prototype.findIndex=="function")return B.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(B),n=L.length;if(n===0)return-1;for(var C=0;C<n;C++)if(e.call(p,L[C],C,L))return C;return-1}},54:function(V,B,e){var p=e(21527);V.exports=L;function L(n,C,T){if(!n||n.length==null)throw Error("Argument should be an array");C==null&&(C=1),T==null&&(T=p(n,C));for(var d=0;d<C;d++){var y=T[C+d],r=T[d],t=d,i=n.length;if(y===1/0&&r===-1/0)for(t=d;t<i;t+=C)n[t]=n[t]===y?1:n[t]===r?0:.5;else if(y===1/0)for(t=d;t<i;t+=C)n[t]=n[t]===y?1:0;else if(r===-1/0)for(t=d;t<i;t+=C)n[t]=n[t]===r?0:1;else{var a=y-r;for(t=d;t<i;t+=C)isNaN(n[t])||(n[t]=a===0?.5:(n[t]-r)/a)}}return n}},57471:function(V){V.exports=function(e,p){var L=typeof e=="number",n=typeof p=="number";L&&!n?(p=e,e=0):!L&&!n&&(e=0,p=0),e=e|0,p=p|0;var C=p-e;if(C<0)throw new Error("array length must be positive");for(var T=new Array(C),d=0,y=e;d<C;d++,y++)T[d]=y;return T}},32791:function(V,B,e){var p=e(90386);function L(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(oe){return typeof oe}:L=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},L(q)}function n(q,ne){if(!(q instanceof ne))throw new TypeError("Cannot call a class as a function")}var C=e(79616),T=C.codes,d=T.ERR_AMBIGUOUS_ARGUMENT,y=T.ERR_INVALID_ARG_TYPE,r=T.ERR_INVALID_ARG_VALUE,t=T.ERR_INVALID_RETURN_VALUE,i=T.ERR_MISSING_ARGS,a=e(73894),h=e(43827),u=h.inspect,s=e(43827).types,m=s.isPromise,f=s.isRegExp,S=Object.assign?Object.assign:e(73523).assign,v=Object.is?Object.is:e(64003),l,g;function M(){var q=e(74061);l=q.isDeepEqual,g=q.isDeepStrictEqual}var A=!1,k=V.exports=P,w={};function E(q){throw q.message instanceof Error?q.message:new a(q)}function b(q,ne,oe,he,J){var Z=arguments.length,se;if(Z===0)se="Failed";else if(Z===1)oe=q,q=void 0;else{if(A===!1){A=!0;var $=p.emitWarning?p.emitWarning:console.warn.bind(console);$("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(he="!=")}if(oe instanceof Error)throw oe;var ee={actual:q,expected:ne,operator:he===void 0?"fail":he,stackStartFn:J||b};oe!==void 0&&(ee.message=oe);var le=new a(ee);throw se&&(le.message=se,le.generatedMessage=!0),le}k.fail=b,k.AssertionError=a;function o(q,ne,oe,he){if(!oe){var J=!1;if(ne===0)J=!0,he="No value argument passed to `assert.ok()`";else if(he instanceof Error)throw he;var Z=new a({actual:oe,expected:!0,message:he,operator:"==",stackStartFn:q});throw Z.generatedMessage=J,Z}}function P(){for(var q=arguments.length,ne=new Array(q),oe=0;oe<q;oe++)ne[oe]=arguments[oe];o.apply(void 0,[P,ne.length].concat(ne))}k.ok=P,k.equal=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");ne!=oe&&E({actual:ne,expected:oe,message:he,operator:"==",stackStartFn:q})},k.notEqual=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");ne==oe&&E({actual:ne,expected:oe,message:he,operator:"!=",stackStartFn:q})},k.deepEqual=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");l===void 0&&M(),l(ne,oe)||E({actual:ne,expected:oe,message:he,operator:"deepEqual",stackStartFn:q})},k.notDeepEqual=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");l===void 0&&M(),l(ne,oe)&&E({actual:ne,expected:oe,message:he,operator:"notDeepEqual",stackStartFn:q})},k.deepStrictEqual=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");l===void 0&&M(),g(ne,oe)||E({actual:ne,expected:oe,message:he,operator:"deepStrictEqual",stackStartFn:q})},k.notDeepStrictEqual=x;function x(q,ne,oe){if(arguments.length<2)throw new i("actual","expected");l===void 0&&M(),g(q,ne)&&E({actual:q,expected:ne,message:oe,operator:"notDeepStrictEqual",stackStartFn:x})}k.strictEqual=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");v(ne,oe)||E({actual:ne,expected:oe,message:he,operator:"strictEqual",stackStartFn:q})},k.notStrictEqual=function q(ne,oe,he){if(arguments.length<2)throw new i("actual","expected");v(ne,oe)&&E({actual:ne,expected:oe,message:he,operator:"notStrictEqual",stackStartFn:q})};var z=function q(ne,oe,he){var J=this;n(this,q),oe.forEach(function(Z){Z in ne&&(he!==void 0&&typeof he[Z]=="string"&&f(ne[Z])&&ne[Z].test(he[Z])?J[Z]=he[Z]:J[Z]=ne[Z])})};function _(q,ne,oe,he,J,Z){if(!(oe in q)||!g(q[oe],ne[oe])){if(!he){var se=new z(q,J),$=new z(ne,J,q),ee=new a({actual:se,expected:$,operator:"deepStrictEqual",stackStartFn:Z});throw ee.actual=q,ee.expected=ne,ee.operator=Z.name,ee}E({actual:q,expected:ne,message:he,operator:Z.name,stackStartFn:Z})}}function G(q,ne,oe,he){if(typeof ne!="function"){if(f(ne))return ne.test(q);if(arguments.length===2)throw new y("expected",["Function","RegExp"],ne);if(L(q)!=="object"||q===null){var J=new a({actual:q,expected:ne,message:oe,operator:"deepStrictEqual",stackStartFn:he});throw J.operator=he.name,J}var Z=Object.keys(ne);if(ne instanceof Error)Z.push("name","message");else if(Z.length===0)throw new r("error",ne,"may not be an empty object");return l===void 0&&M(),Z.forEach(function(se){typeof q[se]=="string"&&f(ne[se])&&ne[se].test(q[se])||_(q,ne,se,oe,Z,he)}),!0}return ne.prototype!==void 0&&q instanceof ne?!0:Error.isPrototypeOf(ne)?!1:ne.call({},q)===!0}function F(q){if(typeof q!="function")throw new y("fn","Function",q);try{q()}catch(ne){return ne}return w}function N(q){return m(q)||q!==null&&L(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function U(q){return Promise.resolve().then(function(){var ne;if(typeof q=="function"){if(ne=q(),!N(ne))throw new t("instance of Promise","promiseFn",ne)}else if(N(q))ne=q;else throw new y("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return ne}).then(function(){return w}).catch(function(oe){return oe})})}function O(q,ne,oe,he){if(typeof oe=="string"){if(arguments.length===4)throw new y("error",["Object","Error","Function","RegExp"],oe);if(L(ne)==="object"&&ne!==null){if(ne.message===oe)throw new d("error/message",'The error message "'.concat(ne.message,'" is identical to the message.'))}else if(ne===oe)throw new d("error/message",'The error "'.concat(ne,'" is identical to the message.'));he=oe,oe=void 0}else if(oe!=null&&L(oe)!=="object"&&typeof oe!="function")throw new y("error",["Object","Error","Function","RegExp"],oe);if(ne===w){var J="";oe&&oe.name&&(J+=" (".concat(oe.name,")")),J+=he?": ".concat(he):".";var Z=q.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:oe,operator:q.name,message:"Missing expected ".concat(Z).concat(J),stackStartFn:q})}if(oe&&!G(ne,oe,he,q))throw ne}function H(q,ne,oe,he){if(ne!==w){if(typeof oe=="string"&&(he=oe,oe=void 0),!oe||G(ne,oe)){var J=he?": ".concat(he):".",Z=q.name==="doesNotReject"?"rejection":"exception";E({actual:ne,expected:oe,operator:q.name,message:"Got unwanted ".concat(Z).concat(J,`
`)+'Actual message: "'.concat(ne&&ne.message,'"'),stackStartFn:q})}throw ne}}k.throws=function q(ne){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),J=1;J<oe;J++)he[J-1]=arguments[J];O.apply(void 0,[q,F(ne)].concat(he))},k.rejects=function q(ne){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),J=1;J<oe;J++)he[J-1]=arguments[J];return U(ne).then(function(Z){return O.apply(void 0,[q,Z].concat(he))})},k.doesNotThrow=function q(ne){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),J=1;J<oe;J++)he[J-1]=arguments[J];H.apply(void 0,[q,F(ne)].concat(he))},k.doesNotReject=function q(ne){for(var oe=arguments.length,he=new Array(oe>1?oe-1:0),J=1;J<oe;J++)he[J-1]=arguments[J];return U(ne).then(function(Z){return H.apply(void 0,[q,Z].concat(he))})},k.ifError=function q(ne){if(ne!=null){var oe="ifError got unwanted exception: ";L(ne)==="object"&&typeof ne.message=="string"?ne.message.length===0&&ne.constructor?oe+=ne.constructor.name:oe+=ne.message:oe+=u(ne);var he=new a({actual:ne,expected:null,operator:"ifError",message:oe,stackStartFn:q}),J=ne.stack;if(typeof J=="string"){var Z=J.split(`
`);Z.shift();for(var se=he.stack.split(`
`),$=0;$<Z.length;$++){var ee=se.indexOf(Z[$]);if(ee!==-1){se=se.slice(0,ee);break}}he.stack="".concat(se.join(`
`),`
`).concat(Z.join(`
`))}throw he}};function Y(){for(var q=arguments.length,ne=new Array(q),oe=0;oe<q;oe++)ne[oe]=arguments[oe];o.apply(void 0,[Y,ne.length].concat(ne))}k.strict=S(Y,k,{equal:k.strictEqual,deepEqual:k.deepStrictEqual,notEqual:k.notStrictEqual,notDeepEqual:k.notDeepStrictEqual}),k.strict.strict=k.strict},73894:function(V,B,e){var p=e(90386);function L(F){for(var N=1;N<arguments.length;N++){var U=arguments[N]!=null?arguments[N]:{},O=Object.keys(U);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(U).filter(function(H){return Object.getOwnPropertyDescriptor(U,H).enumerable}))),O.forEach(function(H){n(F,H,U[H])})}return F}function n(F,N,U){return N in F?Object.defineProperty(F,N,{value:U,enumerable:!0,configurable:!0,writable:!0}):F[N]=U,F}function C(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function T(F,N){for(var U=0;U<N.length;U++){var O=N[U];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(F,O.key,O)}}function d(F,N,U){return N&&T(F.prototype,N),U&&T(F,U),F}function y(F,N){return N&&(f(N)==="object"||typeof N=="function")?N:r(F)}function r(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function t(F,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(N&&N.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),N&&s(F,N)}function i(F){var N=typeof Map=="function"?new Map:void 0;return i=function(O){if(O===null||!u(O))return O;if(typeof O!="function")throw new TypeError("Super expression must either be null or a function");if(typeof N<"u"){if(N.has(O))return N.get(O);N.set(O,H)}function H(){return h(O,arguments,m(this).constructor)}return H.prototype=Object.create(O.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),s(H,O)},i(F)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function h(F,N,U){return a()?h=Reflect.construct:h=function(H,Y,q){var ne=[null];ne.push.apply(ne,Y);var oe=Function.bind.apply(H,ne),he=new oe;return q&&s(he,q.prototype),he},h.apply(null,arguments)}function u(F){return Function.toString.call(F).indexOf("[native code]")!==-1}function s(F,N){return s=Object.setPrototypeOf||function(O,H){return O.__proto__=H,O},s(F,N)}function m(F){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},m(F)}function f(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(U){return typeof U}:f=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},f(F)}var S=e(43827),v=S.inspect,l=e(79616),g=l.codes.ERR_INVALID_ARG_TYPE;function M(F,N,U){return(U===void 0||U>F.length)&&(U=F.length),F.substring(U-N.length,U)===N}function A(F,N){if(N=Math.floor(N),F.length==0||N==0)return"";var U=F.length*N;for(N=Math.floor(Math.log(N)/Math.log(2));N;)F+=F,N--;return F+=F.substring(0,U-F.length),F}var k="",w="",E="",b="",o={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},P=10;function x(F){var N=Object.keys(F),U=Object.create(Object.getPrototypeOf(F));return N.forEach(function(O){U[O]=F[O]}),Object.defineProperty(U,"message",{value:F.message}),U}function z(F){return v(F,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(F,N,U){var O="",H="",Y=0,q="",ne=!1,oe=z(F),he=oe.split(`
`),J=z(N).split(`
`),Z=0,se="";if(U==="strictEqual"&&f(F)==="object"&&f(N)==="object"&&F!==null&&N!==null&&(U="strictEqualObject"),he.length===1&&J.length===1&&he[0]!==J[0]){var $=he[0].length+J[0].length;if($<=P){if((f(F)!=="object"||F===null)&&(f(N)!=="object"||N===null)&&(F!==0||N!==0))return"".concat(o[U],`

`)+"".concat(he[0]," !== ").concat(J[0],`
`)}else if(U!=="strictEqualObject"){var ee=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if($<ee){for(;he[0][Z]===J[0][Z];)Z++;Z>2&&(se=`
  `.concat(A(" ",Z),"^"),Z=0)}}}for(var le=he[he.length-1],Q=J[J.length-1];le===Q&&(Z++<2?q=`
  `.concat(le).concat(q):O=le,he.pop(),J.pop(),!(he.length===0||J.length===0));)le=he[he.length-1],Q=J[J.length-1];var K=Math.max(he.length,J.length);if(K===0){var ue=oe.split(`
`);if(ue.length>30)for(ue[26]="".concat(k,"...").concat(b);ue.length>27;)ue.pop();return"".concat(o.notIdentical,`

`).concat(ue.join(`
`),`
`)}Z>3&&(q=`
`.concat(k,"...").concat(b).concat(q),ne=!0),O!==""&&(q=`
  `.concat(O).concat(q),O="");var ie=0,ce=o[U]+`
`.concat(w,"+ actual").concat(b," ").concat(E,"- expected").concat(b),xe=" ".concat(k,"...").concat(b," Lines skipped");for(Z=0;Z<K;Z++){var Le=Z-Y;if(he.length<Z+1)Le>1&&Z>2&&(Le>4?(H+=`
`.concat(k,"...").concat(b),ne=!0):Le>3&&(H+=`
  `.concat(J[Z-2]),ie++),H+=`
  `.concat(J[Z-1]),ie++),Y=Z,O+=`
`.concat(E,"-").concat(b," ").concat(J[Z]),ie++;else if(J.length<Z+1)Le>1&&Z>2&&(Le>4?(H+=`
`.concat(k,"...").concat(b),ne=!0):Le>3&&(H+=`
  `.concat(he[Z-2]),ie++),H+=`
  `.concat(he[Z-1]),ie++),Y=Z,H+=`
`.concat(w,"+").concat(b," ").concat(he[Z]),ie++;else{var Ae=J[Z],Oe=he[Z],ze=Oe!==Ae&&(!M(Oe,",")||Oe.slice(0,-1)!==Ae);ze&&M(Ae,",")&&Ae.slice(0,-1)===Oe&&(ze=!1,Oe+=","),ze?(Le>1&&Z>2&&(Le>4?(H+=`
`.concat(k,"...").concat(b),ne=!0):Le>3&&(H+=`
  `.concat(he[Z-2]),ie++),H+=`
  `.concat(he[Z-1]),ie++),Y=Z,H+=`
`.concat(w,"+").concat(b," ").concat(Oe),O+=`
`.concat(E,"-").concat(b," ").concat(Ae),ie+=2):(H+=O,O="",(Le===1||Z===0)&&(H+=`
  `.concat(Oe),ie++))}if(ie>20&&Z<K-2)return"".concat(ce).concat(xe,`
`).concat(H,`
`).concat(k,"...").concat(b).concat(O,`
`)+"".concat(k,"...").concat(b)}return"".concat(ce).concat(ne?xe:"",`
`).concat(H).concat(O).concat(q).concat(se)}var G=function(F){t(N,F);function N(U){var O;if(C(this,N),f(U)!=="object"||U===null)throw new g("options","Object",U);var H=U.message,Y=U.operator,q=U.stackStartFn,ne=U.actual,oe=U.expected,he=Error.stackTraceLimit;if(Error.stackTraceLimit=0,H!=null)O=y(this,m(N).call(this,String(H)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(k="\x1B[34m",w="\x1B[32m",b="\x1B[39m",E="\x1B[31m"):(k="",w="",b="",E="")),f(ne)==="object"&&ne!==null&&f(oe)==="object"&&oe!==null&&"stack"in ne&&ne instanceof Error&&"stack"in oe&&oe instanceof Error&&(ne=x(ne),oe=x(oe)),Y==="deepStrictEqual"||Y==="strictEqual")O=y(this,m(N).call(this,_(ne,oe,Y)));else if(Y==="notDeepStrictEqual"||Y==="notStrictEqual"){var J=o[Y],Z=z(ne).split(`
`);if(Y==="notStrictEqual"&&f(ne)==="object"&&ne!==null&&(J=o.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(k,"...").concat(b);Z.length>27;)Z.pop();Z.length===1?O=y(this,m(N).call(this,"".concat(J," ").concat(Z[0]))):O=y(this,m(N).call(this,"".concat(J,`

`).concat(Z.join(`
`),`
`)))}else{var se=z(ne),$="",ee=o[Y];Y==="notDeepEqual"||Y==="notEqual"?(se="".concat(o[Y],`

`).concat(se),se.length>1024&&(se="".concat(se.slice(0,1021),"..."))):($="".concat(z(oe)),se.length>512&&(se="".concat(se.slice(0,509),"...")),$.length>512&&($="".concat($.slice(0,509),"...")),Y==="deepEqual"||Y==="equal"?se="".concat(ee,`

`).concat(se,`

should equal

`):$=" ".concat(Y," ").concat($)),O=y(this,m(N).call(this,"".concat(se).concat($)))}return Error.stackTraceLimit=he,O.generatedMessage=!H,Object.defineProperty(r(O),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),O.code="ERR_ASSERTION",O.actual=ne,O.expected=oe,O.operator=Y,Error.captureStackTrace&&Error.captureStackTrace(r(O),q),O.stack,O.name="AssertionError",y(O)}return d(N,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function(O,H){return v(this,L({},H,{customInspect:!1,depth:0}))}}]),N}(i(Error));V.exports=G},79616:function(V,B,e){function p(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(v){return typeof v}:p=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},p(f)}function L(f,S){if(!(f instanceof S))throw new TypeError("Cannot call a class as a function")}function n(f,S){return S&&(p(S)==="object"||typeof S=="function")?S:C(f)}function C(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function T(f){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},T(f)}function d(f,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(S&&S.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),S&&y(f,S)}function y(f,S){return y=Object.setPrototypeOf||function(l,g){return l.__proto__=g,l},y(f,S)}var r={},t,i;function a(f,S,v){v||(v=Error);function l(M,A,k){return typeof S=="string"?S:S(M,A,k)}var g=function(M){d(A,M);function A(k,w,E){var b;return L(this,A),b=n(this,T(A).call(this,l(k,w,E))),b.code=f,b}return A}(v);r[f]=g}function h(f,S){if(Array.isArray(f)){var v=f.length;return f=f.map(function(l){return String(l)}),v>2?"one of ".concat(S," ").concat(f.slice(0,v-1).join(", "),", or ")+f[v-1]:v===2?"one of ".concat(S," ").concat(f[0]," or ").concat(f[1]):"of ".concat(S," ").concat(f[0])}else return"of ".concat(S," ").concat(String(f))}function u(f,S,v){return f.substr(!v||v<0?0:+v,S.length)===S}function s(f,S,v){return(v===void 0||v>f.length)&&(v=f.length),f.substring(v-S.length,v)===S}function m(f,S,v){return typeof v!="number"&&(v=0),v+S.length>f.length?!1:f.indexOf(S,v)!==-1}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(f,S,v){t===void 0&&(t=e(32791)),t(typeof f=="string","'name' must be a string");var l;typeof S=="string"&&u(S,"not ")?(l="must not be",S=S.replace(/^not /,"")):l="must be";var g;if(s(f," argument"))g="The ".concat(f," ").concat(l," ").concat(h(S,"type"));else{var M=m(f,".")?"property":"argument";g='The "'.concat(f,'" ').concat(M," ").concat(l," ").concat(h(S,"type"))}return g+=". Received type ".concat(p(v)),g},TypeError),a("ERR_INVALID_ARG_VALUE",function(f,S){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=e(43827));var l=i.inspect(S);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(f,"' ").concat(v,". Received ").concat(l)},TypeError),a("ERR_INVALID_RETURN_VALUE",function(f,S,v){var l;return v&&v.constructor&&v.constructor.name?l="instance of ".concat(v.constructor.name):l="type ".concat(p(v)),"Expected ".concat(f,' to be returned from the "').concat(S,'"')+" function but got ".concat(l,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var f=arguments.length,S=new Array(f),v=0;v<f;v++)S[v]=arguments[v];t===void 0&&(t=e(32791)),t(S.length>0,"At least one arg needs to be specified");var l="The ",g=S.length;switch(S=S.map(function(M){return'"'.concat(M,'"')}),g){case 1:l+="".concat(S[0]," argument");break;case 2:l+="".concat(S[0]," and ").concat(S[1]," arguments");break;default:l+=S.slice(0,g-1).join(", "),l+=", and ".concat(S[g-1]," arguments");break}return"".concat(l," must be specified")},TypeError),V.exports.codes=r},74061:function(V,B,e){function p(Ee,be){return C(Ee)||n(Ee,be)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(Ee,be){var Ce=[],Ue=!0,He=!1,Ie=void 0;try{for(var Ge=Ee[Symbol.iterator](),at;!(Ue=(at=Ge.next()).done)&&(Ce.push(at.value),!(be&&Ce.length===be));Ue=!0);}catch(lt){He=!0,Ie=lt}finally{try{!Ue&&Ge.return!=null&&Ge.return()}finally{if(He)throw Ie}}return Ce}function C(Ee){if(Array.isArray(Ee))return Ee}function T(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(Ce){return typeof Ce}:T=function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},T(Ee)}var d=/a/g.flags!==void 0,y=function(be){var Ce=[];return be.forEach(function(Ue){return Ce.push(Ue)}),Ce},r=function(be){var Ce=[];return be.forEach(function(Ue,He){return Ce.push([He,Ue])}),Ce},t=Object.is?Object.is:e(64003),i=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:e(15567);function h(Ee){return Ee.call.bind(Ee)}var u=h(Object.prototype.hasOwnProperty),s=h(Object.prototype.propertyIsEnumerable),m=h(Object.prototype.toString),f=e(43827).types,S=f.isAnyArrayBuffer,v=f.isArrayBufferView,l=f.isDate,g=f.isMap,M=f.isRegExp,A=f.isSet,k=f.isNativeError,w=f.isBoxedPrimitive,E=f.isNumberObject,b=f.isStringObject,o=f.isBooleanObject,P=f.isBigIntObject,x=f.isSymbolObject,z=f.isFloat32Array,_=f.isFloat64Array;function G(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var be=0;be<Ee.length;be++){var Ce=Ee.charCodeAt(be);if(Ce<48||Ce>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function F(Ee){return Object.keys(Ee).filter(G).concat(i(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(Ee,be){if(Ee===be)return 0;for(var Ce=Ee.length,Ue=be.length,He=0,Ie=Math.min(Ce,Ue);He<Ie;++He)if(Ee[He]!==be[He]){Ce=Ee[He],Ue=be[He];break}return Ce<Ue?-1:Ue<Ce?1:0}var U=!0,O=!1,H=0,Y=1,q=2,ne=3;function oe(Ee,be){return d?Ee.source===be.source&&Ee.flags===be.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(be)}function he(Ee,be){if(Ee.byteLength!==be.byteLength)return!1;for(var Ce=0;Ce<Ee.byteLength;Ce++)if(Ee[Ce]!==be[Ce])return!1;return!0}function J(Ee,be){return Ee.byteLength!==be.byteLength?!1:N(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function Z(Ee,be){return Ee.byteLength===be.byteLength&&N(new Uint8Array(Ee),new Uint8Array(be))===0}function se(Ee,be){return E(Ee)?E(be)&&t(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(be)):b(Ee)?b(be)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(be):o(Ee)?o(be)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(be):P(Ee)?P(be)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(be):x(be)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(be)}function $(Ee,be,Ce,Ue){if(Ee===be)return Ee!==0?!0:Ce?t(Ee,be):!0;if(Ce){if(T(Ee)!=="object")return typeof Ee=="number"&&a(Ee)&&a(be);if(T(be)!=="object"||Ee===null||be===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(be))return!1}else{if(Ee===null||T(Ee)!=="object")return be===null||T(be)!=="object"?Ee==be:!1;if(be===null||T(be)!=="object")return!1}var He=m(Ee),Ie=m(be);if(He!==Ie)return!1;if(Array.isArray(Ee)){if(Ee.length!==be.length)return!1;var Ge=F(Ee),at=F(be);return Ge.length!==at.length?!1:le(Ee,be,Ce,Ue,Y,Ge)}if(He==="[object Object]"&&(!g(Ee)&&g(be)||!A(Ee)&&A(be)))return!1;if(l(Ee)){if(!l(be)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(be))return!1}else if(M(Ee)){if(!M(be)||!oe(Ee,be))return!1}else if(k(Ee)||Ee instanceof Error){if(Ee.message!==be.message||Ee.name!==be.name)return!1}else if(v(Ee)){if(!Ce&&(z(Ee)||_(Ee))){if(!he(Ee,be))return!1}else if(!J(Ee,be))return!1;var lt=F(Ee),qe=F(be);return lt.length!==qe.length?!1:le(Ee,be,Ce,Ue,H,lt)}else{if(A(Ee))return!A(be)||Ee.size!==be.size?!1:le(Ee,be,Ce,Ue,q);if(g(Ee))return!g(be)||Ee.size!==be.size?!1:le(Ee,be,Ce,Ue,ne);if(S(Ee)){if(!Z(Ee,be))return!1}else if(w(Ee)&&!se(Ee,be))return!1}return le(Ee,be,Ce,Ue,H)}function ee(Ee,be){return be.filter(function(Ce){return s(Ee,Ce)})}function le(Ee,be,Ce,Ue,He,Ie){if(arguments.length===5){Ie=Object.keys(Ee);var Ge=Object.keys(be);if(Ie.length!==Ge.length)return!1}for(var at=0;at<Ie.length;at++)if(!u(be,Ie[at]))return!1;if(Ce&&arguments.length===5){var lt=i(Ee);if(lt.length!==0){var qe=0;for(at=0;at<lt.length;at++){var et=lt[at];if(s(Ee,et)){if(!s(be,et))return!1;Ie.push(et),qe++}else if(s(be,et))return!1}var ft=i(be);if(lt.length!==ft.length&&ee(be,ft).length!==qe)return!1}else{var dt=i(be);if(dt.length!==0&&ee(be,dt).length!==0)return!1}}if(Ie.length===0&&(He===H||He===Y&&Ee.length===0||Ee.size===0))return!0;if(Ue===void 0)Ue={val1:new Map,val2:new Map,position:0};else{var pt=Ue.val1.get(Ee);if(pt!==void 0){var At=Ue.val2.get(be);if(At!==void 0)return pt===At}Ue.position++}Ue.val1.set(Ee,Ue.position),Ue.val2.set(be,Ue.position);var Pt=Ae(Ee,be,Ce,Ie,Ue,He);return Ue.val1.delete(Ee),Ue.val2.delete(be),Pt}function Q(Ee,be,Ce,Ue){for(var He=y(Ee),Ie=0;Ie<He.length;Ie++){var Ge=He[Ie];if($(be,Ge,Ce,Ue))return Ee.delete(Ge),!0}return!1}function K(Ee){switch(T(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(a(Ee))return!1}return!0}function ue(Ee,be,Ce){var Ue=K(Ce);return Ue??(be.has(Ue)&&!Ee.has(Ue))}function ie(Ee,be,Ce,Ue,He){var Ie=K(Ce);if(Ie!=null)return Ie;var Ge=be.get(Ie);return Ge===void 0&&!be.has(Ie)||!$(Ue,Ge,!1,He)?!1:!Ee.has(Ie)&&$(Ue,Ge,!1,He)}function ce(Ee,be,Ce,Ue){for(var He=null,Ie=y(Ee),Ge=0;Ge<Ie.length;Ge++){var at=Ie[Ge];if(T(at)==="object"&&at!==null)He===null&&(He=new Set),He.add(at);else if(!be.has(at)){if(Ce||!ue(Ee,be,at))return!1;He===null&&(He=new Set),He.add(at)}}if(He!==null){for(var lt=y(be),qe=0;qe<lt.length;qe++){var et=lt[qe];if(T(et)==="object"&&et!==null){if(!Q(He,et,Ce,Ue))return!1}else if(!Ce&&!Ee.has(et)&&!Q(He,et,Ce,Ue))return!1}return He.size===0}return!0}function xe(Ee,be,Ce,Ue,He,Ie){for(var Ge=y(Ee),at=0;at<Ge.length;at++){var lt=Ge[at];if($(Ce,lt,He,Ie)&&$(Ue,be.get(lt),He,Ie))return Ee.delete(lt),!0}return!1}function Le(Ee,be,Ce,Ue){for(var He=null,Ie=r(Ee),Ge=0;Ge<Ie.length;Ge++){var at=p(Ie[Ge],2),lt=at[0],qe=at[1];if(T(lt)==="object"&&lt!==null)He===null&&(He=new Set),He.add(lt);else{var et=be.get(lt);if(et===void 0&&!be.has(lt)||!$(qe,et,Ce,Ue)){if(Ce||!ie(Ee,be,lt,qe,Ue))return!1;He===null&&(He=new Set),He.add(lt)}}}if(He!==null){for(var ft=r(be),dt=0;dt<ft.length;dt++){var pt=p(ft[dt],2),lt=pt[0],At=pt[1];if(T(lt)==="object"&&lt!==null){if(!xe(He,Ee,lt,At,Ce,Ue))return!1}else if(!Ce&&(!Ee.has(lt)||!$(Ee.get(lt),At,!1,Ue))&&!xe(He,Ee,lt,At,!1,Ue))return!1}return He.size===0}return!0}function Ae(Ee,be,Ce,Ue,He,Ie){var Ge=0;if(Ie===q){if(!ce(Ee,be,Ce,He))return!1}else if(Ie===ne){if(!Le(Ee,be,Ce,He))return!1}else if(Ie===Y)for(;Ge<Ee.length;Ge++)if(u(Ee,Ge)){if(!u(be,Ge)||!$(Ee[Ge],be[Ge],Ce,He))return!1}else{if(u(be,Ge))return!1;for(var at=Object.keys(Ee);Ge<at.length;Ge++){var lt=at[Ge];if(!u(be,lt)||!$(Ee[lt],be[lt],Ce,He))return!1}return at.length===Object.keys(be).length}for(Ge=0;Ge<Ue.length;Ge++){var qe=Ue[Ge];if(!$(Ee[qe],be[qe],Ce,He))return!1}return!0}function Oe(Ee,be){return $(Ee,be,O)}function ze(Ee,be){return $(Ee,be,U)}V.exports={isDeepEqual:Oe,isDeepStrictEqual:ze}},11631:function(V,B,e){e.r(B),e.d(B,{decode:function(){return T},encode:function(){return C}});for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=typeof Uint8Array>"u"?[]:new Uint8Array(256),n=0;n<p.length;n++)L[p.charCodeAt(n)]=n;var C=function(d){var y=new Uint8Array(d),r,t=y.length,i="";for(r=0;r<t;r+=3)i+=p[y[r]>>2],i+=p[(y[r]&3)<<4|y[r+1]>>4],i+=p[(y[r+1]&15)<<2|y[r+2]>>6],i+=p[y[r+2]&63];return t%3===2?i=i.substring(0,i.length-1)+"=":t%3===1&&(i=i.substring(0,i.length-2)+"=="),i},T=function(d){var y=d.length*.75,r=d.length,t,i=0,a,h,u,s;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var m=new ArrayBuffer(y),f=new Uint8Array(m);for(t=0;t<r;t+=4)a=L[d.charCodeAt(t)],h=L[d.charCodeAt(t+1)],u=L[d.charCodeAt(t+2)],s=L[d.charCodeAt(t+3)],f[i++]=a<<2|h>>4,f[i++]=(h&15)<<4|u>>2,f[i++]=(u&3)<<6|s&63;return m}},95341:function(V,B){B.byteLength=y,B.toByteArray=t,B.fromByteArray=h;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,T=n.length;C<T;++C)e[C]=n[C],p[n.charCodeAt(C)]=C;p[45]=62,p[95]=63;function d(u){var s=u.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=u.indexOf("=");m===-1&&(m=s);var f=m===s?0:4-m%4;return[m,f]}function y(u){var s=d(u),m=s[0],f=s[1];return(m+f)*3/4-f}function r(u,s,m){return(s+m)*3/4-m}function t(u){var s,m=d(u),f=m[0],S=m[1],v=new L(r(u,f,S)),l=0,g=S>0?f-4:f,M;for(M=0;M<g;M+=4)s=p[u.charCodeAt(M)]<<18|p[u.charCodeAt(M+1)]<<12|p[u.charCodeAt(M+2)]<<6|p[u.charCodeAt(M+3)],v[l++]=s>>16&255,v[l++]=s>>8&255,v[l++]=s&255;return S===2&&(s=p[u.charCodeAt(M)]<<2|p[u.charCodeAt(M+1)]>>4,v[l++]=s&255),S===1&&(s=p[u.charCodeAt(M)]<<10|p[u.charCodeAt(M+1)]<<4|p[u.charCodeAt(M+2)]>>2,v[l++]=s>>8&255,v[l++]=s&255),v}function i(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function a(u,s,m){for(var f,S=[],v=s;v<m;v+=3)f=(u[v]<<16&16711680)+(u[v+1]<<8&65280)+(u[v+2]&255),S.push(i(f));return S.join("")}function h(u){for(var s,m=u.length,f=m%3,S=[],v=16383,l=0,g=m-f;l<g;l+=v)S.push(a(u,l,l+v>g?g:l+v));return f===1?(s=u[m-1],S.push(e[s>>2]+e[s<<4&63]+"==")):f===2&&(s=(u[m-2]<<8)+u[m-1],S.push(e[s>>10]+e[s>>4&63]+e[s<<2&63]+"=")),S.join("")}},91358:function(V){function B(T,d,y,r,t){for(var i=t+1;r<=t;){var a=r+t>>>1,h=T[a],u=y!==void 0?y(h,d):h-d;u>=0?(i=a,t=a-1):r=a+1}return i}function e(T,d,y,r,t){for(var i=t+1;r<=t;){var a=r+t>>>1,h=T[a],u=y!==void 0?y(h,d):h-d;u>0?(i=a,t=a-1):r=a+1}return i}function p(T,d,y,r,t){for(var i=r-1;r<=t;){var a=r+t>>>1,h=T[a],u=y!==void 0?y(h,d):h-d;u<0?(i=a,r=a+1):t=a-1}return i}function L(T,d,y,r,t){for(var i=r-1;r<=t;){var a=r+t>>>1,h=T[a],u=y!==void 0?y(h,d):h-d;u<=0?(i=a,r=a+1):t=a-1}return i}function n(T,d,y,r,t){for(;r<=t;){var i=r+t>>>1,a=T[i],h=y!==void 0?y(a,d):a-d;if(h===0)return i;h<=0?r=i+1:t=i-1}return-1}function C(T,d,y,r,t,i){return typeof y=="function"?i(T,d,y,r===void 0?0:r|0,t===void 0?T.length-1:t|0):i(T,d,void 0,y===void 0?0:y|0,r===void 0?T.length-1:r|0)}V.exports={ge:function(T,d,y,r,t){return C(T,d,y,r,t,B)},gt:function(T,d,y,r,t){return C(T,d,y,r,t,e)},lt:function(T,d,y,r,t){return C(T,d,y,r,t,p)},le:function(T,d,y,r,t){return C(T,d,y,r,t,L)},eq:function(T,d,y,r,t){return C(T,d,y,r,t,n)}}},13547:function(V,B){"use restrict";var e=32;B.INT_BITS=e,B.INT_MAX=2147483647,B.INT_MIN=-1<<e-1,B.sign=function(n){return(n>0)-(n<0)},B.abs=function(n){var C=n>>e-1;return(n^C)-C},B.min=function(n,C){return C^(n^C)&-(n<C)},B.max=function(n,C){return n^(n^C)&-(n<C)},B.isPow2=function(n){return!(n&n-1)&&!!n},B.log2=function(n){var C,T;return C=(n>65535)<<4,n>>>=C,T=(n>255)<<3,n>>>=T,C|=T,T=(n>15)<<2,n>>>=T,C|=T,T=(n>3)<<1,n>>>=T,C|=T,C|n>>1},B.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},B.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function p(n){var C=32;return n&=-n,n&&C--,n&65535&&(C-=16),n&16711935&&(C-=8),n&252645135&&(C-=4),n&858993459&&(C-=2),n&1431655765&&(C-=1),C}B.countTrailingZeros=p,B.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},B.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},B.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var L=new Array(256);(function(n){for(var C=0;C<256;++C){var T=C,d=C,y=7;for(T>>>=1;T;T>>>=1)d<<=1,d|=T&1,--y;n[C]=d<<y&255}})(L),B.reverse=function(n){return L[n&255]<<24|L[n>>>8&255]<<16|L[n>>>16&255]<<8|L[n>>>24&255]},B.interleave2=function(n,C){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,n|C<<1},B.deinterleave2=function(n,C){return n=n>>>C&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},B.interleave3=function(n,C,T){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,n|=C<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,n|T<<2},B.deinterleave3=function(n,C){return n=n>>>C&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},B.nextCombination=function(n){var C=n|n-1;return C+1|(~C&-~C)-1>>>p(n)+1}},44781:function(V,B,e){var p=e(53435);V.exports=n;var L=1e20;function n(d,y){y||(y={});var r=y.cutoff==null?.25:y.cutoff,t=y.radius==null?8:y.radius,i=y.channel||0,a,h,u,s,m,f,S,v,l,g,M;if(ArrayBuffer.isView(d)||Array.isArray(d)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");a=y.width,h=y.height,s=d,y.stride?f=y.stride:f=Math.floor(d.length/a/h)}else window.HTMLCanvasElement&&d instanceof window.HTMLCanvasElement?(v=d,S=v.getContext("2d"),a=v.width,h=v.height,l=S.getImageData(0,0,a,h),s=l.data,f=4):window.CanvasRenderingContext2D&&d instanceof window.CanvasRenderingContext2D?(v=d.canvas,S=d,a=v.width,h=v.height,l=S.getImageData(0,0,a,h),s=l.data,f=4):window.ImageData&&d instanceof window.ImageData&&(l=d,a=d.width,h=d.height,s=l.data,f=4);if(u=Math.max(a,h),window.Uint8ClampedArray&&s instanceof window.Uint8ClampedArray||window.Uint8Array&&s instanceof window.Uint8Array)for(m=s,s=Array(a*h),g=0,M=m.length;g<M;g++)s[g]=m[g*f+i]/255;else if(f!==1)throw Error("Raw data can have only 1 value per pixel");var A=Array(a*h),k=Array(a*h),w=Array(u),E=Array(u),b=Array(u+1),o=Array(u);for(g=0,M=a*h;g<M;g++){var P=s[g];A[g]=P===1?0:P===0?L:Math.pow(Math.max(0,.5-P),2),k[g]=P===1?L:P===0?0:Math.pow(Math.max(0,P-.5),2)}C(A,a,h,w,E,o,b),C(k,a,h,w,E,o,b);var x=window.Float32Array?new Float32Array(a*h):new Array(a*h);for(g=0,M=a*h;g<M;g++)x[g]=p(1-((A[g]-k[g])/t+r),0,1);return x}function C(d,y,r,t,i,a,h){for(var u=0;u<y;u++){for(var s=0;s<r;s++)t[s]=d[s*y+u];for(T(t,i,a,h,r),s=0;s<r;s++)d[s*y+u]=i[s]}for(s=0;s<r;s++){for(u=0;u<y;u++)t[u]=d[s*y+u];for(T(t,i,a,h,y),u=0;u<y;u++)d[s*y+u]=Math.sqrt(i[u])}}function T(d,y,r,t,i){r[0]=0,t[0]=-L,t[1]=+L;for(var a=1,h=0;a<i;a++){for(var u=(d[a]+a*a-(d[r[h]]+r[h]*r[h]))/(2*a-2*r[h]);u<=t[h];)h--,u=(d[a]+a*a-(d[r[h]]+r[h]*r[h]))/(2*a-2*r[h]);h++,r[h]=a,t[h]=u,t[h+1]=+L}for(a=0,h=0;a<i;a++){for(;t[h+1]<a;)h++;y[a]=(a-r[h])*(a-r[h])+d[r[h]]}}},6614:function(V,B,e){var p=e(68318),L=e(68222),n=L(p("String.prototype.indexOf"));V.exports=function(T,d){var y=p(T,!!d);return typeof y=="function"&&n(T,".prototype.")>-1?L(y):y}},68222:function(V,B,e){var p=e(77575),L=e(68318),n=L("%Function.prototype.apply%"),C=L("%Function.prototype.call%"),T=L("%Reflect.apply%",!0)||p.call(C,n),d=L("%Object.getOwnPropertyDescriptor%",!0),y=L("%Object.defineProperty%",!0),r=L("%Math.max%");if(y)try{y({},"a",{value:1})}catch{y=null}V.exports=function(a){var h=T(p,C,arguments);if(d&&y){var u=d(h,"length");u.configurable&&y(h,"length",{value:1+r(0,a.length-(arguments.length-1))})}return h};var t=function(){return T(p,n,arguments)};y?y(V.exports,"apply",{value:t}):V.exports.apply=t},53435:function(V){V.exports=B;function B(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},6475:function(V,B,e){var p=e(53435);V.exports=L,V.exports.to=L,V.exports.from=n;function L(C,T){T==null&&(T=!0);var d=C[0],y=C[1],r=C[2],t=C[3];t==null&&(t=T?1:255),T&&(d*=255,y*=255,r*=255,t*=255),d=p(d,0,255)&255,y=p(y,0,255)&255,r=p(r,0,255)&255,t=p(t,0,255)&255;var i=d*16777216+(y<<16)+(r<<8)+t;return i}function n(C,T){C=+C;var d=C>>>24,y=(C&16711680)>>>16,r=(C&65280)>>>8,t=C&255;return T===!1?[d,y,r,t]:[d/255,y/255,r/255,t/255]}},76857:function(V){V.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(V,B,e){var p=e(36652),L=e(53435),n=e(90660);V.exports=function(d,y){(y==="float"||!y)&&(y="array"),y==="uint"&&(y="uint8"),y==="uint_clamped"&&(y="uint8_clamped");var r=n(y),t=new r(4),i=y!=="uint8"&&y!=="uint8_clamped";return(!d.length||typeof d=="string")&&(d=p(d),d[0]/=255,d[1]/=255,d[2]/=255),C(d)?(t[0]=d[0],t[1]=d[1],t[2]=d[2],t[3]=d[3]!=null?d[3]:255,i&&(t[0]/=255,t[1]/=255,t[2]/=255,t[3]/=255),t):(i?(t[0]=d[0],t[1]=d[1],t[2]=d[2],t[3]=d[3]!=null?d[3]:1):(t[0]=L(Math.floor(d[0]*255),0,255),t[1]=L(Math.floor(d[1]*255),0,255),t[2]=L(Math.floor(d[2]*255),0,255),t[3]=d[3]==null?255:L(Math.floor(d[3]*255),0,255)),t)};function C(T){return!!(T instanceof Uint8Array||T instanceof Uint8ClampedArray||Array.isArray(T)&&(T[0]>1||T[0]===0)&&(T[1]>1||T[1]===0)&&(T[2]>1||T[2]===0)&&(!T[3]||T[3]>1))}},90736:function(V,B,e){var p=e(76857),L=e(10973),n=e(46775);V.exports=T;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function T(d){var y,r=[],t=1,i;if(typeof d=="string")if(p[d])r=p[d].slice(),i="rgb";else if(d==="transparent")t=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(d)){var a=d.slice(1),h=a.length,u=h<=4;t=1,u?(r=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],h===4&&(t=parseInt(a[3]+a[3],16)/255)):(r=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],h===8&&(t=parseInt(a[6]+a[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(y=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(d)){var s=y[1],m=s==="rgb",a=s.replace(/a$/,"");i=a;var h=a==="cmyk"?4:a==="gray"?1:3;r=y[2].trim().split(/\s*,\s*/).map(function(l,g){if(/%$/.test(l))return g===h?parseFloat(l)/100:a==="rgb"?parseFloat(l)*255/100:parseFloat(l);if(a[g]==="h"){if(/deg$/.test(l))return parseFloat(l);if(C[l]!==void 0)return C[l]}return parseFloat(l)}),s===a&&r.push(1),t=m||r[h]===void 0?1:r[h],r=r.slice(0,h)}else d.length>10&&/[0-9](?:\s|\/)/.test(d)&&(r=d.match(/([0-9]+)/g).map(function(S){return parseFloat(S)}),i=d.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(d))i="rgb",r=[d>>>16,(d&65280)>>>8,d&255];else if(L(d)){var f=n(d.r,d.red,d.R,null);f!==null?(i="rgb",r=[f,n(d.g,d.green,d.G),n(d.b,d.blue,d.B)]):(i="hsl",r=[n(d.h,d.hue,d.H),n(d.s,d.saturation,d.S),n(d.l,d.lightness,d.L,d.b,d.brightness)]),t=n(d.a,d.alpha,d.opacity,1),d.opacity!=null&&(t/=100)}else(Array.isArray(d)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(d))&&(r=[d[0],d[1],d[2]],i="rgb",t=d.length===4?d[3]:1);return{space:i,values:r,alpha:t}}},36652:function(V,B,e){var p=e(90736),L=e(80009),n=e(53435);V.exports=function(T){var d,y=p(T);return y.space?(d=Array(3),d[0]=n(y.values[0],0,255),d[1]=n(y.values[1],0,255),d[2]=n(y.values[2],0,255),y.space[0]==="h"&&(d=L.rgb(d)),d.push(n(y.alpha,0,1)),d):[]}},80009:function(V,B,e){var p=e(6866);V.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var n=L[0]/360,C=L[1]/100,T=L[2]/100,d,y,r,t,i;if(C===0)return i=T*255,[i,i,i];T<.5?y=T*(1+C):y=T+C-T*C,d=2*T-y,t=[0,0,0];for(var a=0;a<3;a++)r=n+.3333333333333333*-(a-1),r<0?r++:r>1&&r--,6*r<1?i=d+(y-d)*6*r:2*r<1?i=y:3*r<2?i=d+(y-d)*(.6666666666666666-r)*6:i=d,t[a]=i*255;return t}},p.hsl=function(L){var n=L[0]/255,C=L[1]/255,T=L[2]/255,d=Math.min(n,C,T),y=Math.max(n,C,T),r=y-d,t,i,a;return y===d?t=0:n===y?t=(C-T)/r:C===y?t=2+(T-n)/r:T===y&&(t=4+(n-C)/r),t=Math.min(t*60,360),t<0&&(t+=360),a=(d+y)/2,y===d?i=0:a<=.5?i=r/(y+d):i=r/(2-y-d),[t,i*100,a*100]}},6866:function(V){V.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(V){V.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(V,B,e){V.exports={parse:e(41004),stringify:e(53313)}},63625:function(V,B,e){var p=e(40402);V.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||p.indexOf(n)!==-1}}},41004:function(V,B,e){var p=e(90448),L=e(38732),n=e(41901),C=e(15659),T=e(96209),d=e(83794),y=e(99011),r=e(63625).isSize;V.exports=i;var t=i.cache={};function i(h){if(typeof h!="string")throw new Error("Font argument must be a string.");if(t[h])return t[h];if(h==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(h)!==-1)return t[h]={system:h};for(var u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},s=y(h,/\s+/),m;m=s.shift();){if(L.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(S){u[S]=m}),t[h]=u;if(T.indexOf(m)!==-1){u.style=m;continue}if(m==="normal"||m==="small-caps"){u.variant=m;continue}if(d.indexOf(m)!==-1){u.stretch=m;continue}if(C.indexOf(m)!==-1){u.weight=m;continue}if(r(m)){var f=y(m,"/");if(u.size=f[0],f[1]!=null?u.lineHeight=a(f[1]):s[0]==="/"&&(s.shift(),u.lineHeight=a(s.shift())),!s.length)throw new Error("Missing required font-family.");return u.family=y(s.join(" "),/\s*,\s*/).map(p),t[h]=u}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function a(h){var u=parseFloat(h);return u.toString()===h?u:h}},53313:function(V,B,e){var p=e(71299),L=e(63625).isSize,n=h(e(38732)),C=h(e(41901)),T=h(e(15659)),d=h(e(96209)),y=h(e(83794)),r={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},i={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};V.exports=function(s){if(s=p(s,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),s.system)return s.system&&a(s.system,C),s.system;if(a(s.style,d),a(s.variant,r),a(s.weight,T),a(s.stretch,y),s.size==null&&(s.size=i.size),typeof s.size=="number"&&(s.size+="px"),!L)throw Error("Bad size value `"+s.size+"`");s.family||(s.family=i.family),Array.isArray(s.family)&&(s.family.length||(s.family=[i.family]),s.family=s.family.map(function(f){return t[f]?f:'"'+f+'"'}).join(", "));var m=[];return m.push(s.style),s.variant!==s.style&&m.push(s.variant),s.weight!==s.variant&&s.weight!==s.style&&m.push(s.weight),s.stretch!==s.weight&&s.stretch!==s.variant&&s.stretch!==s.style&&m.push(s.stretch),m.push(s.size+(s.lineHeight==null||s.lineHeight==="normal"||s.lineHeight+""=="1"?"":"/"+s.lineHeight)),m.push(s.family),m.filter(Boolean).join(" ")};function a(u,s){if(u&&!s[u]&&!n[u])throw Error("Unknown keyword `"+u+"`");return u}function h(u){for(var s={},m=0;m<u.length;m++)s[u[m]]=1;return s}},55174:function(V,B,e){var p=e(24582),L=e(10424),n=e(82527),C=e(19012),T=e(21780),d=e(16906),y=Function.prototype.bind,r=Object.defineProperty,t=Object.prototype.hasOwnProperty,i;i=function(a,h,u){var s=L(h)&&n(h.value),m;return m=C(h),delete m.writable,delete m.value,m.get=function(){return!u.overwriteDefinition&&t.call(this,a)?s:(h.value=y.call(s,u.resolveContext?u.resolveContext(this):this),r(this,a,h),this[a])},m},V.exports=function(a){var h=T(arguments[1]);return p(h.resolveContext)&&n(h.resolveContext),d(a,function(u,s){return i(s,u,h)})}},62072:function(V,B,e){var p=e(24582),L=e(84985),n=e(95879),C=e(21780),T=e(66741),d=V.exports=function(y,r){var t,i,a,h,u;return arguments.length<2||typeof y!="string"?(h=r,r=y,y=null):h=arguments[2],p(y)?(t=T.call(y,"c"),i=T.call(y,"e"),a=T.call(y,"w")):(t=a=!0,i=!1),u={value:r,configurable:t,enumerable:i,writable:a},h?n(C(h),u):u};d.gs=function(y,r,t){var i,a,h,u;return typeof y!="string"?(h=t,t=r,r=y,y=null):h=arguments[3],p(r)?L(r)?p(t)?L(t)||(h=t,t=void 0):t=void 0:(h=r,r=t=void 0):r=void 0,p(y)?(i=T.call(y,"c"),a=T.call(y,"e")):(i=!0,a=!1),u={get:r,set:t,configurable:i,enumerable:a},h?n(C(h),u):u}},33064:function(V,B,e){e.d(B,{j2:function(){return p},Fp:function(){return C},J6:function(){return d},TS:function(){return y},VV:function(){return r},w6:function(){return t},Sm:function(){return i}});function p(a,h){return a<h?-1:a>h?1:a>=h?0:NaN}function L(a){return a.length===1&&(a=n(a)),{left:function(h,u,s,m){for(s==null&&(s=0),m==null&&(m=h.length);s<m;){var f=s+m>>>1;a(h[f],u)<0?s=f+1:m=f}return s},right:function(h,u,s,m){for(s==null&&(s=0),m==null&&(m=h.length);s<m;){var f=s+m>>>1;a(h[f],u)>0?m=f:s=f+1}return s}}}function n(a){return function(h,u){return p(a(h),u)}}L(p);function C(a,h){var u=a.length,s=-1,m,f;if(h==null){for(;++s<u;)if((m=a[s])!=null&&m>=m)for(f=m;++s<u;)(m=a[s])!=null&&m>f&&(f=m)}else for(;++s<u;)if((m=h(a[s],s,a))!=null&&m>=m)for(f=m;++s<u;)(m=h(a[s],s,a))!=null&&m>f&&(f=m);return f}function T(a){return a===null?NaN:+a}function d(a,h){var u=a.length,s=u,m=-1,f,S=0;if(h==null)for(;++m<u;)isNaN(f=T(a[m]))?--s:S+=f;else for(;++m<u;)isNaN(f=T(h(a[m],m,a)))?--s:S+=f;if(s)return S/s}function y(a){for(var h=a.length,u,s=-1,m=0,f,S;++s<h;)m+=a[s].length;for(f=new Array(m);--h>=0;)for(S=a[h],u=S.length;--u>=0;)f[--m]=S[u];return f}function r(a,h){var u=a.length,s=-1,m,f;if(h==null){for(;++s<u;)if((m=a[s])!=null&&m>=m)for(f=m;++s<u;)(m=a[s])!=null&&f>m&&(f=m)}else for(;++s<u;)if((m=h(a[s],s,a))!=null&&m>=m)for(f=m;++s<u;)(m=h(a[s],s,a))!=null&&f>m&&(f=m);return f}function t(a,h,u){a=+a,h=+h,u=(m=arguments.length)<2?(h=a,a=0,1):m<3?1:+u;for(var s=-1,m=Math.max(0,Math.ceil((h-a)/u))|0,f=new Array(m);++s<m;)f[s]=a+s*u;return f}function i(a,h){var u=a.length,s=-1,m,f=0;if(h==null)for(;++s<u;)(m=+a[s])&&(f+=m);else for(;++s<u;)(m=+h(a[s],s,a))&&(f+=m);return f}},15140:function(V,B,e){e.d(B,{UI:function(){return C},b1:function(){return T}});var p="$";function L(){}L.prototype=n.prototype={constructor:L,has:function(h){return p+h in this},get:function(h){return this[p+h]},set:function(h,u){return this[p+h]=u,this},remove:function(h){var u=p+h;return u in this&&delete this[u]},clear:function(){for(var h in this)h[0]===p&&delete this[h]},keys:function(){var h=[];for(var u in this)u[0]===p&&h.push(u.slice(1));return h},values:function(){var h=[];for(var u in this)u[0]===p&&h.push(this[u]);return h},entries:function(){var h=[];for(var u in this)u[0]===p&&h.push({key:u.slice(1),value:this[u]});return h},size:function(){var h=0;for(var u in this)u[0]===p&&++h;return h},empty:function(){for(var h in this)if(h[0]===p)return!1;return!0},each:function(h){for(var u in this)u[0]===p&&h(this[u],u.slice(1),this)}};function n(h,u){var s=new L;if(h instanceof L)h.each(function(l,g){s.set(g,l)});else if(Array.isArray(h)){var m=-1,f=h.length,S;if(u==null)for(;++m<f;)s.set(m,h[m]);else for(;++m<f;)s.set(u(S=h[m],m,h),S)}else if(h)for(var v in h)s.set(v,h[v]);return s}var C=n;function T(){var h=[],u=[],s,m,f;function S(l,g,M,A){if(g>=h.length)return s!=null&&l.sort(s),m!=null?m(l):l;for(var k=-1,w=l.length,E=h[g++],b,o,P=C(),x,z=M();++k<w;)(x=P.get(b=E(o=l[k])+""))?x.push(o):P.set(b,[o]);return P.each(function(_,G){A(z,G,S(_,g,M,A))}),z}function v(l,g){if(++g>h.length)return l;var M,A=u[g-1];return m!=null&&g>=h.length?M=l.entries():(M=[],l.each(function(k,w){M.push({key:w,values:v(k,g)})})),A!=null?M.sort(function(k,w){return A(k.key,w.key)}):M}return f={object:function(l){return S(l,0,d,y)},map:function(l){return S(l,0,r,t)},entries:function(l){return v(S(l,0,r,t),0)},key:function(l){return h.push(l),f},sortKeys:function(l){return u[h.length-1]=l,f},sortValues:function(l){return s=l,f},rollup:function(l){return m=l,f}}}function d(){return{}}function y(h,u,s){h[u]=s}function r(){return C()}function t(h,u,s){h.set(u,s)}function i(){}var a=C.prototype;i.prototype={constructor:i,has:a.has,add:function(h){return h+="",this[p+h]=h,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49887:function(V,B,e){e.r(B),e.d(B,{forceCenter:function(){return p},forceCollide:function(){return P},forceLink:function(){return G},forceManyBody:function(){return Ge},forceRadial:function(){return at},forceSimulation:function(){return Ie},forceX:function(){return lt},forceY:function(){return qe}});function p(et,ft){var dt;et==null&&(et=0),ft==null&&(ft=0);function pt(){var At,Pt=dt.length,Ht,Je=0,We=0;for(At=0;At<Pt;++At)Ht=dt[At],Je+=Ht.x,We+=Ht.y;for(Je=Je/Pt-et,We=We/Pt-ft,At=0;At<Pt;++At)Ht=dt[At],Ht.x-=Je,Ht.y-=We}return pt.initialize=function(At){dt=At},pt.x=function(At){return arguments.length?(et=+At,pt):et},pt.y=function(At){return arguments.length?(ft=+At,pt):ft},pt}function L(et){return function(){return et}}function n(){return(Math.random()-.5)*1e-6}function C(et){var ft=+this._x.call(null,et),dt=+this._y.call(null,et);return T(this.cover(ft,dt),ft,dt,et)}function T(et,ft,dt,pt){if(isNaN(ft)||isNaN(dt))return et;var At,Pt=et._root,Ht={data:pt},Je=et._x0,We=et._y0,_e=et._x1,Ne=et._y1,ke,we,me,Me,Se,Ve,Ze,tt;if(!Pt)return et._root=Ht,et;for(;Pt.length;)if((Se=ft>=(ke=(Je+_e)/2))?Je=ke:_e=ke,(Ve=dt>=(we=(We+Ne)/2))?We=we:Ne=we,At=Pt,!(Pt=Pt[Ze=Ve<<1|Se]))return At[Ze]=Ht,et;if(me=+et._x.call(null,Pt.data),Me=+et._y.call(null,Pt.data),ft===me&&dt===Me)return Ht.next=Pt,At?At[Ze]=Ht:et._root=Ht,et;do At=At?At[Ze]=new Array(4):et._root=new Array(4),(Se=ft>=(ke=(Je+_e)/2))?Je=ke:_e=ke,(Ve=dt>=(we=(We+Ne)/2))?We=we:Ne=we;while((Ze=Ve<<1|Se)===(tt=(Me>=we)<<1|me>=ke));return At[tt]=Pt,At[Ze]=Ht,et}function d(et){var ft,dt,pt=et.length,At,Pt,Ht=new Array(pt),Je=new Array(pt),We=1/0,_e=1/0,Ne=-1/0,ke=-1/0;for(dt=0;dt<pt;++dt)isNaN(At=+this._x.call(null,ft=et[dt]))||isNaN(Pt=+this._y.call(null,ft))||(Ht[dt]=At,Je[dt]=Pt,At<We&&(We=At),At>Ne&&(Ne=At),Pt<_e&&(_e=Pt),Pt>ke&&(ke=Pt));if(We>Ne||_e>ke)return this;for(this.cover(We,_e).cover(Ne,ke),dt=0;dt<pt;++dt)T(this,Ht[dt],Je[dt],et[dt]);return this}function y(et,ft){if(isNaN(et=+et)||isNaN(ft=+ft))return this;var dt=this._x0,pt=this._y0,At=this._x1,Pt=this._y1;if(isNaN(dt))At=(dt=Math.floor(et))+1,Pt=(pt=Math.floor(ft))+1;else{for(var Ht=At-dt,Je=this._root,We,_e;dt>et||et>=At||pt>ft||ft>=Pt;)switch(_e=(ft<pt)<<1|et<dt,We=new Array(4),We[_e]=Je,Je=We,Ht*=2,_e){case 0:At=dt+Ht,Pt=pt+Ht;break;case 1:dt=At-Ht,Pt=pt+Ht;break;case 2:At=dt+Ht,pt=Pt-Ht;break;case 3:dt=At-Ht,pt=Pt-Ht;break}this._root&&this._root.length&&(this._root=Je)}return this._x0=dt,this._y0=pt,this._x1=At,this._y1=Pt,this}function r(){var et=[];return this.visit(function(ft){if(!ft.length)do et.push(ft.data);while(ft=ft.next)}),et}function t(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function i(et,ft,dt,pt,At){this.node=et,this.x0=ft,this.y0=dt,this.x1=pt,this.y1=At}function a(et,ft,dt){var pt,At=this._x0,Pt=this._y0,Ht,Je,We,_e,Ne=this._x1,ke=this._y1,we=[],me=this._root,Me,Se;for(me&&we.push(new i(me,At,Pt,Ne,ke)),dt==null?dt=1/0:(At=et-dt,Pt=ft-dt,Ne=et+dt,ke=ft+dt,dt*=dt);Me=we.pop();)if(!(!(me=Me.node)||(Ht=Me.x0)>Ne||(Je=Me.y0)>ke||(We=Me.x1)<At||(_e=Me.y1)<Pt))if(me.length){var Ve=(Ht+We)/2,Ze=(Je+_e)/2;we.push(new i(me[3],Ve,Ze,We,_e),new i(me[2],Ht,Ze,Ve,_e),new i(me[1],Ve,Je,We,Ze),new i(me[0],Ht,Je,Ve,Ze)),(Se=(ft>=Ze)<<1|et>=Ve)&&(Me=we[we.length-1],we[we.length-1]=we[we.length-1-Se],we[we.length-1-Se]=Me)}else{var tt=et-+this._x.call(null,me.data),ct=ft-+this._y.call(null,me.data),gt=tt*tt+ct*ct;if(gt<dt){var jt=Math.sqrt(dt=gt);At=et-jt,Pt=ft-jt,Ne=et+jt,ke=ft+jt,pt=me.data}}return pt}function h(et){if(isNaN(Ne=+this._x.call(null,et))||isNaN(ke=+this._y.call(null,et)))return this;var ft,dt=this._root,pt,At,Pt,Ht=this._x0,Je=this._y0,We=this._x1,_e=this._y1,Ne,ke,we,me,Me,Se,Ve,Ze;if(!dt)return this;if(dt.length)for(;;){if((Me=Ne>=(we=(Ht+We)/2))?Ht=we:We=we,(Se=ke>=(me=(Je+_e)/2))?Je=me:_e=me,ft=dt,!(dt=dt[Ve=Se<<1|Me]))return this;if(!dt.length)break;(ft[Ve+1&3]||ft[Ve+2&3]||ft[Ve+3&3])&&(pt=ft,Ze=Ve)}for(;dt.data!==et;)if(At=dt,!(dt=dt.next))return this;return(Pt=dt.next)&&delete dt.next,At?(Pt?At.next=Pt:delete At.next,this):ft?(Pt?ft[Ve]=Pt:delete ft[Ve],(dt=ft[0]||ft[1]||ft[2]||ft[3])&&dt===(ft[3]||ft[2]||ft[1]||ft[0])&&!dt.length&&(pt?pt[Ze]=dt:this._root=dt),this):(this._root=Pt,this)}function u(et){for(var ft=0,dt=et.length;ft<dt;++ft)this.remove(et[ft]);return this}function s(){return this._root}function m(){var et=0;return this.visit(function(ft){if(!ft.length)do++et;while(ft=ft.next)}),et}function f(et){var ft=[],dt,pt=this._root,At,Pt,Ht,Je,We;for(pt&&ft.push(new i(pt,this._x0,this._y0,this._x1,this._y1));dt=ft.pop();)if(!et(pt=dt.node,Pt=dt.x0,Ht=dt.y0,Je=dt.x1,We=dt.y1)&&pt.length){var _e=(Pt+Je)/2,Ne=(Ht+We)/2;(At=pt[3])&&ft.push(new i(At,_e,Ne,Je,We)),(At=pt[2])&&ft.push(new i(At,Pt,Ne,_e,We)),(At=pt[1])&&ft.push(new i(At,_e,Ht,Je,Ne)),(At=pt[0])&&ft.push(new i(At,Pt,Ht,_e,Ne))}return this}function S(et){var ft=[],dt=[],pt;for(this._root&&ft.push(new i(this._root,this._x0,this._y0,this._x1,this._y1));pt=ft.pop();){var At=pt.node;if(At.length){var Pt,Ht=pt.x0,Je=pt.y0,We=pt.x1,_e=pt.y1,Ne=(Ht+We)/2,ke=(Je+_e)/2;(Pt=At[0])&&ft.push(new i(Pt,Ht,Je,Ne,ke)),(Pt=At[1])&&ft.push(new i(Pt,Ne,Je,We,ke)),(Pt=At[2])&&ft.push(new i(Pt,Ht,ke,Ne,_e)),(Pt=At[3])&&ft.push(new i(Pt,Ne,ke,We,_e))}dt.push(pt)}for(;pt=dt.pop();)et(pt.node,pt.x0,pt.y0,pt.x1,pt.y1);return this}function v(et){return et[0]}function l(et){return arguments.length?(this._x=et,this):this._x}function g(et){return et[1]}function M(et){return arguments.length?(this._y=et,this):this._y}function A(et,ft,dt){var pt=new k(ft??v,dt??g,NaN,NaN,NaN,NaN);return et==null?pt:pt.addAll(et)}function k(et,ft,dt,pt,At,Pt){this._x=et,this._y=ft,this._x0=dt,this._y0=pt,this._x1=At,this._y1=Pt,this._root=void 0}function w(et){for(var ft={data:et.data},dt=ft;et=et.next;)dt=dt.next={data:et.data};return ft}var E=A.prototype=k.prototype;E.copy=function(){var et=new k(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ft=this._root,dt,pt;if(!ft)return et;if(!ft.length)return et._root=w(ft),et;for(dt=[{source:ft,target:et._root=new Array(4)}];ft=dt.pop();)for(var At=0;At<4;++At)(pt=ft.source[At])&&(pt.length?dt.push({source:pt,target:ft.target[At]=new Array(4)}):ft.target[At]=w(pt));return et},E.add=C,E.addAll=d,E.cover=y,E.data=r,E.extent=t,E.find=a,E.remove=h,E.removeAll=u,E.root=s,E.size=m,E.visit=f,E.visitAfter=S,E.x=l,E.y=M;function b(et){return et.x+et.vx}function o(et){return et.y+et.vy}function P(et){var ft,dt,pt=1,At=1;typeof et!="function"&&(et=L(et==null?1:+et));function Pt(){for(var We,_e=ft.length,Ne,ke,we,me,Me,Se,Ve=0;Ve<At;++Ve)for(Ne=A(ft,b,o).visitAfter(Ht),We=0;We<_e;++We)ke=ft[We],Me=dt[ke.index],Se=Me*Me,we=ke.x+ke.vx,me=ke.y+ke.vy,Ne.visit(Ze);function Ze(tt,ct,gt,jt,Kt){var Tt=tt.data,zt=tt.r,qt=Me+zt;if(Tt){if(Tt.index>ke.index){var Sr=we-Tt.x-Tt.vx,yt=me-Tt.y-Tt.vy,Zt=Sr*Sr+yt*yt;Zt<qt*qt&&(Sr===0&&(Sr=n(),Zt+=Sr*Sr),yt===0&&(yt=n(),Zt+=yt*yt),Zt=(qt-(Zt=Math.sqrt(Zt)))/Zt*pt,ke.vx+=(Sr*=Zt)*(qt=(zt*=zt)/(Se+zt)),ke.vy+=(yt*=Zt)*qt,Tt.vx-=Sr*(qt=1-qt),Tt.vy-=yt*qt)}return}return ct>we+qt||jt<we-qt||gt>me+qt||Kt<me-qt}}function Ht(We){if(We.data)return We.r=dt[We.data.index];for(var _e=We.r=0;_e<4;++_e)We[_e]&&We[_e].r>We.r&&(We.r=We[_e].r)}function Je(){if(ft){var We,_e=ft.length,Ne;for(dt=new Array(_e),We=0;We<_e;++We)Ne=ft[We],dt[Ne.index]=+et(Ne,We,ft)}}return Pt.initialize=function(We){ft=We,Je()},Pt.iterations=function(We){return arguments.length?(At=+We,Pt):At},Pt.strength=function(We){return arguments.length?(pt=+We,Pt):pt},Pt.radius=function(We){return arguments.length?(et=typeof We=="function"?We:L(+We),Je(),Pt):et},Pt}var x=e(15140);function z(et){return et.index}function _(et,ft){var dt=et.get(ft);if(!dt)throw new Error("missing: "+ft);return dt}function G(et){var ft=z,dt=Ne,pt,At=L(30),Pt,Ht,Je,We,_e=1;et==null&&(et=[]);function Ne(Se){return 1/Math.min(Je[Se.source.index],Je[Se.target.index])}function ke(Se){for(var Ve=0,Ze=et.length;Ve<_e;++Ve)for(var tt=0,ct,gt,jt,Kt,Tt,zt,qt;tt<Ze;++tt)ct=et[tt],gt=ct.source,jt=ct.target,Kt=jt.x+jt.vx-gt.x-gt.vx||n(),Tt=jt.y+jt.vy-gt.y-gt.vy||n(),zt=Math.sqrt(Kt*Kt+Tt*Tt),zt=(zt-Pt[tt])/zt*Se*pt[tt],Kt*=zt,Tt*=zt,jt.vx-=Kt*(qt=We[tt]),jt.vy-=Tt*qt,gt.vx+=Kt*(qt=1-qt),gt.vy+=Tt*qt}function we(){if(Ht){var Se,Ve=Ht.length,Ze=et.length,tt=(0,x.UI)(Ht,ft),ct;for(Se=0,Je=new Array(Ve);Se<Ze;++Se)ct=et[Se],ct.index=Se,typeof ct.source!="object"&&(ct.source=_(tt,ct.source)),typeof ct.target!="object"&&(ct.target=_(tt,ct.target)),Je[ct.source.index]=(Je[ct.source.index]||0)+1,Je[ct.target.index]=(Je[ct.target.index]||0)+1;for(Se=0,We=new Array(Ze);Se<Ze;++Se)ct=et[Se],We[Se]=Je[ct.source.index]/(Je[ct.source.index]+Je[ct.target.index]);pt=new Array(Ze),me(),Pt=new Array(Ze),Me()}}function me(){if(Ht)for(var Se=0,Ve=et.length;Se<Ve;++Se)pt[Se]=+dt(et[Se],Se,et)}function Me(){if(Ht)for(var Se=0,Ve=et.length;Se<Ve;++Se)Pt[Se]=+At(et[Se],Se,et)}return ke.initialize=function(Se){Ht=Se,we()},ke.links=function(Se){return arguments.length?(et=Se,we(),ke):et},ke.id=function(Se){return arguments.length?(ft=Se,ke):ft},ke.iterations=function(Se){return arguments.length?(_e=+Se,ke):_e},ke.strength=function(Se){return arguments.length?(dt=typeof Se=="function"?Se:L(+Se),me(),ke):dt},ke.distance=function(Se){return arguments.length?(At=typeof Se=="function"?Se:L(+Se),Me(),ke):At},ke}var F={value:function(){}};function N(){for(var et=0,ft=arguments.length,dt={},pt;et<ft;++et){if(!(pt=arguments[et]+"")||pt in dt||/[\s.]/.test(pt))throw new Error("illegal type: "+pt);dt[pt]=[]}return new U(dt)}function U(et){this._=et}function O(et,ft){return et.trim().split(/^|\s+/).map(function(dt){var pt="",At=dt.indexOf(".");if(At>=0&&(pt=dt.slice(At+1),dt=dt.slice(0,At)),dt&&!ft.hasOwnProperty(dt))throw new Error("unknown type: "+dt);return{type:dt,name:pt}})}U.prototype=N.prototype={constructor:U,on:function(et,ft){var dt=this._,pt=O(et+"",dt),At,Pt=-1,Ht=pt.length;if(arguments.length<2){for(;++Pt<Ht;)if((At=(et=pt[Pt]).type)&&(At=H(dt[At],et.name)))return At;return}if(ft!=null&&typeof ft!="function")throw new Error("invalid callback: "+ft);for(;++Pt<Ht;)if(At=(et=pt[Pt]).type)dt[At]=Y(dt[At],et.name,ft);else if(ft==null)for(At in dt)dt[At]=Y(dt[At],et.name,null);return this},copy:function(){var et={},ft=this._;for(var dt in ft)et[dt]=ft[dt].slice();return new U(et)},call:function(et,ft){if((At=arguments.length-2)>0)for(var dt=new Array(At),pt=0,At,Pt;pt<At;++pt)dt[pt]=arguments[pt+2];if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(Pt=this._[et],pt=0,At=Pt.length;pt<At;++pt)Pt[pt].value.apply(ft,dt)},apply:function(et,ft,dt){if(!this._.hasOwnProperty(et))throw new Error("unknown type: "+et);for(var pt=this._[et],At=0,Pt=pt.length;At<Pt;++At)pt[At].value.apply(ft,dt)}};function H(et,ft){for(var dt=0,pt=et.length,At;dt<pt;++dt)if((At=et[dt]).name===ft)return At.value}function Y(et,ft,dt){for(var pt=0,At=et.length;pt<At;++pt)if(et[pt].name===ft){et[pt]=F,et=et.slice(0,pt).concat(et.slice(pt+1));break}return dt!=null&&et.push({name:ft,value:dt}),et}var q=N,ne=0,oe=0,he=0,J=1e3,Z,se,$=0,ee=0,le=0,Q=typeof performance=="object"&&performance.now?performance:Date,K=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function ue(){return ee||(K(ie),ee=Q.now()+le)}function ie(){ee=0}function ce(){this._call=this._time=this._next=null}ce.prototype=xe.prototype={constructor:ce,restart:function(et,ft,dt){if(typeof et!="function")throw new TypeError("callback is not a function");dt=(dt==null?ue():+dt)+(ft==null?0:+ft),!this._next&&se!==this&&(se?se._next=this:Z=this,se=this),this._call=et,this._time=dt,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function xe(et,ft,dt){var pt=new ce;return pt.restart(et,ft,dt),pt}function Le(){ue(),++ne;for(var et=Z,ft;et;)(ft=ee-et._time)>=0&&et._call.call(null,ft),et=et._next;--ne}function Ae(){ee=($=Q.now())+le,ne=oe=0;try{Le()}finally{ne=0,ze(),ee=0}}function Oe(){var et=Q.now(),ft=et-$;ft>J&&(le-=ft,$=et)}function ze(){for(var et,ft=Z,dt,pt=1/0;ft;)ft._call?(pt>ft._time&&(pt=ft._time),et=ft,ft=ft._next):(dt=ft._next,ft._next=null,ft=et?et._next=dt:Z=dt);se=et,Ee(pt)}function Ee(et){if(!ne){oe&&(oe=clearTimeout(oe));var ft=et-ee;ft>24?(et<1/0&&(oe=setTimeout(Ae,et-Q.now()-le)),he&&(he=clearInterval(he))):(he||($=Q.now(),he=setInterval(Oe,J)),ne=1,K(Ae))}}function be(et){return et.x}function Ce(et){return et.y}var Ue=10,He=Math.PI*(3-Math.sqrt(5));function Ie(et){var ft,dt=1,pt=.001,At=1-Math.pow(pt,1/300),Pt=0,Ht=.6,Je=(0,x.UI)(),We=xe(Ne),_e=q("tick","end");et==null&&(et=[]);function Ne(){ke(),_e.call("tick",ft),dt<pt&&(We.stop(),_e.call("end",ft))}function ke(Me){var Se,Ve=et.length,Ze;Me===void 0&&(Me=1);for(var tt=0;tt<Me;++tt)for(dt+=(Pt-dt)*At,Je.each(function(ct){ct(dt)}),Se=0;Se<Ve;++Se)Ze=et[Se],Ze.fx==null?Ze.x+=Ze.vx*=Ht:(Ze.x=Ze.fx,Ze.vx=0),Ze.fy==null?Ze.y+=Ze.vy*=Ht:(Ze.y=Ze.fy,Ze.vy=0);return ft}function we(){for(var Me=0,Se=et.length,Ve;Me<Se;++Me){if(Ve=et[Me],Ve.index=Me,Ve.fx!=null&&(Ve.x=Ve.fx),Ve.fy!=null&&(Ve.y=Ve.fy),isNaN(Ve.x)||isNaN(Ve.y)){var Ze=Ue*Math.sqrt(Me),tt=Me*He;Ve.x=Ze*Math.cos(tt),Ve.y=Ze*Math.sin(tt)}(isNaN(Ve.vx)||isNaN(Ve.vy))&&(Ve.vx=Ve.vy=0)}}function me(Me){return Me.initialize&&Me.initialize(et),Me}return we(),ft={tick:ke,restart:function(){return We.restart(Ne),ft},stop:function(){return We.stop(),ft},nodes:function(Me){return arguments.length?(et=Me,we(),Je.each(me),ft):et},alpha:function(Me){return arguments.length?(dt=+Me,ft):dt},alphaMin:function(Me){return arguments.length?(pt=+Me,ft):pt},alphaDecay:function(Me){return arguments.length?(At=+Me,ft):+At},alphaTarget:function(Me){return arguments.length?(Pt=+Me,ft):Pt},velocityDecay:function(Me){return arguments.length?(Ht=1-Me,ft):1-Ht},force:function(Me,Se){return arguments.length>1?(Se==null?Je.remove(Me):Je.set(Me,me(Se)),ft):Je.get(Me)},find:function(Me,Se,Ve){var Ze=0,tt=et.length,ct,gt,jt,Kt,Tt;for(Ve==null?Ve=1/0:Ve*=Ve,Ze=0;Ze<tt;++Ze)Kt=et[Ze],ct=Me-Kt.x,gt=Se-Kt.y,jt=ct*ct+gt*gt,jt<Ve&&(Tt=Kt,Ve=jt);return Tt},on:function(Me,Se){return arguments.length>1?(_e.on(Me,Se),ft):_e.on(Me)}}}function Ge(){var et,ft,dt,pt=L(-30),At,Pt=1,Ht=1/0,Je=.81;function We(we){var me,Me=et.length,Se=A(et,be,Ce).visitAfter(Ne);for(dt=we,me=0;me<Me;++me)ft=et[me],Se.visit(ke)}function _e(){if(et){var we,me=et.length,Me;for(At=new Array(me),we=0;we<me;++we)Me=et[we],At[Me.index]=+pt(Me,we,et)}}function Ne(we){var me=0,Me,Se,Ve=0,Ze,tt,ct;if(we.length){for(Ze=tt=ct=0;ct<4;++ct)(Me=we[ct])&&(Se=Math.abs(Me.value))&&(me+=Me.value,Ve+=Se,Ze+=Se*Me.x,tt+=Se*Me.y);we.x=Ze/Ve,we.y=tt/Ve}else{Me=we,Me.x=Me.data.x,Me.y=Me.data.y;do me+=At[Me.data.index];while(Me=Me.next)}we.value=me}function ke(we,me,Me,Se){if(!we.value)return!0;var Ve=we.x-ft.x,Ze=we.y-ft.y,tt=Se-me,ct=Ve*Ve+Ze*Ze;if(tt*tt/Je<ct)return ct<Ht&&(Ve===0&&(Ve=n(),ct+=Ve*Ve),Ze===0&&(Ze=n(),ct+=Ze*Ze),ct<Pt&&(ct=Math.sqrt(Pt*ct)),ft.vx+=Ve*we.value*dt/ct,ft.vy+=Ze*we.value*dt/ct),!0;if(we.length||ct>=Ht)return;(we.data!==ft||we.next)&&(Ve===0&&(Ve=n(),ct+=Ve*Ve),Ze===0&&(Ze=n(),ct+=Ze*Ze),ct<Pt&&(ct=Math.sqrt(Pt*ct)));do we.data!==ft&&(tt=At[we.data.index]*dt/ct,ft.vx+=Ve*tt,ft.vy+=Ze*tt);while(we=we.next)}return We.initialize=function(we){et=we,_e()},We.strength=function(we){return arguments.length?(pt=typeof we=="function"?we:L(+we),_e(),We):pt},We.distanceMin=function(we){return arguments.length?(Pt=we*we,We):Math.sqrt(Pt)},We.distanceMax=function(we){return arguments.length?(Ht=we*we,We):Math.sqrt(Ht)},We.theta=function(we){return arguments.length?(Je=we*we,We):Math.sqrt(Je)},We}function at(et,ft,dt){var pt,At=L(.1),Pt,Ht;typeof et!="function"&&(et=L(+et)),ft==null&&(ft=0),dt==null&&(dt=0);function Je(_e){for(var Ne=0,ke=pt.length;Ne<ke;++Ne){var we=pt[Ne],me=we.x-ft||1e-6,Me=we.y-dt||1e-6,Se=Math.sqrt(me*me+Me*Me),Ve=(Ht[Ne]-Se)*Pt[Ne]*_e/Se;we.vx+=me*Ve,we.vy+=Me*Ve}}function We(){if(pt){var _e,Ne=pt.length;for(Pt=new Array(Ne),Ht=new Array(Ne),_e=0;_e<Ne;++_e)Ht[_e]=+et(pt[_e],_e,pt),Pt[_e]=isNaN(Ht[_e])?0:+At(pt[_e],_e,pt)}}return Je.initialize=function(_e){pt=_e,We()},Je.strength=function(_e){return arguments.length?(At=typeof _e=="function"?_e:L(+_e),We(),Je):At},Je.radius=function(_e){return arguments.length?(et=typeof _e=="function"?_e:L(+_e),We(),Je):et},Je.x=function(_e){return arguments.length?(ft=+_e,Je):ft},Je.y=function(_e){return arguments.length?(dt=+_e,Je):dt},Je}function lt(et){var ft=L(.1),dt,pt,At;typeof et!="function"&&(et=L(et==null?0:+et));function Pt(Je){for(var We=0,_e=dt.length,Ne;We<_e;++We)Ne=dt[We],Ne.vx+=(At[We]-Ne.x)*pt[We]*Je}function Ht(){if(dt){var Je,We=dt.length;for(pt=new Array(We),At=new Array(We),Je=0;Je<We;++Je)pt[Je]=isNaN(At[Je]=+et(dt[Je],Je,dt))?0:+ft(dt[Je],Je,dt)}}return Pt.initialize=function(Je){dt=Je,Ht()},Pt.strength=function(Je){return arguments.length?(ft=typeof Je=="function"?Je:L(+Je),Ht(),Pt):ft},Pt.x=function(Je){return arguments.length?(et=typeof Je=="function"?Je:L(+Je),Ht(),Pt):et},Pt}function qe(et){var ft=L(.1),dt,pt,At;typeof et!="function"&&(et=L(et==null?0:+et));function Pt(Je){for(var We=0,_e=dt.length,Ne;We<_e;++We)Ne=dt[We],Ne.vy+=(At[We]-Ne.y)*pt[We]*Je}function Ht(){if(dt){var Je,We=dt.length;for(pt=new Array(We),At=new Array(We),Je=0;Je<We;++Je)pt[Je]=isNaN(At[Je]=+et(dt[Je],Je,dt))?0:+ft(dt[Je],Je,dt)}}return Pt.initialize=function(Je){dt=Je,Ht()},Pt.strength=function(Je){return arguments.length?(ft=typeof Je=="function"?Je:L(+Je),Ht(),Pt):ft},Pt.y=function(Je){return arguments.length?(et=typeof Je=="function"?Je:L(+Je),Ht(),Pt):et},Pt}},60721:function(V,B,e){e.d(B,{WU:function(){return l},FF:function(){return S}});function p(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function L(M,A){if((k=(M=A?M.toExponential(A-1):M.toExponential()).indexOf("e"))<0)return null;var k,w=M.slice(0,k);return[w.length>1?w[0]+w.slice(2):w,+M.slice(k+1)]}function n(M){return M=L(Math.abs(M)),M?M[1]:NaN}function C(M,A){return function(k,w){for(var E=k.length,b=[],o=0,P=M[0],x=0;E>0&&P>0&&(x+P+1>w&&(P=Math.max(1,w-x)),b.push(k.substring(E-=P,E+P)),!((x+=P+1)>w));)P=M[o=(o+1)%M.length];return b.reverse().join(A)}}function T(M){return function(A){return A.replace(/[0-9]/g,function(k){return M[+k]})}}var d=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y(M){if(!(A=d.exec(M)))throw new Error("invalid format: "+M);var A;return new r({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}y.prototype=r.prototype;function r(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function t(M){e:for(var A=M.length,k=1,w=-1,E;k<A;++k)switch(M[k]){case".":w=E=k;break;case"0":w===0&&(w=k),E=k;break;default:if(!+M[k])break e;w>0&&(w=0);break}return w>0?M.slice(0,w)+M.slice(E+1):M}var i;function a(M,A){var k=L(M,A);if(!k)return M+"";var w=k[0],E=k[1],b=E-(i=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,o=w.length;return b===o?w:b>o?w+new Array(b-o+1).join("0"):b>0?w.slice(0,b)+"."+w.slice(b):"0."+new Array(1-b).join("0")+L(M,Math.max(0,A+b-1))[0]}function h(M,A){var k=L(M,A);if(!k)return M+"";var w=k[0],E=k[1];return E<0?"0."+new Array(-E).join("0")+w:w.length>E+1?w.slice(0,E+1)+"."+w.slice(E+1):w+new Array(E-w.length+2).join("0")}var u={"%":function(M,A){return(M*100).toFixed(A)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:p,e:function(M,A){return M.toExponential(A)},f:function(M,A){return M.toFixed(A)},g:function(M,A){return M.toPrecision(A)},o:function(M){return Math.round(M).toString(8)},p:function(M,A){return h(M*100,A)},r:h,s:a,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function s(M){return M}var m=Array.prototype.map,f=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function S(M){var A=M.grouping===void 0||M.thousands===void 0?s:C(m.call(M.grouping,Number),M.thousands+""),k=M.currency===void 0?"":M.currency[0]+"",w=M.currency===void 0?"":M.currency[1]+"",E=M.decimal===void 0?".":M.decimal+"",b=M.numerals===void 0?s:T(m.call(M.numerals,String)),o=M.percent===void 0?"%":M.percent+"",P=M.minus===void 0?"-":M.minus+"",x=M.nan===void 0?"NaN":M.nan+"";function z(G){G=y(G);var F=G.fill,N=G.align,U=G.sign,O=G.symbol,H=G.zero,Y=G.width,q=G.comma,ne=G.precision,oe=G.trim,he=G.type;he==="n"?(q=!0,he="g"):u[he]||(ne===void 0&&(ne=12),oe=!0,he="g"),(H||F==="0"&&N==="=")&&(H=!0,F="0",N="=");var J=O==="$"?k:O==="#"&&/[boxX]/.test(he)?"0"+he.toLowerCase():"",Z=O==="$"?w:/[%p]/.test(he)?o:"",se=u[he],$=/[defgprs%]/.test(he);ne=ne===void 0?6:/[gprs]/.test(he)?Math.max(1,Math.min(21,ne)):Math.max(0,Math.min(20,ne));function ee(le){var Q=J,K=Z,ue,ie,ce;if(he==="c")K=se(le)+K,le="";else{le=+le;var xe=le<0||1/le<0;if(le=isNaN(le)?x:se(Math.abs(le),ne),oe&&(le=t(le)),xe&&+le==0&&U!=="+"&&(xe=!1),Q=(xe?U==="("?U:P:U==="-"||U==="("?"":U)+Q,K=(he==="s"?f[8+i/3]:"")+K+(xe&&U==="("?")":""),$){for(ue=-1,ie=le.length;++ue<ie;)if(ce=le.charCodeAt(ue),48>ce||ce>57){K=(ce===46?E+le.slice(ue+1):le.slice(ue))+K,le=le.slice(0,ue);break}}}q&&!H&&(le=A(le,1/0));var Le=Q.length+le.length+K.length,Ae=Le<Y?new Array(Y-Le+1).join(F):"";switch(q&&H&&(le=A(Ae+le,Ae.length?Y-K.length:1/0),Ae=""),N){case"<":le=Q+le+K+Ae;break;case"=":le=Q+Ae+le+K;break;case"^":le=Ae.slice(0,Le=Ae.length>>1)+Q+le+K+Ae.slice(Le);break;default:le=Ae+Q+le+K;break}return b(le)}return ee.toString=function(){return G+""},ee}function _(G,F){var N=z((G=y(G),G.type="f",G)),U=Math.max(-8,Math.min(8,Math.floor(n(F)/3)))*3,O=Math.pow(10,-U),H=f[8+U/3];return function(Y){return N(O*Y)+H}}return{format:z,formatPrefix:_}}var v,l;g({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function g(M){return v=S(M),l=v.format,v.formatPrefix,v}},65704:function(V,B,e){e.r(B),e.d(B,{geoAiry:function(){return H},geoAiryRaw:function(){return O},geoAitoff:function(){return q},geoAitoffRaw:function(){return Y},geoArmadillo:function(){return oe},geoArmadilloRaw:function(){return ne},geoAugust:function(){return J},geoAugustRaw:function(){return he},geoBaker:function(){return ee},geoBakerRaw:function(){return $},geoBerghaus:function(){return K},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return ze},geoBertin1953Raw:function(){return Oe},geoBoggs:function(){return at},geoBoggsRaw:function(){return Ge},geoBonne:function(){return dt},geoBonneRaw:function(){return ft},geoBottomley:function(){return At},geoBottomleyRaw:function(){return pt},geoBromley:function(){return Ht},geoBromleyRaw:function(){return Pt},geoChamberlin:function(){return Se},geoChamberlinAfrica:function(){return Me},geoChamberlinRaw:function(){return we},geoCollignon:function(){return Ze},geoCollignonRaw:function(){return Ve},geoCraig:function(){return ct},geoCraigRaw:function(){return tt},geoCraster:function(){return Kt},geoCrasterRaw:function(){return jt},geoCylindricalEqualArea:function(){return zt},geoCylindricalEqualAreaRaw:function(){return Tt},geoCylindricalStereographic:function(){return Sr},geoCylindricalStereographicRaw:function(){return qt},geoEckert1:function(){return Zt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return mr},geoEckert2Raw:function(){return Jt},geoEckert3:function(){return vt},geoEckert3Raw:function(){return sr},geoEckert4:function(){return xt},geoEckert4Raw:function(){return it},geoEckert5:function(){return Rt},geoEckert5Raw:function(){return St},geoEckert6:function(){return Ot},geoEckert6Raw:function(){return Lt},geoEisenlohr:function(){return ur},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return Ye},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return It},geoFoucautRaw:function(){return je},geoFoucautSinusoidal:function(){return Yt},geoFoucautSinusoidalRaw:function(){return Dt},geoGilbert:function(){return hr},geoGingery:function(){return Gr},geoGingeryRaw:function(){return br},geoGinzburg4:function(){return pn},geoGinzburg4Raw:function(){return Dr},geoGinzburg5:function(){return Un},geoGinzburg5Raw:function(){return nn},geoGinzburg6:function(){return Cr},geoGinzburg6Raw:function(){return Tn},geoGinzburg8:function(){return Zr},geoGinzburg8Raw:function(){return Lr},geoGinzburg9:function(){return sn},geoGinzburg9Raw:function(){return Wr},geoGringorten:function(){return sa},geoGringortenQuincuncial:function(){return Pv},geoGringortenRaw:function(){return bn},geoGuyou:function(){return mn},geoGuyouRaw:function(){return Mr},geoHammer:function(){return xe},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return Nr},geoHammerRetroazimuthalRaw:function(){return $t},geoHealpix:function(){return hn},geoHealpixRaw:function(){return gr},geoHill:function(){return Jr},geoHillRaw:function(){return Pr},geoHomolosine:function(){return Wn},geoHomolosineRaw:function(){return zn},geoHufnagel:function(){return xa},geoHufnagelRaw:function(){return Vn},geoHyperelliptical:function(){return mi},geoHyperellipticalRaw:function(){return ka},geoInterrupt:function(){return po},geoInterruptedBoggs:function(){return ic},geoInterruptedHomolosine:function(){return ni},geoInterruptedMollweide:function(){return oc},geoInterruptedMollweideHemispheres:function(){return Fo},geoInterruptedQuarticAuthalic:function(){return pl},geoInterruptedSinuMollweide:function(){return Mf},geoInterruptedSinusoidal:function(){return uu},geoKavrayskiy7:function(){return eo},geoKavrayskiy7Raw:function(){return Yi},geoLagrange:function(){return go},geoLagrangeRaw:function(){return fu},geoLarrivee:function(){return Qc},geoLarriveeRaw:function(){return es},geoLaskowski:function(){return pv},geoLaskowskiRaw:function(){return jo},geoLittrow:function(){return uo},geoLittrowRaw:function(){return zs},geoLoximuthal:function(){return dl},geoLoximuthalRaw:function(){return sc},geoMiller:function(){return lc},geoMillerRaw:function(){return Fs},geoModifiedStereographic:function(){return Bl},geoModifiedStereographicAlaska:function(){return uc},geoModifiedStereographicGs48:function(){return bv},geoModifiedStereographicGs50:function(){return wv},geoModifiedStereographicLee:function(){return th},geoModifiedStereographicMiller:function(){return eh},geoModifiedStereographicRaw:function(){return qc},geoMollweide:function(){return Ue},geoMollweideRaw:function(){return Ce},geoMtFlatPolarParabolic:function(){return rh},geoMtFlatPolarParabolicRaw:function(){return Wu},geoMtFlatPolarQuartic:function(){return Tv},geoMtFlatPolarQuarticRaw:function(){return Ks},geoMtFlatPolarSinusoidal:function(){return nh},geoMtFlatPolarSinusoidalRaw:function(){return Cf},geoNaturalEarth:function(){return ah.Z},geoNaturalEarth2:function(){return gs},geoNaturalEarth2Raw:function(){return Lf},geoNaturalEarthRaw:function(){return ah.K},geoNellHammer:function(){return Nl},geoNellHammerRaw:function(){return hu},geoNicolosi:function(){return fc},geoNicolosiRaw:function(){return Os},geoPatterson:function(){return gu},geoPattersonRaw:function(){return Rf},geoPeirceQuincuncial:function(){return fh},geoPierceQuincuncial:function(){return fh},geoPolyconic:function(){return Sv},geoPolyconicRaw:function(){return kf},geoPolyhedral:function(){return xi},geoPolyhedralButterfly:function(){return Zu},geoPolyhedralCollignon:function(){return Vl},geoPolyhedralWaterman:function(){return ml},geoProject:function(){return Cv},geoQuantize:function(){return ch},geoQuincuncial:function(){return qs},geoRectangularPolyconic:function(){return hh},geoRectangularPolyconicRaw:function(){return yc},geoRobinson:function(){return xl},geoRobinsonRaw:function(){return Ts},geoSatellite:function(){return Hl},geoSatelliteRaw:function(){return zf},geoSinuMollweide:function(){return On},geoSinuMollweideRaw:function(){return Cn},geoSinusoidal:function(){return et},geoSinusoidalRaw:function(){return qe},geoStitch:function(){return ef},geoTimes:function(){return to},geoTimesRaw:function(){return Tl},geoTwoPointAzimuthal:function(){return Bf},geoTwoPointAzimuthalRaw:function(){return xc},geoTwoPointAzimuthalUsa:function(){return Wl},geoTwoPointEquidistant:function(){return ph},geoTwoPointEquidistantRaw:function(){return tf},geoTwoPointEquidistantUsa:function(){return Rv},geoVanDerGrinten:function(){return rf},geoVanDerGrinten2:function(){return gh},geoVanDerGrinten2Raw:function(){return Mu},geoVanDerGrinten3:function(){return kv},geoVanDerGrinten3Raw:function(){return Al},geoVanDerGrinten4:function(){return nf},geoVanDerGrinten4Raw:function(){return Zo},geoVanDerGrintenRaw:function(){return Ro},geoWagner:function(){return Sl},geoWagner4:function(){return yh},geoWagner4Raw:function(){return Uf},geoWagner6:function(){return wc},geoWagner6Raw:function(){return sf},geoWagner7:function(){return bc},geoWagnerRaw:function(){return rl},geoWiechel:function(){return Tc},geoWiechelRaw:function(){return jl},geoWinkel3:function(){return mh},geoWinkel3Raw:function(){return lf}});var p=e(15002),L=Math.abs,n=Math.atan,C=Math.atan2,T=Math.cos,d=Math.exp,y=Math.floor,r=Math.log,t=Math.max,i=Math.min,a=Math.pow,h=Math.round,u=Math.sign||function($e){return $e>0?1:$e<0?-1:0},s=Math.sin,m=Math.tan,f=1e-6,S=1e-12,v=Math.PI,l=v/2,g=v/4,M=Math.SQRT1_2,A=z(2),k=z(v),w=v*2,E=180/v,b=v/180;function o($e){return $e?$e/Math.sin($e):1}function P($e){return $e>1?l:$e<-1?-l:Math.asin($e)}function x($e){return $e>1?0:$e<-1?v:Math.acos($e)}function z($e){return $e>0?Math.sqrt($e):0}function _($e){return $e=d(2*$e),($e-1)/($e+1)}function G($e){return(d($e)-d(-$e))/2}function F($e){return(d($e)+d(-$e))/2}function N($e){return r($e+z($e*$e+1))}function U($e){return r($e+z($e*$e-1))}function O($e){var nt=m($e/2),ht=2*r(T($e/2))/(nt*nt);function mt(_t,kt){var Bt=T(_t),pr=T(kt),Ar=s(kt),ir=pr*Bt,Er=-((1-ir?r((1+ir)/2)/(1-ir):-.5)+ht/(1+ir));return[Er*pr*s(_t),Er*Ar]}return mt.invert=function(_t,kt){var Bt=z(_t*_t+kt*kt),pr=-$e/2,Ar=50,ir;if(!Bt)return[0,0];do{var Er=pr/2,Fr=T(Er),Vr=s(Er),an=Vr/Fr,Sn=-r(L(Fr));pr-=ir=(2/an*Sn-ht*an-Bt)/(-Sn/(Vr*Vr)+1-ht/(2*Fr*Fr))*(Fr<0?.7:1)}while(L(ir)>f&&--Ar>0);var Dn=s(pr);return[C(_t*Dn,Bt*T(pr)),P(kt*Dn/Bt)]},mt}function H(){var $e=l,nt=(0,p.r)(O),ht=nt($e);return ht.radius=function(mt){return arguments.length?nt($e=mt*b):$e*E},ht.scale(179.976).clipAngle(147)}function Y($e,nt){var ht=T(nt),mt=o(x(ht*T($e/=2)));return[2*ht*s($e)*mt,s(nt)*mt]}Y.invert=function($e,nt){if(!($e*$e+4*nt*nt>v*v+f)){var ht=$e,mt=nt,_t=25;do{var kt=s(ht),Bt=s(ht/2),pr=T(ht/2),Ar=s(mt),ir=T(mt),Er=s(2*mt),Fr=Ar*Ar,Vr=ir*ir,an=Bt*Bt,Sn=1-Vr*pr*pr,Dn=Sn?x(ir*pr)*z(In=1/Sn):In=0,In,qn=2*Dn*ir*Bt-$e,Da=Dn*Ar-nt,Ia=In*(Vr*an+Dn*ir*pr*Fr),_a=In*(.5*kt*Er-Dn*2*Ar*Bt),Ba=In*.25*(Er*Bt-Dn*Ar*Vr*kt),Ja=In*(Fr*pr+Dn*an*ir),gi=_a*Ba-Ja*Ia;if(!gi)break;var ji=(Da*_a-qn*Ja)/gi,fe=(qn*Ba-Da*Ia)/gi;ht-=ji,mt-=fe}while((L(ji)>f||L(fe)>f)&&--_t>0);return[ht,mt]}};function q(){return(0,p.Z)(Y).scale(152.63)}function ne($e){var nt=s($e),ht=T($e),mt=$e>=0?1:-1,_t=m(mt*$e),kt=(1+nt-ht)/2;function Bt(pr,Ar){var ir=T(Ar),Er=T(pr/=2);return[(1+ir)*s(pr),(mt*Ar>-C(Er,_t)-.001?0:-mt*10)+kt+s(Ar)*ht-(1+ir)*nt*Er]}return Bt.invert=function(pr,Ar){var ir=0,Er=0,Fr=50;do{var Vr=T(ir),an=s(ir),Sn=T(Er),Dn=s(Er),In=1+Sn,qn=In*an-pr,Da=kt+Dn*ht-In*nt*Vr-Ar,Ia=In*Vr/2,_a=-an*Dn,Ba=nt*In*an/2,Ja=ht*Sn+nt*Vr*Dn,gi=_a*Ba-Ja*Ia,ji=(Da*_a-qn*Ja)/gi/2,fe=(qn*Ba-Da*Ia)/gi;L(fe)>2&&(fe/=2),ir-=ji,Er-=fe}while((L(ji)>f||L(fe)>f)&&--Fr>0);return mt*Er>-C(T(ir),_t)-.001?[ir*2,Er]:null},Bt}function oe(){var $e=20*b,nt=$e>=0?1:-1,ht=m(nt*$e),mt=(0,p.r)(ne),_t=mt($e),kt=_t.stream;return _t.parallel=function(Bt){return arguments.length?(ht=m((nt=($e=Bt*b)>=0?1:-1)*$e),mt($e)):$e*E},_t.stream=function(Bt){var pr=_t.rotate(),Ar=kt(Bt),ir=(_t.rotate([0,0]),kt(Bt)),Er=_t.precision();return _t.rotate(pr),Ar.sphere=function(){ir.polygonStart(),ir.lineStart();for(var Fr=nt*-180;nt*Fr<180;Fr+=nt*90)ir.point(Fr,nt*90);if($e)for(;nt*(Fr-=3*nt*Er)>=-180;)ir.point(Fr,nt*-C(T(Fr*b/2),ht)*E);ir.lineEnd(),ir.polygonEnd()},Ar},_t.scale(218.695).center([0,28.0974])}function he($e,nt){var ht=m(nt/2),mt=z(1-ht*ht),_t=1+mt*T($e/=2),kt=s($e)*mt/_t,Bt=ht/_t,pr=kt*kt,Ar=Bt*Bt;return[1.3333333333333333*kt*(3+pr-3*Ar),1.3333333333333333*Bt*(3+3*pr-Ar)]}he.invert=function($e,nt){if($e*=.375,nt*=.375,!$e&&L(nt)>1)return null;var ht=$e*$e,mt=nt*nt,_t=1+ht+mt,kt=z((_t-z(_t*_t-4*nt*nt))/2),Bt=P(kt)/3,pr=kt?U(L(nt/kt))/3:N(L($e))/3,Ar=T(Bt),ir=F(pr),Er=ir*ir-Ar*Ar;return[u($e)*2*C(G(pr)*Ar,.25-Er),u(nt)*2*C(ir*s(Bt),.25+Er)]};function J(){return(0,p.Z)(he).scale(66.1603)}var Z=z(8),se=r(1+A);function $($e,nt){var ht=L(nt);return ht<g?[$e,r(m(g+nt/2))]:[$e*T(ht)*(2*A-1/s(ht)),u(nt)*(2*A*(ht-g)-r(m(ht/2)))]}$.invert=function($e,nt){if((kt=L(nt))<se)return[$e,2*n(d(nt))-l];var ht=g,mt=25,_t,kt;do{var Bt=T(ht/2),pr=m(ht/2);ht-=_t=(Z*(ht-g)-r(pr)-kt)/(Z-Bt*Bt/(2*pr))}while(L(_t)>S&&--mt>0);return[$e/(T(ht)*(Z-1/s(ht))),u(nt)*ht]};function ee(){return(0,p.Z)($).scale(112.314)}var le=e(17889);function Q($e){var nt=2*v/$e;function ht(mt,_t){var kt=(0,le.N)(mt,_t);if(L(mt)>l){var Bt=C(kt[1],kt[0]),pr=z(kt[0]*kt[0]+kt[1]*kt[1]),Ar=nt*h((Bt-l)/nt)+l,ir=C(s(Bt-=Ar),2-T(Bt));Bt=Ar+P(v/pr*s(ir))-ir,kt[0]=pr*T(Bt),kt[1]=pr*s(Bt)}return kt}return ht.invert=function(mt,_t){var kt=z(mt*mt+_t*_t);if(kt>l){var Bt=C(_t,mt),pr=nt*h((Bt-l)/nt)+l,Ar=Bt>pr?-1:1,ir=kt*T(pr-Bt),Er=1/m(Ar*x((ir-v)/z(v*(v-2*ir)+kt*kt)));Bt=pr+2*n((Er+Ar*z(Er*Er-3))/3),mt=kt*T(Bt),_t=kt*s(Bt)}return le.N.invert(mt,_t)},ht}function K(){var $e=5,nt=(0,p.r)(Q),ht=nt($e),mt=ht.stream,_t=.01,kt=-T(_t*b),Bt=s(_t*b);return ht.lobes=function(pr){return arguments.length?nt($e=+pr):$e},ht.stream=function(pr){var Ar=ht.rotate(),ir=mt(pr),Er=(ht.rotate([0,0]),mt(pr));return ht.rotate(Ar),ir.sphere=function(){Er.polygonStart(),Er.lineStart();for(var Fr=0,Vr=360/$e,an=2*v/$e,Sn=90-180/$e,Dn=l;Fr<$e;++Fr,Sn-=Vr,Dn-=an)Er.point(C(Bt*T(Dn),kt)*E,P(Bt*s(Dn))*E),Sn<-90?(Er.point(-90,-180-Sn-_t),Er.point(-90,-180-Sn+_t)):(Er.point(90,Sn+_t),Er.point(90,Sn-_t));Er.lineEnd(),Er.polygonEnd()},ir},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ue=e(12956);function ie($e,nt){if(arguments.length<2&&(nt=$e),nt===1)return ue.l;if(nt===1/0)return ce;function ht(mt,_t){var kt=(0,ue.l)(mt/nt,_t);return kt[0]*=$e,kt}return ht.invert=function(mt,_t){var kt=ue.l.invert(mt/$e,_t);return kt[0]*=nt,kt},ht}function ce($e,nt){return[$e*T(nt)/T(nt/=2),2*s(nt)]}ce.invert=function($e,nt){var ht=2*P(nt/2);return[$e*T(ht/2)/T(ht),ht]};function xe(){var $e=2,nt=(0,p.r)(ie),ht=nt($e);return ht.coefficient=function(mt){return arguments.length?nt($e=+mt):$e},ht.scale(169.529)}function Le($e,nt,ht){var mt=100,_t,kt,Bt;ht=ht===void 0?0:+ht,nt=+nt;do kt=$e(ht),Bt=$e(ht+f),kt===Bt&&(Bt=kt+f),ht-=_t=-1*f*(kt-nt)/(kt-Bt);while(mt-- >0&&L(_t)>f);return mt<0?NaN:ht}function Ae($e,nt,ht){return nt===void 0&&(nt=40),ht===void 0&&(ht=S),function(mt,_t,kt,Bt){var pr,Ar,ir;kt=kt===void 0?0:+kt,Bt=Bt===void 0?0:+Bt;for(var Er=0;Er<nt;Er++){var Fr=$e(kt,Bt),Vr=Fr[0]-mt,an=Fr[1]-_t;if(L(Vr)<ht&&L(an)<ht)break;var Sn=Vr*Vr+an*an;if(Sn>pr){kt-=Ar/=2,Bt-=ir/=2;continue}pr=Sn;var Dn=(kt>0?-1:1)*ht,In=(Bt>0?-1:1)*ht,qn=$e(kt+Dn,Bt),Da=$e(kt,Bt+In),Ia=(qn[0]-Fr[0])/Dn,_a=(qn[1]-Fr[1])/Dn,Ba=(Da[0]-Fr[0])/In,Ja=(Da[1]-Fr[1])/In,gi=Ja*Ia-_a*Ba,ji=(L(gi)<.5?.5:1)/gi;if(Ar=(an*Ba-Vr*Ja)*ji,ir=(Vr*_a-an*Ia)*ji,kt+=Ar,Bt+=ir,L(Ar)<ht&&L(ir)<ht)break}return[kt,Bt]}}function Oe(){var $e=ie(1.68,2),nt=1.4,ht=12;function mt(_t,kt){if(_t+kt<-nt){var Bt=(_t-kt+1.6)*(_t+kt+nt)/8;_t+=Bt,kt-=.8*Bt*s(kt+v/2)}var pr=$e(_t,kt),Ar=(1-T(_t*kt))/ht;return pr[1]<0&&(pr[0]*=1+Ar),pr[1]>0&&(pr[1]*=1+Ar/1.5*pr[0]*pr[0]),pr}return mt.invert=Ae(mt),mt}function ze(){return(0,p.Z)(Oe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee($e,nt){var ht=$e*s(nt),mt=30,_t;do nt-=_t=(nt+s(nt)-ht)/(1+T(nt));while(L(_t)>f&&--mt>0);return nt/2}function be($e,nt,ht){function mt(_t,kt){return[$e*_t*T(kt=Ee(ht,kt)),nt*s(kt)]}return mt.invert=function(_t,kt){return kt=P(kt/nt),[_t/($e*T(kt)),P((2*kt+s(2*kt))/ht)]},mt}var Ce=be(A/l,A,v);function Ue(){return(0,p.Z)(Ce).scale(169.529)}var He=2.00276,Ie=1.11072;function Ge($e,nt){var ht=Ee(v,nt);return[He*$e/(1/T(nt)+Ie/T(ht)),(nt+A*s(ht))/He]}Ge.invert=function($e,nt){var ht=He*nt,mt=nt<0?-g:g,_t=25,kt,Bt;do Bt=ht-A*s(mt),mt-=kt=(s(2*mt)+2*mt-v*s(Bt))/(2*T(2*mt)+2+v*T(Bt)*A*T(mt));while(L(kt)>f&&--_t>0);return Bt=ht-A*s(mt),[$e*(1/T(Bt)+Ie/T(mt))/He,Bt]};function at(){return(0,p.Z)(Ge).scale(160.857)}function lt($e){var nt=0,ht=(0,p.r)($e),mt=ht(nt);return mt.parallel=function(_t){return arguments.length?ht(nt=_t*b):nt*E},mt}function qe($e,nt){return[$e*T(nt),nt]}qe.invert=function($e,nt){return[$e/T(nt),nt]};function et(){return(0,p.Z)(qe).scale(152.63)}function ft($e){if(!$e)return qe;var nt=1/m($e);function ht(mt,_t){var kt=nt+$e-_t,Bt=kt&&mt*T(_t)/kt;return[kt*s(Bt),nt-kt*T(Bt)]}return ht.invert=function(mt,_t){var kt=z(mt*mt+(_t=nt-_t)*_t),Bt=nt+$e-kt;return[kt/T(Bt)*C(mt,_t),Bt]},ht}function dt(){return lt(ft).scale(123.082).center([0,26.1441]).parallel(45)}function pt($e){function nt(ht,mt){var _t=l-mt,kt=_t&&ht*$e*s(_t)/_t;return[_t*s(kt)/$e,l-_t*T(kt)]}return nt.invert=function(ht,mt){var _t=ht*$e,kt=l-mt,Bt=z(_t*_t+kt*kt),pr=C(_t,kt);return[(Bt?Bt/s(Bt):1)*pr/$e,l-Bt]},nt}function At(){var $e=.5,nt=(0,p.r)(pt),ht=nt($e);return ht.fraction=function(mt){return arguments.length?nt($e=+mt):$e},ht.scale(158.837)}var Pt=be(1,4/v,v);function Ht(){return(0,p.Z)(Pt).scale(152.63)}var Je=e(66624),We=e(49386);function _e($e,nt,ht,mt,_t,kt){var Bt=T(kt),pr;if(L($e)>1||L(kt)>1)pr=x(ht*_t+nt*mt*Bt);else{var Ar=s($e/2),ir=s(kt/2);pr=2*P(z(Ar*Ar+nt*mt*ir*ir))}return L(pr)>f?[pr,C(mt*s(kt),nt*_t-ht*mt*Bt)]:[0,0]}function Ne($e,nt,ht){return x(($e*$e+nt*nt-ht*ht)/(2*$e*nt))}function ke($e){return $e-2*v*y(($e+v)/(2*v))}function we($e,nt,ht){for(var mt=[[$e[0],$e[1],s($e[1]),T($e[1])],[nt[0],nt[1],s(nt[1]),T(nt[1])],[ht[0],ht[1],s(ht[1]),T(ht[1])]],_t=mt[2],kt,Bt=0;Bt<3;++Bt,_t=kt)kt=mt[Bt],_t.v=_e(kt[1]-_t[1],_t[3],_t[2],kt[3],kt[2],kt[0]-_t[0]),_t.point=[0,0];var pr=Ne(mt[0].v[0],mt[2].v[0],mt[1].v[0]),Ar=Ne(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ir=v-pr;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var Er=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*T(pr),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*s(pr))];function Fr(Vr,an){var Sn=s(an),Dn=T(an),In=new Array(3),qn;for(qn=0;qn<3;++qn){var Da=mt[qn];if(In[qn]=_e(an-Da[1],Da[3],Da[2],Dn,Sn,Vr-Da[0]),!In[qn][0])return Da.point;In[qn][1]=ke(In[qn][1]-Da.v[1])}var Ia=Er.slice();for(qn=0;qn<3;++qn){var _a=qn==2?0:qn+1,Ba=Ne(mt[qn].v[0],In[qn][0],In[_a][0]);In[qn][1]<0&&(Ba=-Ba),qn?qn==1?(Ba=Ar-Ba,Ia[0]-=In[qn][0]*T(Ba),Ia[1]-=In[qn][0]*s(Ba)):(Ba=ir-Ba,Ia[0]+=In[qn][0]*T(Ba),Ia[1]+=In[qn][0]*s(Ba)):(Ia[0]+=In[qn][0]*T(Ba),Ia[1]-=In[qn][0]*s(Ba))}return Ia[0]/=3,Ia[1]/=3,Ia}return Fr}function me($e){return $e[0]*=b,$e[1]*=b,$e}function Me(){return Se([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Se($e,nt,ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:[$e,nt,ht]}),_t=[-mt[0],-mt[1]],kt=(0,We.Z)(_t),Bt=we(me(kt($e)),me(kt(nt)),me(kt(ht)));Bt.invert=Ae(Bt);var pr=(0,p.Z)(Bt).rotate(_t),Ar=pr.center;return delete pr.rotate,pr.center=function(ir){return arguments.length?Ar(kt(ir)):kt.invert(Ar())},pr.clipAngle(90)}function Ve($e,nt){var ht=z(1-s(nt));return[2/k*$e*ht,k*(1-ht)]}Ve.invert=function($e,nt){var ht=(ht=nt/k-1)*ht;return[ht>0?$e*z(v/ht)/2:0,P(1-ht)]};function Ze(){return(0,p.Z)(Ve).scale(95.6464).center([0,30])}function tt($e){var nt=m($e);function ht(mt,_t){return[mt,(mt?mt/s(mt):1)*(s(_t)*T(mt)-nt*T(_t))]}return ht.invert=nt?function(mt,_t){mt&&(_t*=s(mt)/mt);var kt=T(mt);return[mt,2*C(z(kt*kt+nt*nt-_t*_t)-kt,nt-_t)]}:function(mt,_t){return[mt,P(mt?_t*m(mt)/mt:_t)]},ht}function ct(){return lt(tt).scale(249.828).clipAngle(90)}var gt=z(3);function jt($e,nt){return[gt*$e*(2*T(2*nt/3)-1)/k,gt*k*s(nt/3)]}jt.invert=function($e,nt){var ht=3*P(nt/(gt*k));return[k*$e/(gt*(2*T(2*ht/3)-1)),ht]};function Kt(){return(0,p.Z)(jt).scale(156.19)}function Tt($e){var nt=T($e);function ht(mt,_t){return[mt*nt,s(_t)/nt]}return ht.invert=function(mt,_t){return[mt/nt,P(_t*nt)]},ht}function zt(){return lt(Tt).parallel(38.58).scale(195.044)}function qt($e){var nt=T($e);function ht(mt,_t){return[mt*nt,(1+nt)*m(_t/2)]}return ht.invert=function(mt,_t){return[mt/nt,n(_t/(1+nt))*2]},ht}function Sr(){return lt(qt).scale(124.75)}function yt($e,nt){var ht=z(8/(3*v));return[ht*$e*(1-L(nt)/v),ht*nt]}yt.invert=function($e,nt){var ht=z(8/(3*v)),mt=nt/ht;return[$e/(ht*(1-L(mt)/v)),mt]};function Zt(){return(0,p.Z)(yt).scale(165.664)}function Jt($e,nt){var ht=z(4-3*s(L(nt)));return[2/z(6*v)*$e*ht,u(nt)*z(2*v/3)*(2-ht)]}Jt.invert=function($e,nt){var ht=2-L(nt)/z(2*v/3);return[$e*z(6*v)/(2*ht),u(nt)*P((4-ht*ht)/3)]};function mr(){return(0,p.Z)(Jt).scale(165.664)}function sr($e,nt){var ht=z(v*(4+v));return[2/ht*$e*(1+z(1-4*nt*nt/(v*v))),4/ht*nt]}sr.invert=function($e,nt){var ht=z(v*(4+v))/2;return[$e*ht/(1+z(1-nt*nt*(4+v)/(4*v))),nt*ht/2]};function vt(){return(0,p.Z)(sr).scale(180.739)}function it($e,nt){var ht=(2+l)*s(nt);nt/=2;for(var mt=0,_t=1/0;mt<10&&L(_t)>f;mt++){var kt=T(nt);nt-=_t=(nt+s(nt)*(kt+2)-ht)/(2*kt*(1+kt))}return[2/z(v*(4+v))*$e*(1+T(nt)),2*z(v/(4+v))*s(nt)]}it.invert=function($e,nt){var ht=nt*z((4+v)/v)/2,mt=P(ht),_t=T(mt);return[$e/(2/z(v*(4+v))*(1+_t)),P((mt+ht*(_t+2))/(2+l))]};function xt(){return(0,p.Z)(it).scale(180.739)}function St($e,nt){return[$e*(1+T(nt))/z(2+v),2*nt/z(2+v)]}St.invert=function($e,nt){var ht=z(2+v),mt=nt*ht/2;return[ht*$e/(1+T(mt)),mt]};function Rt(){return(0,p.Z)(St).scale(173.044)}function Lt($e,nt){for(var ht=(1+l)*s(nt),mt=0,_t=1/0;mt<10&&L(_t)>f;mt++)nt-=_t=(nt+s(nt)-ht)/(1+T(nt));return ht=z(2+v),[$e*(1+T(nt))/ht,2*nt/ht]}Lt.invert=function($e,nt){var ht=1+l,mt=z(ht/2);return[$e*2*mt/(1+T(nt*=mt)),P((nt+s(nt))/ht)]};function Ot(){return(0,p.Z)(Lt).scale(173.044)}var Nt=3+2*A;function Xt($e,nt){var ht=s($e/=2),mt=T($e),_t=z(T(nt)),kt=T(nt/=2),Bt=s(nt)/(kt+A*mt*_t),pr=z(2/(1+Bt*Bt)),Ar=z((A*kt+(mt+ht)*_t)/(A*kt+(mt-ht)*_t));return[Nt*(pr*(Ar-1/Ar)-2*r(Ar)),Nt*(pr*Bt*(Ar+1/Ar)-2*n(Bt))]}Xt.invert=function($e,nt){if(!(kt=he.invert($e/1.2,nt*1.065)))return null;var ht=kt[0],mt=kt[1],_t=20,kt;$e/=Nt,nt/=Nt;do{var Bt=ht/2,pr=mt/2,Ar=s(Bt),ir=T(Bt),Er=s(pr),Fr=T(pr),Vr=T(mt),an=z(Vr),Sn=Er/(Fr+A*ir*an),Dn=Sn*Sn,In=z(2/(1+Dn)),qn=A*Fr+(ir+Ar)*an,Da=A*Fr+(ir-Ar)*an,Ia=qn/Da,_a=z(Ia),Ba=_a-1/_a,Ja=_a+1/_a,gi=In*Ba-2*r(_a)-$e,ji=In*Sn*Ja-2*n(Sn)-nt,fe=Er&&M*an*Ar*Dn/Er,Pe=(A*ir*Fr+an)/(2*(Fr+A*ir*an)*(Fr+A*ir*an)*an),Be=-.5*Sn*In*In*In,Qe=Be*fe,rt=Be*Pe,st=(st=2*Fr+A*an*(ir-Ar))*st*_a,Et=(A*ir*Fr*an+Vr)/st,bt=-(A*Ar*Er)/(an*st),Vt=Ba*Qe-2*Et/_a+In*(Et+Et/Ia),Gt=Ba*rt-2*bt/_a+In*(bt+bt/Ia),nr=Sn*Ja*Qe-2*fe/(1+Dn)+In*Ja*fe+In*Sn*(Et-Et/Ia),Rr=Sn*Ja*rt-2*Pe/(1+Dn)+In*Ja*Pe+In*Sn*(bt-bt/Ia),kr=Gt*nr-Rr*Vt;if(!kr)break;var qr=(ji*Gt-gi*Rr)/kr,ln=(gi*nr-ji*Vt)/kr;ht-=qr,mt=t(-l,i(l,mt-ln))}while((L(qr)>f||L(ln)>f)&&--_t>0);return L(L(mt)-l)<f?[0,mt]:_t&&[ht,mt]};function ur(){return(0,p.Z)(Xt).scale(62.5271)}var cr=T(35*b);function dr($e,nt){var ht=m(nt/2);return[$e*cr*z(1-ht*ht),(1+cr)*ht]}dr.invert=function($e,nt){var ht=nt/(1+cr);return[$e&&$e/(cr*z(1-ht*ht)),2*n(ht)]};function Ye(){return(0,p.Z)(dr).scale(137.152)}function je($e,nt){var ht=nt/2,mt=T(ht);return[2*$e/k*T(nt)*mt*mt,k*m(ht)]}je.invert=function($e,nt){var ht=n(nt/k),mt=T(ht),_t=2*ht;return[$e*k/2/(T(_t)*mt*mt),_t]};function It(){return(0,p.Z)(je).scale(135.264)}function Dt($e){var nt=1-$e,ht=kt(v,0)[0]-kt(-v,0)[0],mt=kt(0,l)[1]-kt(0,-l)[1],_t=z(2*mt/ht);function kt(Ar,ir){var Er=T(ir),Fr=s(ir);return[Er/(nt+$e*Er)*Ar,nt*ir+$e*Fr]}function Bt(Ar,ir){var Er=kt(Ar,ir);return[Er[0]*_t,Er[1]/_t]}function pr(Ar){return Bt(0,Ar)[1]}return Bt.invert=function(Ar,ir){var Er=Le(pr,ir),Fr=Ar/_t*($e+nt/T(Er));return[Fr,Er]},Bt}function Yt(){var $e=.5,nt=(0,p.r)(Dt),ht=nt($e);return ht.alpha=function(mt){return arguments.length?nt($e=+mt):$e},ht.scale(168.725)}var tr=e(57962),fr=e(97492);function rr($e){return[$e[0]/2,P(m($e[1]/2*b))*E]}function Ft($e){return[$e[0]*2,2*n(s($e[1]*b))*E]}function hr($e){$e==null&&($e=tr.Z);var nt=$e(),ht=(0,fr.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function mt(kt){return nt(rr(kt))}nt.invert&&(mt.invert=function(kt){return Ft(nt.invert(kt))}),mt.stream=function(kt){var Bt=nt.stream(kt),pr=ht.stream({point:function(Ar,ir){Bt.point(Ar/2,P(m(-ir/2*b))*E)},lineStart:function(){Bt.lineStart()},lineEnd:function(){Bt.lineEnd()},polygonStart:function(){Bt.polygonStart()},polygonEnd:function(){Bt.polygonEnd()}});return pr.sphere=Bt.sphere,pr};function _t(kt){mt[kt]=function(){return arguments.length?(nt[kt].apply(nt,arguments),mt):nt[kt]()}}return mt.rotate=function(kt){return arguments.length?(ht.rotate(kt),mt):ht.rotate()},mt.center=function(kt){return arguments.length?(nt.center(rr(kt)),mt):Ft(nt.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),mt.scale(249.5)}function br($e,nt){var ht=2*v/nt,mt=$e*$e;function _t(kt,Bt){var pr=(0,le.N)(kt,Bt),Ar=pr[0],ir=pr[1],Er=Ar*Ar+ir*ir;if(Er>mt){var Fr=z(Er),Vr=C(ir,Ar),an=ht*h(Vr/ht),Sn=Vr-an,Dn=$e*T(Sn),In=($e*s(Sn)-Sn*s(Dn))/(l-Dn),qn=yr(Sn,In),Da=(v-$e)/vr(qn,Dn,v);Ar=Fr;var Ia=50,_a;do Ar-=_a=($e+vr(qn,Dn,Ar)*Da-Fr)/(qn(Ar)*Da);while(L(_a)>f&&--Ia>0);ir=Sn*s(Ar),Ar<l&&(ir-=In*(Ar-l));var Ba=s(an),Ja=T(an);pr[0]=Ar*Ja-ir*Ba,pr[1]=Ar*Ba+ir*Ja}return pr}return _t.invert=function(kt,Bt){var pr=kt*kt+Bt*Bt;if(pr>mt){var Ar=z(pr),ir=C(Bt,kt),Er=ht*h(ir/ht),Fr=ir-Er;kt=Ar*T(Fr),Bt=Ar*s(Fr);for(var Vr=kt-l,an=s(kt),Sn=Bt/an,Dn=kt<l?1/0:0,In=10;;){var qn=$e*s(Sn),Da=$e*T(Sn),Ia=s(Da),_a=l-Da,Ba=(qn-Sn*Ia)/_a,Ja=yr(Sn,Ba);if(L(Dn)<S||!--In)break;Sn-=Dn=(Sn*an-Ba*Vr-Bt)/(an-Vr*2*(_a*(Da+Sn*qn*T(Da)-Ia)-qn*(qn-Sn*Ia))/(_a*_a))}Ar=$e+vr(Ja,Da,kt)*(v-$e)/vr(Ja,Da,v),ir=Er+Sn,kt=Ar*T(ir),Bt=Ar*s(ir)}return le.N.invert(kt,Bt)},_t}function yr($e,nt){return function(ht){var mt=$e*T(ht);return ht<l&&(mt-=nt),z(1+mt*mt)}}function vr($e,nt,ht){for(var mt=50,_t=(ht-nt)/mt,kt=$e(nt)+$e(ht),Bt=1,pr=nt;Bt<mt;++Bt)kt+=2*$e(pr+=_t);return kt*.5*_t}function Gr(){var $e=6,nt=30*b,ht=T(nt),mt=s(nt),_t=(0,p.r)(br),kt=_t(nt,$e),Bt=kt.stream,pr=.01,Ar=-T(pr*b),ir=s(pr*b);return kt.radius=function(Er){return arguments.length?(ht=T(nt=Er*b),mt=s(nt),_t(nt,$e)):nt*E},kt.lobes=function(Er){return arguments.length?_t(nt,$e=+Er):$e},kt.stream=function(Er){var Fr=kt.rotate(),Vr=Bt(Er),an=(kt.rotate([0,0]),Bt(Er));return kt.rotate(Fr),Vr.sphere=function(){an.polygonStart(),an.lineStart();for(var Sn=0,Dn=2*v/$e,In=0;Sn<$e;++Sn,In-=Dn)an.point(C(ir*T(In),Ar)*E,P(ir*s(In))*E),an.point(C(mt*T(In-Dn/2),ht)*E,P(mt*s(In-Dn/2))*E);an.lineEnd(),an.polygonEnd()},Vr},kt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function _r($e,nt,ht,mt,_t,kt,Bt,pr){arguments.length<8&&(pr=0);function Ar(ir,Er){if(!Er)return[$e*ir/v,0];var Fr=Er*Er,Vr=$e+Fr*(nt+Fr*(ht+Fr*mt)),an=Er*(_t-1+Fr*(kt-pr+Fr*Bt)),Sn=(Vr*Vr+an*an)/(2*an),Dn=ir*P(Vr/Sn)/v;return[Sn*s(Dn),Er*(1+Fr*pr)+Sn*(1-T(Dn))]}return Ar.invert=function(ir,Er){var Fr=v*ir/$e,Vr=Er,an,Sn,Dn=50;do{var In=Vr*Vr,qn=$e+In*(nt+In*(ht+In*mt)),Da=Vr*(_t-1+In*(kt-pr+In*Bt)),Ia=qn*qn+Da*Da,_a=2*Da,Ba=Ia/_a,Ja=Ba*Ba,gi=P(qn/Ba)/v,ji=Fr*gi,fe=qn*qn,Pe=(2*nt+In*(4*ht+In*6*mt))*Vr,Be=_t+In*(3*kt+In*5*Bt),Qe=2*(qn*Pe+Da*(Be-1)),rt=2*(Be-1),st=(Qe*_a-Ia*rt)/(_a*_a),Et=T(ji),bt=s(ji),Vt=Ba*Et,Gt=Ba*bt,nr=Fr/v*(1/z(1-fe/Ja))*(Pe*Ba-qn*st)/Ja,Rr=Gt-ir,kr=Vr*(1+In*pr)+Ba-Vt-Er,qr=st*bt+Vt*nr,ln=Vt*gi,Ir=1+st-(st*Et-Gt*nr),Hr=Gt*gi,Kr=qr*Hr-Ir*ln;if(!Kr)break;Fr-=an=(kr*qr-Rr*Ir)/Kr,Vr-=Sn=(Rr*Hr-kr*ln)/Kr}while((L(an)>f||L(Sn)>f)&&--Dn>0);return[Fr,Vr]},Ar}var Dr=_r(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function pn(){return(0,p.Z)(Dr).scale(149.995)}var nn=_r(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Un(){return(0,p.Z)(nn).scale(153.93)}var Tn=_r(5/6*v,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Cr(){return(0,p.Z)(Tn).scale(130.945)}function Lr($e,nt){var ht=$e*$e,mt=nt*nt;return[$e*(1-.162388*mt)*(.87-952426e-9*ht*ht),nt*(1+mt/12)]}Lr.invert=function($e,nt){var ht=$e,mt=nt,_t=50,kt;do{var Bt=mt*mt;mt-=kt=(mt*(1+Bt/12)-nt)/(1+Bt/4)}while(L(kt)>f&&--_t>0);_t=50,$e/=1-.162388*Bt;do{var pr=(pr=ht*ht)*pr;ht-=kt=(ht*(.87-952426e-9*pr)-$e)/(.87-.00476213*pr)}while(L(kt)>f&&--_t>0);return[ht,mt]};function Zr(){return(0,p.Z)(Lr).scale(131.747)}var Wr=_r(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function sn(){return(0,p.Z)(Wr).scale(131.087)}function yn($e){var nt=$e(l,0)[0]-$e(-l,0)[0];function ht(mt,_t){var kt=mt>0?-.5:.5,Bt=$e(mt+kt*v,_t);return Bt[0]-=kt*nt,Bt}return $e.invert&&(ht.invert=function(mt,_t){var kt=mt>0?-.5:.5,Bt=$e.invert(mt+kt*nt,_t),pr=Bt[0]-kt*v;return pr<-v?pr+=2*v:pr>v&&(pr-=2*v),Bt[0]=pr,Bt}),ht}function bn($e,nt){var ht=u($e),mt=u(nt),_t=T(nt),kt=T($e)*_t,Bt=s($e)*_t,pr=s(mt*nt);$e=L(C(Bt,pr)),nt=P(kt),L($e-l)>f&&($e%=l);var Ar=Pn($e>v/4?l-$e:$e,nt);return $e>v/4&&(pr=Ar[0],Ar[0]=-Ar[1],Ar[1]=-pr),Ar[0]*=ht,Ar[1]*=-mt,Ar}bn.invert=function($e,nt){L($e)>1&&($e=u($e)*2-$e),L(nt)>1&&(nt=u(nt)*2-nt);var ht=u($e),mt=u(nt),_t=-ht*$e,kt=-mt*nt,Bt=kt/_t<1,pr=Bn(Bt?kt:_t,Bt?_t:kt),Ar=pr[0],ir=pr[1],Er=T(ir);return Bt&&(Ar=-l-Ar),[ht*(C(s(Ar)*Er,-s(ir))+v),mt*P(T(Ar)*Er)]};function Pn($e,nt){if(nt===l)return[0,0];var ht=s(nt),mt=ht*ht,_t=mt*mt,kt=1+_t,Bt=1+3*_t,pr=1-_t,Ar=P(1/z(kt)),ir=pr+mt*kt*Ar,Er=(1-ht)/ir,Fr=z(Er),Vr=Er*kt,an=z(Vr),Sn=Fr*pr,Dn,In;if($e===0)return[0,-(Sn+mt*an)];var qn=T(nt),Da=1/qn,Ia=2*ht*qn,_a=(-3*mt+Ar*Bt)*Ia,Ba=(-ir*qn-(1-ht)*_a)/(ir*ir),Ja=.5*Ba/Fr,gi=pr*Ja-2*mt*Fr*Ia,ji=mt*kt*Ba+Er*Bt*Ia,fe=-Da*Ia,Pe=-Da*ji,Be=-2*Da*gi,Qe=4*$e/v,rt;if($e>.222*v||nt<v/4&&$e>.175*v){if(Dn=(Sn+mt*z(Vr*(1+_t)-Sn*Sn))/(1+_t),$e>v/4)return[Dn,Dn];var st=Dn,Et=.5*Dn;Dn=.5*(Et+st),In=50;do{var bt=z(Vr-Dn*Dn),Vt=Dn*(Be+fe*bt)+Pe*P(Dn/an)-Qe;if(!Vt)break;Vt<0?Et=Dn:st=Dn,Dn=.5*(Et+st)}while(L(st-Et)>f&&--In>0)}else{Dn=f,In=25;do{var Gt=Dn*Dn,nr=z(Vr-Gt),Rr=Be+fe*nr,kr=Dn*Rr+Pe*P(Dn/an)-Qe,qr=Rr+(Pe-fe*Gt)/nr;Dn-=rt=nr?kr/qr:0}while(L(rt)>f&&--In>0)}return[Dn,-Sn-mt*z(Vr-Dn*Dn)]}function Bn($e,nt){for(var ht=0,mt=1,_t=.5,kt=50;;){var Bt=_t*_t,pr=z(_t),Ar=P(1/z(1+Bt)),ir=1-Bt+_t*(1+Bt)*Ar,Er=(1-pr)/ir,Fr=z(Er),Vr=Er*(1+Bt),an=Fr*(1-Bt),Sn=Vr-$e*$e,Dn=z(Sn),In=nt+an+_t*Dn;if(L(mt-ht)<S||--kt===0||In===0)break;In>0?ht=_t:mt=_t,_t=.5*(ht+mt)}if(!kt)return null;var qn=P(pr),Da=T(qn),Ia=1/Da,_a=2*pr*Da,Ba=(-3*_t+Ar*(1+3*Bt))*_a,Ja=(-ir*Da-(1-pr)*Ba)/(ir*ir),gi=.5*Ja/Fr,ji=(1-Bt)*gi-2*_t*Fr*_a,fe=-2*Ia*ji,Pe=-Ia*_a,Be=-Ia*(_t*(1+Bt)*Ja+Er*(1+3*Bt)*_a);return[v/4*($e*(fe+Pe*Dn)+Be*P($e/z(Vr))),qn]}function sa(){return(0,p.Z)(yn(bn)).scale(239.75)}function Kn($e,nt,ht){var mt,_t,kt;return $e?(mt=ra($e,ht),nt?(_t=ra(nt,1-ht),kt=_t[1]*_t[1]+ht*mt[0]*mt[0]*_t[0]*_t[0],[[mt[0]*_t[2]/kt,mt[1]*mt[2]*_t[0]*_t[1]/kt],[mt[1]*_t[1]/kt,-mt[0]*mt[2]*_t[0]*_t[2]/kt],[mt[2]*_t[1]*_t[2]/kt,-ht*mt[0]*mt[1]*_t[0]/kt]]):[[mt[0],0],[mt[1],0],[mt[2],0]]):(_t=ra(nt,1-ht),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function ra($e,nt){var ht,mt,_t,kt,Bt;if(nt<f)return kt=s($e),mt=T($e),ht=nt*($e-kt*mt)/4,[kt-ht*mt,mt+ht*kt,1-nt*kt*kt/2,$e-ht];if(nt>=1-f)return ht=(1-nt)/4,mt=F($e),kt=_($e),_t=1/mt,Bt=mt*G($e),[kt+ht*(Bt-$e)/(mt*mt),_t-ht*kt*_t*(Bt-$e),_t+ht*kt*_t*(Bt+$e),2*n(d($e))-l+ht*(Bt-$e)/mt];var pr=[1,0,0,0,0,0,0,0,0],Ar=[z(nt),0,0,0,0,0,0,0,0],ir=0;for(mt=z(1-nt),Bt=1;L(Ar[ir]/pr[ir])>f&&ir<8;)ht=pr[ir++],Ar[ir]=(ht-mt)/2,pr[ir]=(ht+mt)/2,mt=z(ht*mt),Bt*=2;_t=Bt*pr[ir]*$e;do kt=Ar[ir]*s(mt=_t)/pr[ir],_t=(P(kt)+_t)/2;while(--ir);return[s(_t),kt=T(_t),kt/T(_t-mt),_t]}function $n($e,nt,ht){var mt=L($e),_t=L(nt),kt=G(_t);if(mt){var Bt=1/s(mt),pr=1/(m(mt)*m(mt)),Ar=-(pr+ht*(kt*kt*Bt*Bt)-1+ht),ir=(ht-1)*pr,Er=(-Ar+z(Ar*Ar-4*ir))/2;return[ta(n(1/z(Er)),ht)*u($e),ta(n(z((Er/pr-1)/ht)),1-ht)*u(nt)]}return[0,ta(n(kt),1-ht)*u(nt)]}function ta($e,nt){if(!nt)return $e;if(nt===1)return r(m($e/2+g));for(var ht=1,mt=z(1-nt),_t=z(nt),kt=0;L(_t)>f;kt++){if($e%v){var Bt=n(mt*m($e)/ht);Bt<0&&(Bt+=v),$e+=Bt+~~($e/v)*v}else $e+=$e;_t=(ht+mt)/2,mt=z(ht*mt),_t=((ht=_t)-mt)/2}return $e/(a(2,kt)*ht)}function Mr($e,nt){var ht=(A-1)/(A+1),mt=z(1-ht*ht),_t=ta(l,mt*mt),kt=-1,Bt=r(m(v/4+L(nt)/2)),pr=d(kt*Bt)/z(ht),Ar=un(pr*T(kt*$e),pr*s(kt*$e)),ir=$n(Ar[0],Ar[1],mt*mt);return[-ir[1],(nt>=0?1:-1)*(.5*_t-ir[0])]}function un($e,nt){var ht=$e*$e,mt=nt+1,_t=1-ht-nt*nt;return[.5*(($e>=0?l:-l)-C(_t,2*$e)),-.25*r(_t*_t+4*ht)+.5*r(mt*mt+ht)]}function on($e,nt){var ht=nt[0]*nt[0]+nt[1]*nt[1];return[($e[0]*nt[0]+$e[1]*nt[1])/ht,($e[1]*nt[0]-$e[0]*nt[1])/ht]}Mr.invert=function($e,nt){var ht=(A-1)/(A+1),mt=z(1-ht*ht),_t=ta(l,mt*mt),kt=-1,Bt=Kn(.5*_t-nt,-$e,mt*mt),pr=on(Bt[0],Bt[1]),Ar=C(pr[1],pr[0])/kt;return[Ar,2*n(d(.5/kt*r(ht*pr[0]*pr[0]+ht*pr[1]*pr[1])))-l]};function mn(){return(0,p.Z)(yn(Mr)).scale(151.496)}var Yn=e(7613);function $t($e){var nt=s($e),ht=T($e),mt=xr($e);mt.invert=xr(-$e);function _t(kt,Bt){var pr=mt(kt,Bt);kt=pr[0],Bt=pr[1];var Ar=s(Bt),ir=T(Bt),Er=T(kt),Fr=x(nt*Ar+ht*ir*Er),Vr=s(Fr),an=L(Vr)>f?Fr/Vr:1;return[an*ht*s(kt),(L(kt)>l?an:-an)*(nt*ir-ht*Ar*Er)]}return _t.invert=function(kt,Bt){var pr=z(kt*kt+Bt*Bt),Ar=-s(pr),ir=T(pr),Er=pr*ir,Fr=-Bt*Ar,Vr=pr*nt,an=z(Er*Er+Fr*Fr-Vr*Vr),Sn=C(Er*Vr+Fr*an,Fr*Vr-Er*an),Dn=(pr>l?-1:1)*C(kt*Ar,pr*T(Sn)*ir+Bt*s(Sn)*Ar);return mt.invert(Dn,Sn)},_t}function xr($e){var nt=s($e),ht=T($e);return function(mt,_t){var kt=T(_t),Bt=T(mt)*kt,pr=s(mt)*kt,Ar=s(_t);return[C(pr,Bt*ht-Ar*nt),P(Ar*ht+Bt*nt)]}}function Nr(){var $e=0,nt=(0,p.r)($t),ht=nt($e),mt=ht.rotate,_t=ht.stream,kt=(0,Yn.Z)();return ht.parallel=function(Bt){if(!arguments.length)return $e*E;var pr=ht.rotate();return nt($e=Bt*b).rotate(pr)},ht.rotate=function(Bt){return arguments.length?(mt.call(ht,[Bt[0],Bt[1]-$e*E]),kt.center([-Bt[0],-Bt[1]]),ht):(Bt=mt.call(ht),Bt[1]+=$e*E,Bt)},ht.stream=function(Bt){return Bt=_t(Bt),Bt.sphere=function(){Bt.polygonStart();var pr=.01,Ar=kt.radius(90-pr)().coordinates[0],ir=Ar.length-1,Er=-1,Fr;for(Bt.lineStart();++Er<ir;)Bt.point((Fr=Ar[Er])[0],Fr[1]);for(Bt.lineEnd(),Ar=kt.radius(90+pr)().coordinates[0],ir=Ar.length-1,Bt.lineStart();--Er>=0;)Bt.point((Fr=Ar[Er])[0],Fr[1]);Bt.lineEnd(),Bt.polygonEnd()},Bt},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var En=e(33064),Qn=e(72736),Ca=3,wr=P(1-1/Ca)*E,zr=Tt(0);function gr($e){var nt=wr*b,ht=Ve(v,nt)[0]-Ve(-v,nt)[0],mt=zr(0,nt)[1],_t=Ve(0,nt)[1],kt=k-_t,Bt=w/$e,pr=4/w,Ar=mt+kt*kt*4/w;function ir(Er,Fr){var Vr,an=L(Fr);if(an>nt){var Sn=i($e-1,t(0,y((Er+v)/Bt)));Er+=v*($e-1)/$e-Sn*Bt,Vr=Ve(Er,an),Vr[0]=Vr[0]*w/ht-w*($e-1)/(2*$e)+Sn*w/$e,Vr[1]=mt+(Vr[1]-_t)*4*kt/w,Fr<0&&(Vr[1]=-Vr[1])}else Vr=zr(Er,Fr);return Vr[0]*=pr,Vr[1]/=Ar,Vr}return ir.invert=function(Er,Fr){Er/=pr,Fr*=Ar;var Vr=L(Fr);if(Vr>mt){var an=i($e-1,t(0,y((Er+v)/Bt)));Er=(Er+v*($e-1)/$e-an*Bt)*ht/w;var Sn=Ve.invert(Er,.25*(Vr-mt)*w/kt+_t);return Sn[0]-=v*($e-1)/$e-an*Bt,Fr<0&&(Sn[1]=-Sn[1]),Sn}return zr.invert(Er,Fr)},ir}function Br($e,nt){return[$e,nt&1?90-f:wr]}function xn($e,nt){return[$e,nt&1?-90+f:-wr]}function kn($e){return[$e[0]*(1-f),$e[1]]}function wn($e){var nt=[].concat((0,En.w6)(-180,180+$e/2,$e).map(Br),(0,En.w6)(180,-180-$e/2,-$e).map(xn));return{type:"Polygon",coordinates:[$e===180?nt.map(kn):nt]}}function hn(){var $e=4,nt=(0,p.r)(gr),ht=nt($e),mt=ht.stream;return ht.lobes=function(_t){return arguments.length?nt($e=+_t):$e},ht.stream=function(_t){var kt=ht.rotate(),Bt=mt(_t),pr=(ht.rotate([0,0]),mt(_t));return ht.rotate(kt),Bt.sphere=function(){(0,Qn.Z)(wn(180/$e),pr)},Bt},ht.scale(239.75)}function Pr($e){var nt=1+$e,ht=s(1/nt),mt=P(ht),_t=2*z(v/(kt=v+4*mt*nt)),kt,Bt=.5*_t*(nt+z($e*(2+$e))),pr=$e*$e,Ar=nt*nt;function ir(Er,Fr){var Vr=1-s(Fr),an,Sn;if(Vr&&Vr<2){var Dn=l-Fr,In=25,qn;do{var Da=s(Dn),Ia=T(Dn),_a=mt+C(Da,nt-Ia),Ba=1+Ar-2*nt*Ia;Dn-=qn=(Dn-pr*mt-nt*Da+Ba*_a-.5*Vr*kt)/(2*nt*Da*_a)}while(L(qn)>S&&--In>0);an=_t*z(Ba),Sn=Er*_a/v}else an=_t*($e+Vr),Sn=Er*mt/v;return[an*s(Sn),Bt-an*T(Sn)]}return ir.invert=function(Er,Fr){var Vr=Er*Er+(Fr-=Bt)*Fr,an=(1+Ar-Vr/(_t*_t))/(2*nt),Sn=x(an),Dn=s(Sn),In=mt+C(Dn,nt-an);return[P(Er/z(Vr))*v/In,P(1-2*(Sn-pr*mt-nt*Dn+(1+Ar-2*nt*an)*In)/kt)]},ir}function Jr(){var $e=1,nt=(0,p.r)(Pr),ht=nt($e);return ht.ratio=function(mt){return arguments.length?nt($e=+mt):$e},ht.scale(167.774).center([0,18.67])}var Yr=.7109889596207567,en=.0528035274542;function Cn($e,nt){return nt>-Yr?($e=Ce($e,nt),$e[1]+=en,$e):qe($e,nt)}Cn.invert=function($e,nt){return nt>-Yr?Ce.invert($e,nt-en):qe.invert($e,nt)};function On(){return(0,p.Z)(Cn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function zn($e,nt){return L(nt)>Yr?($e=Ce($e,nt),$e[1]-=nt>0?en:-en,$e):qe($e,nt)}zn.invert=function($e,nt){return L(nt)>Yr?Ce.invert($e,nt+(nt>0?en:-en)):qe.invert($e,nt)};function Wn(){return(0,p.Z)(zn).scale(152.63)}function Vn($e,nt,ht,mt){var _t=z(4*v/(2*ht+(1+$e-nt/2)*s(2*ht)+($e+nt)/2*s(4*ht)+nt/2*s(6*ht))),kt=z(mt*s(ht)*z((1+$e*T(2*ht)+nt*T(4*ht))/(1+$e+nt))),Bt=ht*Ar(1);function pr(Fr){return z(1+$e*T(2*Fr)+nt*T(4*Fr))}function Ar(Fr){var Vr=Fr*ht;return(2*Vr+(1+$e-nt/2)*s(2*Vr)+($e+nt)/2*s(4*Vr)+nt/2*s(6*Vr))/ht}function ir(Fr){return pr(Fr)*s(Fr)}var Er=function(Fr,Vr){var an=ht*Le(Ar,Bt*s(Vr)/ht,Vr/v);isNaN(an)&&(an=ht*u(Vr));var Sn=_t*pr(an);return[Sn*kt*Fr/v*T(an),Sn/kt*s(an)]};return Er.invert=function(Fr,Vr){var an=Le(ir,Vr*kt/_t);return[Fr*v/(T(an)*_t*kt*pr(an)),P(ht*Ar(an/ht)/Bt)]},ht===0&&(_t=z(mt/v),Er=function(Fr,Vr){return[Fr*_t,s(Vr)/_t]},Er.invert=function(Fr,Vr){return[Fr/_t,P(Vr*_t)]}),Er}function xa(){var $e=1,nt=0,ht=45*b,mt=2,_t=(0,p.r)(Vn),kt=_t($e,nt,ht,mt);return kt.a=function(Bt){return arguments.length?_t($e=+Bt,nt,ht,mt):$e},kt.b=function(Bt){return arguments.length?_t($e,nt=+Bt,ht,mt):nt},kt.psiMax=function(Bt){return arguments.length?_t($e,nt,ht=+Bt*b,mt):ht*E},kt.ratio=function(Bt){return arguments.length?_t($e,nt,ht,mt=+Bt):mt},kt.scale(180.739)}function ca($e,nt,ht,mt,_t,kt,Bt,pr,Ar,ir,Er){if(Er.nanEncountered)return NaN;var Fr,Vr,an,Sn,Dn,In,qn,Da,Ia,_a;if(Fr=ht-nt,Vr=$e(nt+Fr*.25),an=$e(ht-Fr*.25),isNaN(Vr)){Er.nanEncountered=!0;return}if(isNaN(an)){Er.nanEncountered=!0;return}return Sn=Fr*(mt+4*Vr+_t)/12,Dn=Fr*(_t+4*an+kt)/12,In=Sn+Dn,_a=(In-Bt)/15,ir>Ar?(Er.maxDepthCount++,In+_a):Math.abs(_a)<pr?In+_a:(qn=nt+Fr*.5,Da=ca($e,nt,qn,mt,Vr,_t,Sn,pr*.5,Ar,ir+1,Er),isNaN(Da)?(Er.nanEncountered=!0,NaN):(Ia=ca($e,qn,ht,_t,an,kt,Dn,pr*.5,Ar,ir+1,Er),isNaN(Ia)?(Er.nanEncountered=!0,NaN):Da+Ia))}function ma($e,nt,ht,mt,_t){var kt={maxDepthCount:0,nanEncountered:!1};mt===void 0&&(mt=1e-8),_t===void 0&&(_t=20);var Bt=$e(nt),pr=$e(.5*(nt+ht)),Ar=$e(ht),ir=(Bt+4*pr+Ar)*(ht-nt)/6,Er=ca($e,nt,ht,Bt,pr,Ar,ir,mt,_t,1,kt);return Er}function ka($e,nt,ht){function mt(an){return $e+(1-$e)*a(1-a(an,nt),1/nt)}function _t(an){return ma(mt,0,an,1e-4)}for(var kt=1/_t(1),Bt=1e3,pr=(1+1e-8)*kt,Ar=[],ir=0;ir<=Bt;ir++)Ar.push(_t(ir/Bt)*pr);function Er(an){var Sn=0,Dn=Bt,In=Bt>>1;do Ar[In]>an?Dn=In:Sn=In,In=Sn+Dn>>1;while(In>Sn);var qn=Ar[In+1]-Ar[In];return qn&&(qn=(an-Ar[In+1])/qn),(In+1+qn)/Bt}var Fr=2*Er(1)/v*kt/ht,Vr=function(an,Sn){var Dn=Er(L(s(Sn))),In=mt(Dn)*an;return Dn/=Fr,[In,Sn>=0?Dn:-Dn]};return Vr.invert=function(an,Sn){var Dn;return Sn*=Fr,L(Sn)<1&&(Dn=u(Sn)*P(_t(L(Sn))*kt)),[an/mt(L(Sn)),Dn]},Vr}function mi(){var $e=0,nt=2.5,ht=1.183136,mt=(0,p.r)(ka),_t=mt($e,nt,ht);return _t.alpha=function(kt){return arguments.length?mt($e=+kt,nt,ht):$e},_t.k=function(kt){return arguments.length?mt($e,nt=+kt,ht):nt},_t.gamma=function(kt){return arguments.length?mt($e,nt,ht=+kt):ht},_t.scale(152.63)}function oi($e,nt){return L($e[0]-nt[0])<f&&L($e[1]-nt[1])<f}function qo($e,nt){for(var ht=-1,mt=$e.length,_t=$e[0],kt,Bt,pr,Ar=[];++ht<mt;){kt=$e[ht],Bt=(kt[0]-_t[0])/nt,pr=(kt[1]-_t[1])/nt;for(var ir=0;ir<nt;++ir)Ar.push([_t[0]+ir*Bt,_t[1]+ir*pr]);_t=kt}return Ar.push(kt),Ar}function Wo($e){var nt=[],ht,mt,_t,kt,Bt,pr,Ar,ir=$e[0].length;for(Ar=0;Ar<ir;++Ar)ht=$e[0][Ar],mt=ht[0][0],_t=ht[0][1],kt=ht[1][1],Bt=ht[2][0],pr=ht[2][1],nt.push(qo([[mt+f,_t+f],[mt+f,kt-f],[Bt-f,kt-f],[Bt-f,pr+f]],30));for(Ar=$e[1].length-1;Ar>=0;--Ar)ht=$e[1][Ar],mt=ht[0][0],_t=ht[0][1],kt=ht[1][1],Bt=ht[2][0],pr=ht[2][1],nt.push(qo([[Bt-f,pr-f],[Bt-f,kt+f],[mt+f,kt+f],[mt+f,_t-f]],30));return{type:"Polygon",coordinates:[(0,En.TS)(nt)]}}function po($e,nt,ht){var mt,_t;function kt(Ar,ir){for(var Er=ir<0?-1:1,Fr=nt[+(ir<0)],Vr=0,an=Fr.length-1;Vr<an&&Ar>Fr[Vr][2][0];++Vr);var Sn=$e(Ar-Fr[Vr][1][0],ir);return Sn[0]+=$e(Fr[Vr][1][0],Er*ir>Er*Fr[Vr][0][1]?Fr[Vr][0][1]:ir)[0],Sn}ht?kt.invert=ht(kt):$e.invert&&(kt.invert=function(Ar,ir){for(var Er=_t[+(ir<0)],Fr=nt[+(ir<0)],Vr=0,an=Er.length;Vr<an;++Vr){var Sn=Er[Vr];if(Sn[0][0]<=Ar&&Ar<Sn[1][0]&&Sn[0][1]<=ir&&ir<Sn[1][1]){var Dn=$e.invert(Ar-$e(Fr[Vr][1][0],0)[0],ir);return Dn[0]+=Fr[Vr][1][0],oi(kt(Dn[0],Dn[1]),[Ar,ir])?Dn:null}}});var Bt=(0,p.Z)(kt),pr=Bt.stream;return Bt.stream=function(Ar){var ir=Bt.rotate(),Er=pr(Ar),Fr=(Bt.rotate([0,0]),pr(Ar));return Bt.rotate(ir),Er.sphere=function(){(0,Qn.Z)(mt,Fr)},Er},Bt.lobes=function(Ar){return arguments.length?(mt=Wo(Ar),nt=Ar.map(function(ir){return ir.map(function(Er){return[[Er[0][0]*b,Er[0][1]*b],[Er[1][0]*b,Er[1][1]*b],[Er[2][0]*b,Er[2][1]*b]]})}),_t=nt.map(function(ir){return ir.map(function(Er){var Fr=$e(Er[0][0],Er[0][1])[0],Vr=$e(Er[2][0],Er[2][1])[0],an=$e(Er[1][0],Er[0][1])[1],Sn=$e(Er[1][0],Er[1][1])[1],Dn;return an>Sn&&(Dn=an,an=Sn,Sn=Dn),[[Fr,an],[Vr,Sn]]})}),Bt):nt.map(function(ir){return ir.map(function(Er){return[[Er[0][0]*E,Er[0][1]*E],[Er[1][0]*E,Er[1][1]*E],[Er[2][0]*E,Er[2][1]*E]]})})},nt!=null&&Bt.lobes(nt),Bt}var su=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ic(){return po(Ge,su).scale(160.857)}var Jc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ni(){return po(zn,Jc).scale(152.63)}var Hu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function oc(){return po(Ce,Hu).scale(169.529)}var lo=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Fo(){return po(Ce,lo).scale(169.529).rotate([20,0])}var lu=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Mf(){return po(Cn,lu,Ae).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Gi=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function uu(){return po(qe,Gi).scale(152.63).rotate([-20,0])}function Yi($e,nt){return[3/w*$e*z(v*v/3-nt*nt),nt]}Yi.invert=function($e,nt){return[w/3*$e/z(v*v/3-nt*nt),nt]};function eo(){return(0,p.Z)(Yi).scale(158.837)}function fu($e){function nt(ht,mt){if(L(L(mt)-l)<f)return[0,mt<0?-2:2];var _t=s(mt),kt=a((1+_t)/(1-_t),$e/2),Bt=.5*(kt+1/kt)+T(ht*=$e);return[2*s(ht)/Bt,(kt-1/kt)/Bt]}return nt.invert=function(ht,mt){var _t=L(mt);if(L(_t-2)<f)return ht?null:[0,u(mt)*l];if(_t>2)return null;ht/=2,mt/=2;var kt=ht*ht,Bt=mt*mt,pr=2*mt/(1+kt+Bt);return pr=a((1+pr)/(1-pr),1/$e),[C(2*ht,1-kt-Bt)/$e,P((pr-1)/(pr+1))]},nt}function go(){var $e=.5,nt=(0,p.r)(fu),ht=nt($e);return ht.spacing=function(mt){return arguments.length?nt($e=+mt):$e},ht.scale(124.75)}var yo=v/A;function es($e,nt){return[$e*(1+z(T(nt)))/2,nt/(T(nt/2)*T($e/6))]}es.invert=function($e,nt){var ht=L($e),mt=L(nt),_t=f,kt=l;mt<yo?kt*=mt/yo:_t+=6*x(yo/mt);for(var Bt=0;Bt<25;Bt++){var pr=s(kt),Ar=z(T(kt)),ir=s(kt/2),Er=T(kt/2),Fr=s(_t/6),Vr=T(_t/6),an=.5*_t*(1+Ar)-ht,Sn=kt/(Er*Vr)-mt,Dn=Ar?-.25*_t*pr/Ar:0,In=.5*(1+Ar),qn=(1+.5*kt*ir/Er)/(Er*Vr),Da=kt/Er*(Fr/6)/(Vr*Vr),Ia=Dn*Da-qn*In,_a=(an*Da-Sn*In)/Ia,Ba=(Sn*Dn-an*qn)/Ia;if(kt-=_a,_t-=Ba,L(_a)<f&&L(Ba)<f)break}return[$e<0?-_t:_t,nt<0?-kt:kt]};function Qc(){return(0,p.Z)(es).scale(97.2672)}function jo($e,nt){var ht=$e*$e,mt=nt*nt;return[$e*(.975534+mt*(-.119161+ht*-.0143059+mt*-.0547009)),nt*(1.00384+ht*(.0802894+mt*-.02855+ht*199025e-9)+mt*(.0998909+mt*-.0491032))]}jo.invert=function($e,nt){var ht=u($e)*v,mt=nt/2,_t=50;do{var kt=ht*ht,Bt=mt*mt,pr=ht*mt,Ar=ht*(.975534+Bt*(-.119161+kt*-.0143059+Bt*-.0547009))-$e,ir=mt*(1.00384+kt*(.0802894+Bt*-.02855+kt*199025e-9)+Bt*(.0998909+Bt*-.0491032))-nt,Er=.975534-Bt*(.119161+3*kt*.0143059+Bt*.0547009),Fr=-pr*(2*.119161+4*.0547009*Bt+2*.0143059*kt),Vr=pr*(2*.0802894+4*199025e-9*kt+2*-.02855*Bt),an=1.00384+kt*(.0802894+199025e-9*kt)+Bt*(3*(.0998909-.02855*kt)-5*.0491032*Bt),Sn=Fr*Vr-an*Er,Dn=(ir*Fr-Ar*an)/Sn,In=(Ar*Vr-ir*Er)/Sn;ht-=Dn,mt-=In}while((L(Dn)>f||L(In)>f)&&--_t>0);return _t&&[ht,mt]};function pv(){return(0,p.Z)(jo).scale(139.98)}function zs($e,nt){return[s($e)/T(nt),m(nt)*T($e)]}zs.invert=function($e,nt){var ht=$e*$e,mt=nt*nt,_t=mt+1,kt=ht+_t,Bt=$e?M*z((kt-z(kt*kt-4*ht))/ht):1/z(_t);return[P($e*Bt),u(nt)*x(Bt)]};function uo(){return(0,p.Z)(zs).scale(144.049).clipAngle(89.999)}function sc($e){var nt=T($e),ht=m(g+$e/2);function mt(_t,kt){var Bt=kt-$e,pr=L(Bt)<f?_t*nt:L(pr=g+kt/2)<f||L(L(pr)-l)<f?0:_t*Bt/r(m(pr)/ht);return[pr,Bt]}return mt.invert=function(_t,kt){var Bt,pr=kt+$e;return[L(kt)<f?_t/nt:L(Bt=g+pr/2)<f||L(L(Bt)-l)<f?0:_t*r(m(Bt)/ht)/kt,pr]},mt}function dl(){return lt(sc).parallel(40).scale(158.837)}function Fs($e,nt){return[$e,1.25*r(m(g+.4*nt))]}Fs.invert=function($e,nt){return[$e,2.5*n(d(.8*nt))-.625*v]};function lc(){return(0,p.Z)(Fs).scale(108.318)}function qc($e){var nt=$e.length-1;function ht(mt,_t){for(var kt=T(_t),Bt=2/(1+kt*T(mt)),pr=Bt*kt*s(mt),Ar=Bt*s(_t),ir=nt,Er=$e[ir],Fr=Er[0],Vr=Er[1],an;--ir>=0;)Er=$e[ir],Fr=Er[0]+pr*(an=Fr)-Ar*Vr,Vr=Er[1]+pr*Vr+Ar*an;return Fr=pr*(an=Fr)-Ar*Vr,Vr=pr*Vr+Ar*an,[Fr,Vr]}return ht.invert=function(mt,_t){var kt=20,Bt=mt,pr=_t;do{for(var Ar=nt,ir=$e[Ar],Er=ir[0],Fr=ir[1],Vr=0,an=0,Sn;--Ar>=0;)ir=$e[Ar],Vr=Er+Bt*(Sn=Vr)-pr*an,an=Fr+Bt*an+pr*Sn,Er=ir[0]+Bt*(Sn=Er)-pr*Fr,Fr=ir[1]+Bt*Fr+pr*Sn;Vr=Er+Bt*(Sn=Vr)-pr*an,an=Fr+Bt*an+pr*Sn,Er=Bt*(Sn=Er)-pr*Fr-mt,Fr=Bt*Fr+pr*Sn-_t;var Dn=Vr*Vr+an*an,In,qn;Bt-=In=(Er*Vr+Fr*an)/Dn,pr-=qn=(Fr*Vr-Er*an)/Dn}while(L(In)+L(qn)>f*f&&--kt>0);if(kt){var Da=z(Bt*Bt+pr*pr),Ia=2*n(Da*.5),_a=s(Ia);return[C(Bt*_a,Da*T(Ia)),Da?P(pr*_a/Da):0]}},ht}var gv=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ef=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],yv=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],mv=[[.9245,0],[0,0],[.01943,0]],xv=[[.721316,0],[0,0],[-.00881625,-.00617325]];function uc(){return Bl(gv,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function bv(){return Bl(Ef,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function wv(){return Bl(yv,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function eh(){return Bl(mv,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function th(){return Bl(xv,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Bl($e,nt){var ht=(0,p.Z)(qc($e)).rotate(nt).clipAngle(90),mt=(0,We.Z)(nt),_t=ht.center;return delete ht.rotate,ht.center=function(kt){return arguments.length?_t(mt(kt)):mt.invert(_t())},ht}var cu=z(6),Gu=z(7);function Wu($e,nt){var ht=P(7*s(nt)/(3*cu));return[cu*$e*(2*T(2*ht/3)-1)/Gu,9*s(ht/3)/Gu]}Wu.invert=function($e,nt){var ht=3*P(nt*Gu/9);return[$e*Gu/(cu*(2*T(2*ht/3)-1)),P(s(ht)*3*cu/7)]};function rh(){return(0,p.Z)(Wu).scale(164.859)}function Ks($e,nt){for(var ht=(1+M)*s(nt),mt=nt,_t=0,kt;_t<25&&(mt-=kt=(s(mt/2)+s(mt)-ht)/(.5*T(mt/2)+T(mt)),!(L(kt)<f));_t++);return[$e*(1+2*T(mt)/T(mt/2))/(3*A),2*z(3)*s(mt/2)/z(2+A)]}Ks.invert=function($e,nt){var ht=nt*z(2+A)/(2*z(3)),mt=2*P(ht);return[3*A*$e/(1+2*T(mt)/T(mt/2)),P((ht+s(mt))/(1+M))]};function Tv(){return(0,p.Z)(Ks).scale(188.209)}function Cf($e,nt){for(var ht=z(6/(4+v)),mt=(1+v/4)*s(nt),_t=nt/2,kt=0,Bt;kt<25&&(_t-=Bt=(_t/2+s(_t)-mt)/(.5+T(_t)),!(L(Bt)<f));kt++);return[ht*(.5+T(_t))*$e/1.5,ht*_t]}Cf.invert=function($e,nt){var ht=z(6/(4+v)),mt=nt/ht;return L(L(mt)-l)<f&&(mt=mt<0?-l:l),[1.5*$e/(ht*(.5+T(mt))),P((mt/2+s(mt))/(1+v/4))]};function nh(){return(0,p.Z)(Cf).scale(166.518)}var ah=e(26867);function Lf($e,nt){var ht=nt*nt,mt=ht*ht,_t=ht*mt;return[$e*(.84719-.13063*ht+_t*_t*(-.04515+.05494*ht-.02326*mt+.00331*_t)),nt*(1.01183+mt*mt*(-.02625+.01926*ht-.00396*mt))]}Lf.invert=function($e,nt){var ht=nt,mt=25,_t,kt,Bt,pr;do kt=ht*ht,Bt=kt*kt,ht-=_t=(ht*(1.01183+Bt*Bt*(-.02625+.01926*kt-.00396*Bt))-nt)/(1.01183+Bt*Bt*(-.23625+.21186*kt+-.05148*Bt));while(L(_t)>S&&--mt>0);return kt=ht*ht,Bt=kt*kt,pr=kt*Bt,[$e/(.84719-.13063*kt+pr*pr*(-.04515+.05494*kt-.02326*Bt+.00331*pr)),ht]};function gs(){return(0,p.Z)(Lf).scale(175.295)}function hu($e,nt){return[$e*(1+T(nt))/2,2*(nt-m(nt/2))]}hu.invert=function($e,nt){for(var ht=nt/2,mt=0,_t=1/0;mt<10&&L(_t)>f;++mt){var kt=T(nt/2);nt-=_t=(nt-m(nt/2)-ht)/(1-.5/(kt*kt))}return[2*$e/(1+T(nt)),nt]};function Nl(){return(0,p.Z)(hu).scale(152.63)}var ju=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function pl(){return po(ie(1/0),ju).rotate([20,0]).scale(152.63)}function Os($e,nt){var ht=s(nt),mt=T(nt),_t=u($e);if($e===0||L(nt)===l)return[0,nt];if(nt===0)return[$e,0];if(L($e)===l)return[$e*mt,l*ht];var kt=v/(2*$e)-2*$e/v,Bt=2*nt/v,pr=(1-Bt*Bt)/(ht-Bt),Ar=kt*kt,ir=pr*pr,Er=1+Ar/ir,Fr=1+ir/Ar,Vr=(kt*ht/pr-kt/2)/Er,an=(ir*ht/Ar+pr/2)/Fr,Sn=Vr*Vr+mt*mt/Er,Dn=an*an-(ir*ht*ht/Ar+pr*ht-1)/Fr;return[l*(Vr+z(Sn)*_t),l*(an+z(Dn<0?0:Dn)*u(-nt*kt)*_t)]}Os.invert=function($e,nt){$e/=l,nt/=l;var ht=$e*$e,mt=nt*nt,_t=ht+mt,kt=v*v;return[$e?(_t-1+z((1-_t)*(1-_t)+4*ht))/(2*$e)*l:0,Le(function(Bt){return _t*(v*s(Bt)-2*Bt)*v+4*Bt*Bt*(nt-s(Bt))+2*v*Bt-kt*nt},0)]};function fc(){return(0,p.Z)(Os).scale(127.267)}var vu=1.0148,ys=.23185,Ni=-.14499,cc=.02406,Av=vu,Pf=5*ys,du=7*Ni,pu=9*cc,Yo=1.790857183;function Rf($e,nt){var ht=nt*nt;return[$e,nt*(vu+ht*ht*(ys+ht*(Ni+cc*ht)))]}Rf.invert=function($e,nt){nt>Yo?nt=Yo:nt<-Yo&&(nt=-Yo);var ht=nt,mt;do{var _t=ht*ht;ht-=mt=(ht*(vu+_t*_t*(ys+_t*(Ni+cc*_t)))-nt)/(Av+_t*_t*(Pf+_t*(du+pu*_t)))}while(L(mt)>f);return[$e,ht]};function gu(){return(0,p.Z)(Rf).scale(139.319)}function kf($e,nt){if(L(nt)<f)return[$e,0];var ht=m(nt),mt=$e*s(nt);return[s(mt)/ht,nt+(1-T(mt))/ht]}kf.invert=function($e,nt){if(L(nt)<f)return[$e,0];var ht=$e*$e+nt*nt,mt=nt*.5,_t=10,kt;do{var Bt=m(mt),pr=1/T(mt),Ar=ht-2*nt*mt+mt*mt;mt-=kt=(Bt*Ar+2*(mt-nt))/(2+Ar*pr*pr+2*(mt-nt)*Bt)}while(L(kt)>f&&--_t>0);return Bt=m(mt),[(L(nt)<L(mt+1/Bt)?P($e*Bt):u(nt)*u($e)*(x(L($e*Bt))+l))/s(mt),mt]};function Sv(){return(0,p.Z)(kf).scale(103.74)}var ih=e(77338),hc=e(83074);function vc($e,nt){var ht=Df($e[1],$e[0]),mt=Df(nt[1],nt[0]),_t=If(ht,mt),kt=Yu(ht)/Yu(mt);return yu([1,0,$e[0][0],0,1,$e[0][1]],yu([kt,0,0,0,kt,0],yu([T(_t),s(_t),0,-s(_t),T(_t),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function dc($e){var nt=1/($e[0]*$e[4]-$e[1]*$e[3]);return[nt*$e[4],-nt*$e[1],nt*($e[1]*$e[5]-$e[2]*$e[4]),-nt*$e[3],nt*$e[0],nt*($e[2]*$e[3]-$e[0]*$e[5])]}function yu($e,nt){return[$e[0]*nt[0]+$e[1]*nt[3],$e[0]*nt[1]+$e[1]*nt[4],$e[0]*nt[2]+$e[1]*nt[5]+$e[2],$e[3]*nt[0]+$e[4]*nt[3],$e[3]*nt[1]+$e[4]*nt[4],$e[3]*nt[2]+$e[4]*nt[5]+$e[5]]}function Df($e,nt){return[$e[0]-nt[0],$e[1]-nt[1]]}function Yu($e){return z($e[0]*$e[0]+$e[1]*$e[1])}function If($e,nt){return C($e[0]*nt[1]-$e[1]*nt[0],$e[0]*nt[0]+$e[1]*nt[1])}function xi($e,nt,ht){mt($e,{transform:null});function mt(ir,Er){if(ir.edges=pc(ir.face),Er.face){var Fr=ir.shared=sh(ir.face,Er.face),Vr=vc(Fr.map(Er.project),Fr.map(ir.project));ir.transform=Er.transform?yu(Er.transform,Vr):Vr;for(var an=Er.edges,Sn=0,Dn=an.length;Sn<Dn;++Sn)ms(Fr[0],an[Sn][1])&&ms(Fr[1],an[Sn][0])&&(an[Sn]=ir),ms(Fr[0],an[Sn][0])&&ms(Fr[1],an[Sn][1])&&(an[Sn]=ir);for(an=ir.edges,Sn=0,Dn=an.length;Sn<Dn;++Sn)ms(Fr[0],an[Sn][0])&&ms(Fr[1],an[Sn][1])&&(an[Sn]=Er),ms(Fr[0],an[Sn][1])&&ms(Fr[1],an[Sn][0])&&(an[Sn]=Er)}else ir.transform=Er.transform;return ir.children&&ir.children.forEach(function(In){mt(In,ir)}),ir}function _t(ir,Er){var Fr=nt(ir,Er),Vr=Fr.project([ir*E,Er*E]),an;return(an=Fr.transform)?[an[0]*Vr[0]+an[1]*Vr[1]+an[2],-(an[3]*Vr[0]+an[4]*Vr[1]+an[5])]:(Vr[1]=-Vr[1],Vr)}Ul($e)&&(_t.invert=function(ir,Er){var Fr=kt($e,[ir,-Er]);return Fr&&(Fr[0]*=b,Fr[1]*=b,Fr)});function kt(ir,Er){var Fr=ir.project.invert,Vr=ir.transform,an=Er;if(Vr&&(Vr=dc(Vr),an=[Vr[0]*an[0]+Vr[1]*an[1]+Vr[2],Vr[3]*an[0]+Vr[4]*an[1]+Vr[5]]),Fr&&ir===Bt(Sn=Fr(an)))return Sn;for(var Sn,Dn=ir.children,In=0,qn=Dn&&Dn.length;In<qn;++In)if(Sn=kt(Dn[In],Er))return Sn}function Bt(ir){return nt(ir[0]*b,ir[1]*b)}var pr=(0,p.Z)(_t),Ar=pr.stream;return pr.stream=function(ir){var Er=pr.rotate(),Fr=Ar(ir),Vr=(pr.rotate([0,0]),Ar(ir));return pr.rotate(Er),Fr.sphere=function(){Vr.polygonStart(),Vr.lineStart(),oh(Vr,$e),Vr.lineEnd(),Vr.polygonEnd()},Fr},pr.angle(ht==null?-30:ht*E)}function oh($e,nt,ht){var mt,_t=nt.edges,kt=_t.length,Bt,pr={type:"MultiPoint",coordinates:nt.face},Ar=nt.face.filter(function(Dn){return L(Dn[1])!==90}),ir=(0,ih.Z)({type:"MultiPoint",coordinates:Ar}),Er=!1,Fr=-1,Vr=ir[1][0]-ir[0][0],an=Vr===180||Vr===360?[(ir[0][0]+ir[1][0])/2,(ir[0][1]+ir[1][1])/2]:(0,Je.Z)(pr);if(ht)for(;++Fr<kt&&_t[Fr]!==ht;);++Fr;for(var Sn=0;Sn<kt;++Sn)Bt=_t[(Sn+Fr)%kt],Array.isArray(Bt)?(Er||($e.point((mt=(0,hc.Z)(Bt[0],an)(f))[0],mt[1]),Er=!0),$e.point((mt=(0,hc.Z)(Bt[1],an)(f))[0],mt[1])):(Er=!1,Bt!==ht&&oh($e,Bt,nt))}function ms($e,nt){return $e&&nt&&$e[0]===nt[0]&&$e[1]===nt[1]}function sh($e,nt){for(var ht,mt,_t=$e.length,kt=null,Bt=0;Bt<_t;++Bt){ht=$e[Bt];for(var pr=nt.length;--pr>=0;)if(mt=nt[pr],ht[0]===mt[0]&&ht[1]===mt[1]){if(kt)return[kt,ht];kt=ht}}}function pc($e){for(var nt=$e.length,ht=[],mt=$e[nt-1],_t=0;_t<nt;++_t)ht.push([mt,mt=$e[_t]]);return ht}function Ul($e){return $e.project.invert||$e.children&&$e.children.some(Ul)}var yl=e(98936),_f=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Wi=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function($e){return $e.map(function(nt){return _f[nt]})});function Zu($e){$e=$e||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,yl.Z)().scale(1).translate([0,0]).rotate([-mt[0],-mt[1]])};var nt=Wi.map(function(ht){return{face:ht,project:$e(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var _t=nt[ht];_t&&(_t.children||(_t.children=[])).push(nt[mt])}),xi(nt[0],function(ht,mt){return nt[ht<-v/2?mt<0?6:4:ht<0?mt<0?2:0:ht<v/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var xs=2/z(3);function Js($e,nt){var ht=Ve($e,nt);return[ht[0]*xs,ht[1]]}Js.invert=function($e,nt){return Ve.invert($e/xs,nt)};function Vl($e){$e=$e||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,p.Z)(Js).translate([0,0]).scale(1).rotate(mt[1]>0?[-mt[0],0]:[180-mt[0],180])};var nt=Wi.map(function(ht){return{face:ht,project:$e(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var _t=nt[ht];_t&&(_t.children||(_t.children=[])).push(nt[mt])}),xi(nt[0],function(ht,mt){return nt[ht<-v/2?mt<0?6:4:ht<0?mt<0?2:0:ht<v/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ml($e){$e=$e||function(Bt){var pr=Bt.length===6?(0,Je.Z)({type:"MultiPoint",coordinates:Bt}):Bt[0];return(0,yl.Z)().scale(1).translate([0,0]).rotate([-pr[0],-pr[1]])};var nt=Wi.map(function(Bt){for(var pr=Bt.map(os),Ar=pr.length,ir=pr[Ar-1],Er,Fr=[],Vr=0;Vr<Ar;++Vr)Er=pr[Vr],Fr.push(ws([ir[0]*.9486832980505138+Er[0]*.31622776601683794,ir[1]*.9486832980505138+Er[1]*.31622776601683794,ir[2]*.9486832980505138+Er[2]*.31622776601683794]),ws([Er[0]*.9486832980505138+ir[0]*.31622776601683794,Er[1]*.9486832980505138+ir[1]*.31622776601683794,Er[2]*.9486832980505138+ir[2]*.31622776601683794])),ir=Er;return Fr}),ht=[],mt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Bt,pr){for(var Ar=Wi[pr],ir=Ar.length,Er=ht[pr]=[],Fr=0;Fr<ir;++Fr)nt.push([Ar[Fr],Bt[(Fr*2+2)%(2*ir)],Bt[(Fr*2+1)%(2*ir)]]),mt.push(pr),Er.push(Qs(os(Bt[(Fr*2+2)%(2*ir)]),os(Bt[(Fr*2+1)%(2*ir)])))});var _t=nt.map(function(Bt){return{project:$e(Bt),face:Bt}});mt.forEach(function(Bt,pr){var Ar=_t[Bt];Ar&&(Ar.children||(Ar.children=[])).push(_t[pr])});function kt(Bt,pr){var Ar=T(pr),ir=[Ar*T(Bt),Ar*s(Bt),s(pr)],Er=Bt<-v/2?pr<0?6:4:Bt<0?pr<0?2:0:Bt<v/2?pr<0?3:1:pr<0?7:5,Fr=ht[Er];return _t[bs(Fr[0],ir)<0?8+3*Er:bs(Fr[1],ir)<0?8+3*Er+1:bs(Fr[2],ir)<0?8+3*Er+2:Er]}return xi(_t[0],kt).angle(-30).scale(110.625).center([0,45])}function bs($e,nt){for(var ht=0,mt=$e.length,_t=0;ht<mt;++ht)_t+=$e[ht]*nt[ht];return _t}function Qs($e,nt){return[$e[1]*nt[2]-$e[2]*nt[1],$e[2]*nt[0]-$e[0]*nt[2],$e[0]*nt[1]-$e[1]*nt[0]]}function ws($e){return[C($e[1],$e[0])*E,P(t(-1,i(1,$e[2])))*E]}function os($e){var nt=$e[0]*b,ht=$e[1]*b,mt=T(ht);return[mt*T(nt),mt*s(nt),s(ht)]}function Xu(){}function Mv($e){if((ht=$e.length)<4)return!1;for(var nt=0,ht,mt=$e[ht-1][1]*$e[0][0]-$e[ht-1][0]*$e[0][1];++nt<ht;)mt+=$e[nt-1][1]*$e[nt][0]-$e[nt-1][0]*$e[nt][1];return mt<=0}function Ev($e,nt){for(var ht=nt[0],mt=nt[1],_t=!1,kt=0,Bt=$e.length,pr=Bt-1;kt<Bt;pr=kt++){var Ar=$e[kt],ir=Ar[0],Er=Ar[1],Fr=$e[pr],Vr=Fr[0],an=Fr[1];Er>mt^an>mt&&ht<(Vr-ir)*(mt-Er)/(an-Er)+ir&&(_t=!_t)}return _t}function Cv($e,nt){var ht=nt.stream,mt;if(!ht)throw new Error("invalid projection");switch($e&&$e.type){case"Feature":mt=gc;break;case"FeatureCollection":mt=Lv;break;default:mt=mu;break}return mt($e,ht)}function Lv($e,nt){return{type:"FeatureCollection",features:$e.features.map(function(ht){return gc(ht,nt)})}}function gc($e,nt){return{type:"Feature",id:$e.id,properties:$e.properties,geometry:mu($e.geometry,nt)}}function lh($e,nt){return{type:"GeometryCollection",geometries:$e.geometries.map(function(ht){return mu(ht,nt)})}}function mu($e,nt){if(!$e)return null;if($e.type==="GeometryCollection")return lh($e,nt);var ht;switch($e.type){case"Point":ht=xu;break;case"MultiPoint":ht=xu;break;case"LineString":ht=uh;break;case"MultiLineString":ht=uh;break;case"Polygon":ht=$u;break;case"MultiPolygon":ht=$u;break;case"Sphere":ht=$u;break;default:return null}return(0,Qn.Z)($e,nt(ht)),ht.result()}var fo=[],ts=[],xu={point:function($e,nt){fo.push([$e,nt])},result:function(){var $e=fo.length?fo.length<2?{type:"Point",coordinates:fo[0]}:{type:"MultiPoint",coordinates:fo}:null;return fo=[],$e}},uh={lineStart:Xu,point:function($e,nt){fo.push([$e,nt])},lineEnd:function(){fo.length&&(ts.push(fo),fo=[])},result:function(){var $e=ts.length?ts.length<2?{type:"LineString",coordinates:ts[0]}:{type:"MultiLineString",coordinates:ts}:null;return ts=[],$e}},$u={polygonStart:Xu,lineStart:Xu,point:function($e,nt){fo.push([$e,nt])},lineEnd:function(){var $e=fo.length;if($e){do fo.push(fo[0].slice());while(++$e<4);ts.push(fo),fo=[]}},polygonEnd:Xu,result:function(){if(!ts.length)return null;var $e=[],nt=[];return ts.forEach(function(ht){Mv(ht)?$e.push([ht]):nt.push(ht)}),nt.forEach(function(ht){var mt=ht[0];$e.some(function(_t){if(Ev(_t[0],mt))return _t.push(ht),!0})||$e.push([ht])}),ts=[],$e.length?$e.length>1?{type:"MultiPolygon",coordinates:$e}:{type:"Polygon",coordinates:$e[0]}:null}};function qs($e){var nt=$e(l,0)[0]-$e(-l,0)[0];function ht(mt,_t){var kt=L(mt)<l,Bt=$e(kt?mt:mt>0?mt-v:mt+v,_t),pr=(Bt[0]-Bt[1])*M,Ar=(Bt[0]+Bt[1])*M;if(kt)return[pr,Ar];var ir=nt*M,Er=pr>0^Ar>0?-1:1;return[Er*pr-u(Ar)*ir,Er*Ar-u(pr)*ir]}return $e.invert&&(ht.invert=function(mt,_t){var kt=(mt+_t)*M,Bt=(_t-mt)*M,pr=L(kt)<.5*nt&&L(Bt)<.5*nt;if(!pr){var Ar=nt*M,ir=kt>0^Bt>0?-1:1,Er=-ir*mt+(Bt>0?1:-1)*Ar,Fr=-ir*_t+(kt>0?1:-1)*Ar;kt=(-Er-Fr)*M,Bt=(Er-Fr)*M}var Vr=$e.invert(kt,Bt);return pr||(Vr[0]+=kt>0?v:-v),Vr}),(0,p.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function Pv(){return qs(bn).scale(176.423)}function fh(){return qs(Mr).scale(111.48)}function ch($e,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ht(ir){var Er=ir.length,Fr=2,Vr=new Array(Er);for(Vr[0]=+ir[0].toFixed(nt),Vr[1]=+ir[1].toFixed(nt);Fr<Er;)Vr[Fr]=ir[Fr],++Fr;return Vr}function mt(ir){return ir.map(ht)}function _t(ir){for(var Er=ht(ir[0]),Fr=[Er],Vr=1;Vr<ir.length;Vr++){var an=ht(ir[Vr]);(an.length>2||an[0]!=Er[0]||an[1]!=Er[1])&&(Fr.push(an),Er=an)}return Fr.length===1&&ir.length>1&&Fr.push(ht(ir[ir.length-1])),Fr}function kt(ir){return ir.map(_t)}function Bt(ir){if(ir==null)return ir;var Er;switch(ir.type){case"GeometryCollection":Er={type:"GeometryCollection",geometries:ir.geometries.map(Bt)};break;case"Point":Er={type:"Point",coordinates:ht(ir.coordinates)};break;case"MultiPoint":Er={type:ir.type,coordinates:mt(ir.coordinates)};break;case"LineString":Er={type:ir.type,coordinates:_t(ir.coordinates)};break;case"MultiLineString":case"Polygon":Er={type:ir.type,coordinates:kt(ir.coordinates)};break;case"MultiPolygon":Er={type:"MultiPolygon",coordinates:ir.coordinates.map(kt)};break;default:return ir}return ir.bbox!=null&&(Er.bbox=ir.bbox),Er}function pr(ir){var Er={type:"Feature",properties:ir.properties,geometry:Bt(ir.geometry)};return ir.id!=null&&(Er.id=ir.id),ir.bbox!=null&&(Er.bbox=ir.bbox),Er}if($e!=null)switch($e.type){case"Feature":return pr($e);case"FeatureCollection":{var Ar={type:"FeatureCollection",features:$e.features.map(pr)};return $e.bbox!=null&&(Ar.bbox=$e.bbox),Ar}default:return Bt($e)}return $e}function yc($e){var nt=s($e);function ht(mt,_t){var kt=nt?m(mt*nt/2)/nt:mt/2;if(!_t)return[2*kt,-$e];var Bt=2*n(kt*s(_t)),pr=1/m(_t);return[s(Bt)*pr,_t+(1-T(Bt))*pr-$e]}return ht.invert=function(mt,_t){if(L(_t+=$e)<f)return[nt?2*n(nt*mt/2)/nt:mt,0];var kt=mt*mt+_t*_t,Bt=0,pr=10,Ar;do{var ir=m(Bt),Er=1/T(Bt),Fr=kt-2*_t*Bt+Bt*Bt;Bt-=Ar=(ir*Fr+2*(Bt-_t))/(2+Fr*Er*Er+2*(Bt-_t)*ir)}while(L(Ar)>f&&--pr>0);var Vr=mt*(ir=m(Bt)),an=m(L(_t)<L(Bt+1/ir)?P(Vr)*.5:x(Vr)*.5+v/4)/s(Bt);return[nt?2*n(nt*an)/nt:2*an,Bt]},ht}function hh(){return lt(yc).scale(131.215)}var Oo=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Oo.forEach(function($e){$e[1]*=1.0144});function Ts($e,nt){var ht=i(18,L(nt)*36/v),mt=y(ht),_t=ht-mt,kt=(Fr=Oo[mt])[0],Bt=Fr[1],pr=(Fr=Oo[++mt])[0],Ar=Fr[1],ir=(Fr=Oo[i(19,++mt)])[0],Er=Fr[1],Fr;return[$e*(pr+_t*(ir-kt)/2+_t*_t*(ir-2*pr+kt)/2),(nt>0?l:-l)*(Ar+_t*(Er-Bt)/2+_t*_t*(Er-2*Ar+Bt)/2)]}Ts.invert=function($e,nt){var ht=nt/l,mt=ht*90,_t=i(18,L(mt/5)),kt=t(0,y(_t));do{var Bt=Oo[kt][1],pr=Oo[kt+1][1],Ar=Oo[i(19,kt+2)][1],ir=Ar-Bt,Er=Ar-2*pr+Bt,Fr=2*(L(ht)-pr)/ir,Vr=Er/ir,an=Fr*(1-Vr*Fr*(1-2*Vr*Fr));if(an>=0||kt===1){mt=(nt>=0?5:-5)*(an+_t);var Sn=50,Dn;do _t=i(18,L(mt)/5),kt=y(_t),an=_t-kt,Bt=Oo[kt][1],pr=Oo[kt+1][1],Ar=Oo[i(19,kt+2)][1],mt-=(Dn=(nt>=0?l:-l)*(pr+an*(Ar-Bt)/2+an*an*(Ar-2*pr+Bt)/2)-nt)*E;while(L(Dn)>S&&--Sn>0);break}}while(--kt>=0);var In=Oo[kt][0],qn=Oo[kt+1][0],Da=Oo[i(19,kt+2)][0];return[$e/(qn+an*(Da-In)/2+an*an*(Da-2*qn+In)/2),mt*b]};function xl(){return(0,p.Z)(Ts).scale(152.63)}function bu($e){function nt(ht,mt){var _t=T(mt),kt=($e-1)/($e-_t*T(ht));return[kt*_t*s(ht),kt*s(mt)]}return nt.invert=function(ht,mt){var _t=ht*ht+mt*mt,kt=z(_t),Bt=($e-z(1-_t*($e+1)/($e-1)))/(($e-1)/kt+kt/($e-1));return[C(ht*Bt,kt*z(1-Bt*Bt)),kt?P(mt*Bt/kt):0]},nt}function zf($e,nt){var ht=bu($e);if(!nt)return ht;var mt=T(nt),_t=s(nt);function kt(Bt,pr){var Ar=ht(Bt,pr),ir=Ar[1],Er=ir*_t/($e-1)+mt;return[Ar[0]*mt/Er,ir/Er]}return kt.invert=function(Bt,pr){var Ar=($e-1)/($e-1-pr*_t);return ht.invert(Ar*Bt,Ar*pr*mt)},kt}function Hl(){var $e=2,nt=0,ht=(0,p.r)(zf),mt=ht($e,nt);return mt.distance=function(_t){return arguments.length?ht($e=+_t,nt):$e},mt.tilt=function(_t){return arguments.length?ht($e,nt=_t*b):nt*E},mt.scale(432.147).clipAngle(x(1/$e)*E-1e-6)}var Gl=1e-4,vh=1e4,el=-180,wu=el+Gl,bl=180,tl=bl-Gl,Ku=-90,Tu=Ku+Gl,pi=90,Au=pi-Gl;function Ff($e){return $e.length>0}function dh($e){return Math.floor($e*vh)/vh}function Su($e){return $e===Ku||$e===pi?[0,$e]:[el,dh($e)]}function Ju($e){var nt=$e[0],ht=$e[1],mt=!1;return nt<=wu?(nt=el,mt=!0):nt>=tl&&(nt=bl,mt=!0),ht<=Tu?(ht=Ku,mt=!0):ht>=Au&&(ht=pi,mt=!0),mt?[nt,ht]:$e}function Of($e){return $e.map(Ju)}function mc($e,nt,ht){for(var mt=0,_t=$e.length;mt<_t;++mt){var kt=$e[mt].slice();ht.push({index:-1,polygon:nt,ring:kt});for(var Bt=0,pr=kt.length;Bt<pr;++Bt){var Ar=kt[Bt],ir=Ar[0],Er=Ar[1];if(ir<=wu||ir>=tl||Er<=Tu||Er>=Au){kt[Bt]=Ju(Ar);for(var Fr=Bt+1;Fr<pr;++Fr){var Vr=kt[Fr],an=Vr[0],Sn=Vr[1];if(an>wu&&an<tl&&Sn>Tu&&Sn<Au)break}if(Fr===Bt+1)continue;if(Bt){var Dn={index:-1,polygon:nt,ring:kt.slice(0,Bt+1)};Dn.ring[Dn.ring.length-1]=Su(Er),ht[ht.length-1]=Dn}else ht.pop();if(Fr>=pr)break;ht.push({index:-1,polygon:nt,ring:kt=kt.slice(Fr-1)}),kt[0]=Su(kt[0][1]),Bt=-1,pr=kt.length}}}}function Qu($e){var nt,ht=$e.length,mt={},_t={},kt,Bt,pr,Ar,ir;for(nt=0;nt<ht;++nt){if(kt=$e[nt],Bt=kt.ring[0],Ar=kt.ring[kt.ring.length-1],Bt[0]===Ar[0]&&Bt[1]===Ar[1]){kt.polygon.push(kt.ring),$e[nt]=null;continue}kt.index=nt,mt[Bt]=_t[Ar]=kt}for(nt=0;nt<ht;++nt)if(kt=$e[nt],kt){if(Bt=kt.ring[0],Ar=kt.ring[kt.ring.length-1],pr=_t[Bt],ir=mt[Ar],delete mt[Bt],delete _t[Ar],Bt[0]===Ar[0]&&Bt[1]===Ar[1]){kt.polygon.push(kt.ring);continue}pr?(delete _t[Bt],delete mt[pr.ring[0]],pr.ring.pop(),$e[pr.index]=null,kt={index:-1,polygon:pr.polygon,ring:pr.ring.concat(kt.ring)},pr===ir?kt.polygon.push(kt.ring):(kt.index=ht++,$e.push(mt[kt.ring[0]]=_t[kt.ring[kt.ring.length-1]]=kt))):ir?(delete mt[Ar],delete _t[ir.ring[ir.ring.length-1]],kt.ring.pop(),kt={index:ht++,polygon:ir.polygon,ring:kt.ring.concat(ir.ring)},$e[ir.index]=null,$e.push(mt[kt.ring[0]]=_t[kt.ring[kt.ring.length-1]]=kt)):(kt.ring.push(kt.ring[0]),kt.polygon.push(kt.ring))}}function qu($e){var nt={type:"Feature",geometry:wl($e.geometry)};return $e.id!=null&&(nt.id=$e.id),$e.bbox!=null&&(nt.bbox=$e.bbox),$e.properties!=null&&(nt.properties=$e.properties),nt}function wl($e){if($e==null)return $e;var nt,ht,mt,_t;switch($e.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:$e.geometries.map(wl)};break;case"Point":nt={type:"Point",coordinates:Ju($e.coordinates)};break;case"MultiPoint":case"LineString":nt={type:$e.type,coordinates:Of($e.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:$e.coordinates.map(Of)};break;case"Polygon":{var kt=[];mc($e.coordinates,kt,ht=[]),Qu(ht),nt={type:"Polygon",coordinates:kt};break}case"MultiPolygon":{ht=[],mt=-1,_t=$e.coordinates.length;for(var Bt=new Array(_t);++mt<_t;)mc($e.coordinates[mt],Bt[mt]=[],ht);Qu(ht),nt={type:"MultiPolygon",coordinates:Bt.filter(Ff)};break}default:return $e}return $e.bbox!=null&&(nt.bbox=$e.bbox),nt}function ef($e){if($e==null)return $e;switch($e.type){case"Feature":return qu($e);case"FeatureCollection":{var nt={type:"FeatureCollection",features:$e.features.map(qu)};return $e.bbox!=null&&(nt.bbox=$e.bbox),nt}default:return wl($e)}}function Tl($e,nt){var ht=m(nt/2),mt=s(g*ht);return[$e*(.74482-.34588*mt*mt),1.70711*ht]}Tl.invert=function($e,nt){var ht=nt/1.70711,mt=s(g*ht);return[$e/(.74482-.34588*mt*mt),2*n(ht)]};function to(){return(0,p.Z)(Tl).scale(146.153)}function Bs($e,nt,ht){var mt=(0,hc.Z)(nt,ht),_t=mt(.5),kt=(0,We.Z)([-_t[0],-_t[1]])(nt),Bt=mt.distance/2,pr=-P(s(kt[1]*b)/s(Bt)),Ar=[-_t[0],-_t[1],-(kt[0]>0?v-pr:pr)*E],ir=(0,p.Z)($e(Bt)).rotate(Ar),Er=(0,We.Z)(Ar),Fr=ir.center;return delete ir.rotate,ir.center=function(Vr){return arguments.length?Fr(Er(Vr)):Er.invert(Fr())},ir.clipAngle(90)}function xc($e){var nt=T($e);function ht(mt,_t){var kt=(0,yl.M)(mt,_t);return kt[0]*=nt,kt}return ht.invert=function(mt,_t){return yl.M.invert(mt/nt,_t)},ht}function Wl(){return Bf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Bf($e,nt){return Bs(xc,$e,nt)}function tf($e){if(!($e*=2))return le.N;var nt=-$e/2,ht=-nt,mt=$e*$e,_t=m(ht),kt=.5/s(ht);function Bt(pr,Ar){var ir=x(T(Ar)*T(pr-nt)),Er=x(T(Ar)*T(pr-ht)),Fr=Ar<0?-1:1;return ir*=ir,Er*=Er,[(ir-Er)/(2*$e),Fr*z(4*mt*Er-(mt-ir+Er)*(mt-ir+Er))/(2*$e)]}return Bt.invert=function(pr,Ar){var ir=Ar*Ar,Er=T(z(ir+(Vr=pr+nt)*Vr)),Fr=T(z(ir+(Vr=pr+ht)*Vr)),Vr,an;return[C(an=Er-Fr,Vr=(Er+Fr)*_t),(Ar<0?-1:1)*x(z(Vr*Vr+an*an)*kt)]},Bt}function Rv(){return ph([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ph($e,nt){return Bs(tf,$e,nt)}function Ro($e,nt){if(L(nt)<f)return[$e,0];var ht=L(nt/l),mt=P(ht);if(L($e)<f||L(L(nt)-l)<f)return[0,u(nt)*v*m(mt/2)];var _t=T(mt),kt=L(v/$e-$e/v)/2,Bt=kt*kt,pr=_t/(ht+_t-1),Ar=pr*(2/ht-1),ir=Ar*Ar,Er=ir+Bt,Fr=pr-ir,Vr=Bt+pr;return[u($e)*v*(kt*Fr+z(Bt*Fr*Fr-Er*(pr*pr-ir)))/Er,u(nt)*v*(Ar*Vr-kt*z((Bt+1)*Er-Vr*Vr))/Er]}Ro.invert=function($e,nt){if(L(nt)<f)return[$e,0];if(L($e)<f)return[0,l*s(2*n(nt/v))];var ht=($e/=v)*$e,mt=(nt/=v)*nt,_t=ht+mt,kt=_t*_t,Bt=-L(nt)*(1+_t),pr=Bt-2*mt+ht,Ar=-2*Bt+1+2*mt+kt,ir=mt/Ar+(2*pr*pr*pr/(Ar*Ar*Ar)-9*Bt*pr/(Ar*Ar))/27,Er=(Bt-pr*pr/(3*Ar))/Ar,Fr=2*z(-Er/3),Vr=x(3*ir/(Er*Fr))/3;return[v*(_t-1+z(1+2*(ht-mt)+kt))/(2*$e),u(nt)*v*(-Fr*T(Vr+v/3)-pr/(3*Ar))]};function rf(){return(0,p.Z)(Ro).scale(79.4183)}function Mu($e,nt){if(L(nt)<f)return[$e,0];var ht=L(nt/l),mt=P(ht);if(L($e)<f||L(L(nt)-l)<f)return[0,u(nt)*v*m(mt/2)];var _t=T(mt),kt=L(v/$e-$e/v)/2,Bt=kt*kt,pr=_t*(z(1+Bt)-kt*_t)/(1+Bt*ht*ht);return[u($e)*v*pr,u(nt)*v*z(1-pr*(2*kt+pr))]}Mu.invert=function($e,nt){if(!$e)return[0,l*s(2*n(nt/v))];var ht=L($e/v),mt=(1-ht*ht-(nt/=v)*nt)/(2*ht),_t=mt*mt,kt=z(_t+1);return[u($e)*v*(kt-mt),u(nt)*l*s(2*C(z((1-2*mt*ht)*(mt+kt)-ht),z(kt+mt+ht)))]};function gh(){return(0,p.Z)(Mu).scale(79.4183)}function Al($e,nt){if(L(nt)<f)return[$e,0];var ht=nt/l,mt=P(ht);if(L($e)<f||L(L(nt)-l)<f)return[0,v*m(mt/2)];var _t=(v/$e-$e/v)/2,kt=ht/(1+T(mt));return[v*(u($e)*z(_t*_t+1-kt*kt)-_t),v*kt]}Al.invert=function($e,nt){if(!nt)return[$e,0];var ht=nt/v,mt=(v*v*(1-ht*ht)-$e*$e)/(2*v*$e);return[$e?v*(u($e)*z(mt*mt+1)-mt):0,l*s(2*n(ht))]};function kv(){return(0,p.Z)(Al).scale(79.4183)}function Zo($e,nt){if(!nt)return[$e,0];var ht=L(nt);if(!$e||ht===l)return[0,nt];var mt=ht/l,_t=mt*mt,kt=(8*mt-_t*(_t+2)-5)/(2*_t*(mt-1)),Bt=kt*kt,pr=mt*kt,Ar=_t+Bt+2*pr,ir=mt+3*kt,Er=$e/l,Fr=Er+1/Er,Vr=u(L($e)-l)*z(Fr*Fr-4),an=Vr*Vr,Sn=Ar*(_t+Bt*an-1)+(1-_t)*(_t*(ir*ir+4*Bt)+12*pr*Bt+4*Bt*Bt),Dn=(Vr*(Ar+Bt-1)+2*z(Sn))/(4*Ar+an);return[u($e)*l*Dn,u(nt)*l*z(1+Vr*L(Dn)-Dn*Dn)]}Zo.invert=function($e,nt){var ht;if(!$e||!nt)return[$e,nt];nt/=v;var mt=u($e)*$e/l,_t=(mt*mt-1+4*nt*nt)/L(mt),kt=_t*_t,Bt=2*nt,pr=50;do{var Ar=Bt*Bt,ir=(8*Bt-Ar*(Ar+2)-5)/(2*Ar*(Bt-1)),Er=(3*Bt-Ar*Bt-10)/(2*Ar*Bt),Fr=ir*ir,Vr=Bt*ir,an=Bt+ir,Sn=an*an,Dn=Bt+3*ir,In=Sn*(Ar+Fr*kt-1)+(1-Ar)*(Ar*(Dn*Dn+4*Fr)+Fr*(12*Vr+4*Fr)),qn=-2*an*(4*Vr*Fr+(1-4*Ar+3*Ar*Ar)*(1+Er)+Fr*(-6+14*Ar-kt+(-8+8*Ar-2*kt)*Er)+Vr*(-8+12*Ar+(-10+10*Ar-kt)*Er)),Da=z(In),Ia=_t*(Sn+Fr-1)+2*Da-mt*(4*Sn+kt),_a=_t*(2*ir*Er+2*an*(1+Er))+qn/Da-8*an*(_t*(-1+Fr+Sn)+2*Da)*(1+Er)/(kt+4*Sn);Bt-=ht=Ia/_a}while(ht>f&&--pr>0);return[u($e)*(z(_t*_t+4)+_t)*v/4,l*Bt]};function nf(){return(0,p.Z)(Zo).scale(127.16)}function Nf($e,nt,ht,mt,_t){function kt(Bt,pr){var Ar=ht*s(mt*pr),ir=z(1-Ar*Ar),Er=z(2/(1+ir*T(Bt*=_t)));return[$e*ir*Er*s(Bt),nt*Ar*Er]}return kt.invert=function(Bt,pr){var Ar=Bt/$e,ir=pr/nt,Er=z(Ar*Ar+ir*ir),Fr=2*P(Er/2);return[C(Bt*m(Fr),$e*Er)/_t,Er&&P(pr*s(Fr)/(nt*ht*Er))/mt]},kt}function rl($e,nt,ht,mt){var _t=v/3;$e=t($e,f),nt=t(nt,f),$e=i($e,l),nt=i(nt,v-f),ht=t(ht,0),ht=i(ht,100-f),mt=t(mt,f);var kt=ht/100+1,Bt=mt/100,pr=x(kt*T(_t))/_t,Ar=s($e)/s(pr*l),ir=nt/v,Er=z(Bt*s($e/2)/s(nt/2)),Fr=Er/z(ir*Ar*pr),Vr=1/(Er*z(ir*Ar*pr));return Nf(Fr,Vr,Ar,pr,ir)}function Sl(){var $e=65*b,nt=60*b,ht=20,mt=200,_t=(0,p.r)(rl),kt=_t($e,nt,ht,mt);return kt.poleline=function(Bt){return arguments.length?_t($e=+Bt*b,nt,ht,mt):$e*E},kt.parallels=function(Bt){return arguments.length?_t($e,nt=+Bt*b,ht,mt):nt*E},kt.inflation=function(Bt){return arguments.length?_t($e,nt,ht=+Bt,mt):ht},kt.ratio=function(Bt){return arguments.length?_t($e,nt,ht,mt=+Bt):mt},kt.scale(163.775)}function bc(){return Sl().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var af=4*v+3*z(3),of=2*z(2*v*z(3)/af),Uf=be(of*z(3)/v,of,af/6);function yh(){return(0,p.Z)(Uf).scale(176.84)}function sf($e,nt){return[$e*z(1-3*nt*nt/(v*v)),nt]}sf.invert=function($e,nt){return[$e/z(1-3*nt*nt/(v*v)),nt]};function wc(){return(0,p.Z)(sf).scale(152.63)}function jl($e,nt){var ht=T(nt),mt=T($e)*ht,_t=1-mt,kt=T($e=C(s($e)*ht,-s(nt))),Bt=s($e);return ht=z(1-mt*mt),[Bt*ht-kt*_t,-kt*ht-Bt*_t]}jl.invert=function($e,nt){var ht=($e*$e+nt*nt)/-2,mt=z(-ht*(2+ht)),_t=nt*ht+$e*mt,kt=$e*ht-nt*mt,Bt=z(kt*kt+_t*_t);return[C(mt*_t,Bt*(1+ht)),Bt?-P(mt*kt/Bt):0]};function Tc(){return(0,p.Z)(jl).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function lf($e,nt){var ht=Y($e,nt);return[(ht[0]+$e/l)/2,(ht[1]+nt)/2]}lf.invert=function($e,nt){var ht=$e,mt=nt,_t=25;do{var kt=T(mt),Bt=s(mt),pr=s(2*mt),Ar=Bt*Bt,ir=kt*kt,Er=s(ht),Fr=T(ht/2),Vr=s(ht/2),an=Vr*Vr,Sn=1-ir*Fr*Fr,Dn=Sn?x(kt*Fr)*z(In=1/Sn):In=0,In,qn=.5*(2*Dn*kt*Vr+ht/l)-$e,Da=.5*(Dn*Bt+mt)-nt,Ia=.5*In*(ir*an+Dn*kt*Fr*Ar)+.5/l,_a=In*(Er*pr/4-Dn*Bt*Vr),Ba=.125*In*(pr*Vr-Dn*Bt*ir*Er),Ja=.5*In*(Ar*Fr+Dn*an*kt)+.5,gi=_a*Ba-Ja*Ia,ji=(Da*_a-qn*Ja)/gi,fe=(qn*Ba-Da*Ia)/gi;ht-=ji,mt-=fe}while((L(ji)>f||L(fe)>f)&&--_t>0);return[ht,mt]};function mh(){return(0,p.Z)(lf).scale(158.837)}},33940:function(V,B,e){e.d(B,{Z:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(T){C(n,T,this.t),C(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new L;function C(T,d,y){var r=T.s=d+y,t=r-d,i=r-t;T.t=d-i+(y-t)}},97860:function(V,B,e){e.d(B,{L9:function(){return T},ZP:function(){return S},gL:function(){return h}});var p=e(33940),L=e(39695),n=e(73182),C=e(72736),T=(0,p.Z)(),d=(0,p.Z)(),y,r,t,i,a,h={point:n.Z,lineStart:n.Z,lineEnd:n.Z,polygonStart:function(){T.reset(),h.lineStart=u,h.lineEnd=s},polygonEnd:function(){var v=+T;d.add(v<0?L.BZ+v:v),this.lineStart=this.lineEnd=this.point=n.Z},sphere:function(){d.add(L.BZ)}};function u(){h.point=m}function s(){f(y,r)}function m(v,l){h.point=f,y=v,r=l,v*=L.uR,l*=L.uR,t=v,i=(0,L.mC)(l=l/2+L.pu),a=(0,L.O$)(l)}function f(v,l){v*=L.uR,l*=L.uR,l=l/2+L.pu;var g=v-t,M=g>=0?1:-1,A=M*g,k=(0,L.mC)(l),w=(0,L.O$)(l),E=a*w,b=i*k+E*(0,L.mC)(A),o=E*M*(0,L.O$)(A);T.add((0,L.fv)(o,b)),t=v,i=k,a=w}function S(v){return d.reset(),(0,C.Z)(v,h),d*2}},77338:function(V,B,e){e.d(B,{Z:function(){return P}});var p=e(33940),L=e(97860),n=e(7620),C=e(39695),T=e(72736),d,y,r,t,i,a,h,u,s=(0,p.Z)(),m,f,S={point:v,lineStart:g,lineEnd:M,polygonStart:function(){S.point=A,S.lineStart=k,S.lineEnd=w,s.reset(),L.gL.polygonStart()},polygonEnd:function(){L.gL.polygonEnd(),S.point=v,S.lineStart=g,S.lineEnd=M,L.L9<0?(d=-(r=180),y=-(t=90)):s>C.Ho?t=90:s<-C.Ho&&(y=-90),f[0]=d,f[1]=r},sphere:function(){d=-(r=180),y=-(t=90)}};function v(x,z){m.push(f=[d=x,r=x]),z<y&&(y=z),z>t&&(t=z)}function l(x,z){var _=(0,n.Og)([x*C.uR,z*C.uR]);if(u){var G=(0,n.T5)(u,_),F=[G[1],-G[0],0],N=(0,n.T5)(F,G);(0,n.iJ)(N),N=(0,n.Y1)(N);var U=x-i,O=U>0?1:-1,H=N[0]*C.RW*O,Y,q=(0,C.Wn)(U)>180;q^(O*i<H&&H<O*x)?(Y=N[1]*C.RW,Y>t&&(t=Y)):(H=(H+360)%360-180,q^(O*i<H&&H<O*x)?(Y=-N[1]*C.RW,Y<y&&(y=Y)):(z<y&&(y=z),z>t&&(t=z))),q?x<i?E(d,x)>E(d,r)&&(r=x):E(x,r)>E(d,r)&&(d=x):r>=d?(x<d&&(d=x),x>r&&(r=x)):x>i?E(d,x)>E(d,r)&&(r=x):E(x,r)>E(d,r)&&(d=x)}else m.push(f=[d=x,r=x]);z<y&&(y=z),z>t&&(t=z),u=_,i=x}function g(){S.point=l}function M(){f[0]=d,f[1]=r,S.point=v,u=null}function A(x,z){if(u){var _=x-i;s.add((0,C.Wn)(_)>180?_+(_>0?360:-360):_)}else a=x,h=z;L.gL.point(x,z),l(x,z)}function k(){L.gL.lineStart()}function w(){A(a,h),L.gL.lineEnd(),(0,C.Wn)(s)>C.Ho&&(d=-(r=180)),f[0]=d,f[1]=r,u=null}function E(x,z){return(z-=x)<0?z+360:z}function b(x,z){return x[0]-z[0]}function o(x,z){return x[0]<=x[1]?x[0]<=z&&z<=x[1]:z<x[0]||x[1]<z}function P(x){var z,_,G,F,N,U,O;if(t=r=-(d=y=1/0),m=[],(0,T.Z)(x,S),_=m.length){for(m.sort(b),z=1,G=m[0],N=[G];z<_;++z)F=m[z],o(G,F[0])||o(G,F[1])?(E(G[0],F[1])>E(G[0],G[1])&&(G[1]=F[1]),E(F[0],G[1])>E(G[0],G[1])&&(G[0]=F[0])):N.push(G=F);for(U=-1/0,_=N.length-1,z=0,G=N[_];z<=_;G=F,++z)F=N[z],(O=E(G[1],F[0]))>U&&(U=O,d=F[0],r=G[1])}return m=f=null,d===1/0||y===1/0?[[NaN,NaN],[NaN,NaN]]:[[d,y],[r,t]]}},7620:function(V,B,e){e.d(B,{Og:function(){return n},T:function(){return y},T5:function(){return T},Y1:function(){return L},iJ:function(){return r},j9:function(){return C},s0:function(){return d}});var p=e(39695);function L(t){return[(0,p.fv)(t[1],t[0]),(0,p.ZR)(t[2])]}function n(t){var i=t[0],a=t[1],h=(0,p.mC)(a);return[h*(0,p.mC)(i),h*(0,p.O$)(i),(0,p.O$)(a)]}function C(t,i){return t[0]*i[0]+t[1]*i[1]+t[2]*i[2]}function T(t,i){return[t[1]*i[2]-t[2]*i[1],t[2]*i[0]-t[0]*i[2],t[0]*i[1]-t[1]*i[0]]}function d(t,i){t[0]+=i[0],t[1]+=i[1],t[2]+=i[2]}function y(t,i){return[t[0]*i,t[1]*i,t[2]*i]}function r(t){var i=(0,p._b)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=i,t[1]/=i,t[2]/=i}},66624:function(V,B,e){e.d(B,{Z:function(){return _}});var p=e(39695),L=e(73182),n=e(72736),C,T,d,y,r,t,i,a,h,u,s,m,f,S,v,l,g={sphere:L.Z,point:M,lineStart:k,lineEnd:b,polygonStart:function(){g.lineStart=o,g.lineEnd=P},polygonEnd:function(){g.lineStart=k,g.lineEnd=b}};function M(G,F){G*=p.uR,F*=p.uR;var N=(0,p.mC)(F);A(N*(0,p.mC)(G),N*(0,p.O$)(G),(0,p.O$)(F))}function A(G,F,N){++C,d+=(G-d)/C,y+=(F-y)/C,r+=(N-r)/C}function k(){g.point=w}function w(G,F){G*=p.uR,F*=p.uR;var N=(0,p.mC)(F);S=N*(0,p.mC)(G),v=N*(0,p.O$)(G),l=(0,p.O$)(F),g.point=E,A(S,v,l)}function E(G,F){G*=p.uR,F*=p.uR;var N=(0,p.mC)(F),U=N*(0,p.mC)(G),O=N*(0,p.O$)(G),H=(0,p.O$)(F),Y=(0,p.fv)((0,p._b)((Y=v*H-l*O)*Y+(Y=l*U-S*H)*Y+(Y=S*O-v*U)*Y),S*U+v*O+l*H);T+=Y,t+=Y*(S+(S=U)),i+=Y*(v+(v=O)),a+=Y*(l+(l=H)),A(S,v,l)}function b(){g.point=M}function o(){g.point=x}function P(){z(m,f),g.point=M}function x(G,F){m=G,f=F,G*=p.uR,F*=p.uR,g.point=z;var N=(0,p.mC)(F);S=N*(0,p.mC)(G),v=N*(0,p.O$)(G),l=(0,p.O$)(F),A(S,v,l)}function z(G,F){G*=p.uR,F*=p.uR;var N=(0,p.mC)(F),U=N*(0,p.mC)(G),O=N*(0,p.O$)(G),H=(0,p.O$)(F),Y=v*H-l*O,q=l*U-S*H,ne=S*O-v*U,oe=(0,p._b)(Y*Y+q*q+ne*ne),he=(0,p.ZR)(oe),J=oe&&-he/oe;h+=J*Y,u+=J*q,s+=J*ne,T+=he,t+=he*(S+(S=U)),i+=he*(v+(v=O)),a+=he*(l+(l=H)),A(S,v,l)}function _(G){C=T=d=y=r=t=i=a=h=u=s=0,(0,n.Z)(G,g);var F=h,N=u,U=s,O=F*F+N*N+U*U;return O<p.aW&&(F=t,N=i,U=a,T<p.Ho&&(F=d,N=y,U=r),O=F*F+N*N+U*U,O<p.aW)?[NaN,NaN]:[(0,p.fv)(N,F)*p.RW,(0,p.ZR)(U/(0,p._b)(O))*p.RW]}},7613:function(V,B,e){e.d(B,{m:function(){return T},Z:function(){return y}});var p=e(7620);function L(r){return function(){return r}}var n=e(39695),C=e(49386);function T(r,t,i,a,h,u){if(i){var s=(0,n.mC)(t),m=(0,n.O$)(t),f=a*i;h==null?(h=t+a*n.BZ,u=t-f/2):(h=d(s,h),u=d(s,u),(a>0?h<u:h>u)&&(h+=a*n.BZ));for(var S,v=h;a>0?v>u:v<u;v-=f)S=(0,p.Y1)([s,-m*(0,n.mC)(v),-m*(0,n.O$)(v)]),r.point(S[0],S[1])}}function d(r,t){t=(0,p.Og)(t),t[0]-=r,(0,p.iJ)(t);var i=(0,n.Kh)(-t[1]);return((-t[2]<0?-i:i)+n.BZ-n.Ho)%n.BZ}function y(){var r=L([0,0]),t=L(90),i=L(6),a,h,u={point:s};function s(f,S){a.push(f=h(f,S)),f[0]*=n.RW,f[1]*=n.RW}function m(){var f=r.apply(this,arguments),S=t.apply(this,arguments)*n.uR,v=i.apply(this,arguments)*n.uR;return a=[],h=(0,C.I)(-f[0]*n.uR,-f[1]*n.uR,0).invert,T(u,S,v,1),f={type:"Polygon",coordinates:[a]},a=h=null,f}return m.center=function(f){return arguments.length?(r=typeof f=="function"?f:L([+f[0],+f[1]]),m):r},m.radius=function(f){return arguments.length?(t=typeof f=="function"?f:L(+f),m):t},m.precision=function(f){return arguments.length?(i=typeof f=="function"?f:L(+f),m):i},m}},87070:function(V,B,e){var p=e(97023),L=e(39695);B.Z=(0,p.Z)(function(){return!0},n,T,[-L.pi,-L.ou]);function n(d){var y=NaN,r=NaN,t=NaN,i;return{lineStart:function(){d.lineStart(),i=1},point:function(a,h){var u=a>0?L.pi:-L.pi,s=(0,L.Wn)(a-y);(0,L.Wn)(s-L.pi)<L.Ho?(d.point(y,r=(r+h)/2>0?L.ou:-L.ou),d.point(t,r),d.lineEnd(),d.lineStart(),d.point(u,r),d.point(a,r),i=0):t!==u&&s>=L.pi&&((0,L.Wn)(y-t)<L.Ho&&(y-=t*L.Ho),(0,L.Wn)(a-u)<L.Ho&&(a-=u*L.Ho),r=C(y,r,a,h),d.point(t,r),d.lineEnd(),d.lineStart(),d.point(u,r),i=0),d.point(y=a,r=h),t=u},lineEnd:function(){d.lineEnd(),y=r=NaN},clean:function(){return 2-i}}}function C(d,y,r,t){var i,a,h=(0,L.O$)(d-r);return(0,L.Wn)(h)>L.Ho?(0,L.z4)(((0,L.O$)(y)*(a=(0,L.mC)(t))*(0,L.O$)(r)-(0,L.O$)(t)*(i=(0,L.mC)(y))*(0,L.O$)(d))/(i*a*h)):(y+t)/2}function T(d,y,r,t){var i;if(d==null)i=r*L.ou,t.point(-L.pi,i),t.point(0,i),t.point(L.pi,i),t.point(L.pi,0),t.point(L.pi,-i),t.point(0,-i),t.point(-L.pi,-i),t.point(-L.pi,0),t.point(-L.pi,i);else if((0,L.Wn)(d[0]-y[0])>L.Ho){var a=d[0]<y[0]?L.pi:-L.pi;i=r*a/2,t.point(-a,i),t.point(0,i),t.point(a,i)}else t.point(y[0],y[1])}},85272:function(V,B,e){e.d(B,{Z:function(){return L}});var p=e(73182);function L(){var n=[],C;return{point:function(T,d,y){C.push([T,d,y])},lineStart:function(){n.push(C=[])},lineEnd:p.Z,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var T=n;return n=[],C=null,T}}}},1457:function(V,B,e){e.d(B,{Z:function(){return d}});var p=e(7620),L=e(7613),n=e(39695),C=e(67108),T=e(97023);function d(y){var r=(0,n.mC)(y),t=6*n.uR,i=r>0,a=(0,n.Wn)(r)>n.Ho;function h(S,v,l,g){(0,L.m)(g,y,t,l,S,v)}function u(S,v){return(0,n.mC)(S)*(0,n.mC)(v)>r}function s(S){var v,l,g,M,A;return{lineStart:function(){M=g=!1,A=1},point:function(k,w){var E=[k,w],b,o=u(k,w),P=i?o?0:f(k,w):o?f(k+(k<0?n.pi:-n.pi),w):0;if(!v&&(M=g=o)&&S.lineStart(),o!==g&&(b=m(v,E),(!b||(0,C.Z)(v,b)||(0,C.Z)(E,b))&&(E[2]=1)),o!==g)A=0,o?(S.lineStart(),b=m(E,v),S.point(b[0],b[1])):(b=m(v,E),S.point(b[0],b[1],2),S.lineEnd()),v=b;else if(a&&v&&i^o){var x;!(P&l)&&(x=m(E,v,!0))&&(A=0,i?(S.lineStart(),S.point(x[0][0],x[0][1]),S.point(x[1][0],x[1][1]),S.lineEnd()):(S.point(x[1][0],x[1][1]),S.lineEnd(),S.lineStart(),S.point(x[0][0],x[0][1],3)))}o&&(!v||!(0,C.Z)(v,E))&&S.point(E[0],E[1]),v=E,g=o,l=P},lineEnd:function(){g&&S.lineEnd(),v=null},clean:function(){return A|(M&&g)<<1}}}function m(S,v,l){var g=(0,p.Og)(S),M=(0,p.Og)(v),A=[1,0,0],k=(0,p.T5)(g,M),w=(0,p.j9)(k,k),E=k[0],b=w-E*E;if(!b)return!l&&S;var o=r*w/b,P=-r*E/b,x=(0,p.T5)(A,k),z=(0,p.T)(A,o),_=(0,p.T)(k,P);(0,p.s0)(z,_);var G=x,F=(0,p.j9)(z,G),N=(0,p.j9)(G,G),U=F*F-N*((0,p.j9)(z,z)-1);if(!(U<0)){var O=(0,n._b)(U),H=(0,p.T)(G,(-F-O)/N);if((0,p.s0)(H,z),H=(0,p.Y1)(H),!l)return H;var Y=S[0],q=v[0],ne=S[1],oe=v[1],he;q<Y&&(he=Y,Y=q,q=he);var J=q-Y,Z=(0,n.Wn)(J-n.pi)<n.Ho,se=Z||J<n.Ho;if(!Z&&oe<ne&&(he=ne,ne=oe,oe=he),se?Z?ne+oe>0^H[1]<((0,n.Wn)(H[0]-Y)<n.Ho?ne:oe):ne<=H[1]&&H[1]<=oe:J>n.pi^(Y<=H[0]&&H[0]<=q)){var $=(0,p.T)(G,(-F+O)/N);return(0,p.s0)($,z),[H,(0,p.Y1)($)]}}}function f(S,v){var l=i?y:n.pi-y,g=0;return S<-l?g|=1:S>l&&(g|=2),v<-l?g|=4:v>l&&(g|=8),g}return(0,T.Z)(u,s,h,i?[0,-y]:[-n.pi,y-n.pi])}},97023:function(V,B,e){e.d(B,{Z:function(){return d}});var p=e(85272),L=e(46225),n=e(39695),C=e(23071),T=e(33064);function d(t,i,a,h){return function(u){var s=i(u),m=(0,p.Z)(),f=i(m),S=!1,v,l,g,M={point:A,lineStart:w,lineEnd:E,polygonStart:function(){M.point=b,M.lineStart=o,M.lineEnd=P,l=[],v=[]},polygonEnd:function(){M.point=A,M.lineStart=w,M.lineEnd=E,l=(0,T.TS)(l);var x=(0,C.Z)(v,h);l.length?(S||(u.polygonStart(),S=!0),(0,L.Z)(l,r,x,a,u)):x&&(S||(u.polygonStart(),S=!0),u.lineStart(),a(null,null,1,u),u.lineEnd()),S&&(u.polygonEnd(),S=!1),l=v=null},sphere:function(){u.polygonStart(),u.lineStart(),a(null,null,1,u),u.lineEnd(),u.polygonEnd()}};function A(x,z){t(x,z)&&u.point(x,z)}function k(x,z){s.point(x,z)}function w(){M.point=k,s.lineStart()}function E(){M.point=A,s.lineEnd()}function b(x,z){g.push([x,z]),f.point(x,z)}function o(){f.lineStart(),g=[]}function P(){b(g[0][0],g[0][1]),f.lineEnd();var x=f.clean(),z=m.result(),_,G=z.length,F,N,U;if(g.pop(),v.push(g),g=null,!!G){if(x&1){if(N=z[0],(F=N.length-1)>0){for(S||(u.polygonStart(),S=!0),u.lineStart(),_=0;_<F;++_)u.point((U=N[_])[0],U[1]);u.lineEnd()}return}G>1&&x&2&&z.push(z.pop().concat(z.shift())),l.push(z.filter(y))}}return M}}function y(t){return t.length>1}function r(t,i){return((t=t.x)[0]<0?t[1]-n.ou-n.Ho:n.ou-t[1])-((i=i.x)[0]<0?i[1]-n.ou-n.Ho:n.ou-i[1])}},87605:function(V,B,e){e.d(B,{Z:function(){return r}});var p=e(39695),L=e(85272);function n(t,i,a,h,u,s){var m=t[0],f=t[1],S=i[0],v=i[1],l=0,g=1,M=S-m,A=v-f,k;if(k=a-m,!(!M&&k>0)){if(k/=M,M<0){if(k<l)return;k<g&&(g=k)}else if(M>0){if(k>g)return;k>l&&(l=k)}if(k=u-m,!(!M&&k<0)){if(k/=M,M<0){if(k>g)return;k>l&&(l=k)}else if(M>0){if(k<l)return;k<g&&(g=k)}if(k=h-f,!(!A&&k>0)){if(k/=A,A<0){if(k<l)return;k<g&&(g=k)}else if(A>0){if(k>g)return;k>l&&(l=k)}if(k=s-f,!(!A&&k<0)){if(k/=A,A<0){if(k>g)return;k>l&&(l=k)}else if(A>0){if(k<l)return;k<g&&(g=k)}return l>0&&(t[0]=m+l*M,t[1]=f+l*A),g<1&&(i[0]=m+g*M,i[1]=f+g*A),!0}}}}}var C=e(46225),T=e(33064),d=1e9,y=-d;function r(t,i,a,h){function u(v,l){return t<=v&&v<=a&&i<=l&&l<=h}function s(v,l,g,M){var A=0,k=0;if(v==null||(A=m(v,g))!==(k=m(l,g))||S(v,l)<0^g>0)do M.point(A===0||A===3?t:a,A>1?h:i);while((A=(A+g+4)%4)!==k);else M.point(l[0],l[1])}function m(v,l){return(0,p.Wn)(v[0]-t)<p.Ho?l>0?0:3:(0,p.Wn)(v[0]-a)<p.Ho?l>0?2:1:(0,p.Wn)(v[1]-i)<p.Ho?l>0?1:0:l>0?3:2}function f(v,l){return S(v.x,l.x)}function S(v,l){var g=m(v,1),M=m(l,1);return g!==M?g-M:g===0?l[1]-v[1]:g===1?v[0]-l[0]:g===2?v[1]-l[1]:l[0]-v[0]}return function(v){var l=v,g=(0,L.Z)(),M,A,k,w,E,b,o,P,x,z,_,G={point:F,lineStart:H,lineEnd:Y,polygonStart:U,polygonEnd:O};function F(ne,oe){u(ne,oe)&&l.point(ne,oe)}function N(){for(var ne=0,oe=0,he=A.length;oe<he;++oe)for(var J=A[oe],Z=1,se=J.length,$=J[0],ee,le,Q=$[0],K=$[1];Z<se;++Z)ee=Q,le=K,$=J[Z],Q=$[0],K=$[1],le<=h?K>h&&(Q-ee)*(h-le)>(K-le)*(t-ee)&&++ne:K<=h&&(Q-ee)*(h-le)<(K-le)*(t-ee)&&--ne;return ne}function U(){l=g,M=[],A=[],_=!0}function O(){var ne=N(),oe=_&&ne,he=(M=(0,T.TS)(M)).length;(oe||he)&&(v.polygonStart(),oe&&(v.lineStart(),s(null,null,1,v),v.lineEnd()),he&&(0,C.Z)(M,f,ne,s,v),v.polygonEnd()),l=v,M=A=k=null}function H(){G.point=q,A&&A.push(k=[]),z=!0,x=!1,o=P=NaN}function Y(){M&&(q(w,E),b&&x&&g.rejoin(),M.push(g.result())),G.point=F,x&&l.lineEnd()}function q(ne,oe){var he=u(ne,oe);if(A&&k.push([ne,oe]),z)w=ne,E=oe,b=he,z=!1,he&&(l.lineStart(),l.point(ne,oe));else if(he&&x)l.point(ne,oe);else{var J=[o=Math.max(y,Math.min(d,o)),P=Math.max(y,Math.min(d,P))],Z=[ne=Math.max(y,Math.min(d,ne)),oe=Math.max(y,Math.min(d,oe))];n(J,Z,t,i,a,h)?(x||(l.lineStart(),l.point(J[0],J[1])),l.point(Z[0],Z[1]),he||l.lineEnd(),_=!1):he&&(l.lineStart(),l.point(ne,oe),_=!1)}o=ne,P=oe,x=he}return G}}},46225:function(V,B,e){e.d(B,{Z:function(){return C}});var p=e(67108),L=e(39695);function n(d,y,r,t){this.x=d,this.z=y,this.o=r,this.e=t,this.v=!1,this.n=this.p=null}function C(d,y,r,t,i){var a=[],h=[],u,s;if(d.forEach(function(g){if(!((M=g.length-1)<=0)){var M,A=g[0],k=g[M],w;if((0,p.Z)(A,k)){if(!A[2]&&!k[2]){for(i.lineStart(),u=0;u<M;++u)i.point((A=g[u])[0],A[1]);i.lineEnd();return}k[0]+=2*L.Ho}a.push(w=new n(A,g,null,!0)),h.push(w.o=new n(A,null,w,!1)),a.push(w=new n(k,g,null,!1)),h.push(w.o=new n(k,null,w,!0))}}),!!a.length){for(h.sort(y),T(a),T(h),u=0,s=h.length;u<s;++u)h[u].e=r=!r;for(var m=a[0],f,S;;){for(var v=m,l=!0;v.v;)if((v=v.n)===m)return;f=v.z,i.lineStart();do{if(v.v=v.o.v=!0,v.e){if(l)for(u=0,s=f.length;u<s;++u)i.point((S=f[u])[0],S[1]);else t(v.x,v.n.x,1,i);v=v.n}else{if(l)for(f=v.p.z,u=f.length-1;u>=0;--u)i.point((S=f[u])[0],S[1]);else t(v.x,v.p.x,-1,i);v=v.p}v=v.o,f=v.z,l=!l}while(!v.v);i.lineEnd()}}}function T(d){if(y=d.length){for(var y,r=0,t=d[0],i;++r<y;)t.n=i=d[r],i.p=t,t=i;t.n=i=d[0],i.p=t}}},96059:function(V,B,e){e.d(B,{Z:function(){return p}});function p(L,n){function C(T,d){return T=L(T,d),n(T[0],T[1])}return L.invert&&n.invert&&(C.invert=function(T,d){return T=n.invert(T,d),T&&L.invert(T[0],T[1])}),C}},8593:function(V,B,e){e.d(B,{Z:function(){return p}});function p(L){return L}},27362:function(V,B,e){e.r(B),e.d(B,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return it},geoArea:function(){return p.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return St.Z},geoAzimuthalEquidistantRaw:function(){return St.N},geoBounds:function(){return L.Z},geoCentroid:function(){return n.Z},geoCircle:function(){return C.Z},geoClipAntimeridian:function(){return T.Z},geoClipCircle:function(){return d.Z},geoClipExtent:function(){return r},geoClipRectangle:function(){return y.Z},geoConicConformal:function(){return cr},geoConicConformalRaw:function(){return ur},geoConicEqualArea:function(){return Jt},geoConicEqualAreaRaw:function(){return Zt},geoConicEquidistant:function(){return je},geoConicEquidistantRaw:function(){return Ye},geoContains:function(){return U},geoDistance:function(){return b},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Ft},geoEquirectangular:function(){return dr.Z},geoEquirectangularRaw:function(){return dr.k},geoGnomonic:function(){return br.Z},geoGnomonicRaw:function(){return br.M},geoGraticule:function(){return q},geoGraticule10:function(){return ne},geoIdentity:function(){return vr},geoInterpolate:function(){return oe.Z},geoLength:function(){return k},geoMercator:function(){return Ot},geoMercatorRaw:function(){return Lt},geoNaturalEarth1:function(){return Gr.Z},geoNaturalEarth1Raw:function(){return Gr.K},geoOrthographic:function(){return _r.Z},geoOrthographicRaw:function(){return _r.I},geoPath:function(){return zt},geoProjection:function(){return qt.Z},geoProjectionMutator:function(){return qt.r},geoRotation:function(){return Rt.Z},geoStereographic:function(){return nn},geoStereographicRaw:function(){return pn},geoStream:function(){return u.Z},geoTransform:function(){return yr.Z},geoTransverseMercator:function(){return Tn},geoTransverseMercatorRaw:function(){return Un}});var p=e(97860),L=e(77338),n=e(66624),C=e(7613),T=e(87070),d=e(1457),y=e(87605);function r(){var Cr=0,Lr=0,Zr=960,Wr=500,sn,yn,bn;return bn={stream:function(Pn){return sn&&yn===Pn?sn:sn=(0,y.Z)(Cr,Lr,Zr,Wr)(yn=Pn)},extent:function(Pn){return arguments.length?(Cr=+Pn[0][0],Lr=+Pn[0][1],Zr=+Pn[1][0],Wr=+Pn[1][1],sn=yn=null,bn):[[Cr,Lr],[Zr,Wr]]}}}var t=e(23071),i=e(33940),a=e(39695),h=e(73182),u=e(72736),s=(0,i.Z)(),m,f,S,v={sphere:h.Z,point:h.Z,lineStart:l,lineEnd:h.Z,polygonStart:h.Z,polygonEnd:h.Z};function l(){v.point=M,v.lineEnd=g}function g(){v.point=v.lineEnd=h.Z}function M(Cr,Lr){Cr*=a.uR,Lr*=a.uR,m=Cr,f=(0,a.O$)(Lr),S=(0,a.mC)(Lr),v.point=A}function A(Cr,Lr){Cr*=a.uR,Lr*=a.uR;var Zr=(0,a.O$)(Lr),Wr=(0,a.mC)(Lr),sn=(0,a.Wn)(Cr-m),yn=(0,a.mC)(sn),bn=(0,a.O$)(sn),Pn=Wr*bn,Bn=S*Zr-f*Wr*yn,sa=f*Zr+S*Wr*yn;s.add((0,a.fv)((0,a._b)(Pn*Pn+Bn*Bn),sa)),m=Cr,f=Zr,S=Wr}function k(Cr){return s.reset(),(0,u.Z)(Cr,v),+s}var w=[null,null],E={type:"LineString",coordinates:w};function b(Cr,Lr){return w[0]=Cr,w[1]=Lr,k(E)}var o={Feature:function(Cr,Lr){return x(Cr.geometry,Lr)},FeatureCollection:function(Cr,Lr){for(var Zr=Cr.features,Wr=-1,sn=Zr.length;++Wr<sn;)if(x(Zr[Wr].geometry,Lr))return!0;return!1}},P={Sphere:function(){return!0},Point:function(Cr,Lr){return z(Cr.coordinates,Lr)},MultiPoint:function(Cr,Lr){for(var Zr=Cr.coordinates,Wr=-1,sn=Zr.length;++Wr<sn;)if(z(Zr[Wr],Lr))return!0;return!1},LineString:function(Cr,Lr){return _(Cr.coordinates,Lr)},MultiLineString:function(Cr,Lr){for(var Zr=Cr.coordinates,Wr=-1,sn=Zr.length;++Wr<sn;)if(_(Zr[Wr],Lr))return!0;return!1},Polygon:function(Cr,Lr){return G(Cr.coordinates,Lr)},MultiPolygon:function(Cr,Lr){for(var Zr=Cr.coordinates,Wr=-1,sn=Zr.length;++Wr<sn;)if(G(Zr[Wr],Lr))return!0;return!1},GeometryCollection:function(Cr,Lr){for(var Zr=Cr.geometries,Wr=-1,sn=Zr.length;++Wr<sn;)if(x(Zr[Wr],Lr))return!0;return!1}};function x(Cr,Lr){return Cr&&P.hasOwnProperty(Cr.type)?P[Cr.type](Cr,Lr):!1}function z(Cr,Lr){return b(Cr,Lr)===0}function _(Cr,Lr){for(var Zr,Wr,sn,yn=0,bn=Cr.length;yn<bn;yn++){if(Wr=b(Cr[yn],Lr),Wr===0||yn>0&&(sn=b(Cr[yn],Cr[yn-1]),sn>0&&Zr<=sn&&Wr<=sn&&(Zr+Wr-sn)*(1-Math.pow((Zr-Wr)/sn,2))<a.aW*sn))return!0;Zr=Wr}return!1}function G(Cr,Lr){return!!(0,t.Z)(Cr.map(F),N(Lr))}function F(Cr){return Cr=Cr.map(N),Cr.pop(),Cr}function N(Cr){return[Cr[0]*a.uR,Cr[1]*a.uR]}function U(Cr,Lr){return(Cr&&o.hasOwnProperty(Cr.type)?o[Cr.type]:x)(Cr,Lr)}var O=e(33064);function H(Cr,Lr,Zr){var Wr=(0,O.w6)(Cr,Lr-a.Ho,Zr).concat(Lr);return function(sn){return Wr.map(function(yn){return[sn,yn]})}}function Y(Cr,Lr,Zr){var Wr=(0,O.w6)(Cr,Lr-a.Ho,Zr).concat(Lr);return function(sn){return Wr.map(function(yn){return[yn,sn]})}}function q(){var Cr,Lr,Zr,Wr,sn,yn,bn,Pn,Bn=10,sa=Bn,Kn=90,ra=360,$n,ta,Mr,un,on=2.5;function mn(){return{type:"MultiLineString",coordinates:Yn()}}function Yn(){return(0,O.w6)((0,a.mD)(Wr/Kn)*Kn,Zr,Kn).map(Mr).concat((0,O.w6)((0,a.mD)(Pn/ra)*ra,bn,ra).map(un)).concat((0,O.w6)((0,a.mD)(Lr/Bn)*Bn,Cr,Bn).filter(function($t){return(0,a.Wn)($t%Kn)>a.Ho}).map($n)).concat((0,O.w6)((0,a.mD)(yn/sa)*sa,sn,sa).filter(function($t){return(0,a.Wn)($t%ra)>a.Ho}).map(ta))}return mn.lines=function(){return Yn().map(function($t){return{type:"LineString",coordinates:$t}})},mn.outline=function(){return{type:"Polygon",coordinates:[Mr(Wr).concat(un(bn).slice(1),Mr(Zr).reverse().slice(1),un(Pn).reverse().slice(1))]}},mn.extent=function($t){return arguments.length?mn.extentMajor($t).extentMinor($t):mn.extentMinor()},mn.extentMajor=function($t){return arguments.length?(Wr=+$t[0][0],Zr=+$t[1][0],Pn=+$t[0][1],bn=+$t[1][1],Wr>Zr&&($t=Wr,Wr=Zr,Zr=$t),Pn>bn&&($t=Pn,Pn=bn,bn=$t),mn.precision(on)):[[Wr,Pn],[Zr,bn]]},mn.extentMinor=function($t){return arguments.length?(Lr=+$t[0][0],Cr=+$t[1][0],yn=+$t[0][1],sn=+$t[1][1],Lr>Cr&&($t=Lr,Lr=Cr,Cr=$t),yn>sn&&($t=yn,yn=sn,sn=$t),mn.precision(on)):[[Lr,yn],[Cr,sn]]},mn.step=function($t){return arguments.length?mn.stepMajor($t).stepMinor($t):mn.stepMinor()},mn.stepMajor=function($t){return arguments.length?(Kn=+$t[0],ra=+$t[1],mn):[Kn,ra]},mn.stepMinor=function($t){return arguments.length?(Bn=+$t[0],sa=+$t[1],mn):[Bn,sa]},mn.precision=function($t){return arguments.length?(on=+$t,$n=H(yn,sn,90),ta=Y(Lr,Cr,on),Mr=H(Pn,bn,90),un=Y(Wr,Zr,on),mn):on},mn.extentMajor([[-180,-90+a.Ho],[180,90-a.Ho]]).extentMinor([[-180,-80-a.Ho],[180,80+a.Ho]])}function ne(){return q()()}var oe=e(83074),he=e(8593),J=(0,i.Z)(),Z=(0,i.Z)(),se,$,ee,le,Q={point:h.Z,lineStart:h.Z,lineEnd:h.Z,polygonStart:function(){Q.lineStart=K,Q.lineEnd=ce},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=h.Z,J.add((0,a.Wn)(Z)),Z.reset()},result:function(){var Cr=J/2;return J.reset(),Cr}};function K(){Q.point=ue}function ue(Cr,Lr){Q.point=ie,se=ee=Cr,$=le=Lr}function ie(Cr,Lr){Z.add(le*Cr-ee*Lr),ee=Cr,le=Lr}function ce(){ie(se,$)}var xe=Q,Le=e(3559),Ae=0,Oe=0,ze=0,Ee=0,be=0,Ce=0,Ue=0,He=0,Ie=0,Ge,at,lt,qe,et={point:ft,lineStart:dt,lineEnd:Pt,polygonStart:function(){et.lineStart=Ht,et.lineEnd=Je},polygonEnd:function(){et.point=ft,et.lineStart=dt,et.lineEnd=Pt},result:function(){var Cr=Ie?[Ue/Ie,He/Ie]:Ce?[Ee/Ce,be/Ce]:ze?[Ae/ze,Oe/ze]:[NaN,NaN];return Ae=Oe=ze=Ee=be=Ce=Ue=He=Ie=0,Cr}};function ft(Cr,Lr){Ae+=Cr,Oe+=Lr,++ze}function dt(){et.point=pt}function pt(Cr,Lr){et.point=At,ft(lt=Cr,qe=Lr)}function At(Cr,Lr){var Zr=Cr-lt,Wr=Lr-qe,sn=(0,a._b)(Zr*Zr+Wr*Wr);Ee+=sn*(lt+Cr)/2,be+=sn*(qe+Lr)/2,Ce+=sn,ft(lt=Cr,qe=Lr)}function Pt(){et.point=ft}function Ht(){et.point=We}function Je(){_e(Ge,at)}function We(Cr,Lr){et.point=_e,ft(Ge=lt=Cr,at=qe=Lr)}function _e(Cr,Lr){var Zr=Cr-lt,Wr=Lr-qe,sn=(0,a._b)(Zr*Zr+Wr*Wr);Ee+=sn*(lt+Cr)/2,be+=sn*(qe+Lr)/2,Ce+=sn,sn=qe*Cr-lt*Lr,Ue+=sn*(lt+Cr),He+=sn*(qe+Lr),Ie+=sn*3,ft(lt=Cr,qe=Lr)}var Ne=et;function ke(Cr){this._context=Cr}ke.prototype={_radius:4.5,pointRadius:function(Cr){return this._radius=Cr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Cr,Lr){switch(this._point){case 0:{this._context.moveTo(Cr,Lr),this._point=1;break}case 1:{this._context.lineTo(Cr,Lr);break}default:{this._context.moveTo(Cr+this._radius,Lr),this._context.arc(Cr,Lr,this._radius,0,a.BZ);break}}},result:h.Z};var we=(0,i.Z)(),me,Me,Se,Ve,Ze,tt={point:h.Z,lineStart:function(){tt.point=ct},lineEnd:function(){me&&gt(Me,Se),tt.point=h.Z},polygonStart:function(){me=!0},polygonEnd:function(){me=null},result:function(){var Cr=+we;return we.reset(),Cr}};function ct(Cr,Lr){tt.point=gt,Me=Ve=Cr,Se=Ze=Lr}function gt(Cr,Lr){Ve-=Cr,Ze-=Lr,we.add((0,a._b)(Ve*Ve+Ze*Ze)),Ve=Cr,Ze=Lr}var jt=tt;function Kt(){this._string=[]}Kt.prototype={_radius:4.5,_circle:Tt(4.5),pointRadius:function(Cr){return(Cr=+Cr)!==this._radius&&(this._radius=Cr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Cr,Lr){switch(this._point){case 0:{this._string.push("M",Cr,",",Lr),this._point=1;break}case 1:{this._string.push("L",Cr,",",Lr);break}default:{this._circle==null&&(this._circle=Tt(this._radius)),this._string.push("M",Cr,",",Lr,this._circle);break}}},result:function(){if(this._string.length){var Cr=this._string.join("");return this._string=[],Cr}else return null}};function Tt(Cr){return"m0,"+Cr+"a"+Cr+","+Cr+" 0 1,1 0,"+-2*Cr+"a"+Cr+","+Cr+" 0 1,1 0,"+2*Cr+"z"}function zt(Cr,Lr){var Zr=4.5,Wr,sn;function yn(bn){return bn&&(typeof Zr=="function"&&sn.pointRadius(+Zr.apply(this,arguments)),(0,u.Z)(bn,Wr(sn))),sn.result()}return yn.area=function(bn){return(0,u.Z)(bn,Wr(xe)),xe.result()},yn.measure=function(bn){return(0,u.Z)(bn,Wr(jt)),jt.result()},yn.bounds=function(bn){return(0,u.Z)(bn,Wr(Le.Z)),Le.Z.result()},yn.centroid=function(bn){return(0,u.Z)(bn,Wr(Ne)),Ne.result()},yn.projection=function(bn){return arguments.length?(Wr=bn==null?(Cr=null,he.Z):(Cr=bn).stream,yn):Cr},yn.context=function(bn){return arguments.length?(sn=bn==null?(Lr=null,new Kt):new ke(Lr=bn),typeof Zr!="function"&&sn.pointRadius(Zr),yn):Lr},yn.pointRadius=function(bn){return arguments.length?(Zr=typeof bn=="function"?bn:(sn.pointRadius(+bn),+bn),yn):Zr},yn.projection(Cr).context(Lr)}var qt=e(15002);function Sr(Cr){var Lr=0,Zr=a.pi/3,Wr=(0,qt.r)(Cr),sn=Wr(Lr,Zr);return sn.parallels=function(yn){return arguments.length?Wr(Lr=yn[0]*a.uR,Zr=yn[1]*a.uR):[Lr*a.RW,Zr*a.RW]},sn}function yt(Cr){var Lr=(0,a.mC)(Cr);function Zr(Wr,sn){return[Wr*Lr,(0,a.O$)(sn)/Lr]}return Zr.invert=function(Wr,sn){return[Wr/Lr,(0,a.ZR)(sn*Lr)]},Zr}function Zt(Cr,Lr){var Zr=(0,a.O$)(Cr),Wr=(Zr+(0,a.O$)(Lr))/2;if((0,a.Wn)(Wr)<a.Ho)return yt(Cr);var sn=1+Zr*(2*Wr-Zr),yn=(0,a._b)(sn)/Wr;function bn(Pn,Bn){var sa=(0,a._b)(sn-2*Wr*(0,a.O$)(Bn))/Wr;return[sa*(0,a.O$)(Pn*=Wr),yn-sa*(0,a.mC)(Pn)]}return bn.invert=function(Pn,Bn){var sa=yn-Bn,Kn=(0,a.fv)(Pn,(0,a.Wn)(sa))*(0,a.Xx)(sa);return sa*Wr<0&&(Kn-=a.pi*(0,a.Xx)(Pn)*(0,a.Xx)(sa)),[Kn/Wr,(0,a.ZR)((sn-(Pn*Pn+sa*sa)*Wr*Wr)/(2*Wr))]},bn}function Jt(){return Sr(Zt).scale(155.424).center([0,33.6442])}function mr(){return Jt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var sr=e(47589);function vt(Cr){var Lr=Cr.length;return{point:function(Zr,Wr){for(var sn=-1;++sn<Lr;)Cr[sn].point(Zr,Wr)},sphere:function(){for(var Zr=-1;++Zr<Lr;)Cr[Zr].sphere()},lineStart:function(){for(var Zr=-1;++Zr<Lr;)Cr[Zr].lineStart()},lineEnd:function(){for(var Zr=-1;++Zr<Lr;)Cr[Zr].lineEnd()},polygonStart:function(){for(var Zr=-1;++Zr<Lr;)Cr[Zr].polygonStart()},polygonEnd:function(){for(var Zr=-1;++Zr<Lr;)Cr[Zr].polygonEnd()}}}function it(){var Cr,Lr,Zr=mr(),Wr,sn=Jt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),yn,bn=Jt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Pn,Bn,sa={point:function($n,ta){Bn=[$n,ta]}};function Kn($n){var ta=$n[0],Mr=$n[1];return Bn=null,Wr.point(ta,Mr),Bn||(yn.point(ta,Mr),Bn)||(Pn.point(ta,Mr),Bn)}Kn.invert=function($n){var ta=Zr.scale(),Mr=Zr.translate(),un=($n[0]-Mr[0])/ta,on=($n[1]-Mr[1])/ta;return(on>=.12&&on<.234&&un>=-.425&&un<-.214?sn:on>=.166&&on<.234&&un>=-.214&&un<-.115?bn:Zr).invert($n)},Kn.stream=function($n){return Cr&&Lr===$n?Cr:Cr=vt([Zr.stream(Lr=$n),sn.stream($n),bn.stream($n)])},Kn.precision=function($n){return arguments.length?(Zr.precision($n),sn.precision($n),bn.precision($n),ra()):Zr.precision()},Kn.scale=function($n){return arguments.length?(Zr.scale($n),sn.scale($n*.35),bn.scale($n),Kn.translate(Zr.translate())):Zr.scale()},Kn.translate=function($n){if(!arguments.length)return Zr.translate();var ta=Zr.scale(),Mr=+$n[0],un=+$n[1];return Wr=Zr.translate($n).clipExtent([[Mr-.455*ta,un-.238*ta],[Mr+.455*ta,un+.238*ta]]).stream(sa),yn=sn.translate([Mr-.307*ta,un+.201*ta]).clipExtent([[Mr-.425*ta+a.Ho,un+.12*ta+a.Ho],[Mr-.214*ta-a.Ho,un+.234*ta-a.Ho]]).stream(sa),Pn=bn.translate([Mr-.205*ta,un+.212*ta]).clipExtent([[Mr-.214*ta+a.Ho,un+.166*ta+a.Ho],[Mr-.115*ta-a.Ho,un+.234*ta-a.Ho]]).stream(sa),ra()},Kn.fitExtent=function($n,ta){return(0,sr.qg)(Kn,$n,ta)},Kn.fitSize=function($n,ta){return(0,sr.mF)(Kn,$n,ta)},Kn.fitWidth=function($n,ta){return(0,sr.V6)(Kn,$n,ta)},Kn.fitHeight=function($n,ta){return(0,sr.rf)(Kn,$n,ta)};function ra(){return Cr=Lr=null,Kn}return Kn.scale(1070)}var xt=e(12956),St=e(17889),Rt=e(49386);function Lt(Cr,Lr){return[Cr,(0,a.cM)((0,a.OR)((a.ou+Lr)/2))]}Lt.invert=function(Cr,Lr){return[Cr,2*(0,a.z4)((0,a.Qq)(Lr))-a.ou]};function Ot(){return Nt(Lt).scale(961/a.BZ)}function Nt(Cr){var Lr=(0,qt.Z)(Cr),Zr=Lr.center,Wr=Lr.scale,sn=Lr.translate,yn=Lr.clipExtent,bn=null,Pn,Bn,sa;Lr.scale=function(ra){return arguments.length?(Wr(ra),Kn()):Wr()},Lr.translate=function(ra){return arguments.length?(sn(ra),Kn()):sn()},Lr.center=function(ra){return arguments.length?(Zr(ra),Kn()):Zr()},Lr.clipExtent=function(ra){return arguments.length?(ra==null?bn=Pn=Bn=sa=null:(bn=+ra[0][0],Pn=+ra[0][1],Bn=+ra[1][0],sa=+ra[1][1]),Kn()):bn==null?null:[[bn,Pn],[Bn,sa]]};function Kn(){var ra=a.pi*Wr(),$n=Lr((0,Rt.Z)(Lr.rotate()).invert([0,0]));return yn(bn==null?[[$n[0]-ra,$n[1]-ra],[$n[0]+ra,$n[1]+ra]]:Cr===Lt?[[Math.max($n[0]-ra,bn),Pn],[Math.min($n[0]+ra,Bn),sa]]:[[bn,Math.max($n[1]-ra,Pn)],[Bn,Math.min($n[1]+ra,sa)]])}return Kn()}function Xt(Cr){return(0,a.OR)((a.ou+Cr)/2)}function ur(Cr,Lr){var Zr=(0,a.mC)(Cr),Wr=Cr===Lr?(0,a.O$)(Cr):(0,a.cM)(Zr/(0,a.mC)(Lr))/(0,a.cM)(Xt(Lr)/Xt(Cr)),sn=Zr*(0,a.sQ)(Xt(Cr),Wr)/Wr;if(!Wr)return Lt;function yn(bn,Pn){sn>0?Pn<-a.ou+a.Ho&&(Pn=-a.ou+a.Ho):Pn>a.ou-a.Ho&&(Pn=a.ou-a.Ho);var Bn=sn/(0,a.sQ)(Xt(Pn),Wr);return[Bn*(0,a.O$)(Wr*bn),sn-Bn*(0,a.mC)(Wr*bn)]}return yn.invert=function(bn,Pn){var Bn=sn-Pn,sa=(0,a.Xx)(Wr)*(0,a._b)(bn*bn+Bn*Bn),Kn=(0,a.fv)(bn,(0,a.Wn)(Bn))*(0,a.Xx)(Bn);return Bn*Wr<0&&(Kn-=a.pi*(0,a.Xx)(bn)*(0,a.Xx)(Bn)),[Kn/Wr,2*(0,a.z4)((0,a.sQ)(sn/sa,1/Wr))-a.ou]},yn}function cr(){return Sr(ur).scale(109.5).parallels([30,30])}var dr=e(97492);function Ye(Cr,Lr){var Zr=(0,a.mC)(Cr),Wr=Cr===Lr?(0,a.O$)(Cr):(Zr-(0,a.mC)(Lr))/(Lr-Cr),sn=Zr/Wr+Cr;if((0,a.Wn)(Wr)<a.Ho)return dr.k;function yn(bn,Pn){var Bn=sn-Pn,sa=Wr*bn;return[Bn*(0,a.O$)(sa),sn-Bn*(0,a.mC)(sa)]}return yn.invert=function(bn,Pn){var Bn=sn-Pn,sa=(0,a.fv)(bn,(0,a.Wn)(Bn))*(0,a.Xx)(Bn);return Bn*Wr<0&&(sa-=a.pi*(0,a.Xx)(bn)*(0,a.Xx)(Bn)),[sa/Wr,sn-(0,a.Xx)(Wr)*(0,a._b)(bn*bn+Bn*Bn)]},yn}function je(){return Sr(Ye).scale(131.154).center([0,13.9389])}var It=1.340264,Dt=-.081106,Yt=893e-6,tr=.003796,fr=(0,a._b)(3)/2,rr=12;function Ft(Cr,Lr){var Zr=(0,a.ZR)(fr*(0,a.O$)(Lr)),Wr=Zr*Zr,sn=Wr*Wr*Wr;return[Cr*(0,a.mC)(Zr)/(fr*(It+3*Dt*Wr+sn*(7*Yt+9*tr*Wr))),Zr*(It+Dt*Wr+sn*(Yt+tr*Wr))]}Ft.invert=function(Cr,Lr){for(var Zr=Lr,Wr=Zr*Zr,sn=Wr*Wr*Wr,yn=0,bn,Pn,Bn;yn<rr&&(Pn=Zr*(It+Dt*Wr+sn*(Yt+tr*Wr))-Lr,Bn=It+3*Dt*Wr+sn*(7*Yt+9*tr*Wr),Zr-=bn=Pn/Bn,Wr=Zr*Zr,sn=Wr*Wr*Wr,!((0,a.Wn)(bn)<a.aW));++yn);return[fr*Cr*(It+3*Dt*Wr+sn*(7*Yt+9*tr*Wr))/(0,a.mC)(Zr),(0,a.ZR)((0,a.O$)(Zr)/fr)]};function hr(){return(0,qt.Z)(Ft).scale(177.158)}var br=e(98936),yr=e(64684);function vr(){var Cr=1,Lr=0,Zr=0,Wr=1,sn=1,yn=0,bn,Pn,Bn=null,sa,Kn,ra,$n=1,ta=1,Mr=(0,yr.l)({point:function(xr,Nr){var En=$t([xr,Nr]);this.stream.point(En[0],En[1])}}),un=he.Z,on,mn;function Yn(){return $n=Cr*Wr,ta=Cr*sn,on=mn=null,$t}function $t(xr){var Nr=xr[0]*$n,En=xr[1]*ta;if(yn){var Qn=En*bn-Nr*Pn;Nr=Nr*bn+En*Pn,En=Qn}return[Nr+Lr,En+Zr]}return $t.invert=function(xr){var Nr=xr[0]-Lr,En=xr[1]-Zr;if(yn){var Qn=En*bn+Nr*Pn;Nr=Nr*bn-En*Pn,En=Qn}return[Nr/$n,En/ta]},$t.stream=function(xr){return on&&mn===xr?on:on=Mr(un(mn=xr))},$t.postclip=function(xr){return arguments.length?(un=xr,Bn=sa=Kn=ra=null,Yn()):un},$t.clipExtent=function(xr){return arguments.length?(un=xr==null?(Bn=sa=Kn=ra=null,he.Z):(0,y.Z)(Bn=+xr[0][0],sa=+xr[0][1],Kn=+xr[1][0],ra=+xr[1][1]),Yn()):Bn==null?null:[[Bn,sa],[Kn,ra]]},$t.scale=function(xr){return arguments.length?(Cr=+xr,Yn()):Cr},$t.translate=function(xr){return arguments.length?(Lr=+xr[0],Zr=+xr[1],Yn()):[Lr,Zr]},$t.angle=function(xr){return arguments.length?(yn=xr%360*a.uR,Pn=(0,a.O$)(yn),bn=(0,a.mC)(yn),Yn()):yn*a.RW},$t.reflectX=function(xr){return arguments.length?(Wr=xr?-1:1,Yn()):Wr<0},$t.reflectY=function(xr){return arguments.length?(sn=xr?-1:1,Yn()):sn<0},$t.fitExtent=function(xr,Nr){return(0,sr.qg)($t,xr,Nr)},$t.fitSize=function(xr,Nr){return(0,sr.mF)($t,xr,Nr)},$t.fitWidth=function(xr,Nr){return(0,sr.V6)($t,xr,Nr)},$t.fitHeight=function(xr,Nr){return(0,sr.rf)($t,xr,Nr)},$t}var Gr=e(26867),_r=e(57962),Dr=e(25382);function pn(Cr,Lr){var Zr=(0,a.mC)(Lr),Wr=1+(0,a.mC)(Cr)*Zr;return[Zr*(0,a.O$)(Cr)/Wr,(0,a.O$)(Lr)/Wr]}pn.invert=(0,Dr.O)(function(Cr){return 2*(0,a.z4)(Cr)});function nn(){return(0,qt.Z)(pn).scale(250).clipAngle(142)}function Un(Cr,Lr){return[(0,a.cM)((0,a.OR)((a.ou+Lr)/2)),-Cr]}Un.invert=function(Cr,Lr){return[-Lr,2*(0,a.z4)((0,a.Qq)(Cr))-a.ou]};function Tn(){var Cr=Nt(Un),Lr=Cr.center,Zr=Cr.rotate;return Cr.center=function(Wr){return arguments.length?Lr([-Wr[1],Wr[0]]):(Wr=Lr(),[Wr[1],-Wr[0]])},Cr.rotate=function(Wr){return arguments.length?Zr([Wr[0],Wr[1],Wr.length>2?Wr[2]+90:90]):(Wr=Zr(),[Wr[0],Wr[1],Wr[2]-90])},Zr([0,0,90]).scale(159.155)}},83074:function(V,B,e){e.d(B,{Z:function(){return L}});var p=e(39695);function L(n,C){var T=n[0]*p.uR,d=n[1]*p.uR,y=C[0]*p.uR,r=C[1]*p.uR,t=(0,p.mC)(d),i=(0,p.O$)(d),a=(0,p.mC)(r),h=(0,p.O$)(r),u=t*(0,p.mC)(T),s=t*(0,p.O$)(T),m=a*(0,p.mC)(y),f=a*(0,p.O$)(y),S=2*(0,p.ZR)((0,p._b)((0,p.Jy)(r-d)+t*a*(0,p.Jy)(y-T))),v=(0,p.O$)(S),l=S?function(g){var M=(0,p.O$)(g*=S)/v,A=(0,p.O$)(S-g)/v,k=A*u+M*m,w=A*s+M*f,E=A*i+M*h;return[(0,p.fv)(w,k)*p.RW,(0,p.fv)(E,(0,p._b)(k*k+w*w))*p.RW]}:function(){return[T*p.RW,d*p.RW]};return l.distance=S,l}},39695:function(V,B,e){e.d(B,{BZ:function(){return d},Ho:function(){return p},Jy:function(){return k},Kh:function(){return M},O$:function(){return S},OR:function(){return g},Qq:function(){return s},RW:function(){return y},Wn:function(){return t},Xx:function(){return v},ZR:function(){return A},_b:function(){return l},aW:function(){return L},cM:function(){return m},fv:function(){return a},mC:function(){return h},mD:function(){return u},ou:function(){return C},pi:function(){return n},pu:function(){return T},sQ:function(){return f},uR:function(){return r},z4:function(){return i}});var p=1e-6,L=1e-12,n=Math.PI,C=n/2,T=n/4,d=n*2,y=180/n,r=n/180,t=Math.abs,i=Math.atan,a=Math.atan2,h=Math.cos,u=Math.ceil,s=Math.exp,m=Math.log,f=Math.pow,S=Math.sin,v=Math.sign||function(w){return w>0?1:w<0?-1:0},l=Math.sqrt,g=Math.tan;function M(w){return w>1?0:w<-1?n:Math.acos(w)}function A(w){return w>1?C:w<-1?-C:Math.asin(w)}function k(w){return(w=S(w/2))*w}},73182:function(V,B,e){e.d(B,{Z:function(){return p}});function p(){}},3559:function(V,B,e){var p=e(73182),L=1/0,n=L,C=-L,T=C,d={point:y,lineStart:p.Z,lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z,result:function(){var r=[[L,n],[C,T]];return C=T=-(n=L=1/0),r}};function y(r,t){r<L&&(L=r),r>C&&(C=r),t<n&&(n=t),t>T&&(T=t)}B.Z=d},67108:function(V,B,e){e.d(B,{Z:function(){return L}});var p=e(39695);function L(n,C){return(0,p.Wn)(n[0]-C[0])<p.Ho&&(0,p.Wn)(n[1]-C[1])<p.Ho}},23071:function(V,B,e){e.d(B,{Z:function(){return d}});var p=e(33940),L=e(7620),n=e(39695),C=(0,p.Z)();function T(y){return(0,n.Wn)(y[0])<=n.pi?y[0]:(0,n.Xx)(y[0])*(((0,n.Wn)(y[0])+n.pi)%n.BZ-n.pi)}function d(y,r){var t=T(r),i=r[1],a=(0,n.O$)(i),h=[(0,n.O$)(t),-(0,n.mC)(t),0],u=0,s=0;C.reset(),a===1?i=n.ou+n.Ho:a===-1&&(i=-n.ou-n.Ho);for(var m=0,f=y.length;m<f;++m)if(v=(S=y[m]).length)for(var S,v,l=S[v-1],g=T(l),M=l[1]/2+n.pu,A=(0,n.O$)(M),k=(0,n.mC)(M),w=0;w<v;++w,g=b,A=P,k=x,l=E){var E=S[w],b=T(E),o=E[1]/2+n.pu,P=(0,n.O$)(o),x=(0,n.mC)(o),z=b-g,_=z>=0?1:-1,G=_*z,F=G>n.pi,N=A*P;if(C.add((0,n.fv)(N*_*(0,n.O$)(G),k*x+N*(0,n.mC)(G))),u+=F?z+_*n.BZ:z,F^g>=t^b>=t){var U=(0,L.T5)((0,L.Og)(l),(0,L.Og)(E));(0,L.iJ)(U);var O=(0,L.T5)(h,U);(0,L.iJ)(O);var H=(F^z>=0?-1:1)*(0,n.ZR)(O[2]);(i>H||i===H&&(U[0]||U[1]))&&(s+=F^z>=0?1:-1)}}return(u<-n.Ho||u<n.Ho&&C<-n.Ho)^s&1}},25382:function(V,B,e){e.d(B,{O:function(){return n},W:function(){return L}});var p=e(39695);function L(C){return function(T,d){var y=(0,p.mC)(T),r=(0,p.mC)(d),t=C(y*r);return[t*r*(0,p.O$)(T),t*(0,p.O$)(d)]}}function n(C){return function(T,d){var y=(0,p._b)(T*T+d*d),r=C(y),t=(0,p.O$)(r),i=(0,p.mC)(r);return[(0,p.fv)(T*t,y*i),(0,p.ZR)(y&&d*t/y)]}}},12956:function(V,B,e){e.d(B,{Z:function(){return T},l:function(){return C}});var p=e(39695),L=e(25382),n=e(15002),C=(0,L.W)(function(d){return(0,p._b)(2/(1+d))});C.invert=(0,L.O)(function(d){return 2*(0,p.ZR)(d/2)});function T(){return(0,n.Z)(C).scale(124.75).clipAngle(179.999)}},17889:function(V,B,e){e.d(B,{N:function(){return C},Z:function(){return T}});var p=e(39695),L=e(25382),n=e(15002),C=(0,L.W)(function(d){return(d=(0,p.Kh)(d))&&d/(0,p.O$)(d)});C.invert=(0,L.O)(function(d){return d});function T(){return(0,n.Z)(C).scale(79.4188).clipAngle(179.999)}},97492:function(V,B,e){e.d(B,{Z:function(){return n},k:function(){return L}});var p=e(15002);function L(C,T){return[C,T]}L.invert=L;function n(){return(0,p.Z)(L).scale(152.63)}},47589:function(V,B,e){e.d(B,{V6:function(){return d},mF:function(){return T},qg:function(){return C},rf:function(){return y}});var p=e(72736),L=e(3559);function n(r,t,i){var a=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),a!=null&&r.clipExtent(null),(0,p.Z)(i,r.stream(L.Z)),t(L.Z.result()),a!=null&&r.clipExtent(a),r}function C(r,t,i){return n(r,function(a){var h=t[1][0]-t[0][0],u=t[1][1]-t[0][1],s=Math.min(h/(a[1][0]-a[0][0]),u/(a[1][1]-a[0][1])),m=+t[0][0]+(h-s*(a[1][0]+a[0][0]))/2,f=+t[0][1]+(u-s*(a[1][1]+a[0][1]))/2;r.scale(150*s).translate([m,f])},i)}function T(r,t,i){return C(r,[[0,0],t],i)}function d(r,t,i){return n(r,function(a){var h=+t,u=h/(a[1][0]-a[0][0]),s=(h-u*(a[1][0]+a[0][0]))/2,m=-u*a[0][1];r.scale(150*u).translate([s,m])},i)}function y(r,t,i){return n(r,function(a){var h=+t,u=h/(a[1][1]-a[0][1]),s=-u*a[0][0],m=(h-u*(a[1][1]+a[0][1]))/2;r.scale(150*u).translate([s,m])},i)}},98936:function(V,B,e){e.d(B,{M:function(){return C},Z:function(){return T}});var p=e(39695),L=e(25382),n=e(15002);function C(d,y){var r=(0,p.mC)(y),t=(0,p.mC)(d)*r;return[r*(0,p.O$)(d)/t,(0,p.O$)(y)/t]}C.invert=(0,L.O)(p.z4);function T(){return(0,n.Z)(C).scale(144.049).clipAngle(60)}},15002:function(V,B,e){e.d(B,{Z:function(){return g},r:function(){return M}});var p=e(87070),L=e(1457),n=e(87605),C=e(96059),T=e(8593),d=e(39695),y=e(49386),r=e(64684),t=e(47589),i=e(7620),a=16,h=(0,d.mC)(30*d.uR);function u(A,k){return+k?m(A,k):s(A)}function s(A){return(0,r.l)({point:function(k,w){k=A(k,w),this.stream.point(k[0],k[1])}})}function m(A,k){function w(E,b,o,P,x,z,_,G,F,N,U,O,H,Y){var q=_-E,ne=G-b,oe=q*q+ne*ne;if(oe>4*k&&H--){var he=P+N,J=x+U,Z=z+O,se=(0,d._b)(he*he+J*J+Z*Z),$=(0,d.ZR)(Z/=se),ee=(0,d.Wn)((0,d.Wn)(Z)-1)<d.Ho||(0,d.Wn)(o-F)<d.Ho?(o+F)/2:(0,d.fv)(J,he),le=A(ee,$),Q=le[0],K=le[1],ue=Q-E,ie=K-b,ce=ne*ue-q*ie;(ce*ce/oe>k||(0,d.Wn)((q*ue+ne*ie)/oe-.5)>.3||P*N+x*U+z*O<h)&&(w(E,b,o,P,x,z,Q,K,ee,he/=se,J/=se,Z,H,Y),Y.point(Q,K),w(Q,K,ee,he,J,Z,_,G,F,N,U,O,H,Y))}}return function(E){var b,o,P,x,z,_,G,F,N,U,O,H,Y={point:q,lineStart:ne,lineEnd:he,polygonStart:function(){E.polygonStart(),Y.lineStart=J},polygonEnd:function(){E.polygonEnd(),Y.lineStart=ne}};function q($,ee){$=A($,ee),E.point($[0],$[1])}function ne(){F=NaN,Y.point=oe,E.lineStart()}function oe($,ee){var le=(0,i.Og)([$,ee]),Q=A($,ee);w(F,N,G,U,O,H,F=Q[0],N=Q[1],G=$,U=le[0],O=le[1],H=le[2],a,E),E.point(F,N)}function he(){Y.point=q,E.lineEnd()}function J(){ne(),Y.point=Z,Y.lineEnd=se}function Z($,ee){oe(b=$,ee),o=F,P=N,x=U,z=O,_=H,Y.point=oe}function se(){w(F,N,G,U,O,H,o,P,b,x,z,_,a,E),Y.lineEnd=he,he()}return Y}}var f=(0,r.l)({point:function(A,k){this.stream.point(A*d.uR,k*d.uR)}});function S(A){return(0,r.l)({point:function(k,w){var E=A(k,w);return this.stream.point(E[0],E[1])}})}function v(A,k,w,E,b){function o(P,x){return P*=E,x*=b,[k+A*P,w-A*x]}return o.invert=function(P,x){return[(P-k)/A*E,(w-x)/A*b]},o}function l(A,k,w,E,b,o){var P=(0,d.mC)(o),x=(0,d.O$)(o),z=P*A,_=x*A,G=P/A,F=x/A,N=(x*w-P*k)/A,U=(x*k+P*w)/A;function O(H,Y){return H*=E,Y*=b,[z*H-_*Y+k,w-_*H-z*Y]}return O.invert=function(H,Y){return[E*(G*H-F*Y+N),b*(U-F*H-G*Y)]},O}function g(A){return M(function(){return A})()}function M(A){var k,w=150,E=480,b=250,o=0,P=0,x=0,z=0,_=0,G,F=0,N=1,U=1,O=null,H=p.Z,Y=null,q,ne,oe,he=T.Z,J=.5,Z,se,$,ee,le;function Q(ce){return $(ce[0]*d.uR,ce[1]*d.uR)}function K(ce){return ce=$.invert(ce[0],ce[1]),ce&&[ce[0]*d.RW,ce[1]*d.RW]}Q.stream=function(ce){return ee&&le===ce?ee:ee=f(S(G)(H(Z(he(le=ce)))))},Q.preclip=function(ce){return arguments.length?(H=ce,O=void 0,ie()):H},Q.postclip=function(ce){return arguments.length?(he=ce,Y=q=ne=oe=null,ie()):he},Q.clipAngle=function(ce){return arguments.length?(H=+ce?(0,L.Z)(O=ce*d.uR):(O=null,p.Z),ie()):O*d.RW},Q.clipExtent=function(ce){return arguments.length?(he=ce==null?(Y=q=ne=oe=null,T.Z):(0,n.Z)(Y=+ce[0][0],q=+ce[0][1],ne=+ce[1][0],oe=+ce[1][1]),ie()):Y==null?null:[[Y,q],[ne,oe]]},Q.scale=function(ce){return arguments.length?(w=+ce,ue()):w},Q.translate=function(ce){return arguments.length?(E=+ce[0],b=+ce[1],ue()):[E,b]},Q.center=function(ce){return arguments.length?(o=ce[0]%360*d.uR,P=ce[1]%360*d.uR,ue()):[o*d.RW,P*d.RW]},Q.rotate=function(ce){return arguments.length?(x=ce[0]%360*d.uR,z=ce[1]%360*d.uR,_=ce.length>2?ce[2]%360*d.uR:0,ue()):[x*d.RW,z*d.RW,_*d.RW]},Q.angle=function(ce){return arguments.length?(F=ce%360*d.uR,ue()):F*d.RW},Q.reflectX=function(ce){return arguments.length?(N=ce?-1:1,ue()):N<0},Q.reflectY=function(ce){return arguments.length?(U=ce?-1:1,ue()):U<0},Q.precision=function(ce){return arguments.length?(Z=u(se,J=ce*ce),ie()):(0,d._b)(J)},Q.fitExtent=function(ce,xe){return(0,t.qg)(Q,ce,xe)},Q.fitSize=function(ce,xe){return(0,t.mF)(Q,ce,xe)},Q.fitWidth=function(ce,xe){return(0,t.V6)(Q,ce,xe)},Q.fitHeight=function(ce,xe){return(0,t.rf)(Q,ce,xe)};function ue(){var ce=l(w,0,0,N,U,F).apply(null,k(o,P)),xe=(F?l:v)(w,E-ce[0],b-ce[1],N,U,F);return G=(0,y.I)(x,z,_),se=(0,C.Z)(k,xe),$=(0,C.Z)(G,se),Z=u(se,J),ie()}function ie(){return ee=le=null,Q}return function(){return k=A.apply(this,arguments),Q.invert=k.invert&&K,ue()}}},26867:function(V,B,e){e.d(B,{K:function(){return n},Z:function(){return C}});var p=e(15002),L=e(39695);function n(T,d){var y=d*d,r=y*y;return[T*(.8707-.131979*y+r*(-.013791+r*(.003971*y-.001529*r))),d*(1.007226+y*(.015085+r*(-.044475+.028874*y-.005916*r)))]}n.invert=function(T,d){var y=d,r=25,t;do{var i=y*y,a=i*i;y-=t=(y*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-d)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.06507600000000001*a)))}while((0,L.Wn)(t)>L.Ho&&--r>0);return[T/(.8707+(i=y*y)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),y]};function C(){return(0,p.Z)(n).scale(175.295)}},57962:function(V,B,e){e.d(B,{I:function(){return C},Z:function(){return T}});var p=e(39695),L=e(25382),n=e(15002);function C(d,y){return[(0,p.mC)(y)*(0,p.O$)(d),(0,p.O$)(y)]}C.invert=(0,L.O)(p.ZR);function T(){return(0,n.Z)(C).scale(249.5).clipAngle(90+p.Ho)}},49386:function(V,B,e){e.d(B,{I:function(){return C},Z:function(){return r}});var p=e(96059),L=e(39695);function n(t,i){return[(0,L.Wn)(t)>L.pi?t+Math.round(-t/L.BZ)*L.BZ:t,i]}n.invert=n;function C(t,i,a){return(t%=L.BZ)?i||a?(0,p.Z)(d(t),y(i,a)):d(t):i||a?y(i,a):n}function T(t){return function(i,a){return i+=t,[i>L.pi?i-L.BZ:i<-L.pi?i+L.BZ:i,a]}}function d(t){var i=T(t);return i.invert=T(-t),i}function y(t,i){var a=(0,L.mC)(t),h=(0,L.O$)(t),u=(0,L.mC)(i),s=(0,L.O$)(i);function m(f,S){var v=(0,L.mC)(S),l=(0,L.mC)(f)*v,g=(0,L.O$)(f)*v,M=(0,L.O$)(S),A=M*a+l*h;return[(0,L.fv)(g*u-A*s,l*a-M*h),(0,L.ZR)(A*u+g*s)]}return m.invert=function(f,S){var v=(0,L.mC)(S),l=(0,L.mC)(f)*v,g=(0,L.O$)(f)*v,M=(0,L.O$)(S),A=M*u-g*s;return[(0,L.fv)(g*u+M*s,l*a+A*h),(0,L.ZR)(A*a-l*h)]},m}function r(t){t=C(t[0]*L.uR,t[1]*L.uR,t.length>2?t[2]*L.uR:0);function i(a){return a=t(a[0]*L.uR,a[1]*L.uR),a[0]*=L.RW,a[1]*=L.RW,a}return i.invert=function(a){return a=t.invert(a[0]*L.uR,a[1]*L.uR),a[0]*=L.RW,a[1]*=L.RW,a},i}},72736:function(V,B,e){e.d(B,{Z:function(){return d}});function p(y,r){y&&n.hasOwnProperty(y.type)&&n[y.type](y,r)}var L={Feature:function(y,r){p(y.geometry,r)},FeatureCollection:function(y,r){for(var t=y.features,i=-1,a=t.length;++i<a;)p(t[i].geometry,r)}},n={Sphere:function(y,r){r.sphere()},Point:function(y,r){y=y.coordinates,r.point(y[0],y[1],y[2])},MultiPoint:function(y,r){for(var t=y.coordinates,i=-1,a=t.length;++i<a;)y=t[i],r.point(y[0],y[1],y[2])},LineString:function(y,r){C(y.coordinates,r,0)},MultiLineString:function(y,r){for(var t=y.coordinates,i=-1,a=t.length;++i<a;)C(t[i],r,0)},Polygon:function(y,r){T(y.coordinates,r)},MultiPolygon:function(y,r){for(var t=y.coordinates,i=-1,a=t.length;++i<a;)T(t[i],r)},GeometryCollection:function(y,r){for(var t=y.geometries,i=-1,a=t.length;++i<a;)p(t[i],r)}};function C(y,r,t){var i=-1,a=y.length-t,h;for(r.lineStart();++i<a;)h=y[i],r.point(h[0],h[1],h[2]);r.lineEnd()}function T(y,r){var t=-1,i=y.length;for(r.polygonStart();++t<i;)C(y[t],r,1);r.polygonEnd()}function d(y,r){y&&L.hasOwnProperty(y.type)?L[y.type](y,r):p(y,r)}},64684:function(V,B,e){e.d(B,{Z:function(){return p},l:function(){return L}});function p(C){return{stream:L(C)}}function L(C){return function(T){var d=new n;for(var y in C)d[y]=C[y];return d.stream=T,d}}function n(){}n.prototype={constructor:n,point:function(C,T){this.stream.point(C,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(V,B,e){e.r(B),e.d(B,{cluster:function(){return r},hierarchy:function(){return A},pack:function(){return K},packEnclose:function(){return z},packSiblings:function(){return Z},partition:function(){return Ae},stratify:function(){return Ue},tree:function(){return dt},treemap:function(){return Je},treemapBinary:function(){return We},treemapDice:function(){return Le},treemapResquarify:function(){return Ne},treemapSlice:function(){return pt},treemapSliceDice:function(){return _e},treemapSquarify:function(){return Ht}});function p(ke,we){return ke.parent===we.parent?1:2}function L(ke){return ke.reduce(n,0)/ke.length}function n(ke,we){return ke+we.x}function C(ke){return 1+ke.reduce(T,0)}function T(ke,we){return Math.max(ke,we.y)}function d(ke){for(var we;we=ke.children;)ke=we[0];return ke}function y(ke){for(var we;we=ke.children;)ke=we[we.length-1];return ke}function r(){var ke=p,we=1,me=1,Me=!1;function Se(Ve){var Ze,tt=0;Ve.eachAfter(function(Tt){var zt=Tt.children;zt?(Tt.x=L(zt),Tt.y=C(zt)):(Tt.x=Ze?tt+=ke(Tt,Ze):0,Tt.y=0,Ze=Tt)});var ct=d(Ve),gt=y(Ve),jt=ct.x-ke(ct,gt)/2,Kt=gt.x+ke(gt,ct)/2;return Ve.eachAfter(Me?function(Tt){Tt.x=(Tt.x-Ve.x)*we,Tt.y=(Ve.y-Tt.y)*me}:function(Tt){Tt.x=(Tt.x-jt)/(Kt-jt)*we,Tt.y=(1-(Ve.y?Tt.y/Ve.y:1))*me})}return Se.separation=function(Ve){return arguments.length?(ke=Ve,Se):ke},Se.size=function(Ve){return arguments.length?(Me=!1,we=+Ve[0],me=+Ve[1],Se):Me?null:[we,me]},Se.nodeSize=function(Ve){return arguments.length?(Me=!0,we=+Ve[0],me=+Ve[1],Se):Me?[we,me]:null},Se}function t(ke){var we=0,me=ke.children,Me=me&&me.length;if(!Me)we=1;else for(;--Me>=0;)we+=me[Me].value;ke.value=we}function i(){return this.eachAfter(t)}function a(ke){var we=this,me,Me=[we],Se,Ve,Ze;do for(me=Me.reverse(),Me=[];we=me.pop();)if(ke(we),Se=we.children,Se)for(Ve=0,Ze=Se.length;Ve<Ze;++Ve)Me.push(Se[Ve]);while(Me.length);return this}function h(ke){for(var we=this,me=[we],Me,Se;we=me.pop();)if(ke(we),Me=we.children,Me)for(Se=Me.length-1;Se>=0;--Se)me.push(Me[Se]);return this}function u(ke){for(var we=this,me=[we],Me=[],Se,Ve,Ze;we=me.pop();)if(Me.push(we),Se=we.children,Se)for(Ve=0,Ze=Se.length;Ve<Ze;++Ve)me.push(Se[Ve]);for(;we=Me.pop();)ke(we);return this}function s(ke){return this.eachAfter(function(we){for(var me=+ke(we.data)||0,Me=we.children,Se=Me&&Me.length;--Se>=0;)me+=Me[Se].value;we.value=me})}function m(ke){return this.eachBefore(function(we){we.children&&we.children.sort(ke)})}function f(ke){for(var we=this,me=S(we,ke),Me=[we];we!==me;)we=we.parent,Me.push(we);for(var Se=Me.length;ke!==me;)Me.splice(Se,0,ke),ke=ke.parent;return Me}function S(ke,we){if(ke===we)return ke;var me=ke.ancestors(),Me=we.ancestors(),Se=null;for(ke=me.pop(),we=Me.pop();ke===we;)Se=ke,ke=me.pop(),we=Me.pop();return Se}function v(){for(var ke=this,we=[ke];ke=ke.parent;)we.push(ke);return we}function l(){var ke=[];return this.each(function(we){ke.push(we)}),ke}function g(){var ke=[];return this.eachBefore(function(we){we.children||ke.push(we)}),ke}function M(){var ke=this,we=[];return ke.each(function(me){me!==ke&&we.push({source:me.parent,target:me})}),we}function A(ke,we){var me=new o(ke),Me=+ke.value&&(me.value=ke.value),Se,Ve=[me],Ze,tt,ct,gt;for(we==null&&(we=w);Se=Ve.pop();)if(Me&&(Se.value=+Se.data.value),(tt=we(Se.data))&&(gt=tt.length))for(Se.children=new Array(gt),ct=gt-1;ct>=0;--ct)Ve.push(Ze=Se.children[ct]=new o(tt[ct])),Ze.parent=Se,Ze.depth=Se.depth+1;return me.eachBefore(b)}function k(){return A(this).eachBefore(E)}function w(ke){return ke.children}function E(ke){ke.data=ke.data.data}function b(ke){var we=0;do ke.height=we;while((ke=ke.parent)&&ke.height<++we)}function o(ke){this.data=ke,this.depth=this.height=0,this.parent=null}o.prototype=A.prototype={constructor:o,count:i,each:a,eachAfter:u,eachBefore:h,sum:s,sort:m,path:f,ancestors:v,descendants:l,leaves:g,links:M,copy:k};var P=Array.prototype.slice;function x(ke){for(var we=ke.length,me,Me;we;)Me=Math.random()*we--|0,me=ke[we],ke[we]=ke[Me],ke[Me]=me;return ke}function z(ke){for(var we=0,me=(ke=x(P.call(ke))).length,Me=[],Se,Ve;we<me;)Se=ke[we],Ve&&F(Ve,Se)?++we:(Ve=U(Me=_(Me,Se)),we=0);return Ve}function _(ke,we){var me,Me;if(N(we,ke))return[we];for(me=0;me<ke.length;++me)if(G(we,ke[me])&&N(H(ke[me],we),ke))return[ke[me],we];for(me=0;me<ke.length-1;++me)for(Me=me+1;Me<ke.length;++Me)if(G(H(ke[me],ke[Me]),we)&&G(H(ke[me],we),ke[Me])&&G(H(ke[Me],we),ke[me])&&N(Y(ke[me],ke[Me],we),ke))return[ke[me],ke[Me],we];throw new Error}function G(ke,we){var me=ke.r-we.r,Me=we.x-ke.x,Se=we.y-ke.y;return me<0||me*me<Me*Me+Se*Se}function F(ke,we){var me=ke.r-we.r+1e-6,Me=we.x-ke.x,Se=we.y-ke.y;return me>0&&me*me>Me*Me+Se*Se}function N(ke,we){for(var me=0;me<we.length;++me)if(!F(ke,we[me]))return!1;return!0}function U(ke){switch(ke.length){case 1:return O(ke[0]);case 2:return H(ke[0],ke[1]);case 3:return Y(ke[0],ke[1],ke[2])}}function O(ke){return{x:ke.x,y:ke.y,r:ke.r}}function H(ke,we){var me=ke.x,Me=ke.y,Se=ke.r,Ve=we.x,Ze=we.y,tt=we.r,ct=Ve-me,gt=Ze-Me,jt=tt-Se,Kt=Math.sqrt(ct*ct+gt*gt);return{x:(me+Ve+ct/Kt*jt)/2,y:(Me+Ze+gt/Kt*jt)/2,r:(Kt+Se+tt)/2}}function Y(ke,we,me){var Me=ke.x,Se=ke.y,Ve=ke.r,Ze=we.x,tt=we.y,ct=we.r,gt=me.x,jt=me.y,Kt=me.r,Tt=Me-Ze,zt=Me-gt,qt=Se-tt,Sr=Se-jt,yt=ct-Ve,Zt=Kt-Ve,Jt=Me*Me+Se*Se-Ve*Ve,mr=Jt-Ze*Ze-tt*tt+ct*ct,sr=Jt-gt*gt-jt*jt+Kt*Kt,vt=zt*qt-Tt*Sr,it=(qt*sr-Sr*mr)/(vt*2)-Me,xt=(Sr*yt-qt*Zt)/vt,St=(zt*mr-Tt*sr)/(vt*2)-Se,Rt=(Tt*Zt-zt*yt)/vt,Lt=xt*xt+Rt*Rt-1,Ot=2*(Ve+it*xt+St*Rt),Nt=it*it+St*St-Ve*Ve,Xt=-(Lt?(Ot+Math.sqrt(Ot*Ot-4*Lt*Nt))/(2*Lt):Nt/Ot);return{x:Me+it+xt*Xt,y:Se+St+Rt*Xt,r:Xt}}function q(ke,we,me){var Me=ke.x-we.x,Se,Ve,Ze=ke.y-we.y,tt,ct,gt=Me*Me+Ze*Ze;gt?(Ve=we.r+me.r,Ve*=Ve,ct=ke.r+me.r,ct*=ct,Ve>ct?(Se=(gt+ct-Ve)/(2*gt),tt=Math.sqrt(Math.max(0,ct/gt-Se*Se)),me.x=ke.x-Se*Me-tt*Ze,me.y=ke.y-Se*Ze+tt*Me):(Se=(gt+Ve-ct)/(2*gt),tt=Math.sqrt(Math.max(0,Ve/gt-Se*Se)),me.x=we.x+Se*Me-tt*Ze,me.y=we.y+Se*Ze+tt*Me)):(me.x=we.x+me.r,me.y=we.y)}function ne(ke,we){var me=ke.r+we.r-1e-6,Me=we.x-ke.x,Se=we.y-ke.y;return me>0&&me*me>Me*Me+Se*Se}function oe(ke){var we=ke._,me=ke.next._,Me=we.r+me.r,Se=(we.x*me.r+me.x*we.r)/Me,Ve=(we.y*me.r+me.y*we.r)/Me;return Se*Se+Ve*Ve}function he(ke){this._=ke,this.next=null,this.previous=null}function J(ke){if(!(Se=ke.length))return 0;var we,me,Me,Se,Ve,Ze,tt,ct,gt,jt,Kt;if(we=ke[0],we.x=0,we.y=0,!(Se>1))return we.r;if(me=ke[1],we.x=-me.r,me.x=we.r,me.y=0,!(Se>2))return we.r+me.r;q(me,we,Me=ke[2]),we=new he(we),me=new he(me),Me=new he(Me),we.next=Me.previous=me,me.next=we.previous=Me,Me.next=me.previous=we;e:for(tt=3;tt<Se;++tt){q(we._,me._,Me=ke[tt]),Me=new he(Me),ct=me.next,gt=we.previous,jt=me._.r,Kt=we._.r;do if(jt<=Kt){if(ne(ct._,Me._)){me=ct,we.next=me,me.previous=we,--tt;continue e}jt+=ct._.r,ct=ct.next}else{if(ne(gt._,Me._)){we=gt,we.next=me,me.previous=we,--tt;continue e}Kt+=gt._.r,gt=gt.previous}while(ct!==gt.next);for(Me.previous=we,Me.next=me,we.next=me.previous=me=Me,Ve=oe(we);(Me=Me.next)!==me;)(Ze=oe(Me))<Ve&&(we=Me,Ve=Ze);me=we.next}for(we=[me._],Me=me;(Me=Me.next)!==me;)we.push(Me._);for(Me=z(we),tt=0;tt<Se;++tt)we=ke[tt],we.x-=Me.x,we.y-=Me.y;return Me.r}function Z(ke){return J(ke),ke}function se(ke){return ke==null?null:$(ke)}function $(ke){if(typeof ke!="function")throw new Error;return ke}function ee(){return 0}function le(ke){return function(){return ke}}function Q(ke){return Math.sqrt(ke.value)}function K(){var ke=null,we=1,me=1,Me=ee;function Se(Ve){return Ve.x=we/2,Ve.y=me/2,ke?Ve.eachBefore(ue(ke)).eachAfter(ie(Me,.5)).eachBefore(ce(1)):Ve.eachBefore(ue(Q)).eachAfter(ie(ee,1)).eachAfter(ie(Me,Ve.r/Math.min(we,me))).eachBefore(ce(Math.min(we,me)/(2*Ve.r))),Ve}return Se.radius=function(Ve){return arguments.length?(ke=se(Ve),Se):ke},Se.size=function(Ve){return arguments.length?(we=+Ve[0],me=+Ve[1],Se):[we,me]},Se.padding=function(Ve){return arguments.length?(Me=typeof Ve=="function"?Ve:le(+Ve),Se):Me},Se}function ue(ke){return function(we){we.children||(we.r=Math.max(0,+ke(we)||0))}}function ie(ke,we){return function(me){if(Me=me.children){var Me,Se,Ve=Me.length,Ze=ke(me)*we||0,tt;if(Ze)for(Se=0;Se<Ve;++Se)Me[Se].r+=Ze;if(tt=J(Me),Ze)for(Se=0;Se<Ve;++Se)Me[Se].r-=Ze;me.r=tt+Ze}}}function ce(ke){return function(we){var me=we.parent;we.r*=ke,me&&(we.x=me.x+ke*we.x,we.y=me.y+ke*we.y)}}function xe(ke){ke.x0=Math.round(ke.x0),ke.y0=Math.round(ke.y0),ke.x1=Math.round(ke.x1),ke.y1=Math.round(ke.y1)}function Le(ke,we,me,Me,Se){for(var Ve=ke.children,Ze,tt=-1,ct=Ve.length,gt=ke.value&&(Me-we)/ke.value;++tt<ct;)Ze=Ve[tt],Ze.y0=me,Ze.y1=Se,Ze.x0=we,Ze.x1=we+=Ze.value*gt}function Ae(){var ke=1,we=1,me=0,Me=!1;function Se(Ze){var tt=Ze.height+1;return Ze.x0=Ze.y0=me,Ze.x1=ke,Ze.y1=we/tt,Ze.eachBefore(Ve(we,tt)),Me&&Ze.eachBefore(xe),Ze}function Ve(Ze,tt){return function(ct){ct.children&&Le(ct,ct.x0,Ze*(ct.depth+1)/tt,ct.x1,Ze*(ct.depth+2)/tt);var gt=ct.x0,jt=ct.y0,Kt=ct.x1-me,Tt=ct.y1-me;Kt<gt&&(gt=Kt=(gt+Kt)/2),Tt<jt&&(jt=Tt=(jt+Tt)/2),ct.x0=gt,ct.y0=jt,ct.x1=Kt,ct.y1=Tt}}return Se.round=function(Ze){return arguments.length?(Me=!!Ze,Se):Me},Se.size=function(Ze){return arguments.length?(ke=+Ze[0],we=+Ze[1],Se):[ke,we]},Se.padding=function(Ze){return arguments.length?(me=+Ze,Se):me},Se}var Oe="$",ze={depth:-1},Ee={};function be(ke){return ke.id}function Ce(ke){return ke.parentId}function Ue(){var ke=be,we=Ce;function me(Me){var Se,Ve,Ze=Me.length,tt,ct,gt,jt=new Array(Ze),Kt,Tt,zt={};for(Ve=0;Ve<Ze;++Ve)Se=Me[Ve],gt=jt[Ve]=new o(Se),(Kt=ke(Se,Ve,Me))!=null&&(Kt+="")&&(Tt=Oe+(gt.id=Kt),zt[Tt]=Tt in zt?Ee:gt);for(Ve=0;Ve<Ze;++Ve)if(gt=jt[Ve],Kt=we(Me[Ve],Ve,Me),Kt==null||!(Kt+="")){if(tt)throw new Error("multiple roots");tt=gt}else{if(ct=zt[Oe+Kt],!ct)throw new Error("missing: "+Kt);if(ct===Ee)throw new Error("ambiguous: "+Kt);ct.children?ct.children.push(gt):ct.children=[gt],gt.parent=ct}if(!tt)throw new Error("no root");if(tt.parent=ze,tt.eachBefore(function(qt){qt.depth=qt.parent.depth+1,--Ze}).eachBefore(b),tt.parent=null,Ze>0)throw new Error("cycle");return tt}return me.id=function(Me){return arguments.length?(ke=$(Me),me):ke},me.parentId=function(Me){return arguments.length?(we=$(Me),me):we},me}function He(ke,we){return ke.parent===we.parent?1:2}function Ie(ke){var we=ke.children;return we?we[0]:ke.t}function Ge(ke){var we=ke.children;return we?we[we.length-1]:ke.t}function at(ke,we,me){var Me=me/(we.i-ke.i);we.c-=Me,we.s+=me,ke.c+=Me,we.z+=me,we.m+=me}function lt(ke){for(var we=0,me=0,Me=ke.children,Se=Me.length,Ve;--Se>=0;)Ve=Me[Se],Ve.z+=we,Ve.m+=we,we+=Ve.s+(me+=Ve.c)}function qe(ke,we,me){return ke.a.parent===we.parent?ke.a:me}function et(ke,we){this._=ke,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=we}et.prototype=Object.create(o.prototype);function ft(ke){for(var we=new et(ke,0),me,Me=[we],Se,Ve,Ze,tt;me=Me.pop();)if(Ve=me._.children)for(me.children=new Array(tt=Ve.length),Ze=tt-1;Ze>=0;--Ze)Me.push(Se=me.children[Ze]=new et(Ve[Ze],Ze)),Se.parent=me;return(we.parent=new et(null,0)).children=[we],we}function dt(){var ke=He,we=1,me=1,Me=null;function Se(gt){var jt=ft(gt);if(jt.eachAfter(Ve),jt.parent.m=-jt.z,jt.eachBefore(Ze),Me)gt.eachBefore(ct);else{var Kt=gt,Tt=gt,zt=gt;gt.eachBefore(function(Jt){Jt.x<Kt.x&&(Kt=Jt),Jt.x>Tt.x&&(Tt=Jt),Jt.depth>zt.depth&&(zt=Jt)});var qt=Kt===Tt?1:ke(Kt,Tt)/2,Sr=qt-Kt.x,yt=we/(Tt.x+qt+Sr),Zt=me/(zt.depth||1);gt.eachBefore(function(Jt){Jt.x=(Jt.x+Sr)*yt,Jt.y=Jt.depth*Zt})}return gt}function Ve(gt){var jt=gt.children,Kt=gt.parent.children,Tt=gt.i?Kt[gt.i-1]:null;if(jt){lt(gt);var zt=(jt[0].z+jt[jt.length-1].z)/2;Tt?(gt.z=Tt.z+ke(gt._,Tt._),gt.m=gt.z-zt):gt.z=zt}else Tt&&(gt.z=Tt.z+ke(gt._,Tt._));gt.parent.A=tt(gt,Tt,gt.parent.A||Kt[0])}function Ze(gt){gt._.x=gt.z+gt.parent.m,gt.m+=gt.parent.m}function tt(gt,jt,Kt){if(jt){for(var Tt=gt,zt=gt,qt=jt,Sr=Tt.parent.children[0],yt=Tt.m,Zt=zt.m,Jt=qt.m,mr=Sr.m,sr;qt=Ge(qt),Tt=Ie(Tt),qt&&Tt;)Sr=Ie(Sr),zt=Ge(zt),zt.a=gt,sr=qt.z+Jt-Tt.z-yt+ke(qt._,Tt._),sr>0&&(at(qe(qt,gt,Kt),gt,sr),yt+=sr,Zt+=sr),Jt+=qt.m,yt+=Tt.m,mr+=Sr.m,Zt+=zt.m;qt&&!Ge(zt)&&(zt.t=qt,zt.m+=Jt-Zt),Tt&&!Ie(Sr)&&(Sr.t=Tt,Sr.m+=yt-mr,Kt=gt)}return Kt}function ct(gt){gt.x*=we,gt.y=gt.depth*me}return Se.separation=function(gt){return arguments.length?(ke=gt,Se):ke},Se.size=function(gt){return arguments.length?(Me=!1,we=+gt[0],me=+gt[1],Se):Me?null:[we,me]},Se.nodeSize=function(gt){return arguments.length?(Me=!0,we=+gt[0],me=+gt[1],Se):Me?[we,me]:null},Se}function pt(ke,we,me,Me,Se){for(var Ve=ke.children,Ze,tt=-1,ct=Ve.length,gt=ke.value&&(Se-me)/ke.value;++tt<ct;)Ze=Ve[tt],Ze.x0=we,Ze.x1=Me,Ze.y0=me,Ze.y1=me+=Ze.value*gt}var At=(1+Math.sqrt(5))/2;function Pt(ke,we,me,Me,Se,Ve){for(var Ze=[],tt=we.children,ct,gt,jt=0,Kt=0,Tt=tt.length,zt,qt,Sr=we.value,yt,Zt,Jt,mr,sr,vt,it;jt<Tt;){zt=Se-me,qt=Ve-Me;do yt=tt[Kt++].value;while(!yt&&Kt<Tt);for(Zt=Jt=yt,vt=Math.max(qt/zt,zt/qt)/(Sr*ke),it=yt*yt*vt,sr=Math.max(Jt/it,it/Zt);Kt<Tt;++Kt){if(yt+=gt=tt[Kt].value,gt<Zt&&(Zt=gt),gt>Jt&&(Jt=gt),it=yt*yt*vt,mr=Math.max(Jt/it,it/Zt),mr>sr){yt-=gt;break}sr=mr}Ze.push(ct={value:yt,dice:zt<qt,children:tt.slice(jt,Kt)}),ct.dice?Le(ct,me,Me,Se,Sr?Me+=qt*yt/Sr:Ve):pt(ct,me,Me,Sr?me+=zt*yt/Sr:Se,Ve),Sr-=yt,jt=Kt}return Ze}var Ht=function ke(we){function me(Me,Se,Ve,Ze,tt){Pt(we,Me,Se,Ve,Ze,tt)}return me.ratio=function(Me){return ke((Me=+Me)>1?Me:1)},me}(At);function Je(){var ke=Ht,we=!1,me=1,Me=1,Se=[0],Ve=ee,Ze=ee,tt=ee,ct=ee,gt=ee;function jt(Tt){return Tt.x0=Tt.y0=0,Tt.x1=me,Tt.y1=Me,Tt.eachBefore(Kt),Se=[0],we&&Tt.eachBefore(xe),Tt}function Kt(Tt){var zt=Se[Tt.depth],qt=Tt.x0+zt,Sr=Tt.y0+zt,yt=Tt.x1-zt,Zt=Tt.y1-zt;yt<qt&&(qt=yt=(qt+yt)/2),Zt<Sr&&(Sr=Zt=(Sr+Zt)/2),Tt.x0=qt,Tt.y0=Sr,Tt.x1=yt,Tt.y1=Zt,Tt.children&&(zt=Se[Tt.depth+1]=Ve(Tt)/2,qt+=gt(Tt)-zt,Sr+=Ze(Tt)-zt,yt-=tt(Tt)-zt,Zt-=ct(Tt)-zt,yt<qt&&(qt=yt=(qt+yt)/2),Zt<Sr&&(Sr=Zt=(Sr+Zt)/2),ke(Tt,qt,Sr,yt,Zt))}return jt.round=function(Tt){return arguments.length?(we=!!Tt,jt):we},jt.size=function(Tt){return arguments.length?(me=+Tt[0],Me=+Tt[1],jt):[me,Me]},jt.tile=function(Tt){return arguments.length?(ke=$(Tt),jt):ke},jt.padding=function(Tt){return arguments.length?jt.paddingInner(Tt).paddingOuter(Tt):jt.paddingInner()},jt.paddingInner=function(Tt){return arguments.length?(Ve=typeof Tt=="function"?Tt:le(+Tt),jt):Ve},jt.paddingOuter=function(Tt){return arguments.length?jt.paddingTop(Tt).paddingRight(Tt).paddingBottom(Tt).paddingLeft(Tt):jt.paddingTop()},jt.paddingTop=function(Tt){return arguments.length?(Ze=typeof Tt=="function"?Tt:le(+Tt),jt):Ze},jt.paddingRight=function(Tt){return arguments.length?(tt=typeof Tt=="function"?Tt:le(+Tt),jt):tt},jt.paddingBottom=function(Tt){return arguments.length?(ct=typeof Tt=="function"?Tt:le(+Tt),jt):ct},jt.paddingLeft=function(Tt){return arguments.length?(gt=typeof Tt=="function"?Tt:le(+Tt),jt):gt},jt}function We(ke,we,me,Me,Se){var Ve=ke.children,Ze,tt=Ve.length,ct,gt=new Array(tt+1);for(gt[0]=ct=Ze=0;Ze<tt;++Ze)gt[Ze+1]=ct+=Ve[Ze].value;jt(0,tt,ke.value,we,me,Me,Se);function jt(Kt,Tt,zt,qt,Sr,yt,Zt){if(Kt>=Tt-1){var Jt=Ve[Kt];Jt.x0=qt,Jt.y0=Sr,Jt.x1=yt,Jt.y1=Zt;return}for(var mr=gt[Kt],sr=zt/2+mr,vt=Kt+1,it=Tt-1;vt<it;){var xt=vt+it>>>1;gt[xt]<sr?vt=xt+1:it=xt}sr-gt[vt-1]<gt[vt]-sr&&Kt+1<vt&&--vt;var St=gt[vt]-mr,Rt=zt-St;if(yt-qt>Zt-Sr){var Lt=(qt*Rt+yt*St)/zt;jt(Kt,vt,St,qt,Sr,Lt,Zt),jt(vt,Tt,Rt,Lt,Sr,yt,Zt)}else{var Ot=(Sr*Rt+Zt*St)/zt;jt(Kt,vt,St,qt,Sr,yt,Ot),jt(vt,Tt,Rt,qt,Ot,yt,Zt)}}}function _e(ke,we,me,Me,Se){(ke.depth&1?pt:Le)(ke,we,me,Me,Se)}var Ne=function ke(we){function me(Me,Se,Ve,Ze,tt){if((ct=Me._squarify)&&ct.ratio===we)for(var ct,gt,jt,Kt,Tt=-1,zt,qt=ct.length,Sr=Me.value;++Tt<qt;){for(gt=ct[Tt],jt=gt.children,Kt=gt.value=0,zt=jt.length;Kt<zt;++Kt)gt.value+=jt[Kt].value;gt.dice?Le(gt,Se,Ve,Ze,Ve+=(tt-Ve)*gt.value/Sr):pt(gt,Se,Ve,Se+=(Ze-Se)*gt.value/Sr,tt),Sr-=gt.value}else Me._squarify=ct=Pt(we,Me,Se,Ve,Ze,tt),ct.ratio=we}return me.ratio=function(Me){return ke((Me=+Me)>1?Me:1)},me}(At)},45879:function(V,B,e){e.d(B,{h5:function(){return f}});var p=Math.PI,L=2*p,n=1e-6,C=L-n;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d(){return new T}T.prototype=d.prototype={constructor:T,moveTo:function(S,v){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+v)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(S,v){this._+="L"+(this._x1=+S)+","+(this._y1=+v)},quadraticCurveTo:function(S,v,l,g){this._+="Q"+ +S+","+ +v+","+(this._x1=+l)+","+(this._y1=+g)},bezierCurveTo:function(S,v,l,g,M,A){this._+="C"+ +S+","+ +v+","+ +l+","+ +g+","+(this._x1=+M)+","+(this._y1=+A)},arcTo:function(S,v,l,g,M){S=+S,v=+v,l=+l,g=+g,M=+M;var A=this._x1,k=this._y1,w=l-S,E=g-v,b=A-S,o=k-v,P=b*b+o*o;if(M<0)throw new Error("negative radius: "+M);if(this._x1===null)this._+="M"+(this._x1=S)+","+(this._y1=v);else if(P>n)if(!(Math.abs(o*w-E*b)>n)||!M)this._+="L"+(this._x1=S)+","+(this._y1=v);else{var x=l-A,z=g-k,_=w*w+E*E,G=x*x+z*z,F=Math.sqrt(_),N=Math.sqrt(P),U=M*Math.tan((p-Math.acos((_+P-G)/(2*F*N)))/2),O=U/N,H=U/F;Math.abs(O-1)>n&&(this._+="L"+(S+O*b)+","+(v+O*o)),this._+="A"+M+","+M+",0,0,"+ +(o*x>b*z)+","+(this._x1=S+H*w)+","+(this._y1=v+H*E)}},arc:function(S,v,l,g,M,A){S=+S,v=+v,l=+l,A=!!A;var k=l*Math.cos(g),w=l*Math.sin(g),E=S+k,b=v+w,o=1^A,P=A?g-M:M-g;if(l<0)throw new Error("negative radius: "+l);this._x1===null?this._+="M"+E+","+b:(Math.abs(this._x1-E)>n||Math.abs(this._y1-b)>n)&&(this._+="L"+E+","+b),l&&(P<0&&(P=P%L+L),P>C?this._+="A"+l+","+l+",0,1,"+o+","+(S-k)+","+(v-w)+"A"+l+","+l+",0,1,"+o+","+(this._x1=E)+","+(this._y1=b):P>n&&(this._+="A"+l+","+l+",0,"+ +(P>=p)+","+o+","+(this._x1=S+l*Math.cos(M))+","+(this._y1=v+l*Math.sin(M))))},rect:function(S,v,l,g){this._+="M"+(this._x0=this._x1=+S)+","+(this._y0=this._y1=+v)+"h"+ +l+"v"+ +g+"h"+-l+"Z"},toString:function(){return this._}};var y=d,r=Array.prototype.slice;function t(S){return function(){return S}}function i(S){return S[0]}function a(S){return S[1]}function h(S){return S.source}function u(S){return S.target}function s(S){var v=h,l=u,g=i,M=a,A=null;function k(){var w,E=r.call(arguments),b=v.apply(this,E),o=l.apply(this,E);if(A||(A=w=y()),S(A,+g.apply(this,(E[0]=b,E)),+M.apply(this,E),+g.apply(this,(E[0]=o,E)),+M.apply(this,E)),w)return A=null,w+""||null}return k.source=function(w){return arguments.length?(v=w,k):v},k.target=function(w){return arguments.length?(l=w,k):l},k.x=function(w){return arguments.length?(g=typeof w=="function"?w:t(+w),k):g},k.y=function(w){return arguments.length?(M=typeof w=="function"?w:t(+w),k):M},k.context=function(w){return arguments.length?(A=w??null,k):A},k}function m(S,v,l,g,M){S.moveTo(v,l),S.bezierCurveTo(v=(v+g)/2,l,v,M,g,M)}function f(){return s(m)}},84096:function(V,B,e){e.d(B,{i$:function(){return We},Dq:function(){return i},g0:function(){return _e}});var p=e(58176),L=e(48480),n=e(59879),C=e(82301),T=e(34823),d=e(79791);function y(ke){if(0<=ke.y&&ke.y<100){var we=new Date(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L);return we.setFullYear(ke.y),we}return new Date(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L)}function r(ke){if(0<=ke.y&&ke.y<100){var we=new Date(Date.UTC(-1,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L));return we.setUTCFullYear(ke.y),we}return new Date(Date.UTC(ke.y,ke.m,ke.d,ke.H,ke.M,ke.S,ke.L))}function t(ke,we,me){return{y:ke,m:we,d:me,H:0,M:0,S:0,L:0}}function i(ke){var we=ke.dateTime,me=ke.date,Me=ke.time,Se=ke.periods,Ve=ke.days,Ze=ke.shortDays,tt=ke.months,ct=ke.shortMonths,gt=S(Se),jt=v(Se),Kt=S(Ve),Tt=v(Ve),zt=S(Ze),qt=v(Ze),Sr=S(tt),yt=v(tt),Zt=S(ct),Jt=v(ct),mr={a:Ye,A:je,b:It,B:Dt,c:null,d:q,e:q,f:Z,H:ne,I:oe,j:he,L:J,m:se,M:$,p:Yt,q:tr,Q:Pt,s:Ht,S:ee,u:le,U:Q,V:K,w:ue,W:ie,x:null,X:null,y:ce,Y:xe,Z:Le,"%":At},sr={a:fr,A:rr,b:Ft,B:hr,c:null,d:Ae,e:Ae,f:Ce,H:Oe,I:ze,j:Ee,L:be,m:Ue,M:He,p:br,q:yr,Q:Pt,s:Ht,S:Ie,u:Ge,U:at,V:lt,w:qe,W:et,x:null,X:null,y:ft,Y:dt,Z:pt,"%":At},vt={a:Lt,A:Ot,b:Nt,B:Xt,c:ur,d:x,e:x,f:U,H:_,I:_,j:z,L:N,m:P,M:G,p:Rt,q:o,Q:H,s:Y,S:F,u:g,U:M,V:A,w:l,W:k,x:cr,X:dr,y:E,Y:w,Z:b,"%":O};mr.x=it(me,mr),mr.X=it(Me,mr),mr.c=it(we,mr),sr.x=it(me,sr),sr.X=it(Me,sr),sr.c=it(we,sr);function it(vr,Gr){return function(_r){var Dr=[],pn=-1,nn=0,Un=vr.length,Tn,Cr,Lr;for(_r instanceof Date||(_r=new Date(+_r));++pn<Un;)vr.charCodeAt(pn)===37&&(Dr.push(vr.slice(nn,pn)),(Cr=a[Tn=vr.charAt(++pn)])!=null?Tn=vr.charAt(++pn):Cr=Tn==="e"?" ":"0",(Lr=Gr[Tn])&&(Tn=Lr(_r,Cr)),Dr.push(Tn),nn=pn+1);return Dr.push(vr.slice(nn,pn)),Dr.join("")}}function xt(vr,Gr){return function(_r){var Dr=t(1900,void 0,1),pn=St(Dr,vr,_r+="",0),nn,Un;if(pn!=_r.length)return null;if("Q"in Dr)return new Date(Dr.Q);if("s"in Dr)return new Date(Dr.s*1e3+("L"in Dr?Dr.L:0));if(Gr&&!("Z"in Dr)&&(Dr.Z=0),"p"in Dr&&(Dr.H=Dr.H%12+Dr.p*12),Dr.m===void 0&&(Dr.m="q"in Dr?Dr.q:0),"V"in Dr){if(Dr.V<1||Dr.V>53)return null;"w"in Dr||(Dr.w=1),"Z"in Dr?(nn=r(t(Dr.y,0,1)),Un=nn.getUTCDay(),nn=Un>4||Un===0?p.l6.ceil(nn):(0,p.l6)(nn),nn=L.Z.offset(nn,(Dr.V-1)*7),Dr.y=nn.getUTCFullYear(),Dr.m=nn.getUTCMonth(),Dr.d=nn.getUTCDate()+(Dr.w+6)%7):(nn=y(t(Dr.y,0,1)),Un=nn.getDay(),nn=Un>4||Un===0?n.wA.ceil(nn):(0,n.wA)(nn),nn=C.Z.offset(nn,(Dr.V-1)*7),Dr.y=nn.getFullYear(),Dr.m=nn.getMonth(),Dr.d=nn.getDate()+(Dr.w+6)%7)}else("W"in Dr||"U"in Dr)&&("w"in Dr||(Dr.w="u"in Dr?Dr.u%7:"W"in Dr?1:0),Un="Z"in Dr?r(t(Dr.y,0,1)).getUTCDay():y(t(Dr.y,0,1)).getDay(),Dr.m=0,Dr.d="W"in Dr?(Dr.w+6)%7+Dr.W*7-(Un+5)%7:Dr.w+Dr.U*7-(Un+6)%7);return"Z"in Dr?(Dr.H+=Dr.Z/100|0,Dr.M+=Dr.Z%100,r(Dr)):y(Dr)}}function St(vr,Gr,_r,Dr){for(var pn=0,nn=Gr.length,Un=_r.length,Tn,Cr;pn<nn;){if(Dr>=Un)return-1;if(Tn=Gr.charCodeAt(pn++),Tn===37){if(Tn=Gr.charAt(pn++),Cr=vt[Tn in a?Gr.charAt(pn++):Tn],!Cr||(Dr=Cr(vr,_r,Dr))<0)return-1}else if(Tn!=_r.charCodeAt(Dr++))return-1}return Dr}function Rt(vr,Gr,_r){var Dr=gt.exec(Gr.slice(_r));return Dr?(vr.p=jt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Lt(vr,Gr,_r){var Dr=zt.exec(Gr.slice(_r));return Dr?(vr.w=qt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Ot(vr,Gr,_r){var Dr=Kt.exec(Gr.slice(_r));return Dr?(vr.w=Tt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Nt(vr,Gr,_r){var Dr=Zt.exec(Gr.slice(_r));return Dr?(vr.m=Jt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function Xt(vr,Gr,_r){var Dr=Sr.exec(Gr.slice(_r));return Dr?(vr.m=yt[Dr[0].toLowerCase()],_r+Dr[0].length):-1}function ur(vr,Gr,_r){return St(vr,we,Gr,_r)}function cr(vr,Gr,_r){return St(vr,me,Gr,_r)}function dr(vr,Gr,_r){return St(vr,Me,Gr,_r)}function Ye(vr){return Ze[vr.getDay()]}function je(vr){return Ve[vr.getDay()]}function It(vr){return ct[vr.getMonth()]}function Dt(vr){return tt[vr.getMonth()]}function Yt(vr){return Se[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function fr(vr){return Ze[vr.getUTCDay()]}function rr(vr){return Ve[vr.getUTCDay()]}function Ft(vr){return ct[vr.getUTCMonth()]}function hr(vr){return tt[vr.getUTCMonth()]}function br(vr){return Se[+(vr.getUTCHours()>=12)]}function yr(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Gr=it(vr+="",mr);return Gr.toString=function(){return vr},Gr},parse:function(vr){var Gr=xt(vr+="",!1);return Gr.toString=function(){return vr},Gr},utcFormat:function(vr){var Gr=it(vr+="",sr);return Gr.toString=function(){return vr},Gr},utcParse:function(vr){var Gr=xt(vr+="",!0);return Gr.toString=function(){return vr},Gr}}}var a={"-":"",_:" ",0:"0"},h=/^\s*\d+/,u=/^%/,s=/[\\^$*+?|[\]().{}]/g;function m(ke,we,me){var Me=ke<0?"-":"",Se=(Me?-ke:ke)+"",Ve=Se.length;return Me+(Ve<me?new Array(me-Ve+1).join(we)+Se:Se)}function f(ke){return ke.replace(s,"\\$&")}function S(ke){return new RegExp("^(?:"+ke.map(f).join("|")+")","i")}function v(ke){for(var we={},me=-1,Me=ke.length;++me<Me;)we[ke[me].toLowerCase()]=me;return we}function l(ke,we,me){var Me=h.exec(we.slice(me,me+1));return Me?(ke.w=+Me[0],me+Me[0].length):-1}function g(ke,we,me){var Me=h.exec(we.slice(me,me+1));return Me?(ke.u=+Me[0],me+Me[0].length):-1}function M(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.U=+Me[0],me+Me[0].length):-1}function A(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.V=+Me[0],me+Me[0].length):-1}function k(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.W=+Me[0],me+Me[0].length):-1}function w(ke,we,me){var Me=h.exec(we.slice(me,me+4));return Me?(ke.y=+Me[0],me+Me[0].length):-1}function E(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.y=+Me[0]+(+Me[0]>68?1900:2e3),me+Me[0].length):-1}function b(ke,we,me){var Me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(we.slice(me,me+6));return Me?(ke.Z=Me[1]?0:-(Me[2]+(Me[3]||"00")),me+Me[0].length):-1}function o(ke,we,me){var Me=h.exec(we.slice(me,me+1));return Me?(ke.q=Me[0]*3-3,me+Me[0].length):-1}function P(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.m=Me[0]-1,me+Me[0].length):-1}function x(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.d=+Me[0],me+Me[0].length):-1}function z(ke,we,me){var Me=h.exec(we.slice(me,me+3));return Me?(ke.m=0,ke.d=+Me[0],me+Me[0].length):-1}function _(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.H=+Me[0],me+Me[0].length):-1}function G(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.M=+Me[0],me+Me[0].length):-1}function F(ke,we,me){var Me=h.exec(we.slice(me,me+2));return Me?(ke.S=+Me[0],me+Me[0].length):-1}function N(ke,we,me){var Me=h.exec(we.slice(me,me+3));return Me?(ke.L=+Me[0],me+Me[0].length):-1}function U(ke,we,me){var Me=h.exec(we.slice(me,me+6));return Me?(ke.L=Math.floor(Me[0]/1e3),me+Me[0].length):-1}function O(ke,we,me){var Me=u.exec(we.slice(me,me+1));return Me?me+Me[0].length:-1}function H(ke,we,me){var Me=h.exec(we.slice(me));return Me?(ke.Q=+Me[0],me+Me[0].length):-1}function Y(ke,we,me){var Me=h.exec(we.slice(me));return Me?(ke.s=+Me[0],me+Me[0].length):-1}function q(ke,we){return m(ke.getDate(),we,2)}function ne(ke,we){return m(ke.getHours(),we,2)}function oe(ke,we){return m(ke.getHours()%12||12,we,2)}function he(ke,we){return m(1+C.Z.count((0,T.Z)(ke),ke),we,3)}function J(ke,we){return m(ke.getMilliseconds(),we,3)}function Z(ke,we){return J(ke,we)+"000"}function se(ke,we){return m(ke.getMonth()+1,we,2)}function $(ke,we){return m(ke.getMinutes(),we,2)}function ee(ke,we){return m(ke.getSeconds(),we,2)}function le(ke){var we=ke.getDay();return we===0?7:we}function Q(ke,we){return m(n.OM.count((0,T.Z)(ke)-1,ke),we,2)}function K(ke,we){var me=ke.getDay();return ke=me>=4||me===0?(0,n.bL)(ke):n.bL.ceil(ke),m(n.bL.count((0,T.Z)(ke),ke)+((0,T.Z)(ke).getDay()===4),we,2)}function ue(ke){return ke.getDay()}function ie(ke,we){return m(n.wA.count((0,T.Z)(ke)-1,ke),we,2)}function ce(ke,we){return m(ke.getFullYear()%100,we,2)}function xe(ke,we){return m(ke.getFullYear()%1e4,we,4)}function Le(ke){var we=ke.getTimezoneOffset();return(we>0?"-":(we*=-1,"+"))+m(we/60|0,"0",2)+m(we%60,"0",2)}function Ae(ke,we){return m(ke.getUTCDate(),we,2)}function Oe(ke,we){return m(ke.getUTCHours(),we,2)}function ze(ke,we){return m(ke.getUTCHours()%12||12,we,2)}function Ee(ke,we){return m(1+L.Z.count((0,d.Z)(ke),ke),we,3)}function be(ke,we){return m(ke.getUTCMilliseconds(),we,3)}function Ce(ke,we){return be(ke,we)+"000"}function Ue(ke,we){return m(ke.getUTCMonth()+1,we,2)}function He(ke,we){return m(ke.getUTCMinutes(),we,2)}function Ie(ke,we){return m(ke.getUTCSeconds(),we,2)}function Ge(ke){var we=ke.getUTCDay();return we===0?7:we}function at(ke,we){return m(p.Ox.count((0,d.Z)(ke)-1,ke),we,2)}function lt(ke,we){var me=ke.getUTCDay();return ke=me>=4||me===0?(0,p.hB)(ke):p.hB.ceil(ke),m(p.hB.count((0,d.Z)(ke),ke)+((0,d.Z)(ke).getUTCDay()===4),we,2)}function qe(ke){return ke.getUTCDay()}function et(ke,we){return m(p.l6.count((0,d.Z)(ke)-1,ke),we,2)}function ft(ke,we){return m(ke.getUTCFullYear()%100,we,2)}function dt(ke,we){return m(ke.getUTCFullYear()%1e4,we,4)}function pt(){return"+0000"}function At(){return"%"}function Pt(ke){return+ke}function Ht(ke){return Math.floor(+ke/1e3)}var Je,We,_e;Ne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ne(ke){return Je=i(ke),We=Je.format,Je.parse,_e=Je.utcFormat,Je.utcParse,Je}},82301:function(V,B,e){e.d(B,{a:function(){return C}});var p=e(30052),L=e(54263),n=(0,p.Z)(function(T){T.setHours(0,0,0,0)},function(T,d){T.setDate(T.getDate()+d)},function(T,d){return(d-T-(d.getTimezoneOffset()-T.getTimezoneOffset())*L.yB)/L.UD},function(T){return T.getDate()-1});B.Z=n;var C=n.range},54263:function(V,B,e){e.d(B,{UD:function(){return C},Y2:function(){return n},Ym:function(){return p},iM:function(){return T},yB:function(){return L}});var p=1e3,L=6e4,n=36e5,C=864e5,T=6048e5},81041:function(V,B,e){e.r(B),e.d(B,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return f.mC},timeFridays:function(){return f.b$},timeHour:function(){return u},timeHours:function(){return s},timeInterval:function(){return p.Z},timeMillisecond:function(){return n},timeMilliseconds:function(){return C},timeMinute:function(){return i},timeMinutes:function(){return a},timeMonday:function(){return f.wA},timeMondays:function(){return f.bJ},timeMonth:function(){return v},timeMonths:function(){return l},timeSaturday:function(){return f.EY},timeSaturdays:function(){return f.Ff},timeSecond:function(){return y},timeSeconds:function(){return r},timeSunday:function(){return f.OM},timeSundays:function(){return f.vm},timeThursday:function(){return f.bL},timeThursdays:function(){return f.$t},timeTuesday:function(){return f.sy},timeTuesdays:function(){return f.aU},timeWednesday:function(){return f.zg},timeWednesdays:function(){return f.Ld},timeWeek:function(){return f.OM},timeWeeks:function(){return f.vm},timeYear:function(){return g.Z},timeYears:function(){return g.g},utcDay:function(){return o.Z},utcDays:function(){return o.y},utcFriday:function(){return P.QQ},utcFridays:function(){return P.fz},utcHour:function(){return E},utcHours:function(){return b},utcMillisecond:function(){return n},utcMilliseconds:function(){return C},utcMinute:function(){return A},utcMinutes:function(){return k},utcMonday:function(){return P.l6},utcMondays:function(){return P.$3},utcMonth:function(){return z},utcMonths:function(){return _},utcSaturday:function(){return P.g4},utcSaturdays:function(){return P.Q_},utcSecond:function(){return y},utcSeconds:function(){return r},utcSunday:function(){return P.Ox},utcSundays:function(){return P.SU},utcThursday:function(){return P.hB},utcThursdays:function(){return P.xj},utcTuesday:function(){return P.J1},utcTuesdays:function(){return P.DK},utcWednesday:function(){return P.b3},utcWednesdays:function(){return P.uy},utcWeek:function(){return P.Ox},utcWeeks:function(){return P.SU},utcYear:function(){return G.Z},utcYears:function(){return G.D}});var p=e(30052),L=(0,p.Z)(function(){},function(F,N){F.setTime(+F+N)},function(F,N){return N-F});L.every=function(F){return F=Math.floor(F),!isFinite(F)||!(F>0)?null:F>1?(0,p.Z)(function(N){N.setTime(Math.floor(N/F)*F)},function(N,U){N.setTime(+N+U*F)},function(N,U){return(U-N)/F}):L};var n=L,C=L.range,T=e(54263),d=(0,p.Z)(function(F){F.setTime(F-F.getMilliseconds())},function(F,N){F.setTime(+F+N*T.Ym)},function(F,N){return(N-F)/T.Ym},function(F){return F.getUTCSeconds()}),y=d,r=d.range,t=(0,p.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*T.Ym)},function(F,N){F.setTime(+F+N*T.yB)},function(F,N){return(N-F)/T.yB},function(F){return F.getMinutes()}),i=t,a=t.range,h=(0,p.Z)(function(F){F.setTime(F-F.getMilliseconds()-F.getSeconds()*T.Ym-F.getMinutes()*T.yB)},function(F,N){F.setTime(+F+N*T.Y2)},function(F,N){return(N-F)/T.Y2},function(F){return F.getHours()}),u=h,s=h.range,m=e(82301),f=e(59879),S=(0,p.Z)(function(F){F.setDate(1),F.setHours(0,0,0,0)},function(F,N){F.setMonth(F.getMonth()+N)},function(F,N){return N.getMonth()-F.getMonth()+(N.getFullYear()-F.getFullYear())*12},function(F){return F.getMonth()}),v=S,l=S.range,g=e(34823),M=(0,p.Z)(function(F){F.setUTCSeconds(0,0)},function(F,N){F.setTime(+F+N*T.yB)},function(F,N){return(N-F)/T.yB},function(F){return F.getUTCMinutes()}),A=M,k=M.range,w=(0,p.Z)(function(F){F.setUTCMinutes(0,0,0)},function(F,N){F.setTime(+F+N*T.Y2)},function(F,N){return(N-F)/T.Y2},function(F){return F.getUTCHours()}),E=w,b=w.range,o=e(48480),P=e(58176),x=(0,p.Z)(function(F){F.setUTCDate(1),F.setUTCHours(0,0,0,0)},function(F,N){F.setUTCMonth(F.getUTCMonth()+N)},function(F,N){return N.getUTCMonth()-F.getUTCMonth()+(N.getUTCFullYear()-F.getUTCFullYear())*12},function(F){return F.getUTCMonth()}),z=x,_=x.range,G=e(79791)},30052:function(V,B,e){e.d(B,{Z:function(){return n}});var p=new Date,L=new Date;function n(C,T,d,y){function r(t){return C(t=arguments.length===0?new Date:new Date(+t)),t}return r.floor=function(t){return C(t=new Date(+t)),t},r.ceil=function(t){return C(t=new Date(t-1)),T(t,1),C(t),t},r.round=function(t){var i=r(t),a=r.ceil(t);return t-i<a-t?i:a},r.offset=function(t,i){return T(t=new Date(+t),i==null?1:Math.floor(i)),t},r.range=function(t,i,a){var h=[],u;if(t=r.ceil(t),a=a==null?1:Math.floor(a),!(t<i)||!(a>0))return h;do h.push(u=new Date(+t)),T(t,a),C(t);while(u<t&&t<i);return h},r.filter=function(t){return n(function(i){if(i>=i)for(;C(i),!t(i);)i.setTime(i-1)},function(i,a){if(i>=i)if(a<0)for(;++a<=0;)for(;T(i,-1),!t(i););else for(;--a>=0;)for(;T(i,1),!t(i););})},d&&(r.count=function(t,i){return p.setTime(+t),L.setTime(+i),C(p),C(L),Math.floor(d(p,L))},r.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?r.filter(y?function(i){return y(i)%t===0}:function(i){return r.count(0,i)%t===0}):r}),r}},48480:function(V,B,e){e.d(B,{y:function(){return C}});var p=e(30052),L=e(54263),n=(0,p.Z)(function(T){T.setUTCHours(0,0,0,0)},function(T,d){T.setUTCDate(T.getUTCDate()+d)},function(T,d){return(d-T)/L.UD},function(T){return T.getUTCDate()-1});B.Z=n;var C=n.range},58176:function(V,B,e){e.d(B,{$3:function(){return h},DK:function(){return u},J1:function(){return d},Ox:function(){return C},QQ:function(){return t},Q_:function(){return S},SU:function(){return a},b3:function(){return y},fz:function(){return f},g4:function(){return i},hB:function(){return r},l6:function(){return T},uy:function(){return s},xj:function(){return m}});var p=e(30052),L=e(54263);function n(v){return(0,p.Z)(function(l){l.setUTCDate(l.getUTCDate()-(l.getUTCDay()+7-v)%7),l.setUTCHours(0,0,0,0)},function(l,g){l.setUTCDate(l.getUTCDate()+g*7)},function(l,g){return(g-l)/L.iM})}var C=n(0),T=n(1),d=n(2),y=n(3),r=n(4),t=n(5),i=n(6),a=C.range,h=T.range,u=d.range,s=y.range,m=r.range,f=t.range,S=i.range},79791:function(V,B,e){e.d(B,{D:function(){return n}});var p=e(30052),L=(0,p.Z)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,T){C.setUTCFullYear(C.getUTCFullYear()+T)},function(C,T){return T.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/C)*C),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,d){T.setUTCFullYear(T.getUTCFullYear()+d*C)})},B.Z=L;var n=L.range},59879:function(V,B,e){e.d(B,{$t:function(){return m},EY:function(){return i},Ff:function(){return S},Ld:function(){return s},OM:function(){return C},aU:function(){return u},b$:function(){return f},bJ:function(){return h},bL:function(){return r},mC:function(){return t},sy:function(){return d},vm:function(){return a},wA:function(){return T},zg:function(){return y}});var p=e(30052),L=e(54263);function n(v){return(0,p.Z)(function(l){l.setDate(l.getDate()-(l.getDay()+7-v)%7),l.setHours(0,0,0,0)},function(l,g){l.setDate(l.getDate()+g*7)},function(l,g){return(g-l-(g.getTimezoneOffset()-l.getTimezoneOffset())*L.yB)/L.iM})}var C=n(0),T=n(1),d=n(2),y=n(3),r=n(4),t=n(5),i=n(6),a=C.range,h=T.range,u=d.range,s=y.range,m=r.range,f=t.range,S=i.range},34823:function(V,B,e){e.d(B,{g:function(){return n}});var p=e(30052),L=(0,p.Z)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,T){C.setFullYear(C.getFullYear()+T)},function(C,T){return T.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(T){T.setFullYear(Math.floor(T.getFullYear()/C)*C),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,d){T.setFullYear(T.getFullYear()+d*C)})},B.Z=L;var n=L.range},17045:function(V,B,e){var p=e(8709),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,C=Array.prototype.concat,T=Object.defineProperty,d=function(a){return typeof a=="function"&&n.call(a)==="[object Function]"},y=e(55622)(),r=T&&y,t=function(a,h,u,s){if(h in a){if(s===!0){if(a[h]===u)return}else if(!d(s)||!s())return}r?T(a,h,{configurable:!0,enumerable:!1,value:u,writable:!0}):a[h]=u},i=function(a,h){var u=arguments.length>2?arguments[2]:{},s=p(h);L&&(s=C.call(s,Object.getOwnPropertySymbols(h)));for(var m=0;m<s.length;m+=1)t(a,s[m],h[s[m]],u[s[m]])};i.supportsDescriptors=!!r,V.exports=i},46775:function(V){V.exports=function(){for(var B=0;B<arguments.length;B++)if(arguments[B]!==void 0)return arguments[B]}},53545:function(V){V.exports=L;var B=L.canvas=document.createElement("canvas"),e=B.getContext("2d"),p=n([32,126]);L.createPairs=n,L.ascii=p;function L(C,T){Array.isArray(C)&&(C=C.join(", "));var d={},y,r=16,t=.05;T&&(T.length===2&&typeof T[0]=="number"?y=n(T):Array.isArray(T)?y=T:(T.o?y=n(T.o):T.pairs&&(y=T.pairs),T.fontSize&&(r=T.fontSize),T.threshold!=null&&(t=T.threshold))),y||(y=p),e.font=r+"px "+C;for(var i=0;i<y.length;i++){var a=y[i],h=e.measureText(a[0]).width+e.measureText(a[1]).width,u=e.measureText(a).width;if(Math.abs(h-u)>r*t){var s=(u-h)/r;d[a]=s*1e3}}return d}function n(C){for(var T=[],d=C[0];d<=C[1];d++)for(var y=String.fromCharCode(d),r=C[0];r<C[1];r++){var t=String.fromCharCode(r),i=y+t;T.push(i)}return T}},31457:function(V,B,e){var p=e(65185),L=e(18625),n={M:"moveTo",C:"bezierCurveTo"};V.exports=function(C,T){C.beginPath(),L(p(T)).forEach(function(d){var y=d[0],r=d.slice(1);C[n[y]].apply(C,r)}),C.closePath()}},90660:function(V){V.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(V){function B(L,n,C){var T=L[C]|0;if(T<=0)return[];var d=new Array(T),y;if(C===L.length-1)for(y=0;y<T;++y)d[y]=n;else for(y=0;y<T;++y)d[y]=B(L,n,C+1);return d}function e(L,n){var C,T;for(C=new Array(L),T=0;T<L;++T)C[T]=n;return C}function p(L,n){switch(typeof n>"u"&&(n=0),typeof L){case"number":if(L>0)return e(L|0,n);break;case"object":if(typeof L.length=="number")return B(L,n,0);break}return[]}V.exports=p},11474:function(V){V.exports=B,V.exports.default=B;function B(_,G,F){F=F||2;var N=G&&G.length,U=N?G[0]*F:_.length,O=e(_,0,U,F,!0),H=[];if(!O||O.next===O.prev)return H;var Y,q,ne,oe,he,J,Z;if(N&&(O=y(_,G,O,F)),_.length>80*F){Y=ne=_[0],q=oe=_[1];for(var se=F;se<U;se+=F)he=_[se],J=_[se+1],he<Y&&(Y=he),J<q&&(q=J),he>ne&&(ne=he),J>oe&&(oe=J);Z=Math.max(ne-Y,oe-q),Z=Z!==0?1/Z:0}return L(O,H,F,Y,q,Z),H}function e(_,G,F,N,U){var O,H;if(U===z(_,G,F,N)>0)for(O=G;O<F;O+=N)H=o(O,_[O],_[O+1],H);else for(O=F-N;O>=G;O-=N)H=o(O,_[O],_[O+1],H);return H&&l(H,H.next)&&(P(H),H=H.next),H}function p(_,G){if(!_)return _;G||(G=_);var F=_,N;do if(N=!1,!F.steiner&&(l(F,F.next)||v(F.prev,F,F.next)===0)){if(P(F),F=G=F.prev,F===F.next)break;N=!0}else F=F.next;while(N||F!==G);return G}function L(_,G,F,N,U,O,H){if(_){!H&&O&&h(_,N,U,O);for(var Y=_,q,ne;_.prev!==_.next;){if(q=_.prev,ne=_.next,O?C(_,N,U,O):n(_)){G.push(q.i/F),G.push(_.i/F),G.push(ne.i/F),P(_),_=ne.next,Y=ne.next;continue}if(_=ne,_===Y){H?H===1?(_=T(p(_),G,F),L(_,G,F,N,U,O,2)):H===2&&d(_,G,F,N,U,O):L(p(_),G,F,N,U,O,1);break}}}}function n(_){var G=_.prev,F=_,N=_.next;if(v(G,F,N)>=0)return!1;for(var U=_.next.next;U!==_.prev;){if(f(G.x,G.y,F.x,F.y,N.x,N.y,U.x,U.y)&&v(U.prev,U,U.next)>=0)return!1;U=U.next}return!0}function C(_,G,F,N){var U=_.prev,O=_,H=_.next;if(v(U,O,H)>=0)return!1;for(var Y=U.x<O.x?U.x<H.x?U.x:H.x:O.x<H.x?O.x:H.x,q=U.y<O.y?U.y<H.y?U.y:H.y:O.y<H.y?O.y:H.y,ne=U.x>O.x?U.x>H.x?U.x:H.x:O.x>H.x?O.x:H.x,oe=U.y>O.y?U.y>H.y?U.y:H.y:O.y>H.y?O.y:H.y,he=s(Y,q,G,F,N),J=s(ne,oe,G,F,N),Z=_.prevZ,se=_.nextZ;Z&&Z.z>=he&&se&&se.z<=J;){if(Z!==_.prev&&Z!==_.next&&f(U.x,U.y,O.x,O.y,H.x,H.y,Z.x,Z.y)&&v(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,se!==_.prev&&se!==_.next&&f(U.x,U.y,O.x,O.y,H.x,H.y,se.x,se.y)&&v(se.prev,se,se.next)>=0))return!1;se=se.nextZ}for(;Z&&Z.z>=he;){if(Z!==_.prev&&Z!==_.next&&f(U.x,U.y,O.x,O.y,H.x,H.y,Z.x,Z.y)&&v(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;se&&se.z<=J;){if(se!==_.prev&&se!==_.next&&f(U.x,U.y,O.x,O.y,H.x,H.y,se.x,se.y)&&v(se.prev,se,se.next)>=0)return!1;se=se.nextZ}return!0}function T(_,G,F){var N=_;do{var U=N.prev,O=N.next.next;!l(U,O)&&g(U,N,N.next,O)&&w(U,O)&&w(O,U)&&(G.push(U.i/F),G.push(N.i/F),G.push(O.i/F),P(N),P(N.next),N=_=O),N=N.next}while(N!==_);return p(N)}function d(_,G,F,N,U,O){var H=_;do{for(var Y=H.next.next;Y!==H.prev;){if(H.i!==Y.i&&S(H,Y)){var q=b(H,Y);H=p(H,H.next),q=p(q,q.next),L(H,G,F,N,U,O),L(q,G,F,N,U,O);return}Y=Y.next}H=H.next}while(H!==_)}function y(_,G,F,N){var U=[],O,H,Y,q,ne;for(O=0,H=G.length;O<H;O++)Y=G[O]*N,q=O<H-1?G[O+1]*N:_.length,ne=e(_,Y,q,N,!1),ne===ne.next&&(ne.steiner=!0),U.push(m(ne));for(U.sort(r),O=0;O<U.length;O++)t(U[O],F),F=p(F,F.next);return F}function r(_,G){return _.x-G.x}function t(_,G){if(G=i(_,G),G){var F=b(G,_);p(G,G.next),p(F,F.next)}}function i(_,G){var F=G,N=_.x,U=_.y,O=-1/0,H;do{if(U<=F.y&&U>=F.next.y&&F.next.y!==F.y){var Y=F.x+(U-F.y)*(F.next.x-F.x)/(F.next.y-F.y);if(Y<=N&&Y>O){if(O=Y,Y===N){if(U===F.y)return F;if(U===F.next.y)return F.next}H=F.x<F.next.x?F:F.next}}F=F.next}while(F!==G);if(!H)return null;if(N===O)return H;var q=H,ne=H.x,oe=H.y,he=1/0,J;F=H;do N>=F.x&&F.x>=ne&&N!==F.x&&f(U<oe?N:O,U,ne,oe,U<oe?O:N,U,F.x,F.y)&&(J=Math.abs(U-F.y)/(N-F.x),w(F,_)&&(J<he||J===he&&(F.x>H.x||F.x===H.x&&a(H,F)))&&(H=F,he=J)),F=F.next;while(F!==q);return H}function a(_,G){return v(_.prev,_,G.prev)<0&&v(G.next,_,_.next)<0}function h(_,G,F,N){var U=_;do U.z===null&&(U.z=s(U.x,U.y,G,F,N)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==_);U.prevZ.nextZ=null,U.prevZ=null,u(U)}function u(_){var G,F,N,U,O,H,Y,q,ne=1;do{for(F=_,_=null,O=null,H=0;F;){for(H++,N=F,Y=0,G=0;G<ne&&(Y++,N=N.nextZ,!!N);G++);for(q=ne;Y>0||q>0&&N;)Y!==0&&(q===0||!N||F.z<=N.z)?(U=F,F=F.nextZ,Y--):(U=N,N=N.nextZ,q--),O?O.nextZ=U:_=U,U.prevZ=O,O=U;F=N}O.nextZ=null,ne*=2}while(H>1);return _}function s(_,G,F,N,U){return _=32767*(_-F)*U,G=32767*(G-N)*U,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,G=(G|G<<8)&16711935,G=(G|G<<4)&252645135,G=(G|G<<2)&858993459,G=(G|G<<1)&1431655765,_|G<<1}function m(_){var G=_,F=_;do(G.x<F.x||G.x===F.x&&G.y<F.y)&&(F=G),G=G.next;while(G!==_);return F}function f(_,G,F,N,U,O,H,Y){return(U-H)*(G-Y)-(_-H)*(O-Y)>=0&&(_-H)*(N-Y)-(F-H)*(G-Y)>=0&&(F-H)*(O-Y)-(U-H)*(N-Y)>=0}function S(_,G){return _.next.i!==G.i&&_.prev.i!==G.i&&!k(_,G)&&(w(_,G)&&w(G,_)&&E(_,G)&&(v(_.prev,_,G.prev)||v(_,G.prev,G))||l(_,G)&&v(_.prev,_,_.next)>0&&v(G.prev,G,G.next)>0)}function v(_,G,F){return(G.y-_.y)*(F.x-G.x)-(G.x-_.x)*(F.y-G.y)}function l(_,G){return _.x===G.x&&_.y===G.y}function g(_,G,F,N){var U=A(v(_,G,F)),O=A(v(_,G,N)),H=A(v(F,N,_)),Y=A(v(F,N,G));return!!(U!==O&&H!==Y||U===0&&M(_,F,G)||O===0&&M(_,N,G)||H===0&&M(F,_,N)||Y===0&&M(F,G,N))}function M(_,G,F){return G.x<=Math.max(_.x,F.x)&&G.x>=Math.min(_.x,F.x)&&G.y<=Math.max(_.y,F.y)&&G.y>=Math.min(_.y,F.y)}function A(_){return _>0?1:_<0?-1:0}function k(_,G){var F=_;do{if(F.i!==_.i&&F.next.i!==_.i&&F.i!==G.i&&F.next.i!==G.i&&g(F,F.next,_,G))return!0;F=F.next}while(F!==_);return!1}function w(_,G){return v(_.prev,_,_.next)<0?v(_,G,_.next)>=0&&v(_,_.prev,G)>=0:v(_,G,_.prev)<0||v(_,_.next,G)<0}function E(_,G){var F=_,N=!1,U=(_.x+G.x)/2,O=(_.y+G.y)/2;do F.y>O!=F.next.y>O&&F.next.y!==F.y&&U<(F.next.x-F.x)*(O-F.y)/(F.next.y-F.y)+F.x&&(N=!N),F=F.next;while(F!==_);return N}function b(_,G){var F=new x(_.i,_.x,_.y),N=new x(G.i,G.x,G.y),U=_.next,O=G.prev;return _.next=G,G.prev=_,F.next=U,U.prev=F,N.next=F,F.prev=N,O.next=N,N.prev=O,N}function o(_,G,F,N){var U=new x(_,G,F);return N?(U.next=N.next,U.prev=N,N.next.prev=U,N.next=U):(U.prev=U,U.next=U),U}function P(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function x(_,G,F){this.i=_,this.x=G,this.y=F,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}B.deviation=function(_,G,F,N){var U=G&&G.length,O=U?G[0]*F:_.length,H=Math.abs(z(_,0,O,F));if(U)for(var Y=0,q=G.length;Y<q;Y++){var ne=G[Y]*F,oe=Y<q-1?G[Y+1]*F:_.length;H-=Math.abs(z(_,ne,oe,F))}var he=0;for(Y=0;Y<N.length;Y+=3){var J=N[Y]*F,Z=N[Y+1]*F,se=N[Y+2]*F;he+=Math.abs((_[J]-_[se])*(_[Z+1]-_[J+1])-(_[J]-_[Z])*(_[se+1]-_[J+1]))}return H===0&&he===0?0:Math.abs((he-H)/H)};function z(_,G,F,N){for(var U=0,O=G,H=F-N;O<F;O+=N)U+=(_[H]-_[O])*(_[O+1]+_[H+1]),H=O;return U}B.flatten=function(_){for(var G=_[0][0].length,F={vertices:[],holes:[],dimensions:G},N=0,U=0;U<_.length;U++){for(var O=0;O<_[U].length;O++)for(var H=0;H<G;H++)F.vertices.push(_[U][O][H]);U>0&&(N+=_[U-1].length,F.holes.push(N))}return F}},2502:function(V,B,e){var p=e(68664);V.exports=function(n,C){var T=[],d=[],y=[],r={},t=[],i;function a(M){y[M]=!1,r.hasOwnProperty(M)&&Object.keys(r[M]).forEach(function(A){delete r[M][A],y[A]&&a(A)})}function h(M){var A=!1;d.push(M),y[M]=!0;var k,w;for(k=0;k<t[M].length;k++)w=t[M][k],w===i?(u(i,d),A=!0):y[w]||(A=h(w));if(A)a(M);else for(k=0;k<t[M].length;k++){w=t[M][k];var E=r[w];E||(E={},r[w]=E),E[w]=!0}return d.pop(),A}function u(M,A){var k=[].concat(A).concat(M);C?C(h):T.push(k)}function s(M){for(var A=0;A<n.length;A++)A<M&&(n[A]=[]),n[A]=n[A].filter(function(k){return k>=M})}function m(M){s(M);for(var A=n,k=p(A),w=k.components.filter(function(_){return _.length>1}),E=1/0,b,o=0;o<w.length;o++)for(var P=0;P<w[o].length;P++)w[o][P]<E&&(E=w[o][P],b=o);var x=w[b];if(!x)return!1;var z=n.map(function(_,G){return x.indexOf(G)===-1?[]:_.filter(function(F){return x.indexOf(F)!==-1})});return{leastVertex:E,adjList:z}}i=0;for(var f=n.length;i<f;){var S=m(i);if(i=S.leastVertex,t=S.adjList,t){for(var v=0;v<t.length;v++)for(var l=0;l<t[v].length;l++){var g=t[v][l];y[+g]=!1,r[g]={}}h(i),i=i+1}else i=f}if(!C)return T}},16134:function(V,B,e){var p=e(36672);V.exports=function(){return p(this).length=0,this}},4892:function(V,B,e){V.exports=e(64404)()?Array.from:e(49441)},64404:function(V){V.exports=function(){var B=Array.from,e,p;return typeof B!="function"?!1:(e=["raz","dwa"],p=B(e),!!(p&&p!==e&&p[1]==="dwa"))}},49441:function(V,B,e){var p=e(8260).iterator,L=e(73051),n=e(33717),C=e(35976),T=e(78513),d=e(36672),y=e(95296),r=e(87963),t=Array.isArray,i=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;V.exports=function(u){var s=arguments[1],m=arguments[2],f,S,v,l,g,M,A,k,w,E;if(u=Object(d(u)),y(s)&&T(s),!this||this===Array||!n(this)){if(!s){if(L(u))return g=u.length,g!==1?Array.apply(null,u):(l=new Array(1),l[0]=u[0],l);if(t(u)){for(l=new Array(g=u.length),S=0;S<g;++S)l[S]=u[S];return l}}l=[]}else f=this;if(!t(u)){if((w=u[p])!==void 0){for(A=T(w).call(u),f&&(l=new f),k=A.next(),S=0;!k.done;)E=s?i.call(s,m,k.value,S):k.value,f?(a.value=E,h(l,S,a)):l[S]=E,k=A.next(),++S;g=S}else if(r(u)){for(g=u.length,f&&(l=new f),S=0,v=0;S<g;++S)E=u[S],S+1<g&&(M=E.charCodeAt(0),M>=55296&&M<=56319&&(E+=u[++S])),E=s?i.call(s,m,E,v):E,f?(a.value=E,h(l,v,a)):l[v]=E,++v;g=v}}if(g===void 0)for(g=C(u.length),f&&(l=new f(g)),S=0;S<g;++S)E=s?i.call(s,m,u[S],S):u[S],f?(a.value=E,h(l,S,a)):l[S]=E;return f&&(a.value=null,l.length=g),l}},73051:function(V){var B=Object.prototype.toString,e=B.call(function(){return arguments}());V.exports=function(p){return B.call(p)===e}},33717:function(V){var B=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);V.exports=function(p){return typeof p=="function"&&e(B.call(p))}},52345:function(V){V.exports=function(){}},9953:function(V,B,e){V.exports=e(90436)()?Math.sign:e(6069)},90436:function(V){V.exports=function(){var B=Math.sign;return typeof B!="function"?!1:B(10)===1&&B(-20)===-1}},6069:function(V){V.exports=function(B){return B=Number(B),isNaN(B)||B===0?B:B>0?1:-1}},56247:function(V,B,e){var p=e(9953),L=Math.abs,n=Math.floor;V.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:p(C)*n(L(C)))}},35976:function(V,B,e){var p=e(56247),L=Math.max;V.exports=function(n){return L(0,p(n))}},67260:function(V,B,e){var p=e(78513),L=e(36672),n=Function.prototype.bind,C=Function.prototype.call,T=Object.keys,d=Object.prototype.propertyIsEnumerable;V.exports=function(y,r){return function(t,i){var a,h=arguments[2],u=arguments[3];return t=Object(L(t)),p(i),a=T(t),u&&a.sort(typeof u=="function"?n.call(u,t):void 0),typeof y!="function"&&(y=a[y]),C.call(y,a,function(s,m){return d.call(t,s)?C.call(i,h,t[s],s,t,m):r})}}},95879:function(V,B,e){V.exports=e(73583)()?Object.assign:e(34205)},73583:function(V){V.exports=function(){var B=Object.assign,e;return typeof B!="function"?!1:(e={foo:"raz"},B(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(V,B,e){var p=e(68700),L=e(36672),n=Math.max;V.exports=function(C,T){var d,y,r=n(arguments.length,2),t;for(C=Object(L(C)),t=function(i){try{C[i]=T[i]}catch(a){d||(d=a)}},y=1;y<r;++y)T=arguments[y],p(T).forEach(t);if(d!==void 0)throw d;return C}},19012:function(V,B,e){var p=e(4892),L=e(95879),n=e(36672);V.exports=function(C){var T=Object(n(C)),d=arguments[1],y=Object(arguments[2]);if(T!==C&&!d)return T;var r={};return d?p(d,function(t){(y.ensure||t in C)&&(r[t]=C[t])}):L(r,C),r}},52818:function(V,B,e){var p=Object.create,L;e(33247)()||(L=e(51882)),V.exports=function(){var n,C,T;return!L||L.level!==1?p:(n={},C={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(d){if(d==="__proto__"){C[d]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[d]=T}),Object.defineProperties(n,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(d,y){return p(d===null?n:d,y)})}()},96437:function(V,B,e){V.exports=e(67260)("forEach")},99611:function(V,B,e){var p=e(95296),L={function:!0,object:!0};V.exports=function(n){return p(n)&&L[typeof n]||!1}},95296:function(V,B,e){var p=e(52345)();V.exports=function(L){return L!==p&&L!==null}},68700:function(V,B,e){V.exports=e(13895)()?Object.keys:e(25217)},13895:function(V){V.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(V,B,e){var p=e(95296),L=Object.keys;V.exports=function(n){return L(p(n)?Object(n):n)}},16906:function(V,B,e){var p=e(78513),L=e(96437),n=Function.prototype.call;V.exports=function(C,T){var d={},y=arguments[2];return p(T),L(C,function(r,t,i,a){d[t]=n.call(T,y,r,t,i,a)}),d}},21780:function(V,B,e){var p=e(95296),L=Array.prototype.forEach,n=Object.create,C=function(T,d){var y;for(y in T)d[y]=T[y]};V.exports=function(T){var d=n(null);return L.call(arguments,function(y){p(y)&&C(Object(y),d)}),d}},1496:function(V,B,e){V.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(V){var B=Object.create,e=Object.getPrototypeOf,p={};V.exports=function(){var L=Object.setPrototypeOf,n=arguments[0]||B;return typeof L!="function"?!1:e(L(n(null),p))===p}},51882:function(V,B,e){var p=e(99611),L=e(36672),n=Object.prototype.isPrototypeOf,C=Object.defineProperty,T={configurable:!0,enumerable:!1,writable:!0,value:void 0},d;d=function(y,r){if(L(y),r===null||p(r))return y;throw new TypeError("Prototype must be null or an object")},V.exports=function(y){var r,t;return y?(y.level===2?y.set?(t=y.set,r=function(i,a){return t.call(d(i,a),a),i}):r=function(i,a){return d(i,a).__proto__=a,i}:r=function i(a,h){var u;return d(a,h),u=n.call(i.nullPolyfill,a),u&&delete i.nullPolyfill.__proto__,h===null&&(h=i.nullPolyfill),a.__proto__=h,u&&C(i.nullPolyfill,"__proto__",T),a},Object.defineProperty(r,"level",{configurable:!1,enumerable:!1,writable:!1,value:y.level})):null}(function(){var y=Object.create(null),r={},t,i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(i){try{t=i.set,t.call(y,r)}catch{}if(Object.getPrototypeOf(y)===r)return{set:t,level:2}}return y.__proto__=r,Object.getPrototypeOf(y)===r?{level:2}:(y={},y.__proto__=r,Object.getPrototypeOf(y)===r?{level:1}:!1)}()),e(52818)},78513:function(V){V.exports=function(B){if(typeof B!="function")throw new TypeError(B+" is not a function");return B}},98976:function(V,B,e){var p=e(99611);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},36672:function(V,B,e){var p=e(95296);V.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},66741:function(V,B,e){V.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(V){var B="razdwatrzy";V.exports=function(){return typeof B.contains!="function"?!1:B.contains("dwa")===!0&&B.contains("foo")===!1}},60381:function(V){var B=String.prototype.indexOf;V.exports=function(e){return B.call(this,e,arguments[1])>-1}},87963:function(V){var B=Object.prototype.toString,e=B.call("");V.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||B.call(p)===e)||!1}},43043:function(V){var B=Object.create(null),e=Math.random;V.exports=function(){var p;do p=e().toString(36).slice(2);while(B[p]);return p}},32411:function(V,B,e){var p=e(1496),L=e(66741),n=e(62072),C=e(8260),T=e(95426),d=Object.defineProperty,y;y=V.exports=function(r,t){if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");T.call(this,r),t?L.call(t,"key+value")?t="key+value":L.call(t,"key")?t="key":t="value":t="value",d(this,"__kind__",n("",t))},p&&p(y,T),delete y.prototype.constructor,y.prototype=Object.create(T.prototype,{_resolve:n(function(r){return this.__kind__==="value"?this.__list__[r]:this.__kind__==="key+value"?[r,this.__list__[r]]:r})}),d(y.prototype,C.toStringTag,n("c","Array Iterator"))},27515:function(V,B,e){var p=e(73051),L=e(78513),n=e(87963),C=e(66661),T=Array.isArray,d=Function.prototype.call,y=Array.prototype.some;V.exports=function(r,t){var i,a=arguments[2],h,u,s,m,f,S,v;if(T(r)||p(r)?i="array":n(r)?i="string":r=C(r),L(t),u=function(){s=!0},i==="array"){y.call(r,function(l){return d.call(t,a,l,u),s});return}if(i==="string"){for(f=r.length,m=0;m<f&&(S=r[m],m+1<f&&(v=S.charCodeAt(0),v>=55296&&v<=56319&&(S+=r[++m])),d.call(t,a,S,u),!s);++m);return}for(h=r.next();!h.done;){if(d.call(t,a,h.value,u),s)return;h=r.next()}}},66661:function(V,B,e){var p=e(73051),L=e(87963),n=e(32411),C=e(259),T=e(58095),d=e(8260).iterator;V.exports=function(y){return typeof T(y)[d]=="function"?y[d]():p(y)?new n(y):L(y)?new C(y):new n(y)}},95426:function(V,B,e){var p=e(16134),L=e(95879),n=e(78513),C=e(36672),T=e(62072),d=e(55174),y=e(8260),r=Object.defineProperty,t=Object.defineProperties,i;V.exports=i=function(a,h){if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");t(this,{__list__:T("w",C(a)),__context__:T("w",h),__nextIndex__:T("w",0)}),h&&(n(h.on),h.on("_add",this._onAdd),h.on("_delete",this._onDelete),h.on("_clear",this._onClear))},delete i.prototype.constructor,t(i.prototype,L({_next:T(function(){var a;if(this.__list__){if(this.__redo__&&(a=this.__redo__.shift(),a!==void 0))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:T(function(){return this._createResult(this._next())}),_createResult:T(function(a){return a===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:T(function(a){return this.__list__[a]}),_unBind:T(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:T(function(){return"[object "+(this[y.toStringTag]||"Object")+"]"})},d({_onAdd:T(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){r(this,"__redo__",T("c",[a]));return}this.__redo__.forEach(function(h,u){h>=a&&(this.__redo__[u]=++h)},this),this.__redo__.push(a)}}),_onDelete:T(function(a){var h;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(h=this.__redo__.indexOf(a),h!==-1&&this.__redo__.splice(h,1),this.__redo__.forEach(function(u,s){u>a&&(this.__redo__[s]=--u)},this)))}),_onClear:T(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),r(i.prototype,y.iterator,T(function(){return this}))},35940:function(V,B,e){var p=e(73051),L=e(95296),n=e(87963),C=e(8260).iterator,T=Array.isArray;V.exports=function(d){return L(d)?T(d)||n(d)||p(d)?!0:typeof d[C]=="function":!1}},259:function(V,B,e){var p=e(1496),L=e(62072),n=e(8260),C=e(95426),T=Object.defineProperty,d;d=V.exports=function(y){if(!(this instanceof d))throw new TypeError("Constructor requires 'new'");y=String(y),C.call(this,y),T(this,"__length__",L("",y.length))},p&&p(d,C),delete d.prototype.constructor,d.prototype=Object.create(C.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(y){var r=this.__list__[y],t;return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0),t>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r)})}),T(d.prototype,n.toStringTag,L("c","String Iterator"))},58095:function(V,B,e){var p=e(35940);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},73523:function(V){function B(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(p),C=1;C<arguments.length;C++){var T=arguments[C];if(T!=null)for(var d=Object.keys(Object(T)),y=0,r=d.length;y<r;y++){var t=d[y],i=Object.getOwnPropertyDescriptor(T,t);i!==void 0&&i.enumerable&&(n[t]=T[t])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}V.exports={assign:B,polyfill:e}},8260:function(V,B,e){V.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(V,B,e){var p=e(94908),L={object:!0,symbol:!0};V.exports=function(){var n=p.Symbol,C;if(typeof n!="function")return!1;C=n("test symbol");try{String(C)}catch{return!1}return!(!L[typeof n.iterator]||!L[typeof n.toPrimitive]||!L[typeof n.toStringTag])}},82276:function(V){V.exports=function(B){return B?typeof B=="symbol"?!0:!B.constructor||B.constructor.name!=="Symbol"?!1:B[B.constructor.toStringTag]==="Symbol":!1}},29366:function(V,B,e){var p=e(62072),L=Object.create,n=Object.defineProperty,C=Object.prototype,T=L(null);V.exports=function(d){for(var y=0,r,t;T[d+(y||"")];)++y;return d+=y||"",T[d]=!0,r="@@"+d,n(C,r,p.gs(null,function(i){t||(t=!0,n(this,r,p(i)),t=!1)})),r}},92842:function(V,B,e){var p=e(62072),L=e(94908).Symbol;V.exports=function(n){return Object.defineProperties(n,{hasInstance:p("",L&&L.hasInstance||n("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||n("isConcatSpreadable")),iterator:p("",L&&L.iterator||n("iterator")),match:p("",L&&L.match||n("match")),replace:p("",L&&L.replace||n("replace")),search:p("",L&&L.search||n("search")),species:p("",L&&L.species||n("species")),split:p("",L&&L.split||n("split")),toPrimitive:p("",L&&L.toPrimitive||n("toPrimitive")),toStringTag:p("",L&&L.toStringTag||n("toStringTag")),unscopables:p("",L&&L.unscopables||n("unscopables"))})}},13304:function(V,B,e){var p=e(62072),L=e(53308),n=Object.create(null);V.exports=function(C){return Object.defineProperties(C,{for:p(function(T){return n[T]?n[T]:n[T]=C(String(T))}),keyFor:p(function(T){var d;L(T);for(d in n)if(n[d]===T)return d})})}},18415:function(V,B,e){var p=e(62072),L=e(53308),n=e(94908).Symbol,C=e(29366),T=e(92842),d=e(13304),y=Object.create,r=Object.defineProperties,t=Object.defineProperty,i,a,h;if(typeof n=="function")try{String(n()),h=!0}catch{}else n=null;a=function(s){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return i(s)},V.exports=i=function u(s){var m;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return h?n(s):(m=y(a.prototype),s=s===void 0?"":String(s),r(m,{__description__:p("",s),__name__:p("",C(s))}))},T(i),d(i),r(a.prototype,{constructor:p(i),toString:p("",function(){return this.__name__})}),r(i.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),t(i.prototype,i.toPrimitive,p("",function(){var u=L(this);return typeof u=="symbol"?u:u.toString()})),t(i.prototype,i.toStringTag,p("c","Symbol")),t(a.prototype,i.toStringTag,p("c",i.prototype[i.toStringTag])),t(a.prototype,i.toPrimitive,p("c",i.prototype[i.toPrimitive]))},53308:function(V,B,e){var p=e(82276);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},83522:function(V,B,e){V.exports=e(96402)()?WeakMap:e(329)},96402:function(V){V.exports=function(){var B,e;if(typeof WeakMap!="function")return!1;try{B=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(B)!=="[object WeakMap]"||typeof B.set!="function"||B.set({},1)!==B||typeof B.delete!="function"||typeof B.has!="function"||B.get(e)!=="one")}},96416:function(V){V.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(V,B,e){var p=e(95296),L=e(1496),n=e(98976),C=e(36672),T=e(43043),d=e(62072),y=e(66661),r=e(27515),t=e(8260).toStringTag,i=e(96416),a=Array.isArray,h=Object.defineProperty,u=Object.prototype.hasOwnProperty,s=Object.getPrototypeOf,m;V.exports=m=function(){var f=arguments[0],S;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return S=i&&L&&WeakMap!==m?L(new WeakMap,s(this)):this,p(f)&&(a(f)||(f=y(f))),h(S,"__weakMapData__",d("c","$weakMap$"+T())),f&&r(f,function(v){C(v),S.set(v[0],v[1])}),S},i&&(L&&L(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:d(m)})),Object.defineProperties(m.prototype,{delete:d(function(f){return u.call(n(f),this.__weakMapData__)?(delete f[this.__weakMapData__],!0):!1}),get:d(function(f){if(u.call(n(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:d(function(f){return u.call(n(f),this.__weakMapData__)}),set:d(function(f,S){return h(n(f),this.__weakMapData__,d("c",S)),this}),toString:d(function(){return"[object WeakMap]"})}),h(m.prototype,t,d("c","WeakMap"))},15398:function(V){var B=typeof Reflect=="object"?Reflect:null,e=B&&typeof B.apply=="function"?B.apply:function(g,M,A){return Function.prototype.apply.call(g,M,A)},p;B&&typeof B.ownKeys=="function"?p=B.ownKeys:Object.getOwnPropertySymbols?p=function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:p=function(g){return Object.getOwnPropertyNames(g)};function L(l){console&&console.warn&&console.warn(l)}var n=Number.isNaN||function(g){return g!==g};function C(){C.init.call(this)}V.exports=C,V.exports.once=f,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var T=10;function d(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(l){if(typeof l!="number"||l<0||n(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");T=l}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||n(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this};function y(l){return l._maxListeners===void 0?C.defaultMaxListeners:l._maxListeners}C.prototype.getMaxListeners=function(){return y(this)},C.prototype.emit=function(g){for(var M=[],A=1;A<arguments.length;A++)M.push(arguments[A]);var k=g==="error",w=this._events;if(w!==void 0)k=k&&w.error===void 0;else if(!k)return!1;if(k){var E;if(M.length>0&&(E=M[0]),E instanceof Error)throw E;var b=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw b.context=E,b}var o=w[g];if(o===void 0)return!1;if(typeof o=="function")e(o,this,M);else for(var P=o.length,x=u(o,P),A=0;A<P;++A)e(x[A],this,M);return!0};function r(l,g,M,A){var k,w,E;if(d(M),w=l._events,w===void 0?(w=l._events=Object.create(null),l._eventsCount=0):(w.newListener!==void 0&&(l.emit("newListener",g,M.listener?M.listener:M),w=l._events),E=w[g]),E===void 0)E=w[g]=M,++l._eventsCount;else if(typeof E=="function"?E=w[g]=A?[M,E]:[E,M]:A?E.unshift(M):E.push(M),k=y(l),k>0&&E.length>k&&!E.warned){E.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(g)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=l,b.type=g,b.count=E.length,L(b)}return l}C.prototype.addListener=function(g,M){return r(this,g,M,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(g,M){return r(this,g,M,!0)};function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(l,g,M){var A={fired:!1,wrapFn:void 0,target:l,type:g,listener:M},k=t.bind(A);return k.listener=M,A.wrapFn=k,k}C.prototype.once=function(g,M){return d(M),this.on(g,i(this,g,M)),this},C.prototype.prependOnceListener=function(g,M){return d(M),this.prependListener(g,i(this,g,M)),this},C.prototype.removeListener=function(g,M){var A,k,w,E,b;if(d(M),k=this._events,k===void 0)return this;if(A=k[g],A===void 0)return this;if(A===M||A.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete k[g],k.removeListener&&this.emit("removeListener",g,A.listener||M));else if(typeof A!="function"){for(w=-1,E=A.length-1;E>=0;E--)if(A[E]===M||A[E].listener===M){b=A[E].listener,w=E;break}if(w<0)return this;w===0?A.shift():s(A,w),A.length===1&&(k[g]=A[0]),k.removeListener!==void 0&&this.emit("removeListener",g,b||M)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(g){var M,A,k;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[g]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[g]),this;if(arguments.length===0){var w=Object.keys(A),E;for(k=0;k<w.length;++k)E=w[k],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=A[g],typeof M=="function")this.removeListener(g,M);else if(M!==void 0)for(k=M.length-1;k>=0;k--)this.removeListener(g,M[k]);return this};function a(l,g,M){var A=l._events;if(A===void 0)return[];var k=A[g];return k===void 0?[]:typeof k=="function"?M?[k.listener||k]:[k]:M?m(k):u(k,k.length)}C.prototype.listeners=function(g){return a(this,g,!0)},C.prototype.rawListeners=function(g){return a(this,g,!1)},C.listenerCount=function(l,g){return typeof l.listenerCount=="function"?l.listenerCount(g):h.call(l,g)},C.prototype.listenerCount=h;function h(l){var g=this._events;if(g!==void 0){var M=g[l];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function u(l,g){for(var M=new Array(g),A=0;A<g;++A)M[A]=l[A];return M}function s(l,g){for(;g+1<l.length;g++)l[g]=l[g+1];l.pop()}function m(l){for(var g=new Array(l.length),M=0;M<g.length;++M)g[M]=l[M].listener||l[M];return g}function f(l,g){return new Promise(function(M,A){function k(E){l.removeListener(g,w),A(E)}function w(){typeof l.removeListener=="function"&&l.removeListener("error",k),M([].slice.call(arguments))}v(l,g,w,{once:!0}),g!=="error"&&S(l,k,{once:!0})})}function S(l,g,M){typeof l.on=="function"&&v(l,"error",g,M)}function v(l,g,M,A){if(typeof l.on=="function")A.once?l.once(g,M):l.on(g,M);else if(typeof l.addEventListener=="function")l.addEventListener(g,function k(w){A.once&&l.removeEventListener(g,k),M(w)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof l)}},60774:function(V){var B=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};V.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},94908:function(V,B,e){V.exports=e(51152)()?globalThis:e(60774)},51152:function(V){V.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(V,B,e){var p=e(18546);V.exports=function(L){var n=typeof L;if(n==="string"){var C=L;if(L=+L,L===0&&p(C))return!1}else if(n!=="number")return!1;return L-L<1}},30120:function(V,B,e){var p=e(90660);V.exports=L;function L(n,C,T){if(!n)throw new TypeError("must specify data as first parameter");if(T=+(T||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var d=n[0].length,y=n.length*d,r,t,i,a;(!C||typeof C=="string")&&(C=new(p(C||"float32"))(y+T));var h=C.length-T;if(y!==h)throw new Error("source length "+y+" ("+d+"x"+n.length+") does not match destination length "+h);for(r=0,i=T;r<n.length;r++)for(t=0;t<d;t++)C[i++]=n[r][t]===null?NaN:n[r][t]}else if(!C||typeof C=="string"){var u=p(C||"float32");if(Array.isArray(n)||C==="array")for(C=new u(n.length+T),r=0,i=T,a=C.length;i<a;i++,r++)C[i]=n[r]===null?NaN:n[r];else T===0?C=new u(n):(C=new u(n.length+T),C.set(n,T))}else C.set(n,T);return C}},68016:function(V,B,e){var p=e(53313),L=[32,126];V.exports=n;function n(C){C=C||{};var T=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],d=C.canvas||document.createElement("canvas"),y=C.font,r=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],t=C.chars||L;if(y&&typeof y!="string"&&(y=p(y)),!Array.isArray(t))t=String(t).split("");else if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],a=t[0],h=0;a<=t[1];a++)i[h++]=String.fromCharCode(a);t=i}T=T.slice(),d.width=T[0],d.height=T[1];var u=d.getContext("2d");u.fillStyle="#000",u.fillRect(0,0,d.width,d.height),u.font=y,u.textAlign="center",u.textBaseline="middle",u.fillStyle="#fff";for(var s=r[0]/2,m=r[1]/2,a=0;a<t.length;a++)u.fillText(t[a],s,m),(s+=r[0])>T[0]-r[0]/2&&(s=r[0]/2,m+=r[1]);return d}},32879:function(V){V.exports=B,B.canvas=document.createElement("canvas"),B.cache={};function B(t,C){C||(C={}),(typeof t=="string"||Array.isArray(t))&&(C.family=t);var T=Array.isArray(C.family)?C.family.join(", "):C.family;if(!T)throw Error("`family` must be defined");var d=C.size||C.fontSize||C.em||48,y=C.weight||C.fontWeight||"",r=C.style||C.fontStyle||"",t=[r,y,d].join(" ")+"px "+T,i=C.origin||"top";if(B.cache[T]&&d<=B.cache[T].em)return e(B.cache[T],i);var a=C.canvas||B.canvas,h=a.getContext("2d"),u={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},s=Math.ceil(d*1.5);a.height=s,a.width=s*.5,h.font=t;var m="H",f={top:0};h.clearRect(0,0,s,s),h.textBaseline="top",h.fillStyle="black",h.fillText(m,0,0);var S=p(h.getImageData(0,0,s,s));h.clearRect(0,0,s,s),h.textBaseline="bottom",h.fillText(m,0,s);var v=p(h.getImageData(0,0,s,s));f.lineHeight=f.bottom=s-v+S,h.clearRect(0,0,s,s),h.textBaseline="alphabetic",h.fillText(m,0,s);var l=p(h.getImageData(0,0,s,s)),g=s-l-1+S;f.baseline=f.alphabetic=g,h.clearRect(0,0,s,s),h.textBaseline="middle",h.fillText(m,0,s*.5);var M=p(h.getImageData(0,0,s,s));f.median=f.middle=s-M-1+S-s*.5,h.clearRect(0,0,s,s),h.textBaseline="hanging",h.fillText(m,0,s*.5);var A=p(h.getImageData(0,0,s,s));f.hanging=s-A-1+S-s*.5,h.clearRect(0,0,s,s),h.textBaseline="ideographic",h.fillText(m,0,s);var k=p(h.getImageData(0,0,s,s));if(f.ideographic=s-k-1+S,u.upper&&(h.clearRect(0,0,s,s),h.textBaseline="top",h.fillText(u.upper,0,0),f.upper=p(h.getImageData(0,0,s,s)),f.capHeight=f.baseline-f.upper),u.lower&&(h.clearRect(0,0,s,s),h.textBaseline="top",h.fillText(u.lower,0,0),f.lower=p(h.getImageData(0,0,s,s)),f.xHeight=f.baseline-f.lower),u.tittle&&(h.clearRect(0,0,s,s),h.textBaseline="top",h.fillText(u.tittle,0,0),f.tittle=p(h.getImageData(0,0,s,s))),u.ascent&&(h.clearRect(0,0,s,s),h.textBaseline="top",h.fillText(u.ascent,0,0),f.ascent=p(h.getImageData(0,0,s,s))),u.descent&&(h.clearRect(0,0,s,s),h.textBaseline="top",h.fillText(u.descent,0,0),f.descent=L(h.getImageData(0,0,s,s))),u.overshoot){h.clearRect(0,0,s,s),h.textBaseline="top",h.fillText(u.overshoot,0,0);var w=L(h.getImageData(0,0,s,s));f.overshoot=w-g}for(var E in f)f[E]/=d;return f.em=d,B.cache[T]=f,e(f,i)}function e(n,C){var T={};typeof C=="string"&&(C=n[C]);for(var d in n)d!=="em"&&(T[d]=n[d]-C);return T}function p(n){for(var C=n.height,T=n.data,d=3;d<T.length;d+=4)if(T[d]!==0)return Math.floor((d-3)*.25/C)}function L(n){for(var C=n.height,T=n.data,d=T.length-1;d>0;d-=4)if(T[d]!==0)return Math.floor((d-3)*.25/C)}},31353:function(V,B,e){var p=e(85395),L=Object.prototype.toString,n=Object.prototype.hasOwnProperty,C=function(t,i,a){for(var h=0,u=t.length;h<u;h++)n.call(t,h)&&(a==null?i(t[h],h,t):i.call(a,t[h],h,t))},T=function(t,i,a){for(var h=0,u=t.length;h<u;h++)a==null?i(t.charAt(h),h,t):i.call(a,t.charAt(h),h,t)},d=function(t,i,a){for(var h in t)n.call(t,h)&&(a==null?i(t[h],h,t):i.call(a,t[h],h,t))},y=function(t,i,a){if(!p(i))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=a),L.call(t)==="[object Array]"?C(t,i,h):typeof t=="string"?T(t,i,h):d(t,i,h)};V.exports=y},73047:function(V){var B="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,p=Object.prototype.toString,L="[object Function]";V.exports=function(C){var T=this;if(typeof T!="function"||p.call(T)!==L)throw new TypeError(B+T);for(var d=e.call(arguments,1),y,r=function(){if(this instanceof y){var u=T.apply(this,d.concat(e.call(arguments)));return Object(u)===u?u:this}else return T.apply(C,d.concat(e.call(arguments)))},t=Math.max(0,T.length-d.length),i=[],a=0;a<t;a++)i.push("$"+a);if(y=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(r),T.prototype){var h=function(){};h.prototype=T.prototype,y.prototype=new h,h.prototype=null}return y}},77575:function(V,B,e){var p=e(73047);V.exports=Function.prototype.bind||p},86249:function(V){V.exports=B;function B(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var n=p,C;try{var T=[e];e.indexOf("webgl")===0&&T.push("experimental-"+e);for(var d=0;d<T.length;d++)if(C=L.getContext(T[d],n),C)return C}catch{C=null}return C||null}},68318:function(V,B,e){var p,L=SyntaxError,n=Function,C=TypeError,T=function(P){try{return n('"use strict"; return ('+P+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var y=function(){throw new C},r=d?function(){try{return arguments.callee,y}catch{try{return d(arguments,"callee").get}catch{return y}}}():y,t=e(57877)(),i=Object.getPrototypeOf||function(P){return P.__proto__},a={},h=typeof Uint8Array>"u"?p:i(Uint8Array),u={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":t?i([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":t?i(i([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!t?p:i(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!t?p:i(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":t?i(""[Symbol.iterator]()):p,"%Symbol%":t?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":r,"%TypedArray%":h,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};try{null.error}catch(P){var s=i(i(P));u["%Error.prototype%"]=s}var m=function P(x){var z;if(x==="%AsyncFunction%")z=T("async function () {}");else if(x==="%GeneratorFunction%")z=T("function* () {}");else if(x==="%AsyncGeneratorFunction%")z=T("async function* () {}");else if(x==="%AsyncGenerator%"){var _=P("%AsyncGeneratorFunction%");_&&(z=_.prototype)}else if(x==="%AsyncIteratorPrototype%"){var G=P("%AsyncGenerator%");G&&(z=i(G.prototype))}return u[x]=z,z},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=e(77575),v=e(35065),l=S.call(Function.call,Array.prototype.concat),g=S.call(Function.apply,Array.prototype.splice),M=S.call(Function.call,String.prototype.replace),A=S.call(Function.call,String.prototype.slice),k=S.call(Function.call,RegExp.prototype.exec),w=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,b=function(x){var z=A(x,0,1),_=A(x,-1);if(z==="%"&&_!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(_==="%"&&z!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var G=[];return M(x,w,function(F,N,U,O){G[G.length]=U?M(O,E,"$1"):N||F}),G},o=function(x,z){var _=x,G;if(v(f,_)&&(G=f[_],_="%"+G[0]+"%"),v(u,_)){var F=u[_];if(F===a&&(F=m(_)),typeof F>"u"&&!z)throw new C("intrinsic "+x+" exists, but is not available. Please file an issue!");return{alias:G,name:_,value:F}}throw new L("intrinsic "+x+" does not exist!")};V.exports=function(x,z){if(typeof x!="string"||x.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new C('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,x)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _=b(x),G=_.length>0?_[0]:"",F=o("%"+G+"%",z),N=F.name,U=F.value,O=!1,H=F.alias;H&&(G=H[0],g(_,l([0,1],H)));for(var Y=1,q=!0;Y<_.length;Y+=1){var ne=_[Y],oe=A(ne,0,1),he=A(ne,-1);if((oe==='"'||oe==="'"||oe==="`"||he==='"'||he==="'"||he==="`")&&oe!==he)throw new L("property names with quotes must have matching quotes");if((ne==="constructor"||!q)&&(O=!0),G+="."+ne,N="%"+G+"%",v(u,N))U=u[N];else if(U!=null){if(!(ne in U)){if(!z)throw new C("base intrinsic for "+x+" exists, but the property is not available.");return}if(d&&Y+1>=_.length){var J=d(U,ne);q=!!J,q&&"get"in J&&!("originalValue"in J.get)?U=J.get:U=U[ne]}else q=v(U,ne),U=U[ne];q&&!O&&(u[N]=U)}}return U}},85400:function(V){V.exports=B;function B(e,p){var L=p[0],n=p[1],C=p[2],T=p[3],d=p[4],y=p[5],r=p[6],t=p[7],i=p[8],a=p[9],h=p[10],u=p[11],s=p[12],m=p[13],f=p[14],S=p[15];return e[0]=y*(h*S-u*f)-a*(r*S-t*f)+m*(r*u-t*h),e[1]=-(n*(h*S-u*f)-a*(C*S-T*f)+m*(C*u-T*h)),e[2]=n*(r*S-t*f)-y*(C*S-T*f)+m*(C*t-T*r),e[3]=-(n*(r*u-t*h)-y*(C*u-T*h)+a*(C*t-T*r)),e[4]=-(d*(h*S-u*f)-i*(r*S-t*f)+s*(r*u-t*h)),e[5]=L*(h*S-u*f)-i*(C*S-T*f)+s*(C*u-T*h),e[6]=-(L*(r*S-t*f)-d*(C*S-T*f)+s*(C*t-T*r)),e[7]=L*(r*u-t*h)-d*(C*u-T*h)+i*(C*t-T*r),e[8]=d*(a*S-u*m)-i*(y*S-t*m)+s*(y*u-t*a),e[9]=-(L*(a*S-u*m)-i*(n*S-T*m)+s*(n*u-T*a)),e[10]=L*(y*S-t*m)-d*(n*S-T*m)+s*(n*t-T*y),e[11]=-(L*(y*u-t*a)-d*(n*u-T*a)+i*(n*t-T*y)),e[12]=-(d*(a*f-h*m)-i*(y*f-r*m)+s*(y*h-r*a)),e[13]=L*(a*f-h*m)-i*(n*f-C*m)+s*(n*h-C*a),e[14]=-(L*(y*f-r*m)-d*(n*f-C*m)+s*(n*r-C*y)),e[15]=L*(y*h-r*a)-d*(n*h-C*a)+i*(n*r-C*y),e}},42331:function(V){V.exports=B;function B(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},31042:function(V){V.exports=B;function B(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},11902:function(V){V.exports=B;function B(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(V){V.exports=B;function B(e){var p=e[0],L=e[1],n=e[2],C=e[3],T=e[4],d=e[5],y=e[6],r=e[7],t=e[8],i=e[9],a=e[10],h=e[11],u=e[12],s=e[13],m=e[14],f=e[15],S=p*d-L*T,v=p*y-n*T,l=p*r-C*T,g=L*y-n*d,M=L*r-C*d,A=n*r-C*y,k=t*s-i*u,w=t*m-a*u,E=t*f-h*u,b=i*m-a*s,o=i*f-h*s,P=a*f-h*m;return S*P-v*o+l*b+g*E-M*w+A*k}},27812:function(V){V.exports=B;function B(e,p){var L=p[0],n=p[1],C=p[2],T=p[3],d=L+L,y=n+n,r=C+C,t=L*d,i=n*d,a=n*y,h=C*d,u=C*y,s=C*r,m=T*d,f=T*y,S=T*r;return e[0]=1-a-s,e[1]=i+S,e[2]=h-f,e[3]=0,e[4]=i-S,e[5]=1-t-s,e[6]=u+m,e[7]=0,e[8]=h+f,e[9]=u-m,e[10]=1-t-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(V){V.exports=B;function B(e,p,L){var n,C,T,d=L[0],y=L[1],r=L[2],t=Math.sqrt(d*d+y*y+r*r);return Math.abs(t)<1e-6?null:(t=1/t,d*=t,y*=t,r*=t,n=Math.sin(p),C=Math.cos(p),T=1-C,e[0]=d*d*T+C,e[1]=y*d*T+r*n,e[2]=r*d*T-y*n,e[3]=0,e[4]=d*y*T-r*n,e[5]=y*y*T+C,e[6]=r*y*T+d*n,e[7]=0,e[8]=d*r*T+y*n,e[9]=y*r*T-d*n,e[10]=r*r*T+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(V){V.exports=B;function B(e,p,L){var n=p[0],C=p[1],T=p[2],d=p[3],y=n+n,r=C+C,t=T+T,i=n*y,a=n*r,h=n*t,u=C*r,s=C*t,m=T*t,f=d*y,S=d*r,v=d*t;return e[0]=1-(u+m),e[1]=a+v,e[2]=h-S,e[3]=0,e[4]=a-v,e[5]=1-(i+m),e[6]=s+f,e[7]=0,e[8]=h+S,e[9]=s-f,e[10]=1-(i+u),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},81472:function(V){V.exports=B;function B(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(V){V.exports=B;function B(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},75262:function(V){V.exports=B;function B(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(V){V.exports=B;function B(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(V){V.exports=B;function B(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(V){V.exports=B;function B(e,p,L,n,C,T,d){var y=1/(L-p),r=1/(C-n),t=1/(T-d);return e[0]=T*2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T*2*r,e[6]=0,e[7]=0,e[8]=(L+p)*y,e[9]=(C+n)*r,e[10]=(d+T)*t,e[11]=-1,e[12]=0,e[13]=0,e[14]=d*T*2*t,e[15]=0,e}},71551:function(V){V.exports=B;function B(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(V,B,e){V.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(V){V.exports=B;function B(e,p){var L=p[0],n=p[1],C=p[2],T=p[3],d=p[4],y=p[5],r=p[6],t=p[7],i=p[8],a=p[9],h=p[10],u=p[11],s=p[12],m=p[13],f=p[14],S=p[15],v=L*y-n*d,l=L*r-C*d,g=L*t-T*d,M=n*r-C*y,A=n*t-T*y,k=C*t-T*r,w=i*m-a*s,E=i*f-h*s,b=i*S-u*s,o=a*f-h*m,P=a*S-u*m,x=h*S-u*f,z=v*x-l*P+g*o+M*b-A*E+k*w;return z?(z=1/z,e[0]=(y*x-r*P+t*o)*z,e[1]=(C*P-n*x-T*o)*z,e[2]=(m*k-f*A+S*M)*z,e[3]=(h*A-a*k-u*M)*z,e[4]=(r*b-d*x-t*E)*z,e[5]=(L*x-C*b+T*E)*z,e[6]=(f*g-s*k-S*l)*z,e[7]=(i*k-h*g+u*l)*z,e[8]=(d*P-y*b+t*w)*z,e[9]=(n*b-L*P-T*w)*z,e[10]=(s*A-m*g+S*v)*z,e[11]=(a*g-i*A-u*v)*z,e[12]=(y*E-d*o-r*w)*z,e[13]=(L*o-n*E+C*w)*z,e[14]=(m*l-s*M-f*v)*z,e[15]=(i*M-a*l+h*v)*z,e):null}},65551:function(V,B,e){var p=e(71551);V.exports=L;function L(n,C,T,d){var y,r,t,i,a,h,u,s,m,f,S=C[0],v=C[1],l=C[2],g=d[0],M=d[1],A=d[2],k=T[0],w=T[1],E=T[2];return Math.abs(S-k)<1e-6&&Math.abs(v-w)<1e-6&&Math.abs(l-E)<1e-6?p(n):(u=S-k,s=v-w,m=l-E,f=1/Math.sqrt(u*u+s*s+m*m),u*=f,s*=f,m*=f,y=M*m-A*s,r=A*u-g*m,t=g*s-M*u,f=Math.sqrt(y*y+r*r+t*t),f?(f=1/f,y*=f,r*=f,t*=f):(y=0,r=0,t=0),i=s*t-m*r,a=m*y-u*t,h=u*r-s*y,f=Math.sqrt(i*i+a*a+h*h),f?(f=1/f,i*=f,a*=f,h*=f):(i=0,a=0,h=0),n[0]=y,n[1]=i,n[2]=u,n[3]=0,n[4]=r,n[5]=a,n[6]=s,n[7]=0,n[8]=t,n[9]=h,n[10]=m,n[11]=0,n[12]=-(y*S+r*v+t*l),n[13]=-(i*S+a*v+h*l),n[14]=-(u*S+s*v+m*l),n[15]=1,n)}},91362:function(V){V.exports=B;function B(e,p,L){var n=p[0],C=p[1],T=p[2],d=p[3],y=p[4],r=p[5],t=p[6],i=p[7],a=p[8],h=p[9],u=p[10],s=p[11],m=p[12],f=p[13],S=p[14],v=p[15],l=L[0],g=L[1],M=L[2],A=L[3];return e[0]=l*n+g*y+M*a+A*m,e[1]=l*C+g*r+M*h+A*f,e[2]=l*T+g*t+M*u+A*S,e[3]=l*d+g*i+M*s+A*v,l=L[4],g=L[5],M=L[6],A=L[7],e[4]=l*n+g*y+M*a+A*m,e[5]=l*C+g*r+M*h+A*f,e[6]=l*T+g*t+M*u+A*S,e[7]=l*d+g*i+M*s+A*v,l=L[8],g=L[9],M=L[10],A=L[11],e[8]=l*n+g*y+M*a+A*m,e[9]=l*C+g*r+M*h+A*f,e[10]=l*T+g*t+M*u+A*S,e[11]=l*d+g*i+M*s+A*v,l=L[12],g=L[13],M=L[14],A=L[15],e[12]=l*n+g*y+M*a+A*m,e[13]=l*C+g*r+M*h+A*f,e[14]=l*T+g*t+M*u+A*S,e[15]=l*d+g*i+M*s+A*v,e}},60378:function(V){V.exports=B;function B(e,p,L,n,C,T,d){var y=1/(p-L),r=1/(n-C),t=1/(T-d);return e[0]=-2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*t,e[11]=0,e[12]=(p+L)*y,e[13]=(C+n)*r,e[14]=(d+T)*t,e[15]=1,e}},7864:function(V){V.exports=B;function B(e,p,L,n,C){var T=1/Math.tan(p/2),d=1/(n-C);return e[0]=T/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+n)*d,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*n*d,e[15]=0,e}},35279:function(V){V.exports=B;function B(e,p,L,n){var C=Math.tan(p.upDegrees*Math.PI/180),T=Math.tan(p.downDegrees*Math.PI/180),d=Math.tan(p.leftDegrees*Math.PI/180),y=Math.tan(p.rightDegrees*Math.PI/180),r=2/(d+y),t=2/(C+T);return e[0]=r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t,e[6]=0,e[7]=0,e[8]=-((d-y)*r*.5),e[9]=(C-T)*t*.5,e[10]=n/(L-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*L/(L-n),e[15]=0,e}},65074:function(V){V.exports=B;function B(e,p,L,n){var C=n[0],T=n[1],d=n[2],y=Math.sqrt(C*C+T*T+d*d),r,t,i,a,h,u,s,m,f,S,v,l,g,M,A,k,w,E,b,o,P,x,z,_;return Math.abs(y)<1e-6?null:(y=1/y,C*=y,T*=y,d*=y,r=Math.sin(L),t=Math.cos(L),i=1-t,a=p[0],h=p[1],u=p[2],s=p[3],m=p[4],f=p[5],S=p[6],v=p[7],l=p[8],g=p[9],M=p[10],A=p[11],k=C*C*i+t,w=T*C*i+d*r,E=d*C*i-T*r,b=C*T*i-d*r,o=T*T*i+t,P=d*T*i+C*r,x=C*d*i+T*r,z=T*d*i-C*r,_=d*d*i+t,e[0]=a*k+m*w+l*E,e[1]=h*k+f*w+g*E,e[2]=u*k+S*w+M*E,e[3]=s*k+v*w+A*E,e[4]=a*b+m*o+l*P,e[5]=h*b+f*o+g*P,e[6]=u*b+S*o+M*P,e[7]=s*b+v*o+A*P,e[8]=a*x+m*z+l*_,e[9]=h*x+f*z+g*_,e[10]=u*x+S*z+M*_,e[11]=s*x+v*z+A*_,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},35545:function(V){V.exports=B;function B(e,p,L){var n=Math.sin(L),C=Math.cos(L),T=p[4],d=p[5],y=p[6],r=p[7],t=p[8],i=p[9],a=p[10],h=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=T*C+t*n,e[5]=d*C+i*n,e[6]=y*C+a*n,e[7]=r*C+h*n,e[8]=t*C-T*n,e[9]=i*C-d*n,e[10]=a*C-y*n,e[11]=h*C-r*n,e}},94918:function(V){V.exports=B;function B(e,p,L){var n=Math.sin(L),C=Math.cos(L),T=p[0],d=p[1],y=p[2],r=p[3],t=p[8],i=p[9],a=p[10],h=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=T*C-t*n,e[1]=d*C-i*n,e[2]=y*C-a*n,e[3]=r*C-h*n,e[8]=T*n+t*C,e[9]=d*n+i*C,e[10]=y*n+a*C,e[11]=r*n+h*C,e}},15692:function(V){V.exports=B;function B(e,p,L){var n=Math.sin(L),C=Math.cos(L),T=p[0],d=p[1],y=p[2],r=p[3],t=p[4],i=p[5],a=p[6],h=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=T*C+t*n,e[1]=d*C+i*n,e[2]=y*C+a*n,e[3]=r*C+h*n,e[4]=t*C-T*n,e[5]=i*C-d*n,e[6]=a*C-y*n,e[7]=h*C-r*n,e}},10789:function(V){V.exports=B;function B(e,p,L){var n=L[0],C=L[1],T=L[2];return e[0]=p[0]*n,e[1]=p[1]*n,e[2]=p[2]*n,e[3]=p[3]*n,e[4]=p[4]*C,e[5]=p[5]*C,e[6]=p[6]*C,e[7]=p[7]*C,e[8]=p[8]*T,e[9]=p[9]*T,e[10]=p[10]*T,e[11]=p[11]*T,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},6726:function(V){V.exports=B;function B(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(V){V.exports=B;function B(e,p,L){var n=L[0],C=L[1],T=L[2],d,y,r,t,i,a,h,u,s,m,f,S;return p===e?(e[12]=p[0]*n+p[4]*C+p[8]*T+p[12],e[13]=p[1]*n+p[5]*C+p[9]*T+p[13],e[14]=p[2]*n+p[6]*C+p[10]*T+p[14],e[15]=p[3]*n+p[7]*C+p[11]*T+p[15]):(d=p[0],y=p[1],r=p[2],t=p[3],i=p[4],a=p[5],h=p[6],u=p[7],s=p[8],m=p[9],f=p[10],S=p[11],e[0]=d,e[1]=y,e[2]=r,e[3]=t,e[4]=i,e[5]=a,e[6]=h,e[7]=u,e[8]=s,e[9]=m,e[10]=f,e[11]=S,e[12]=d*n+i*C+s*T+p[12],e[13]=y*n+a*C+m*T+p[13],e[14]=r*n+h*C+f*T+p[14],e[15]=t*n+u*C+S*T+p[15]),e}},88654:function(V){V.exports=B;function B(e,p){if(e===p){var L=p[1],n=p[2],C=p[3],T=p[6],d=p[7],y=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=n,e[9]=T,e[11]=p[14],e[12]=C,e[13]=d,e[14]=y}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},42505:function(V,B,e){var p=e(72791),L=e(71299),n=e(98580),C=e(12018),T=e(83522),d=e(25075),y=e(68016),r=e(58404),t=e(18863),i=e(10973),a=e(25677),h=e(75686),u=e(53545),s=e(56131),m=e(32879),f=e(30120),S=e(13547),v=S.nextPow2,l=new T,g=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(g=!0),document.body.removeChild(M)}var A=function(E){k(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=C(E),this.shader=l.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),l.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(i(E)?E:{})};A.prototype.createShader=function(){var E=this.regl,b=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(P,x){return[x.atlas.width,x.atlas.height]},atlasDim:function(P,x){return[x.atlas.cols,x.atlas.rows]},atlas:function(P,x){return x.atlas.texture},charStep:function(P,x){return x.atlas.step},em:function(P,x){return x.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),o={};return{regl:E,draw:b,atlas:o}},A.prototype.update=function(E){var b=this;if(typeof E=="string")E={text:E};else if(!E)return;E=L(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(Ie){return parseFloat(Ie)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=t(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=f(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=A.baseFontSize+"px sans-serif");var o=!1,P=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(Ie,Ge){if(typeof Ie=="string")try{Ie=p.parse(Ie)}catch{Ie=p.parse(A.baseFontSize+"px "+Ie)}else Ie=p.parse(p.stringify(Ie));var at=p.stringify({size:A.baseFontSize,family:Ie.family,stretch:g?Ie.stretch:void 0,variant:Ie.variant,weight:Ie.weight,style:Ie.style}),lt=a(Ie.size),qe=Math.round(lt[0]*h(lt[1]));if(qe!==b.fontSize[Ge]&&(P=!0,b.fontSize[Ge]=qe),(!b.font[Ge]||at!=b.font[Ge].baseString)&&(o=!0,b.font[Ge]=A.fonts[at],!b.font[Ge])){var et=Ie.family.join(", "),ft=[Ie.style];Ie.style!=Ie.variant&&ft.push(Ie.variant),Ie.variant!=Ie.weight&&ft.push(Ie.weight),g&&Ie.weight!=Ie.stretch&&ft.push(Ie.stretch),b.font[Ge]={baseString:at,family:et,weight:Ie.weight,stretch:Ie.stretch,style:Ie.style,variant:Ie.variant,width:{},kerning:{},metrics:m(et,{origin:"top",fontSize:A.baseFontSize,fontStyle:ft.join(" ")})},A.fonts[at]=b.font[Ge]}}),(o||P)&&this.font.forEach(function(Ie,Ge){var at=p.stringify({size:b.fontSize[Ge],family:Ie.family,stretch:g?Ie.stretch:void 0,variant:Ie.variant,weight:Ie.weight,style:Ie.style});if(b.fontAtlas[Ge]=b.shader.atlas[at],!b.fontAtlas[Ge]){var lt=Ie.metrics;b.shader.atlas[at]=b.fontAtlas[Ge]={fontString:at,step:Math.ceil(b.fontSize[Ge]*lt.bottom*.5)*2,em:b.fontSize[Ge],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:b.regl.texture()}}E.text==null&&(E.text=b.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var x=Array(E.position.length*.5),z=0;z<x.length;z++)x[z]=E.text;E.text=x}var _;if(E.text!=null||o){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var G=1;G<E.text.length;G++)this.textOffsets[G]=this.textOffsets[G-1]+E.text[G-1].length,this.count+=E.text[G].length,this.counts.push(E.text[G].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(Ie,Ge){A.atlasContext.font=Ie.baseString;for(var at=b.fontAtlas[Ge],lt=0;lt<b.text.length;lt++){var qe=b.text.charAt(lt);if(at.ids[qe]==null&&(at.ids[qe]=at.chars.length,at.chars.push(qe),_.push(qe)),Ie.width[qe]==null&&(Ie.width[qe]=A.atlasContext.measureText(qe).width/A.baseFontSize,b.kerning)){var et=[];for(var ft in Ie.width)et.push(ft+qe,qe+ft);s(Ie.kerning,u(Ie.family,{pairs:et}))}}})}if(E.position)if(E.position.length>2){for(var F=!E.position[0].length,N=r.mallocFloat(this.count*2),U=0,O=0;U<this.counts.length;U++){var H=this.counts[U];if(F)for(var Y=0;Y<H;Y++)N[O++]=E.position[U*2],N[O++]=E.position[U*2+1];else for(var q=0;q<H;q++)N[O++]=E.position[U][0],N[O++]=E.position[U][1]}this.position.call?this.position({type:"float",data:N}):this.position=this.regl.buffer({type:"float",data:N}),r.freeFloat(N)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||o){var ne=r.mallocUint8(this.count),oe=r.mallocFloat(this.count*2);this.textWidth=[];for(var he=0,J=0;he<this.counts.length;he++){for(var Z=this.counts[he],se=this.font[he]||this.font[0],$=this.fontAtlas[he]||this.fontAtlas[0],ee=0;ee<Z;ee++){var le=this.text.charAt(J),Q=this.text.charAt(J-1);if(ne[J]=$.ids[le],oe[J*2]=se.width[le],ee){var K=oe[J*2-2],ue=oe[J*2],ie=oe[J*2-1],ce=ie+K*.5+ue*.5;if(this.kerning){var xe=se.kerning[Q+le];xe&&(ce+=xe*.001)}oe[J*2+1]=ce}else oe[J*2+1]=oe[J*2]*.5;J++}this.textWidth.push(oe.length?oe[J*2-2]*.5+oe[J*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ne,type:"uint8",usage:"stream"}),this.sizeBuffer({data:oe,type:"float",usage:"stream"}),r.freeUint8(ne),r.freeFloat(oe),_.length&&this.font.forEach(function(Ie,Ge){var at=b.fontAtlas[Ge],lt=at.step,qe=Math.floor(A.maxAtlasSize/lt),et=Math.min(qe,at.chars.length),ft=Math.ceil(at.chars.length/et),dt=v(et*lt),pt=v(ft*lt);at.width=dt,at.height=pt,at.rows=ft,at.cols=et,at.em&&at.texture({data:y({canvas:A.atlasCanvas,font:at.fontString,chars:at.chars,shape:[dt,pt],step:[lt,lt]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(Ie,Ge){var at=Array.isArray(b.align)?b.align.length>1?b.align[Ge]:b.align[0]:b.align;if(typeof at=="number")return at;switch(at){case"right":case"end":return-Ie;case"center":case"centre":case"middle":return-Ie*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(Ie,Ge){var at=(b.font[Ge]||b.font[0]).metrics,lt=0;return lt+=at.bottom*.5,typeof Ie=="number"?lt+=Ie-at.baseline:lt+=-at[Ie],lt*=-1,lt})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=d(E.color,"uint8");else{var Le;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Ae=E.color.length;Le=r.mallocUint8(Ae);for(var Oe=(E.color.subarray||E.color.slice).bind(E.color),ze=0;ze<Ae;ze+=4)Le.set(d(Oe(ze,ze+4),"uint8"),ze)}else{var Ee=E.color.length;Le=r.mallocUint8(Ee*4);for(var be=0;be<Ee;be++)Le.set(d(E.color[be]||0,"uint8"),be*4)}this.color=Le}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Ce=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ce){var Ue=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ue);for(var He=0;He<this.batch.length;He++)this.batch[He]={count:this.counts.length>1?this.counts[He]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[He]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(He*4,He*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[He]:this.opacity,baseline:this.baselineOffset[He]!=null?this.baselineOffset[He]:this.baselineOffset[0],align:this.align?this.alignOffset[He]!=null?this.alignOffset[He]:this.alignOffset[0]:0,atlas:this.fontAtlas[He]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(He*2,He*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},A.prototype.destroy=function(){},A.prototype.kerning=!0,A.prototype.position={constant:new Float32Array(2)},A.prototype.translate=null,A.prototype.scale=null,A.prototype.font=null,A.prototype.text="",A.prototype.positionOffset=[0,0],A.prototype.opacity=1,A.prototype.color=new Uint8Array([0,0,0,255]),A.prototype.alignOffset=[0,0],A.maxAtlasSize=1024,A.atlasCanvas=document.createElement("canvas"),A.atlasContext=A.atlasCanvas.getContext("2d",{alpha:!1}),A.baseFontSize=64,A.fonts={};function k(w){return typeof w=="function"&&w._gl&&w.prop&&w.texture&&w.buffer}V.exports=A},12018:function(V,B,e){var p=e(71299);V.exports=function(r){if(r?typeof r=="string"&&(r={container:r}):r={},n(r)?r={container:r}:C(r)?r={container:r}:T(r)?r={gl:r}:r=p(r,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),r.pixelRatio||(r.pixelRatio=e.g.pixelRatio||1),r.gl)return r.gl;if(r.canvas&&(r.container=r.canvas.parentNode),r.container){if(typeof r.container=="string"){var t=document.querySelector(r.container);if(!t)throw Error("Element "+r.container+" is not found");r.container=t}n(r.container)?(r.canvas=r.container,r.container=r.canvas.parentNode):r.canvas||(r.canvas=d(),r.container.appendChild(r.canvas),L(r))}else if(!r.canvas)if(typeof document<"u")r.container=document.body||document.documentElement,r.canvas=d(),r.container.appendChild(r.canvas),L(r);else throw Error("Not DOM environment. Use headless-gl.");return r.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(i){try{r.gl=r.canvas.getContext(i,r.attrs)}catch{}return r.gl}),r.gl};function L(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var r=y.container.getBoundingClientRect();y.canvas.width=y.width||r.right-r.left,y.canvas.height=y.height||r.bottom-r.top}}function n(y){return typeof y.getContext=="function"&&"width"in y&&"height"in y}function C(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function T(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function d(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}},56068:function(V){V.exports=function(B){typeof B=="string"&&(B=[B]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<B.length-1;L++)p.push(B[L],e[L]||"");return p.push(B[L]),p.join("")}},40383:function(V,B,e){var p=e(68318),L=p("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}V.exports=L},57035:function(V,B,e){var p=e(54404),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,V.exports=L},38520:function(V,B,e){var p=e(54404);function L(){var n=!1;try{var C=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{n=!1}return n}V.exports=p&&L()},55622:function(V,B,e){var p=e(68318),L=p("%Object.defineProperty%",!0),n=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},V.exports=n},57877:function(V,B,e){var p=typeof Symbol<"u"&&Symbol,L=e(35638);V.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},35638:function(V){V.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var n=42;e[p]=n;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var T=Object.getOwnPropertyDescriptor(e,p);if(T.value!==n||T.enumerable!==!0)return!1}return!0}},84543:function(V,B,e){var p=e(35638);V.exports=function(){return p()&&!!Symbol.toStringTag}},35065:function(V,B,e){var p=e(77575);V.exports=p.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(V,B){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */B.read=function(e,p,L,n,C){var T,d,y=C*8-n-1,r=(1<<y)-1,t=r>>1,i=-7,a=L?C-1:0,h=L?-1:1,u=e[p+a];for(a+=h,T=u&(1<<-i)-1,u>>=-i,i+=y;i>0;T=T*256+e[p+a],a+=h,i-=8);for(d=T&(1<<-i)-1,T>>=-i,i+=n;i>0;d=d*256+e[p+a],a+=h,i-=8);if(T===0)T=1-t;else{if(T===r)return d?NaN:(u?-1:1)*(1/0);d=d+Math.pow(2,n),T=T-t}return(u?-1:1)*d*Math.pow(2,T-n)},B.write=function(e,p,L,n,C,T){var d,y,r,t=T*8-C-1,i=(1<<t)-1,a=i>>1,h=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:T-1,s=n?1:-1,m=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(y=isNaN(p)?1:0,d=i):(d=Math.floor(Math.log(p)/Math.LN2),p*(r=Math.pow(2,-d))<1&&(d--,r*=2),d+a>=1?p+=h/r:p+=h*Math.pow(2,1-a),p*r>=2&&(d++,r/=2),d+a>=i?(y=0,d=i):d+a>=1?(y=(p*r-1)*Math.pow(2,C),d=d+a):(y=p*Math.pow(2,a-1)*Math.pow(2,C),d=0));C>=8;e[L+u]=y&255,u+=s,y/=256,C-=8);for(d=d<<C|y,t+=C;t>0;e[L+u]=d&255,u+=s,d/=256,t-=8);e[L+u-s]|=m*128}},42018:function(V){typeof Object.create=="function"?V.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:V.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},47216:function(V,B,e){var p=e(84543)(),L=e(6614),n=L("Object.prototype.toString"),C=function(r){return p&&r&&typeof r=="object"&&Symbol.toStringTag in r?!1:n(r)==="[object Arguments]"},T=function(r){return C(r)?!0:r!==null&&typeof r=="object"&&typeof r.length=="number"&&r.length>=0&&n(r)!=="[object Array]"&&n(r.callee)==="[object Function]"},d=function(){return C(arguments)}();C.isLegacyArguments=T,V.exports=d?C:T},54404:function(V){V.exports=!0},85395:function(V){var B=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{p=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,p)}catch(S){S!==L&&(e=null)}else e=null;var n=/^\s*class\b/,C=function(v){try{var l=B.call(v);return n.test(l)}catch{return!1}},T=function(v){try{return C(v)?!1:(B.call(v),!0)}catch{return!1}},d=Object.prototype.toString,y="[object Object]",r="[object Function]",t="[object GeneratorFunction]",i="[object HTMLAllCollection]",a="[object HTML document.all class]",h="[object HTMLCollection]",u=typeof Symbol=="function"&&!!Symbol.toStringTag,s=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var f=document.all;d.call(f)===d.call(document.all)&&(m=function(v){if((s||!v)&&(typeof v>"u"||typeof v=="object"))try{var l=d.call(v);return(l===i||l===a||l===h||l===y)&&v("")==null}catch{}return!1})}V.exports=e?function(v){if(m(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,p)}catch(l){if(l!==L)return!1}return!C(v)&&T(v)}:function(v){if(m(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(u)return T(v);if(C(v))return!1;var l=d.call(v);return l!==r&&l!==t&&!/^\[object HTML/.test(l)?!1:T(v)}},65481:function(V,B,e){var p=Object.prototype.toString,L=Function.prototype.toString,n=/^\s*(?:function)?\*/,C=e(84543)(),T=Object.getPrototypeOf,d=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},y;V.exports=function(t){if(typeof t!="function")return!1;if(n.test(L.call(t)))return!0;if(!C){var i=p.call(t);return i==="[object GeneratorFunction]"}if(!T)return!1;if(typeof y>"u"){var a=d();y=a?T(a):!1}return T(t)===y}},62683:function(V){V.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(V){V.exports=function(e){return e!==e}},15567:function(V,B,e){var p=e(68222),L=e(17045),n=e(64274),C=e(14922),T=e(22442),d=p(C(),Number);L(d,{getPolyfill:C,implementation:n,shim:T}),V.exports=d},14922:function(V,B,e){var p=e(64274);V.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},22442:function(V,B,e){var p=e(17045),L=e(14922);V.exports=function(){var C=L();return p(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},64941:function(V){V.exports=function(B){var e=typeof B;return B!==null&&(e==="object"||e==="function")}},10973:function(V){var B=Object.prototype.toString;V.exports=function(e){var p;return B.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},18546:function(V){V.exports=function(B){for(var e=B.length,p,L=0;L<e;L++)if(p=B.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},89546:function(V){V.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(V,B,e){var p=e(31353),L=e(72077),n=e(6614),C=n("Object.prototype.toString"),T=e(84543)(),d=e(40383),y=typeof globalThis>"u"?e.g:globalThis,r=L(),t=n("Array.prototype.indexOf",!0)||function(m,f){for(var S=0;S<m.length;S+=1)if(m[S]===f)return S;return-1},i=n("String.prototype.slice"),a={},h=Object.getPrototypeOf;T&&d&&h&&p(r,function(s){var m=new y[s];if(Symbol.toStringTag in m){var f=h(m),S=d(f,Symbol.toStringTag);if(!S){var v=h(f);S=d(v,Symbol.toStringTag)}a[s]=S.get}});var u=function(m){var f=!1;return p(a,function(S,v){if(!f)try{f=S.call(m)===v}catch{}}),f};V.exports=function(m){if(!m||typeof m!="object")return!1;if(!T||!(Symbol.toStringTag in m)){var f=i(C(m),8,-1);return t(r,f)>-1}return d?u(m):!1}},27084:function(V){V.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},16825:function(V,B,e){V.exports=L;var p=e(74311);function L(n,C){C||(C=n,n=window);var T=0,d=0,y=0,r={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(M){var A=!1;return"altKey"in M&&(A=A||M.altKey!==r.alt,r.alt=!!M.altKey),"shiftKey"in M&&(A=A||M.shiftKey!==r.shift,r.shift=!!M.shiftKey),"ctrlKey"in M&&(A=A||M.ctrlKey!==r.control,r.control=!!M.ctrlKey),"metaKey"in M&&(A=A||M.metaKey!==r.meta,r.meta=!!M.metaKey),A}function a(M,A){var k=p.x(A),w=p.y(A);"buttons"in A&&(M=A.buttons|0),(M!==T||k!==d||w!==y||i(A))&&(T=M|0,d=k||0,y=w||0,C&&C(T,d,y,r))}function h(M){a(0,M)}function u(){(T||d||y||r.shift||r.alt||r.meta||r.control)&&(d=y=0,T=0,r.shift=r.alt=r.control=r.meta=!1,C&&C(0,0,0,r))}function s(M){i(M)&&C&&C(T,d,y,r)}function m(M){p.buttons(M)===0?a(0,M):a(T,M)}function f(M){a(T|p.buttons(M),M)}function S(M){a(T&~p.buttons(M),M)}function v(){t||(t=!0,n.addEventListener("mousemove",m),n.addEventListener("mousedown",f),n.addEventListener("mouseup",S),n.addEventListener("mouseleave",h),n.addEventListener("mouseenter",h),n.addEventListener("mouseout",h),n.addEventListener("mouseover",h),n.addEventListener("blur",u),n.addEventListener("keyup",s),n.addEventListener("keydown",s),n.addEventListener("keypress",s),n!==window&&(window.addEventListener("blur",u),window.addEventListener("keyup",s),window.addEventListener("keydown",s),window.addEventListener("keypress",s)))}function l(){t&&(t=!1,n.removeEventListener("mousemove",m),n.removeEventListener("mousedown",f),n.removeEventListener("mouseup",S),n.removeEventListener("mouseleave",h),n.removeEventListener("mouseenter",h),n.removeEventListener("mouseout",h),n.removeEventListener("mouseover",h),n.removeEventListener("blur",u),n.removeEventListener("keyup",s),n.removeEventListener("keydown",s),n.removeEventListener("keypress",s),n!==window&&(window.removeEventListener("blur",u),window.removeEventListener("keyup",s),window.removeEventListener("keydown",s),window.removeEventListener("keypress",s)))}v();var g={element:n};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(M){M?v():l()},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return d},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return r},enumerable:!0}}),g}},48956:function(V){var B={left:0,top:0};V.exports=e;function e(L,n,C){n=n||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var T=L.clientX||0,d=L.clientY||0,y=p(n);return C[0]=T-y.left,C[1]=d-y.top,C}function p(L){return L===window||L===document||L===document.body?B:L.getBoundingClientRect()}},74311:function(V,B){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var T=C.which;if(T===2)return 4;if(T===3)return 2;if(T>0)return 1<<T-1}else if("button"in C){var T=C.button;if(T===1)return 4;if(T===2)return 2;if(T>=0)return 1<<T}}return 0}B.buttons=e;function p(C){return C.target||C.srcElement||window}B.element=p;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var T=p(C),d=T.getBoundingClientRect();return C.clientX-d.left}return 0}B.x=L;function n(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var T=p(C),d=T.getBoundingClientRect();return C.clientY-d.top}return 0}B.y=n},1195:function(V,B,e){var p=e(75686);V.exports=L;function L(n,C,T){typeof n=="function"&&(T=!!C,C=n,n=window);var d=p("ex",n),y=function(r){T&&r.preventDefault();var t=r.deltaX||0,i=r.deltaY||0,a=r.deltaZ||0,h=r.deltaMode,u=1;switch(h){case 1:u=d;break;case 2:u=window.innerHeight;break}if(t*=u,i*=u,a*=u,t||i||a)return C(t,i,a,r)};return n.addEventListener("wheel",y),y}},7417:function(V,B,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,C,T){C[n]=C[n]||T(),V.exports?V.exports=C[n]:(p=(function(){return C[n]}).call(B,e,B,V),p!==void 0&&(V.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,C,T,d=Object.prototype.toString,y=typeof setImmediate<"u"?function(g){return setImmediate(g)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(g,M,A,k){return Object.defineProperty(g,M,{value:A,writable:!0,configurable:k!==!1})}}catch{n=function(M,A,k){return M[A]=k,M}}T=function(){var g,M,A;function k(w,E){this.fn=w,this.self=E,this.next=void 0}return{add:function(E,b){A=new k(E,b),M?M.next=A:g=A,M=A,A=void 0},drain:function(){var E=g;for(g=M=C=void 0;E;)E.fn.call(E.self),E=E.next}}}();function r(l,g){T.add(l,g),C||(C=y(T.drain))}function t(l){var g,M=typeof l;return l!=null&&(M=="object"||M=="function")&&(g=l.then),typeof g=="function"?g:!1}function i(){for(var l=0;l<this.chain.length;l++)a(this,this.state===1?this.chain[l].success:this.chain[l].failure,this.chain[l]);this.chain.length=0}function a(l,g,M){var A,k;try{g===!1?M.reject(l.msg):(g===!0?A=l.msg:A=g.call(void 0,l.msg),A===M.promise?M.reject(TypeError("Promise-chain cycle")):(k=t(A))?k.call(A,M.resolve,M.reject):M.resolve(A))}catch(w){M.reject(w)}}function h(l){var g,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(g=t(l))?r(function(){var A=new m(M);try{g.call(l,function(){h.apply(A,arguments)},function(){u.apply(A,arguments)})}catch(k){u.call(A,k)}}):(M.msg=l,M.state=1,M.chain.length>0&&r(i,M))}catch(A){u.call(new m(M),A)}}}function u(l){var g=this;g.triggered||(g.triggered=!0,g.def&&(g=g.def),g.msg=l,g.state=2,g.chain.length>0&&r(i,g))}function s(l,g,M,A){for(var k=0;k<g.length;k++)(function(E){l.resolve(g[E]).then(function(o){M(E,o)},A)})(k)}function m(l){this.def=l,this.triggered=!1}function f(l){this.promise=l,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function S(l){if(typeof l!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var g=new f(this);this.then=function(A,k){var w={success:typeof A=="function"?A:!0,failure:typeof k=="function"?k:!1};return w.promise=new this.constructor(function(b,o){if(typeof b!="function"||typeof o!="function")throw TypeError("Not a function");w.resolve=b,w.reject=o}),g.chain.push(w),g.state!==0&&r(i,g),w.promise},this.catch=function(A){return this.then(void 0,A)};try{l.call(void 0,function(A){h.call(g,A)},function(A){u.call(g,A)})}catch(M){u.call(g,M)}}var v=n({},"constructor",S,!1);return S.prototype=v,n(v,"__NPO__",0,!1),n(S,"resolve",function(g){var M=this;return g&&typeof g=="object"&&g.__NPO__===1?g:new M(function(k,w){if(typeof k!="function"||typeof w!="function")throw TypeError("Not a function");k(g)})}),n(S,"reject",function(g){return new this(function(A,k){if(typeof A!="function"||typeof k!="function")throw TypeError("Not a function");k(g)})}),n(S,"all",function(g){var M=this;return d.call(g)!="[object Array]"?M.reject(TypeError("Not an array")):g.length===0?M.resolve([]):new M(function(k,w){if(typeof k!="function"||typeof w!="function")throw TypeError("Not a function");var E=g.length,b=Array(E),o=0;s(M,g,function(x,z){b[x]=z,++o===E&&k(b)},w)})}),n(S,"race",function(g){var M=this;return d.call(g)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(k,w){if(typeof k!="function"||typeof w!="function")throw TypeError("Not a function");s(M,g,function(b,o){k(o)},w)})}),S})},18625:function(V){var B=Math.PI,e=d(120);V.exports=p;function p(y){for(var r,t=[],i=0,a=0,h=0,u=0,s=null,m=null,f=0,S=0,v=0,l=y.length;v<l;v++){var g=y[v],M=g[0];switch(M){case"M":h=g[1],u=g[2];break;case"A":g=C(f,S,g[1],g[2],d(g[3]),g[4],g[5],g[6],g[7]),g.unshift("C"),g.length>7&&(t.push(g.splice(0,7)),g.unshift("C"));break;case"S":var A=f,k=S;(r=="C"||r=="S")&&(A+=A-i,k+=k-a),g=["C",A,k,g[1],g[2],g[3],g[4]];break;case"T":r=="Q"||r=="T"?(s=f*2-s,m=S*2-m):(s=f,m=S),g=n(f,S,s,m,g[1],g[2]);break;case"Q":s=g[1],m=g[2],g=n(f,S,g[1],g[2],g[3],g[4]);break;case"L":g=L(f,S,g[1],g[2]);break;case"H":g=L(f,S,g[1],S);break;case"V":g=L(f,S,f,g[1]);break;case"Z":g=L(f,S,h,u);break}r=M,f=g[g.length-2],S=g[g.length-1],g.length>4?(i=g[g.length-4],a=g[g.length-3]):(i=f,a=S),t.push(g)}return t}function L(y,r,t,i){return["C",y,r,t,i,t,i]}function n(y,r,t,i,a,h){return["C",y/3+.6666666666666666*t,r/3+.6666666666666666*i,a/3+.6666666666666666*t,h/3+.6666666666666666*i,a,h]}function C(y,r,t,i,a,h,u,s,m,f){if(f)b=f[0],o=f[1],w=f[2],E=f[3];else{var S=T(y,r,-a);y=S.x,r=S.y,S=T(s,m,-a),s=S.x,m=S.y;var v=(y-s)/2,l=(r-m)/2,g=v*v/(t*t)+l*l/(i*i);g>1&&(g=Math.sqrt(g),t=g*t,i=g*i);var M=t*t,A=i*i,k=(h==u?-1:1)*Math.sqrt(Math.abs((M*A-M*l*l-A*v*v)/(M*l*l+A*v*v)));k==1/0&&(k=1);var w=k*t*l/i+(y+s)/2,E=k*-i*v/t+(r+m)/2,b=Math.asin(((r-E)/i).toFixed(9)),o=Math.asin(((m-E)/i).toFixed(9));b=y<w?B-b:b,o=s<w?B-o:o,b<0&&(b=B*2+b),o<0&&(o=B*2+o),u&&b>o&&(b=b-B*2),!u&&o>b&&(o=o-B*2)}if(Math.abs(o-b)>e){var P=o,x=s,z=m;o=b+e*(u&&o>b?1:-1),s=w+t*Math.cos(o),m=E+i*Math.sin(o);var _=C(s,m,t,i,a,0,u,x,z,[o,P,w,E])}var G=Math.tan((o-b)/4),F=4/3*t*G,N=4/3*i*G,U=[2*y-(y+F*Math.sin(b)),2*r-(r-N*Math.cos(b)),s+F*Math.sin(o),m-N*Math.cos(o),s,m];if(f)return U;_&&(U=U.concat(_));for(var O=0;O<U.length;){var H=T(U[O],U[O+1],a);U[O++]=H.x,U[O++]=H.y}return U}function T(y,r,t){return{x:y*Math.cos(t)-r*Math.sin(t),y:y*Math.sin(t)+r*Math.cos(t)}}function d(y){return y*(B/180)}},56131:function(V){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function n(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var T={},d=0;d<10;d++)T["_"+String.fromCharCode(d)]=d;var y=Object.getOwnPropertyNames(T).map(function(t){return T[t]});if(y.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}V.exports=n()?Object.assign:function(C,T){for(var d,y=L(C),r,t=1;t<arguments.length;t++){d=Object(arguments[t]);for(var i in d)e.call(d,i)&&(y[i]=d[i]);if(B){r=B(d);for(var a=0;a<r.length;a++)p.call(d,r[a])&&(y[r[a]]=d[r[a]])}}return y}},65848:function(V){var B=function(e){return e!==e};V.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||B(p)&&B(L))}},64003:function(V,B,e){var p=e(17045),L=e(68222),n=e(65848),C=e(27015),T=e(55572),d=L(C(),Object);p(d,{getPolyfill:C,implementation:n,shim:T}),V.exports=d},27015:function(V,B,e){var p=e(65848);V.exports=function(){return typeof Object.is=="function"?Object.is:p}},55572:function(V,B,e){var p=e(27015),L=e(17045);V.exports=function(){var C=p();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},99019:function(V,B,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,n=Object.prototype.toString,C=e(64178),T=Object.prototype.propertyIsEnumerable,d=!T.call({toString:null},"toString"),y=T.call(function(){},"prototype"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],t=function(u){var s=u.constructor;return s&&s.prototype===u},i={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var u in window)try{if(!i["$"+u]&&L.call(window,u)&&window[u]!==null&&typeof window[u]=="object")try{t(window[u])}catch{return!0}}catch{return!0}return!1}(),h=function(u){if(typeof window>"u"||!a)return t(u);try{return t(u)}catch{return!1}};p=function(s){var m=s!==null&&typeof s=="object",f=n.call(s)==="[object Function]",S=C(s),v=m&&n.call(s)==="[object String]",l=[];if(!m&&!f&&!S)throw new TypeError("Object.keys called on a non-object");var g=y&&f;if(v&&s.length>0&&!L.call(s,0))for(var M=0;M<s.length;++M)l.push(String(M));if(S&&s.length>0)for(var A=0;A<s.length;++A)l.push(String(A));else for(var k in s)!(g&&k==="prototype")&&L.call(s,k)&&l.push(String(k));if(d)for(var w=h(s),E=0;E<r.length;++E)!(w&&r[E]==="constructor")&&L.call(s,r[E])&&l.push(r[E]);return l}}V.exports=p},8709:function(V,B,e){var p=Array.prototype.slice,L=e(64178),n=Object.keys,C=n?function(y){return n(y)}:e(99019),T=Object.keys;C.shim=function(){if(Object.keys){var y=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);y||(Object.keys=function(t){return L(t)?T(p.call(t)):T(t)})}else Object.keys=C;return Object.keys||C},V.exports=C},64178:function(V){var B=Object.prototype.toString;V.exports=function(p){var L=B.call(p),n=L==="[object Arguments]";return n||(n=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&B.call(p.callee)==="[object Function]"),n}},88641:function(V){function B(L,n){if(typeof L!="string")return[L];var C=[L];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var T=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],d=n.escape||"___",y=!!n.flat;T.forEach(function(i){var a=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),h=[];function u(s,m,f){var S=C.push(s.slice(i[0].length,-i[1].length))-1;return h.push(S),d+S+d}C.forEach(function(s,m){for(var f,S=0;s!=f;)if(f=s,s=s.replace(a,u),S++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=s}),h=h.reverse(),C=C.map(function(s){return h.forEach(function(m){s=s.replace(new RegExp("(\\"+d+m+"\\"+d+")","g"),i[0]+"$1"+i[1])}),s})});var r=new RegExp("\\"+d+"([0-9]+)\\"+d);function t(i,a,h){for(var u=[],s,m=0;s=r.exec(i);){if(m++>1e4)throw Error("Circular references in parenthesis");u.push(i.slice(0,s.index)),u.push(t(a[s[1]],a)),i=i.slice(s.index+s[0].length)}return u.push(i),u}return y?C:t(C[0],C)}function e(L,n){if(n&&n.flat){var C=n&&n.escape||"___",T=L[0],d;if(!T)return"";for(var y=new RegExp("\\"+C+"([0-9]+)\\"+C),r=0;T!=d;){if(r++>1e4)throw Error("Circular references in "+L);d=T,T=T.replace(y,t)}return T}return L.reduce(function i(a,h){return Array.isArray(h)&&(h=h.reduce(i,"")),a+h},"");function t(i,a){if(L[a]==null)throw Error("Reference "+a+"is undefined");return L[a]}}function p(L,n){return Array.isArray(L)?e(L,n):B(L,n)}p.parse=B,p.stringify=e,V.exports=p},18863:function(V,B,e){var p=e(71299);V.exports=L;function L(n){var C;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?C={width:n[0],height:n[0],x:0,y:0}:n.length===2?C={width:n[0],height:n[1],x:0,y:0}:C={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=p(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:n.left||0,y:n.top||0},n.width==null?n.right?C.width=n.right-C.x:C.width=0:C.width=n.width,n.height==null?n.bottom?C.height=n.bottom-C.y:C.height=0:C.height=n.height),C}},95616:function(V){V.exports=p;var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(C){var T=[];return C.replace(e,function(d,y,r){var t=y.toLowerCase();for(r=n(r),t=="m"&&r.length>2&&(T.push([y].concat(r.splice(0,2))),t="l",y=y=="m"?"l":"L");;){if(r.length==B[t])return r.unshift(y),T.push(r);if(r.length<B[t])throw new Error("malformed path data");T.push([y].concat(r.splice(0,B[t])))}}),T}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(C){var T=C.match(L);return T?T.map(Number):[]}},25677:function(V){V.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},9748:function(V,B,e){var p=e(90386);(function(){var L,n,C,T,d,y;typeof performance<"u"&&performance!==null&&performance.now?V.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(V.exports=function(){return(L()-d)/1e6},n=p.hrtime,L=function(){var r;return r=n(),r[0]*1e9+r[1]},T=L(),y=p.uptime()*1e9,d=T-y):Date.now?(V.exports=function(){return Date.now()-C},C=Date.now()):(V.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},71299:function(V){V.exports=function(L,n,C){var T={},d,y;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var r={};for(y=0;y<n.length;y++)r[n[y]]=!0;n=r}for(d in n)n[d]=e(n[d]);var t={};for(d in n){var i=n[d];if(Array.isArray(i))for(y=0;y<i.length;y++){var a=i[y];if(C&&(t[a]=!0),a in L){if(T[d]=L[a],C)for(var h=y;h<i.length;h++)t[i[h]]=!0;break}}else d in L&&(n[d]&&(T[d]=L[d]),C&&(t[d]=!0))}if(C)for(d in L)t[d]||(T[d]=L[d]);return T};var B={};function e(p){return B[p]?B[p]:(typeof p=="string"&&(p=B[p]=p.split(/\s*,\s*|\s+/)),p)}},38258:function(V){V.exports=function(e,p,L,n){var C=e[0],T=e[1],d=!1;L===void 0&&(L=0),n===void 0&&(n=p.length);for(var y=n-L,r=0,t=y-1;r<y;t=r++){var i=p[r+L][0],a=p[r+L][1],h=p[t+L][0],u=p[t+L][1],s=a>T!=u>T&&C<(h-i)*(T-a)/(u-a)+i;s&&(d=!d)}return d}},52142:function(V,B,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(69444),L=e(29023),n=e(87263),C=e(11328),T=e(55968),d=e(10670),y=!1,r=L(),t;t={buildLog:function(a){return a===!0?y=p():a===!1&&(y=!1),y===!1?!1:y.list},epsilon:function(a){return r.epsilon(a)},segments:function(a){var h=n(!0,r,y);return a.regions.forEach(h.addRegion),{segments:h.calculate(a.inverted),inverted:a.inverted}},combine:function(a,h){var u=n(!1,r,y);return{combined:u.calculate(a.segments,a.inverted,h.segments,h.inverted),inverted1:a.inverted,inverted2:h.inverted}},selectUnion:function(a){return{segments:T.union(a.combined,y),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:T.intersect(a.combined,y),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:T.difference(a.combined,y),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:T.differenceRev(a.combined,y),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:T.xor(a.combined,y),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:C(a.segments,r,y),inverted:a.inverted}},polygonFromGeoJSON:function(a){return d.toPolygon(t,a)},polygonToGeoJSON:function(a){return d.fromPolygon(t,r,a)},union:function(a,h){return i(a,h,t.selectUnion)},intersect:function(a,h){return i(a,h,t.selectIntersect)},difference:function(a,h){return i(a,h,t.selectDifference)},differenceRev:function(a,h){return i(a,h,t.selectDifferenceRev)},xor:function(a,h){return i(a,h,t.selectXor)}};function i(a,h,u){var s=t.segments(a),m=t.segments(h),f=t.combine(s,m),S=u(f);return t.polygon(S)}typeof window=="object"&&(window.PolyBool=t),V.exports=t},69444:function(V){function B(){var e,p=0,L=!1;function n(C,T){return e.list.push({type:C,data:T?JSON.parse(JSON.stringify(T)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(C,T){return n("check",{seg1:C,seg2:T})},segmentChop:function(C,T){return n("div_seg",{seg:C,pt:T}),n("chop",{seg:C,pt:T})},statusRemove:function(C){return n("pop_seg",{seg:C})},segmentUpdate:function(C){return n("seg_update",{seg:C})},segmentNew:function(C,T){return n("new_seg",{seg:C,primary:T})},segmentRemove:function(C){return n("rem_seg",{seg:C})},tempStatus:function(C,T,d){return n("temp_status",{seg:C,above:T,below:d})},rewind:function(C){return n("rewind",{seg:C})},status:function(C,T,d){return n("status",{seg:C,above:T,below:d})},vert:function(C){return C===L?e:(L=C,n("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),n("log",{txt:C})},reset:function(){return n("reset")},selected:function(C){return n("selected",{segs:C})},chainStart:function(C){return n("chain_start",{seg:C})},chainRemoveHead:function(C,T){return n("chain_rem_head",{index:C,pt:T})},chainRemoveTail:function(C,T){return n("chain_rem_tail",{index:C,pt:T})},chainNew:function(C,T){return n("chain_new",{pt1:C,pt2:T})},chainMatch:function(C){return n("chain_match",{index:C})},chainClose:function(C){return n("chain_close",{index:C})},chainAddHead:function(C,T){return n("chain_add_head",{index:C,pt:T})},chainAddTail:function(C,T){return n("chain_add_tail",{index:C,pt:T})},chainConnect:function(C,T){return n("chain_con",{index1:C,index2:T})},chainReverse:function(C){return n("chain_rev",{index:C})},chainJoin:function(C,T){return n("chain_join",{index1:C,index2:T})},done:function(){return n("done")}},e}V.exports=B},29023:function(V){function B(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,n,C){var T=n[0],d=n[1],y=C[0],r=C[1],t=L[0],i=L[1];return(y-T)*(i-d)-(r-d)*(t-T)>=-e},pointBetween:function(L,n,C){var T=L[1]-n[1],d=C[0]-n[0],y=L[0]-n[0],r=C[1]-n[1],t=y*d+T*r;if(t<e)return!1;var i=d*d+r*r;return!(t-i>-e)},pointsSameX:function(L,n){return Math.abs(L[0]-n[0])<e},pointsSameY:function(L,n){return Math.abs(L[1]-n[1])<e},pointsSame:function(L,n){return p.pointsSameX(L,n)&&p.pointsSameY(L,n)},pointsCompare:function(L,n){return p.pointsSameX(L,n)?p.pointsSameY(L,n)?0:L[1]<n[1]?-1:1:L[0]<n[0]?-1:1},pointsCollinear:function(L,n,C){var T=L[0]-n[0],d=L[1]-n[1],y=n[0]-C[0],r=n[1]-C[1];return Math.abs(T*r-y*d)<e},linesIntersect:function(L,n,C,T){var d=n[0]-L[0],y=n[1]-L[1],r=T[0]-C[0],t=T[1]-C[1],i=d*t-y*r;if(Math.abs(i)<e)return!1;var a=L[0]-C[0],h=L[1]-C[1],u=(r*h-t*a)/i,s=(d*h-y*a)/i,m={alongA:0,alongB:0,pt:[L[0]+u*d,L[1]+u*y]};return u<=-e?m.alongA=-2:u<e?m.alongA=-1:u-1<=-e?m.alongA=0:u-1<e?m.alongA=1:m.alongA=2,s<=-e?m.alongB=-2:s<e?m.alongB=-1:s-1<=-e?m.alongB=0:s-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(L,n){for(var C=L[0],T=L[1],d=n[n.length-1][0],y=n[n.length-1][1],r=!1,t=0;t<n.length;t++){var i=n[t][0],a=n[t][1];a-T>e!=y-T>e&&(d-i)*(T-a)/(y-a)+i-C>e&&(r=!r),d=i,y=a}return r}};return p}V.exports=B},10670:function(V){var B={toPolygon:function(e,p){function L(T){if(T.length<=0)return e.segments({inverted:!1,regions:[]});function d(t){var i=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[i]})}for(var y=d(T[0]),r=1;r<T.length;r++)y=e.selectDifference(e.combine(y,d(T[r])));return y}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)n=e.selectUnion(e.combine(n,L(p.coordinates[C])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function n(u,s){return p.pointInsideRegion([(u[0][0]+u[1][0])*.5,(u[0][1]+u[1][1])*.5],s)}function C(u){return{region:u,children:[]}}var T=C(null);function d(u,s){for(var m=0;m<u.children.length;m++){var f=u.children[m];if(n(s,f.region)){d(f,s);return}}for(var S=C(s),m=0;m<u.children.length;m++){var f=u.children[m];n(f.region,s)&&(S.children.push(f),u.children.splice(m,1),m--)}u.children.push(S)}for(var y=0;y<L.regions.length;y++){var r=L.regions[y];r.length<3||d(T,r)}function t(u,s){for(var m=0,f=u[u.length-1][0],S=u[u.length-1][1],v=[],l=0;l<u.length;l++){var g=u[l][0],M=u[l][1];v.push([g,M]),m+=M*f-g*S,f=g,S=M}var A=m<0;return A!==s&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var i=[];function a(u){var s=[t(u.region,!1)];i.push(s);for(var m=0;m<u.children.length;m++)s.push(h(u.children[m]))}function h(u){for(var s=0;s<u.children.length;s++)a(u.children[s]);return t(u.region,!0)}for(var y=0;y<T.children.length;y++)a(T.children[y]);return i.length<=0?{type:"Polygon",coordinates:[]}:i.length==1?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}};V.exports=B},87263:function(V,B,e){var p=e(26859);function L(n,C,T){function d(S,v){return{id:T?T.segmentId():-1,start:S,end:v,myFill:{above:null,below:null},otherFill:null}}function y(S,v,l){return{id:T?T.segmentId():-1,start:S,end:v,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var r=p.create();function t(S,v,l,g,M,A){var k=C.pointsCompare(v,M);return k!==0?k:C.pointsSame(l,A)?0:S!==g?S?1:-1:C.pointAboveOrOnLine(l,g?M:A,g?A:M)?1:-1}function i(S,v){r.insertBefore(S,function(l){var g=t(S.isStart,S.pt,v,l.isStart,l.pt,l.other.pt);return g<0})}function a(S,v){var l=p.node({isStart:!0,pt:S.start,seg:S,primary:v,other:null,status:null});return i(l,S.end),l}function h(S,v,l){var g=p.node({isStart:!1,pt:v.end,seg:v,primary:l,other:S,status:null});S.other=g,i(g,S.pt)}function u(S,v){var l=a(S,v);return h(l,S,v),l}function s(S,v){T&&T.segmentChop(S.seg,v),S.other.remove(),S.seg.end=v,S.other.pt=v,i(S.other,S.pt)}function m(S,v){var l=y(v,S.seg.end,S.seg);return s(S,v),u(l,S.primary)}function f(S,v){var l=p.create();function g(F,N){var U=F.seg.start,O=F.seg.end,H=N.seg.start,Y=N.seg.end;return C.pointsCollinear(U,H,Y)?C.pointsCollinear(O,H,Y)||C.pointAboveOrOnLine(O,H,Y)?1:-1:C.pointAboveOrOnLine(U,H,Y)?1:-1}function M(F){return l.findTransition(function(N){var U=g(F,N.ev);return U>0})}function A(F,N){var U=F.seg,O=N.seg,H=U.start,Y=U.end,q=O.start,ne=O.end;T&&T.checkIntersection(U,O);var oe=C.linesIntersect(H,Y,q,ne);if(oe===!1){if(!C.pointsCollinear(H,Y,q)||C.pointsSame(H,ne)||C.pointsSame(Y,q))return!1;var he=C.pointsSame(H,q),J=C.pointsSame(Y,ne);if(he&&J)return N;var Z=!he&&C.pointBetween(H,q,ne),se=!J&&C.pointBetween(Y,q,ne);if(he)return se?m(N,Y):m(F,ne),N;Z&&(J||(se?m(N,Y):m(F,ne)),m(N,H))}else oe.alongA===0&&(oe.alongB===-1?m(F,q):oe.alongB===0?m(F,oe.pt):oe.alongB===1&&m(F,ne)),oe.alongB===0&&(oe.alongA===-1?m(N,H):oe.alongA===0?m(N,oe.pt):oe.alongA===1&&m(N,Y));return!1}for(var k=[];!r.isEmpty();){var w=r.getHead();if(T&&T.vert(w.pt[0]),w.isStart){let F=function(){if(b){var N=A(w,b);if(N)return N}return o?A(w,o):!1};T&&T.segmentNew(w.seg,w.primary);var E=M(w),b=E.before?E.before.ev:null,o=E.after?E.after.ev:null;T&&T.tempStatus(w.seg,b?b.seg:!1,o?o.seg:!1);var P=F();if(P){if(n){var x;w.seg.myFill.below===null?x=!0:x=w.seg.myFill.above!==w.seg.myFill.below,x&&(P.seg.myFill.above=!P.seg.myFill.above)}else P.seg.otherFill=w.seg.myFill;T&&T.segmentUpdate(P.seg),w.other.remove(),w.remove()}if(r.getHead()!==w){T&&T.rewind(w.seg);continue}if(n){var x;w.seg.myFill.below===null?x=!0:x=w.seg.myFill.above!==w.seg.myFill.below,o?w.seg.myFill.below=o.seg.myFill.above:w.seg.myFill.below=S,x?w.seg.myFill.above=!w.seg.myFill.below:w.seg.myFill.above=w.seg.myFill.below}else if(w.seg.otherFill===null){var z;o?w.primary===o.primary?z=o.seg.otherFill.above:z=o.seg.myFill.above:z=w.primary?v:S,w.seg.otherFill={above:z,below:z}}T&&T.status(w.seg,b?b.seg:!1,o?o.seg:!1),w.other.status=E.insert(p.node({ev:w}))}else{var _=w.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&A(_.prev.ev,_.next.ev),T&&T.statusRemove(_.ev.seg),_.remove(),!w.primary){var G=w.seg.myFill;w.seg.myFill=w.seg.otherFill,w.seg.otherFill=G}k.push(w.seg)}r.getHead().remove()}return T&&T.done(),k}return n?{addRegion:function(S){for(var v,l=S[S.length-1],g=0;g<S.length;g++){v=l,l=S[g];var M=C.pointsCompare(v,l);M!==0&&u(d(M<0?v:l,M<0?l:v),!0)}},calculate:function(S){return f(S,!1)}}:{calculate:function(S,v,l,g){return S.forEach(function(M){u(y(M.start,M.end,M),!0)}),l.forEach(function(M){u(y(M.start,M.end,M),!1)}),f(v,g)}}}V.exports=L},26859:function(V){var B={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var n=e.root,C=e.root.next;C!==null;){if(L(C)){p.prev=C.prev,p.next=C,C.prev.next=p,C.prev=p;return}n=C,C=C.next}n.next=p,p.prev=n,p.next=null},findTransition:function(p){for(var L=e.root,n=e.root.next;n!==null&&!p(n);)L=n,n=n.next;return{before:L===e.root?null:L,after:n,insert:function(C){return C.prev=L,C.next=n,L.next=C,n!==null&&(n.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};V.exports=B},11328:function(V){function B(e,p,L){var n=[],C=[];return e.forEach(function(T){var d=T.start,y=T.end;if(p.pointsSame(d,y)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(T);var r={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=r;function a(P,x,z){return i.index=P,i.matches_head=x,i.matches_pt1=z,i===r?(i=t,!1):(i=null,!0)}for(var h=0;h<n.length;h++){var u=n[h],s=u[0];u[1];var m=u[u.length-1];if(u[u.length-2],p.pointsSame(s,d)){if(a(h,!0,!0))break}else if(p.pointsSame(s,y)){if(a(h,!0,!1))break}else if(p.pointsSame(m,d)){if(a(h,!1,!0))break}else if(p.pointsSame(m,y)&&a(h,!1,!1))break}if(i===r){n.push([d,y]),L&&L.chainNew(d,y);return}if(i===t){L&&L.chainMatch(r.index);var f=r.index,S=r.matches_pt1?y:d,v=r.matches_head,u=n[f],l=v?u[0]:u[u.length-1],g=v?u[1]:u[u.length-2],M=v?u[u.length-1]:u[0],A=v?u[u.length-2]:u[1];if(p.pointsCollinear(g,l,S)&&(v?(L&&L.chainRemoveHead(r.index,S),u.shift()):(L&&L.chainRemoveTail(r.index,S),u.pop()),l=g),p.pointsSame(M,S)){n.splice(f,1),p.pointsCollinear(A,M,l)&&(v?(L&&L.chainRemoveTail(r.index,l),u.pop()):(L&&L.chainRemoveHead(r.index,l),u.shift())),L&&L.chainClose(r.index),C.push(u);return}v?(L&&L.chainAddHead(r.index,S),u.unshift(S)):(L&&L.chainAddTail(r.index,S),u.push(S));return}function k(P){L&&L.chainReverse(P),n[P].reverse()}function w(P,x){var z=n[P],_=n[x],G=z[z.length-1],F=z[z.length-2],N=_[0],U=_[1];p.pointsCollinear(F,G,N)&&(L&&L.chainRemoveTail(P,G),z.pop(),G=F),p.pointsCollinear(G,N,U)&&(L&&L.chainRemoveHead(x,N),_.shift()),L&&L.chainJoin(P,x),n[P]=z.concat(_),n.splice(x,1)}var E=r.index,b=t.index;L&&L.chainConnect(E,b);var o=n[E].length<n[b].length;r.matches_head?t.matches_head?o?(k(E),w(E,b)):(k(b),w(b,E)):w(b,E):t.matches_head?w(E,b):o?(k(E),w(b,E)):(k(b),w(E,b))}),C}V.exports=B},55968:function(V){function B(p,L,n){var C=[];return p.forEach(function(T){var d=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);L[d]!==0&&C.push({id:n?n.segmentId():-1,start:T.start,end:T.end,myFill:{above:L[d]===1,below:L[d]===2},otherFill:null})}),n&&n.selected(C),C}var e={union:function(p,L){return B(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return B(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return B(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return B(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return B(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};V.exports=e},14847:function(V,B,e){var p=e(21630).Transform,L=e(90715);function n(){p.call(this,{readableObjectMode:!0})}n.prototype=Object.create(p.prototype),n.prototype.constructor=n,L(n.prototype),B.OF=function(T,d,y){for(var r=d,t=0;t<y.length;)if(T[r++]!==y[t++])return!1;return!0},B.eG=function(T,d){var y=[],r=0;if(d&&d==="hex")for(;r<T.length;)y.push(parseInt(T.slice(r,r+2),16)),r+=2;else for(;r<T.length;r++)y.push(T.charCodeAt(r)&255);return y},B.mP=function(T,d){return T[d]|T[d+1]<<8},B.n8=function(T,d){return T[d+1]|T[d]<<8},B.nm=function(T,d){return T[d]|T[d+1]<<8|T[d+2]<<16|T[d+3]*16777216},B.Ag=function(T,d){return T[d+3]|T[d+2]<<8|T[d+1]<<16|T[d]*16777216};function C(T,d,y){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=T,d&&(this.code=d),y&&(this.statusCode=y)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},71371:function(V){function B(L,n){var C=new Error(L);return C.code=n,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,n,C){this.input=L.subarray(n,C),this.start=n;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if(T!=="II*\0"&&T!=="MM\0*")throw B("invalid TIFF signature","EBADDATA");this.big_endian=T[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,L)}},p.prototype.read_uint16=function(L){var n=this.input;if(L+2>n.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?n[L]*256+n[L+1]:n[L]+n[L+1]*256},p.prototype.read_uint32=function(L){var n=this.input;if(L+4>n.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?n[L]*16777216+n[L+1]*65536+n[L+2]*256+n[L+3]:n[L]+n[L+1]*256+n[L+2]*65536+n[L+3]*16777216},p.prototype.is_subifd_link=function(L,n){return L===0&&n===34665||L===0&&n===34853||L===34665&&n===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,n){var C;switch(L){case 1:case 2:return C=this.input[n],C;case 6:return C=this.input[n],C|(C&128)*33554430;case 3:return C=this.read_uint16(n),C;case 8:return C=this.read_uint16(n),C|(C&32768)*131070;case 4:return C=this.read_uint32(n),C;case 9:return C=this.read_uint32(n),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,n,C){var T=this.read_uint16(n);n+=2;for(var d=0;d<T;d++){var y=this.read_uint16(n),r=this.read_uint16(n+2),t=this.read_uint32(n+4),i=this.exif_format_length(r),a=t*i,h=a<=4?n+8:this.read_uint32(n+8),u=!1;if(h+a>this.input.length)throw B("unexpected EOF","EBADDATA");for(var s=[],m=h,f=0;f<t;f++,m+=i){var S=this.exif_format_read(r,m);if(S===null){s=null;break}s.push(S)}Array.isArray(s)&&r===2&&(s=e(String.fromCharCode.apply(null,s)),s&&s[s.length-1]==="\0"&&(s=s.slice(0,-1))),this.is_subifd_link(L,y)&&Array.isArray(s)&&Number.isInteger(s[0])&&s[0]>0&&(this.ifds_to_read.push({id:y,offset:s[0]}),u=!0);var v={is_big_endian:this.big_endian,ifd:L,tag:y,format:r,count:t,entry_offset:n+this.start,data_length:a,data_offset:h+this.start,value:s,is_subifd_link:u};if(C(v)===!1){this.aborted=!0;return}n+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},V.exports.ExifParser=p,V.exports.get_orientation=function(L){var n=0;try{return new p(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return n=C.value[0],!1}),n}catch{return-1}}},76767:function(V,B,e){var p=e(14847).n8,L=e(14847).Ag;function n(a,h){if(a.length<4+h)return null;var u=L(a,h);return a.length<u+h||u<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(h+4,h+8)),data:a.slice(h+8,h+u),end:h+u}}V.exports.unbox=n;function C(a,h){for(var u=0;;){var s=n(a,u);if(!s)break;switch(s.boxtype){case"ispe":h.sizes.push({width:L(s.data,4),height:L(s.data,8)});break;case"irot":h.transforms.push({type:"irot",value:s.data[0]&3});break;case"imir":h.transforms.push({type:"imir",value:s.data[0]&1});break}u=s.end}}function T(a,h,u){for(var s=0,m=0;m<u;m++)s=s*256+(a[h+m]||0);return s}function d(a,h){for(var u=a[4]>>4&15,s=a[4]&15,m=a[5]>>4&15,f=p(a,6),S=8,v=0;v<f;v++){var l=p(a,S);S+=2;var g=p(a,S);S+=2;var M=T(a,S,m);S+=m;var A=p(a,S);if(S+=2,g===0&&A===1){var k=T(a,S,u),w=T(a,S+u,s);h.item_loc[l]={length:w,offset:k+M}}S+=A*(u+s)}}function y(a,h){for(var u=p(a,4),s=6,m=0;m<u;m++){var f=n(a,s);if(!f)break;if(f.boxtype==="infe"){for(var S=p(f.data,4),v="",l=8;l<f.data.length&&f.data[l];l++)v+=String.fromCharCode(f.data[l]);h.item_inf[v]=S}s=f.end}}function r(a,h){for(var u=0;;){var s=n(a,u);if(!s)break;s.boxtype==="ipco"&&C(s.data,h),u=s.end}}function t(a,h){for(var u=4;;){var s=n(a,u);if(!s)break;s.boxtype==="iprp"&&r(s.data,h),s.boxtype==="iloc"&&d(s.data,h),s.boxtype==="iinf"&&y(s.data,h),u=s.end}}function i(a){var h=a.reduce(function(m,f){return m.width>f.width||m.width===f.width&&m.height>f.height?m:f}),u=a.reduce(function(m,f){return m.height>f.height||m.height===f.height&&m.width>f.width?m:f}),s;return h.width>u.height||h.width===u.height&&h.height>u.width?s=h:s=u,s}V.exports.readSizeFromMeta=function(a){var h={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(t(a,h),!!h.sizes.length){var u=i(h.sizes),s=1;h.transforms.forEach(function(f){var S={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},v={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(f.type==="imir"&&(f.value===0?s=v[s]:(s=v[s],s=S[s],s=S[s])),f.type==="irot")for(var l=0;l<f.value;l++)s=S[s]});var m=null;return h.item_inf.Exif&&(m=h.item_loc[h.item_inf.Exif]),{width:u.width,height:u.height,orientation:h.transforms.length?s:null,variants:h.sizes,exif_location:m}}},V.exports.getMimeType=function(a){var h=String.fromCharCode.apply(null,a.slice(0,4)),u={};u[h]=!0;for(var s=8;s<a.length;s+=4)u[String.fromCharCode.apply(null,a.slice(s,s+4))]=!0;if(!(!u.mif1&&!u.msf1&&!u.miaf))return h==="avif"||h==="avis"||h==="avio"?{type:"avif",mime:"image/avif"}:h==="heic"||h==="heix"?{type:"heic",mime:"image/heic"}:h==="hevc"||h==="hevx"?{type:"heic",mime:"image/heic-sequence"}:u.avif||u.avis?{type:"avif",mime:"image/avif"}:u.heic||u.heix||u.hevc||u.hevx||u.heis?u.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=e(76767),T=e(71371),d=p("ftyp");V.exports=function(y){if(L(y,4,d)){var r=C.unbox(y,0);if(r){var t=C.getMimeType(r.data);if(t){for(var i,a=r.end;;){var h=C.unbox(y,a);if(!h)break;if(a=h.end,h.boxtype==="mdat")return;if(h.boxtype==="meta"){i=h.data;break}}if(i){var u=C.readSizeFromMeta(i);if(u){var s={width:u.width,height:u.height,type:t.type,mime:t.mime,wUnits:"px",hUnits:"px"};if(u.variants.length>1&&(s.variants=u.variants),u.orientation&&(s.orientation=u.orientation),u.exif_location&&u.exif_location.offset+u.exif_location.length<=y.length){var m=n(y,u.exif_location.offset),f=y.slice(u.exif_location.offset+m+4,u.exif_location.offset+u.exif_location.length),S=T.get_orientation(f);S>0&&(s.orientation=S)}return s}}}}}}},2504:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=p("BM");V.exports=function(T){if(!(T.length<26)&&L(T,0,C))return{width:n(T,18),height:n(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=p("GIF87a"),T=p("GIF89a");V.exports=function(d){if(!(d.length<10)&&!(!L(d,0,C)&&!L(d,0,T)))return{width:n(d,6),height:n(d,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(V,B,e){var p=e(14847).mP,L=0,n=1,C=16;V.exports=function(T){var d=p(T,0),y=p(T,2),r=p(T,4);if(!(d!==L||y!==n||!r)){for(var t=[],i={width:0,height:0},a=0;a<r;a++){var h=T[6+C*a]||256,u=T[6+C*a+1]||256,s={width:h,height:u};t.push(s),(h>i.width||u>i.height)&&(i=s)}return{width:i.width,height:i.height,variants:t,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(V,B,e){var p=e(14847).n8,L=e(14847).eG,n=e(14847).OF,C=e(71371),T=L("Exif\0\0");V.exports=function(d){if(!(d.length<2)&&!(d[0]!==255||d[1]!==216||d[2]!==255))for(var y=2;;){for(;;){if(d.length-y<2)return;if(d[y++]===255)break}for(var r=d[y++],t;r===255;)r=d[y++];if(208<=r&&r<=217||r===1)t=0;else if(192<=r&&r<=254){if(d.length-y<2)return;t=p(d,y)-2,y+=2}else return;if(r===217||r===218)return;var i;if(r===225&&t>=10&&n(d,y,T)&&(i=C.get_orientation(d.slice(y+6,y+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(d.length-y<t)return;var a={width:p(d,y+3),height:p(d,y+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(a.orientation=i),a}y+=t}}},6303:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=p(`PNG\r

`),T=p("IHDR");V.exports=function(d){if(!(d.length<24)&&L(d,0,C)&&L(d,12,T))return{width:n(d,16),height:n(d,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=p("8BPS\0");V.exports=function(T){if(!(T.length<22)&&L(T,0,C))return{width:n(T,18),height:n(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(V){function B(i){return i===32||i===9||i===13||i===10}function e(i){return typeof i=="number"&&isFinite(i)&&i>0}function p(i){var a=0,h=i.length;for(i[0]===239&&i[1]===187&&i[2]===191&&(a=3);a<h&&B(i[a]);)a++;return a===h?!1:i[a]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,T=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,d=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function r(i){var a=i.match(C),h=i.match(T),u=i.match(d);return{width:a&&(a[1]||a[2]),height:h&&(h[1]||h[2]),viewbox:u&&(u[1]||u[2])}}function t(i){return y.test(i)?i.match(y)[0]:"px"}V.exports=function(i){if(p(i)){for(var a="",h=0;h<i.length;h++)a+=String.fromCharCode(i[h]);var u=(a.match(L)||[""])[0];if(n.test(u)){var s=r(u),m=parseFloat(s.width),f=parseFloat(s.height);if(s.width&&s.height)return!e(m)||!e(f)?void 0:{width:m,height:f,type:"svg",mime:"image/svg+xml",wUnits:t(s.width),hUnits:t(s.height)};var S=(s.viewbox||"").split(" "),v={width:S[2],height:S[3]},l=parseFloat(v.width),g=parseFloat(v.height);if(!(!e(l)||!e(g))&&t(v.width)===t(v.height)){var M=l/g;return s.width?e(m)?{width:m,height:m/M,type:"svg",mime:"image/svg+xml",wUnits:t(s.width),hUnits:t(s.width)}:void 0:s.height?e(f)?{width:f*M,height:f,type:"svg",mime:"image/svg+xml",wUnits:t(s.height),hUnits:t(s.height)}:void 0:{width:l,height:g,type:"svg",mime:"image/svg+xml",wUnits:t(v.width),hUnits:t(v.height)}}}}}},66278:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=e(14847).n8,T=e(14847).nm,d=e(14847).Ag,y=p("II*\0"),r=p("MM\0*");function t(h,u,s){return s?C(h,u):n(h,u)}function i(h,u,s){return s?d(h,u):T(h,u)}function a(h,u,s){var m=t(h,u+2,s),f=i(h,u+4,s);return f!==1||m!==3&&m!==4?null:m===3?t(h,u+8,s):i(h,u+8,s)}V.exports=function(h){if(!(h.length<8)&&!(!L(h,0,y)&&!L(h,0,r))){var u=h[0]===77,s=i(h,4,u)-8;if(!(s<0)){var m=s+8;if(!(h.length-m<2)){var f=t(h,m+0,u)*12;if(!(f<=0)&&(m+=2,!(h.length-m<f))){var S,v,l,g;for(S=0;S<f;S+=12)g=t(h,m+S,u),g===256?v=a(h,m+S,u):g===257&&(l=a(h,m+S,u));if(v&&l)return{width:v,height:l,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=e(14847).nm,T=e(71371),d=p("RIFF"),y=p("WEBP");function r(a,h){if(!(a[h+3]!==157||a[h+4]!==1||a[h+5]!==42))return{width:n(a,h+6)&16383,height:n(a,h+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function t(a,h){if(a[h]===47){var u=C(a,h+1);return{width:(u&16383)+1,height:(u>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function i(a,h){return{width:(a[h+6]<<16|a[h+5]<<8|a[h+4])+1,height:(a[h+9]<<h|a[h+8]<<8|a[h+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}V.exports=function(a){if(!(a.length<16)&&!(!L(a,0,d)&&!L(a,8,y))){var h=12,u=null,s=0,m=C(a,4)+8;if(!(m>a.length)){for(;h+8<m;){if(a[h]===0){h++;continue}var f=String.fromCharCode.apply(null,a.slice(h,h+4)),S=C(a,h+4);f==="VP8 "&&S>=10?u=u||r(a,h+8):f==="VP8L"&&S>=9?u=u||t(a,h+8):f==="VP8X"&&S>=10?u=u||i(a,h+8):f==="EXIF"&&(s=T.get_orientation(a.slice(h+8,h+8+S)),h=1/0),h+=8+S}if(u)return s>0&&(u.orientation=s),u}}}},91497:function(V,B,e){V.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(V,B,e){var p=e(91497);function L(n){for(var C=Object.keys(p),T=0;T<C.length;T++){var d=p[C[T]](n);if(d)return d}return null}V.exports=function(C){return L(C)},V.exports.parsers=p},90386:function(V){var B=V.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=n}catch{p=n}})();function C(s){if(e===setTimeout)return setTimeout(s,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(s,0);try{return e(s,0)}catch{try{return e.call(null,s,0)}catch{return e.call(this,s,0)}}}function T(s){if(p===clearTimeout)return clearTimeout(s);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(s);try{return p(s)}catch{try{return p.call(null,s)}catch{return p.call(this,s)}}}var d=[],y=!1,r,t=-1;function i(){!y||!r||(y=!1,r.length?d=r.concat(d):t=-1,d.length&&a())}function a(){if(!y){var s=C(i);y=!0;for(var m=d.length;m;){for(r=d,d=[];++t<m;)r&&r[t].run();t=-1,m=d.length}r=null,y=!1,T(s)}}B.nextTick=function(s){var m=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)m[f-1]=arguments[f];d.push(new h(s,m)),d.length===1&&!y&&C(a)};function h(s,m){this.fun=s,this.array=m}h.prototype.run=function(){this.fun.apply(null,this.array)},B.title="browser",B.browser=!0,B.env={},B.argv=[],B.version="",B.versions={};function u(){}B.on=u,B.addListener=u,B.once=u,B.off=u,B.removeListener=u,B.removeAllListeners=u,B.emit=u,B.prependListener=u,B.prependOnceListener=u,B.listeners=function(s){return[]},B.binding=function(s){throw new Error("process.binding is not supported")},B.cwd=function(){return"/"},B.chdir=function(s){throw new Error("process.chdir is not supported")},B.umask=function(){return 0}},5877:function(V,B,e){for(var p=e(9748),L=typeof window>"u"?e.g:window,n=["moz","webkit"],C="AnimationFrame",T=L["request"+C],d=L["cancel"+C]||L["cancelRequest"+C],y=0;!T&&y<n.length;y++)T=L[n[y]+"Request"+C],d=L[n[y]+"Cancel"+C]||L[n[y]+"CancelRequest"+C];if(!T||!d){var r=0,t=0,i=[],a=1e3/60;T=function(h){if(i.length===0){var u=p(),s=Math.max(0,a-(u-r));r=s+u,setTimeout(function(){var m=i.slice(0);i.length=0;for(var f=0;f<m.length;f++)if(!m[f].cancelled)try{m[f].callback(r)}catch(S){setTimeout(function(){throw S},0)}},Math.round(s))}return i.push({handle:++t,callback:h,cancelled:!1}),t},d=function(h){for(var u=0;u<i.length;u++)i[u].handle===h&&(i[u].cancelled=!0)}}V.exports=function(h){return T.call(L,h)},V.exports.cancel=function(){d.apply(L,arguments)},V.exports.polyfill=function(h){h||(h=L),h.requestAnimationFrame=T,h.cancelAnimationFrame=d}},3593:function(V,B,e){var p=e(21527),L=e(25075),n=e(93447),C=e(71299),T=e(56131),d=e(30120),y=e(57060),r=y.float32,t=y.fract32;V.exports=a;var i=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function a(h,u){if(typeof h=="function"?(u||(u={}),u.regl=h):u=h,u.length&&(u.positions=u),h=u.regl,!h.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var s=h._gl,m,f,S,v,l,g,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},A=[];return v=h.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),f=h.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),S=h.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),l=h.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=h.buffer({usage:"static",type:"float",data:i}),b(u),m=h({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:h.prop("range"),lineWidth:h.prop("lineWidth"),capSize:h.prop("capSize"),opacity:h.prop("opacity"),scale:h.prop("scale"),translate:h.prop("translate"),scaleFract:h.prop("scaleFract"),translateFract:h.prop("translateFract"),viewport:function(P,x){return[x.viewport.x,x.viewport.y,P.viewportWidth,P.viewportHeight]}},attributes:{color:{buffer:v,offset:function(P,x){return x.offset*4},divisor:1},position:{buffer:f,offset:function(P,x){return x.offset*8},divisor:1},positionFract:{buffer:S,offset:function(P,x){return x.offset*8},divisor:1},error:{buffer:l,offset:function(P,x){return x.offset*16},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport"),stencil:!1,instances:h.prop("count"),count:i.length}),T(k,{update:b,draw:w,destroy:o,regl:h,gl:s,canvas:s.canvas,groups:A}),k;function k(P){P?b(P):P===null&&o(),w()}function w(P){if(typeof P=="number")return E(P);P&&!Array.isArray(P)&&(P=[P]),h._refresh(),A.forEach(function(x,z){if(x){if(P&&(P[z]?x.draw=!0:x.draw=!1),!x.draw){x.draw=!0;return}E(z)}})}function E(P){typeof P=="number"&&(P=A[P]),P!=null&&P&&P.count&&P.color&&P.opacity&&P.positions&&P.positions.length>1&&(P.scaleRatio=[P.scale[0]*P.viewport.width,P.scale[1]*P.viewport.height],m(P),P.after&&P.after(P))}function b(P){if(P){P.length!=null?typeof P[0]=="number"&&(P=[{positions:P}]):Array.isArray(P)||(P=[P]);var x=0,z=0;if(k.groups=A=P.map(function(H,Y){var q=A[Y];if(H)typeof H=="function"?H={after:H}:typeof H[0]=="number"&&(H={positions:H});else return q;return H=C(H,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(A[Y]=q={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},H=T({},M,H)),n(q,H,[{lineWidth:function(ne){return+ne*.5},capSize:function(ne){return+ne*.5},opacity:parseFloat,errors:function(ne){return ne=d(ne),z+=ne.length,ne},positions:function(ne,oe){return ne=d(ne,"float64"),oe.count=Math.floor(ne.length/2),oe.bounds=p(ne,2),oe.offset=x,x+=oe.count,ne}},{color:function(ne,oe){var he=oe.count;if(ne||(ne="transparent"),!Array.isArray(ne)||typeof ne[0]=="number"){var J=ne;ne=Array(he);for(var Z=0;Z<he;Z++)ne[Z]=J}if(ne.length<he)throw Error("Not enough colors");for(var se=new Uint8Array(he*4),$=0;$<he;$++){var ee=L(ne[$],"uint8");se.set(ee,$*4)}return se},range:function(ne,oe,he){var J=oe.bounds;return ne||(ne=J),oe.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],oe.translate=[-ne[0],-ne[1]],oe.scaleFract=t(oe.scale),oe.translateFract=t(oe.translate),ne},viewport:function(ne){var oe;return Array.isArray(ne)?oe={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?(oe={x:ne.x||ne.left||0,y:ne.y||ne.top||0},ne.right?oe.width=ne.right-oe.x:oe.width=ne.w||ne.width||0,ne.bottom?oe.height=ne.bottom-oe.y:oe.height=ne.h||ne.height||0):oe={x:0,y:0,width:s.drawingBufferWidth,height:s.drawingBufferHeight},oe}}]),q}),x||z){var _=A.reduce(function(H,Y,q){return H+(Y?Y.count:0)},0),G=new Float64Array(_*2),F=new Uint8Array(_*4),N=new Float32Array(_*4);A.forEach(function(H,Y){if(H){var q=H.positions,ne=H.count,oe=H.offset,he=H.color,J=H.errors;ne&&(F.set(he,oe*4),N.set(J,oe*4),G.set(q,oe*2))}});var U=r(G);f(U);var O=t(G,U);S(O),v(F),l(N)}}}function o(){f.destroy(),S.destroy(),v.destroy(),l.destroy(),g.destroy()}}},46075:function(V,B,e){var p=e(25075),L=e(21527),n=e(56131),C=e(56068),T=e(71299),d=e(30120),y=e(11474),r=e(54),t=e(57060),i=t.float32,a=t.fract32,h=e(83522),u=e(18863),s=e(6851);V.exports=m;function m(f,S){if(!(this instanceof m))return new m(f,S);if(typeof f=="function"?(S||(S={}),S.regl=f):S=f,S.length&&(S.positions=S),f=S.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=f._gl,this.regl=f,this.passes=[],this.shaders=m.shaders.has(f)?m.shaders.get(f):m.shaders.set(f,m.createShaders(f)).get(f),this.update(S)}m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new h,m.createShaders=function(f){var S=f.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),v={primitive:"triangle strip",instances:f.prop("count"),count:4,offset:0,uniforms:{miterMode:function(A,k){return k.join==="round"?2:1},miterLimit:f.prop("miterLimit"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),thickness:f.prop("thickness"),dashTexture:f.prop("dashTexture"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),dashLength:f.prop("dashLength"),viewport:function(A,k){return[k.viewport.x,k.viewport.y,A.viewportWidth,A.viewportHeight]},depth:f.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(A,k){return!k.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport")},l=f(n({vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:S,divisor:0,stride:8,offset:0},lineTop:{buffer:S,divisor:0,stride:8,offset:4},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},v)),g;try{g=f(n({cull:{enable:!0,face:"back"},vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:S,divisor:0,stride:8,offset:0},lineTop:{buffer:S,divisor:0,stride:8,offset:4},aColor:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:f.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},v))}catch{g=l}var M=f({primitive:"triangle",elements:function(A,k){return k.triangles},offset:0,vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:f.prop("scale"),color:f.prop("fill"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),viewport:function(A,k){return[k.viewport.x,k.viewport.y,A.viewportWidth,A.viewportHeight]}},attributes:{position:{buffer:f.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8}},blend:v.blend,depth:{enable:!1},scissor:v.scissor,stencil:v.stencil,viewport:v.viewport});return{fill:M,rect:l,miter:g}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var f,S=[],v=arguments.length;v--;)S[v]=arguments[v];S.length&&(f=this).update.apply(f,S),this.draw()},m.prototype.draw=function(){for(var f=this,S=[],v=arguments.length;v--;)S[v]=arguments[v];return(S.length?S:this.passes).forEach(function(l,g){var M;if(l&&Array.isArray(l))return(M=f).draw.apply(M,l);typeof l=="number"&&(l=f.passes[l]),l&&l.count>1&&l.opacity&&(f.regl._refresh(),l.fill&&l.triangles&&l.triangles.length>2&&f.shaders.fill(l),l.thickness&&(l.scale[0]*l.viewport.width>m.precisionThreshold||l.scale[1]*l.viewport.height>m.precisionThreshold||l.join==="rect"||!l.join&&(l.thickness<=2||l.count>=m.maxPoints)?f.shaders.rect(l):f.shaders.miter(l)))}),this},m.prototype.update=function(f){var S=this;if(f){f.length!=null?typeof f[0]=="number"&&(f=[{positions:f}]):Array.isArray(f)||(f=[f]);var v=this,l=v.regl,g=v.gl;if(f.forEach(function(E,b){var o=S.passes[b];if(E!==void 0){if(E===null){S.passes[b]=null;return}if(typeof E[0]=="number"&&(E={positions:E}),E=T(E,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),o||(S.passes[b]=o={id:b,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:l.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},E=n({},m.defaults,E)),E.thickness!=null&&(o.thickness=parseFloat(E.thickness)),E.opacity!=null&&(o.opacity=parseFloat(E.opacity)),E.miterLimit!=null&&(o.miterLimit=parseFloat(E.miterLimit)),E.overlay!=null&&(o.overlay=!!E.overlay,b<m.maxLines&&(o.depth=2*(m.maxLines-1-b%m.maxLines)/m.maxLines-1)),E.join!=null&&(o.join=E.join),E.hole!=null&&(o.hole=E.hole),E.fill!=null&&(o.fill=E.fill?p(E.fill,"uint8"):null),E.viewport!=null&&(o.viewport=u(E.viewport)),o.viewport||(o.viewport=u([g.drawingBufferWidth,g.drawingBufferHeight])),E.close!=null&&(o.close=E.close),E.positions===null&&(E.positions=[]),E.positions){var P,x;if(E.positions.x&&E.positions.y){var z=E.positions.x,_=E.positions.y;x=o.count=Math.max(z.length,_.length),P=new Float64Array(x*2);for(var G=0;G<x;G++)P[G*2]=z[G],P[G*2+1]=_[G]}else P=d(E.positions,"float64"),x=o.count=Math.floor(P.length/2);var F=o.bounds=L(P,2);if(o.fill){for(var N=[],U={},O=0,H=0,Y=0,q=o.count;H<q;H++){var ne=P[H*2],oe=P[H*2+1];isNaN(ne)||isNaN(oe)||ne==null||oe==null?(ne=P[O*2],oe=P[O*2+1],U[H]=O):O=H,N[Y++]=ne,N[Y++]=oe}if(E.splitNull){o.count-1 in U||(U[o.count]=o.count-1);var he=Object.keys(U).map(Number).sort(function(Ne,ke){return Ne-ke}),J=[],Z=0,se=o.hole!=null?o.hole[0]:null;if(se!=null){var $=s(he,function(Ne){return Ne>=se});he=he.slice(0,$),he.push(se)}for(var ee=function(Ne){var ke=N.slice(Z*2,he[Ne]*2).concat(se?N.slice(se*2):[]),we=(o.hole||[]).map(function(Me){return Me-se+(he[Ne]-Z)}),me=y(ke,we);me=me.map(function(Me){return Me+Z+(Me+Z<he[Ne]?0:se-he[Ne])}),J.push.apply(J,me),Z=he[Ne]+1},le=0;le<he.length;le++)ee(le);for(var Q=0,K=J.length;Q<K;Q++)U[J[Q]]!=null&&(J[Q]=U[J[Q]]);o.triangles=J}else{for(var ue=y(N,o.hole||[]),ie=0,ce=ue.length;ie<ce;ie++)U[ue[ie]]!=null&&(ue[ie]=U[ue[ie]]);o.triangles=ue}}var xe=new Float64Array(P);r(xe,2,F);var Le=new Float64Array(x*2+6);o.close?P[0]===P[x*2-2]&&P[1]===P[x*2-1]?(Le[0]=xe[x*2-4],Le[1]=xe[x*2-3]):(Le[0]=xe[x*2-2],Le[1]=xe[x*2-1]):(Le[0]=xe[0],Le[1]=xe[1]),Le.set(xe,2),o.close?P[0]===P[x*2-2]&&P[1]===P[x*2-1]?(Le[x*2+2]=xe[2],Le[x*2+3]=xe[3],o.count-=1):(Le[x*2+2]=xe[0],Le[x*2+3]=xe[1],Le[x*2+4]=xe[2],Le[x*2+5]=xe[3]):(Le[x*2+2]=xe[x*2-2],Le[x*2+3]=xe[x*2-1],Le[x*2+4]=xe[x*2-2],Le[x*2+5]=xe[x*2-1]);var Ae=i(Le);o.positionBuffer(Ae);var Oe=a(Le,Ae);o.positionFractBuffer(Oe)}if(E.range?o.range=E.range:o.range||(o.range=o.bounds),(E.range||E.positions)&&o.count){var ze=o.bounds,Ee=ze[2]-ze[0],be=ze[3]-ze[1],Ce=o.range[2]-o.range[0],Ue=o.range[3]-o.range[1];o.scale=[Ee/Ce,be/Ue],o.translate=[-o.range[0]/Ce+ze[0]/Ce||0,-o.range[1]/Ue+ze[1]/Ue||0],o.scaleFract=a(o.scale),o.translateFract=a(o.translate)}if(E.dashes){var He=0,Ie;if(!E.dashes||E.dashes.length<2)He=1,Ie=new Uint8Array([255,255,255,255,255,255,255,255]);else{He=0;for(var Ge=0;Ge<E.dashes.length;++Ge)He+=E.dashes[Ge];Ie=new Uint8Array(He*m.dashMult);for(var at=0,lt=255,qe=0;qe<2;qe++)for(var et=0;et<E.dashes.length;++et){for(var ft=0,dt=E.dashes[et]*m.dashMult*.5;ft<dt;++ft)Ie[at++]=lt;lt^=255}}o.dashLength=He,o.dashTexture({channels:1,data:Ie,width:Ie.length,height:1,mag:"linear",min:"linear"},0,0)}if(E.color){var pt=o.count,At=E.color;At||(At="transparent");var Pt=new Uint8Array(pt*4+4);if(!Array.isArray(At)||typeof At[0]=="number")for(var Ht=p(At,"uint8"),Je=0;Je<pt+1;Je++)Pt.set(Ht,Je*4);else{for(var We=0;We<pt;We++){var _e=p(At[We],"uint8");Pt.set(_e,We*4)}Pt.set(p(At[0],"uint8"),pt*4)}o.colorBuffer({usage:"dynamic",type:"uint8",data:Pt})}}}),f.length<this.passes.length){for(var M=f.length;M<this.passes.length;M++){var A=this.passes[M];A&&(A.colorBuffer.destroy(),A.positionBuffer.destroy(),A.dashTexture.destroy())}this.passes.length=f.length}for(var k=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&k.push(this.passes[w]);return this.passes=k,this}},m.prototype.destroy=function(){return this.passes.forEach(function(f){f.colorBuffer.destroy(),f.positionBuffer.destroy(),f.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(V,B,e){function p(o,P){var x=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(x!=null){var z,_,G,F,N=[],U=!0,O=!1;try{if(G=(x=x.call(o)).next,P===0){if(Object(x)!==x)return;U=!1}else for(;!(U=(z=G.call(x)).done)&&(N.push(z.value),N.length!==P);U=!0);}catch(H){O=!0,_=H}finally{try{if(!U&&x.return!=null&&(F=x.return(),Object(F)!==F))return}finally{if(O)throw _}}return N}}function L(o,P){return T(o)||p(o,P)||y(o,P)||i()}function n(o){return C(o)||d(o)||y(o)||t()}function C(o){if(Array.isArray(o))return r(o)}function T(o){if(Array.isArray(o))return o}function d(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function y(o,P){if(o){if(typeof o=="string")return r(o,P);var x=Object.prototype.toString.call(o).slice(8,-1);if(x==="Object"&&o.constructor&&(x=o.constructor.name),x==="Map"||x==="Set")return Array.from(o);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return r(o,P)}}function r(o,P){(P==null||P>o.length)&&(P=o.length);for(var x=0,z=new Array(P);x<P;x++)z[x]=o[x];return z}function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=e(25075),h=e(21527),u=e(6475),s=e(88294),m=e(56131),f=e(56068),S=e(71299),v=e(93447),l=e(30120),g=e(62683),M=e(57060),A=e(18863),k=w;function w(o,P){var x=this;if(!(this instanceof w))return new w(o,P);typeof o=="function"?(P||(P={}),P.regl=o):(P=o,o=null),P&&P.length&&(P.positions=P),o=P.regl;var z=o._gl,_,G=[],F={},N=[],U=[null],O=[null],H=255,Y=100;this.tooManyColors=g,_=o.texture({data:new Uint8Array(H*4),width:H,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:o,gl:z,groups:N,markerCache:O,markerTextures:U,palette:G,paletteIds:F,paletteTexture:_,maxColors:H,maxSize:Y,canvas:z.canvas}),this.update(P);var q={uniforms:{constPointSize:!!P.constPointSize,opacity:o.prop("opacity"),paletteSize:function(J,Z){return[x.tooManyColors?0:H,_.height]},pixelRatio:o.context("pixelRatio"),scale:o.prop("scale"),scaleFract:o.prop("scaleFract"),translate:o.prop("translate"),translateFract:o.prop("translateFract"),markerTexture:o.prop("markerTexture"),paletteTexture:_},attributes:{x:function(J,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function(J,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function(J,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function(J,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function(J,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/x.maxSize)]}},borderSize:function(J,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/x.maxSize)]}},colorId:function(J,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:x.tooManyColors?8:4,offset:0}:{constant:x.tooManyColors?G.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function(J,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:x.tooManyColors?8:4,offset:x.tooManyColors?4:2}:{constant:x.tooManyColors?G.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function(J,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:o.prop("elements"),count:o.prop("count"),offset:o.prop("offset"),primitive:"points"},ne=m({},q);ne.frag=f([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ne.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}
`]),this.drawMarker=o(ne);var oe=m({},q);oe.frag=f([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),oe.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

// \`invariant\` effectively turns off optimizations for the position.
// We need this because -fast-math on M1 Macs is re-ordering
// floating point operations in a way that causes floating point
// precision limits to put points in the wrong locations.
invariant gl_Position;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),g&&(oe.frag=oe.frag.replace("smoothstep","smoothStep"),ne.frag=ne.frag.replace("smoothstep","smoothStep")),this.drawCircle=o(oe)}w.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},w.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},w.prototype.draw=function(){for(var o=this,P=arguments.length,x=new Array(P),z=0;z<P;z++)x[z]=arguments[z];var _=this.groups;if(x.length===1&&Array.isArray(x[0])&&(x[0][0]===null||Array.isArray(x[0][0]))&&(x=x[0]),this.regl._refresh(),x.length)for(var G=0;G<x.length;G++)this.drawItem(G,x[G]);else _.forEach(function(F,N){o.drawItem(N)});return this},w.prototype.drawItem=function(o,P){var x=this.groups,z=x[o];if(typeof P=="number"&&(o=P,z=x[P],P=null),!!(z&&z.count&&z.opacity)){z.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,z,P));for(var _=[],G=1;G<z.activation.length;G++)!z.activation[G]||z.activation[G]!==!0&&!z.activation[G].data.length||_.push.apply(_,n(this.getMarkerDrawOptions(G,z,P)));_.length&&this.drawMarker(_)}},w.prototype.getMarkerDrawOptions=function(o,P,x){var z=P.range,_=P.tree,G=P.viewport,F=P.activation,N=P.selectionBuffer,U=P.count;if(this.regl,!_)return x?[m({},P,{markerTexture:this.markerTextures[o],activation:F[o],count:x.length,elements:x,offset:0})]:[m({},P,{markerTexture:this.markerTextures[o],activation:F[o],offset:0})];var O=[],H=_.range(z,{lod:!0,px:[(z[2]-z[0])/G.width,(z[3]-z[1])/G.height]});if(x){for(var Y=F[o],q=Y.data,ne=new Uint8Array(U),oe=0;oe<x.length;oe++){var he=x[oe];ne[he]=q?q[he]:1}N.subdata(ne)}for(var J=H.length;J--;){var Z=L(H[J],2),se=Z[0],$=Z[1];O.push(m({},P,{markerTexture:this.markerTextures[o],activation:x?N:F[o],offset:se,count:$-se}))}return O},w.prototype.update=function(){for(var o=this,P=arguments.length,x=new Array(P),z=0;z<P;z++)x[z]=arguments[z];if(x.length){x.length===1&&Array.isArray(x[0])&&(x=x[0]);var _=this.groups,G=this.gl,F=this.regl,N=this.maxSize,U=this.maxColors,O=this.palette;this.groups=_=x.map(function(H,Y){var q=_[Y];if(H===void 0)return q;H===null?H={positions:null}:typeof H=="function"?H={ondraw:H}:typeof H[0]=="number"&&(H={positions:H}),H=S(H,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),H.positions===null&&(H.positions=[]),H.tooManyColors!=null&&(o.tooManyColors=H.tooManyColors),q||(_[Y]=q={id:Y,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:F.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:F.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},H=m({},w.defaults,H)),H.positions&&!("marker"in H)&&(H.marker=q.marker,delete q.marker),H.marker&&!("positions"in H)&&(H.positions=q.positions,delete q.positions);var ne=0,oe=0;if(v(q,H,[{snap:!0,size:function(be,Ce){return be==null&&(be=w.defaults.size),ne+=be&&be.length?1:0,be},borderSize:function(be,Ce){return be==null&&(be=w.defaults.borderSize),ne+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,Ce){return be==null&&(be=w.defaults.color),be=o.updateColor(be),oe++,be},borderColor:function(be,Ce){return be==null&&(be=w.defaults.borderColor),be=o.updateColor(be),oe++,be},bounds:function(be,Ce,Ue){return"range"in Ue||(Ue.range=null),be},positions:function(be,Ce,Ue){var He=Ce.snap,Ie=Ce.positionBuffer,Ge=Ce.positionFractBuffer,at=Ce.selectionBuffer;if(be.x||be.y)return be.x.length?Ce.xAttr={buffer:F.buffer(be.x),offset:0,stride:4,count:be.x.length}:Ce.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?Ce.yAttr={buffer:F.buffer(be.y),offset:0,stride:4,count:be.y.length}:Ce.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},Ce.count=Math.max(Ce.xAttr.count,Ce.yAttr.count),be;be=l(be,"float64");var lt=Ce.count=Math.floor(be.length/2),qe=Ce.bounds=lt?h(be,2):null;if(!Ue.range&&!Ce.range&&(delete Ce.range,Ue.range=qe),!Ue.marker&&!Ce.marker&&(delete Ce.marker,Ue.marker=null),He&&(He===!0||lt>He)?Ce.tree=s(be,{bounds:qe}):He&&He.length&&(Ce.tree=He),Ce.tree){var et={primitive:"points",usage:"static",data:Ce.tree,type:"uint32"};Ce.elements?Ce.elements(et):Ce.elements=F.elements(et)}var ft=M.float32(be);Ie({data:ft,usage:"dynamic"});var dt=M.fract32(be,ft);return Ge({data:dt,usage:"dynamic"}),at({data:new Uint8Array(lt),type:"uint8",usage:"stream"}),be}},{marker:function(be,Ce,Ue){var He=Ce.activation;if(He.forEach(function(dt){return dt&&dt.destroy&&dt.destroy()}),He.length=0,!be||typeof be[0]=="number"){var Ie=o.addMarker(be);He[Ie]=!0}else{for(var Ge=[],at=0,lt=Math.min(be.length,Ce.count);at<lt;at++){var qe=o.addMarker(be[at]);Ge[qe]||(Ge[qe]=new Uint8Array(Ce.count)),Ge[qe][at]=1}for(var et=0;et<Ge.length;et++)if(Ge[et]){var ft={data:Ge[et],type:"uint8",usage:"static"};He[et]?He[et](ft):He[et]=F.buffer(ft),He[et].data=Ge[et]}}return be},range:function(be,Ce,Ue){var He=Ce.bounds;if(He)return be||(be=He),Ce.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],Ce.translate=[-be[0],-be[1]],Ce.scaleFract=M.fract(Ce.scale),Ce.translateFract=M.fract(Ce.translate),be},viewport:function(be){var Ce=A(be||[G.drawingBufferWidth,G.drawingBufferHeight]);return Ce}}]),ne){var he=q,J=he.count,Z=he.size,se=he.borderSize,$=he.sizeBuffer,ee=new Uint8Array(J*2);if(Z.length||se.length)for(var le=0;le<J;le++)ee[le*2]=Math.round((Z[le]==null?Z:Z[le])*255/N),ee[le*2+1]=Math.round((se[le]==null?se:se[le])*255/N);$({data:ee,usage:"dynamic"})}if(oe){var Q=q,K=Q.count,ue=Q.color,ie=Q.borderColor,ce=Q.colorBuffer,xe;if(o.tooManyColors){if(ue.length||ie.length){xe=new Uint8Array(K*8);for(var Le=0;Le<K;Le++){var Ae=ue[Le];xe[Le*8]=O[Ae*4],xe[Le*8+1]=O[Ae*4+1],xe[Le*8+2]=O[Ae*4+2],xe[Le*8+3]=O[Ae*4+3];var Oe=ie[Le];xe[Le*8+4]=O[Oe*4],xe[Le*8+5]=O[Oe*4+1],xe[Le*8+6]=O[Oe*4+2],xe[Le*8+7]=O[Oe*4+3]}}}else if(ue.length||ie.length){xe=new Uint8Array(K*4+2);for(var ze=0;ze<K;ze++)ue[ze]!=null&&(xe[ze*4]=ue[ze]%U,xe[ze*4+1]=Math.floor(ue[ze]/U)),ie[ze]!=null&&(xe[ze*4+2]=ie[ze]%U,xe[ze*4+3]=Math.floor(ie[ze]/U))}ce({data:xe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return q})}},w.prototype.addMarker=function(o){var P=this.markerTextures,x=this.regl,z=this.markerCache,_=o==null?0:z.indexOf(o);if(_>=0)return _;var G;if(o instanceof Uint8Array||o instanceof Uint8ClampedArray)G=o;else{G=new Uint8Array(o.length);for(var F=0,N=o.length;F<N;F++)G[F]=o[F]*255}var U=Math.floor(Math.sqrt(G.length));return _=P.length,z.push(o),P.push(x.texture({channels:1,data:G,radius:U,mag:"linear",min:"linear"})),_},w.prototype.updateColor=function(o){var P=this.paletteIds,x=this.palette,z=this.maxColors;Array.isArray(o)||(o=[o]);var _=[];if(typeof o[0]=="number"){var G=[];if(Array.isArray(o))for(var F=0;F<o.length;F+=4)G.push(o.slice(F,F+4));else for(var N=0;N<o.length;N+=4)G.push(o.subarray(N,N+4));o=G}for(var U=0;U<o.length;U++){var O=o[U];O=a(O,"uint8");var H=u(O,!1);if(P[H]==null){var Y=x.length;P[H]=Math.floor(Y/4),x[Y]=O[0],x[Y+1]=O[1],x[Y+2]=O[2],x[Y+3]=O[3]}_[U]=P[H]}return!this.tooManyColors&&x.length>z*4&&(this.tooManyColors=!0),this.updatePalette(x),_.length===1?_[0]:_},w.prototype.updatePalette=function(o){if(!this.tooManyColors){var P=this.maxColors,x=this.paletteTexture,z=Math.ceil(o.length*.25/P);if(z>1){o=o.slice();for(var _=o.length*.25%P;_<z*P;_++)o.push(0,0,0,0)}x.height<z&&x.resize(P,z),x.subimage({width:Math.min(o.length*.25,P),height:z,data:o},0,0)}},w.prototype.destroy=function(){return this.groups.forEach(function(o){o.sizeBuffer.destroy(),o.positionBuffer.destroy(),o.positionFractBuffer.destroy(),o.colorBuffer.destroy(),o.activation.forEach(function(P){return P&&P.destroy&&P.destroy()}),o.selectionBuffer.destroy(),o.elements&&o.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(o){return o&&o.destroy&&o.destroy()}),this};var E=e(56131),b=function(P,x){var z=new k(P,x),_=z.render.bind(z);return E(_,{render:_,update:z.update.bind(z),draw:z.draw.bind(z),destroy:z.destroy.bind(z),regl:z.regl,gl:z.gl,canvas:z.gl.canvas,groups:z.groups,markers:z.markerCache,palette:z.palette}),_};V.exports=b},60487:function(V,B,e){var p=e(11870),L=e(71299),n=e(21527),C=e(5877),T=e(57471),d=e(18863),y=e(30120);V.exports=r;function r(h,u){if(!(this instanceof r))return new r(h);this.traces=[],this.passes={},this.regl=h,this.scatter=p(h),this.canvas=this.scatter.canvas}r.prototype.render=function(){for(var h=this,u,s=[],m=arguments.length;m--;)s[m]=arguments[m];return s.length&&(u=this).update.apply(u,s),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){h.draw(),h.dirty=!0,h.planned=null})):(this.draw(),this.dirty=!0,C(function(){h.dirty=!1})),this)},r.prototype.update=function(){for(var h,u=[],s=arguments.length;s--;)u[s]=arguments[s];if(u.length){for(var m=0;m<u.length;m++)this.updateItem(m,u[m]);this.traces=this.traces.filter(Boolean);for(var f=[],S=0,v=0;v<this.traces.length;v++){for(var l=this.traces[v],g=this.traces[v].passes,M=0;M<g.length;M++)f.push(this.passes[g[M]]);l.passOffset=S,S+=l.passes.length}return(h=this.scatter).update.apply(h,f),this}},r.prototype.updateItem=function(h,u){var s=this,m=s.regl;if(u===null)return this.traces[h]=null,this;if(!u)return this;var f=L(u,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),S=this.traces[h]||(this.traces[h]={id:h,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:d([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(f.color!=null&&(S.color=f.color),f.size!=null&&(S.size=f.size),f.marker!=null&&(S.marker=f.marker),f.borderColor!=null&&(S.borderColor=f.borderColor),f.borderSize!=null&&(S.borderSize=f.borderSize),f.opacity!=null&&(S.opacity=f.opacity),f.viewport&&(S.viewport=d(f.viewport)),f.diagonal!=null&&(S.diagonal=f.diagonal),f.upper!=null&&(S.upper=f.upper),f.lower!=null&&(S.lower=f.lower),f.data){S.buffer(y(f.data)),S.columns=f.data.length,S.count=f.data[0].length,S.bounds=[];for(var v=0;v<S.columns;v++)S.bounds[v]=n(f.data[v],1)}var l;f.range&&(S.range=f.range,l=S.range&&typeof S.range[0]!="number"),f.domain&&(S.domain=f.domain);var g=!1;f.padding!=null&&(Array.isArray(f.padding)&&f.padding.length===S.columns&&typeof f.padding[f.padding.length-1]=="number"?(S.padding=f.padding.map(a),g=!0):S.padding=a(f.padding));var M=S.columns,A=S.count,k=S.viewport.width,w=S.viewport.height,E=S.viewport.x,b=S.viewport.y,o=k/M,P=w/M;S.passes=[];for(var x=0;x<M;x++)for(var z=0;z<M;z++)if(!(!S.diagonal&&z===x)&&!(!S.upper&&x>z)&&!(!S.lower&&x<z)){var _=t(S.id,x,z),G=this.passes[_]||(this.passes[_]={});if(f.data&&(f.transpose?G.positions={x:{buffer:S.buffer,offset:z,count:A,stride:M},y:{buffer:S.buffer,offset:x,count:A,stride:M}}:G.positions={x:{buffer:S.buffer,offset:z*A,count:A},y:{buffer:S.buffer,offset:x*A,count:A}},G.bounds=i(S.bounds,x,z)),f.domain||f.viewport||f.data){var F=g?i(S.padding,x,z):S.padding;if(S.domain){var N=i(S.domain,x,z),U=N[0],O=N[1],H=N[2],Y=N[3];G.viewport=[E+U*k+F[0],b+O*w+F[1],E+H*k-F[2],b+Y*w-F[3]]}else G.viewport=[E+z*o+o*F[0],b+x*P+P*F[1],E+(z+1)*o-o*F[2],b+(x+1)*P-P*F[3]]}f.color&&(G.color=S.color),f.size&&(G.size=S.size),f.marker&&(G.marker=S.marker),f.borderSize&&(G.borderSize=S.borderSize),f.borderColor&&(G.borderColor=S.borderColor),f.opacity&&(G.opacity=S.opacity),f.range&&(G.range=l?i(S.range,x,z):S.range||G.bounds),S.passes.push(_)}return this},r.prototype.draw=function(){for(var h,u=[],s=arguments.length;s--;)u[s]=arguments[s];if(!u.length)this.scatter.draw();else{for(var m=[],f=0;f<u.length;f++)if(typeof u[f]=="number"){var S=this.traces[u[f]],v=S.passes,l=S.passOffset;m.push.apply(m,T(l,l+v.length))}else if(u[f].length){var g=u[f],M=this.traces[f],A=M.passes,k=M.passOffset;A=A.map(function(w,E){m[k+E]=g})}(h=this.scatter).draw.apply(h,m)}return this},r.prototype.destroy=function(){return this.traces.forEach(function(h){h.buffer&&h.buffer.destroy&&h.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function t(h,u,s){var m=h.id!=null?h.id:h,f=u,S=s,v=m<<16|(f&255)<<8|S&255;return v}function i(h,u,s){var m,f,S,v,l=h[u],g=h[s];return l.length>2?(l[0],l[2],m=l[1],f=l[3]):l.length?(m=l[0],f=l[1]):(l.x,m=l.y,l.x+l.width,f=l.y+l.height),g.length>2?(S=g[0],v=g[2],g[1],g[3]):g.length?(S=g[0],v=g[1]):(S=g.x,g.y,v=g.x+g.width,g.y+g.height),[S,m,v,f]}function a(h){if(typeof h=="number")return[h,h,h,h];if(h.length===2)return[h[0],h[1],h[0],h[1]];var u=d(h);return[u.x,u.y,u.x+u.width,u.y+u.height]}},98580:function(V){(function(B,e){V.exports=e()})(this,function(){function B(yt,Zt){this.id=ce++,this.type=yt,this.data=Zt}function e(yt){if(yt.length===0)return[];var Zt=yt.charAt(0),Jt=yt.charAt(yt.length-1);if(1<yt.length&&Zt===Jt&&(Zt==='"'||Zt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Zt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,Zt.index)).concat(e(Zt[1])).concat(e(yt.substr(Zt.index+Zt[0].length)));if(Zt=yt.split("."),Zt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],Jt=0;Jt<Zt.length;++Jt)yt=yt.concat(e(Zt[Jt]));return yt}function p(yt){return"["+e(yt).join("][")+"]"}function L(yt,Zt){if(typeof yt=="function")return new B(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new B(5,yt);if(Array.isArray(yt))return new B(6,yt.map(function(Jt,mr){return L(Jt)}));if(yt instanceof B)return yt}function n(){var yt={"":0},Zt=[""];return{id:function(Jt){var mr=yt[Jt];return mr||(mr=yt[Jt]=Zt.length,Zt.push(Jt),mr)},str:function(Jt){return Zt[Jt]}}}function C(yt,Zt,Jt){function mr(){var it=window.innerWidth,xt=window.innerHeight;yt!==document.body&&(xt=sr.getBoundingClientRect(),it=xt.right-xt.left,xt=xt.bottom-xt.top),sr.width=Jt*it,sr.height=Jt*xt}var sr=document.createElement("canvas");ie(sr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(sr),yt===document.body&&(sr.style.position="absolute",ie(yt.style,{margin:0,padding:0}));var vt;return yt!==document.body&&typeof ResizeObserver=="function"?(vt=new ResizeObserver(function(){setTimeout(mr)}),vt.observe(yt)):window.addEventListener("resize",mr,!1),mr(),{canvas:sr,onDestroy:function(){vt?vt.disconnect():window.removeEventListener("resize",mr),yt.removeChild(sr)}}}function T(yt,Zt){function Jt(mr){try{return yt.getContext(mr,Zt)}catch{return null}}return Jt("webgl")||Jt("experimental-webgl")||Jt("webgl-experimental")}function d(yt){return typeof yt=="string"?yt.split():yt}function y(yt){return typeof yt=="string"?document.querySelector(yt):yt}function r(yt){var Zt=yt||{},Jt,mr,sr,vt;yt={};var it=[],xt=[],St=typeof window>"u"?1:window.devicePixelRatio,Rt=!1,Lt={},Ot=function(Xt){},Nt=function(){};if(typeof Zt=="string"?Jt=document.querySelector(Zt):typeof Zt=="object"&&(typeof Zt.nodeName=="string"&&typeof Zt.appendChild=="function"&&typeof Zt.getBoundingClientRect=="function"?Jt=Zt:typeof Zt.drawArrays=="function"||typeof Zt.drawElements=="function"?(vt=Zt,sr=vt.canvas):("gl"in Zt?vt=Zt.gl:"canvas"in Zt?sr=y(Zt.canvas):"container"in Zt&&(mr=y(Zt.container)),"attributes"in Zt&&(yt=Zt.attributes),"extensions"in Zt&&(it=d(Zt.extensions)),"optionalExtensions"in Zt&&(xt=d(Zt.optionalExtensions)),"onDone"in Zt&&(Ot=Zt.onDone),"profile"in Zt&&(Rt=!!Zt.profile),"pixelRatio"in Zt&&(St=+Zt.pixelRatio),"cachedCode"in Zt&&(Lt=Zt.cachedCode))),Jt&&(Jt.nodeName.toLowerCase()==="canvas"?sr=Jt:mr=Jt),!vt){if(!sr){if(Jt=C(mr||document.body,Ot,St),!Jt)return null;sr=Jt.canvas,Nt=Jt.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),vt=T(sr,yt)}return vt?{gl:vt,canvas:sr,container:mr,extensions:it,optionalExtensions:xt,pixelRatio:St,profile:Rt,cachedCode:Lt,onDone:Ot,onDestroy:Nt}:(Nt(),Ot("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function t(yt,Zt){function Jt(it){it=it.toLowerCase();var xt;try{xt=mr[it]=yt.getExtension(it)}catch{}return!!xt}for(var mr={},sr=0;sr<Zt.extensions.length;++sr){var vt=Zt.extensions[sr];if(!Jt(vt))return Zt.onDestroy(),Zt.onDone('"'+vt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Zt.optionalExtensions.forEach(Jt),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(it){if(mr[it]&&!Jt(it))throw Error("(regl): error restoring extension "+it)})}}}function i(yt,Zt){for(var Jt=Array(yt),mr=0;mr<yt;++mr)Jt[mr]=Zt(mr);return Jt}function a(yt){var Zt,Jt;return Zt=(65535<yt)<<4,yt>>>=Zt,Jt=(255<yt)<<3,yt>>>=Jt,Zt|=Jt,Jt=(15<yt)<<2,yt>>>=Jt,Zt|=Jt,Jt=(3<yt)<<1,Zt|Jt|yt>>>Jt>>1}function h(){function yt(mr){e:{for(var sr=16;268435456>=sr;sr*=16)if(mr<=sr){mr=sr;break e}mr=0}return sr=Jt[a(mr)>>2],0<sr.length?sr.pop():new ArrayBuffer(mr)}function Zt(mr){Jt[a(mr.byteLength)>>2].push(mr)}var Jt=i(8,function(){return[]});return{alloc:yt,free:Zt,allocType:function(mr,sr){var vt=null;switch(mr){case 5120:vt=new Int8Array(yt(sr),0,sr);break;case 5121:vt=new Uint8Array(yt(sr),0,sr);break;case 5122:vt=new Int16Array(yt(2*sr),0,sr);break;case 5123:vt=new Uint16Array(yt(2*sr),0,sr);break;case 5124:vt=new Int32Array(yt(4*sr),0,sr);break;case 5125:vt=new Uint32Array(yt(4*sr),0,sr);break;case 5126:vt=new Float32Array(yt(4*sr),0,sr);break;default:return null}return vt.length!==sr?vt.subarray(0,sr):vt},freeType:function(mr){Zt(mr.buffer)}}}function u(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Ee(yt.data))}function s(yt,Zt,Jt,mr,sr,vt){for(var it=0;it<Zt;++it)for(var xt=yt[it],St=0;St<Jt;++St)for(var Rt=xt[St],Lt=0;Lt<mr;++Lt)sr[vt++]=Rt[Lt]}function m(yt,Zt,Jt,mr,sr){for(var vt=1,it=Jt+1;it<Zt.length;++it)vt*=Zt[it];var xt=Zt[Jt];if(Zt.length-Jt===4){var St=Zt[Jt+1],Rt=Zt[Jt+2];for(Zt=Zt[Jt+3],it=0;it<xt;++it)s(yt[it],St,Rt,Zt,mr,sr),sr+=vt}else for(it=0;it<xt;++it)m(yt[it],Zt,Jt+1,mr,sr),sr+=vt}function f(yt){return Ue[Object.prototype.toString.call(yt)]|0}function S(yt,Zt){for(var Jt=0;Jt<Zt.length;++Jt)yt[Jt]=Zt[Jt]}function v(yt,Zt,Jt,mr,sr,vt,it){for(var xt=0,St=0;St<Jt;++St)for(var Rt=0;Rt<mr;++Rt)yt[xt++]=Zt[sr*St+vt*Rt+it]}function l(yt,Zt,Jt,mr){function sr(Ot){this.id=St++,this.buffer=yt.createBuffer(),this.type=Ot,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Jt.profile&&(this.stats={size:0})}function vt(Ot,Nt,Xt){Ot.byteLength=Nt.byteLength,yt.bufferData(Ot.type,Nt,Xt)}function it(Ot,Nt,Xt,ur,cr,dr){if(Ot.usage=Xt,Array.isArray(Nt)){if(Ot.dtype=ur||5126,0<Nt.length)if(Array.isArray(Nt[0])){cr=at(Nt);for(var Ye=ur=1;Ye<cr.length;++Ye)ur*=cr[Ye];Ot.dimension=ur,Nt=Ge(Nt,cr,Ot.dtype),vt(Ot,Nt,Xt),dr?Ot.persistentData=Nt:Oe.freeType(Nt)}else typeof Nt[0]=="number"?(Ot.dimension=cr,cr=Oe.allocType(Ot.dtype,Nt.length),S(cr,Nt),vt(Ot,cr,Xt),dr?Ot.persistentData=cr:Oe.freeType(cr)):Ee(Nt[0])&&(Ot.dimension=Nt[0].length,Ot.dtype=ur||f(Nt[0])||5126,Nt=Ge(Nt,[Nt.length,Nt[0].length],Ot.dtype),vt(Ot,Nt,Xt),dr?Ot.persistentData=Nt:Oe.freeType(Nt))}else if(Ee(Nt))Ot.dtype=ur||f(Nt),Ot.dimension=cr,vt(Ot,Nt,Xt),dr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(u(Nt)){cr=Nt.shape;var je=Nt.stride,Ye=Nt.offset,It=0,Dt=0,Yt=0,tr=0;cr.length===1?(It=cr[0],Dt=1,Yt=je[0],tr=0):cr.length===2&&(It=cr[0],Dt=cr[1],Yt=je[0],tr=je[1]),Ot.dtype=ur||f(Nt.data)||5126,Ot.dimension=Dt,cr=Oe.allocType(Ot.dtype,It*Dt),v(cr,Nt.data,It,Dt,Yt,tr,Ye),vt(Ot,cr,Xt),dr?Ot.persistentData=cr:Oe.freeType(cr)}else Nt instanceof ArrayBuffer&&(Ot.dtype=5121,Ot.dimension=cr,vt(Ot,Nt,Xt),dr&&(Ot.persistentData=new Uint8Array(new Uint8Array(Nt))))}function xt(Ot){Zt.bufferCount--,mr(Ot),yt.deleteBuffer(Ot.buffer),Ot.buffer=null,delete Rt[Ot.id]}var St=0,Rt={};sr.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},sr.prototype.destroy=function(){xt(this)};var Lt=[];return Jt.profile&&(Zt.getTotalBufferSize=function(){var Ot=0;return Object.keys(Rt).forEach(function(Nt){Ot+=Rt[Nt].stats.size}),Ot}),{create:function(Ot,Nt,Xt,ur){function cr(Ye){var je=35044,It=null,Dt=0,Yt=0,tr=1;return Array.isArray(Ye)||Ee(Ye)||u(Ye)||Ye instanceof ArrayBuffer?It=Ye:typeof Ye=="number"?Dt=Ye|0:Ye&&("data"in Ye&&(It=Ye.data),"usage"in Ye&&(je=Ie[Ye.usage]),"type"in Ye&&(Yt=He[Ye.type]),"dimension"in Ye&&(tr=Ye.dimension|0),"length"in Ye&&(Dt=Ye.length|0)),dr.bind(),It?it(dr,It,je,Yt,tr,ur):(Dt&&yt.bufferData(dr.type,Dt,je),dr.dtype=Yt||5121,dr.usage=je,dr.dimension=tr,dr.byteLength=Dt),Jt.profile&&(dr.stats.size=dr.byteLength*lt[dr.dtype]),cr}Zt.bufferCount++;var dr=new sr(Nt);return Rt[dr.id]=dr,Xt||cr(Ot),cr._reglType="buffer",cr._buffer=dr,cr.subdata=function(Ye,je){var It=(je||0)|0,Dt;if(dr.bind(),Ee(Ye)||Ye instanceof ArrayBuffer)yt.bufferSubData(dr.type,It,Ye);else if(Array.isArray(Ye)){if(0<Ye.length)if(typeof Ye[0]=="number"){var Yt=Oe.allocType(dr.dtype,Ye.length);S(Yt,Ye),yt.bufferSubData(dr.type,It,Yt),Oe.freeType(Yt)}else(Array.isArray(Ye[0])||Ee(Ye[0]))&&(Dt=at(Ye),Yt=Ge(Ye,Dt,dr.dtype),yt.bufferSubData(dr.type,It,Yt),Oe.freeType(Yt))}else if(u(Ye)){Dt=Ye.shape;var tr=Ye.stride,fr=Yt=0,rr=0,Ft=0;Dt.length===1?(Yt=Dt[0],fr=1,rr=tr[0],Ft=0):Dt.length===2&&(Yt=Dt[0],fr=Dt[1],rr=tr[0],Ft=tr[1]),Dt=Array.isArray(Ye.data)?dr.dtype:f(Ye.data),Dt=Oe.allocType(Dt,Yt*fr),v(Dt,Ye.data,Yt,fr,rr,Ft,Ye.offset),yt.bufferSubData(dr.type,It,Dt),Oe.freeType(Dt)}return cr},Jt.profile&&(cr.stats=dr.stats),cr.destroy=function(){xt(dr)},cr},createStream:function(Ot,Nt){var Xt=Lt.pop();return Xt||(Xt=new sr(Ot)),Xt.bind(),it(Xt,Nt,35040,0,1,!1),Xt},destroyStream:function(Ot){Lt.push(Ot)},clear:function(){be(Rt).forEach(xt),Lt.forEach(xt)},getBuffer:function(Ot){return Ot&&Ot._buffer instanceof sr?Ot._buffer:null},restore:function(){be(Rt).forEach(function(Ot){Ot.buffer=yt.createBuffer(),yt.bindBuffer(Ot.type,Ot.buffer),yt.bufferData(Ot.type,Ot.persistentData||Ot.byteLength,Ot.usage)})},_initBuffer:it}}function g(yt,Zt,Jt,mr){function sr(Ot){this.id=St++,xt[this.id]=this,this.buffer=Ot,this.primType=4,this.type=this.vertCount=0}function vt(Ot,Nt,Xt,ur,cr,dr,Ye){Ot.buffer.bind();var je;if(Nt?((je=Ye)||Ee(Nt)&&(!u(Nt)||Ee(Nt.data))||(je=Zt.oes_element_index_uint?5125:5123),Jt._initBuffer(Ot.buffer,Nt,Xt,je,3)):(yt.bufferData(34963,dr,Xt),Ot.buffer.dtype=je||5121,Ot.buffer.usage=Xt,Ot.buffer.dimension=3,Ot.buffer.byteLength=dr),je=Ye,!Ye){switch(Ot.buffer.dtype){case 5121:case 5120:je=5121;break;case 5123:case 5122:je=5123;break;case 5125:case 5124:je=5125}Ot.buffer.dtype=je}Ot.type=je,Nt=cr,0>Nt&&(Nt=Ot.buffer.byteLength,je===5123?Nt>>=1:je===5125&&(Nt>>=2)),Ot.vertCount=Nt,Nt=ur,0>ur&&(Nt=4,ur=Ot.buffer.dimension,ur===1&&(Nt=0),ur===2&&(Nt=1),ur===3&&(Nt=4)),Ot.primType=Nt}function it(Ot){mr.elementsCount--,delete xt[Ot.id],Ot.buffer.destroy(),Ot.buffer=null}var xt={},St=0,Rt={uint8:5121,uint16:5123};Zt.oes_element_index_uint&&(Rt.uint32=5125),sr.prototype.bind=function(){this.buffer.bind()};var Lt=[];return{create:function(Ot,Nt){function Xt(dr){if(dr)if(typeof dr=="number")ur(dr),cr.primType=4,cr.vertCount=dr|0,cr.type=5121;else{var Ye=null,je=35044,It=-1,Dt=-1,Yt=0,tr=0;Array.isArray(dr)||Ee(dr)||u(dr)?Ye=dr:("data"in dr&&(Ye=dr.data),"usage"in dr&&(je=Ie[dr.usage]),"primitive"in dr&&(It=qe[dr.primitive]),"count"in dr&&(Dt=dr.count|0),"type"in dr&&(tr=Rt[dr.type]),"length"in dr?Yt=dr.length|0:(Yt=Dt,tr===5123||tr===5122?Yt*=2:(tr===5125||tr===5124)&&(Yt*=4))),vt(cr,Ye,je,It,Dt,Yt,tr)}else ur(),cr.primType=4,cr.vertCount=0,cr.type=5121;return Xt}var ur=Jt.create(null,34963,!0),cr=new sr(ur._buffer);return mr.elementsCount++,Xt(Ot),Xt._reglType="elements",Xt._elements=cr,Xt.subdata=function(dr,Ye){return ur.subdata(dr,Ye),Xt},Xt.destroy=function(){it(cr)},Xt},createStream:function(Ot){var Nt=Lt.pop();return Nt||(Nt=new sr(Jt.create(null,34963,!0,!1)._buffer)),vt(Nt,Ot,35040,-1,-1,0,0),Nt},destroyStream:function(Ot){Lt.push(Ot)},getElements:function(Ot){return typeof Ot=="function"&&Ot._elements instanceof sr?Ot._elements:null},clear:function(){be(xt).forEach(it)}}}function M(yt){for(var Zt=Oe.allocType(5123,yt.length),Jt=0;Jt<yt.length;++Jt)if(isNaN(yt[Jt]))Zt[Jt]=65535;else if(yt[Jt]===1/0)Zt[Jt]=31744;else if(yt[Jt]===-1/0)Zt[Jt]=64512;else{et[0]=yt[Jt];var vt=ft[0],mr=vt>>>31<<15,sr=(vt<<1>>>24)-127,vt=vt>>13&1023;Zt[Jt]=-24>sr?mr:-14>sr?mr+(vt+1024>>-14-sr):15<sr?mr+31744:mr+(sr+15<<10)+vt}return Zt}function A(yt){return Array.isArray(yt)||Ee(yt)}function k(yt){return"[object "+yt+"]"}function w(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function E(yt){return!!(Array.isArray(yt)&&yt.length!==0&&A(yt[0]))}function b(yt){return Object.prototype.toString.call(yt)}function o(yt){if(!yt)return!1;var Zt=b(yt);return 0<=ke.indexOf(Zt)?!0:w(yt)||E(yt)||u(yt)}function P(yt,Zt){yt.type===36193?(yt.data=M(Zt),Oe.freeType(Zt)):yt.data=Zt}function x(yt,Zt,Jt,mr,sr,vt){if(yt=typeof me[yt]<"u"?me[yt]:At[yt]*we[Zt],vt&&(yt*=6),sr){for(mr=0;1<=Jt;)mr+=yt*Jt*Jt,Jt/=2;return mr}return yt*Jt*mr}function z(yt,Zt,Jt,mr,sr,vt,it){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Mr,un){Mr.internalformat=un.internalformat,Mr.format=un.format,Mr.type=un.type,Mr.compressed=un.compressed,Mr.premultiplyAlpha=un.premultiplyAlpha,Mr.flipY=un.flipY,Mr.unpackAlignment=un.unpackAlignment,Mr.colorSpace=un.colorSpace,Mr.width=un.width,Mr.height=un.height,Mr.channels=un.channels}function Rt(Mr,un){if(typeof un=="object"&&un){"premultiplyAlpha"in un&&(Mr.premultiplyAlpha=un.premultiplyAlpha),"flipY"in un&&(Mr.flipY=un.flipY),"alignment"in un&&(Mr.unpackAlignment=un.alignment),"colorSpace"in un&&(Mr.colorSpace=pn[un.colorSpace]),"type"in un&&(Mr.type=nn[un.type]);var on=Mr.width,mn=Mr.height,Yn=Mr.channels,$t=!1;"shape"in un?(on=un.shape[0],mn=un.shape[1],un.shape.length===3&&(Yn=un.shape[2],$t=!0)):("radius"in un&&(on=mn=un.radius),"width"in un&&(on=un.width),"height"in un&&(mn=un.height),"channels"in un&&(Yn=un.channels,$t=!0)),Mr.width=on|0,Mr.height=mn|0,Mr.channels=Yn|0,on=!1,"format"in un&&(on=un.format,mn=Mr.internalformat=Un[on],Mr.format=Pn[mn],on in nn&&!("type"in un)&&(Mr.type=nn[on]),on in Tn&&(Mr.compressed=!0),on=!0),!$t&&on?Mr.channels=At[Mr.format]:$t&&!on&&Mr.channels!==pt[Mr.format]&&(Mr.format=Mr.internalformat=pt[Mr.channels])}}function Lt(Mr){yt.pixelStorei(37440,Mr.flipY),yt.pixelStorei(37441,Mr.premultiplyAlpha),yt.pixelStorei(37443,Mr.colorSpace),yt.pixelStorei(3317,Mr.unpackAlignment)}function Ot(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Mr,un){var on=null;if(o(un)?on=un:un&&(Rt(Mr,un),"x"in un&&(Mr.xOffset=un.x|0),"y"in un&&(Mr.yOffset=un.y|0),o(un.data)&&(on=un.data)),un.copy){var mn=sr.viewportWidth,Yn=sr.viewportHeight;Mr.width=Mr.width||mn-Mr.xOffset,Mr.height=Mr.height||Yn-Mr.yOffset,Mr.needsCopy=!0}else if(!on)Mr.width=Mr.width||1,Mr.height=Mr.height||1,Mr.channels=Mr.channels||4;else if(Ee(on))Mr.channels=Mr.channels||4,Mr.data=on,"type"in un||Mr.type!==5121||(Mr.type=Ue[Object.prototype.toString.call(on)]|0);else if(w(on)){switch(Mr.channels=Mr.channels||4,mn=on,Yn=mn.length,Mr.type){case 5121:case 5123:case 5125:case 5126:Yn=Oe.allocType(Mr.type,Yn),Yn.set(mn),Mr.data=Yn;break;case 36193:Mr.data=M(mn)}Mr.alignment=1,Mr.needsFree=!0}else if(u(on)){mn=on.data,Array.isArray(mn)||Mr.type!==5121||(Mr.type=Ue[Object.prototype.toString.call(mn)]|0);var Yn=on.shape,$t=on.stride,xr,Nr,En,Qn;Yn.length===3?(En=Yn[2],Qn=$t[2]):Qn=En=1,xr=Yn[0],Nr=Yn[1],Yn=$t[0],$t=$t[1],Mr.alignment=1,Mr.width=xr,Mr.height=Nr,Mr.channels=En,Mr.format=Mr.internalformat=pt[En],Mr.needsFree=!0,xr=Qn,on=on.offset,En=Mr.width,Qn=Mr.height,Nr=Mr.channels;for(var Ca=Oe.allocType(Mr.type===36193?5126:Mr.type,En*Qn*Nr),wr=0,zr=0;zr<Qn;++zr)for(var gr=0;gr<En;++gr)for(var Br=0;Br<Nr;++Br)Ca[wr++]=mn[Yn*gr+$t*zr+xr*Br+on];P(Mr,Ca)}else if(b(on)===Pt||b(on)===Ht||b(on)===Je)b(on)===Pt||b(on)===Ht?Mr.element=on:Mr.element=on.canvas,Mr.width=Mr.element.width,Mr.height=Mr.element.height,Mr.channels=4;else if(b(on)===We)Mr.element=on,Mr.width=on.width,Mr.height=on.height,Mr.channels=4;else if(b(on)===_e)Mr.element=on,Mr.width=on.naturalWidth,Mr.height=on.naturalHeight,Mr.channels=4;else if(b(on)===Ne)Mr.element=on,Mr.width=on.videoWidth,Mr.height=on.videoHeight,Mr.channels=4;else if(E(on)){for(mn=Mr.width||on[0].length,Yn=Mr.height||on.length,$t=Mr.channels,$t=A(on[0][0])?$t||on[0][0].length:$t||1,xr=Ce.shape(on),En=1,Qn=0;Qn<xr.length;++Qn)En*=xr[Qn];En=Oe.allocType(Mr.type===36193?5126:Mr.type,En),Ce.flatten(on,xr,"",En),P(Mr,En),Mr.alignment=1,Mr.width=mn,Mr.height=Yn,Mr.channels=$t,Mr.format=Mr.internalformat=pt[$t],Mr.needsFree=!0}}function Xt(Mr,un,on,mn,Yn){var $t=Mr.element,xr=Mr.data,Nr=Mr.internalformat,En=Mr.format,Qn=Mr.type,Ca=Mr.width,wr=Mr.height;Lt(Mr),$t?yt.texSubImage2D(un,Yn,on,mn,En,Qn,$t):Mr.compressed?yt.compressedTexSubImage2D(un,Yn,on,mn,Nr,Ca,wr,xr):Mr.needsCopy?(mr(),yt.copyTexSubImage2D(un,Yn,on,mn,Mr.xOffset,Mr.yOffset,Ca,wr)):yt.texSubImage2D(un,Yn,on,mn,Ca,wr,En,Qn,xr)}function ur(){return Bn.pop()||new Ot}function cr(Mr){Mr.needsFree&&Oe.freeType(Mr.data),Ot.call(Mr),Bn.push(Mr)}function dr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ye(Mr,un,on){var mn=Mr.images[0]=ur();Mr.mipmask=1,mn.width=Mr.width=un,mn.height=Mr.height=on,mn.channels=Mr.channels=4}function je(Mr,un){var on=null;if(o(un))on=Mr.images[0]=ur(),St(on,Mr),Nt(on,un),Mr.mipmask=1;else if(Rt(Mr,un),Array.isArray(un.mipmap))for(var mn=un.mipmap,Yn=0;Yn<mn.length;++Yn)on=Mr.images[Yn]=ur(),St(on,Mr),on.width>>=Yn,on.height>>=Yn,Nt(on,mn[Yn]),Mr.mipmask|=1<<Yn;else on=Mr.images[0]=ur(),St(on,Mr),Nt(on,un),Mr.mipmask=1;St(Mr,Mr.images[0])}function It(Mr,un){for(var on=Mr.images,mn=0;mn<on.length&&on[mn];++mn){var Yn=on[mn],$t=un,xr=mn,Nr=Yn.element,En=Yn.data,Qn=Yn.internalformat,Ca=Yn.format,wr=Yn.type,zr=Yn.width,gr=Yn.height;Lt(Yn),Nr?yt.texImage2D($t,xr,Ca,Ca,wr,Nr):Yn.compressed?yt.compressedTexImage2D($t,xr,Qn,zr,gr,0,En):Yn.needsCopy?(mr(),yt.copyTexImage2D($t,xr,Ca,Yn.xOffset,Yn.yOffset,zr,gr,0)):yt.texImage2D($t,xr,Ca,zr,gr,0,Ca,wr,En||null)}}function Dt(){var Mr=sa.pop()||new dr;xt.call(Mr);for(var un=Mr.mipmask=0;16>un;++un)Mr.images[un]=null;return Mr}function Yt(Mr){for(var un=Mr.images,on=0;on<un.length;++on)un[on]&&cr(un[on]),un[on]=null;sa.push(Mr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function fr(Mr,un){"min"in un&&(Mr.minFilter=Dr[un.min],0<=dt.indexOf(Mr.minFilter)&&!("faces"in un)&&(Mr.genMipmaps=!0)),"mag"in un&&(Mr.magFilter=_r[un.mag]);var on=Mr.wrapS,mn=Mr.wrapT;if("wrap"in un){var Yn=un.wrap;typeof Yn=="string"?on=mn=Gr[Yn]:Array.isArray(Yn)&&(on=Gr[Yn[0]],mn=Gr[Yn[1]])}else"wrapS"in un&&(on=Gr[un.wrapS]),"wrapT"in un&&(mn=Gr[un.wrapT]);if(Mr.wrapS=on,Mr.wrapT=mn,"anisotropic"in un&&(Mr.anisotropic=un.anisotropic),"mipmap"in un){switch(on=!1,typeof un.mipmap){case"string":Mr.mipmapHint=vr[un.mipmap],on=Mr.genMipmaps=!0;break;case"boolean":on=Mr.genMipmaps=un.mipmap;break;case"object":Mr.genMipmaps=!1,on=!0}!on||"min"in un||(Mr.minFilter=9984)}}function rr(Mr,un){yt.texParameteri(un,10241,Mr.minFilter),yt.texParameteri(un,10240,Mr.magFilter),yt.texParameteri(un,10242,Mr.wrapS),yt.texParameteri(un,10243,Mr.wrapT),Zt.ext_texture_filter_anisotropic&&yt.texParameteri(un,34046,Mr.anisotropic),Mr.genMipmaps&&(yt.hint(33170,Mr.mipmapHint),yt.generateMipmap(un))}function Ft(Mr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Kn++,this.refCount=1,this.target=Mr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,it.profile&&(this.stats={size:0})}function hr(Mr){yt.activeTexture(33984),yt.bindTexture(Mr.target,Mr.texture)}function br(){var Mr=ta[0];Mr?yt.bindTexture(Mr.target,Mr.texture):yt.bindTexture(3553,null)}function yr(Mr){var un=Mr.texture,on=Mr.unit,mn=Mr.target;0<=on&&(yt.activeTexture(33984+on),yt.bindTexture(mn,null),ta[on]=null),yt.deleteTexture(un),Mr.texture=null,Mr.params=null,Mr.pixels=null,Mr.refCount=0,delete ra[Mr.id],vt.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Gr={repeat:10497,clamp:33071,mirror:33648},_r={nearest:9728,linear:9729},Dr=ie({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},_r),pn={none:0,browser:37444},nn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Un={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Tn={};Zt.ext_srgb&&(Un.srgb=35904,Un.srgba=35906),Zt.oes_texture_float&&(nn.float32=nn.float=5126),Zt.oes_texture_half_float&&(nn.float16=nn["half float"]=36193),Zt.webgl_depth_texture&&(ie(Un,{depth:6402,"depth stencil":34041}),ie(nn,{uint16:5123,uint32:5125,"depth stencil":34042})),Zt.webgl_compressed_texture_s3tc&&ie(Tn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Zt.webgl_compressed_texture_atc&&ie(Tn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Zt.webgl_compressed_texture_pvrtc&&ie(Tn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Zt.webgl_compressed_texture_etc1&&(Tn["rgb etc1"]=36196);var Cr=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(Tn).forEach(function(Mr){var un=Tn[Mr];0<=Cr.indexOf(un)&&(Un[Mr]=un)});var Lr=Object.keys(Un);Jt.textureFormats=Lr;var Zr=[];Object.keys(Un).forEach(function(Mr){Zr[Un[Mr]]=Mr});var Wr=[];Object.keys(nn).forEach(function(Mr){Wr[nn[Mr]]=Mr});var sn=[];Object.keys(_r).forEach(function(Mr){sn[_r[Mr]]=Mr});var yn=[];Object.keys(Dr).forEach(function(Mr){yn[Dr[Mr]]=Mr});var bn=[];Object.keys(Gr).forEach(function(Mr){bn[Gr[Mr]]=Mr});var Pn=Lr.reduce(function(Mr,un){var on=Un[un];return on===6409||on===6406||on===6409||on===6410||on===6402||on===34041||Zt.ext_srgb&&(on===35904||on===35906)?Mr[on]=on:on===32855||0<=un.indexOf("rgba")?Mr[on]=6408:Mr[on]=6407,Mr},{}),Bn=[],sa=[],Kn=0,ra={},$n=Jt.maxTextureUnits,ta=Array($n).map(function(){return null});return ie(Ft.prototype,{bind:function(){this.bindCount+=1;var Mr=this.unit;if(0>Mr){for(var un=0;un<$n;++un){var on=ta[un];if(on){if(0<on.bindCount)continue;on.unit=-1}ta[un]=this,Mr=un;break}it.profile&&vt.maxTextureUnits<Mr+1&&(vt.maxTextureUnits=Mr+1),this.unit=Mr,yt.activeTexture(33984+Mr),yt.bindTexture(this.target,this.texture)}return Mr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&yr(this)}}),it.profile&&(vt.getTotalTextureSize=function(){var Mr=0;return Object.keys(ra).forEach(function(un){Mr+=ra[un].stats.size}),Mr}),{create2D:function(Mr,un){function on(Yn,$t){var xr=mn.texInfo;tr.call(xr);var Nr=Dt();return typeof Yn=="number"?typeof $t=="number"?Ye(Nr,Yn|0,$t|0):Ye(Nr,Yn|0,Yn|0):Yn?(fr(xr,Yn),je(Nr,Yn)):Ye(Nr,1,1),xr.genMipmaps&&(Nr.mipmask=(Nr.width<<1)-1),mn.mipmask=Nr.mipmask,St(mn,Nr),mn.internalformat=Nr.internalformat,on.width=Nr.width,on.height=Nr.height,hr(mn),It(Nr,3553),rr(xr,3553),br(),Yt(Nr),it.profile&&(mn.stats.size=x(mn.internalformat,mn.type,Nr.width,Nr.height,xr.genMipmaps,!1)),on.format=Zr[mn.internalformat],on.type=Wr[mn.type],on.mag=sn[xr.magFilter],on.min=yn[xr.minFilter],on.wrapS=bn[xr.wrapS],on.wrapT=bn[xr.wrapT],on}var mn=new Ft(3553);return ra[mn.id]=mn,vt.textureCount++,on(Mr,un),on.subimage=function(Yn,$t,xr,Nr){$t|=0,xr|=0,Nr|=0;var En=ur();return St(En,mn),En.width=0,En.height=0,Nt(En,Yn),En.width=En.width||(mn.width>>Nr)-$t,En.height=En.height||(mn.height>>Nr)-xr,hr(mn),Xt(En,3553,$t,xr,Nr),br(),cr(En),on},on.resize=function(Yn,$t){var xr=Yn|0,Nr=$t|0||xr;if(xr===mn.width&&Nr===mn.height)return on;on.width=mn.width=xr,on.height=mn.height=Nr,hr(mn);for(var En=0;mn.mipmask>>En;++En){var Qn=xr>>En,Ca=Nr>>En;if(!Qn||!Ca)break;yt.texImage2D(3553,En,mn.format,Qn,Ca,0,mn.format,mn.type,null)}return br(),it.profile&&(mn.stats.size=x(mn.internalformat,mn.type,xr,Nr,!1,!1)),on},on._reglType="texture2d",on._texture=mn,it.profile&&(on.stats=mn.stats),on.destroy=function(){mn.decRef()},on},createCube:function(Mr,un,on,mn,Yn,$t){function xr(Qn,Ca,wr,zr,gr,Br){var xn,kn=Nr.texInfo;for(tr.call(kn),xn=0;6>xn;++xn)En[xn]=Dt();if(typeof Qn=="number"||!Qn)for(Qn=Qn|0||1,xn=0;6>xn;++xn)Ye(En[xn],Qn,Qn);else if(typeof Qn=="object")if(Ca)je(En[0],Qn),je(En[1],Ca),je(En[2],wr),je(En[3],zr),je(En[4],gr),je(En[5],Br);else if(fr(kn,Qn),Rt(Nr,Qn),"faces"in Qn)for(Qn=Qn.faces,xn=0;6>xn;++xn)St(En[xn],Nr),je(En[xn],Qn[xn]);else for(xn=0;6>xn;++xn)je(En[xn],Qn);for(St(Nr,En[0]),Nr.mipmask=kn.genMipmaps?(En[0].width<<1)-1:En[0].mipmask,Nr.internalformat=En[0].internalformat,xr.width=En[0].width,xr.height=En[0].height,hr(Nr),xn=0;6>xn;++xn)It(En[xn],34069+xn);for(rr(kn,34067),br(),it.profile&&(Nr.stats.size=x(Nr.internalformat,Nr.type,xr.width,xr.height,kn.genMipmaps,!0)),xr.format=Zr[Nr.internalformat],xr.type=Wr[Nr.type],xr.mag=sn[kn.magFilter],xr.min=yn[kn.minFilter],xr.wrapS=bn[kn.wrapS],xr.wrapT=bn[kn.wrapT],xn=0;6>xn;++xn)Yt(En[xn]);return xr}var Nr=new Ft(34067);ra[Nr.id]=Nr,vt.cubeCount++;var En=Array(6);return xr(Mr,un,on,mn,Yn,$t),xr.subimage=function(Qn,Ca,wr,zr,gr){wr|=0,zr|=0,gr|=0;var Br=ur();return St(Br,Nr),Br.width=0,Br.height=0,Nt(Br,Ca),Br.width=Br.width||(Nr.width>>gr)-wr,Br.height=Br.height||(Nr.height>>gr)-zr,hr(Nr),Xt(Br,34069+Qn,wr,zr,gr),br(),cr(Br),xr},xr.resize=function(Qn){if(Qn|=0,Qn!==Nr.width){xr.width=Nr.width=Qn,xr.height=Nr.height=Qn,hr(Nr);for(var Ca=0;6>Ca;++Ca)for(var wr=0;Nr.mipmask>>wr;++wr)yt.texImage2D(34069+Ca,wr,Nr.format,Qn>>wr,Qn>>wr,0,Nr.format,Nr.type,null);return br(),it.profile&&(Nr.stats.size=x(Nr.internalformat,Nr.type,xr.width,xr.height,!1,!0)),xr}},xr._reglType="textureCube",xr._texture=Nr,it.profile&&(xr.stats=Nr.stats),xr.destroy=function(){Nr.decRef()},xr},clear:function(){for(var Mr=0;Mr<$n;++Mr)yt.activeTexture(33984+Mr),yt.bindTexture(3553,null),ta[Mr]=null;be(ra).forEach(yr),vt.cubeCount=0,vt.textureCount=0},getTexture:function(Mr){return null},restore:function(){for(var Mr=0;Mr<$n;++Mr){var un=ta[Mr];un&&(un.bindCount=0,un.unit=-1,ta[Mr]=null)}be(ra).forEach(function(on){on.texture=yt.createTexture(),yt.bindTexture(on.target,on.texture);for(var mn=0;32>mn;++mn)if(on.mipmask&1<<mn)if(on.target===3553)yt.texImage2D(3553,mn,on.internalformat,on.width>>mn,on.height>>mn,0,on.internalformat,on.type,null);else for(var Yn=0;6>Yn;++Yn)yt.texImage2D(34069+Yn,mn,on.internalformat,on.width>>mn,on.height>>mn,0,on.internalformat,on.type,null);rr(on.texInfo,on.target)})},refresh:function(){for(var Mr=0;Mr<$n;++Mr){var un=ta[Mr];un&&(un.bindCount=0,un.unit=-1,ta[Mr]=null),yt.activeTexture(33984+Mr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function _(yt,Zt,Jt,mr,sr,vt){function it(Ft,hr,br){this.target=Ft,this.texture=hr,this.renderbuffer=br;var yr=Ft=0;hr?(Ft=hr.width,yr=hr.height):br&&(Ft=br.width,yr=br.height),this.width=Ft,this.height=yr}function xt(Ft){Ft&&(Ft.texture&&Ft.texture._texture.decRef(),Ft.renderbuffer&&Ft.renderbuffer._renderbuffer.decRef())}function St(Ft,hr,br){Ft&&(Ft.texture?Ft.texture._texture.refCount+=1:Ft.renderbuffer._renderbuffer.refCount+=1)}function Rt(Ft,hr){hr&&(hr.texture?yt.framebufferTexture2D(36160,Ft,hr.target,hr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,Ft,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function Lt(Ft){var hr=3553,br=null,yr=null,vr=Ft;return typeof Ft=="object"&&(vr=Ft.data,"target"in Ft&&(hr=Ft.target|0)),Ft=vr._reglType,Ft==="texture2d"||Ft==="textureCube"?br=vr:Ft==="renderbuffer"&&(yr=vr,hr=36161),new it(hr,br,yr)}function Ot(Ft,hr,br,yr,vr){return br?(Ft=mr.create2D({width:Ft,height:hr,format:yr,type:vr}),Ft._texture.refCount=0,new it(3553,Ft,null)):(Ft=sr.create({width:Ft,height:hr,format:yr}),Ft._renderbuffer.refCount=0,new it(36161,null,Ft))}function Nt(Ft){return Ft&&(Ft.texture||Ft.renderbuffer)}function Xt(Ft,hr,br){Ft&&(Ft.texture?Ft.texture.resize(hr,br):Ft.renderbuffer&&Ft.renderbuffer.resize(hr,br),Ft.width=hr,Ft.height=br)}function ur(){this.id=fr++,rr[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function cr(Ft){Ft.colorAttachments.forEach(xt),xt(Ft.depthAttachment),xt(Ft.stencilAttachment),xt(Ft.depthStencilAttachment)}function dr(Ft){yt.deleteFramebuffer(Ft.framebuffer),Ft.framebuffer=null,vt.framebufferCount--,delete rr[Ft.id]}function Ye(Ft){var hr;yt.bindFramebuffer(36160,Ft.framebuffer);var br=Ft.colorAttachments;for(hr=0;hr<br.length;++hr)Rt(36064+hr,br[hr]);for(hr=br.length;hr<Jt.maxColorAttachments;++hr)yt.framebufferTexture2D(36160,36064+hr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),Rt(36096,Ft.depthAttachment),Rt(36128,Ft.stencilAttachment),Rt(33306,Ft.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,It.next?It.next.framebuffer:null),It.cur=It.next,yt.getError()}function je(Ft,hr){function br(vr,Gr){var _r,Dr=0,pn=0,nn=!0,Un=!0;_r=null;var Tn=!0,Cr="rgba",Lr="uint8",Zr=1,Wr=null,sn=null,yn=null,bn=!1;typeof vr=="number"?(Dr=vr|0,pn=Gr|0||Dr):vr?("shape"in vr?(pn=vr.shape,Dr=pn[0],pn=pn[1]):("radius"in vr&&(Dr=pn=vr.radius),"width"in vr&&(Dr=vr.width),"height"in vr&&(pn=vr.height)),("color"in vr||"colors"in vr)&&(_r=vr.color||vr.colors),_r||("colorCount"in vr&&(Zr=vr.colorCount|0),"colorTexture"in vr&&(Tn=!!vr.colorTexture,Cr="rgba4"),"colorType"in vr&&(Lr=vr.colorType,!Tn)&&(Lr==="half float"||Lr==="float16"?Cr="rgba16f":(Lr==="float"||Lr==="float32")&&(Cr="rgba32f")),"colorFormat"in vr&&(Cr=vr.colorFormat,0<=Dt.indexOf(Cr)?Tn=!0:0<=Yt.indexOf(Cr)&&(Tn=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(bn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?nn=vr.depth:(Wr=vr.depth,Un=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Un=vr.stencil:(sn=vr.stencil,nn=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?nn=Un=vr.depthStencil:(yn=vr.depthStencil,Un=nn=!1))):Dr=pn=1;var Pn=null,Bn=null,sa=null,Kn=null;if(Array.isArray(_r))Pn=_r.map(Lt);else if(_r)Pn=[Lt(_r)];else for(Pn=Array(Zr),_r=0;_r<Zr;++_r)Pn[_r]=Ot(Dr,pn,Tn,Cr,Lr);for(Dr=Dr||Pn[0].width,pn=pn||Pn[0].height,Wr?Bn=Lt(Wr):nn&&!Un&&(Bn=Ot(Dr,pn,bn,"depth","uint32")),sn?sa=Lt(sn):Un&&!nn&&(sa=Ot(Dr,pn,!1,"stencil","uint8")),yn?Kn=Lt(yn):!Wr&&!sn&&Un&&nn&&(Kn=Ot(Dr,pn,bn,"depth stencil","depth stencil")),nn=null,_r=0;_r<Pn.length;++_r)St(Pn[_r]),Pn[_r]&&Pn[_r].texture&&(Un=Ve[Pn[_r].texture._texture.format]*Ze[Pn[_r].texture._texture.type],nn===null&&(nn=Un));return St(Bn),St(sa),St(Kn),cr(yr),yr.width=Dr,yr.height=pn,yr.colorAttachments=Pn,yr.depthAttachment=Bn,yr.stencilAttachment=sa,yr.depthStencilAttachment=Kn,br.color=Pn.map(Nt),br.depth=Nt(Bn),br.stencil=Nt(sa),br.depthStencil=Nt(Kn),br.width=yr.width,br.height=yr.height,Ye(yr),br}var yr=new ur;return vt.framebufferCount++,br(Ft,hr),ie(br,{resize:function(vr,Gr){var _r=Math.max(vr|0,1),Dr=Math.max(Gr|0||_r,1);if(_r===yr.width&&Dr===yr.height)return br;for(var pn=yr.colorAttachments,nn=0;nn<pn.length;++nn)Xt(pn[nn],_r,Dr);return Xt(yr.depthAttachment,_r,Dr),Xt(yr.stencilAttachment,_r,Dr),Xt(yr.depthStencilAttachment,_r,Dr),yr.width=br.width=_r,yr.height=br.height=Dr,Ye(yr),br},_reglType:"framebuffer",_framebuffer:yr,destroy:function(){dr(yr),cr(yr)},use:function(vr){It.setFBO({framebuffer:br},vr)}})}var It={cur:null,next:null,dirty:!1,setFBO:null},Dt=["rgba"],Yt=["rgba4","rgb565","rgb5 a1"];Zt.ext_srgb&&Yt.push("srgba"),Zt.ext_color_buffer_half_float&&Yt.push("rgba16f","rgb16f"),Zt.webgl_color_buffer_float&&Yt.push("rgba32f");var tr=["uint8"];Zt.oes_texture_half_float&&tr.push("half float","float16"),Zt.oes_texture_float&&tr.push("float","float32");var fr=0,rr={};return ie(It,{getFramebuffer:function(Ft){return typeof Ft=="function"&&Ft._reglType==="framebuffer"&&(Ft=Ft._framebuffer,Ft instanceof ur)?Ft:null},create:je,createCube:function(Ft){function hr(yr){var vr,Gr={color:null},_r=0,Dr=null;vr="rgba";var pn="uint8",nn=1;if(typeof yr=="number"?_r=yr|0:yr?("shape"in yr?_r=yr.shape[0]:("radius"in yr&&(_r=yr.radius|0),"width"in yr?_r=yr.width|0:"height"in yr&&(_r=yr.height|0)),("color"in yr||"colors"in yr)&&(Dr=yr.color||yr.colors),Dr||("colorCount"in yr&&(nn=yr.colorCount|0),"colorType"in yr&&(pn=yr.colorType),"colorFormat"in yr&&(vr=yr.colorFormat)),"depth"in yr&&(Gr.depth=yr.depth),"stencil"in yr&&(Gr.stencil=yr.stencil),"depthStencil"in yr&&(Gr.depthStencil=yr.depthStencil)):_r=1,Dr)if(Array.isArray(Dr))for(yr=[],vr=0;vr<Dr.length;++vr)yr[vr]=Dr[vr];else yr=[Dr];else for(yr=Array(nn),Dr={radius:_r,format:vr,type:pn},vr=0;vr<nn;++vr)yr[vr]=mr.createCube(Dr);for(Gr.color=Array(yr.length),vr=0;vr<yr.length;++vr)nn=yr[vr],_r=_r||nn.width,Gr.color[vr]={target:34069,data:yr[vr]};for(vr=0;6>vr;++vr){for(nn=0;nn<yr.length;++nn)Gr.color[nn].target=34069+vr;0<vr&&(Gr.depth=br[0].depth,Gr.stencil=br[0].stencil,Gr.depthStencil=br[0].depthStencil),br[vr]?br[vr](Gr):br[vr]=je(Gr)}return ie(hr,{width:_r,height:_r,color:yr})}var br=Array(6);return hr(Ft),ie(hr,{faces:br,resize:function(yr){var vr=yr|0;if(vr===hr.width)return hr;var Gr=hr.color;for(yr=0;yr<Gr.length;++yr)Gr[yr].resize(vr);for(yr=0;6>yr;++yr)br[yr].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){br.forEach(function(yr){yr.destroy()})}})},clear:function(){be(rr).forEach(dr)},restore:function(){It.cur=null,It.next=null,It.dirty=!0,be(rr).forEach(function(Ft){Ft.framebuffer=yt.createFramebuffer(),Ye(Ft)})}})}function G(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function F(yt,Zt,Jt,mr,sr,vt,it){function xt(Ye){if(Ye!==dr.currentVAO){var je=Zt.oes_vertex_array_object;Ye?je.bindVertexArrayOES(Ye.vao):je.bindVertexArrayOES(null),dr.currentVAO=Ye}}function St(Ye){if(Ye!==dr.currentVAO){if(Ye)Ye.bindAttrs();else{for(var je=Zt.angle_instanced_arrays,It=0;It<Xt.length;++It){var Dt=Xt[It];Dt.buffer?(yt.enableVertexAttribArray(It),Dt.buffer.bind(),yt.vertexAttribPointer(It,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offfset),je&&Dt.divisor&&je.vertexAttribDivisorANGLE(It,Dt.divisor)):(yt.disableVertexAttribArray(It),yt.vertexAttrib4f(It,Dt.x,Dt.y,Dt.z,Dt.w))}it.elements?yt.bindBuffer(34963,it.elements.buffer.buffer):yt.bindBuffer(34963,null)}dr.currentVAO=Ye}}function Rt(){be(cr).forEach(function(Ye){Ye.destroy()})}function Lt(){this.id=++ur,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ye=Zt.oes_vertex_array_object;this.vao=Ye?Ye.createVertexArrayOES():null,cr[this.id]=this,this.buffers=[]}function Ot(){Zt.oes_vertex_array_object&&be(cr).forEach(function(Ye){Ye.refresh()})}var Nt=Jt.maxAttributes,Xt=Array(Nt);for(Jt=0;Jt<Nt;++Jt)Xt[Jt]=new G;var ur=0,cr={},dr={Record:G,scope:{},state:Xt,currentVAO:null,targetVAO:null,restore:Zt.oes_vertex_array_object?Ot:function(){},createVAO:function(Ye){function je(Dt){var Yt;Array.isArray(Dt)?(Yt=Dt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(Dt.elements?(Yt=Dt.elements,It.ownsElements?(typeof Yt=="function"&&Yt._reglType==="elements"?It.elements.destroy():It.elements(Yt),It.ownsElements=!1):vt.getElements(Dt.elements)?(It.elements=Dt.elements,It.ownsElements=!1):(It.elements=vt.create(Dt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),Yt=Dt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in Dt&&(It.offset=Dt.offset|0),"count"in Dt&&(It.count=Dt.count|0),"instances"in Dt&&(It.instances=Dt.instances|0),"primitive"in Dt&&(It.primitive=qe[Dt.primitive])),Dt={};var tr=It.attributes;tr.length=Yt.length;for(var fr=0;fr<Yt.length;++fr){var rr=Yt[fr],Ft=tr[fr]=new G,hr=rr.data||rr;if(Array.isArray(hr)||Ee(hr)||u(hr)){var br;It.buffers[fr]&&(br=It.buffers[fr],Ee(hr)&&br._buffer.byteLength>=hr.byteLength?br.subdata(hr):(br.destroy(),It.buffers[fr]=null)),It.buffers[fr]||(br=It.buffers[fr]=sr.create(rr,34962,!1,!0)),Ft.buffer=sr.getBuffer(br),Ft.size=Ft.buffer.dimension|0,Ft.normalized=!1,Ft.type=Ft.buffer.dtype,Ft.offset=0,Ft.stride=0,Ft.divisor=0,Ft.state=1,Dt[fr]=1}else sr.getBuffer(rr)?(Ft.buffer=sr.getBuffer(rr),Ft.size=Ft.buffer.dimension|0,Ft.normalized=!1,Ft.type=Ft.buffer.dtype,Ft.offset=0,Ft.stride=0,Ft.divisor=0,Ft.state=1):sr.getBuffer(rr.buffer)?(Ft.buffer=sr.getBuffer(rr.buffer),Ft.size=(+rr.size||Ft.buffer.dimension)|0,Ft.normalized=!!rr.normalized||!1,Ft.type="type"in rr?He[rr.type]:Ft.buffer.dtype,Ft.offset=(rr.offset||0)|0,Ft.stride=(rr.stride||0)|0,Ft.divisor=(rr.divisor||0)|0,Ft.state=1):"x"in rr&&(Ft.x=+rr.x||0,Ft.y=+rr.y||0,Ft.z=+rr.z||0,Ft.w=+rr.w||0,Ft.state=2)}for(br=0;br<It.buffers.length;++br)!Dt[br]&&It.buffers[br]&&(It.buffers[br].destroy(),It.buffers[br]=null);return It.refresh(),je}var It=new Lt;return mr.vaoCount+=1,je.destroy=function(){for(var Dt=0;Dt<It.buffers.length;++Dt)It.buffers[Dt]&&It.buffers[Dt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},je._vao=It,je._reglType="vao",je(Ye)},getVAO:function(Ye){return typeof Ye=="function"&&Ye._vao?Ye._vao:null},destroyBuffer:function(Ye){for(var je=0;je<Xt.length;++je){var It=Xt[je];It.buffer===Ye&&(yt.disableVertexAttribArray(je),It.buffer=null)}},setVAO:Zt.oes_vertex_array_object?xt:St,clear:Zt.oes_vertex_array_object?Rt:function(){}};return Lt.prototype.bindAttrs=function(){for(var Ye=Zt.angle_instanced_arrays,je=this.attributes,It=0;It<je.length;++It){var Dt=je[It];Dt.buffer?(yt.enableVertexAttribArray(It),yt.bindBuffer(34962,Dt.buffer.buffer),yt.vertexAttribPointer(It,Dt.size,Dt.type,Dt.normalized,Dt.stride,Dt.offset),Ye&&Dt.divisor&&Ye.vertexAttribDivisorANGLE(It,Dt.divisor)):(yt.disableVertexAttribArray(It),yt.vertexAttrib4f(It,Dt.x,Dt.y,Dt.z,Dt.w))}for(Ye=je.length;Ye<Nt;++Ye)yt.disableVertexAttribArray(Ye);(Ye=vt.getElements(this.elements))?yt.bindBuffer(34963,Ye.buffer.buffer):yt.bindBuffer(34963,null)},Lt.prototype.refresh=function(){var Ye=Zt.oes_vertex_array_object;Ye&&(Ye.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,Ye.bindVertexArrayOES(null))},Lt.prototype.destroy=function(){if(this.vao){var Ye=Zt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,Ye.bindVertexArrayOES(null)),Ye.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),cr[this.id]&&(delete cr[this.id],--mr.vaoCount)},dr}function N(yt,Zt,Jt,mr){function sr(ur,cr,dr,Ye){this.name=ur,this.id=cr,this.location=dr,this.info=Ye}function vt(ur,cr){for(var dr=0;dr<ur.length;++dr)if(ur[dr].id===cr.id){ur[dr].location=cr.location;return}ur.push(cr)}function it(ur,cr,dr){dr=ur===35632?Rt:Lt;var Ye=dr[cr];if(!Ye){var je=Zt.str(cr),Ye=yt.createShader(ur);yt.shaderSource(Ye,je),yt.compileShader(Ye),dr[cr]=Ye}return Ye}function xt(ur,cr){this.id=Xt++,this.fragId=ur,this.vertId=cr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St(ur,cr,dr){var Ye;Ye=it(35632,ur.fragId);var je=it(35633,ur.vertId);if(cr=ur.program=yt.createProgram(),yt.attachShader(cr,Ye),yt.attachShader(cr,je),dr)for(Ye=0;Ye<dr.length;++Ye)je=dr[Ye],yt.bindAttribLocation(cr,je[0],je[1]);yt.linkProgram(cr),je=yt.getProgramParameter(cr,35718),mr.profile&&(ur.stats.uniformsCount=je);var It=ur.uniforms;for(Ye=0;Ye<je;++Ye)if(dr=yt.getActiveUniform(cr,Ye))if(1<dr.size)for(var Dt=0;Dt<dr.size;++Dt){var Yt=dr.name.replace("[0]","["+Dt+"]");vt(It,new sr(Yt,Zt.id(Yt),yt.getUniformLocation(cr,Yt),dr))}else vt(It,new sr(dr.name,Zt.id(dr.name),yt.getUniformLocation(cr,dr.name),dr));for(je=yt.getProgramParameter(cr,35721),mr.profile&&(ur.stats.attributesCount=je),ur=ur.attributes,Ye=0;Ye<je;++Ye)(dr=yt.getActiveAttrib(cr,Ye))&&vt(ur,new sr(dr.name,Zt.id(dr.name),yt.getAttribLocation(cr,dr.name),dr))}var Rt={},Lt={},Ot={},Nt=[],Xt=0;return mr.profile&&(Jt.getMaxUniformsCount=function(){var ur=0;return Nt.forEach(function(cr){cr.stats.uniformsCount>ur&&(ur=cr.stats.uniformsCount)}),ur},Jt.getMaxAttributesCount=function(){var ur=0;return Nt.forEach(function(cr){cr.stats.attributesCount>ur&&(ur=cr.stats.attributesCount)}),ur}),{clear:function(){var ur=yt.deleteShader.bind(yt);be(Rt).forEach(ur),Rt={},be(Lt).forEach(ur),Lt={},Nt.forEach(function(cr){yt.deleteProgram(cr.program)}),Nt.length=0,Ot={},Jt.shaderCount=0},program:function(ur,cr,dr,Ye){var je=Ot[cr];je||(je=Ot[cr]={});var It=je[ur];if(It&&(It.refCount++,!Ye))return It;var Dt=new xt(cr,ur);return Jt.shaderCount++,St(Dt,dr,Ye),It||(je[ur]=Dt),Nt.push(Dt),ie(Dt,{destroy:function(){if(Dt.refCount--,0>=Dt.refCount){yt.deleteProgram(Dt.program);var Yt=Nt.indexOf(Dt);Nt.splice(Yt,1),Jt.shaderCount--}0>=je[Dt.vertId].refCount&&(yt.deleteShader(Lt[Dt.vertId]),delete Lt[Dt.vertId],delete Ot[Dt.fragId][Dt.vertId]),Object.keys(Ot[Dt.fragId]).length||(yt.deleteShader(Rt[Dt.fragId]),delete Rt[Dt.fragId],delete Ot[Dt.fragId])}})},restore:function(){Rt={},Lt={};for(var ur=0;ur<Nt.length;++ur)St(Nt[ur],null,Nt[ur].attributes.map(function(cr){return[cr.location,cr.name]}))},shader:it,frag:-1,vert:-1}}function U(yt,Zt,Jt,mr,sr,vt,it){function xt(Rt){var Lt;Lt=Zt.next===null?5121:Zt.next.colorAttachments[0].texture._texture.type;var Ot=0,Nt=0,Xt=mr.framebufferWidth,ur=mr.framebufferHeight,cr=null;return Ee(Rt)?cr=Rt:Rt&&(Ot=Rt.x|0,Nt=Rt.y|0,Xt=(Rt.width||mr.framebufferWidth-Ot)|0,ur=(Rt.height||mr.framebufferHeight-Nt)|0,cr=Rt.data||null),Jt(),Rt=Xt*ur*4,cr||(Lt===5121?cr=new Uint8Array(Rt):Lt===5126&&(cr=cr||new Float32Array(Rt))),yt.pixelStorei(3333,4),yt.readPixels(Ot,Nt,Xt,ur,6408,Lt,cr),cr}function St(Rt){var Lt;return Zt.setFBO({framebuffer:Rt.framebuffer},function(){Lt=xt(Rt)}),Lt}return function(Rt){return Rt&&"framebuffer"in Rt?St(Rt):xt(Rt)}}function O(yt){for(var Zt=Array(yt.length>>2),mr=0;mr<Zt.length;mr++)Zt[mr]=0;for(mr=0;mr<8*yt.length;mr+=8)Zt[mr>>5]|=(yt.charCodeAt(mr/8)&255)<<24-mr%32;var Jt=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),sr,vt,it,xt,St,Rt,Lt,Ot,Nt,Xt,ur;for(Zt[Jt>>5]|=128<<24-Jt%32,Zt[(Jt+64>>9<<4)+15]=Jt,Ot=0;Ot<Zt.length;Ot+=16){for(Jt=yt[0],sr=yt[1],vt=yt[2],it=yt[3],xt=yt[4],St=yt[5],Rt=yt[6],Lt=yt[7],Nt=0;64>Nt;Nt++){if(16>Nt)mr[Nt]=Zt[Nt+Ot];else{Xt=Nt,ur=mr[Nt-2],ur=q(ur,17)^q(ur,19)^ur>>>10,ur=ne(ur,mr[Nt-7]);var cr;cr=mr[Nt-15],cr=q(cr,7)^q(cr,18)^cr>>>3,mr[Xt]=ne(ne(ur,cr),mr[Nt-16])}Xt=xt,Xt=q(Xt,6)^q(Xt,11)^q(Xt,25),Xt=ne(ne(ne(ne(Lt,Xt),xt&St^~xt&Rt),tt[Nt]),mr[Nt]),Lt=Jt,Lt=q(Lt,2)^q(Lt,13)^q(Lt,22),ur=ne(Lt,Jt&sr^Jt&vt^sr&vt),Lt=Rt,Rt=St,St=xt,xt=ne(it,Xt),it=vt,vt=sr,sr=Jt,Jt=ne(Xt,ur)}yt[0]=ne(Jt,yt[0]),yt[1]=ne(sr,yt[1]),yt[2]=ne(vt,yt[2]),yt[3]=ne(it,yt[3]),yt[4]=ne(xt,yt[4]),yt[5]=ne(St,yt[5]),yt[6]=ne(Rt,yt[6]),yt[7]=ne(Lt,yt[7])}for(Zt="",mr=0;mr<32*yt.length;mr+=8)Zt+=String.fromCharCode(yt[mr>>5]>>>24-mr%32&255);return Zt}function H(yt){for(var Zt="",Jt,mr=0;mr<yt.length;mr++)Jt=yt.charCodeAt(mr),Zt+="0123456789abcdef".charAt(Jt>>>4&15)+"0123456789abcdef".charAt(Jt&15);return Zt}function Y(yt){for(var Zt="",Jt=-1,mr,sr;++Jt<yt.length;)mr=yt.charCodeAt(Jt),sr=Jt+1<yt.length?yt.charCodeAt(Jt+1):0,55296<=mr&&56319>=mr&&56320<=sr&&57343>=sr&&(mr=65536+((mr&1023)<<10)+(sr&1023),Jt++),127>=mr?Zt+=String.fromCharCode(mr):2047>=mr?Zt+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?Zt+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(Zt+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return Zt}function q(yt,Zt){return yt>>>Zt|yt<<32-Zt}function ne(yt,Zt){var Jt=(yt&65535)+(Zt&65535);return(yt>>16)+(Zt>>16)+(Jt>>16)<<16|Jt&65535}function oe(yt){return Array.prototype.slice.call(yt)}function he(yt){return oe(yt).join("")}function J(yt){function Zt(){var Lt=[],Ot=[];return ie(function(){Lt.push.apply(Lt,oe(arguments))},{def:function(){var Nt="v"+sr++;return Ot.push(Nt),0<arguments.length&&(Lt.push(Nt,"="),Lt.push.apply(Lt,oe(arguments)),Lt.push(";")),Nt},toString:function(){return he([0<Ot.length?"var "+Ot.join(",")+";":"",he(Lt)])}})}function Jt(){function Lt(cr,dr){Nt(cr,dr,"=",Ot.def(cr,dr),";")}var Ot=Zt(),Nt=Zt(),Xt=Ot.toString,ur=Nt.toString;return ie(function(){Ot.apply(Ot,oe(arguments))},{def:Ot.def,entry:Ot,exit:Nt,save:Lt,set:function(cr,dr,Ye){Lt(cr,dr),Ot(cr,dr,"=",Ye,";")},toString:function(){return Xt()+ur()}})}var mr=yt&&yt.cache,sr=0,vt=[],it=[],xt=[],St=Zt(),Rt={};return{global:St,link:function(Lt,Ot){var Nt=Ot&&Ot.stable;if(!Nt){for(var Xt=0;Xt<it.length;++Xt)if(it[Xt]===Lt&&!xt[Xt])return vt[Xt]}return Xt="g"+sr++,vt.push(Xt),it.push(Lt),xt.push(Nt),Xt},block:Zt,proc:function(Lt,Ot){function Nt(){var dr="a"+Xt.length;return Xt.push(dr),dr}var Xt=[];Ot=Ot||0;for(var ur=0;ur<Ot;++ur)Nt();var ur=Jt(),cr=ur.toString;return Rt[Lt]=ie(ur,{arg:Nt,toString:function(){return he(["function(",Xt.join(),"){",cr(),"}"])}})},scope:Jt,cond:function(){var Lt=he(arguments),Ot=Jt(),Nt=Jt(),Xt=Ot.toString,ur=Nt.toString;return ie(Ot,{then:function(){return Ot.apply(Ot,oe(arguments)),this},else:function(){return Nt.apply(Nt,oe(arguments)),this},toString:function(){var cr=ur();return cr&&(cr="else{"+cr+"}"),he(["if(",Lt,"){",Xt(),"}",cr])}})},compile:function(){var Lt=['"use strict";',St,"return {"];Object.keys(Rt).forEach(function(Xt){Lt.push('"',Xt,'":',Rt[Xt].toString(),",")}),Lt.push("}");var Ot=he(Lt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return mr&&(Nt=H(O(Y(Ot))),mr[Nt])?mr[Nt].apply(null,it):(Ot=Function.apply(null,vt.concat(Ot)),mr&&(mr[Nt]=Ot),Ot.apply(null,it))}}}function Z(yt){return Array.isArray(yt)||Ee(yt)||u(yt)}function se(yt){return yt.sort(function(Zt,Jt){return Zt==="viewport"?-1:Jt==="viewport"?1:Zt<Jt?-1:1})}function $(yt,Zt,Jt,mr){this.thisDep=yt,this.contextDep=Zt,this.propDep=Jt,this.append=mr}function ee(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function le(yt){return new $(!1,!1,!1,yt)}function Q(yt,Zt){var Jt=yt.type;if(Jt===0)return Jt=yt.data.length,new $(!0,1<=Jt,2<=Jt,Zt);if(Jt===4)return Jt=yt.data,new $(Jt.thisDep,Jt.contextDep,Jt.propDep,Zt);if(Jt===5)return new $(!1,!1,!1,Zt);if(Jt===6){for(var mr=Jt=!1,sr=!1,vt=0;vt<yt.data.length;++vt){var it=yt.data[vt];it.type===1?sr=!0:it.type===2?mr=!0:it.type===3?Jt=!0:it.type===0?(Jt=!0,it=it.data,1<=it&&(mr=!0),2<=it&&(sr=!0)):it.type===4&&(Jt=Jt||it.data.thisDep,mr=mr||it.data.contextDep,sr=sr||it.data.propDep)}return new $(Jt,mr,sr,Zt)}return new $(Jt===3,Jt===2,Jt===1,Zt)}function K(yt,Zt,Jt,mr,sr,vt,it,xt,St,Rt,Lt,Ot,Nt,Xt,ur,cr){function dr(wr){return wr.replace(".","_")}function Ye(wr,zr,gr){var Br=dr(wr);$t.push(wr),Yn[Br]=mn[Br]=!!gr,xr[Br]=zr}function je(wr,zr,gr){var Br=dr(wr);$t.push(wr),Array.isArray(gr)?(mn[Br]=gr.slice(),Yn[Br]=gr.slice()):mn[Br]=Yn[Br]=gr,Nr[Br]=zr}function It(){var wr=J({cache:ur}),zr=wr.link,gr=wr.global;wr.id=Ca++,wr.batchId="0";var Br=zr(En),xn=wr.shared={props:"a0"};Object.keys(En).forEach(function(Jr){xn[Jr]=gr.def(Br,".",Jr)});var kn=wr.next={},wn=wr.current={};Object.keys(Nr).forEach(function(Jr){Array.isArray(mn[Jr])&&(kn[Jr]=gr.def(xn.next,".",Jr),wn[Jr]=gr.def(xn.current,".",Jr))});var hn=wr.constants={};Object.keys(Qn).forEach(function(Jr){hn[Jr]=gr.def(JSON.stringify(Qn[Jr]))}),wr.invoke=function(Jr,Yr){switch(Yr.type){case 0:var en=["this",xn.context,xn.props,wr.batchId];return Jr.def(zr(Yr.data),".call(",en.slice(0,Math.max(Yr.data.length+1,4)),")");case 1:return Jr.def(xn.props,Yr.data);case 2:return Jr.def(xn.context,Yr.data);case 3:return Jr.def("this",Yr.data);case 4:return Yr.data.append(wr,Jr),Yr.data.ref;case 5:return Yr.data.toString();case 6:return Yr.data.map(function(Cn){return wr.invoke(Jr,Cn)})}},wr.attribCache={};var Pr={};return wr.scopeAttrib=function(Jr){if(Jr=Zt.id(Jr),Jr in Pr)return Pr[Jr];var Yr=Rt.scope[Jr];return Yr||(Yr=Rt.scope[Jr]=new $n),Pr[Jr]=zr(Yr)},wr}function Dt(wr){var zr=wr.static;wr=wr.dynamic;var gr;if("profile"in zr){var Br=!!zr.profile;gr=le(function(kn,wn){return Br}),gr.enable=Br}else if("profile"in wr){var xn=wr.profile;gr=Q(xn,function(kn,wn){return kn.invoke(wn,xn)})}return gr}function Yt(wr,zr){var gr=wr.static,Br=wr.dynamic;if("framebuffer"in gr){var xn=gr.framebuffer;return xn?(xn=xt.getFramebuffer(xn),le(function(wn,hn){var Pr=wn.link(xn),Jr=wn.shared;return hn.set(Jr.framebuffer,".next",Pr),Jr=Jr.context,hn.set(Jr,".framebufferWidth",Pr+".width"),hn.set(Jr,".framebufferHeight",Pr+".height"),Pr})):le(function(wn,hn){var Pr=wn.shared;return hn.set(Pr.framebuffer,".next","null"),Pr=Pr.context,hn.set(Pr,".framebufferWidth",Pr+".drawingBufferWidth"),hn.set(Pr,".framebufferHeight",Pr+".drawingBufferHeight"),"null"})}if("framebuffer"in Br){var kn=Br.framebuffer;return Q(kn,function(wn,hn){var Yr=wn.invoke(hn,kn),Pr=wn.shared,Jr=Pr.framebuffer,Yr=hn.def(Jr,".getFramebuffer(",Yr,")");return hn.set(Jr,".next",Yr),Pr=Pr.context,hn.set(Pr,".framebufferWidth",Yr+"?"+Yr+".width:"+Pr+".drawingBufferWidth"),hn.set(Pr,".framebufferHeight",Yr+"?"+Yr+".height:"+Pr+".drawingBufferHeight"),Yr})}return null}function tr(wr,zr,gr){function Br(hn){if(hn in xn){var Pr=xn[hn];hn=!0;var Jr=Pr.x|0,Yr=Pr.y|0,en,Cn;return"width"in Pr?en=Pr.width|0:hn=!1,"height"in Pr?Cn=Pr.height|0:hn=!1,new $(!hn&&zr&&zr.thisDep,!hn&&zr&&zr.contextDep,!hn&&zr&&zr.propDep,function(zn,Wn){var Vn=zn.shared.context,xa=en;"width"in Pr||(xa=Wn.def(Vn,".","framebufferWidth","-",Jr));var ca=Cn;return"height"in Pr||(ca=Wn.def(Vn,".","framebufferHeight","-",Yr)),[Jr,Yr,xa,ca]})}if(hn in kn){var On=kn[hn];return hn=Q(On,function(zn,Wn){var ka=zn.invoke(Wn,On),Vn=zn.shared.context,xa=Wn.def(ka,".x|0"),ca=Wn.def(ka,".y|0"),ma=Wn.def('"width" in ',ka,"?",ka,".width|0:","(",Vn,".","framebufferWidth","-",xa,")"),ka=Wn.def('"height" in ',ka,"?",ka,".height|0:","(",Vn,".","framebufferHeight","-",ca,")");return[xa,ca,ma,ka]}),zr&&(hn.thisDep=hn.thisDep||zr.thisDep,hn.contextDep=hn.contextDep||zr.contextDep,hn.propDep=hn.propDep||zr.propDep),hn}return zr?new $(zr.thisDep,zr.contextDep,zr.propDep,function(zn,Wn){var Vn=zn.shared.context;return[0,0,Wn.def(Vn,".","framebufferWidth"),Wn.def(Vn,".","framebufferHeight")]}):null}var xn=wr.static,kn=wr.dynamic;if(wr=Br("viewport")){var wn=wr;wr=new $(wr.thisDep,wr.contextDep,wr.propDep,function(hn,Pr){var Jr=wn.append(hn,Pr),Yr=hn.shared.context;return Pr.set(Yr,".viewportWidth",Jr[2]),Pr.set(Yr,".viewportHeight",Jr[3]),Jr})}return{viewport:wr,scissor_box:Br("scissor.box")}}function fr(wr,zr){var gr=wr.static;if(typeof gr.frag=="string"&&typeof gr.vert=="string"){if(0<Object.keys(zr.dynamic).length)return null;var gr=zr.static,Br=Object.keys(gr);if(0<Br.length&&typeof gr[Br[0]]=="number"){for(var xn=[],kn=0;kn<Br.length;++kn)xn.push([gr[Br[kn]]|0,Br[kn]]);return xn}}return null}function rr(wr,zr,gr){function Br(Jr){if(Jr in xn){var Yr=Zt.id(xn[Jr]);return Jr=le(function(){return Yr}),Jr.id=Yr,Jr}if(Jr in kn){var en=kn[Jr];return Q(en,function(Cn,On){var zn=Cn.invoke(On,en);return On.def(Cn.shared.strings,".id(",zn,")")})}return null}var xn=wr.static,kn=wr.dynamic,wn=Br("frag"),hn=Br("vert"),Pr=null;return ee(wn)&&ee(hn)?(Pr=Lt.program(hn.id,wn.id,null,gr),wr=le(function(Jr,Yr){return Jr.link(Pr)})):wr=new $(wn&&wn.thisDep||hn&&hn.thisDep,wn&&wn.contextDep||hn&&hn.contextDep,wn&&wn.propDep||hn&&hn.propDep,function(Jr,Yr){var en=Jr.shared.shader,Cn;Cn=wn?wn.append(Jr,Yr):Yr.def(en,".","frag");var On;return On=hn?hn.append(Jr,Yr):Yr.def(en,".","vert"),Yr.def(en+".program("+On+","+Cn+")")}),{frag:wn,vert:hn,progVar:wr,program:Pr}}function Ft(wr,zr){function gr(zn,Wn){if(zn in Br){var Vn=Br[zn]|0;return Wn?kn.offset=Vn:kn.instances=Vn,le(function(ca,ma){return Wn&&(ca.OFFSET=Vn),Vn})}if(zn in xn){var xa=xn[zn];return Q(xa,function(ca,ma){var ka=ca.invoke(ma,xa);return Wn&&(ca.OFFSET=ka),ka})}if(Wn){if(Pr)return le(function(ca,ma){return ca.OFFSET=0});if(wn)return new $(hn.thisDep,hn.contextDep,hn.propDep,function(ca,ma){return ma.def(ca.shared.vao+".currentVAO?"+ca.shared.vao+".currentVAO.offset:0")})}else if(wn)return new $(hn.thisDep,hn.contextDep,hn.propDep,function(ca,ma){return ma.def(ca.shared.vao+".currentVAO?"+ca.shared.vao+".currentVAO.instances:-1")});return null}var Br=wr.static,xn=wr.dynamic,kn={},wn=!1,hn=function(){if("vao"in Br){var zn=Br.vao;return zn!==null&&Rt.getVAO(zn)===null&&(zn=Rt.createVAO(zn)),wn=!0,kn.vao=zn,le(function(Vn){var xa=Rt.getVAO(zn);return xa?Vn.link(xa):"null"})}if("vao"in xn){wn=!0;var Wn=xn.vao;return Q(Wn,function(Vn,xa){var ca=Vn.invoke(xa,Wn);return xa.def(Vn.shared.vao+".getVAO("+ca+")")})}return null}(),Pr=!1,Jr=function(){if("elements"in Br){var zn=Br.elements;if(kn.elements=zn,Z(zn)){var Wn=kn.elements=vt.create(zn,!0),zn=vt.getElements(Wn);Pr=!0}else zn&&(zn=vt.getElements(zn),Pr=!0);return Wn=le(function(xa,ca){if(zn){var ma=xa.link(zn);return xa.ELEMENTS=ma}return xa.ELEMENTS=null}),Wn.value=zn,Wn}if("elements"in xn){Pr=!0;var Vn=xn.elements;return Q(Vn,function(xa,ca){var ma=xa.shared,mi=ma.isBufferArgs,ma=ma.elements,oi=xa.invoke(ca,Vn),ka=ca.def("null"),mi=ca.def(mi,"(",oi,")"),oi=xa.cond(mi).then(ka,"=",ma,".createStream(",oi,");").else(ka,"=",ma,".getElements(",oi,");");return ca.entry(oi),ca.exit(xa.cond(mi).then(ma,".destroyStream(",ka,");")),xa.ELEMENTS=ka})}return wn?new $(hn.thisDep,hn.contextDep,hn.propDep,function(xa,ca){return ca.def(xa.shared.vao+".currentVAO?"+xa.shared.elements+".getElements("+xa.shared.vao+".currentVAO.elements):null")}):null}(),Yr=gr("offset",!0),en=function(){if("primitive"in Br){var zn=Br.primitive;return kn.primitive=zn,le(function(Vn,xa){return qe[zn]})}if("primitive"in xn){var Wn=xn.primitive;return Q(Wn,function(Vn,xa){var ca=Vn.constants.primTypes,ma=Vn.invoke(xa,Wn);return xa.def(ca,"[",ma,"]")})}return Pr?ee(Jr)?Jr.value?le(function(Vn,xa){return xa.def(Vn.ELEMENTS,".primType")}):le(function(){return 4}):new $(Jr.thisDep,Jr.contextDep,Jr.propDep,function(Vn,xa){var ca=Vn.ELEMENTS;return xa.def(ca,"?",ca,".primType:",4)}):wn?new $(hn.thisDep,hn.contextDep,hn.propDep,function(Vn,xa){return xa.def(Vn.shared.vao+".currentVAO?"+Vn.shared.vao+".currentVAO.primitive:4")}):null}(),Cn=function(){if("count"in Br){var zn=Br.count|0;return kn.count=zn,le(function(){return zn})}if("count"in xn){var Wn=xn.count;return Q(Wn,function(Vn,xa){return Vn.invoke(xa,Wn)})}return Pr?ee(Jr)?Jr?Yr?new $(Yr.thisDep,Yr.contextDep,Yr.propDep,function(Vn,xa){return xa.def(Vn.ELEMENTS,".vertCount-",Vn.OFFSET)}):le(function(Vn,xa){return xa.def(Vn.ELEMENTS,".vertCount")}):le(function(){return-1}):new $(Jr.thisDep||Yr.thisDep,Jr.contextDep||Yr.contextDep,Jr.propDep||Yr.propDep,function(Vn,xa){var ca=Vn.ELEMENTS;return Vn.OFFSET?xa.def(ca,"?",ca,".vertCount-",Vn.OFFSET,":-1"):xa.def(ca,"?",ca,".vertCount:-1")}):wn?new $(hn.thisDep,hn.contextDep,hn.propDep,function(Vn,xa){return xa.def(Vn.shared.vao,".currentVAO?",Vn.shared.vao,".currentVAO.count:-1")}):null}(),On=gr("instances",!1);return{elements:Jr,primitive:en,count:Cn,instances:On,offset:Yr,vao:hn,vaoActive:wn,elementsActive:Pr,static:kn}}function hr(wr,zr){var gr=wr.static,Br=wr.dynamic,xn={};return $t.forEach(function(kn){function wn(Pr,Jr){if(kn in gr){var Yr=Pr(gr[kn]);xn[hn]=le(function(){return Yr})}else if(kn in Br){var en=Br[kn];xn[hn]=Q(en,function(Cn,On){return Jr(Cn,On,Cn.invoke(On,en))})}}var hn=dr(kn);switch(kn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return wn(function(Pr){return Pr},function(Pr,Jr,Yr){return Yr});case"depth.func":return wn(function(Pr){return Kt[Pr]},function(Pr,Jr,Yr){return Jr.def(Pr.constants.compareFuncs,"[",Yr,"]")});case"depth.range":return wn(function(Pr){return Pr},function(Pr,Jr,Yr){return Pr=Jr.def("+",Yr,"[0]"),Jr=Jr.def("+",Yr,"[1]"),[Pr,Jr]});case"blend.func":return wn(function(Pr){return[jt["srcRGB"in Pr?Pr.srcRGB:Pr.src],jt["dstRGB"in Pr?Pr.dstRGB:Pr.dst],jt["srcAlpha"in Pr?Pr.srcAlpha:Pr.src],jt["dstAlpha"in Pr?Pr.dstAlpha:Pr.dst]]},function(Pr,Jr,Yr){function en(Wn,Vn){return Jr.def('"',Wn,Vn,'" in ',Yr,"?",Yr,".",Wn,Vn,":",Yr,".",Wn)}Pr=Pr.constants.blendFuncs;var Cn=en("src","RGB"),zn=en("dst","RGB"),Cn=Jr.def(Pr,"[",Cn,"]"),On=Jr.def(Pr,"[",en("src","Alpha"),"]"),zn=Jr.def(Pr,"[",zn,"]");return Pr=Jr.def(Pr,"[",en("dst","Alpha"),"]"),[Cn,zn,On,Pr]});case"blend.equation":return wn(function(Pr){if(typeof Pr=="string")return[ta[Pr],ta[Pr]];if(typeof Pr=="object")return[ta[Pr.rgb],ta[Pr.alpha]]},function(Pr,Jr,Yr){var en=Pr.constants.blendEquations,Cn=Jr.def(),On=Jr.def();return Pr=Pr.cond("typeof ",Yr,'==="string"'),Pr.then(Cn,"=",On,"=",en,"[",Yr,"];"),Pr.else(Cn,"=",en,"[",Yr,".rgb];",On,"=",en,"[",Yr,".alpha];"),Jr(Pr),[Cn,On]});case"blend.color":return wn(function(Pr){return i(4,function(Jr){return+Pr[Jr]})},function(Pr,Jr,Yr){return i(4,function(en){return Jr.def("+",Yr,"[",en,"]")})});case"stencil.mask":return wn(function(Pr){return Pr|0},function(Pr,Jr,Yr){return Jr.def(Yr,"|0")});case"stencil.func":return wn(function(Pr){return[Kt[Pr.cmp||"keep"],Pr.ref||0,"mask"in Pr?Pr.mask:-1]},function(Pr,Jr,Yr){Pr=Jr.def('"cmp" in ',Yr,"?",Pr.constants.compareFuncs,"[",Yr,".cmp]",":",7680);var en=Jr.def(Yr,".ref|0");return Jr=Jr.def('"mask" in ',Yr,"?",Yr,".mask|0:-1"),[Pr,en,Jr]});case"stencil.opFront":case"stencil.opBack":return wn(function(Pr){return[kn==="stencil.opBack"?1029:1028,Tt[Pr.fail||"keep"],Tt[Pr.zfail||"keep"],Tt[Pr.zpass||"keep"]]},function(Pr,Jr,Yr){function en(On){return Jr.def('"',On,'" in ',Yr,"?",Cn,"[",Yr,".",On,"]:",7680)}var Cn=Pr.constants.stencilOps;return[kn==="stencil.opBack"?1029:1028,en("fail"),en("zfail"),en("zpass")]});case"polygonOffset.offset":return wn(function(Pr){return[Pr.factor|0,Pr.units|0]},function(Pr,Jr,Yr){return Pr=Jr.def(Yr,".factor|0"),Jr=Jr.def(Yr,".units|0"),[Pr,Jr]});case"cull.face":return wn(function(Pr){var Jr=0;return Pr==="front"?Jr=1028:Pr==="back"&&(Jr=1029),Jr},function(Pr,Jr,Yr){return Jr.def(Yr,'==="front"?',1028,":",1029)});case"lineWidth":return wn(function(Pr){return Pr},function(Pr,Jr,Yr){return Yr});case"frontFace":return wn(function(Pr){return zt[Pr]},function(Pr,Jr,Yr){return Jr.def(Yr+'==="cw"?2304:2305')});case"colorMask":return wn(function(Pr){return Pr.map(function(Jr){return!!Jr})},function(Pr,Jr,Yr){return i(4,function(en){return"!!"+Yr+"["+en+"]"})});case"sample.coverage":return wn(function(Pr){return["value"in Pr?Pr.value:1,!!Pr.invert]},function(Pr,Jr,Yr){return Pr=Jr.def('"value" in ',Yr,"?+",Yr,".value:1"),Jr=Jr.def("!!",Yr,".invert"),[Pr,Jr]})}}),xn}function br(wr,zr){var gr=wr.static,Br=wr.dynamic,xn={};return Object.keys(gr).forEach(function(kn){var wn=gr[kn],hn;if(typeof wn=="number"||typeof wn=="boolean")hn=le(function(){return wn});else if(typeof wn=="function"){var Pr=wn._reglType;Pr==="texture2d"||Pr==="textureCube"?hn=le(function(Jr){return Jr.link(wn)}):(Pr==="framebuffer"||Pr==="framebufferCube")&&(hn=le(function(Jr){return Jr.link(wn.color[0])}))}else A(wn)&&(hn=le(function(Jr){return Jr.global.def("[",i(wn.length,function(Yr){return wn[Yr]}),"]")}));hn.value=wn,xn[kn]=hn}),Object.keys(Br).forEach(function(kn){var wn=Br[kn];xn[kn]=Q(wn,function(hn,Pr){return hn.invoke(Pr,wn)})}),xn}function yr(wr,zr){var gr=wr.static,Br=wr.dynamic,xn={};return Object.keys(gr).forEach(function(kn){var wn=gr[kn],hn=Zt.id(kn),Pr=new $n;if(Z(wn))Pr.state=1,Pr.buffer=sr.getBuffer(sr.create(wn,34962,!1,!0)),Pr.type=0;else{var Jr=sr.getBuffer(wn);if(Jr)Pr.state=1,Pr.buffer=Jr,Pr.type=0;else if("constant"in wn){var Yr=wn.constant;Pr.buffer="null",Pr.state=2,typeof Yr=="number"?Pr.x=Yr:ct.forEach(function(Vn,xa){xa<Yr.length&&(Pr[Vn]=Yr[xa])})}else{var Jr=Z(wn.buffer)?sr.getBuffer(sr.create(wn.buffer,34962,!1,!0)):sr.getBuffer(wn.buffer),en=wn.offset|0,Cn=wn.stride|0,On=wn.size|0,zn=!!wn.normalized,Wn=0;"type"in wn&&(Wn=He[wn.type]),wn=wn.divisor|0,Pr.buffer=Jr,Pr.state=1,Pr.size=On,Pr.normalized=zn,Pr.type=Wn||Jr.dtype,Pr.offset=en,Pr.stride=Cn,Pr.divisor=wn}}xn[kn]=le(function(Vn,xa){var ca=Vn.attribCache;if(hn in ca)return ca[hn];var ma={isStream:!1};return Object.keys(Pr).forEach(function(ka){ma[ka]=Pr[ka]}),Pr.buffer&&(ma.buffer=Vn.link(Pr.buffer),ma.type=ma.type||ma.buffer+".dtype"),ca[hn]=ma})}),Object.keys(Br).forEach(function(kn){var wn=Br[kn];xn[kn]=Q(wn,function(hn,Pr){function Jr(ca){Pr(zn[ca],"=",Yr,".",ca,"|0;")}var Yr=hn.invoke(Pr,wn),On=hn.shared,en=hn.constants,Cn=On.isBufferArgs,On=On.buffer,zn={isStream:Pr.def(!1)},Wn=new $n;Wn.state=1,Object.keys(Wn).forEach(function(ca){zn[ca]=Pr.def(""+Wn[ca])});var Vn=zn.buffer,xa=zn.type;return Pr("if(",Cn,"(",Yr,")){",zn.isStream,"=true;",Vn,"=",On,".createStream(",34962,",",Yr,");",xa,"=",Vn,".dtype;","}else{",Vn,"=",On,".getBuffer(",Yr,");","if(",Vn,"){",xa,"=",Vn,".dtype;",'}else if("constant" in ',Yr,"){",zn.state,"=",2,";","if(typeof "+Yr+'.constant === "number"){',zn[ct[0]],"=",Yr,".constant;",ct.slice(1).map(function(ca){return zn[ca]}).join("="),"=0;","}else{",ct.map(function(ca,ma){return zn[ca]+"="+Yr+".constant.length>"+ma+"?"+Yr+".constant["+ma+"]:0;"}).join(""),"}}else{","if(",Cn,"(",Yr,".buffer)){",Vn,"=",On,".createStream(",34962,",",Yr,".buffer);","}else{",Vn,"=",On,".getBuffer(",Yr,".buffer);","}",xa,'="type" in ',Yr,"?",en.glTypes,"[",Yr,".type]:",Vn,".dtype;",zn.normalized,"=!!",Yr,".normalized;"),Jr("size"),Jr("offset"),Jr("stride"),Jr("divisor"),Pr("}}"),Pr.exit("if(",zn.isStream,"){",On,".destroyStream(",Vn,");","}"),zn})}),xn}function vr(wr){var zr=wr.static,gr=wr.dynamic,Br={};return Object.keys(zr).forEach(function(xn){var kn=zr[xn];Br[xn]=le(function(wn,hn){return typeof kn=="number"||typeof kn=="boolean"?""+kn:wn.link(kn)})}),Object.keys(gr).forEach(function(xn){var kn=gr[xn];Br[xn]=Q(kn,function(wn,hn){return wn.invoke(hn,kn)})}),Br}function Gr(wr,zr,gr,Br,xn){function kn(Wn){var Vn=hn[Wn];Vn&&(Jr[Wn]=Vn)}var wn=fr(wr,zr),Cn=Yt(wr),hn=tr(wr,Cn),Pr=Ft(wr),Jr=hr(wr),Yr=rr(wr,xn,wn);kn("viewport"),kn(dr("scissor.box"));var en=0<Object.keys(Jr).length,Cn={framebuffer:Cn,draw:Pr,shader:Yr,state:Jr,dirty:en,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Cn.profile=Dt(wr),Cn.uniforms=br(gr),Cn.drawVAO=Cn.scopeVAO=Pr.vao,!Cn.drawVAO&&Yr.program&&!wn&&Jt.angle_instanced_arrays&&Pr.static.elements){var On=!0;if(wr=Yr.program.attributes.map(function(Wn){return Wn=zr.static[Wn],On=On&&!!Wn,Wn}),On&&0<wr.length){var zn=Rt.getVAO(Rt.createVAO({attributes:wr,elements:Pr.static.elements}));Cn.drawVAO=new $(null,null,null,function(Wn,Vn){return Wn.link(zn)}),Cn.useVAO=!0}}return wn?Cn.useVAO=!0:Cn.attributes=yr(zr),Cn.context=vr(Br),Cn}function _r(wr,zr,gr){var Br=wr.shared.context,xn=wr.scope();Object.keys(gr).forEach(function(kn){zr.save(Br,"."+kn);var wn=gr[kn].append(wr,zr);Array.isArray(wn)?xn(Br,".",kn,"=[",wn.join(),"];"):xn(Br,".",kn,"=",wn,";")}),zr(xn)}function Dr(wr,zr,gr,Br){var hn=wr.shared,xn=hn.gl,kn=hn.framebuffer,wn;un&&(wn=zr.def(hn.extensions,".webgl_draw_buffers"));var Pr=wr.constants,hn=Pr.drawBuffer,Pr=Pr.backBuffer;wr=gr?gr.append(wr,zr):zr.def(kn,".next"),Br||zr("if(",wr,"!==",kn,".cur){"),zr("if(",wr,"){",xn,".bindFramebuffer(",36160,",",wr,".framebuffer);"),un&&zr(wn,".drawBuffersWEBGL(",hn,"[",wr,".colorAttachments.length]);"),zr("}else{",xn,".bindFramebuffer(",36160,",null);"),un&&zr(wn,".drawBuffersWEBGL(",Pr,");"),zr("}",kn,".cur=",wr,";"),Br||zr("}")}function pn(wr,zr,gr){var Br=wr.shared,xn=Br.gl,kn=wr.current,wn=wr.next,hn=Br.current,Pr=Br.next,Jr=wr.cond(hn,".dirty");$t.forEach(function(Yr){if(Yr=dr(Yr),!(Yr in gr.state)){var en,Cn;if(Yr in wn){en=wn[Yr],Cn=kn[Yr];var On=i(mn[Yr].length,function(zn){return Jr.def(en,"[",zn,"]")});Jr(wr.cond(On.map(function(zn,Wn){return zn+"!=="+Cn+"["+Wn+"]"}).join("||")).then(xn,".",Nr[Yr],"(",On,");",On.map(function(zn,Wn){return Cn+"["+Wn+"]="+zn}).join(";"),";"))}else en=Jr.def(Pr,".",Yr),On=wr.cond(en,"!==",hn,".",Yr),Jr(On),Yr in xr?On(wr.cond(en).then(xn,".enable(",xr[Yr],");").else(xn,".disable(",xr[Yr],");"),hn,".",Yr,"=",en,";"):On(xn,".",Nr[Yr],"(",en,");",hn,".",Yr,"=",en,";")}}),Object.keys(gr.state).length===0&&Jr(hn,".dirty=false;"),zr(Jr)}function nn(wr,zr,gr,Br){var xn=wr.shared,kn=wr.current,wn=xn.current,hn=xn.gl,Pr;se(Object.keys(gr)).forEach(function(Jr){var Yr=gr[Jr];if(!Br||Br(Yr)){var en=Yr.append(wr,zr);if(xr[Jr]){var Cn=xr[Jr];ee(Yr)?(Pr=wr.link(en,{stable:!0}),zr(wr.cond(Pr).then(hn,".enable(",Cn,");").else(hn,".disable(",Cn,");")),zr(wn,".",Jr,"=",Pr,";")):(zr(wr.cond(en).then(hn,".enable(",Cn,");").else(hn,".disable(",Cn,");")),zr(wn,".",Jr,"=",en,";"))}else if(A(en)){var On=kn[Jr];zr(hn,".",Nr[Jr],"(",en,");",en.map(function(zn,Wn){return On+"["+Wn+"]="+zn}).join(";"),";")}else ee(Yr)?(Pr=wr.link(en,{stable:!0}),zr(hn,".",Nr[Jr],"(",Pr,");",wn,".",Jr,"=",Pr,";")):zr(hn,".",Nr[Jr],"(",en,");",wn,".",Jr,"=",en,";")}})}function Un(wr,zr){Mr&&(wr.instancing=zr.def(wr.shared.extensions,".angle_instanced_arrays"))}function Tn(wr,zr,gr,Br,xn){function kn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function wn(Wn){On=zr.def(),Wn(On,"=",kn(),";"),typeof xn=="string"?Wn(Yr,".count+=",xn,";"):Wn(Yr,".count++;"),Xt&&(Br?(zn=zr.def(),Wn(zn,"=",Cn,".getNumPendingQueries();")):Wn(Cn,".beginQuery(",Yr,");"))}function hn(Wn){Wn(Yr,".cpuTime+=",kn(),"-",On,";"),Xt&&(Br?Wn(Cn,".pushScopeStats(",zn,",",Cn,".getNumPendingQueries(),",Yr,");"):Wn(Cn,".endQuery();"))}function Pr(Wn){var Vn=zr.def(en,".profile");zr(en,".profile=",Wn,";"),zr.exit(en,".profile=",Vn,";")}var Jr=wr.shared,Yr=wr.stats,en=Jr.current,Cn=Jr.timer;gr=gr.profile;var On,zn;if(gr){if(ee(gr)){gr.enable?(wn(zr),hn(zr.exit),Pr("true")):Pr("false");return}gr=gr.append(wr,zr),Pr(gr)}else gr=zr.def(en,".profile");Jr=wr.block(),wn(Jr),zr("if(",gr,"){",Jr,"}"),wr=wr.block(),hn(wr),zr.exit("if(",gr,"){",wr,"}")}function Cr(wr,zr,gr,Br,xn){function kn(Pr){switch(Pr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function wn(Pr,Jr,Yr){function en(){zr("if(!",Wn,".buffer){",On,".enableVertexAttribArray(",zn,");}");var ma=Yr.type,ka;ka=Yr.size?zr.def(Yr.size,"||",Jr):Jr,zr("if(",Wn,".type!==",ma,"||",Wn,".size!==",ka,"||",ca.map(function(mi){return Wn+"."+mi+"!=="+Yr[mi]}).join("||"),"){",On,".bindBuffer(",34962,",",Vn,".buffer);",On,".vertexAttribPointer(",[zn,ka,ma,Yr.normalized,Yr.stride,Yr.offset],");",Wn,".type=",ma,";",Wn,".size=",ka,";",ca.map(function(mi){return Wn+"."+mi+"="+Yr[mi]+";"}).join(""),"}"),Mr&&(ma=Yr.divisor,zr("if(",Wn,".divisor!==",ma,"){",wr.instancing,".vertexAttribDivisorANGLE(",[zn,ma],");",Wn,".divisor=",ma,";}"))}function Cn(){zr("if(",Wn,".buffer){",On,".disableVertexAttribArray(",zn,");",Wn,".buffer=null;","}if(",ct.map(function(ma,ka){return Wn+"."+ma+"!=="+xa[ka]}).join("||"),"){",On,".vertexAttrib4f(",zn,",",xa,");",ct.map(function(ma,ka){return Wn+"."+ma+"="+xa[ka]+";"}).join(""),"}")}var On=hn.gl,zn=zr.def(Pr,".location"),Wn=zr.def(hn.attributes,"[",zn,"]");Pr=Yr.state;var Vn=Yr.buffer,xa=[Yr.x,Yr.y,Yr.z,Yr.w],ca=["buffer","normalized","offset","stride"];Pr===1?en():Pr===2?Cn():(zr("if(",Pr,"===",1,"){"),en(),zr("}else{"),Cn(),zr("}"))}var hn=wr.shared;Br.forEach(function(Pr){var Jr=Pr.name,Yr=gr.attributes[Jr],en;if(Yr){if(!xn(Yr))return;en=Yr.append(wr,zr)}else{if(!xn(qt))return;var Cn=wr.scopeAttrib(Jr);en={},Object.keys(new $n).forEach(function(On){en[On]=zr.def(Cn,".",On)})}wn(wr.link(Pr),kn(Pr.info.type),en)})}function Lr(wr,zr,gr,Br,xn,kn){for(var wn=wr.shared,hn=wn.gl,Pr,Jr=0;Jr<Br.length;++Jr){var On=Br[Jr],Yr=On.name,en=On.info.type,Cn=gr.uniforms[Yr],On=wr.link(On)+".location",zn;if(Cn){if(!xn(Cn))continue;if(ee(Cn)){if(Yr=Cn.value,en===35678||en===35680)en=wr.link(Yr._texture||Yr.color[0]._texture),zr(hn,".uniform1i(",On,",",en+".bind());"),zr.exit(en,".unbind();");else if(en===35674||en===35675||en===35676)Yr=wr.global.def("new Float32Array(["+Array.prototype.slice.call(Yr)+"])"),Cn=2,en===35675?Cn=3:en===35676&&(Cn=4),zr(hn,".uniformMatrix",Cn,"fv(",On,",false,",Yr,");");else{switch(en){case 5126:Pr="1f";break;case 35664:Pr="2f";break;case 35665:Pr="3f";break;case 35666:Pr="4f";break;case 35670:Pr="1i";break;case 5124:Pr="1i";break;case 35671:Pr="2i";break;case 35667:Pr="2i";break;case 35672:Pr="3i";break;case 35668:Pr="3i";break;case 35673:Pr="4i";break;case 35669:Pr="4i"}zr(hn,".uniform",Pr,"(",On,",",A(Yr)?Array.prototype.slice.call(Yr):Yr,");")}continue}else zn=Cn.append(wr,zr)}else{if(!xn(qt))continue;zn=zr.def(wn.uniforms,"[",Zt.id(Yr),"]")}switch(en===35678?zr("if(",zn,"&&",zn,'._reglType==="framebuffer"){',zn,"=",zn,".color[0];","}"):en===35680&&zr("if(",zn,"&&",zn,'._reglType==="framebufferCube"){',zn,"=",zn,".color[0];","}"),Yr=1,en){case 35678:case 35680:en=zr.def(zn,"._texture"),zr(hn,".uniform1i(",On,",",en,".bind());"),zr.exit(en,".unbind();");continue;case 5124:case 35670:Pr="1i";break;case 35667:case 35671:Pr="2i",Yr=2;break;case 35668:case 35672:Pr="3i",Yr=3;break;case 35669:case 35673:Pr="4i",Yr=4;break;case 5126:Pr="1f";break;case 35664:Pr="2f",Yr=2;break;case 35665:Pr="3f",Yr=3;break;case 35666:Pr="4f",Yr=4;break;case 35674:Pr="Matrix2fv";break;case 35675:Pr="Matrix3fv";break;case 35676:Pr="Matrix4fv"}if(Pr.charAt(0)==="M"){zr(hn,".uniform",Pr,"(",On,",");var On=Math.pow(en-35674+2,2),Wn=wr.global.def("new Float32Array(",On,")");Array.isArray(zn)?zr("false,(",i(On,function(ca){return Wn+"["+ca+"]="+zn[ca]}),",",Wn,")"):zr("false,(Array.isArray(",zn,")||",zn," instanceof Float32Array)?",zn,":(",i(On,function(ca){return Wn+"["+ca+"]="+zn+"["+ca+"]"}),",",Wn,")"),zr(");")}else{if(1<Yr){for(var en=[],Vn=[],Cn=0;Cn<Yr;++Cn)Array.isArray(zn)?Vn.push(zn[Cn]):Vn.push(zr.def(zn+"["+Cn+"]")),kn&&en.push(zr.def());kn&&zr("if(!",wr.batchId,"||",en.map(function(xa,ca){return xa+"!=="+Vn[ca]}).join("||"),"){",en.map(function(xa,ca){return xa+"="+Vn[ca]+";"}).join("")),zr(hn,".uniform",Pr,"(",On,",",Vn.join(","),");")}else kn&&(en=zr.def(),zr("if(!",wr.batchId,"||",en,"!==",zn,"){",en,"=",zn,";")),zr(hn,".uniform",Pr,"(",On,",",zn,");");kn&&zr("}")}}}function Zr(wr,zr,gr,Br){function xn(ma){var ka=Yr[ma];return ka?ka.contextDep&&Br.contextDynamic||ka.propDep?ka.append(wr,gr):ka.append(wr,zr):zr.def(Jr,".",ma)}function kn(){function ma(){gr(Vn,".drawElementsInstancedANGLE(",[Cn,zn,xa,On+"<<(("+xa+"-5121)>>1)",Wn],");")}function ka(){gr(Vn,".drawArraysInstancedANGLE(",[Cn,On,zn,Wn],");")}en&&en!=="null"?ca?ma():(gr("if(",en,"){"),ma(),gr("}else{"),ka(),gr("}")):ka()}function wn(){function ma(){gr(Pr+".drawElements("+[Cn,zn,xa,On+"<<(("+xa+"-5121)>>1)"]+");")}function ka(){gr(Pr+".drawArrays("+[Cn,On,zn]+");")}en&&en!=="null"?ca?ma():(gr("if(",en,"){"),ma(),gr("}else{"),ka(),gr("}")):ka()}var hn=wr.shared,Pr=hn.gl,Jr=hn.draw,Yr=Br.draw,en=function(){var ma=Yr.elements,ka=zr;return ma?((ma.contextDep&&Br.contextDynamic||ma.propDep)&&(ka=gr),ma=ma.append(wr,ka),Yr.elementsActive&&ka("if("+ma+")"+Pr+".bindBuffer(34963,"+ma+".buffer.buffer);")):(ma=ka.def(),ka(ma,"=",Jr,".","elements",";","if(",ma,"){",Pr,".bindBuffer(",34963,",",ma,".buffer.buffer);}","else if(",hn.vao,".currentVAO){",ma,"=",wr.shared.elements+".getElements("+hn.vao,".currentVAO.elements);",on?"":"if("+ma+")"+Pr+".bindBuffer(34963,"+ma+".buffer.buffer);","}")),ma}(),Cn=xn("primitive"),On=xn("offset"),zn=function(){var ma=Yr.count,ka=zr;return ma?((ma.contextDep&&Br.contextDynamic||ma.propDep)&&(ka=gr),ma=ma.append(wr,ka)):ma=ka.def(Jr,".","count"),ma}();if(typeof zn=="number"){if(zn===0)return}else gr("if(",zn,"){"),gr.exit("}");var Wn,Vn;Mr&&(Wn=xn("instances"),Vn=wr.instancing);var xa=en+".type",ca=Yr.elements&&ee(Yr.elements)&&!Yr.vaoActive;Mr&&(typeof Wn!="number"||0<=Wn)?typeof Wn=="string"?(gr("if(",Wn,">0){"),kn(),gr("}else if(",Wn,"<0){"),wn(),gr("}")):kn():wn()}function Wr(wr,zr,gr,Br,xn){return zr=It(),xn=zr.proc("body",xn),Mr&&(zr.instancing=xn.def(zr.shared.extensions,".angle_instanced_arrays")),wr(zr,xn,gr,Br),zr.compile().body}function sn(wr,zr,gr,Br){Un(wr,zr),gr.useVAO?gr.drawVAO?zr(wr.shared.vao,".setVAO(",gr.drawVAO.append(wr,zr),");"):zr(wr.shared.vao,".setVAO(",wr.shared.vao,".targetVAO);"):(zr(wr.shared.vao,".setVAO(null);"),Cr(wr,zr,gr,Br.attributes,function(){return!0})),Lr(wr,zr,gr,Br.uniforms,function(){return!0},!1),Zr(wr,zr,zr,gr)}function yn(wr,zr){var gr=wr.proc("draw",1);Un(wr,gr),_r(wr,gr,zr.context),Dr(wr,gr,zr.framebuffer),pn(wr,gr,zr),nn(wr,gr,zr.state),Tn(wr,gr,zr,!1,!0);var Br=zr.shader.progVar.append(wr,gr);if(gr(wr.shared.gl,".useProgram(",Br,".program);"),zr.shader.program)sn(wr,gr,zr,zr.shader.program);else{gr(wr.shared.vao,".setVAO(null);");var xn=wr.global.def("{}"),kn=gr.def(Br,".id"),wn=gr.def(xn,"[",kn,"]");gr(wr.cond(wn).then(wn,".call(this,a0);").else(wn,"=",xn,"[",kn,"]=",wr.link(function(hn){return Wr(sn,wr,zr,hn,1)}),"(",Br,");",wn,".call(this,a0);"))}0<Object.keys(zr.state).length&&gr(wr.shared.current,".dirty=true;"),wr.shared.vao&&gr(wr.shared.vao,".setVAO(null);")}function bn(wr,zr,gr,Br){function xn(){return!0}wr.batchId="a1",Un(wr,zr),Cr(wr,zr,gr,Br.attributes,xn),Lr(wr,zr,gr,Br.uniforms,xn,!1),Zr(wr,zr,zr,gr)}function Pn(wr,zr,gr,Br){function xn(en){return en.contextDep&&wn||en.propDep}function kn(en){return!xn(en)}Un(wr,zr);var wn=gr.contextDep,hn=zr.def(),Pr=zr.def();wr.shared.props=Pr,wr.batchId=hn;var Jr=wr.scope(),Yr=wr.scope();zr(Jr.entry,"for(",hn,"=0;",hn,"<","a1",";++",hn,"){",Pr,"=","a0","[",hn,"];",Yr,"}",Jr.exit),gr.needsContext&&_r(wr,Yr,gr.context),gr.needsFramebuffer&&Dr(wr,Yr,gr.framebuffer),nn(wr,Yr,gr.state,xn),gr.profile&&xn(gr.profile)&&Tn(wr,Yr,gr,!1,!0),Br?(gr.useVAO?gr.drawVAO?xn(gr.drawVAO)?Yr(wr.shared.vao,".setVAO(",gr.drawVAO.append(wr,Yr),");"):Jr(wr.shared.vao,".setVAO(",gr.drawVAO.append(wr,Jr),");"):Jr(wr.shared.vao,".setVAO(",wr.shared.vao,".targetVAO);"):(Jr(wr.shared.vao,".setVAO(null);"),Cr(wr,Jr,gr,Br.attributes,kn),Cr(wr,Yr,gr,Br.attributes,xn)),Lr(wr,Jr,gr,Br.uniforms,kn,!1),Lr(wr,Yr,gr,Br.uniforms,xn,!0),Zr(wr,Jr,Yr,gr)):(zr=wr.global.def("{}"),Br=gr.shader.progVar.append(wr,Yr),Pr=Yr.def(Br,".id"),Jr=Yr.def(zr,"[",Pr,"]"),Yr(wr.shared.gl,".useProgram(",Br,".program);","if(!",Jr,"){",Jr,"=",zr,"[",Pr,"]=",wr.link(function(en){return Wr(bn,wr,gr,en,2)}),"(",Br,");}",Jr,".call(this,a0[",hn,"],",hn,");"))}function Bn(wr,zr){function gr(Jr){return Jr.contextDep&&xn||Jr.propDep}var Br=wr.proc("batch",2);wr.batchId="0",Un(wr,Br);var xn=!1,kn=!0;Object.keys(zr.context).forEach(function(Jr){xn=xn||zr.context[Jr].propDep}),xn||(_r(wr,Br,zr.context),kn=!1);var wn=zr.framebuffer,hn=!1;if(wn?(wn.propDep?xn=hn=!0:wn.contextDep&&xn&&(hn=!0),hn||Dr(wr,Br,wn)):Dr(wr,Br,null),zr.state.viewport&&zr.state.viewport.propDep&&(xn=!0),pn(wr,Br,zr),nn(wr,Br,zr.state,function(Jr){return!gr(Jr)}),zr.profile&&gr(zr.profile)||Tn(wr,Br,zr,!1,"a1"),zr.contextDep=xn,zr.needsContext=kn,zr.needsFramebuffer=hn,kn=zr.shader.progVar,kn.contextDep&&xn||kn.propDep)Pn(wr,Br,zr,null);else if(kn=kn.append(wr,Br),Br(wr.shared.gl,".useProgram(",kn,".program);"),zr.shader.program)Pn(wr,Br,zr,zr.shader.program);else{Br(wr.shared.vao,".setVAO(null);");var wn=wr.global.def("{}"),hn=Br.def(kn,".id"),Pr=Br.def(wn,"[",hn,"]");Br(wr.cond(Pr).then(Pr,".call(this,a0,a1);").else(Pr,"=",wn,"[",hn,"]=",wr.link(function(en){return Wr(Pn,wr,zr,en,2)}),"(",kn,");",Pr,".call(this,a0,a1);"))}0<Object.keys(zr.state).length&&Br(wr.shared.current,".dirty=true;"),wr.shared.vao&&Br(wr.shared.vao,".setVAO(null);")}function sa(wr,zr){function gr(hn){var Pr=zr.shader[hn];Pr&&(Pr=Pr.append(wr,Br),isNaN(Pr)?Br.set(xn.shader,"."+hn,Pr):Br.set(xn.shader,"."+hn,wr.link(Pr,{stable:!0})))}var Br=wr.proc("scope",3);wr.batchId="a2";var xn=wr.shared,kn=xn.current;if(_r(wr,Br,zr.context),zr.framebuffer&&zr.framebuffer.append(wr,Br),se(Object.keys(zr.state)).forEach(function(hn){var Pr=zr.state[hn],Jr=Pr.append(wr,Br);A(Jr)?Jr.forEach(function(Yr,en){isNaN(Yr)?Br.set(wr.next[hn],"["+en+"]",Yr):Br.set(wr.next[hn],"["+en+"]",wr.link(Yr,{stable:!0}))}):ee(Pr)?Br.set(xn.next,"."+hn,wr.link(Jr,{stable:!0})):Br.set(xn.next,"."+hn,Jr)}),Tn(wr,Br,zr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(hn){var Pr=zr.draw[hn];Pr&&(Pr=Pr.append(wr,Br),isNaN(Pr)?Br.set(xn.draw,"."+hn,Pr):Br.set(xn.draw,"."+hn,wr.link(Pr),{stable:!0}))}),Object.keys(zr.uniforms).forEach(function(hn){var Pr=zr.uniforms[hn].append(wr,Br);Array.isArray(Pr)&&(Pr="["+Pr.map(function(Jr){return isNaN(Jr)?Jr:wr.link(Jr,{stable:!0})})+"]"),Br.set(xn.uniforms,"["+wr.link(Zt.id(hn),{stable:!0})+"]",Pr)}),Object.keys(zr.attributes).forEach(function(hn){var Pr=zr.attributes[hn].append(wr,Br),Jr=wr.scopeAttrib(hn);Object.keys(new $n).forEach(function(Yr){Br.set(Jr,"."+Yr,Pr[Yr])})}),zr.scopeVAO){var wn=zr.scopeVAO.append(wr,Br);isNaN(wn)?Br.set(xn.vao,".targetVAO",wn):Br.set(xn.vao,".targetVAO",wr.link(wn,{stable:!0}))}gr("vert"),gr("frag"),0<Object.keys(zr.state).length&&(Br(kn,".dirty=true;"),Br.exit(kn,".dirty=true;")),Br("a1(",wr.shared.context,",a0,",wr.batchId,");")}function Kn(wr){if(typeof wr=="object"&&!A(wr)){for(var zr=Object.keys(wr),gr=0;gr<zr.length;++gr)if(xe.isDynamic(wr[zr[gr]]))return!0;return!1}}function ra(wr,zr,gr){function Br(en,Cn){wn.forEach(function(On){var zn=xn[On];xe.isDynamic(zn)&&(zn=en.invoke(Cn,zn),Cn(Yr,".",On,"=",zn,";"))})}var xn=zr.static[gr];if(xn&&Kn(xn)){var kn=wr.global,wn=Object.keys(xn),hn=!1,Pr=!1,Jr=!1,Yr=wr.global.def("{}");wn.forEach(function(en){var Cn=xn[en];if(xe.isDynamic(Cn))typeof Cn=="function"&&(Cn=xn[en]=xe.unbox(Cn)),en=Q(Cn,null),hn=hn||en.thisDep,Jr=Jr||en.propDep,Pr=Pr||en.contextDep;else{switch(kn(Yr,".",en,"="),typeof Cn){case"number":kn(Cn);break;case"string":kn('"',Cn,'"');break;case"object":Array.isArray(Cn)&&kn("[",Cn.join(),"]");break;default:kn(wr.link(Cn))}kn(";")}}),zr.dynamic[gr]=new xe.DynamicVariable(4,{thisDep:hn,contextDep:Pr,propDep:Jr,ref:Yr,append:Br}),delete zr.static[gr]}}var $n=Rt.Record,ta={add:32774,subtract:32778,"reverse subtract":32779};Jt.ext_blend_minmax&&(ta.min=32775,ta.max=32776);var Mr=Jt.angle_instanced_arrays,un=Jt.webgl_draw_buffers,on=Jt.oes_vertex_array_object,mn={dirty:!0,profile:cr.profile},Yn={},$t=[],xr={},Nr={};Ye("dither",3024),Ye("blend.enable",3042),je("blend.color","blendColor",[0,0,0,0]),je("blend.equation","blendEquationSeparate",[32774,32774]),je("blend.func","blendFuncSeparate",[1,0,1,0]),Ye("depth.enable",2929,!0),je("depth.func","depthFunc",513),je("depth.range","depthRange",[0,1]),je("depth.mask","depthMask",!0),je("colorMask","colorMask",[!0,!0,!0,!0]),Ye("cull.enable",2884),je("cull.face","cullFace",1029),je("frontFace","frontFace",2305),je("lineWidth","lineWidth",1),Ye("polygonOffset.enable",32823),je("polygonOffset.offset","polygonOffset",[0,0]),Ye("sample.alpha",32926),Ye("sample.enable",32928),je("sample.coverage","sampleCoverage",[1,!1]),Ye("stencil.enable",2960),je("stencil.mask","stencilMask",-1),je("stencil.func","stencilFunc",[519,0,-1]),je("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),je("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ye("scissor.enable",3089),je("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),je("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var En={gl:yt,context:Nt,strings:Zt,next:Yn,current:mn,draw:Ot,elements:vt,buffer:sr,shader:Lt,attributes:Rt.state,vao:Rt,uniforms:St,framebuffer:xt,extensions:Jt,timer:Xt,isBufferArgs:Z},Qn={primTypes:qe,compareFuncs:Kt,blendFuncs:jt,blendEquations:ta,stencilOps:Tt,glTypes:He,orientationType:zt};un&&(Qn.backBuffer=[1029],Qn.drawBuffer=i(mr.maxDrawbuffers,function(wr){return wr===0?[0]:i(wr,function(zr){return 36064+zr})}));var Ca=0;return{next:Yn,current:mn,procs:function(){var wr=It(),zr=wr.proc("poll"),gr=wr.proc("refresh"),Br=wr.block();zr(Br),gr(Br);var Pr=wr.shared,xn=Pr.gl,kn=Pr.next,wn=Pr.current;Br(wn,".dirty=false;"),Dr(wr,zr),Dr(wr,gr,null,!0);var hn;Mr&&(hn=wr.link(Mr)),Jt.oes_vertex_array_object&&gr(wr.link(Jt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Pr=gr.def(Pr.attributes),Jr=gr.def(0),Yr=wr.cond(Jr,".buffer");Yr.then(xn,".enableVertexAttribArray(i);",xn,".bindBuffer(",34962,",",Jr,".buffer.buffer);",xn,".vertexAttribPointer(i,",Jr,".size,",Jr,".type,",Jr,".normalized,",Jr,".stride,",Jr,".offset);").else(xn,".disableVertexAttribArray(i);",xn,".vertexAttrib4f(i,",Jr,".x,",Jr,".y,",Jr,".z,",Jr,".w);",Jr,".buffer=null;");var en=wr.link(mr.maxAttributes,{stable:!0});return gr("for(var i=0;i<",en,";++i){",Jr,"=",Pr,"[i];",Yr,"}"),Mr&&gr("for(var i=0;i<",en,";++i){",hn,".vertexAttribDivisorANGLE(i,",Pr,"[i].divisor);","}"),gr(wr.shared.vao,".currentVAO=null;",wr.shared.vao,".setVAO(",wr.shared.vao,".targetVAO);"),Object.keys(xr).forEach(function(Cn){var On=xr[Cn],zn=Br.def(kn,".",Cn),Wn=wr.block();Wn("if(",zn,"){",xn,".enable(",On,")}else{",xn,".disable(",On,")}",wn,".",Cn,"=",zn,";"),gr(Wn),zr("if(",zn,"!==",wn,".",Cn,"){",Wn,"}")}),Object.keys(Nr).forEach(function(Cn){var On=Nr[Cn],zn=mn[Cn],Wn,Vn,xa=wr.block();xa(xn,".",On,"("),A(zn)?(On=zn.length,Wn=wr.global.def(kn,".",Cn),Vn=wr.global.def(wn,".",Cn),xa(i(On,function(ca){return Wn+"["+ca+"]"}),");",i(On,function(ca){return Vn+"["+ca+"]="+Wn+"["+ca+"];"}).join("")),zr("if(",i(On,function(ca){return Wn+"["+ca+"]!=="+Vn+"["+ca+"]"}).join("||"),"){",xa,"}")):(Wn=Br.def(kn,".",Cn),Vn=Br.def(wn,".",Cn),xa(Wn,");",wn,".",Cn,"=",Wn,";"),zr("if(",Wn,"!==",Vn,"){",xa,"}")),gr(xa)}),wr.compile()}(),compile:function(wr,zr,gr,Br,xn){var kn=It();kn.stats=kn.link(xn),Object.keys(zr.static).forEach(function(hn){ra(kn,zr,hn)}),gt.forEach(function(hn){ra(kn,wr,hn)});var wn=Gr(wr,zr,gr,Br,kn);return wn.shader.program&&(wn.shader.program.attributes.sort(function(hn,Pr){return hn.name<Pr.name?-1:1}),wn.shader.program.uniforms.sort(function(hn,Pr){return hn.name<Pr.name?-1:1})),yn(kn,wn),sa(kn,wn),Bn(kn,wn),ie(kn.compile(),{destroy:function(){wn.shader.program.destroy()}})}}}function ue(yt,Zt){for(var Jt=0;Jt<yt.length;++Jt)if(yt[Jt]===Zt)return Jt;return-1}var ie=function(yt,Zt){for(var Jt=Object.keys(Zt),mr=0;mr<Jt.length;++mr)yt[Jt[mr]]=Zt[Jt[mr]];return yt},ce=0,xe={DynamicVariable:B,define:function(yt,Zt){return new B(yt,p(Zt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof B},unbox:L,accessor:p},Le={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Ae=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Oe=h();Oe.zero=h();var ze=function(yt,Zt){var Jt=1;Zt.ext_texture_filter_anisotropic&&(Jt=yt.getParameter(34047));var mr=1,sr=1;Zt.webgl_draw_buffers&&(mr=yt.getParameter(34852),sr=yt.getParameter(36063));var vt=!!Zt.oes_texture_float;if(vt){vt=yt.createTexture(),yt.bindTexture(3553,vt),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var it=yt.createFramebuffer();if(yt.bindFramebuffer(36160,it),yt.framebufferTexture2D(36160,36064,3553,vt,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)vt=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var xt=Oe.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,xt),yt.getError()?vt=!1:(yt.deleteFramebuffer(it),yt.deleteTexture(vt),vt=xt[0]===1),Oe.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=yt.createTexture(),it=Oe.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,xt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,it),Oe.freeType(it),yt.bindTexture(34067,null),yt.deleteTexture(xt),xt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(Zt).filter(function(St){return!!Zt[St]}),maxAnisotropic:Jt,maxDrawbuffers:mr,maxColorAttachments:sr,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:vt,npotTextureCube:xt}},Ee=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},be=function(yt){return Object.keys(yt).map(function(Zt){return yt[Zt]})},Ce={shape:function(yt){for(var Zt=[];yt.length;yt=yt[0])Zt.push(yt.length);return Zt},flatten:function(yt,Zt,Jt,mr){var sr=1;if(Zt.length)for(var vt=0;vt<Zt.length;++vt)sr*=Zt[vt];else sr=0;switch(Jt=mr||Oe.allocType(Jt,sr),Zt.length){case 0:break;case 1:for(mr=Zt[0],Zt=0;Zt<mr;++Zt)Jt[Zt]=yt[Zt];break;case 2:for(mr=Zt[0],Zt=Zt[1],vt=sr=0;vt<mr;++vt)for(var it=yt[vt],xt=0;xt<Zt;++xt)Jt[sr++]=it[xt];break;case 3:s(yt,Zt[0],Zt[1],Zt[2],Jt,0);break;default:m(yt,Zt,0,Jt,0)}return Jt}},Ue={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},He={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Ie={dynamic:35048,stream:35040,static:35044},Ge=Ce.flatten,at=Ce.shape,lt=[];lt[5120]=1,lt[5122]=2,lt[5124]=4,lt[5121]=1,lt[5123]=2,lt[5125]=4,lt[5126]=4;var qe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},et=new Float32Array(1),ft=new Uint32Array(et.buffer),dt=[9984,9986,9985,9987],pt=[0,6409,6410,6407,6408],At={};At[6409]=At[6406]=At[6402]=1,At[34041]=At[6410]=2,At[6407]=At[35904]=3,At[6408]=At[35906]=4;var Pt=k("HTMLCanvasElement"),Ht=k("OffscreenCanvas"),Je=k("CanvasRenderingContext2D"),We=k("ImageBitmap"),_e=k("HTMLImageElement"),Ne=k("HTMLVideoElement"),ke=Object.keys(Ue).concat([Pt,Ht,Je,We,_e,Ne]),we=[];we[5121]=1,we[5126]=4,we[36193]=2,we[5123]=2,we[5125]=4;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[34041]=4,me[33776]=.5,me[33777]=.5,me[33778]=1,me[33779]=1,me[35986]=.5,me[35987]=1,me[34798]=1,me[35840]=.5,me[35841]=.25,me[35842]=.5,me[35843]=.25,me[36196]=.5;var Me=[];Me[32854]=2,Me[32855]=2,Me[36194]=2,Me[33189]=2,Me[36168]=1,Me[34041]=4,Me[35907]=4,Me[34836]=16,Me[34842]=8,Me[34843]=6;var Se=function(yt,Zt,Jt,mr,sr){function vt(Ot){this.id=Rt++,this.refCount=1,this.renderbuffer=Ot,this.format=32854,this.height=this.width=0,sr.profile&&(this.stats={size:0})}function it(Ot){var Nt=Ot.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Nt),Ot.renderbuffer=null,Ot.refCount=0,delete Lt[Ot.id],mr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Zt.ext_srgb&&(xt.srgba=35907),Zt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Zt.webgl_color_buffer_float&&(xt.rgba32f=34836);var St=[];Object.keys(xt).forEach(function(Ot){St[xt[Ot]]=Ot});var Rt=0,Lt={};return vt.prototype.decRef=function(){0>=--this.refCount&&it(this)},sr.profile&&(mr.getTotalRenderbufferSize=function(){var Ot=0;return Object.keys(Lt).forEach(function(Nt){Ot+=Lt[Nt].stats.size}),Ot}),{create:function(Ot,Nt){function Xt(cr,dr){var Ye=0,je=0,It=32854;if(typeof cr=="object"&&cr?("shape"in cr?(je=cr.shape,Ye=je[0]|0,je=je[1]|0):("radius"in cr&&(Ye=je=cr.radius|0),"width"in cr&&(Ye=cr.width|0),"height"in cr&&(je=cr.height|0)),"format"in cr&&(It=xt[cr.format])):typeof cr=="number"?(Ye=cr|0,je=typeof dr=="number"?dr|0:Ye):cr||(Ye=je=1),Ye!==ur.width||je!==ur.height||It!==ur.format)return Xt.width=ur.width=Ye,Xt.height=ur.height=je,ur.format=It,yt.bindRenderbuffer(36161,ur.renderbuffer),yt.renderbufferStorage(36161,It,Ye,je),sr.profile&&(ur.stats.size=Me[ur.format]*ur.width*ur.height),Xt.format=St[ur.format],Xt}var ur=new vt(yt.createRenderbuffer());return Lt[ur.id]=ur,mr.renderbufferCount++,Xt(Ot,Nt),Xt.resize=function(cr,dr){var Ye=cr|0,je=dr|0||Ye;return Ye===ur.width&&je===ur.height||(Xt.width=ur.width=Ye,Xt.height=ur.height=je,yt.bindRenderbuffer(36161,ur.renderbuffer),yt.renderbufferStorage(36161,ur.format,Ye,je),sr.profile&&(ur.stats.size=Me[ur.format]*ur.width*ur.height)),Xt},Xt._reglType="renderbuffer",Xt._renderbuffer=ur,sr.profile&&(Xt.stats=ur.stats),Xt.destroy=function(){ur.decRef()},Xt},clear:function(){be(Lt).forEach(it)},restore:function(){be(Lt).forEach(function(Ot){Ot.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,Ot.renderbuffer),yt.renderbufferStorage(36161,Ot.format,Ot.width,Ot.height)}),yt.bindRenderbuffer(36161,null)}}},Ve=[];Ve[6408]=4,Ve[6407]=3;var Ze=[];Ze[5121]=1,Ze[5126]=4,Ze[36193]=2;var tt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ct=["x","y","z","w"],gt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),jt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Kt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Tt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zt={cw:2304,ccw:2305},qt=new $(!1,!1,!1,function(){}),Sr=function(yt,Zt){function Jt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Lt,Ot,Nt){var Xt=it.pop()||new Jt;Xt.startQueryIndex=Lt,Xt.endQueryIndex=Ot,Xt.sum=0,Xt.stats=Nt,xt.push(Xt)}if(!Zt.ext_disjoint_timer_query)return null;var sr=[],vt=[],it=[],xt=[],St=[],Rt=[];return{beginQuery:function(Lt){var Ot=sr.pop()||Zt.ext_disjoint_timer_query.createQueryEXT();Zt.ext_disjoint_timer_query.beginQueryEXT(35007,Ot),vt.push(Ot),mr(vt.length-1,vt.length,Lt)},endQuery:function(){Zt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Lt,Ot;if(Lt=vt.length,Lt!==0){Rt.length=Math.max(Rt.length,Lt+1),St.length=Math.max(St.length,Lt+1),St[0]=0;var Nt=Rt[0]=0;for(Ot=Lt=0;Ot<vt.length;++Ot){var Xt=vt[Ot];Zt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34919)?(Nt+=Zt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34918),sr.push(Xt)):vt[Lt++]=Xt,St[Ot+1]=Nt,Rt[Ot+1]=Lt}for(vt.length=Lt,Ot=Lt=0;Ot<xt.length;++Ot){var Nt=xt[Ot],ur=Nt.startQueryIndex,Xt=Nt.endQueryIndex;Nt.sum+=St[Xt]-St[ur],ur=Rt[ur],Xt=Rt[Xt],Xt===ur?(Nt.stats.gpuTime+=Nt.sum/1e6,it.push(Nt)):(Nt.startQueryIndex=ur,Nt.endQueryIndex=Xt,xt[Lt++]=Nt)}xt.length=Lt}},getNumPendingQueries:function(){return vt.length},clear:function(){sr.push.apply(sr,vt);for(var Lt=0;Lt<sr.length;Lt++)Zt.ext_disjoint_timer_query.deleteQueryEXT(sr[Lt]);vt.length=0,sr.length=0},restore:function(){vt.length=0,sr.length=0}}};return function(yt){function Zt(){if(Tn.length===0)It&&It.update(),Wr=null;else{Wr=Le.next(Zt),Lt();for(var yn=Tn.length-1;0<=yn;--yn){var bn=Tn[yn];bn&&bn(tr,null,0)}Xt.flush(),It&&It.update()}}function Jt(){!Wr&&0<Tn.length&&(Wr=Le.next(Zt))}function mr(){Wr&&(Le.cancel(Zt),Wr=null)}function sr(yn){yn.preventDefault(),mr(),Cr.forEach(function(bn){bn()})}function vt(yn){Xt.getError(),cr.restore(),yr.restore(),Ft.restore(),vr.restore(),Gr.restore(),_r.restore(),br.restore(),It&&It.restore(),Dr.procs.refresh(),Jt(),Lr.forEach(function(bn){bn()})}function it(yn){function bn(mn,Yn){var $t={},xr={};return Object.keys(mn).forEach(function(Nr){var En=mn[Nr];if(xe.isDynamic(En))xr[Nr]=xe.unbox(En,Nr);else{if(Yn&&Array.isArray(En)){for(var Qn=0;Qn<En.length;++Qn)if(xe.isDynamic(En[Qn])){xr[Nr]=xe.unbox(En,Nr);return}}$t[Nr]=En}}),{dynamic:xr,static:$t}}function Pn(mn){for(;on.length<mn;)on.push(null);return on}var Bn=bn(yn.context||{},!0),sa=bn(yn.uniforms||{},!0),Kn=bn(yn.attributes||{},!1);yn=bn(function(mn){function Yn(xr){if(xr in $t){var Nr=$t[xr];delete $t[xr],Object.keys(Nr).forEach(function(En){$t[xr+"."+En]=Nr[En]})}}var $t=ie({},mn);return delete $t.uniforms,delete $t.attributes,delete $t.context,delete $t.vao,"stencil"in $t&&$t.stencil.op&&($t.stencil.opBack=$t.stencil.opFront=$t.stencil.op,delete $t.stencil.op),Yn("blend"),Yn("depth"),Yn("cull"),Yn("stencil"),Yn("polygonOffset"),Yn("scissor"),Yn("sample"),"vao"in mn&&($t.vao=mn.vao),$t}(yn),!1);var ra={gpuTime:0,cpuTime:0,count:0},$n=Dr.compile(yn,Kn,sa,Bn,ra),ta=$n.draw,Mr=$n.batch,un=$n.scope,on=[];return ie(function(mn,Yn){var $t;if(typeof mn=="function")return un.call(this,null,mn,0);if(typeof Yn=="function")if(typeof mn=="number")for($t=0;$t<mn;++$t)un.call(this,null,Yn,$t);else if(Array.isArray(mn))for($t=0;$t<mn.length;++$t)un.call(this,mn[$t],Yn,$t);else return un.call(this,mn,Yn,0);else if(typeof mn=="number"){if(0<mn)return Mr.call(this,Pn(mn|0),mn|0)}else if(Array.isArray(mn)){if(mn.length)return Mr.call(this,mn,mn.length)}else return ta.call(this,mn)},{stats:ra,destroy:function(){$n.destroy()}})}function xt(yn,bn){var Pn=0;Dr.procs.poll();var Bn=bn.color;Bn&&(Xt.clearColor(+Bn[0]||0,+Bn[1]||0,+Bn[2]||0,+Bn[3]||0),Pn|=16384),"depth"in bn&&(Xt.clearDepth(+bn.depth),Pn|=256),"stencil"in bn&&(Xt.clearStencil(bn.stencil|0),Pn|=1024),Xt.clear(Pn)}function St(yn){return Tn.push(yn),Jt(),{cancel:function(){function bn(){var Bn=ue(Tn,bn);Tn[Bn]=Tn[Tn.length-1],--Tn.length,0>=Tn.length&&mr()}var Pn=ue(Tn,yn);Tn[Pn]=bn}}}function Rt(){var yn=nn.viewport,bn=nn.scissor_box;yn[0]=yn[1]=bn[0]=bn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=yn[2]=bn[2]=Xt.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=yn[3]=bn[3]=Xt.drawingBufferHeight}function Lt(){tr.tick+=1,tr.time=Nt(),Rt(),Dr.procs.poll()}function Ot(){vr.refresh(),Rt(),Dr.procs.refresh(),It&&It.update()}function Nt(){return(Ae()-Dt)/1e3}if(yt=r(yt),!yt)return null;var Xt=yt.gl,ur=Xt.getContextAttributes();Xt.isContextLost();var cr=t(Xt,yt);if(!cr)return null;var pn=n(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ye=yt.cachedCode||{},je=cr.extensions,It=Sr(Xt,je),Dt=Ae(),fr=Xt.drawingBufferWidth,Yt=Xt.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:fr,viewportHeight:Yt,framebufferWidth:fr,framebufferHeight:Yt,drawingBufferWidth:fr,drawingBufferHeight:Yt,pixelRatio:yt.pixelRatio},fr={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=ze(Xt,je),Ft=l(Xt,dr,yt,function(yn){return br.destroyBuffer(yn)}),hr=g(Xt,je,Ft,dr),br=F(Xt,je,rr,dr,Ft,hr,fr),yr=N(Xt,pn,dr,yt),vr=z(Xt,je,rr,function(){Dr.procs.poll()},tr,dr,yt),Gr=Se(Xt,je,rr,dr,yt),_r=_(Xt,je,rr,vr,Gr,dr),Dr=K(Xt,pn,je,rr,Ft,hr,vr,_r,{},br,yr,fr,tr,It,Ye,yt),pn=U(Xt,_r,Dr.procs.poll,tr),nn=Dr.next,Un=Xt.canvas,Tn=[],Cr=[],Lr=[],Zr=[yt.onDestroy],Wr=null;Un&&(Un.addEventListener("webglcontextlost",sr,!1),Un.addEventListener("webglcontextrestored",vt,!1));var sn=_r.setFBO=it({framebuffer:xe.define.call(null,1,"framebuffer")});return Ot(),ur=ie(it,{clear:function(yn){if("framebuffer"in yn)if(yn.framebuffer&&yn.framebuffer_reglType==="framebufferCube")for(var bn=0;6>bn;++bn)sn(ie({framebuffer:yn.framebuffer.faces[bn]},yn),xt);else sn(yn,xt);else xt(null,yn)},prop:xe.define.bind(null,1),context:xe.define.bind(null,2),this:xe.define.bind(null,3),draw:it({}),buffer:function(yn){return Ft.create(yn,34962,!1,!1)},elements:function(yn){return hr.create(yn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Gr.create,framebuffer:_r.create,framebufferCube:_r.createCube,vao:br.createVAO,attributes:ur,frame:St,on:function(yn,bn){var Pn;switch(yn){case"frame":return St(bn);case"lost":Pn=Cr;break;case"restore":Pn=Lr;break;case"destroy":Pn=Zr}return Pn.push(bn),{cancel:function(){for(var Bn=0;Bn<Pn.length;++Bn)if(Pn[Bn]===bn){Pn[Bn]=Pn[Pn.length-1],Pn.pop();break}}}},limits:rr,hasExtension:function(yn){return 0<=rr.extensions.indexOf(yn.toLowerCase())},read:pn,destroy:function(){Tn.length=0,mr(),Un&&(Un.removeEventListener("webglcontextlost",sr),Un.removeEventListener("webglcontextrestored",vt)),yr.clear(),_r.clear(),Gr.clear(),br.clear(),vr.clear(),hr.clear(),Ft.clear(),It&&It.clear(),Zr.forEach(function(yn){yn()})},_gl:Xt,_refresh:Ot,poll:function(){Lt(),It&&It.update()},now:Nt,stats:dr,getCachedCode:function(){return Ye},preloadCachedCode:function(yn){Object.entries(yn).forEach(function(bn){Ye[bn[0]]=bn[1]})}}),yt.onDone(null,ur),ur}})},71665:function(V,B,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var p=e(12856),L=p.Buffer;function n(T,d){for(var y in T)d[y]=T[y]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?V.exports=p:(n(p,B),B.Buffer=C);function C(T,d,y){return L(T,d,y)}C.prototype=Object.create(L.prototype),n(L,C),C.from=function(T,d,y){if(typeof T=="number")throw new TypeError("Argument must not be a number");return L(T,d,y)},C.alloc=function(T,d,y){if(typeof T!="number")throw new TypeError("Argument must be a number");var r=L(T);return d!==void 0?typeof y=="string"?r.fill(d,y):r.fill(d):r.fill(0),r},C.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return L(T)},C.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(T)}},21630:function(V,B,e){V.exports=n;var p=e(15398).EventEmitter,L=e(42018);L(n,p),n.Readable=e(40410),n.Writable=e(37493),n.Duplex=e(37865),n.Transform=e(74308),n.PassThrough=e(66897),n.finished=e(12726),n.pipeline=e(10168),n.Stream=n;function n(){p.call(this)}n.prototype.pipe=function(C,T){var d=this;function y(s){C.writable&&C.write(s)===!1&&d.pause&&d.pause()}d.on("data",y);function r(){d.readable&&d.resume&&d.resume()}C.on("drain",r),!C._isStdio&&(!T||T.end!==!1)&&(d.on("end",i),d.on("close",a));var t=!1;function i(){t||(t=!0,C.end())}function a(){t||(t=!0,typeof C.destroy=="function"&&C.destroy())}function h(s){if(u(),p.listenerCount(this,"error")===0)throw s}d.on("error",h),C.on("error",h);function u(){d.removeListener("data",y),C.removeListener("drain",r),d.removeListener("end",i),d.removeListener("close",a),d.removeListener("error",h),C.removeListener("error",h),d.removeListener("end",u),d.removeListener("close",u),C.removeListener("close",u)}return d.on("end",u),d.on("close",u),C.on("close",u),C.emit("pipe",d),C}},74322:function(V){function B(d,y){d.prototype=Object.create(y.prototype),d.prototype.constructor=d,d.__proto__=y}var e={};function p(d,y,r){r||(r=Error);function t(a,h,u){return typeof y=="string"?y:y(a,h,u)}var i=function(a){B(h,a);function h(u,s,m){return a.call(this,t(u,s,m))||this}return h}(r);i.prototype.name=r.name,i.prototype.code=d,e[d]=i}function L(d,y){if(Array.isArray(d)){var r=d.length;return d=d.map(function(t){return String(t)}),r>2?"one of ".concat(y," ").concat(d.slice(0,r-1).join(", "),", or ")+d[r-1]:r===2?"one of ".concat(y," ").concat(d[0]," or ").concat(d[1]):"of ".concat(y," ").concat(d[0])}else return"of ".concat(y," ").concat(String(d))}function n(d,y,r){return d.substr(!r||r<0?0:+r,y.length)===y}function C(d,y,r){return(r===void 0||r>d.length)&&(r=d.length),d.substring(r-y.length,r)===y}function T(d,y,r){return typeof r!="number"&&(r=0),r+y.length>d.length?!1:d.indexOf(y,r)!==-1}p("ERR_INVALID_OPT_VALUE",function(d,y){return'The value "'+y+'" is invalid for option "'+d+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(d,y,r){var t;typeof y=="string"&&n(y,"not ")?(t="must not be",y=y.replace(/^not /,"")):t="must be";var i;if(C(d," argument"))i="The ".concat(d," ").concat(t," ").concat(L(y,"type"));else{var a=T(d,".")?"property":"argument";i='The "'.concat(d,'" ').concat(a," ").concat(t," ").concat(L(y,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),V.exports.q=e},37865:function(V,B,e){var p=e(90386),L=Object.keys||function(a){var h=[];for(var u in a)h.push(u);return h};V.exports=r;var n=e(40410),C=e(37493);e(42018)(r,n);for(var T=L(C.prototype),d=0;d<T.length;d++){var y=T[d];r.prototype[y]||(r.prototype[y]=C.prototype[y])}function r(a){if(!(this instanceof r))return new r(a);n.call(this,a),C.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",t)))}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function t(){this._writableState.ended||p.nextTick(i,this)}function i(a){a.end()}Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}})},66897:function(V,B,e){V.exports=L;var p=e(74308);e(42018)(L,p);function L(n){if(!(this instanceof L))return new L(n);p.call(this,n)}L.prototype._transform=function(n,C,T){T(null,n)}},40410:function(V,B,e){var p=e(90386);V.exports=o;var L;o.ReadableState=b,e(15398).EventEmitter;var n=function(K,ue){return K.listeners(ue).length},C=e(71405),T=e(12856).Buffer,d=e.g.Uint8Array||function(){};function y(Q){return T.from(Q)}function r(Q){return T.isBuffer(Q)||Q instanceof d}var t=e(40964),i;t&&t.debuglog?i=t.debuglog("stream"):i=function(){};var a=e(31125),h=e(65756),u=e(56306),s=u.getHighWaterMark,m=e(74322).q,f=m.ERR_INVALID_ARG_TYPE,S=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,l=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,M,A;e(42018)(o,C);var k=h.errorOrDestroy,w=["error","close","destroy","pause","resume"];function E(Q,K,ue){if(typeof Q.prependListener=="function")return Q.prependListener(K,ue);!Q._events||!Q._events[K]?Q.on(K,ue):Array.isArray(Q._events[K])?Q._events[K].unshift(ue):Q._events[K]=[ue,Q._events[K]]}function b(Q,K,ue){L=L||e(37865),Q=Q||{},typeof ue!="boolean"&&(ue=K instanceof L),this.objectMode=!!Q.objectMode,ue&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=s(this,Q,"readableHighWaterMark",ue),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(g||(g=e(68019).s),this.decoder=new g(Q.encoding),this.encoding=Q.encoding)}function o(Q){if(L=L||e(37865),!(this instanceof o))return new o(Q);var K=this instanceof L;this._readableState=new b(Q,this,K),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),C.call(this)}Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),o.prototype.destroy=h.destroy,o.prototype._undestroy=h.undestroy,o.prototype._destroy=function(Q,K){K(Q)},o.prototype.push=function(Q,K){var ue=this._readableState,ie;return ue.objectMode?ie=!0:typeof Q=="string"&&(K=K||ue.defaultEncoding,K!==ue.encoding&&(Q=T.from(Q,K),K=""),ie=!0),P(this,Q,K,!1,ie)},o.prototype.unshift=function(Q){return P(this,Q,null,!0,!1)};function P(Q,K,ue,ie,ce){i("readableAddChunk",K);var xe=Q._readableState;if(K===null)xe.reading=!1,N(Q,xe);else{var Le;if(ce||(Le=z(xe,K)),Le)k(Q,Le);else if(xe.objectMode||K&&K.length>0)if(typeof K!="string"&&!xe.objectMode&&Object.getPrototypeOf(K)!==T.prototype&&(K=y(K)),ie)xe.endEmitted?k(Q,new l):x(Q,xe,K,!0);else if(xe.ended)k(Q,new S);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!ue?(K=xe.decoder.write(K),xe.objectMode||K.length!==0?x(Q,xe,K,!1):H(Q,xe)):x(Q,xe,K,!1)}else ie||(xe.reading=!1,H(Q,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function x(Q,K,ue,ie){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,Q.emit("data",ue)):(K.length+=K.objectMode?1:ue.length,ie?K.buffer.unshift(ue):K.buffer.push(ue),K.needReadable&&U(Q)),H(Q,K)}function z(Q,K){var ue;return!r(K)&&typeof K!="string"&&K!==void 0&&!Q.objectMode&&(ue=new f("chunk",["string","Buffer","Uint8Array"],K)),ue}o.prototype.isPaused=function(){return this._readableState.flowing===!1},o.prototype.setEncoding=function(Q){g||(g=e(68019).s);var K=new g(Q);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,ie="";ue!==null;)ie+=K.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),ie!==""&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var _=1073741824;function G(Q){return Q>=_?Q=_:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function F(Q,K){return Q<=0||K.length===0&&K.ended?0:K.objectMode?1:Q!==Q?K.flowing&&K.length?K.buffer.head.data.length:K.length:(Q>K.highWaterMark&&(K.highWaterMark=G(Q)),Q<=K.length?Q:K.ended?K.length:(K.needReadable=!0,0))}o.prototype.read=function(Q){i("read",Q),Q=parseInt(Q,10);var K=this._readableState,ue=Q;if(Q!==0&&(K.emittedReadable=!1),Q===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return i("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?$(this):U(this),null;if(Q=F(Q,K),Q===0&&K.ended)return K.length===0&&$(this),null;var ie=K.needReadable;i("need readable",ie),(K.length===0||K.length-Q<K.highWaterMark)&&(ie=!0,i("length less than watermark",ie)),K.ended||K.reading?(ie=!1,i("reading or ended",ie)):ie&&(i("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(Q=F(ue,K)));var ce;return Q>0?ce=se(Q,K):ce=null,ce===null?(K.needReadable=K.length<=K.highWaterMark,Q=0):(K.length-=Q,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),ue!==Q&&K.ended&&$(this)),ce!==null&&this.emit("data",ce),ce};function N(Q,K){if(i("onEofChunk"),!K.ended){if(K.decoder){var ue=K.decoder.end();ue&&ue.length&&(K.buffer.push(ue),K.length+=K.objectMode?1:ue.length)}K.ended=!0,K.sync?U(Q):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,O(Q)))}}function U(Q){var K=Q._readableState;i("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(i("emitReadable",K.flowing),K.emittedReadable=!0,p.nextTick(O,Q))}function O(Q){var K=Q._readableState;i("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(Q.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Z(Q)}function H(Q,K){K.readingMore||(K.readingMore=!0,p.nextTick(Y,Q,K))}function Y(Q,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var ue=K.length;if(i("maybeReadMore read 0"),Q.read(0),ue===K.length)break}K.readingMore=!1}o.prototype._read=function(Q){k(this,new v("_read()"))},o.prototype.pipe=function(Q,K){var ue=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=Q;break;case 1:ie.pipes=[ie.pipes,Q];break;default:ie.pipes.push(Q);break}ie.pipesCount+=1,i("pipe count=%d opts=%j",ie.pipesCount,K);var ce=(!K||K.end!==!1)&&Q!==p.stdout&&Q!==p.stderr,xe=ce?Ae:Ie;ie.endEmitted?p.nextTick(xe):ue.once("end",xe),Q.on("unpipe",Le);function Le(Ge,at){i("onunpipe"),Ge===ue&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,Ee())}function Ae(){i("onend"),Q.end()}var Oe=q(ue);Q.on("drain",Oe);var ze=!1;function Ee(){i("cleanup"),Q.removeListener("close",Ue),Q.removeListener("finish",He),Q.removeListener("drain",Oe),Q.removeListener("error",Ce),Q.removeListener("unpipe",Le),ue.removeListener("end",Ae),ue.removeListener("end",Ie),ue.removeListener("data",be),ze=!0,ie.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&Oe()}ue.on("data",be);function be(Ge){i("ondata");var at=Q.write(Ge);i("dest.write",at),at===!1&&((ie.pipesCount===1&&ie.pipes===Q||ie.pipesCount>1&&le(ie.pipes,Q)!==-1)&&!ze&&(i("false write response, pause",ie.awaitDrain),ie.awaitDrain++),ue.pause())}function Ce(Ge){i("onerror",Ge),Ie(),Q.removeListener("error",Ce),n(Q,"error")===0&&k(Q,Ge)}E(Q,"error",Ce);function Ue(){Q.removeListener("finish",He),Ie()}Q.once("close",Ue);function He(){i("onfinish"),Q.removeListener("close",Ue),Ie()}Q.once("finish",He);function Ie(){i("unpipe"),ue.unpipe(Q)}return Q.emit("pipe",ue),ie.flowing||(i("pipe resume"),ue.resume()),Q};function q(Q){return function(){var ue=Q._readableState;i("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&n(Q,"data")&&(ue.flowing=!0,Z(Q))}}o.prototype.unpipe=function(Q){var K=this._readableState,ue={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return Q&&Q!==K.pipes?this:(Q||(Q=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,Q&&Q.emit("unpipe",this,ue),this);if(!Q){var ie=K.pipes,ce=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var xe=0;xe<ce;xe++)ie[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Le=le(K.pipes,Q);return Le===-1?this:(K.pipes.splice(Le,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),Q.emit("unpipe",this,ue),this)},o.prototype.on=function(Q,K){var ue=C.prototype.on.call(this,Q,K),ie=this._readableState;return Q==="data"?(ie.readableListening=this.listenerCount("readable")>0,ie.flowing!==!1&&this.resume()):Q==="readable"&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,i("on readable",ie.length,ie.reading),ie.length?U(this):ie.reading||p.nextTick(oe,this)),ue},o.prototype.addListener=o.prototype.on,o.prototype.removeListener=function(Q,K){var ue=C.prototype.removeListener.call(this,Q,K);return Q==="readable"&&p.nextTick(ne,this),ue},o.prototype.removeAllListeners=function(Q){var K=C.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&p.nextTick(ne,this),K};function ne(Q){var K=Q._readableState;K.readableListening=Q.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function oe(Q){i("readable nexttick read 0"),Q.read(0)}o.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(i("resume"),Q.flowing=!Q.readableListening,he(this,Q)),Q.paused=!1,this};function he(Q,K){K.resumeScheduled||(K.resumeScheduled=!0,p.nextTick(J,Q,K))}function J(Q,K){i("resume",K.reading),K.reading||Q.read(0),K.resumeScheduled=!1,Q.emit("resume"),Z(Q),K.flowing&&!K.reading&&Q.read(0)}o.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(Q){var K=Q._readableState;for(i("flow",K.flowing);K.flowing&&Q.read()!==null;);}o.prototype.wrap=function(Q){var K=this,ue=this._readableState,ie=!1;Q.on("end",function(){if(i("wrapped end"),ue.decoder&&!ue.ended){var Le=ue.decoder.end();Le&&Le.length&&K.push(Le)}K.push(null)}),Q.on("data",function(Le){if(i("wrapped data"),ue.decoder&&(Le=ue.decoder.write(Le)),!(ue.objectMode&&Le==null)&&!(!ue.objectMode&&(!Le||!Le.length))){var Ae=K.push(Le);Ae||(ie=!0,Q.pause())}});for(var ce in Q)this[ce]===void 0&&typeof Q[ce]=="function"&&(this[ce]=function(Ae){return function(){return Q[Ae].apply(Q,arguments)}}(ce));for(var xe=0;xe<w.length;xe++)Q.on(w[xe],this.emit.bind(this,w[xe]));return this._read=function(Le){i("wrapped _read",Le),ie&&(ie=!1,Q.resume())},this},typeof Symbol=="function"&&(o.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=e(68221)),M(this)}),Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(o.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(o.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),o._fromList=se,Object.defineProperty(o.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function se(Q,K){if(K.length===0)return null;var ue;return K.objectMode?ue=K.buffer.shift():!Q||Q>=K.length?(K.decoder?ue=K.buffer.join(""):K.buffer.length===1?ue=K.buffer.first():ue=K.buffer.concat(K.length),K.buffer.clear()):ue=K.buffer.consume(Q,K.decoder),ue}function $(Q){var K=Q._readableState;i("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,p.nextTick(ee,K,Q))}function ee(Q,K){if(i("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,K.readable=!1,K.emit("end"),Q.autoDestroy)){var ue=K._writableState;(!ue||ue.autoDestroy&&ue.finished)&&K.destroy()}}typeof Symbol=="function"&&(o.from=function(Q,K){return A===void 0&&(A=e(31748)),A(o,Q,K)});function le(Q,K){for(var ue=0,ie=Q.length;ue<ie;ue++)if(Q[ue]===K)return ue;return-1}},74308:function(V,B,e){V.exports=r;var p=e(74322).q,L=p.ERR_METHOD_NOT_IMPLEMENTED,n=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=p.ERR_TRANSFORM_WITH_LENGTH_0,d=e(37865);e(42018)(r,d);function y(a,h){var u=this._transformState;u.transforming=!1;var s=u.writecb;if(s===null)return this.emit("error",new n);u.writechunk=null,u.writecb=null,h!=null&&this.push(h),s(a);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function r(a){if(!(this instanceof r))return new r(a);d.call(this,a),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",t)}function t(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,u){i(a,h,u)}):i(this,null,null)}r.prototype.push=function(a,h){return this._transformState.needTransform=!1,d.prototype.push.call(this,a,h)},r.prototype._transform=function(a,h,u){u(new L("_transform()"))},r.prototype._write=function(a,h,u){var s=this._transformState;if(s.writecb=u,s.writechunk=a,s.writeencoding=h,!s.transforming){var m=this._readableState;(s.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},r.prototype._read=function(a){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},r.prototype._destroy=function(a,h){d.prototype._destroy.call(this,a,function(u){h(u)})};function i(a,h,u){if(h)return a.emit("error",h);if(u!=null&&a.push(u),a._writableState.length)throw new T;if(a._transformState.transforming)throw new C;return a.push(null)}},37493:function(V,B,e){var p=e(90386);V.exports=b;function L(Z){var se=this;this.next=null,this.entry=null,this.finish=function(){J(se,Z)}}var n;b.WritableState=w;var C={deprecate:e(20588)},T=e(71405),d=e(12856).Buffer,y=e.g.Uint8Array||function(){};function r(Z){return d.from(Z)}function t(Z){return d.isBuffer(Z)||Z instanceof y}var i=e(65756),a=e(56306),h=a.getHighWaterMark,u=e(74322).q,s=u.ERR_INVALID_ARG_TYPE,m=u.ERR_METHOD_NOT_IMPLEMENTED,f=u.ERR_MULTIPLE_CALLBACK,S=u.ERR_STREAM_CANNOT_PIPE,v=u.ERR_STREAM_DESTROYED,l=u.ERR_STREAM_NULL_VALUES,g=u.ERR_STREAM_WRITE_AFTER_END,M=u.ERR_UNKNOWN_ENCODING,A=i.errorOrDestroy;e(42018)(b,T);function k(){}function w(Z,se,$){n=n||e(37865),Z=Z||{},typeof $!="boolean"&&($=se instanceof n),this.objectMode=!!Z.objectMode,$&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=h(this,Z,"writableHighWaterMark",$),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=Z.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){N(se,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}w.prototype.getBuffer=function(){for(var se=this.bufferedRequest,$=[];se;)$.push(se),se=se.next;return $},function(){try{Object.defineProperty(w.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(se){return E.call(this,se)?!0:this!==b?!1:se&&se._writableState instanceof w}})):E=function(se){return se instanceof this};function b(Z){n=n||e(37865);var se=this instanceof n;if(!se&&!E.call(b,this))return new b(Z);this._writableState=new w(Z,this,se),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),T.call(this)}b.prototype.pipe=function(){A(this,new S)};function o(Z,se){var $=new g;A(Z,$),p.nextTick(se,$)}function P(Z,se,$,ee){var le;return $===null?le=new l:typeof $!="string"&&!se.objectMode&&(le=new s("chunk",["string","Buffer"],$)),le?(A(Z,le),p.nextTick(ee,le),!1):!0}b.prototype.write=function(Z,se,$){var ee=this._writableState,le=!1,Q=!ee.objectMode&&t(Z);return Q&&!d.isBuffer(Z)&&(Z=r(Z)),typeof se=="function"&&($=se,se=null),Q?se="buffer":se||(se=ee.defaultEncoding),typeof $!="function"&&($=k),ee.ending?o(this,$):(Q||P(this,ee,Z,$))&&(ee.pendingcb++,le=z(this,ee,Q,Z,se,$)),le},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&H(this,Z))},b.prototype.setDefaultEncoding=function(se){if(typeof se=="string"&&(se=se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((se+"").toLowerCase())>-1))throw new M(se);return this._writableState.defaultEncoding=se,this},Object.defineProperty(b.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function x(Z,se,$){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof se=="string"&&(se=d.from(se,$)),se}Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(Z,se,$,ee,le,Q){if(!$){var K=x(se,ee,le);ee!==K&&($=!0,le="buffer",ee=K)}var ue=se.objectMode?1:ee.length;se.length+=ue;var ie=se.length<se.highWaterMark;if(ie||(se.needDrain=!0),se.writing||se.corked){var ce=se.lastBufferedRequest;se.lastBufferedRequest={chunk:ee,encoding:le,isBuf:$,callback:Q,next:null},ce?ce.next=se.lastBufferedRequest:se.bufferedRequest=se.lastBufferedRequest,se.bufferedRequestCount+=1}else _(Z,se,!1,ue,ee,le,Q);return ie}function _(Z,se,$,ee,le,Q,K){se.writelen=ee,se.writecb=K,se.writing=!0,se.sync=!0,se.destroyed?se.onwrite(new v("write")):$?Z._writev(le,se.onwrite):Z._write(le,Q,se.onwrite),se.sync=!1}function G(Z,se,$,ee,le){--se.pendingcb,$?(p.nextTick(le,ee),p.nextTick(oe,Z,se),Z._writableState.errorEmitted=!0,A(Z,ee)):(le(ee),Z._writableState.errorEmitted=!0,A(Z,ee),oe(Z,se))}function F(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function N(Z,se){var $=Z._writableState,ee=$.sync,le=$.writecb;if(typeof le!="function")throw new f;if(F($),se)G(Z,$,ee,se,le);else{var Q=Y($)||Z.destroyed;!Q&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&H(Z,$),ee?p.nextTick(U,Z,$,Q,le):U(Z,$,Q,le)}}function U(Z,se,$,ee){$||O(Z,se),se.pendingcb--,ee(),oe(Z,se)}function O(Z,se){se.length===0&&se.needDrain&&(se.needDrain=!1,Z.emit("drain"))}function H(Z,se){se.bufferProcessing=!0;var $=se.bufferedRequest;if(Z._writev&&$&&$.next){var ee=se.bufferedRequestCount,le=new Array(ee),Q=se.corkedRequestsFree;Q.entry=$;for(var K=0,ue=!0;$;)le[K]=$,$.isBuf||(ue=!1),$=$.next,K+=1;le.allBuffers=ue,_(Z,se,!0,se.length,le,"",Q.finish),se.pendingcb++,se.lastBufferedRequest=null,Q.next?(se.corkedRequestsFree=Q.next,Q.next=null):se.corkedRequestsFree=new L(se),se.bufferedRequestCount=0}else{for(;$;){var ie=$.chunk,ce=$.encoding,xe=$.callback,Le=se.objectMode?1:ie.length;if(_(Z,se,!1,Le,ie,ce,xe),$=$.next,se.bufferedRequestCount--,se.writing)break}$===null&&(se.lastBufferedRequest=null)}se.bufferedRequest=$,se.bufferProcessing=!1}b.prototype._write=function(Z,se,$){$(new m("_write()"))},b.prototype._writev=null,b.prototype.end=function(Z,se,$){var ee=this._writableState;return typeof Z=="function"?($=Z,Z=null,se=null):typeof se=="function"&&($=se,se=null),Z!=null&&this.write(Z,se),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||he(this,ee,$),this},Object.defineProperty(b.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Y(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function q(Z,se){Z._final(function($){se.pendingcb--,$&&A(Z,$),se.prefinished=!0,Z.emit("prefinish"),oe(Z,se)})}function ne(Z,se){!se.prefinished&&!se.finalCalled&&(typeof Z._final=="function"&&!se.destroyed?(se.pendingcb++,se.finalCalled=!0,p.nextTick(q,Z,se)):(se.prefinished=!0,Z.emit("prefinish")))}function oe(Z,se){var $=Y(se);if($&&(ne(Z,se),se.pendingcb===0&&(se.finished=!0,Z.emit("finish"),se.autoDestroy))){var ee=Z._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&Z.destroy()}return $}function he(Z,se,$){se.ending=!0,oe(Z,se),$&&(se.finished?p.nextTick($):Z.once("finish",$)),se.ended=!0,Z.writable=!1}function J(Z,se,$){var ee=Z.entry;for(Z.entry=null;ee;){var le=ee.callback;se.pendingcb--,le($),ee=ee.next}se.corkedRequestsFree.next=Z}Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(se){this._writableState&&(this._writableState.destroyed=se)}}),b.prototype.destroy=i.destroy,b.prototype._undestroy=i.undestroy,b.prototype._destroy=function(Z,se){se(Z)}},68221:function(V,B,e){var p=e(90386),L;function n(l,g,M){return g in l?Object.defineProperty(l,g,{value:M,enumerable:!0,configurable:!0,writable:!0}):l[g]=M,l}var C=e(12726),T=Symbol("lastResolve"),d=Symbol("lastReject"),y=Symbol("error"),r=Symbol("ended"),t=Symbol("lastPromise"),i=Symbol("handlePromise"),a=Symbol("stream");function h(l,g){return{value:l,done:g}}function u(l){var g=l[T];if(g!==null){var M=l[a].read();M!==null&&(l[t]=null,l[T]=null,l[d]=null,g(h(M,!1)))}}function s(l){p.nextTick(u,l)}function m(l,g){return function(M,A){l.then(function(){if(g[r]){M(h(void 0,!0));return}g[i](M,A)},A)}}var f=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((L={get stream(){return this[a]},next:function(){var g=this,M=this[y];if(M!==null)return Promise.reject(M);if(this[r])return Promise.resolve(h(void 0,!0));if(this[a].destroyed)return new Promise(function(E,b){p.nextTick(function(){g[y]?b(g[y]):E(h(void 0,!0))})});var A=this[t],k;if(A)k=new Promise(m(A,this));else{var w=this[a].read();if(w!==null)return Promise.resolve(h(w,!1));k=new Promise(this[i])}return this[t]=k,k}},n(L,Symbol.asyncIterator,function(){return this}),n(L,"return",function(){var g=this;return new Promise(function(M,A){g[a].destroy(null,function(k){if(k){A(k);return}M(h(void 0,!0))})})}),L),f),v=function(g){var M,A=Object.create(S,(M={},n(M,a,{value:g,writable:!0}),n(M,T,{value:null,writable:!0}),n(M,d,{value:null,writable:!0}),n(M,y,{value:null,writable:!0}),n(M,r,{value:g._readableState.endEmitted,writable:!0}),n(M,i,{value:function(w,E){var b=A[a].read();b?(A[t]=null,A[T]=null,A[d]=null,w(h(b,!1))):(A[T]=w,A[d]=E)},writable:!0}),M));return A[t]=null,C(g,function(k){if(k&&k.code!=="ERR_STREAM_PREMATURE_CLOSE"){var w=A[d];w!==null&&(A[t]=null,A[T]=null,A[d]=null,w(k)),A[y]=k;return}var E=A[T];E!==null&&(A[t]=null,A[T]=null,A[d]=null,E(h(void 0,!0))),A[r]=!0}),g.on("readable",s.bind(null,A)),A};V.exports=v},31125:function(V,B,e){function p(u,s){var m=Object.keys(u);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(u);s&&(f=f.filter(function(S){return Object.getOwnPropertyDescriptor(u,S).enumerable})),m.push.apply(m,f)}return m}function L(u){for(var s=1;s<arguments.length;s++){var m=arguments[s]!=null?arguments[s]:{};s%2?p(Object(m),!0).forEach(function(f){n(u,f,m[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(m)):p(Object(m)).forEach(function(f){Object.defineProperty(u,f,Object.getOwnPropertyDescriptor(m,f))})}return u}function n(u,s,m){return s in u?Object.defineProperty(u,s,{value:m,enumerable:!0,configurable:!0,writable:!0}):u[s]=m,u}function C(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}function T(u,s){for(var m=0;m<s.length;m++){var f=s[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}function d(u,s,m){return s&&T(u.prototype,s),m&&T(u,m),u}var y=e(12856),r=y.Buffer,t=e(69862),i=t.inspect,a=i&&i.custom||"inspect";function h(u,s,m){r.prototype.copy.call(u,s,m)}V.exports=function(){function u(){C(this,u),this.head=null,this.tail=null,this.length=0}return d(u,[{key:"push",value:function(m){var f={data:m,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(m){var f={data:m,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var f=this.head,S=""+f.data;f=f.next;)S+=m+f.data;return S}},{key:"concat",value:function(m){if(this.length===0)return r.alloc(0);for(var f=r.allocUnsafe(m>>>0),S=this.head,v=0;S;)h(S.data,f,v),v+=S.data.length,S=S.next;return f}},{key:"consume",value:function(m,f){var S;return m<this.head.data.length?(S=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?S=this.shift():S=f?this._getString(m):this._getBuffer(m),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var f=this.head,S=1,v=f.data;for(m-=v.length;f=f.next;){var l=f.data,g=m>l.length?l.length:m;if(g===l.length?v+=l:v+=l.slice(0,m),m-=g,m===0){g===l.length?(++S,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=l.slice(g));break}++S}return this.length-=S,v}},{key:"_getBuffer",value:function(m){var f=r.allocUnsafe(m),S=this.head,v=1;for(S.data.copy(f),m-=S.data.length;S=S.next;){var l=S.data,g=m>l.length?l.length:m;if(l.copy(f,f.length-m,0,g),m-=g,m===0){g===l.length?(++v,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=l.slice(g));break}++v}return this.length-=v,f}},{key:a,value:function(m,f){return i(this,L({},f,{depth:0,customInspect:!1}))}}]),u}()},65756:function(V,B,e){var p=e(90386);function L(r,t){var i=this,a=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return a||h?(t?t(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(d,this,r)):p.nextTick(d,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(u){!t&&u?i._writableState?i._writableState.errorEmitted?p.nextTick(C,i):(i._writableState.errorEmitted=!0,p.nextTick(n,i,u)):p.nextTick(n,i,u):t?(p.nextTick(C,i),t(u)):p.nextTick(C,i)}),this)}function n(r,t){d(r,t),C(r)}function C(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(r,t){r.emit("error",t)}function y(r,t){var i=r._readableState,a=r._writableState;i&&i.autoDestroy||a&&a.autoDestroy?r.destroy(t):r.emit("error",t)}V.exports={destroy:L,undestroy:T,errorOrDestroy:y}},12726:function(V,B,e){var p=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function L(d){var y=!1;return function(){if(!y){y=!0;for(var r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];d.apply(this,t)}}}function n(){}function C(d){return d.setHeader&&typeof d.abort=="function"}function T(d,y,r){if(typeof y=="function")return T(d,null,y);y||(y={}),r=L(r||n);var t=y.readable||y.readable!==!1&&d.readable,i=y.writable||y.writable!==!1&&d.writable,a=function(){d.writable||u()},h=d._writableState&&d._writableState.finished,u=function(){i=!1,h=!0,t||r.call(d)},s=d._readableState&&d._readableState.endEmitted,m=function(){t=!1,s=!0,i||r.call(d)},f=function(g){r.call(d,g)},S=function(){var g;if(t&&!s)return(!d._readableState||!d._readableState.ended)&&(g=new p),r.call(d,g);if(i&&!h)return(!d._writableState||!d._writableState.ended)&&(g=new p),r.call(d,g)},v=function(){d.req.on("finish",u)};return C(d)?(d.on("complete",u),d.on("abort",S),d.req?v():d.on("request",v)):i&&!d._writableState&&(d.on("end",a),d.on("close",a)),d.on("end",m),d.on("finish",u),y.error!==!1&&d.on("error",f),d.on("close",S),function(){d.removeListener("complete",u),d.removeListener("abort",S),d.removeListener("request",v),d.req&&d.req.removeListener("finish",u),d.removeListener("end",a),d.removeListener("close",a),d.removeListener("finish",u),d.removeListener("end",m),d.removeListener("error",f),d.removeListener("close",S)}}V.exports=T},31748:function(V){V.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(V,B,e){var p;function L(u){var s=!1;return function(){s||(s=!0,u.apply(void 0,arguments))}}var n=e(74322).q,C=n.ERR_MISSING_ARGS,T=n.ERR_STREAM_DESTROYED;function d(u){if(u)throw u}function y(u){return u.setHeader&&typeof u.abort=="function"}function r(u,s,m,f){f=L(f);var S=!1;u.on("close",function(){S=!0}),p===void 0&&(p=e(12726)),p(u,{readable:s,writable:m},function(l){if(l)return f(l);S=!0,f()});var v=!1;return function(l){if(!S&&!v){if(v=!0,y(u))return u.abort();if(typeof u.destroy=="function")return u.destroy();f(l||new T("pipe"))}}}function t(u){u()}function i(u,s){return u.pipe(s)}function a(u){return!u.length||typeof u[u.length-1]!="function"?d:u.pop()}function h(){for(var u=arguments.length,s=new Array(u),m=0;m<u;m++)s[m]=arguments[m];var f=a(s);if(Array.isArray(s[0])&&(s=s[0]),s.length<2)throw new C("streams");var S,v=s.map(function(l,g){var M=g<s.length-1,A=g>0;return r(l,M,A,function(k){S||(S=k),k&&v.forEach(t),!M&&(v.forEach(t),f(S))})});return s.reduce(i)}V.exports=h},56306:function(V,B,e){var p=e(74322).q.ERR_INVALID_OPT_VALUE;function L(C,T,d){return C.highWaterMark!=null?C.highWaterMark:T?C[d]:null}function n(C,T,d,y){var r=L(T,y,d);if(r!=null){if(!(isFinite(r)&&Math.floor(r)===r)||r<0){var t=y?d:"highWaterMark";throw new p(t,r)}return Math.floor(r)}return C.objectMode?16:16384}V.exports={getHighWaterMark:n}},71405:function(V,B,e){V.exports=e(15398).EventEmitter},68019:function(V,B,e){var p=e(71665).Buffer,L=p.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(v){if(!v)return"utf8";for(var l;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(l)return;v=(""+v).toLowerCase(),l=!0}}function C(v){var l=n(v);if(typeof l!="string"&&(p.isEncoding===L||!L(v)))throw new Error("Unknown encoding: "+v);return l||v}B.s=T;function T(v){this.encoding=C(v);var l;switch(this.encoding){case"utf16le":this.text=h,this.end=u,l=4;break;case"utf8":this.fillLast=t,l=4;break;case"base64":this.text=s,this.end=m,l=3;break;default:this.write=f,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(l)}T.prototype.write=function(v){if(v.length===0)return"";var l,g;if(this.lastNeed){if(l=this.fillLast(v),l===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<v.length?l?l+this.text(v,g):this.text(v,g):l||""},T.prototype.end=a,T.prototype.text=i,T.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function d(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function y(v,l,g){var M=l.length-1;if(M<g)return 0;var A=d(l[M]);return A>=0?(A>0&&(v.lastNeed=A-1),A):--M<g||A===-2?0:(A=d(l[M]),A>=0?(A>0&&(v.lastNeed=A-2),A):--M<g||A===-2?0:(A=d(l[M]),A>=0?(A>0&&(A===2?A=0:v.lastNeed=A-3),A):0))}function r(v,l,g){if((l[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&l.length>1){if((l[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&l.length>2&&(l[2]&192)!==128)return v.lastNeed=2,""}}function t(v){var l=this.lastTotal-this.lastNeed,g=r(this,v);if(g!==void 0)return g;if(this.lastNeed<=v.length)return v.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,l,0,v.length),this.lastNeed-=v.length}function i(v,l){var g=y(this,v,l);if(!this.lastNeed)return v.toString("utf8",l);this.lastTotal=g;var M=v.length-(g-this.lastNeed);return v.copy(this.lastChar,0,M),v.toString("utf8",l,M)}function a(v){var l=v&&v.length?this.write(v):"";return this.lastNeed?l+"":l}function h(v,l){if((v.length-l)%2===0){var g=v.toString("utf16le",l);if(g){var M=g.charCodeAt(g.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",l,v.length-1)}function u(v){var l=v&&v.length?this.write(v):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,g)}return l}function s(v,l){var g=(v.length-l)%3;return g===0?v.toString("base64",l):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",l,v.length-g))}function m(v){var l=v&&v.length?this.write(v):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function f(v){return v.toString(this.encoding)}function S(v){return v&&v.length?this.write(v):""}},90715:function(V,B,e){var p=e(32791),L=e(41633)("stream-parser");V.exports=y;var n=-1,C=0,T=1,d=2;function y(v){var l=v&&typeof v._transform=="function",g=v&&typeof v._write=="function";if(!l&&!g)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),v._bytes=t,v._skipBytes=i,l&&(v._passthrough=a),l?v._transform=u:v._write=h}function r(v){L("initializing parser stream"),v._parserBytesLeft=0,v._parserBuffers=[],v._parserBuffered=0,v._parserState=n,v._parserCallback=null,typeof v.push=="function"&&(v._parserOutput=v.push.bind(v)),v._parserInit=!0}function t(v,l){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(v)&&v>0,'can only buffer a finite number of bytes > 0, got "'+v+'"'),this._parserInit||r(this),L("buffering %o bytes",v),this._parserBytesLeft=v,this._parserCallback=l,this._parserState=C}function i(v,l){p(!this._parserCallback,'there is already a "callback" set!'),p(v>0,'can only skip > 0 bytes, got "'+v+'"'),this._parserInit||r(this),L("skipping %o bytes",v),this._parserBytesLeft=v,this._parserCallback=l,this._parserState=T}function a(v,l){p(!this._parserCallback,'There is already a "callback" set!'),p(v>0,'can only pass through > 0 bytes, got "'+v+'"'),this._parserInit||r(this),L("passing through %o bytes",v),this._parserBytesLeft=v,this._parserCallback=l,this._parserState=d}function h(v,l,g){this._parserInit||r(this),L("write(%o bytes)",v.length),typeof l=="function"&&(g=l),f(this,v,null,g)}function u(v,l,g){this._parserInit||r(this),L("transform(%o bytes)",v.length),typeof l!="function"&&(l=this._parserOutput),f(this,v,l,g)}function s(v,l,g,M){return v._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):l.length<=v._parserBytesLeft?function(){return m(v,l,g,M)}:function(){var A=l.slice(0,v._parserBytesLeft);return m(v,A,g,function(k){if(k)return M(k);if(l.length>A.length)return function(){return s(v,l.slice(A.length),g,M)}})}}function m(v,l,g,M){if(v._parserBytesLeft-=l.length,L("%o bytes left for stream piece",v._parserBytesLeft),v._parserState===C?(v._parserBuffers.push(l),v._parserBuffered+=l.length):v._parserState===d&&g(l),v._parserBytesLeft===0){var A=v._parserCallback;if(A&&v._parserState===C&&v._parserBuffers.length>1&&(l=Buffer.concat(v._parserBuffers,v._parserBuffered)),v._parserState!==C&&(l=null),v._parserCallback=null,v._parserBuffered=0,v._parserState=n,v._parserBuffers.splice(0),A){var k=[];l&&k.push(l),g&&k.push(g);var w=A.length>k.length;w&&k.push(S(M));var E=A.apply(v,k);if(!w||M===E)return M}}else return M}var f=S(s);function S(v){return function(){for(var l=v.apply(this,arguments);typeof l=="function";)l=l();return l}}},41633:function(V,B,e){var p=e(90386);B=V.exports=e(74469),B.log=C,B.formatArgs=n,B.save=T,B.load=d,B.useColors=L,B.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}B.formatters.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}};function n(r){var t=this.useColors;if(r[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+r[0]+(t?"%c ":" ")+"+"+B.humanize(this.diff),!!t){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var a=0,h=0;r[0].replace(/%[a-zA-Z%]/g,function(u){u!=="%%"&&(a++,u==="%c"&&(h=a))}),r.splice(h,0,i)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function T(r){try{r==null?B.storage.removeItem("debug"):B.storage.debug=r}catch{}}function d(){var r;try{r=B.storage.debug}catch{}return!r&&typeof p<"u"&&"env"in p&&(r=p.env.DEBUG),r}B.enable(d());function y(){try{return window.localStorage}catch{}}},74469:function(V,B,e){B=V.exports=n.debug=n.default=n,B.coerce=y,B.disable=T,B.enable=C,B.enabled=d,B.humanize=e(11375),B.names=[],B.skips=[],B.formatters={};var p;function L(r){var t=0,i;for(i in r)t=(t<<5)-t+r.charCodeAt(i),t|=0;return B.colors[Math.abs(t)%B.colors.length]}function n(r){function t(){if(t.enabled){var i=t,a=+new Date,h=a-(p||a);i.diff=h,i.prev=p,i.curr=a,p=a;for(var u=new Array(arguments.length),s=0;s<u.length;s++)u[s]=arguments[s];u[0]=B.coerce(u[0]),typeof u[0]!="string"&&u.unshift("%O");var m=0;u[0]=u[0].replace(/%([a-zA-Z%])/g,function(S,v){if(S==="%%")return S;m++;var l=B.formatters[v];if(typeof l=="function"){var g=u[m];S=l.call(i,g),u.splice(m,1),m--}return S}),B.formatArgs.call(i,u);var f=t.log||B.log||console.log.bind(console);f.apply(i,u)}}return t.namespace=r,t.enabled=B.enabled(r),t.useColors=B.useColors(),t.color=L(r),typeof B.init=="function"&&B.init(t),t}function C(r){B.save(r),B.names=[],B.skips=[];for(var t=(typeof r=="string"?r:"").split(/[\s,]+/),i=t.length,a=0;a<i;a++)t[a]&&(r=t[a].replace(/\*/g,".*?"),r[0]==="-"?B.skips.push(new RegExp("^"+r.substr(1)+"$")):B.names.push(new RegExp("^"+r+"$")))}function T(){B.enable("")}function d(r){var t,i;for(t=0,i=B.skips.length;t<i;t++)if(B.skips[t].test(r))return!1;for(t=0,i=B.names.length;t<i;t++)if(B.names[t].test(r))return!0;return!1}function y(r){return r instanceof Error?r.stack||r.message:r}},11375:function(V){var B=1e3,e=B*60,p=e*60,L=p*24,n=L*365.25;V.exports=function(r,t){t=t||{};var i=typeof r;if(i==="string"&&r.length>0)return C(r);if(i==="number"&&isNaN(r)===!1)return t.long?d(r):T(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function C(r){if(r=String(r),!(r.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(t){var i=parseFloat(t[1]),a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return i*n;case"days":case"day":case"d":return i*L;case"hours":case"hour":case"hrs":case"hr":case"h":return i*p;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function T(r){return r>=L?Math.round(r/L)+"d":r>=p?Math.round(r/p)+"h":r>=e?Math.round(r/e)+"m":r>=B?Math.round(r/B)+"s":r+"ms"}function d(r){return y(r,L,"day")||y(r,p,"hour")||y(r,e,"minute")||y(r,B,"second")||r+" ms"}function y(r,t,i){if(!(r<t))return r<t*1.5?Math.floor(r/t)+" "+i:Math.ceil(r/t)+" "+i+"s"}},99011:function(V,B,e){var p=e(88641);V.exports=function(n,C,T){if(n==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(u){return u.length===1&&(u=u+u),u}));var d=p.parse(n,{flat:!0,brackets:T.ignore}),y=d[0],r=y.split(C);if(T.escape){for(var t=[],i=0;i<r.length;i++){var a=r[i],h=r[i+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(t.push(a+C+h),i++):t.push(a)}r=t}for(var i=0;i<r.length;i++)d[0]=r[i],r[i]=p.stringify(d,{flat:!0});return r}},68664:function(V){V.exports=B;function B(e){for(var p=e.length,L=new Array(p),n=new Array(p),C=new Array(p),T=new Array(p),d=new Array(p),y=new Array(p),r=0;r<p;++r)L[r]=-1,n[r]=0,C[r]=!1,T[r]=0,d[r]=-1,y[r]=[];var t=0,i=[],a=[];function h(f){var S=[f],v=[f];for(L[f]=n[f]=t,C[f]=!0,t+=1;v.length>0;){f=v[v.length-1];var l=e[f];if(T[f]<l.length){for(var g=T[f];g<l.length;++g){var M=l[g];if(L[M]<0){L[M]=n[M]=t,C[M]=!0,t+=1,S.push(M),v.push(M);break}else C[M]&&(n[f]=Math.min(n[f],n[M])|0);d[M]>=0&&y[f].push(d[M])}T[f]=g}else{if(n[f]===L[f]){for(var A=[],k=[],w=0,g=S.length-1;g>=0;--g){var E=S[g];if(C[E]=!1,A.push(E),k.push(y[E]),w+=y[E].length,d[E]=i.length,E===f){S.length=g;break}}i.push(A);for(var b=new Array(w),g=0;g<k.length;g++)for(var o=0;o<k[g].length;o++)b[--w]=k[g][o];a.push(b)}v.pop()}}}for(var r=0;r<p;++r)L[r]<0&&h(r);for(var u,r=0;r<a.length;r++){var s=a[r];if(s.length!==0){s.sort(function(S,v){return S-v}),u=[s[0]];for(var m=1;m<s.length;m++)s[m]!==s[m-1]&&u.push(s[m]);a[r]=u}}return{components:i,adjacencyList:a}}},7095:function(V,B,e){e.r(B);var p=function(){function r(t,i){var a=[],h=!0,u=!1,s=void 0;try{for(var m=t[Symbol.iterator](),f;!(h=(f=m.next()).done)&&(a.push(f.value),!(i&&a.length===i));h=!0);}catch(S){u=!0,s=S}finally{try{!h&&m.return&&m.return()}finally{if(u)throw s}}return a}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return r(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,n=function(t,i,a,h,u,s,m){var f=t.x,S=t.y;f*=i,S*=a;var v=h*f-u*S,l=u*f+h*S;return{x:v+s,y:l+m}},C=function(t,i){var a=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),h=Math.cos(t),u=Math.sin(t),s=Math.cos(t+i),m=Math.sin(t+i);return[{x:h-u*a,y:u+h*a},{x:s+m*a,y:m-s*a},{x:s,y:m}]},T=function(t,i,a,h){var u=t*h-i*a<0?-1:1,s=t*a+i*h;return s>1&&(s=1),s<-1&&(s=-1),u*Math.acos(s)},d=function(t,i,a,h,u,s,m,f,S,v,l,g){var M=Math.pow(u,2),A=Math.pow(s,2),k=Math.pow(l,2),w=Math.pow(g,2),E=M*A-M*w-A*k;E<0&&(E=0),E/=M*w+A*k,E=Math.sqrt(E)*(m===f?-1:1);var b=E*u/s*g,o=E*-s/u*l,P=v*b-S*o+(t+a)/2,x=S*b+v*o+(i+h)/2,z=(l-b)/u,_=(g-o)/s,G=(-l-b)/u,F=(-g-o)/s,N=T(1,0,z,_),U=T(z,_,G,F);return f===0&&U>0&&(U-=L),f===1&&U<0&&(U+=L),[P,x,N,U]},y=function(t){var i=t.px,a=t.py,h=t.cx,u=t.cy,s=t.rx,m=t.ry,f=t.xAxisRotation,S=f===void 0?0:f,v=t.largeArcFlag,l=v===void 0?0:v,g=t.sweepFlag,M=g===void 0?0:g,A=[];if(s===0||m===0)return[];var k=Math.sin(S*L/360),w=Math.cos(S*L/360),E=w*(i-h)/2+k*(a-u)/2,b=-k*(i-h)/2+w*(a-u)/2;if(E===0&&b===0)return[];s=Math.abs(s),m=Math.abs(m);var o=Math.pow(E,2)/Math.pow(s,2)+Math.pow(b,2)/Math.pow(m,2);o>1&&(s*=Math.sqrt(o),m*=Math.sqrt(o));var P=d(i,a,h,u,s,m,l,M,k,w,E,b),x=p(P,4),z=x[0],_=x[1],G=x[2],F=x[3],N=Math.abs(F)/(L/4);Math.abs(1-N)<1e-7&&(N=1);var U=Math.max(Math.ceil(N),1);F/=U;for(var O=0;O<U;O++)A.push(C(G,F)),G+=F;return A.map(function(H){var Y=n(H[0],s,m,w,k,z,_),q=Y.x,ne=Y.y,oe=n(H[1],s,m,w,k,z,_),he=oe.x,J=oe.y,Z=n(H[2],s,m,w,k,z,_),se=Z.x,$=Z.y;return{x1:q,y1:ne,x2:he,y2:J,x:se,y:$}})};B.default=y},1750:function(V,B,e){var p=e(95616),L=e(65185),n=e(29988),C=e(89546),T=e(32791);V.exports=d;function d(y){if(Array.isArray(y)&&y.length===1&&typeof y[0]=="string"&&(y=y[0]),typeof y=="string"&&(T(C(y),"String is not an SVG path."),y=p(y)),T(Array.isArray(y),"Argument should be a string or an array of path segments."),y=L(y),y=n(y),!y.length)return[0,0,0,0];for(var r=[1/0,1/0,-1/0,-1/0],t=0,i=y.length;t<i;t++)for(var a=y[t].slice(1),h=0;h<a.length;h+=2)a[h+0]<r[0]&&(r[0]=a[h+0]),a[h+1]<r[1]&&(r[1]=a[h+1]),a[h+0]>r[2]&&(r[2]=a[h+0]),a[h+1]>r[3]&&(r[3]=a[h+1]);return r}},29988:function(V,B,e){V.exports=L;var p=e(7095);function L(T){for(var d,y=[],r=0,t=0,i=0,a=0,h=null,u=null,s=0,m=0,f=0,S=T.length;f<S;f++){var v=T[f],l=v[0];switch(l){case"M":i=v[1],a=v[2];break;case"A":var g=p({px:s,py:m,cx:v[6],cy:v[7],rx:v[1],ry:v[2],xAxisRotation:v[3],largeArcFlag:v[4],sweepFlag:v[5]});if(!g.length)continue;for(var M=0,A;M<g.length;M++)A=g[M],v=["C",A.x1,A.y1,A.x2,A.y2,A.x,A.y],M<g.length-1&&y.push(v);break;case"S":var k=s,w=m;(d=="C"||d=="S")&&(k+=k-r,w+=w-t),v=["C",k,w,v[1],v[2],v[3],v[4]];break;case"T":d=="Q"||d=="T"?(h=s*2-h,u=m*2-u):(h=s,u=m),v=C(s,m,h,u,v[1],v[2]);break;case"Q":h=v[1],u=v[2],v=C(s,m,v[1],v[2],v[3],v[4]);break;case"L":v=n(s,m,v[1],v[2]);break;case"H":v=n(s,m,v[1],m);break;case"V":v=n(s,m,s,v[1]);break;case"Z":v=n(s,m,i,a);break}d=l,s=v[v.length-2],m=v[v.length-1],v.length>4?(r=v[v.length-4],t=v[v.length-3]):(r=s,t=m),y.push(v)}return y}function n(T,d,y,r){return["C",T,d,y,r,y,r]}function C(T,d,y,r,t,i){return["C",T/3+.6666666666666666*y,d/3+.6666666666666666*r,t/3+.6666666666666666*y,i/3+.6666666666666666*r,t,i]}},82019:function(V,B,e){var p=e(1750),L=e(95616),n=e(31457),C=e(89546),T=e(44781),d=document.createElement("canvas"),y=d.getContext("2d");V.exports=r;function r(a,h){if(!C(a))throw Error("Argument should be valid svg path string");h||(h={});var u,s;h.shape?(u=h.shape[0],s=h.shape[1]):(u=d.width=h.w||h.width||200,s=d.height=h.h||h.height||200);var m=Math.min(u,s),f=h.stroke||0,S=h.viewbox||h.viewBox||p(a),v=[u/(S[2]-S[0]),s/(S[3]-S[1])],l=Math.min(v[0]||0,v[1]||0)/2;if(y.fillStyle="black",y.fillRect(0,0,u,s),y.fillStyle="white",f&&(typeof f!="number"&&(f=1),f>0?y.strokeStyle="white":y.strokeStyle="black",y.lineWidth=Math.abs(f)),y.translate(u*.5,s*.5),y.scale(l,l),i()){var g=new Path2D(a);y.fill(g),f&&y.stroke(g)}else{var M=L(a);n(y,M),y.fill(),f&&y.stroke()}y.setTransform(1,0,0,1,0,0);var A=T(y,{cutoff:h.cutoff!=null?h.cutoff:.5,radius:h.radius!=null?h.radius:m*.5});return A}var t;function i(){if(t!=null)return t;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return t=!1;var h=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(h);var u=a.getImageData(0,0,1,1);return t=u&&u.data&&u.data[3]===255}},84267:function(V,B,e){var p;(function(L){var n=/^\s+/,C=/\s+$/,T=0,d=L.round,y=L.min,r=L.max,t=L.random;function i(K,ue){if(K=K||"",ue=ue||{},K instanceof i)return K;if(!(this instanceof i))return new i(K,ue);var ie=a(K);this._originalInput=K,this._r=ie.r,this._g=ie.g,this._b=ie.b,this._a=ie.a,this._roundA=d(100*this._a)/100,this._format=ue.format||ie.format,this._gradientType=ue.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=ie.ok,this._tc_id=T++}i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var K=this.toRgb();return(K.r*299+K.g*587+K.b*114)/1e3},getLuminance:function(){var K=this.toRgb(),ue,ie,ce,xe,Le,Ae;return ue=K.r/255,ie=K.g/255,ce=K.b/255,ue<=.03928?xe=ue/12.92:xe=L.pow((ue+.055)/1.055,2.4),ie<=.03928?Le=ie/12.92:Le=L.pow((ie+.055)/1.055,2.4),ce<=.03928?Ae=ce/12.92:Ae=L.pow((ce+.055)/1.055,2.4),.2126*xe+.7152*Le+.0722*Ae},setAlpha:function(K){return this._a=O(K),this._roundA=d(100*this._a)/100,this},toHsv:function(){var K=m(this._r,this._g,this._b);return{h:K.h*360,s:K.s,v:K.v,a:this._a}},toHsvString:function(){var K=m(this._r,this._g,this._b),ue=d(K.h*360),ie=d(K.s*100),ce=d(K.v*100);return this._a==1?"hsv("+ue+", "+ie+"%, "+ce+"%)":"hsva("+ue+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHsl:function(){var K=u(this._r,this._g,this._b);return{h:K.h*360,s:K.s,l:K.l,a:this._a}},toHslString:function(){var K=u(this._r,this._g,this._b),ue=d(K.h*360),ie=d(K.s*100),ce=d(K.l*100);return this._a==1?"hsl("+ue+", "+ie+"%, "+ce+"%)":"hsla("+ue+", "+ie+"%, "+ce+"%, "+this._roundA+")"},toHex:function(K){return S(this._r,this._g,this._b,K)},toHexString:function(K){return"#"+this.toHex(K)},toHex8:function(K){return v(this._r,this._g,this._b,this._a,K)},toHex8String:function(K){return"#"+this.toHex8(K)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(H(this._r,255)*100)+"%",g:d(H(this._g,255)*100)+"%",b:d(H(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(H(this._r,255)*100)+"%, "+d(H(this._g,255)*100)+"%, "+d(H(this._b,255)*100)+"%)":"rgba("+d(H(this._r,255)*100)+"%, "+d(H(this._g,255)*100)+"%, "+d(H(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:N[S(this._r,this._g,this._b,!0)]||!1},toFilter:function(K){var ue="#"+l(this._r,this._g,this._b,this._a),ie=ue,ce=this._gradientType?"GradientType = 1, ":"";if(K){var xe=i(K);ie="#"+l(xe._r,xe._g,xe._b,xe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ce+"startColorstr="+ue+",endColorstr="+ie+")"},toString:function(K){var ue=!!K;K=K||this._format;var ie=!1,ce=this._a<1&&this._a>=0,xe=!ue&&ce&&(K==="hex"||K==="hex6"||K==="hex3"||K==="hex4"||K==="hex8"||K==="name");return xe?K==="name"&&this._a===0?this.toName():this.toRgbString():(K==="rgb"&&(ie=this.toRgbString()),K==="prgb"&&(ie=this.toPercentageRgbString()),(K==="hex"||K==="hex6")&&(ie=this.toHexString()),K==="hex3"&&(ie=this.toHexString(!0)),K==="hex4"&&(ie=this.toHex8String(!0)),K==="hex8"&&(ie=this.toHex8String()),K==="name"&&(ie=this.toName()),K==="hsl"&&(ie=this.toHslString()),K==="hsv"&&(ie=this.toHsvString()),ie||this.toHexString())},clone:function(){return i(this.toString())},_applyModification:function(K,ue){var ie=K.apply(null,[this].concat([].slice.call(ue)));return this._r=ie._r,this._g=ie._g,this._b=ie._b,this.setAlpha(ie._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(K,ue){return K.apply(null,[this].concat([].slice.call(ue)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(o,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(z,arguments)},triad:function(){return this._applyCombination(P,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},i.fromRatio=function(K,ue){if(typeof K=="object"){var ie={};for(var ce in K)K.hasOwnProperty(ce)&&(ce==="a"?ie[ce]=K[ce]:ie[ce]=J(K[ce]));K=ie}return i(K,ue)};function a(K){var ue={r:0,g:0,b:0},ie=1,ce=null,xe=null,Le=null,Ae=!1,Oe=!1;return typeof K=="string"&&(K=le(K)),typeof K=="object"&&(ee(K.r)&&ee(K.g)&&ee(K.b)?(ue=h(K.r,K.g,K.b),Ae=!0,Oe=String(K.r).substr(-1)==="%"?"prgb":"rgb"):ee(K.h)&&ee(K.s)&&ee(K.v)?(ce=J(K.s),xe=J(K.v),ue=f(K.h,ce,xe),Ae=!0,Oe="hsv"):ee(K.h)&&ee(K.s)&&ee(K.l)&&(ce=J(K.s),Le=J(K.l),ue=s(K.h,ce,Le),Ae=!0,Oe="hsl"),K.hasOwnProperty("a")&&(ie=K.a)),ie=O(ie),{ok:Ae,format:K.format||Oe,r:y(255,r(ue.r,0)),g:y(255,r(ue.g,0)),b:y(255,r(ue.b,0)),a:ie}}function h(K,ue,ie){return{r:H(K,255)*255,g:H(ue,255)*255,b:H(ie,255)*255}}function u(K,ue,ie){K=H(K,255),ue=H(ue,255),ie=H(ie,255);var ce=r(K,ue,ie),xe=y(K,ue,ie),Le,Ae,Oe=(ce+xe)/2;if(ce==xe)Le=Ae=0;else{var ze=ce-xe;switch(Ae=Oe>.5?ze/(2-ce-xe):ze/(ce+xe),ce){case K:Le=(ue-ie)/ze+(ue<ie?6:0);break;case ue:Le=(ie-K)/ze+2;break;case ie:Le=(K-ue)/ze+4;break}Le/=6}return{h:Le,s:Ae,l:Oe}}function s(K,ue,ie){var ce,xe,Le;K=H(K,360),ue=H(ue,100),ie=H(ie,100);function Ae(Ee,be,Ce){return Ce<0&&(Ce+=1),Ce>1&&(Ce-=1),Ce<.16666666666666666?Ee+(be-Ee)*6*Ce:Ce<.5?be:Ce<.6666666666666666?Ee+(be-Ee)*(.6666666666666666-Ce)*6:Ee}if(ue===0)ce=xe=Le=ie;else{var Oe=ie<.5?ie*(1+ue):ie+ue-ie*ue,ze=2*ie-Oe;ce=Ae(ze,Oe,K+.3333333333333333),xe=Ae(ze,Oe,K),Le=Ae(ze,Oe,K-.3333333333333333)}return{r:ce*255,g:xe*255,b:Le*255}}function m(K,ue,ie){K=H(K,255),ue=H(ue,255),ie=H(ie,255);var ce=r(K,ue,ie),xe=y(K,ue,ie),Le,Ae,Oe=ce,ze=ce-xe;if(Ae=ce===0?0:ze/ce,ce==xe)Le=0;else{switch(ce){case K:Le=(ue-ie)/ze+(ue<ie?6:0);break;case ue:Le=(ie-K)/ze+2;break;case ie:Le=(K-ue)/ze+4;break}Le/=6}return{h:Le,s:Ae,v:Oe}}function f(K,ue,ie){K=H(K,360)*6,ue=H(ue,100),ie=H(ie,100);var ce=L.floor(K),xe=K-ce,Le=ie*(1-ue),Ae=ie*(1-xe*ue),Oe=ie*(1-(1-xe)*ue),ze=ce%6,Ee=[ie,Ae,Le,Le,Oe,ie][ze],be=[Oe,ie,ie,Ae,Le,Le][ze],Ce=[Le,Le,Oe,ie,ie,Ae][ze];return{r:Ee*255,g:be*255,b:Ce*255}}function S(K,ue,ie,ce){var xe=[he(d(K).toString(16)),he(d(ue).toString(16)),he(d(ie).toString(16))];return ce&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function v(K,ue,ie,ce,xe){var Le=[he(d(K).toString(16)),he(d(ue).toString(16)),he(d(ie).toString(16)),he(Z(ce))];return xe&&Le[0].charAt(0)==Le[0].charAt(1)&&Le[1].charAt(0)==Le[1].charAt(1)&&Le[2].charAt(0)==Le[2].charAt(1)&&Le[3].charAt(0)==Le[3].charAt(1)?Le[0].charAt(0)+Le[1].charAt(0)+Le[2].charAt(0)+Le[3].charAt(0):Le.join("")}function l(K,ue,ie,ce){var xe=[he(Z(ce)),he(d(K).toString(16)),he(d(ue).toString(16)),he(d(ie).toString(16))];return xe.join("")}i.equals=function(K,ue){return!K||!ue?!1:i(K).toRgbString()==i(ue).toRgbString()},i.random=function(){return i.fromRatio({r:t(),g:t(),b:t()})};function g(K,ue){ue=ue===0?0:ue||10;var ie=i(K).toHsl();return ie.s-=ue/100,ie.s=Y(ie.s),i(ie)}function M(K,ue){ue=ue===0?0:ue||10;var ie=i(K).toHsl();return ie.s+=ue/100,ie.s=Y(ie.s),i(ie)}function A(K){return i(K).desaturate(100)}function k(K,ue){ue=ue===0?0:ue||10;var ie=i(K).toHsl();return ie.l+=ue/100,ie.l=Y(ie.l),i(ie)}function w(K,ue){ue=ue===0?0:ue||10;var ie=i(K).toRgb();return ie.r=r(0,y(255,ie.r-d(255*-(ue/100)))),ie.g=r(0,y(255,ie.g-d(255*-(ue/100)))),ie.b=r(0,y(255,ie.b-d(255*-(ue/100)))),i(ie)}function E(K,ue){ue=ue===0?0:ue||10;var ie=i(K).toHsl();return ie.l-=ue/100,ie.l=Y(ie.l),i(ie)}function b(K,ue){var ie=i(K).toHsl(),ce=(ie.h+ue)%360;return ie.h=ce<0?360+ce:ce,i(ie)}function o(K){var ue=i(K).toHsl();return ue.h=(ue.h+180)%360,i(ue)}function P(K){var ue=i(K).toHsl(),ie=ue.h;return[i(K),i({h:(ie+120)%360,s:ue.s,l:ue.l}),i({h:(ie+240)%360,s:ue.s,l:ue.l})]}function x(K){var ue=i(K).toHsl(),ie=ue.h;return[i(K),i({h:(ie+90)%360,s:ue.s,l:ue.l}),i({h:(ie+180)%360,s:ue.s,l:ue.l}),i({h:(ie+270)%360,s:ue.s,l:ue.l})]}function z(K){var ue=i(K).toHsl(),ie=ue.h;return[i(K),i({h:(ie+72)%360,s:ue.s,l:ue.l}),i({h:(ie+216)%360,s:ue.s,l:ue.l})]}function _(K,ue,ie){ue=ue||6,ie=ie||30;var ce=i(K).toHsl(),xe=360/ie,Le=[i(K)];for(ce.h=(ce.h-(xe*ue>>1)+720)%360;--ue;)ce.h=(ce.h+xe)%360,Le.push(i(ce));return Le}function G(K,ue){ue=ue||6;for(var ie=i(K).toHsv(),ce=ie.h,xe=ie.s,Le=ie.v,Ae=[],Oe=1/ue;ue--;)Ae.push(i({h:ce,s:xe,v:Le})),Le=(Le+Oe)%1;return Ae}i.mix=function(K,ue,ie){ie=ie===0?0:ie||50;var ce=i(K).toRgb(),xe=i(ue).toRgb(),Le=ie/100,Ae={r:(xe.r-ce.r)*Le+ce.r,g:(xe.g-ce.g)*Le+ce.g,b:(xe.b-ce.b)*Le+ce.b,a:(xe.a-ce.a)*Le+ce.a};return i(Ae)},i.readability=function(K,ue){var ie=i(K),ce=i(ue);return(L.max(ie.getLuminance(),ce.getLuminance())+.05)/(L.min(ie.getLuminance(),ce.getLuminance())+.05)},i.isReadable=function(K,ue,ie){var ce=i.readability(K,ue),xe,Le;switch(Le=!1,xe=Q(ie),xe.level+xe.size){case"AAsmall":case"AAAlarge":Le=ce>=4.5;break;case"AAlarge":Le=ce>=3;break;case"AAAsmall":Le=ce>=7;break}return Le},i.mostReadable=function(K,ue,ie){var ce=null,xe=0,Le,Ae,Oe,ze;ie=ie||{},Ae=ie.includeFallbackColors,Oe=ie.level,ze=ie.size;for(var Ee=0;Ee<ue.length;Ee++)Le=i.readability(K,ue[Ee]),Le>xe&&(xe=Le,ce=i(ue[Ee]));return i.isReadable(K,ce,{level:Oe,size:ze})||!Ae?ce:(ie.includeFallbackColors=!1,i.mostReadable(K,["#fff","#000"],ie))};var F=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=i.hexNames=U(F);function U(K){var ue={};for(var ie in K)K.hasOwnProperty(ie)&&(ue[K[ie]]=ie);return ue}function O(K){return K=parseFloat(K),(isNaN(K)||K<0||K>1)&&(K=1),K}function H(K,ue){ne(K)&&(K="100%");var ie=oe(K);return K=y(ue,r(0,parseFloat(K))),ie&&(K=parseInt(K*ue,10)/100),L.abs(K-ue)<1e-6?1:K%ue/parseFloat(ue)}function Y(K){return y(1,r(0,K))}function q(K){return parseInt(K,16)}function ne(K){return typeof K=="string"&&K.indexOf(".")!=-1&&parseFloat(K)===1}function oe(K){return typeof K=="string"&&K.indexOf("%")!=-1}function he(K){return K.length==1?"0"+K:""+K}function J(K){return K<=1&&(K=K*100+"%"),K}function Z(K){return L.round(parseFloat(K)*255).toString(16)}function se(K){return q(K)/255}var $=function(){var K="[-\\+]?\\d+%?",ue="[-\\+]?\\d*\\.\\d+%?",ie="(?:"+ue+")|(?:"+K+")",ce="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?",xe="[\\s|\\(]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")[,|\\s]+("+ie+")\\s*\\)?";return{CSS_UNIT:new RegExp(ie),rgb:new RegExp("rgb"+ce),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+ce),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+ce),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ee(K){return!!$.CSS_UNIT.exec(K)}function le(K){K=K.replace(n,"").replace(C,"").toLowerCase();var ue=!1;if(F[K])K=F[K],ue=!0;else if(K=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var ie;return(ie=$.rgb.exec(K))?{r:ie[1],g:ie[2],b:ie[3]}:(ie=$.rgba.exec(K))?{r:ie[1],g:ie[2],b:ie[3],a:ie[4]}:(ie=$.hsl.exec(K))?{h:ie[1],s:ie[2],l:ie[3]}:(ie=$.hsla.exec(K))?{h:ie[1],s:ie[2],l:ie[3],a:ie[4]}:(ie=$.hsv.exec(K))?{h:ie[1],s:ie[2],v:ie[3]}:(ie=$.hsva.exec(K))?{h:ie[1],s:ie[2],v:ie[3],a:ie[4]}:(ie=$.hex8.exec(K))?{r:q(ie[1]),g:q(ie[2]),b:q(ie[3]),a:se(ie[4]),format:ue?"name":"hex8"}:(ie=$.hex6.exec(K))?{r:q(ie[1]),g:q(ie[2]),b:q(ie[3]),format:ue?"name":"hex"}:(ie=$.hex4.exec(K))?{r:q(ie[1]+""+ie[1]),g:q(ie[2]+""+ie[2]),b:q(ie[3]+""+ie[3]),a:se(ie[4]+""+ie[4]),format:ue?"name":"hex8"}:(ie=$.hex3.exec(K))?{r:q(ie[1]+""+ie[1]),g:q(ie[2]+""+ie[2]),b:q(ie[3]+""+ie[3]),format:ue?"name":"hex"}:!1}function Q(K){var ue,ie;return K=K||{level:"AA",size:"small"},ue=(K.level||"AA").toUpperCase(),ie=(K.size||"small").toLowerCase(),ue!=="AA"&&ue!=="AAA"&&(ue="AA"),ie!=="small"&&ie!=="large"&&(ie="small"),{level:ue,size:ie}}V.exports?V.exports=i:(p=(function(){return i}).call(B,e,B,V),p!==void 0&&(V.exports=p))})(Math)},57060:function(V){V.exports=p,V.exports.float32=V.exports.float=p,V.exports.fract32=V.exports.fract=e;var B=new Float32Array(1);function e(L,n){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);n instanceof Float32Array||(n=p(L));for(var C=0,T=n.length;C<T;C++)n[C]=L[C]-n[C];return n}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(B[0]=L,B[0])}},75686:function(V,B,e){var p=e(25677);V.exports=T;var L=96;function n(d,y){var r=p(getComputedStyle(d).getPropertyValue(y));return r[0]*T(r[1],d)}function C(d,y){var r=document.createElement("div");r.style["font-size"]="128"+d,y.appendChild(r);var t=n(r,"font-size")/128;return y.removeChild(r),t}function T(d,y){switch(y=y||document.body,d=(d||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),d){case"%":return y.clientHeight/100;case"ch":case"ex":return C(d,y);case"em":return n(y,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},96892:function(V,B,e){e.d(B,{zL:function(){return C}});function p(y,r){for(var t,i=y.length,a=i-r;a<--i;)t=y[a],y[a++]=y[i],y[i]=t}function L(y){return y}function n(y){if(y==null)return L;var r,t,i=y.scale[0],a=y.scale[1],h=y.translate[0],u=y.translate[1];return function(s,m){m||(r=t=0);var f=2,S=s.length,v=new Array(S);for(v[0]=(r+=s[0])*i+h,v[1]=(t+=s[1])*a+u;f<S;)v[f]=s[f],++f;return v}}function C(y,r){return typeof r=="string"&&(r=y.objects[r]),r.type==="GeometryCollection"?{type:"FeatureCollection",features:r.geometries.map(function(t){return T(y,t)})}:T(y,r)}function T(y,r){var t=r.id,i=r.bbox,a=r.properties==null?{}:r.properties,h=d(y,r);return t==null&&i==null?{type:"Feature",properties:a,geometry:h}:i==null?{type:"Feature",id:t,properties:a,geometry:h}:{type:"Feature",id:t,bbox:i,properties:a,geometry:h}}function d(y,r){var t=n(y.transform),i=y.arcs;function a(S,v){v.length&&v.pop();for(var l=i[S<0?~S:S],g=0,M=l.length;g<M;++g)v.push(t(l[g],g));S<0&&p(v,M)}function h(S){return t(S)}function u(S){for(var v=[],l=0,g=S.length;l<g;++l)a(S[l],v);return v.length<2&&v.push(v[0]),v}function s(S){for(var v=u(S);v.length<4;)v.push(v[0]);return v}function m(S){return S.map(s)}function f(S){var v=S.type,l;switch(v){case"GeometryCollection":return{type:v,geometries:S.geometries.map(f)};case"Point":l=h(S.coordinates);break;case"MultiPoint":l=S.coordinates.map(h);break;case"LineString":l=u(S.arcs);break;case"MultiLineString":l=S.arcs.map(u);break;case"Polygon":l=m(S.arcs);break;case"MultiPolygon":l=S.arcs.map(m);break;default:return null}return{type:v,coordinates:l}}return f(r)}},73116:function(V,B,e){var p=e(24511);V.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},69190:function(V,B,e){var p=e(24582),L=e(47403),n=e(9234),C=e(6048),T=function(d,y){return d.replace("%v",C(y))};V.exports=function(d,y,r){if(!L(r))throw new TypeError(T(y,d));if(!p(d)){if("default"in r)return r.default;if(r.isOptional)return null}var t=n(r.errorMessage);throw p(t)||(t=y),new TypeError(T(t,d))}},18497:function(V){V.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},6048:function(V,B,e){var p=e(18497),L=/[\n\r\u2028\u2029]/g;V.exports=function(n){var C=p(n);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(L,function(T){switch(T){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},47403:function(V,B,e){var p=e(24582),L={object:!0,function:!0,undefined:!0};V.exports=function(n){return p(n)?hasOwnProperty.call(L,typeof n):!1}},82527:function(V,B,e){var p=e(69190),L=e(84985);V.exports=function(n){return L(n)?n:p(n,"%v is not a plain function",arguments[1])}},84985:function(V,B,e){var p=e(73116),L=/^\s*class[\s{/}]/,n=Function.prototype.toString;V.exports=function(C){return!(!p(C)||L.test(n.call(C)))}},24511:function(V,B,e){var p=e(47403);V.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},9234:function(V,B,e){var p=e(24582),L=e(47403),n=Object.prototype.toString;V.exports=function(C){if(!p(C))return null;if(L(C)){var T=C.toString;if(typeof T!="function"||T===n)return null}try{return""+C}catch{return null}}},10424:function(V,B,e){var p=e(69190),L=e(24582);V.exports=function(n){return L(n)?n:p(n,"Cannot use %v",arguments[1])}},24582:function(V){var B=void 0;V.exports=function(e){return e!==B&&e!==null}},58404:function(V,B,e){var p=e(13547),L=e(12129),n=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",y=e.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=L([32,0])),y.BIGUINT64||(y.BIGUINT64=L([32,0])),y.BIGINT64||(y.BIGINT64=L([32,0])),y.BUFFER||(y.BUFFER=L([32,0]));var r=y.DATA,t=y.BUFFER;B.free=function(o){if(n.isBuffer(o))t[p.log2(o.length)].push(o);else{if(Object.prototype.toString.call(o)!=="[object ArrayBuffer]"&&(o=o.buffer),!o)return;var P=o.length||o.byteLength,x=p.log2(P)|0;r[x].push(o)}};function i(b){if(b){var o=b.length||b.byteLength,P=p.log2(o);r[P].push(b)}}function a(b){i(b.buffer)}B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=a,B.freeArrayBuffer=i,B.freeBuffer=function(o){t[p.log2(o.length)].push(o)},B.malloc=function(o,P){if(P===void 0||P==="arraybuffer")return h(o);switch(P){case"uint8":return u(o);case"uint16":return s(o);case"uint32":return m(o);case"int8":return f(o);case"int16":return S(o);case"int32":return v(o);case"float":case"float32":return l(o);case"double":case"float64":return g(o);case"uint8_clamped":return M(o);case"bigint64":return k(o);case"biguint64":return A(o);case"buffer":return E(o);case"data":case"dataview":return w(o);default:return null}return null};function h(o){var o=p.nextPow2(o),P=p.log2(o),x=r[P];return x.length>0?x.pop():new ArrayBuffer(o)}B.mallocArrayBuffer=h;function u(b){return new Uint8Array(h(b),0,b)}B.mallocUint8=u;function s(b){return new Uint16Array(h(2*b),0,b)}B.mallocUint16=s;function m(b){return new Uint32Array(h(4*b),0,b)}B.mallocUint32=m;function f(b){return new Int8Array(h(b),0,b)}B.mallocInt8=f;function S(b){return new Int16Array(h(2*b),0,b)}B.mallocInt16=S;function v(b){return new Int32Array(h(4*b),0,b)}B.mallocInt32=v;function l(b){return new Float32Array(h(4*b),0,b)}B.mallocFloat32=B.mallocFloat=l;function g(b){return new Float64Array(h(8*b),0,b)}B.mallocFloat64=B.mallocDouble=g;function M(b){return C?new Uint8ClampedArray(h(b),0,b):u(b)}B.mallocUint8Clamped=M;function A(b){return T?new BigUint64Array(h(8*b),0,b):null}B.mallocBigUint64=A;function k(b){return d?new BigInt64Array(h(8*b),0,b):null}B.mallocBigInt64=k;function w(b){return new DataView(h(b),0,b)}B.mallocDataView=w;function E(b){b=p.nextPow2(b);var o=p.log2(b),P=t[o];return P.length>0?P.pop():new n(b)}B.mallocBuffer=E,B.clearCache=function(){for(var o=0;o<32;++o)y.UINT8[o].length=0,y.UINT16[o].length=0,y.UINT32[o].length=0,y.INT8[o].length=0,y.INT16[o].length=0,y.INT32[o].length=0,y.FLOAT[o].length=0,y.DOUBLE[o].length=0,y.BIGUINT64[o].length=0,y.BIGINT64[o].length=0,y.UINT8C[o].length=0,r[o].length=0,t[o].length=0}},90448:function(V){var B=/[\'\"]/;V.exports=function(p){return p?(B.test(p.charAt(0))&&(p=p.substr(1)),B.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},93447:function(V){V.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var n=0,C=L.length;n<C;n++){var T=L[n];for(var d in T)if(!(p[d]!==void 0&&!Array.isArray(p[d])&&e[d]===p[d])&&d in p){var y;if(T[d]===!0)y=p[d];else{if(T[d]===!1)continue;if(typeof T[d]=="function"&&(y=T[d](p[d],e,p),y===void 0))continue}e[d]=y}}return e}},20588:function(V,B,e){V.exports=p;function p(n,C){if(L("noDeprecation"))return n;var T=!1;function d(){if(!T){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),T=!0}return n.apply(this,arguments)}return d}function L(n){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[n];return C==null?!1:String(C).toLowerCase()==="true"}},45920:function(V){V.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(V,B,e){var p=e(47216),L=e(65481),n=e(21099),C=e(9187);function T(Le){return Le.call.bind(Le)}var d=typeof BigInt<"u",y=typeof Symbol<"u",r=T(Object.prototype.toString),t=T(Number.prototype.valueOf),i=T(String.prototype.valueOf),a=T(Boolean.prototype.valueOf);if(d)var h=T(BigInt.prototype.valueOf);if(y)var u=T(Symbol.prototype.valueOf);function s(Le,Ae){if(typeof Le!="object")return!1;try{return Ae(Le),!0}catch{return!1}}B.isArgumentsObject=p,B.isGeneratorFunction=L,B.isTypedArray=C;function m(Le){return typeof Promise<"u"&&Le instanceof Promise||Le!==null&&typeof Le=="object"&&typeof Le.then=="function"&&typeof Le.catch=="function"}B.isPromise=m;function f(Le){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Le):C(Le)||q(Le)}B.isArrayBufferView=f;function S(Le){return n(Le)==="Uint8Array"}B.isUint8Array=S;function v(Le){return n(Le)==="Uint8ClampedArray"}B.isUint8ClampedArray=v;function l(Le){return n(Le)==="Uint16Array"}B.isUint16Array=l;function g(Le){return n(Le)==="Uint32Array"}B.isUint32Array=g;function M(Le){return n(Le)==="Int8Array"}B.isInt8Array=M;function A(Le){return n(Le)==="Int16Array"}B.isInt16Array=A;function k(Le){return n(Le)==="Int32Array"}B.isInt32Array=k;function w(Le){return n(Le)==="Float32Array"}B.isFloat32Array=w;function E(Le){return n(Le)==="Float64Array"}B.isFloat64Array=E;function b(Le){return n(Le)==="BigInt64Array"}B.isBigInt64Array=b;function o(Le){return n(Le)==="BigUint64Array"}B.isBigUint64Array=o;function P(Le){return r(Le)==="[object Map]"}P.working=typeof Map<"u"&&P(new Map);function x(Le){return typeof Map>"u"?!1:P.working?P(Le):Le instanceof Map}B.isMap=x;function z(Le){return r(Le)==="[object Set]"}z.working=typeof Set<"u"&&z(new Set);function _(Le){return typeof Set>"u"?!1:z.working?z(Le):Le instanceof Set}B.isSet=_;function G(Le){return r(Le)==="[object WeakMap]"}G.working=typeof WeakMap<"u"&&G(new WeakMap);function F(Le){return typeof WeakMap>"u"?!1:G.working?G(Le):Le instanceof WeakMap}B.isWeakMap=F;function N(Le){return r(Le)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function U(Le){return N(Le)}B.isWeakSet=U;function O(Le){return r(Le)==="[object ArrayBuffer]"}O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer);function H(Le){return typeof ArrayBuffer>"u"?!1:O.working?O(Le):Le instanceof ArrayBuffer}B.isArrayBuffer=H;function Y(Le){return r(Le)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function q(Le){return typeof DataView>"u"?!1:Y.working?Y(Le):Le instanceof DataView}B.isDataView=q;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function oe(Le){return r(Le)==="[object SharedArrayBuffer]"}function he(Le){return typeof ne>"u"?!1:(typeof oe.working>"u"&&(oe.working=oe(new ne)),oe.working?oe(Le):Le instanceof ne)}B.isSharedArrayBuffer=he;function J(Le){return r(Le)==="[object AsyncFunction]"}B.isAsyncFunction=J;function Z(Le){return r(Le)==="[object Map Iterator]"}B.isMapIterator=Z;function se(Le){return r(Le)==="[object Set Iterator]"}B.isSetIterator=se;function $(Le){return r(Le)==="[object Generator]"}B.isGeneratorObject=$;function ee(Le){return r(Le)==="[object WebAssembly.Module]"}B.isWebAssemblyCompiledModule=ee;function le(Le){return s(Le,t)}B.isNumberObject=le;function Q(Le){return s(Le,i)}B.isStringObject=Q;function K(Le){return s(Le,a)}B.isBooleanObject=K;function ue(Le){return d&&s(Le,h)}B.isBigIntObject=ue;function ie(Le){return y&&s(Le,u)}B.isSymbolObject=ie;function ce(Le){return le(Le)||Q(Le)||K(Le)||ue(Le)||ie(Le)}B.isBoxedPrimitive=ce;function xe(Le){return typeof Uint8Array<"u"&&(H(Le)||he(Le))}B.isAnyArrayBuffer=xe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Le){Object.defineProperty(B,Le,{enumerable:!1,value:function(){throw new Error(Le+" is not supported in userland")}})})},43827:function(V,B,e){var p=e(90386),L=Object.getOwnPropertyDescriptors||function(ne){for(var oe=Object.keys(ne),he={},J=0;J<oe.length;J++)he[oe[J]]=Object.getOwnPropertyDescriptor(ne,oe[J]);return he},n=/%[sdj%]/g;B.format=function(q){if(!A(q)){for(var ne=[],oe=0;oe<arguments.length;oe++)ne.push(y(arguments[oe]));return ne.join(" ")}for(var oe=1,he=arguments,J=he.length,Z=String(q).replace(n,function($){if($==="%%")return"%";if(oe>=J)return $;switch($){case"%s":return String(he[oe++]);case"%d":return Number(he[oe++]);case"%j":try{return JSON.stringify(he[oe++])}catch{return"[Circular]"}default:return $}}),se=he[oe];oe<J;se=he[++oe])l(se)||!b(se)?Z+=" "+se:Z+=" "+y(se);return Z},B.deprecate=function(q,ne){if(typeof p<"u"&&p.noDeprecation===!0)return q;if(typeof p>"u")return function(){return B.deprecate(q,ne).apply(this,arguments)};var oe=!1;function he(){if(!oe){if(p.throwDeprecation)throw new Error(ne);p.traceDeprecation?console.trace(ne):console.error(ne),oe=!0}return q.apply(this,arguments)}return he};var C={},T=/^$/;if(p.env.NODE_DEBUG){var d=p.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+d+"$","i")}B.debuglog=function(q){if(q=q.toUpperCase(),!C[q])if(T.test(q)){var ne=p.pid;C[q]=function(){var oe=B.format.apply(B,arguments);console.error("%s %d: %s",q,ne,oe)}}else C[q]=function(){};return C[q]};function y(q,ne){var oe={seen:[],stylize:t};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),v(ne)?oe.showHidden=ne:ne&&B._extend(oe,ne),w(oe.showHidden)&&(oe.showHidden=!1),w(oe.depth)&&(oe.depth=2),w(oe.colors)&&(oe.colors=!1),w(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=r),a(oe,q,oe.depth)}B.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function r(q,ne){var oe=y.styles[ne];return oe?"\x1B["+y.colors[oe][0]+"m"+q+"\x1B["+y.colors[oe][1]+"m":q}function t(q,ne){return q}function i(q){var ne={};return q.forEach(function(oe,he){ne[oe]=!0}),ne}function a(q,ne,oe){if(q.customInspect&&ne&&x(ne.inspect)&&ne.inspect!==B.inspect&&!(ne.constructor&&ne.constructor.prototype===ne)){var he=ne.inspect(oe,q);return A(he)||(he=a(q,he,oe)),he}var J=h(q,ne);if(J)return J;var Z=Object.keys(ne),se=i(Z);if(q.showHidden&&(Z=Object.getOwnPropertyNames(ne)),P(ne)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return u(ne);if(Z.length===0){if(x(ne)){var $=ne.name?": "+ne.name:"";return q.stylize("[Function"+$+"]","special")}if(E(ne))return q.stylize(RegExp.prototype.toString.call(ne),"regexp");if(o(ne))return q.stylize(Date.prototype.toString.call(ne),"date");if(P(ne))return u(ne)}var ee="",le=!1,Q=["{","}"];if(S(ne)&&(le=!0,Q=["[","]"]),x(ne)){var K=ne.name?": "+ne.name:"";ee=" [Function"+K+"]"}if(E(ne)&&(ee=" "+RegExp.prototype.toString.call(ne)),o(ne)&&(ee=" "+Date.prototype.toUTCString.call(ne)),P(ne)&&(ee=" "+u(ne)),Z.length===0&&(!le||ne.length==0))return Q[0]+ee+Q[1];if(oe<0)return E(ne)?q.stylize(RegExp.prototype.toString.call(ne),"regexp"):q.stylize("[Object]","special");q.seen.push(ne);var ue;return le?ue=s(q,ne,oe,se,Z):ue=Z.map(function(ie){return m(q,ne,oe,se,ie,le)}),q.seen.pop(),f(ue,ee,Q)}function h(q,ne){if(w(ne))return q.stylize("undefined","undefined");if(A(ne)){var oe="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(oe,"string")}if(M(ne))return q.stylize(""+ne,"number");if(v(ne))return q.stylize(""+ne,"boolean");if(l(ne))return q.stylize("null","null")}function u(q){return"["+Error.prototype.toString.call(q)+"]"}function s(q,ne,oe,he,J){for(var Z=[],se=0,$=ne.length;se<$;++se)U(ne,String(se))?Z.push(m(q,ne,oe,he,String(se),!0)):Z.push("");return J.forEach(function(ee){ee.match(/^\d+$/)||Z.push(m(q,ne,oe,he,ee,!0))}),Z}function m(q,ne,oe,he,J,Z){var se,$,ee;if(ee=Object.getOwnPropertyDescriptor(ne,J)||{value:ne[J]},ee.get?ee.set?$=q.stylize("[Getter/Setter]","special"):$=q.stylize("[Getter]","special"):ee.set&&($=q.stylize("[Setter]","special")),U(he,J)||(se="["+J+"]"),$||(q.seen.indexOf(ee.value)<0?(l(oe)?$=a(q,ee.value,null):$=a(q,ee.value,oe-1),$.indexOf(`
`)>-1&&(Z?$=$.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(le){return"   "+le}).join(`
`))):$=q.stylize("[Circular]","special")),w(se)){if(Z&&J.match(/^\d+$/))return $;se=JSON.stringify(""+J),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.slice(1,-1),se=q.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=q.stylize(se,"string"))}return se+": "+$}function f(q,ne,oe){var he=q.reduce(function(J,Z){return Z.indexOf(`
`)>=0,J+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return he>60?oe[0]+(ne===""?"":ne+`
 `)+" "+q.join(`,
  `)+" "+oe[1]:oe[0]+ne+" "+q.join(", ")+" "+oe[1]}B.types=e(4936);function S(q){return Array.isArray(q)}B.isArray=S;function v(q){return typeof q=="boolean"}B.isBoolean=v;function l(q){return q===null}B.isNull=l;function g(q){return q==null}B.isNullOrUndefined=g;function M(q){return typeof q=="number"}B.isNumber=M;function A(q){return typeof q=="string"}B.isString=A;function k(q){return typeof q=="symbol"}B.isSymbol=k;function w(q){return q===void 0}B.isUndefined=w;function E(q){return b(q)&&_(q)==="[object RegExp]"}B.isRegExp=E,B.types.isRegExp=E;function b(q){return typeof q=="object"&&q!==null}B.isObject=b;function o(q){return b(q)&&_(q)==="[object Date]"}B.isDate=o,B.types.isDate=o;function P(q){return b(q)&&(_(q)==="[object Error]"||q instanceof Error)}B.isError=P,B.types.isNativeError=P;function x(q){return typeof q=="function"}B.isFunction=x;function z(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}B.isPrimitive=z,B.isBuffer=e(45920);function _(q){return Object.prototype.toString.call(q)}function G(q){return q<10?"0"+q.toString(10):q.toString(10)}var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var q=new Date,ne=[G(q.getHours()),G(q.getMinutes()),G(q.getSeconds())].join(":");return[q.getDate(),F[q.getMonth()],ne].join(" ")}B.log=function(){console.log("%s - %s",N(),B.format.apply(B,arguments))},B.inherits=e(42018),B._extend=function(q,ne){if(!ne||!b(ne))return q;for(var oe=Object.keys(ne),he=oe.length;he--;)q[oe[he]]=ne[oe[he]];return q};function U(q,ne){return Object.prototype.hasOwnProperty.call(q,ne)}var O=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;B.promisify=function(ne){if(typeof ne!="function")throw new TypeError('The "original" argument must be of type Function');if(O&&ne[O]){var oe=ne[O];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,O,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var he,J,Z=new Promise(function(ee,le){he=ee,J=le}),se=[],$=0;$<arguments.length;$++)se.push(arguments[$]);se.push(function(ee,le){ee?J(ee):he(le)});try{ne.apply(this,se)}catch(ee){J(ee)}return Z}return Object.setPrototypeOf(oe,Object.getPrototypeOf(ne)),O&&Object.defineProperty(oe,O,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,L(ne))},B.promisify.custom=O;function H(q,ne){if(!q){var oe=new Error("Promise was rejected with a falsy value");oe.reason=q,q=oe}return ne(q)}function Y(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var oe=[],he=0;he<arguments.length;he++)oe.push(arguments[he]);var J=oe.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var Z=this,se=function(){return J.apply(Z,arguments)};q.apply(this,oe).then(function($){p.nextTick(se.bind(null,null,$))},function($){p.nextTick(H.bind(null,$,se))})}return Object.setPrototypeOf(ne,Object.getPrototypeOf(q)),Object.defineProperties(ne,L(q)),ne}B.callbackify=Y},40372:function(V,B,e){var p=e(86249);V.exports=function(n){return p("webgl",n)}},21099:function(V,B,e){var p=e(31353),L=e(72077),n=e(6614),C=e(40383),T=n("Object.prototype.toString"),d=e(84543)(),y=typeof globalThis>"u"?e.g:globalThis,r=L(),t=n("String.prototype.slice"),i={},a=Object.getPrototypeOf;d&&C&&a&&p(r,function(s){if(typeof y[s]=="function"){var m=new y[s];if(Symbol.toStringTag in m){var f=a(m),S=C(f,Symbol.toStringTag);if(!S){var v=a(f);S=C(v,Symbol.toStringTag)}i[s]=S.get}}});var h=function(m){var f=!1;return p(i,function(S,v){if(!f)try{var l=S.call(m);l===v&&(f=l)}catch{}}),f},u=e(9187);V.exports=function(m){return u(m)?!d||!(Symbol.toStringTag in m)?t(T(m),8,-1):h(m):!1}},3961:function(V,B,e){var p=e(63489),L=e(56131),n=p.instance();function C(u){this.local=this.regionalOptions[u||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(u,s){if(typeof u=="string"){var m=u.match(d);return m?m[0]:""}var f=this._validateYear(u),S=u.month(),v=""+this.toChineseMonth(f,S);return s&&v.length<2&&(v="0"+v),this.isIntercalaryMonth(f,S)&&(v+="i"),v},monthNames:function(u){if(typeof u=="string"){var s=u.match(y);return s?s[0]:""}var m=this._validateYear(u),f=u.month(),S=this.toChineseMonth(m,f),v=["","","","","","","","","","","",""][S-1];return this.isIntercalaryMonth(m,f)&&(v=""+v),v},monthNamesShort:function(u){if(typeof u=="string"){var s=u.match(r);return s?s[0]:""}var m=this._validateYear(u),f=u.month(),S=this.toChineseMonth(m,f),v=["","","","","","","","","","","",""][S-1];return this.isIntercalaryMonth(m,f)&&(v=""+v),v},parseMonth:function(u,s){u=this._validateYear(u);var m=parseInt(s),f;if(isNaN(m))s[0]===""&&(f=!0,s=s.substring(1)),s[s.length-1]===""&&(s=s.substring(0,s.length-1)),m=1+["","","","","","","","","","","",""].indexOf(s);else{var S=s[s.length-1];f=S==="i"||S==="I"}var v=this.toMonthIndex(u,m,f);return v},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(u,s){if(u.year&&(u=u.year()),typeof u!="number"||u<1888||u>2111)throw s.replace(/\{0\}/,this.local.name);return u},toMonthIndex:function(u,s,m){var f=this.intercalaryMonth(u),S=m&&s!==f;if(S||s<1||s>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var v;return f?!m&&s<=f?v=s-1:v=s:v=s-1,v},toChineseMonth:function(u,s){u.year&&(u=u.year(),s=u.month());var m=this.intercalaryMonth(u),f=m?12:11;if(s<0||s>f)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var S;return m?s<m?S=s+1:S=s:S=s+1,S},intercalaryMonth:function(u){u=this._validateYear(u);var s=t[u-t[0]],m=s>>13;return m},isIntercalaryMonth:function(u,s){u.year&&(u=u.year(),s=u.month());var m=this.intercalaryMonth(u);return!!m&&m===s},leapYear:function(u){return this.intercalaryMonth(u)!==0},weekOfYear:function(u,s,m){var f=this._validateYear(u,p.local.invalidyear),S=i[f-i[0]],v=S>>9&4095,l=S>>5&15,g=S&31,M;M=n.newDate(v,l,g),M.add(4-(M.dayOfWeek()||7),"d");var A=this.toJD(u,s,m)-M.toJD();return 1+Math.floor(A/7)},monthsInYear:function(u){return this.leapYear(u)?13:12},daysInMonth:function(u,s){u.year&&(s=u.month(),u=u.year()),u=this._validateYear(u);var m=t[u-t[0]],f=m>>13,S=f?12:11;if(s>S)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var v=m&1<<12-s?30:29;return v},weekDay:function(u,s,m){return(this.dayOfWeek(u,s,m)||7)<6},toJD:function(u,s,m){var f=this._validate(u,v,m,p.local.invalidDate);u=this._validateYear(f.year()),s=f.month(),m=f.day();var S=this.isIntercalaryMonth(u,s),v=this.toChineseMonth(u,s),l=h(u,v,m,S);return n.toJD(l.year,l.month,l.day)},fromJD:function(u){var s=n.fromJD(u),m=a(s.year(),s.month(),s.day()),f=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,f,m.day)},fromString:function(u){var s=u.match(T),m=this._validateYear(+s[1]),f=+s[2],S=!!s[3],v=this.toMonthIndex(m,f,S),l=+s[4];return this.newDate(m,v,l)},add:function(u,s,m){var f=u.year(),S=u.month(),v=this.isIntercalaryMonth(f,S),l=this.toChineseMonth(f,S),g=Object.getPrototypeOf(C.prototype).add.call(this,u,s,m);if(m==="y"){var M=g.year(),A=g.month(),k=this.isIntercalaryMonth(M,l),w=v&&k?this.toMonthIndex(M,l,!0):this.toMonthIndex(M,l,!1);w!==A&&g.month(w)}return g}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,y=/^??[]?/m,r=/^??[]?/m;p.calendars.chinese=C;var t=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],i=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function a(u,s,m,f){var S,v;if(typeof u=="object")S=u,v=s||{};else{var l=typeof u=="number"&&u>=1888&&u<=2111;if(!l)throw new Error("Solar year outside range 1888-2111");var g=typeof s=="number"&&s>=1&&s<=12;if(!g)throw new Error("Solar month outside range 1 - 12");var M=typeof m=="number"&&m>=1&&m<=31;if(!M)throw new Error("Solar day outside range 1 - 31");S={year:u,month:s,day:m},v=f||{}}var A=i[S.year-i[0]],k=S.year<<9|S.month<<5|S.day;v.year=k>=A?S.year:S.year-1,A=i[v.year-i[0]];var w=A>>9&4095,E=A>>5&15,b=A&31,o,P=new Date(w,E-1,b),x=new Date(S.year,S.month-1,S.day);o=Math.round((x-P)/864e5);var z=t[v.year-t[0]],_;for(_=0;_<13;_++){var G=z&1<<12-_?30:29;if(o<G)break;o-=G}var F=z>>13;return!F||_<F?(v.isIntercalary=!1,v.month=1+_):_===F?(v.isIntercalary=!0,v.month=_):(v.isIntercalary=!1,v.month=_),v.day=1+o,v}function h(u,s,m,f,S){var v,l;if(typeof u=="object")l=u,v=s||{};else{var g=typeof u=="number"&&u>=1888&&u<=2111;if(!g)throw new Error("Lunar year outside range 1888-2111");var M=typeof s=="number"&&s>=1&&s<=12;if(!M)throw new Error("Lunar month outside range 1 - 12");var A=typeof m=="number"&&m>=1&&m<=30;if(!A)throw new Error("Lunar day outside range 1 - 30");var k;typeof f=="object"?(k=!1,v=f):(k=!!f,v=S||{}),l={year:u,month:s,day:m,isIntercalary:k}}var w;w=l.day-1;var E=t[l.year-t[0]],b=E>>13,o;b&&(l.month>b||l.isIntercalary)?o=l.month:o=l.month-1;for(var P=0;P<o;P++){var x=E&1<<12-P?30:29;w+=x}var z=i[l.year-i[0]],_=z>>9&4095,G=z>>5&15,F=z&31,N=new Date(_,G-1,F+w);return v.year=N.getFullYear(),v.month=1+N.getMonth(),v.day=N.getDate(),v}},38751:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var T=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),d=T.year()+(T.year()<0?1:0);return d%4===3||d%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,T,d){var y=this.newDate(C,T,d);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var d=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(C,T,d){return(this.dayOfWeek(C,T,d)||7)<6},toJD:function(C,T,d){var y=this._validate(C,T,d,p.local.invalidDate);return C=y.year(),C<0&&C++,y.day()+(y.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var T=Math.floor(C)+.5-this.jdEpoch,d=Math.floor((T-Math.floor((T+366)/1461))/365)+1;d<=0&&d--,T=Math.floor(C)+.5-this.newDate(d,1,1).toJD();var y=Math.floor(T/30)+1,r=T-(y-1)*30+1;return this.newDate(d,y,r)}}),p.calendars.coptic=n},86825:function(V,B,e){var p=e(63489),L=e(56131);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(T,d,y){var r=this.newDate(T,d,y);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(T,d){var y=this._validate(T,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate);return(r.day()+1)%8},weekDay:function(T,d,y){var r=this.dayOfWeek(T,d,y);return r>=2&&r<=6},extraInfo:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate);return{century:C[Math.floor((r.year()-1)/100)+1]||""}},toJD:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate);return T=r.year()+(r.year()<0?1:0),d=r.month(),y=r.day(),y+(d>1?16:0)+(d>2?(d-2)*32:0)+(T-1)*400+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(T/400)+1;T-=(d-1)*400,T+=T>15?16:0;var y=Math.floor(T/32)+1,r=T-(y-1)*32+1;return this.newDate(d<=0?d-1:d,y,r)}});var C={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=n},37715:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var T=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),d=T.year()+(T.year()<0?1:0);return d%4===3||d%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,T,d){var y=this.newDate(C,T,d);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var d=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(C,T,d){return(this.dayOfWeek(C,T,d)||7)<6},toJD:function(C,T,d){var y=this._validate(C,T,d,p.local.invalidDate);return C=y.year(),C<0&&C++,y.day()+(y.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var T=Math.floor(C)+.5-this.jdEpoch,d=Math.floor((T-Math.floor((T+366)/1461))/365)+1;d<=0&&d--,T=Math.floor(C)+.5-this.newDate(d,1,1).toJD();var y=Math.floor(T/30)+1,r=T-(y-1)*30+1;return this.newDate(d,y,r)}}),p.calendars.ethiopian=n},99384:function(V,B,e){var p=e(63489),L=e(56131);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var d=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(T){return T=T<0?T+1:T,C(T*7+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,d,y){var r=this.newDate(T,d,y);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(T){var d=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return T=d.year(),this.toJD(T===-1?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,d){return T.year&&(d=T.month(),T=T.year()),this._validate(T,d,this.minDay,p.local.invalidMonth),d===12&&this.leapYear(T)||d===8&&C(this.daysInYear(T),10)===5?30:d===9&&C(this.daysInYear(T),10)===3?29:this.daysPerMonth[d-1]},weekDay:function(T,d,y){return this.dayOfWeek(T,d,y)!==6},extraInfo:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate);return{yearType:(this.leapYear(r)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(r)%10-3]}},toJD:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate);T=r.year(),d=r.month(),y=r.day();var t=T<=0?T+1:T,i=this.jdEpoch+this._delay1(t)+this._delay2(t)+y+1;if(d<7){for(var a=7;a<=this.monthsInYear(T);a++)i+=this.daysInMonth(T,a);for(var a=1;a<d;a++)i+=this.daysInMonth(T,a)}else for(var a=7;a<d;a++)i+=this.daysInMonth(T,a);return i},_delay1:function(T){var d=Math.floor((235*T-234)/19),y=12084+13753*d,r=d*29+Math.floor(y/25920);return C(3*(r+1),7)<3&&r++,r},_delay2:function(T){var d=this._delay1(T-1),y=this._delay1(T),r=this._delay1(T+1);return r-y===356?2:y-d===382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var d=Math.floor((T-this.jdEpoch)*98496/35975351)-1;T>=this.toJD(d===-1?1:d+1,7,1);)d++;for(var y=T<this.toJD(d,1,1)?7:1;T>this.toJD(d,y,this.daysInMonth(d,y));)y++;var r=T-this.toJD(d,y,1)+1;return this.newDate(d,y,r)}});function C(T,d){return T-d*Math.floor(T/d)}p.calendars.hebrew=n},43805:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var T=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);return(T.year()*11+14)%30<11},weekOfYear:function(C,T,d){var y=this.newDate(C,T,d);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,T){var d=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(C,T,d){return this.dayOfWeek(C,T,d)!==5},toJD:function(C,T,d){var y=this._validate(C,T,d,p.local.invalidDate);return C=y.year(),T=y.month(),d=y.day(),C=C<=0?C+1:C,d+Math.ceil(29.5*(T-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var T=Math.floor((30*(C-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var d=Math.min(12,Math.ceil((C-29-this.toJD(T,1,1))/29.5)+1),y=C-this.toJD(T,d,1)+1;return this.newDate(T,d,y)}}),p.calendars.islamic=n},88874:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(d){var T=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),d=T.year()<0?T.year()+1:T.year();return d%4===0},weekOfYear:function(C,T,d){var y=this.newDate(C,T,d);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var d=this._validate(C,T,this.minDay,p.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(C,T,d){return(this.dayOfWeek(C,T,d)||7)<6},toJD:function(C,T,d){var y=this._validate(C,T,d,p.local.invalidDate);return C=y.year(),T=y.month(),d=y.day(),C<0&&C++,T<=2&&(C--,T+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(T+1))+d-1524.5},fromJD:function(C){var T=Math.floor(C+.5),d=T+1524,y=Math.floor((d-122.1)/365.25),r=Math.floor(365.25*y),t=Math.floor((d-r)/30.6001),i=t-Math.floor(t<14?1:13),a=y-Math.floor(i>2?4716:4715),h=d-r-Math.floor(30.6001*t);return a<=0&&a--,this.newDate(a,i,h)}}),p.calendars.julian=n},83290:function(V,B,e){var p=e(63489),L=e(56131);function n(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(d){var y=this._validate(d,this.minMonth,this.minDay,p.local.invalidYear);d=y.year();var r=Math.floor(d/400);d=d%400,d+=d<0?400:0;var t=Math.floor(d/20);return r+"."+t+"."+d%20},forYear:function(d){if(d=d.split("."),d.length<3)throw"Invalid Mayan year";for(var y=0,r=0;r<d.length;r++){var t=parseInt(d[r],10);if(Math.abs(t)>19||r>0&&t<0)throw"Invalid Mayan year";y=y*20+t}return y},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(d,y,r){return this._validate(d,y,r,p.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(d,y){return this._validate(d,y,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,y,r){var t=this._validate(d,y,r,p.local.invalidDate);return t.day()},weekDay:function(d,y,r){return this._validate(d,y,r,p.local.invalidDate),!0},extraInfo:function(d,y,r){var t=this._validate(d,y,r,p.local.invalidDate),i=t.toJD(),a=this._toHaab(i),h=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[h[0]-1],tzolkinDay:h[0],tzolkinTrecena:h[1]}},_toHaab:function(d){d-=this.jdEpoch;var y=C(d+8+17*20,365);return[Math.floor(y/20)+1,C(y,20)]},_toTzolkin:function(d){return d-=this.jdEpoch,[T(d+20,20),T(d+4,13)]},toJD:function(d,y,r){var t=this._validate(d,y,r,p.local.invalidDate);return t.day()+t.month()*20+t.year()*360+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var y=Math.floor(d/360);d=d%360,d+=d<0?360:0;var r=Math.floor(d/20),t=d%20;return this.newDate(y,r,t)}});function C(d,y){return d-y*Math.floor(d/y)}function T(d,y){return C(d-1,y)+1}p.calendars.mayan=n},29108:function(V,B,e){var p=e(63489),L=e(56131);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar;var C=p.instance("gregorian");L(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var d=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return C.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(T,d,y){var r=this.newDate(T,d,y);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(T,d){var y=this._validate(T,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(T,d,y){return(this.dayOfWeek(T,d,y)||7)<6},toJD:function(t,d,y){var r=this._validate(t,d,y,p.local.invalidMonth),t=r.year();t<0&&t++;for(var i=r.day(),a=1;a<r.month();a++)i+=this.daysPerMonth[a-1];return i+C.toJD(t+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var d=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(d+1,1,1);)d++;for(var y=T-Math.floor(this.toJD(d,1,1)+.5)+1,r=1;y>this.daysInMonth(d,r);)y-=this.daysInMonth(d,r),r++;return this.newDate(d,r,y)}}),p.calendars.nanakshahi=n},55422:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,T,d){var y=this.newDate(C,T,d);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(C){var T=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);if(C=T.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var d=0,y=this.minMonth;y<=12;y++)d+=this.NEPALI_CALENDAR_DATA[C][y];return d},daysInMonth:function(C,T){return C.year&&(T=C.month(),C=C.year()),this._validate(C,T,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[C][T]},weekDay:function(C,T,d){return this.dayOfWeek(C,T,d)!==6},toJD:function(C,T,d){var y=this._validate(C,T,d,p.local.invalidDate);C=y.year(),T=y.month(),d=y.day();var r=p.instance(),t=0,i=T,a=C;this._createMissingCalendarData(C);var h=C-(i>9||i===9&&d>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(T!==9&&(t=d,i--);i!==9;)i<=0&&(i=12,a--),t+=this.NEPALI_CALENDAR_DATA[a][i],i--;return T===9?(t+=d-this.NEPALI_CALENDAR_DATA[a][0],t<0&&(t+=r.daysInYear(h))):t+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],r.newDate(h,1,1).add(t,"d").toJD()},fromJD:function(C){var T=p.instance(),d=T.fromJD(C),y=d.year(),r=d.dayOfYear(),t=y+56;this._createMissingCalendarData(t);for(var i=9,a=this.NEPALI_CALENDAR_DATA[t][0],h=this.NEPALI_CALENDAR_DATA[t][i]-a+1;r>h;)i++,i>12&&(i=1,t++),h+=this.NEPALI_CALENDAR_DATA[t][i];var u=this.NEPALI_CALENDAR_DATA[t][i]-(h-r);return this.newDate(t,i,u)},_createMissingCalendarData:function(C){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var d=C-1;d<C+2;d++)typeof this.NEPALI_CALENDAR_DATA[d]>"u"&&(this.NEPALI_CALENDAR_DATA[d]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=n},94320:function(V,B,e){var p=e(63489),L=e(56131);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var d=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return((d.year()-(d.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(T,d,y){var r=this.newDate(T,d,y);return r.add(-((r.dayOfWeek()+1)%7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(T,d){var y=this._validate(T,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(T,d,y){return this.dayOfWeek(T,d,y)!==5},toJD:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate);T=r.year(),d=r.month(),y=r.day();var t=T-(T>=0?474:473),i=474+C(t,2820);return y+(d<=7?(d-1)*31:(d-1)*30+6)+Math.floor((i*682-110)/2816)+(i-1)*365+Math.floor(t/2820)*1029983+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var d=T-this.toJD(475,1,1),y=Math.floor(d/1029983),r=C(d,1029983),t=2820;if(r!==1029982){var i=Math.floor(r/366),a=C(r,366);t=Math.floor((2134*i+2816*a+2815)/1028522)+i+1}var h=t+2820*y+474;h=h<=0?h-1:h;var u=T-this.toJD(h,1,1)+1,s=u<=186?Math.ceil(u/31):Math.ceil((u-6)/30),m=T-this.toJD(h,s,1)+1;return this.newDate(h,s,m)}});function C(T,d){return T-d*Math.floor(T/d)}p.calendars.persian=n,p.calendars.jalali=n},31320:function(V,B,e){var p=e(63489),L=e(56131),n=p.instance();function C(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),y=this._t2gYear(d.year());return n.leapYear(y)},weekOfYear:function(t,d,y){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(T,d){var y=this._validate(T,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(T,d,y){return(this.dayOfWeek(T,d,y)||7)<6},toJD:function(t,d,y){var r=this._validate(t,d,y,p.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(T){var d=n.fromJD(T),y=this._g2tYear(d.year());return this.newDate(y,d.month(),d.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),p.calendars.taiwan=C},51367:function(V,B,e){var p=e(63489),L=e(56131),n=p.instance();function C(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),y=this._t2gYear(d.year());return n.leapYear(y)},weekOfYear:function(t,d,y){var r=this._validate(t,this.minMonth,this.minDay,p.local.invalidYear),t=this._t2gYear(r.year());return n.weekOfYear(t,r.month(),r.day())},daysInMonth:function(T,d){var y=this._validate(T,d,this.minDay,p.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(T,d,y){return(this.dayOfWeek(T,d,y)||7)<6},toJD:function(t,d,y){var r=this._validate(t,d,y,p.local.invalidDate),t=this._t2gYear(r.year());return n.toJD(t,r.month(),r.day())},fromJD:function(T){var d=n.fromJD(T),y=this._g2tYear(d.year());return this.newDate(y,d.month(),d.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),p.calendars.thai=C},21457:function(V,B,e){var p=e(63489),L=e(56131);function n(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var d=this._validate(T,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(d.year())===355},weekOfYear:function(T,d,y){var r=this.newDate(T,d,y);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var d=0,y=1;y<=12;y++)d+=this.daysInMonth(T,y);return d},daysInMonth:function(T,d){for(var y=this._validate(T,d,this.minDay,p.local.invalidMonth),r=y.toJD()-24e5+.5,t=0,i=0;i<C.length;i++){if(C[i]>r)return C[t]-C[t-1];t++}return 30},weekDay:function(T,d,y){return this.dayOfWeek(T,d,y)!==5},toJD:function(T,d,y){var r=this._validate(T,d,y,p.local.invalidDate),t=12*(r.year()-1)+r.month()-15292,i=r.day()+C[t-1]-1;return i+24e5-.5},fromJD:function(T){for(var d=T-24e5+.5,y=0,r=0;r<C.length&&!(C[r]>d);r++)y++;var t=y+15292,i=Math.floor((t-1)/12),a=i+1,h=t-12*i,u=d-C[y-1]+1;return this.newDate(a,h,u)},isValid:function(T,d,y){var r=p.baseCalendar.prototype.isValid.apply(this,arguments);return r&&(T=T.year!=null?T.year:T,r=T>=1276&&T<=1500),r},_validate:function(T,d,y,r){var t=p.baseCalendar.prototype._validate.apply(this,arguments);if(t.year<1276||t.year>1500)throw r.replace(/\{0\}/,this.local.name);return t}}),p.calendars.ummalqura=n;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(V,B,e){var p=e(56131);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(r,t){r=(r||"gregorian").toLowerCase(),t=t||"";var i=this._localCals[r+"-"+t];if(!i&&this.calendars[r]&&(i=new this.calendars[r](t),this._localCals[r+"-"+t]=i),!i)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,r);return i},newDate:function(r,t,i,a,h){return a=(r!=null&&r.year?r.calendar():typeof a=="string"?this.instance(a,h):a)||this.instance(),a.newDate(r,t,i)},substituteDigits:function(r){return function(t){return(t+"").replace(/[0-9]/g,function(i){return r[i]})}},substituteChineseDigits:function(r,t){return function(i){for(var a="",h=0;i>0;){var u=i%10;a=(u===0?"":r[u]+t[h])+a,h++,i=Math.floor(i/10)}return a.indexOf(r[1]+t[1])===0&&(a=a.substr(1)),a||r[0]}}});function n(r,t,i,a){if(this._calendar=r,this._year=t,this._month=i,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(r,t){return r=""+r,"000000".substring(0,t-r.length)+r}p(n.prototype,{newDate:function(r,t,i){return this._calendar.newDate(r??this,t,i)},year:function(r){return arguments.length===0?this._year:this.set(r,"y")},month:function(r){return arguments.length===0?this._month:this.set(r,"m")},day:function(r){return arguments.length===0?this._day:this.set(r,"d")},date:function(r,t,i){if(!this._calendar.isValid(r,t,i))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=r,this._month=t,this._day=i,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(r,t){return this._calendar.add(this,r,t)},set:function(r,t){return this._calendar.set(this,r,t)},compareTo:function(r){if(this._calendar.name!==r._calendar.name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,r._calendar.local.name);var t=this._year!==r._year?this._year-r._year:this._month!==r._month?this.monthOfYear()-r.monthOfYear():this._day-r._day;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(r){return this._calendar.fromJD(r)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(r){return this._calendar.fromJSDate(r)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function T(){this.shortYearCutoff="+10"}p(T.prototype,{_validateLevel:0,newDate:function(r,t,i){return r==null?this.today():(r.year&&(this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate),i=r.day(),t=r.month(),r=r.year()),new n(this,r,t,i))},today:function(){return this.fromJSDate(new Date)},epoch:function(r){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return t.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return(t.year()<0?"-":"")+C(Math.abs(t.year()),4)},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),12},monthOfYear:function(r,t){var i=this._validate(r,t,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return(i.month()+this.monthsInYear(i)-this.firstMonth)%this.monthsInYear(i)+this.minMonth},fromMonthOfYear:function(r,t){var i=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(r)+this.minMonth;return this._validate(r,i,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth),i},daysInYear:function(r){var t=this._validate(r,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(r,t,i){var a=this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(r,t,i){var a=this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(r,t,i){return this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate),{}},add:function(r,t,i){return this._validate(r,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate),this._correctAdd(r,this._add(r,t,i),t,i)},_add:function(r,t,i){if(this._validateLevel++,i==="d"||i==="w"){var a=r.toJD()+t*(i==="w"?this.daysInWeek():1),h=r.calendar().fromJD(a);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var u=r.year()+(i==="y"?t:0),s=r.monthOfYear()+(i==="m"?t:0),h=r.day(),m=function(v){for(;s<v.minMonth;)u--,s+=v.monthsInYear(u);for(var l=v.monthsInYear(u);s>l-1+v.minMonth;)u++,s-=l,l=v.monthsInYear(u)};i==="y"?(r.month()!==this.fromMonthOfYear(u,s)&&(s=this.newDate(u,r.month(),this.minDay).monthOfYear()),s=Math.min(s,this.monthsInYear(u)),h=Math.min(h,this.daysInMonth(u,this.fromMonthOfYear(u,s)))):i==="m"&&(m(this),h=Math.min(h,this.daysInMonth(u,this.fromMonthOfYear(u,s))));var f=[u,this.fromMonthOfYear(u,s),h];return this._validateLevel--,f}catch(S){throw this._validateLevel--,S}},_correctAdd:function(r,t,i,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(t[0]===0||r.year()>0!=t[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],u=i<0?-1:1;t=this._add(r,i*h[0]+u*h[1],h[2])}return r.date(t[0],t[1],t[2])},set:function(r,t,i){this._validate(r,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate);var a=i==="y"?t:r.year(),h=i==="m"?t:r.month(),u=i==="d"?t:r.day();return(i==="y"||i==="m")&&(u=Math.min(u,this.daysInMonth(a,h))),r.date(a,h,u)},isValid:function(r,t,i){this._validateLevel++;var a=this.hasYearZero||r!==0;if(a){var h=this.newDate(r,t,this.minDay);a=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(h)&&i>=this.minDay&&i-this.minDay<this.daysInMonth(h)}return this._validateLevel--,a},toJSDate:function(r,t,i){var a=this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate);return y.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(r){return this.fromJD(y.instance().fromJSDate(r).toJD())},_validate:function(r,t,i,a){if(r.year){if(this._validateLevel===0&&this.name!==r.calendar().name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,r.calendar().local.name);return r}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(r,t,i))throw a.replace(/\{0\}/,this.local.name);var h=this.newDate(r,t,i);return this._validateLevel--,h}catch(u){throw this._validateLevel--,u}}});function d(r){this.local=this.regionalOptions[r]||this.regionalOptions[""]}d.prototype=new T,p(d.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var t=this._validate(i,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),i=t.year()+(t.year()<0?1:0);return i%4===0&&(i%100!==0||i%400===0)},weekOfYear:function(r,t,i){var a=this.newDate(r,t,i);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(r,t){var i=this._validate(r,t,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return this.daysPerMonth[i.month()-1]+(i.month()===2&&this.leapYear(i.year())?1:0)},weekDay:function(r,t,i){return(this.dayOfWeek(r,t,i)||7)<6},toJD:function(r,t,i){var a=this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate);r=a.year(),t=a.month(),i=a.day(),r<0&&r++,t<3&&(t+=12,r--);var h=Math.floor(r/100),u=2-h+Math.floor(h/4);return Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+i+u-1524.5},fromJD:function(r){var t=Math.floor(r+.5),i=Math.floor((t-186721625e-2)/36524.25);i=t+1+i-Math.floor(i/4);var a=i+1524,h=Math.floor((a-122.1)/365.25),u=Math.floor(365.25*h),s=Math.floor((a-u)/30.6001),m=a-u-Math.floor(s*30.6001),f=s-(s>13.5?13:1),S=h-(f>2.5?4716:4715);return S<=0&&S--,this.newDate(S,f,m)},toJSDate:function(r,t,i){var a=this._validate(r,t,i,y.local.invalidDate||y.regionalOptions[""].invalidDate),h=new Date(a.year(),a.month()-1,a.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(r){return this.newDate(r.getFullYear(),r.getMonth()+1,r.getDate())}});var y=V.exports=new L;y.cdate=n,y.baseCalendar=T,y.calendars.gregorian=d},94338:function(V,B,e){var p=e(56131),L=e(63489);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(n,C){return typeof n!="string"&&(C=n,n=""),this._calendar.formatDate(n||"",this,C)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,C,T){if(typeof n!="string"&&(T=C,C=n,n=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,T=T||{};var d=T.dayNamesShort||this.local.dayNamesShort,y=T.dayNames||this.local.dayNames,r=T.monthNumbers||this.local.monthNumbers,t=T.monthNamesShort||this.local.monthNamesShort,i=T.monthNames||this.local.monthNames;T.calculateWeek||this.local.calculateWeek;for(var a=function(A,k){for(var w=1;M+w<n.length&&n.charAt(M+w)===A;)w++;return M+=w-1,Math.floor(w/(k||1))>1},h=function(A,k,w,E){var b=""+k;if(a(A,E))for(;b.length<w;)b="0"+b;return b},u=function(A,k,w,E){return a(A)?E[k]:w[k]},s=this,m=function(A){return typeof r=="function"?r.call(s,A,a("m")):v(h("m",A.month(),2))},f=function(A,k){return k?typeof i=="function"?i.call(s,A):i[A.month()-s.minMonth]:typeof t=="function"?t.call(s,A):t[A.month()-s.minMonth]},S=this.local.digits,v=function(A){return T.localNumbers&&S?S(A):A},l="",g=!1,M=0;M<n.length;M++)if(g)n.charAt(M)==="'"&&!a("'")?g=!1:l+=n.charAt(M);else switch(n.charAt(M)){case"d":l+=v(h("d",C.day(),2));break;case"D":l+=u("D",C.dayOfWeek(),d,y);break;case"o":l+=h("o",C.dayOfYear(),3);break;case"w":l+=h("w",C.weekOfYear(),2);break;case"m":l+=m(C);break;case"M":l+=f(C,a("M"));break;case"y":l+=a("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":a("Y",2),l+=C.formatYear();break;case"J":l+=C.toJD();break;case"@":l+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":l+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":a("'")?l+="'":g=!0;break;default:l+=n.charAt(M)}return l},parseDate:function(n,C,T){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;n=n||this.local.dateFormat,T=T||{};var d=T.shortYearCutoff||this.shortYearCutoff;d=typeof d!="string"?d:this.today().year()%100+parseInt(d,10);for(var y=T.dayNamesShort||this.local.dayNamesShort,r=T.dayNames||this.local.dayNames,t=T.parseMonth||this.local.parseMonth,i=T.monthNumbers||this.local.monthNumbers,a=T.monthNamesShort||this.local.monthNamesShort,h=T.monthNames||this.local.monthNames,u=-1,s=-1,m=-1,f=-1,S=-1,v=!1,l=!1,g=function(_,G){for(var F=1;P+F<n.length&&n.charAt(P+F)===_;)F++;return P+=F-1,Math.floor(F/(G||1))>1},M=function(_,G){var F=g(_,G),N=[2,3,F?4:2,F?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],U=new RegExp("^-?\\d{1,"+N+"}"),O=C.substring(o).match(U);if(!O)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,o);return o+=O[0].length,parseInt(O[0],10)},A=this,k=function(){if(typeof i=="function"){g("m");var _=i.call(A,C.substring(o));return o+=_.length,_}return M("m")},w=function(_,G,F,N){for(var U=g(_,N)?F:G,O=0;O<U.length;O++)if(C.substr(o,U[O].length).toLowerCase()===U[O].toLowerCase())return o+=U[O].length,O+A.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,o)},E=function(){if(typeof h=="function"){var _=g("M")?h.call(A,C.substring(o)):a.call(A,C.substring(o));return o+=_.length,_}return w("M",a,h)},b=function(){if(C.charAt(o)!==n.charAt(P))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,o);o++},o=0,P=0;P<n.length;P++)if(l)n.charAt(P)==="'"&&!g("'")?l=!1:b();else switch(n.charAt(P)){case"d":f=M("d");break;case"D":w("D",y,r);break;case"o":S=M("o");break;case"w":M("w");break;case"m":m=k();break;case"M":m=E();break;case"y":var x=P;v=!g("y",2),P=x,s=M("y",2);break;case"Y":s=M("Y",2);break;case"J":u=M("J")+.5,C.charAt(o)==="."&&(o++,M("J"));break;case"@":u=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":u=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":o=C.length;break;case"'":g("'")?b():l=!0;break;default:b()}if(o<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(s===-1?s=this.today().year():s<100&&v&&(s+=d===-1?1900:this.today().year()-this.today().year()%100-(s<=d?0:100)),typeof m=="string"&&(m=t.call(this,s,m)),S>-1){m=1,f=S;for(var z=this.daysInMonth(s,m);f>z;z=this.daysInMonth(s,m))m++,f-=z}return u>-1?this.fromJD(u):this.newDate(s,m,f)},determineDate:function(n,C,T,d,y){T&&typeof T!="object"&&(y=d,d=T,T=null),typeof d!="string"&&(y=d,d="");var r=this,t=function(i){try{return r.parseDate(d,i,y)}catch{}i=i.toLowerCase();for(var a=(i.match(/^c/)&&T?T.newDate():null)||r.today(),h=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,u=h.exec(i);u;)a.add(parseInt(u[1],10),u[2]||"d"),u=h.exec(i);return a};return C=C?C.newDate():null,n=n==null?C:typeof n=="string"?t(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?C:r.today().add(n,"d"):r.newDate(n),n}})},69862:function(){},40964:function(){},72077:function(V,B,e){var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;V.exports=function(){for(var C=[],T=0;T<p.length;T++)typeof L[p[T]]=="function"&&(C[C.length]=p[T]);return C}},81684:function(V,B,e){e.d(B,{sX:function(){return Ee},k4:function(){return le}});function p(be,Ce,Ue){be.prototype=Ce.prototype=Ue,Ue.constructor=be}function L(be,Ce){var Ue=Object.create(be.prototype);for(var He in Ce)Ue[He]=Ce[He];return Ue}function n(){}var C=.7,T=1/C,d="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t=/^#([0-9a-f]{3,8})$/,i=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),a=new RegExp("^rgb\\(".concat(r,",").concat(r,",").concat(r,"\\)$")),h=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(y,"\\)$")),u=new RegExp("^rgba\\(".concat(r,",").concat(r,",").concat(r,",").concat(y,"\\)$")),s=new RegExp("^hsl\\(".concat(y,",").concat(r,",").concat(r,"\\)$")),m=new RegExp("^hsla\\(".concat(y,",").concat(r,",").concat(r,",").concat(y,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(n,M,{copy:function(Ce){return Object.assign(new this.constructor,this,Ce)},displayable:function(){return this.rgb().displayable()},hex:S,formatHex:S,formatHex8:v,formatHsl:l,formatRgb:g,toString:g});function S(){return this.rgb().formatHex()}function v(){return this.rgb().formatHex8()}function l(){return N(this).formatHsl()}function g(){return this.rgb().formatRgb()}function M(be){var Ce,Ue;return be=(be+"").trim().toLowerCase(),(Ce=t.exec(be))?(Ue=Ce[1].length,Ce=parseInt(Ce[1],16),Ue===6?A(Ce):Ue===3?new b(Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,(Ce&15)<<4|Ce&15,1):Ue===8?k(Ce>>24&255,Ce>>16&255,Ce>>8&255,(Ce&255)/255):Ue===4?k(Ce>>12&15|Ce>>8&240,Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,((Ce&15)<<4|Ce&15)/255):null):(Ce=i.exec(be))?new b(Ce[1],Ce[2],Ce[3],1):(Ce=a.exec(be))?new b(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,1):(Ce=h.exec(be))?k(Ce[1],Ce[2],Ce[3],Ce[4]):(Ce=u.exec(be))?k(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,Ce[4]):(Ce=s.exec(be))?F(Ce[1],Ce[2]/100,Ce[3]/100,1):(Ce=m.exec(be))?F(Ce[1],Ce[2]/100,Ce[3]/100,Ce[4]):f.hasOwnProperty(be)?A(f[be]):be==="transparent"?new b(NaN,NaN,NaN,0):null}function A(be){return new b(be>>16&255,be>>8&255,be&255,1)}function k(be,Ce,Ue,He){return He<=0&&(be=Ce=Ue=NaN),new b(be,Ce,Ue,He)}function w(be){return be instanceof n||(be=M(be)),be?(be=be.rgb(),new b(be.r,be.g,be.b,be.opacity)):new b}function E(be,Ce,Ue,He){return arguments.length===1?w(be):new b(be,Ce,Ue,He??1)}function b(be,Ce,Ue,He){this.r=+be,this.g=+Ce,this.b=+Ue,this.opacity=+He}p(b,E,L(n,{brighter:function(Ce){return Ce=Ce==null?T:Math.pow(T,Ce),new b(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?C:Math.pow(C,Ce),new b(this.r*Ce,this.g*Ce,this.b*Ce,this.opacity)},rgb:function(){return this},clamp:function(){return new b(_(this.r),_(this.g),_(this.b),z(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:o,formatHex:o,formatHex8:P,formatRgb:x,toString:x}));function o(){return"#".concat(G(this.r)).concat(G(this.g)).concat(G(this.b))}function P(){return"#".concat(G(this.r)).concat(G(this.g)).concat(G(this.b)).concat(G((isNaN(this.opacity)?1:this.opacity)*255))}function x(){var be=z(this.opacity);return"".concat(be===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(be===1?")":", ".concat(be,")"))}function z(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function _(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function G(be){return be=_(be),(be<16?"0":"")+be.toString(16)}function F(be,Ce,Ue,He){return He<=0?be=Ce=Ue=NaN:Ue<=0||Ue>=1?be=Ce=NaN:Ce<=0&&(be=NaN),new O(be,Ce,Ue,He)}function N(be){if(be instanceof O)return new O(be.h,be.s,be.l,be.opacity);if(be instanceof n||(be=M(be)),!be)return new O;if(be instanceof O)return be;be=be.rgb();var Ce=be.r/255,Ue=be.g/255,He=be.b/255,Ie=Math.min(Ce,Ue,He),Ge=Math.max(Ce,Ue,He),at=NaN,lt=Ge-Ie,qe=(Ge+Ie)/2;return lt?(Ce===Ge?at=(Ue-He)/lt+(Ue<He)*6:Ue===Ge?at=(He-Ce)/lt+2:at=(Ce-Ue)/lt+4,lt/=qe<.5?Ge+Ie:2-Ge-Ie,at*=60):lt=qe>0&&qe<1?0:at,new O(at,lt,qe,be.opacity)}function U(be,Ce,Ue,He){return arguments.length===1?N(be):new O(be,Ce,Ue,He??1)}function O(be,Ce,Ue,He){this.h=+be,this.s=+Ce,this.l=+Ue,this.opacity=+He}p(O,U,L(n,{brighter:function(Ce){return Ce=Ce==null?T:Math.pow(T,Ce),new O(this.h,this.s,this.l*Ce,this.opacity)},darker:function(Ce){return Ce=Ce==null?C:Math.pow(C,Ce),new O(this.h,this.s,this.l*Ce,this.opacity)},rgb:function(){var Ce=this.h%360+(this.h<0)*360,Ue=isNaN(Ce)||isNaN(this.s)?0:this.s,He=this.l,Ie=He+(He<.5?He:1-He)*Ue,Ge=2*He-Ie;return new b(q(Ce>=240?Ce-240:Ce+120,Ge,Ie),q(Ce,Ge,Ie),q(Ce<120?Ce+240:Ce-120,Ge,Ie),this.opacity)},clamp:function(){return new O(H(this.h),Y(this.s),Y(this.l),z(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ce=z(this.opacity);return"".concat(Ce===1?"hsl(":"hsla(").concat(H(this.h),", ").concat(Y(this.s)*100,"%, ").concat(Y(this.l)*100,"%").concat(Ce===1?")":", ".concat(Ce,")"))}}));function H(be){return be=(be||0)%360,be<0?be+360:be}function Y(be){return Math.max(0,Math.min(1,be||0))}function q(be,Ce,Ue){return(be<60?Ce+(Ue-Ce)*be/60:be<180?Ue:be<240?Ce+(Ue-Ce)*(240-be)/60:Ce)*255}var ne=function(be){return function(){return be}};function oe(be,Ce){return function(Ue){return be+Ue*Ce}}function he(be,Ce,Ue){return be=Math.pow(be,Ue),Ce=Math.pow(Ce,Ue)-be,Ue=1/Ue,function(He){return Math.pow(be+He*Ce,Ue)}}function J(be){return(be=+be)==1?Z:function(Ce,Ue){return Ue-Ce?he(Ce,Ue,be):ne(isNaN(Ce)?Ue:Ce)}}function Z(be,Ce){var Ue=Ce-be;return Ue?oe(be,Ue):ne(isNaN(be)?Ce:be)}var se=function be(Ce){var Ue=J(Ce);function He(Ie,Ge){var at=Ue((Ie=E(Ie)).r,(Ge=E(Ge)).r),lt=Ue(Ie.g,Ge.g),qe=Ue(Ie.b,Ge.b),et=Z(Ie.opacity,Ge.opacity);return function(ft){return Ie.r=at(ft),Ie.g=lt(ft),Ie.b=qe(ft),Ie.opacity=et(ft),Ie+""}}return He.gamma=be,He}(1);function $(be,Ce){var Ue=Ce?Ce.length:0,He=be?Math.min(Ue,be.length):0,Ie=new Array(He),Ge=new Array(Ue),at;for(at=0;at<He;++at)Ie[at]=Ee(be[at],Ce[at]);for(;at<Ue;++at)Ge[at]=Ce[at];return function(lt){for(at=0;at<He;++at)Ge[at]=Ie[at](lt);return Ge}}function ee(be,Ce){var Ue=new Date;return be=+be,Ce=+Ce,function(He){return Ue.setTime(be*(1-He)+Ce*He),Ue}}function le(be,Ce){return be=+be,Ce=+Ce,function(Ue){return be*(1-Ue)+Ce*Ue}}function Q(be){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},Q(be)}function K(be,Ce){var Ue={},He={},Ie;(be===null||Q(be)!=="object")&&(be={}),(Ce===null||Q(Ce)!=="object")&&(Ce={});for(Ie in Ce)Ie in be?Ue[Ie]=Ee(be[Ie],Ce[Ie]):He[Ie]=Ce[Ie];return function(Ge){for(Ie in Ue)He[Ie]=Ue[Ie](Ge);return He}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(ue.source,"g");function ce(be){return function(){return be}}function xe(be){return function(Ce){return be(Ce)+""}}function Le(be,Ce){var Ue=ue.lastIndex=ie.lastIndex=0,He,Ie,Ge,at=-1,lt=[],qe=[];for(be=be+"",Ce=Ce+"";(He=ue.exec(be))&&(Ie=ie.exec(Ce));)(Ge=Ie.index)>Ue&&(Ge=Ce.slice(Ue,Ge),lt[at]?lt[at]+=Ge:lt[++at]=Ge),(He=He[0])===(Ie=Ie[0])?lt[at]?lt[at]+=Ie:lt[++at]=Ie:(lt[++at]=null,qe.push({i:at,x:le(He,Ie)})),Ue=ie.lastIndex;return Ue<Ce.length&&(Ge=Ce.slice(Ue),lt[at]?lt[at]+=Ge:lt[++at]=Ge),lt.length<2?qe[0]?xe(qe[0].x):ce(Ce):(Ce=qe.length,function(et){for(var ft=0,dt;ft<Ce;++ft)lt[(dt=qe[ft]).i]=dt.x(et);return lt.join("")})}function Ae(be,Ce){Ce||(Ce=[]);var Ue=be?Math.min(Ce.length,be.length):0,He=Ce.slice(),Ie;return function(Ge){for(Ie=0;Ie<Ue;++Ie)He[Ie]=be[Ie]*(1-Ge)+Ce[Ie]*Ge;return He}}function Oe(be){return ArrayBuffer.isView(be)&&!(be instanceof DataView)}function ze(be){"@babel/helpers - typeof";return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},ze(be)}function Ee(be,Ce){var Ue=ze(Ce),He;return Ce==null||Ue==="boolean"?ne(Ce):(Ue==="number"?le:Ue==="string"?(He=M(Ce))?(Ce=He,se):Le:Ce instanceof M?se:Ce instanceof Date?ee:Oe(Ce)?Ae:Array.isArray(Ce)?$:typeof Ce.valueOf!="function"&&typeof Ce.toString!="function"||isNaN(Ce)?K:le)(be,Ce)}},40402:function(V){V.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(V){V.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(V){V.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(V){V.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(V){V.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(V){V.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},re={};function ge(V){var B=re[V];if(B!==void 0)return B.exports;var e=re[V]={exports:{}};return j[V].call(e.exports,e,e.exports,ge),e.exports}(function(){ge.n=function(V){var B=V&&V.__esModule?function(){return V.default}:function(){return V};return ge.d(B,{a:B}),B}})(),function(){ge.d=function(V,B){for(var e in B)ge.o(B,e)&&!ge.o(V,e)&&Object.defineProperty(V,e,{enumerable:!0,get:B[e]})}}(),function(){ge.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){ge.o=function(V,B){return Object.prototype.hasOwnProperty.call(V,B)}}(),function(){ge.r=function(V){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})}}();var Re=ge(27909);return Re}()})})(QC);var rZ=QC.exports;(function(c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var R=re(JC),j=re(rZ);function re(V){return V&&V.__esModule?V:{default:V}}var ge=(0,R.default)(j.default),Re=ge;c.default=Re})(KC);const nZ=f1(KC),aZ=()=>{const[c,R]=ul.useState(null),[j,re]=ul.useState(!1),ge=async V=>{V.preventDefault(),console.log("Form submitted");const B=new FormData,e=document.getElementById("file-upload").files;for(let p=0;p<e.length;p++)B.append("files",e[p]);B.append("species",document.getElementById("species-select").value),B.append("sequenceLength",document.getElementById("sequence-length").value),B.append("binSize",document.getElementById("bin-size").value);try{re(!0);const p=await fetch("http://akitaweb.us-east-2.elasticbeanstalk.com/predict-hic",{method:"POST",credentials:"include",body:B});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const L=await p.json();re(!1),R(L),console.log("Response from the backend:",L)}catch(p){re(!1),console.error("Failed to send form data:",p)}},Re=V=>{const B=V.target.files[0];console.log("File uploaded:",B)};return Gn.jsxs(vw,{height:"100vh",padding:4,alignItems:"flex-start",children:[Gn.jsxs(dw,{alignItems:"flex-end",children:[Gn.jsx(IC,{src:"/akita_log.jpeg",alt:"Akita Logo",boxSize:"60px",marginRight:2}),Gn.jsx(wm,{as:"h1",size:"lg",children:"Akita"})]}),Gn.jsx(eg,{borderBottom:"1px",borderColor:"gray.200",width:"100%"}),Gn.jsxs(dw,{direction:"row",width:"100%",children:[Gn.jsxs(vw,{width:"30%",borderRight:"1px",borderColor:"gray.200",paddingRight:4,marginTop:7,children:[Gn.jsx(wm,{as:"h3",size:"lg",paddingBottom:2,children:"DNA Sequence Input"}),Gn.jsxs(FC,{as:"form",onSubmit:ge,children:[Gn.jsx(I0,{htmlFor:"file-upload",children:"Upload DNA Sequence File"}),Gn.jsx(u1,{type:"file",id:"file-upload",accept:".txt",onChange:Re,multiple:!0,mb:4}),Gn.jsx(I0,{htmlFor:"species-select",children:"Select Species"}),Gn.jsxs(pw,{id:"species-select",placeholder:"Select species",mb:4,children:[Gn.jsx("option",{value:"human",children:"Human"}),Gn.jsx("option",{value:"mouse",children:"Mouse"})]}),Gn.jsx(I0,{htmlFor:"sequence-length",children:"Sequence Length"}),Gn.jsx(u1,{id:"sequence-length",placeholder:"Enter sequence length",mb:4}),Gn.jsx(I0,{htmlFor:"bin-size",children:"Bin Size"}),Gn.jsxs(pw,{id:"bin-size",placeholder:"Select bin size",mb:4,children:[Gn.jsx("option",{value:"100kb",children:"100kb"}),Gn.jsx("option",{value:"1mb",children:"1Mb"})]}),Gn.jsx(_C,{leftIcon:Gn.jsx(tZ,{}),colorScheme:"blue",type:"submit",children:"Submit"})]})]}),Gn.jsxs(eg,{width:"70%",paddingLeft:4,marginTop:7,children:[Gn.jsx(wm,{as:"h3",size:"lg",paddingBottom:4,children:"Hi-C Map"}),Gn.jsx(HC,{children:Gn.jsx(eg,{border:"1px",borderColor:"gray.200",borderRadius:"md",p:4,minHeight:"400px",children:j?Gn.jsx(nx,{size:"xl"}):c&&Gn.jsx(nZ,{data:c.data,layout:c.layout})})})]})]})]})};function iZ(){return Gn.jsx(oD,{basename:"/",children:Gn.jsx(aD,{children:Gn.jsx(a8,{exact:!0,path:"/",element:Gn.jsx(aZ,{})})})})}const oZ={brand:{900:"#1a365d",800:"#153e75",700:"#2a69ac"}},sZ=lV({colors:oZ});Vb.createRoot(document.getElementById("root")).render(Gn.jsx(ul.StrictMode,{children:Gn.jsx(CY,{theme:sZ,children:Gn.jsx(iZ,{})})}));
